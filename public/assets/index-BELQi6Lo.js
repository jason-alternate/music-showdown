function Y1(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const c=Object.getOwnPropertyDescriptor(i,a);c&&Object.defineProperty(t,a,c.get?c:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var Tb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function hf(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){var a=!1;try{a=this instanceof i}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var a=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:function(){return t[i]}})}),n}var Xh={exports:{}},nc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb;function BR(){if(Rb)return nc;Rb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,c){var u=null;if(c!==void 0&&(u=""+c),a.key!==void 0&&(u=""+a.key),"key"in a){c={};for(var f in a)f!=="key"&&(c[f]=a[f])}else c=a;return a=c.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:c}}return nc.Fragment=e,nc.jsx=n,nc.jsxs=n,nc}var Ab;function HR(){return Ab||(Ab=1,Xh.exports=BR()),Xh.exports}var S=HR(),Qh={exports:{}},rc={},Zh={exports:{}},Jh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob;function $R(){return Ob||(Ob=1,(function(t){function e(H,se){var G=H.length;H.push(se);e:for(;0<G;){var De=G-1>>>1,Xe=H[De];if(0<a(Xe,se))H[De]=se,H[G]=Xe,G=De;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var se=H[0],G=H.pop();if(G!==se){H[0]=G;e:for(var De=0,Xe=H.length,z=Xe>>>1;De<z;){var ie=2*(De+1)-1,de=H[ie],ge=ie+1,be=H[ge];if(0>a(de,G))ge<Xe&&0>a(be,de)?(H[De]=be,H[ge]=G,De=ge):(H[De]=de,H[ie]=G,De=ie);else if(ge<Xe&&0>a(be,G))H[De]=be,H[ge]=G,De=ge;else break e}}return se}function a(H,se){var G=H.sortIndex-se.sortIndex;return G!==0?G:H.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var d=[],h=[],m=1,g=null,b=3,x=!1,E=!1,C=!1,M=!1,D=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function j(H){for(var se=n(h);se!==null;){if(se.callback===null)i(h);else if(se.startTime<=H)i(h),se.sortIndex=se.expirationTime,e(d,se);else break;se=n(h)}}function F(H){if(C=!1,j(H),!E)if(n(d)!==null)E=!0,W||(W=!0,we());else{var se=n(h);se!==null&&Ue(F,se.startTime-H)}}var W=!1,Y=-1,X=5,pe=-1;function ve(){return M?!0:!(t.unstable_now()-pe<X)}function Se(){if(M=!1,W){var H=t.unstable_now();pe=H;var se=!0;try{e:{E=!1,C&&(C=!1,N(Y),Y=-1),x=!0;var G=b;try{t:{for(j(H),g=n(d);g!==null&&!(g.expirationTime>H&&ve());){var De=g.callback;if(typeof De=="function"){g.callback=null,b=g.priorityLevel;var Xe=De(g.expirationTime<=H);if(H=t.unstable_now(),typeof Xe=="function"){g.callback=Xe,j(H),se=!0;break t}g===n(d)&&i(d),j(H)}else i(d);g=n(d)}if(g!==null)se=!0;else{var z=n(h);z!==null&&Ue(F,z.startTime-H),se=!1}}break e}finally{g=null,b=G,x=!1}se=void 0}}finally{se?we():W=!1}}}var we;if(typeof k=="function")we=function(){k(Se)};else if(typeof MessageChannel<"u"){var Ke=new MessageChannel,_e=Ke.port2;Ke.port1.onmessage=Se,we=function(){_e.postMessage(null)}}else we=function(){D(Se,0)};function Ue(H,se){Y=D(function(){H(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(H){switch(b){case 1:case 2:case 3:var se=3;break;default:se=b}var G=b;b=se;try{return H()}finally{b=G}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(H,se){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var G=b;b=H;try{return se()}finally{b=G}},t.unstable_scheduleCallback=function(H,se,G){var De=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?De+G:De):G=De,H){case 1:var Xe=-1;break;case 2:Xe=250;break;case 5:Xe=1073741823;break;case 4:Xe=1e4;break;default:Xe=5e3}return Xe=G+Xe,H={id:m++,callback:se,priorityLevel:H,startTime:G,expirationTime:Xe,sortIndex:-1},G>De?(H.sortIndex=G,e(h,H),n(d)===null&&H===n(h)&&(C?(N(Y),Y=-1):C=!0,Ue(F,G-De))):(H.sortIndex=Xe,e(d,H),E||x||(E=!0,W||(W=!0,we()))),H},t.unstable_shouldYield=ve,t.unstable_wrapCallback=function(H){var se=b;return function(){var G=b;b=se;try{return H.apply(this,arguments)}finally{b=G}}}})(Jh)),Jh}var Mb;function VR(){return Mb||(Mb=1,Zh.exports=$R()),Zh.exports}var Wh={exports:{}},ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb;function qR(){if(Pb)return ut;Pb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),b=Symbol.iterator;function x(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function D(z,ie,de){this.props=z,this.context=ie,this.refs=M,this.updater=de||E}D.prototype.isReactComponent={},D.prototype.setState=function(z,ie){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ie,"setState")},D.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function N(){}N.prototype=D.prototype;function k(z,ie,de){this.props=z,this.context=ie,this.refs=M,this.updater=de||E}var j=k.prototype=new N;j.constructor=k,C(j,D.prototype),j.isPureReactComponent=!0;var F=Array.isArray;function W(){}var Y={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function pe(z,ie,de){var ge=de.ref;return{$$typeof:t,type:z,key:ie,ref:ge!==void 0?ge:null,props:de}}function ve(z,ie){return pe(z.type,ie,z.props)}function Se(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function we(z){var ie={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(de){return ie[de]})}var Ke=/\/+/g;function _e(z,ie){return typeof z=="object"&&z!==null&&z.key!=null?we(""+z.key):ie.toString(36)}function Ue(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(W,W):(z.status="pending",z.then(function(ie){z.status==="pending"&&(z.status="fulfilled",z.value=ie)},function(ie){z.status==="pending"&&(z.status="rejected",z.reason=ie)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function H(z,ie,de,ge,be){var Ee=typeof z;(Ee==="undefined"||Ee==="boolean")&&(z=null);var Re=!1;if(z===null)Re=!0;else switch(Ee){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(z.$$typeof){case t:case e:Re=!0;break;case m:return Re=z._init,H(Re(z._payload),ie,de,ge,be)}}if(Re)return be=be(z),Re=ge===""?"."+_e(z,0):ge,F(be)?(de="",Re!=null&&(de=Re.replace(Ke,"$&/")+"/"),H(be,ie,de,"",function(Z){return Z})):be!=null&&(Se(be)&&(be=ve(be,de+(be.key==null||z&&z.key===be.key?"":(""+be.key).replace(Ke,"$&/")+"/")+Re)),ie.push(be)),1;Re=0;var Pt=ge===""?".":ge+":";if(F(z))for(var I=0;I<z.length;I++)ge=z[I],Ee=Pt+_e(ge,I),Re+=H(ge,ie,de,Ee,be);else if(I=x(z),typeof I=="function")for(z=I.call(z),I=0;!(ge=z.next()).done;)ge=ge.value,Ee=Pt+_e(ge,I++),Re+=H(ge,ie,de,Ee,be);else if(Ee==="object"){if(typeof z.then=="function")return H(Ue(z),ie,de,ge,be);throw ie=String(z),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Re}function se(z,ie,de){if(z==null)return z;var ge=[],be=0;return H(z,ge,"","",function(Ee){return ie.call(de,Ee,be++)}),ge}function G(z){if(z._status===-1){var ie=z._result;ie=ie(),ie.then(function(de){(z._status===0||z._status===-1)&&(z._status=1,z._result=de)},function(de){(z._status===0||z._status===-1)&&(z._status=2,z._result=de)}),z._status===-1&&(z._status=0,z._result=ie)}if(z._status===1)return z._result.default;throw z._result}var De=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Xe={map:se,forEach:function(z,ie,de){se(z,function(){ie.apply(this,arguments)},de)},count:function(z){var ie=0;return se(z,function(){ie++}),ie},toArray:function(z){return se(z,function(ie){return ie})||[]},only:function(z){if(!Se(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return ut.Activity=g,ut.Children=Xe,ut.Component=D,ut.Fragment=n,ut.Profiler=a,ut.PureComponent=k,ut.StrictMode=i,ut.Suspense=d,ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,ut.__COMPILER_RUNTIME={__proto__:null,c:function(z){return Y.H.useMemoCache(z)}},ut.cache=function(z){return function(){return z.apply(null,arguments)}},ut.cacheSignal=function(){return null},ut.cloneElement=function(z,ie,de){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ge=C({},z.props),be=z.key;if(ie!=null)for(Ee in ie.key!==void 0&&(be=""+ie.key),ie)!X.call(ie,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&ie.ref===void 0||(ge[Ee]=ie[Ee]);var Ee=arguments.length-2;if(Ee===1)ge.children=de;else if(1<Ee){for(var Re=Array(Ee),Pt=0;Pt<Ee;Pt++)Re[Pt]=arguments[Pt+2];ge.children=Re}return pe(z.type,be,ge)},ut.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:c,_context:z},z},ut.createElement=function(z,ie,de){var ge,be={},Ee=null;if(ie!=null)for(ge in ie.key!==void 0&&(Ee=""+ie.key),ie)X.call(ie,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(be[ge]=ie[ge]);var Re=arguments.length-2;if(Re===1)be.children=de;else if(1<Re){for(var Pt=Array(Re),I=0;I<Re;I++)Pt[I]=arguments[I+2];be.children=Pt}if(z&&z.defaultProps)for(ge in Re=z.defaultProps,Re)be[ge]===void 0&&(be[ge]=Re[ge]);return pe(z,Ee,be)},ut.createRef=function(){return{current:null}},ut.forwardRef=function(z){return{$$typeof:f,render:z}},ut.isValidElement=Se,ut.lazy=function(z){return{$$typeof:m,_payload:{_status:-1,_result:z},_init:G}},ut.memo=function(z,ie){return{$$typeof:h,type:z,compare:ie===void 0?null:ie}},ut.startTransition=function(z){var ie=Y.T,de={};Y.T=de;try{var ge=z(),be=Y.S;be!==null&&be(de,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(W,De)}catch(Ee){De(Ee)}finally{ie!==null&&de.types!==null&&(ie.types=de.types),Y.T=ie}},ut.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},ut.use=function(z){return Y.H.use(z)},ut.useActionState=function(z,ie,de){return Y.H.useActionState(z,ie,de)},ut.useCallback=function(z,ie){return Y.H.useCallback(z,ie)},ut.useContext=function(z){return Y.H.useContext(z)},ut.useDebugValue=function(){},ut.useDeferredValue=function(z,ie){return Y.H.useDeferredValue(z,ie)},ut.useEffect=function(z,ie){return Y.H.useEffect(z,ie)},ut.useEffectEvent=function(z){return Y.H.useEffectEvent(z)},ut.useId=function(){return Y.H.useId()},ut.useImperativeHandle=function(z,ie,de){return Y.H.useImperativeHandle(z,ie,de)},ut.useInsertionEffect=function(z,ie){return Y.H.useInsertionEffect(z,ie)},ut.useLayoutEffect=function(z,ie){return Y.H.useLayoutEffect(z,ie)},ut.useMemo=function(z,ie){return Y.H.useMemo(z,ie)},ut.useOptimistic=function(z,ie){return Y.H.useOptimistic(z,ie)},ut.useReducer=function(z,ie,de){return Y.H.useReducer(z,ie,de)},ut.useRef=function(z){return Y.H.useRef(z)},ut.useState=function(z){return Y.H.useState(z)},ut.useSyncExternalStore=function(z,ie,de){return Y.H.useSyncExternalStore(z,ie,de)},ut.useTransition=function(){return Y.H.useTransition()},ut.version="19.2.0",ut}var Nb;function Uc(){return Nb||(Nb=1,Wh.exports=qR()),Wh.exports}var ep={exports:{}},Vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db;function YR(){if(Db)return Vn;Db=1;var t=Uc();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function c(d,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:d,containerInfo:h,implementation:m}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Vn.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return c(d,h,null,m)},Vn.flushSync=function(d){var h=u.T,m=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=h,i.p=m,i.d.f()}},Vn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},Vn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Vn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,g=f(m,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:x}):m==="script"&&i.d.X(d,{crossOrigin:g,integrity:b,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Vn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=f(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},Vn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=f(m,h.crossOrigin);i.d.L(d,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Vn.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=f(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},Vn.requestFormReset=function(d){i.d.r(d)},Vn.unstable_batchedUpdates=function(d,h){return d(h)},Vn.useFormState=function(d,h,m){return u.H.useFormState(d,h,m)},Vn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Vn.version="19.2.0",Vn}var kb;function F1(){if(kb)return ep.exports;kb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ep.exports=YR(),ep.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jb;function FR(){if(jb)return rc;jb=1;var t=VR(),e=Uc(),n=F1();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function c(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(c(r)!==r)throw Error(i(188))}function h(r){var s=r.alternate;if(!s){if(s=c(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,l=s;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(l=p.return,l!==null){o=l;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return d(p),r;if(y===l)return d(p),s;y=y.sibling}throw Error(i(188))}if(o.return!==l.return)o=p,l=y;else{for(var _=!1,O=p.child;O;){if(O===o){_=!0,o=p,l=y;break}if(O===l){_=!0,l=p,o=y;break}O=O.sibling}if(!_){for(O=y.child;O;){if(O===o){_=!0,o=y,l=p;break}if(O===l){_=!0,l=y,o=p;break}O=O.sibling}if(!_)throw Error(i(189))}}if(o.alternate!==l)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function m(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=m(r),s!==null)return s;r=r.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),k=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),ve=Symbol.for("react.memo_cache_sentinel"),Se=Symbol.iterator;function we(r){return r===null||typeof r!="object"?null:(r=Se&&r[Se]||r["@@iterator"],typeof r=="function"?r:null)}var Ke=Symbol.for("react.client.reference");function _e(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===Ke?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case D:return"Profiler";case M:return"StrictMode";case F:return"Suspense";case W:return"SuspenseList";case pe:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case E:return"Portal";case k:return r.displayName||"Context";case N:return(r._context.displayName||"Context")+".Consumer";case j:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Y:return s=r.displayName||null,s!==null?s:_e(r.type)||"Memo";case X:s=r._payload,r=r._init;try{return _e(r(s))}catch{}}return null}var Ue=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},De=[],Xe=-1;function z(r){return{current:r}}function ie(r){0>Xe||(r.current=De[Xe],De[Xe]=null,Xe--)}function de(r,s){Xe++,De[Xe]=r.current,r.current=s}var ge=z(null),be=z(null),Ee=z(null),Re=z(null);function Pt(r,s){switch(de(Ee,s),de(be,r),de(ge,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?Xv(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=Xv(s),r=Qv(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ie(ge),de(ge,r)}function I(){ie(ge),ie(be),ie(Ee)}function Z(r){r.memoizedState!==null&&de(Re,r);var s=ge.current,o=Qv(s,r.type);s!==o&&(de(be,r),de(ge,o))}function ue(r){be.current===r&&(ie(ge),ie(be)),Re.current===r&&(ie(Re),Jo._currentValue=G)}var Oe,Le;function je(r){if(Oe===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Oe=s&&s[1]||"",Le=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oe+r+Le}var Et=!1;function xt(r,s){if(!r||Et)return"";Et=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ne){var J=ne}Reflect.construct(r,[],he)}else{try{he.call()}catch(ne){J=ne}r.call(he.prototype)}}else{try{throw Error()}catch(ne){J=ne}(he=r())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ne){if(ne&&J&&typeof ne.stack=="string")return[ne.stack,J.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=l.DetermineComponentFrameRoot(),_=y[0],O=y[1];if(_&&O){var U=_.split(`
`),Q=O.split(`
`);for(p=l=0;l<U.length&&!U[l].includes("DetermineComponentFrameRoot");)l++;for(;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;if(l===U.length||p===Q.length)for(l=U.length-1,p=Q.length-1;1<=l&&0<=p&&U[l]!==Q[p];)p--;for(;1<=l&&0<=p;l--,p--)if(U[l]!==Q[p]){if(l!==1||p!==1)do if(l--,p--,0>p||U[l]!==Q[p]){var oe=`
`+U[l].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=l&&0<=p);break}}}finally{Et=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?je(o):""}function dn(r,s){switch(r.tag){case 26:case 27:case 5:return je(r.type);case 16:return je("Lazy");case 13:return r.child!==s&&s!==null?je("Suspense Fallback"):je("Suspense");case 19:return je("SuspenseList");case 0:case 15:return xt(r.type,!1);case 11:return xt(r.type.render,!1);case 1:return xt(r.type,!0);case 31:return je("Activity");default:return""}}function Nt(r){try{var s="",o=null;do s+=dn(r,o),o=r,r=r.return;while(r);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Ct=t.unstable_scheduleCallback,an=t.unstable_cancelCallback,En=t.unstable_shouldYield,ct=t.unstable_requestPaint,ft=t.unstable_now,en=t.unstable_getCurrentPriorityLevel,Cn=t.unstable_ImmediatePriority,Er=t.unstable_UserBlockingPriority,Mn=t.unstable_NormalPriority,qi=t.unstable_LowPriority,mi=t.unstable_IdlePriority,Yi=t.log,As=t.unstable_setDisableYieldValue,Cr=null,hn=null;function jn(r){if(typeof Yi=="function"&&As(r),hn&&typeof hn.setStrictMode=="function")try{hn.setStrictMode(Cr,r)}catch{}}var pn=Math.clz32?Math.clz32:Qr,Xr=Math.log,zr=Math.LN2;function Qr(r){return r>>>=0,r===0?32:31-(Xr(r)/zr|0)|0}var Zr=256,re=262144,Ge=4194304;function Dt(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function zt(r,s,o){var l=r.pendingLanes;if(l===0)return 0;var p=0,y=r.suspendedLanes,_=r.pingedLanes;r=r.warmLanes;var O=l&134217727;return O!==0?(l=O&~y,l!==0?p=Dt(l):(_&=O,_!==0?p=Dt(_):o||(o=O&~r,o!==0&&(p=Dt(o))))):(O=l&~y,O!==0?p=Dt(O):_!==0?p=Dt(_):o||(o=l&~r,o!==0&&(p=Dt(o)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:p}function It(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function ur(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fa(){var r=Ge;return Ge<<=1,(Ge&62914560)===0&&(Ge=4194304),r}function Os(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Fi(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Yf(r,s,o,l,p,y){var _=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var O=r.entanglements,U=r.expirationTimes,Q=r.hiddenUpdates;for(o=_&~o;0<o;){var oe=31-pn(o),he=1<<oe;O[oe]=0,U[oe]=-1;var J=Q[oe];if(J!==null)for(Q[oe]=null,oe=0;oe<J.length;oe++){var ne=J[oe];ne!==null&&(ne.lane&=-536870913)}o&=~he}l!==0&&$n(r,l,0),y!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=y&~(_&~s))}function $n(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var l=31-pn(s);r.entangledLanes|=s,r.entanglements[l]=r.entanglements[l]|1073741824|o&261930}function po(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var l=31-pn(o),p=1<<l;p&s|r[l]&s&&(r[l]|=s),o&=~p}}function w(r,s){var o=s&-s;return o=(o&42)!==0?1:A(o),(o&(r.suspendedLanes|s))!==0?0:o}function A(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function R(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function v(){var r=se.p;return r!==0?r:(r=window.event,r===void 0?32:bb(r.type))}function P(r,s){var o=se.p;try{return se.p=r,s()}finally{se.p=o}}var $=Math.random().toString(36).slice(2),V="__reactFiber$"+$,ae="__reactProps$"+$,xe="__reactContainer$"+$,ze="__reactEvents$"+$,Ae="__reactListeners$"+$,At="__reactHandles$"+$,Pe="__reactResources$"+$,Je="__reactMarker$"+$;function nt(r){delete r[V],delete r[ae],delete r[ze],delete r[Ae],delete r[At]}function it(r){var s=r[V];if(s)return s;for(var o=r.parentNode;o;){if(s=o[xe]||o[V]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=rb(r);r!==null;){if(o=r[V])return o;r=rb(r)}return s}r=o,o=r.parentNode}return null}function rt(r){if(r=r[V]||r[xe]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function We(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function et(r){var s=r[Pe];return s||(s=r[Pe]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ie(r){r[Je]=!0}var ke=new Set,Fe={};function Ce(r,s){Me(r,s),Me(r+"Capture",s)}function Me(r,s){for(Fe[r]=s,r=0;r<s.length;r++)ke.add(s[r])}var He=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Te={},ee={};function te(r){return vt.call(ee,r)?!0:vt.call(Te,r)?!1:He.test(r)?ee[r]=!0:(Te[r]=!0,!1)}function ye(r,s,o){if(te(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function fe(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function ce(r,s,o,l){if(l===null)r.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+l)}}function me(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Qe(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function lt(r,s,o){var l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(_){o=""+_,y.call(this,_)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function at(r){if(!r._valueTracker){var s=Qe(r)?"checked":"value";r._valueTracker=lt(r,s,""+r[s])}}function ot(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),l="";return r&&(l=Qe(r)?r.checked?"true":"false":r.value),r=l,r!==o?(s.setValue(r),!0):!1}function L(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var pt=/[\n"\\]/g;function st(r){return r.replace(pt,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function St(r,s,o,l,p,y,_,O){r.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?r.type=_:r.removeAttribute("type"),s!=null?_==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+me(s)):r.value!==""+me(s)&&(r.value=""+me(s)):_!=="submit"&&_!=="reset"||r.removeAttribute("value"),s!=null?bt(r,_,me(s)):o!=null?bt(r,_,me(o)):l!=null&&r.removeAttribute("value"),p==null&&y!=null&&(r.defaultChecked=!!y),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.name=""+me(O):r.removeAttribute("name")}function dt(r,s,o,l,p,y,_,O){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){at(r);return}o=o!=null?""+me(o):"",s=s!=null?""+me(s):o,O||s===r.value||(r.value=s),r.defaultValue=s}l=l??p,l=typeof l!="function"&&typeof l!="symbol"&&!!l,r.checked=O?r.checked:!!l,r.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.name=_),at(r)}function bt(r,s,o){s==="number"&&L(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function mt(r,s,o,l){if(r=r.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<r.length;o++)p=s.hasOwnProperty("$"+r[o].value),r[o].selected!==p&&(r[o].selected=p),p&&l&&(r[o].defaultSelected=!0)}else{for(o=""+me(o),s=null,p=0;p<r.length;p++){if(r[p].value===o){r[p].selected=!0,l&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function tn(r,s,o){if(s!=null&&(s=""+me(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+me(o):""}function kt(r,s,o,l){if(s==null){if(l!=null){if(o!=null)throw Error(i(92));if(Ue(l)){if(1<l.length)throw Error(i(93));l=l[0]}o=l}o==null&&(o=""),s=o}o=me(s),r.defaultValue=o,l=r.textContent,l===o&&l!==""&&l!==null&&(r.value=l),at(r)}function Vt(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var nn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qt(r,s,o){var l=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?l?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":l?r.setProperty(s,o):typeof o!="number"||o===0||nn.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function cn(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var l in o)!o.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="");for(var p in s)l=s[p],s.hasOwnProperty(p)&&o[p]!==l&&Qt(r,p,l)}else for(var y in s)s.hasOwnProperty(y)&&Qt(r,y,s[y])}function vn(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fc(r){return Nn.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function yi(){}var Ff=null;function Gf(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var da=null,ha=null;function Ky(r){var s=rt(r);if(s&&(r=s.stateNode)){var o=r[ae]||null;e:switch(r=s.stateNode,s.type){case"input":if(St(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+st(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var l=o[s];if(l!==r&&l.form===r.form){var p=l[ae]||null;if(!p)throw Error(i(90));St(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)l=o[s],l.form===r.form&&ot(l)}break e;case"textarea":tn(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&mt(r,!!o.multiple,s,!1)}}}var Kf=!1;function Xy(r,s,o){if(Kf)return r(s,o);Kf=!0;try{var l=r(s);return l}finally{if(Kf=!1,(da!==null||ha!==null)&&(Dl(),da&&(s=da,r=ha,ha=da=null,Ky(s),r)))for(s=0;s<r.length;s++)Ky(r[s])}}function mo(r,s){var o=r.stateNode;if(o===null)return null;var l=o[ae]||null;if(l===null)return null;o=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(r=r.type,l=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!l;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xf=!1;if(gi)try{var yo={};Object.defineProperty(yo,"passive",{get:function(){Xf=!0}}),window.addEventListener("test",yo,yo),window.removeEventListener("test",yo,yo)}catch{Xf=!1}var Gi=null,Qf=null,Gc=null;function Qy(){if(Gc)return Gc;var r,s=Qf,o=s.length,l,p="value"in Gi?Gi.value:Gi.textContent,y=p.length;for(r=0;r<o&&s[r]===p[r];r++);var _=o-r;for(l=1;l<=_&&s[o-l]===p[y-l];l++);return Gc=p.slice(r,1<l?1-l:void 0)}function Kc(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Xc(){return!0}function Zy(){return!1}function er(r){function s(o,l,p,y,_){this._reactName=o,this._targetInst=p,this.type=l,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var O in r)r.hasOwnProperty(O)&&(o=r[O],this[O]=o?o(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Xc:Zy,this.isPropagationStopped=Zy,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Xc)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Xc)},persist:function(){},isPersistent:Xc}),s}var Ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qc=er(Ms),go=g({},Ms,{view:0,detail:0}),zC=er(go),Zf,Jf,vo,Zc=g({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ed,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==vo&&(vo&&r.type==="mousemove"?(Zf=r.screenX-vo.screenX,Jf=r.screenY-vo.screenY):Jf=Zf=0,vo=r),Zf)},movementY:function(r){return"movementY"in r?r.movementY:Jf}}),Jy=er(Zc),IC=g({},Zc,{dataTransfer:0}),BC=er(IC),HC=g({},go,{relatedTarget:0}),Wf=er(HC),$C=g({},Ms,{animationName:0,elapsedTime:0,pseudoElement:0}),VC=er($C),qC=g({},Ms,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),YC=er(qC),FC=g({},Ms,{data:0}),Wy=er(FC),GC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function QC(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=XC[r])?!!s[r]:!1}function ed(){return QC}var ZC=g({},go,{key:function(r){if(r.key){var s=GC[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Kc(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?KC[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ed,charCode:function(r){return r.type==="keypress"?Kc(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Kc(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),JC=er(ZC),WC=g({},Zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eg=er(WC),eT=g({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ed}),tT=er(eT),nT=g({},Ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),rT=er(nT),iT=g({},Zc,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),sT=er(iT),aT=g({},Ms,{newState:0,oldState:0}),oT=er(aT),cT=[9,13,27,32],td=gi&&"CompositionEvent"in window,bo=null;gi&&"documentMode"in document&&(bo=document.documentMode);var lT=gi&&"TextEvent"in window&&!bo,tg=gi&&(!td||bo&&8<bo&&11>=bo),ng=" ",rg=!1;function ig(r,s){switch(r){case"keyup":return cT.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var pa=!1;function uT(r,s){switch(r){case"compositionend":return sg(s);case"keypress":return s.which!==32?null:(rg=!0,ng);case"textInput":return r=s.data,r===ng&&rg?null:r;default:return null}}function fT(r,s){if(pa)return r==="compositionend"||!td&&ig(r,s)?(r=Qy(),Gc=Qf=Gi=null,pa=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return tg&&s.locale!=="ko"?null:s.data;default:return null}}var dT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ag(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!dT[r.type]:s==="textarea"}function og(r,s,o,l){da?ha?ha.push(l):ha=[l]:da=l,s=Bl(s,"onChange"),0<s.length&&(o=new Qc("onChange","change",null,o,l),r.push({event:o,listeners:s}))}var xo=null,So=null;function hT(r){Vv(r,0)}function Jc(r){var s=We(r);if(ot(s))return r}function cg(r,s){if(r==="change")return s}var lg=!1;if(gi){var nd;if(gi){var rd="oninput"in document;if(!rd){var ug=document.createElement("div");ug.setAttribute("oninput","return;"),rd=typeof ug.oninput=="function"}nd=rd}else nd=!1;lg=nd&&(!document.documentMode||9<document.documentMode)}function fg(){xo&&(xo.detachEvent("onpropertychange",dg),So=xo=null)}function dg(r){if(r.propertyName==="value"&&Jc(So)){var s=[];og(s,So,r,Gf(r)),Xy(hT,s)}}function pT(r,s,o){r==="focusin"?(fg(),xo=s,So=o,xo.attachEvent("onpropertychange",dg)):r==="focusout"&&fg()}function mT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Jc(So)}function yT(r,s){if(r==="click")return Jc(s)}function gT(r,s){if(r==="input"||r==="change")return Jc(s)}function vT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var fr=typeof Object.is=="function"?Object.is:vT;function _o(r,s){if(fr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),l=Object.keys(s);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var p=o[l];if(!vt.call(s,p)||!fr(r[p],s[p]))return!1}return!0}function hg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function pg(r,s){var o=hg(r);r=0;for(var l;o;){if(o.nodeType===3){if(l=r+o.textContent.length,r<=s&&l>=s)return{node:o,offset:s-r};r=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=hg(o)}}function mg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?mg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function yg(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=L(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=L(r.document)}return s}function id(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var bT=gi&&"documentMode"in document&&11>=document.documentMode,ma=null,sd=null,wo=null,ad=!1;function gg(r,s,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ad||ma==null||ma!==L(l)||(l=ma,"selectionStart"in l&&id(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),wo&&_o(wo,l)||(wo=l,l=Bl(sd,"onSelect"),0<l.length&&(s=new Qc("onSelect","select",null,s,o),r.push({event:s,listeners:l}),s.target=ma)))}function Ps(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var ya={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},od={},vg={};gi&&(vg=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function Ns(r){if(od[r])return od[r];if(!ya[r])return r;var s=ya[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in vg)return od[r]=s[o];return r}var bg=Ns("animationend"),xg=Ns("animationiteration"),Sg=Ns("animationstart"),xT=Ns("transitionrun"),ST=Ns("transitionstart"),_T=Ns("transitioncancel"),_g=Ns("transitionend"),wg=new Map,cd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cd.push("scrollEnd");function Ir(r,s){wg.set(r,s),Ce(s,[r])}var Wc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Tr=[],ga=0,ld=0;function el(){for(var r=ga,s=ld=ga=0;s<r;){var o=Tr[s];Tr[s++]=null;var l=Tr[s];Tr[s++]=null;var p=Tr[s];Tr[s++]=null;var y=Tr[s];if(Tr[s++]=null,l!==null&&p!==null){var _=l.pending;_===null?p.next=p:(p.next=_.next,_.next=p),l.pending=p}y!==0&&Eg(o,p,y)}}function tl(r,s,o,l){Tr[ga++]=r,Tr[ga++]=s,Tr[ga++]=o,Tr[ga++]=l,ld|=l,r.lanes|=l,r=r.alternate,r!==null&&(r.lanes|=l)}function ud(r,s,o,l){return tl(r,s,o,l),nl(r)}function Ds(r,s){return tl(r,null,null,s),nl(r)}function Eg(r,s,o){r.lanes|=o;var l=r.alternate;l!==null&&(l.lanes|=o);for(var p=!1,y=r.return;y!==null;)y.childLanes|=o,l=y.alternate,l!==null&&(l.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(p=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,p&&s!==null&&(p=31-pn(o),r=y.hiddenUpdates,l=r[p],l===null?r[p]=[s]:l.push(s),s.lane=o|536870912),y):null}function nl(r){if(50<Yo)throw Yo=0,bh=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var va={};function wT(r,s,o,l){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(r,s,o,l){return new wT(r,s,o,l)}function fd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function vi(r,s){var o=r.alternate;return o===null?(o=dr(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Cg(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function rl(r,s,o,l,p,y){var _=0;if(l=r,typeof r=="function")fd(r)&&(_=1);else if(typeof r=="string")_=AR(r,o,ge.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case pe:return r=dr(31,o,s,p),r.elementType=pe,r.lanes=y,r;case C:return ks(o.children,p,y,s);case M:_=8,p|=24;break;case D:return r=dr(12,o,s,p|2),r.elementType=D,r.lanes=y,r;case F:return r=dr(13,o,s,p),r.elementType=F,r.lanes=y,r;case W:return r=dr(19,o,s,p),r.elementType=W,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:_=10;break e;case N:_=9;break e;case j:_=11;break e;case Y:_=14;break e;case X:_=16,l=null;break e}_=29,o=Error(i(130,r===null?"null":typeof r,"")),l=null}return s=dr(_,o,s,p),s.elementType=r,s.type=l,s.lanes=y,s}function ks(r,s,o,l){return r=dr(7,r,l,s),r.lanes=o,r}function dd(r,s,o){return r=dr(6,r,null,s),r.lanes=o,r}function Tg(r){var s=dr(18,null,null,0);return s.stateNode=r,s}function hd(r,s,o){return s=dr(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Rg=new WeakMap;function Rr(r,s){if(typeof r=="object"&&r!==null){var o=Rg.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Nt(s)},Rg.set(r,s),s)}return{value:r,source:s,stack:Nt(s)}}var ba=[],xa=0,il=null,Eo=0,Ar=[],Or=0,Ki=null,Jr=1,Wr="";function bi(r,s){ba[xa++]=Eo,ba[xa++]=il,il=r,Eo=s}function Ag(r,s,o){Ar[Or++]=Jr,Ar[Or++]=Wr,Ar[Or++]=Ki,Ki=r;var l=Jr;r=Wr;var p=32-pn(l)-1;l&=~(1<<p),o+=1;var y=32-pn(s)+p;if(30<y){var _=p-p%5;y=(l&(1<<_)-1).toString(32),l>>=_,p-=_,Jr=1<<32-pn(s)+p|o<<p|l,Wr=y+r}else Jr=1<<y|o<<p|l,Wr=r}function pd(r){r.return!==null&&(bi(r,1),Ag(r,1,0))}function md(r){for(;r===il;)il=ba[--xa],ba[xa]=null,Eo=ba[--xa],ba[xa]=null;for(;r===Ki;)Ki=Ar[--Or],Ar[Or]=null,Wr=Ar[--Or],Ar[Or]=null,Jr=Ar[--Or],Ar[Or]=null}function Og(r,s){Ar[Or++]=Jr,Ar[Or++]=Wr,Ar[Or++]=Ki,Jr=s.id,Wr=s.overflow,Ki=r}var Ln=null,Zt=null,Ot=!1,Xi=null,Mr=!1,yd=Error(i(519));function Qi(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Co(Rr(s,r)),yd}function Mg(r){var s=r.stateNode,o=r.type,l=r.memoizedProps;switch(s[V]=r,s[ae]=l,o){case"dialog":wt("cancel",s),wt("close",s);break;case"iframe":case"object":case"embed":wt("load",s);break;case"video":case"audio":for(o=0;o<Go.length;o++)wt(Go[o],s);break;case"source":wt("error",s);break;case"img":case"image":case"link":wt("error",s),wt("load",s);break;case"details":wt("toggle",s);break;case"input":wt("invalid",s),dt(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":wt("invalid",s);break;case"textarea":wt("invalid",s),kt(s,l.value,l.defaultValue,l.children)}o=l.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||l.suppressHydrationWarning===!0||Gv(s.textContent,o)?(l.popover!=null&&(wt("beforetoggle",s),wt("toggle",s)),l.onScroll!=null&&wt("scroll",s),l.onScrollEnd!=null&&wt("scrollend",s),l.onClick!=null&&(s.onclick=yi),s=!0):s=!1,s||Qi(r,!0)}function Pg(r){for(Ln=r.return;Ln;)switch(Ln.tag){case 5:case 31:case 13:Mr=!1;return;case 27:case 3:Mr=!0;return;default:Ln=Ln.return}}function Sa(r){if(r!==Ln)return!1;if(!Ot)return Pg(r),Ot=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||kh(r.type,r.memoizedProps)),o=!o),o&&Zt&&Qi(r),Pg(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Zt=nb(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Zt=nb(r)}else s===27?(s=Zt,us(r.type)?(r=Ih,Ih=null,Zt=r):Zt=s):Zt=Ln?Nr(r.stateNode.nextSibling):null;return!0}function js(){Zt=Ln=null,Ot=!1}function gd(){var r=Xi;return r!==null&&(ir===null?ir=r:ir.push.apply(ir,r),Xi=null),r}function Co(r){Xi===null?Xi=[r]:Xi.push(r)}var vd=z(null),Ls=null,xi=null;function Zi(r,s,o){de(vd,s._currentValue),s._currentValue=o}function Si(r){r._currentValue=vd.current,ie(vd)}function bd(r,s,o){for(;r!==null;){var l=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),r===o)break;r=r.return}}function xd(r,s,o,l){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var y=p.dependencies;if(y!==null){var _=p.child;y=y.firstContext;e:for(;y!==null;){var O=y;y=p;for(var U=0;U<s.length;U++)if(O.context===s[U]){y.lanes|=o,O=y.alternate,O!==null&&(O.lanes|=o),bd(y.return,o,r),l||(_=null);break e}y=O.next}}else if(p.tag===18){if(_=p.return,_===null)throw Error(i(341));_.lanes|=o,y=_.alternate,y!==null&&(y.lanes|=o),bd(_,o,r),_=null}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}}function _a(r,s,o,l){r=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var _=p.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var O=p.type;fr(p.pendingProps.value,_.value)||(r!==null?r.push(O):r=[O])}}else if(p===Re.current){if(_=p.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(Jo):r=[Jo])}p=p.return}r!==null&&xd(s,r,o,l),s.flags|=262144}function sl(r){for(r=r.firstContext;r!==null;){if(!fr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Us(r){Ls=r,xi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Un(r){return Ng(Ls,r)}function al(r,s){return Ls===null&&Us(r),Ng(r,s)}function Ng(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},xi===null){if(r===null)throw Error(i(308));xi=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else xi=xi.next=s;return o}var ET=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,l){r.push(l)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},CT=t.unstable_scheduleCallback,TT=t.unstable_NormalPriority,bn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sd(){return{controller:new ET,data:new Map,refCount:0}}function To(r){r.refCount--,r.refCount===0&&CT(TT,function(){r.controller.abort()})}var Ro=null,_d=0,wa=0,Ea=null;function RT(r,s){if(Ro===null){var o=Ro=[];_d=0,wa=Ch(),Ea={status:"pending",value:void 0,then:function(l){o.push(l)}}}return _d++,s.then(Dg,Dg),s}function Dg(){if(--_d===0&&Ro!==null){Ea!==null&&(Ea.status="fulfilled");var r=Ro;Ro=null,wa=0,Ea=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function AT(r,s){var o=[],l={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return r.then(function(){l.status="fulfilled",l.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(l.status="rejected",l.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),l}var kg=H.S;H.S=function(r,s){gv=ft(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&RT(r,s),kg!==null&&kg(r,s)};var zs=z(null);function wd(){var r=zs.current;return r!==null?r:Xt.pooledCache}function ol(r,s){s===null?de(zs,zs.current):de(zs,s.pool)}function jg(){var r=wd();return r===null?null:{parent:bn._currentValue,pool:r}}var Ca=Error(i(460)),Ed=Error(i(474)),cl=Error(i(542)),ll={then:function(){}};function Lg(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Ug(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(yi,yi),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Ig(r),r;default:if(typeof s.status=="string")s.then(yi,yi);else{if(r=Xt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(l){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=l}},function(l){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Ig(r),r}throw Bs=s,Ca}}function Is(r){try{var s=r._init;return s(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Bs=o,Ca):o}}var Bs=null;function zg(){if(Bs===null)throw Error(i(459));var r=Bs;return Bs=null,r}function Ig(r){if(r===Ca||r===cl)throw Error(i(483))}var Ta=null,Ao=0;function ul(r){var s=Ao;return Ao+=1,Ta===null&&(Ta=[]),Ug(Ta,r,s)}function Oo(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function fl(r,s){throw s.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Bg(r){function s(q,B){if(r){var K=q.deletions;K===null?(q.deletions=[B],q.flags|=16):K.push(B)}}function o(q,B){if(!r)return null;for(;B!==null;)s(q,B),B=B.sibling;return null}function l(q){for(var B=new Map;q!==null;)q.key!==null?B.set(q.key,q):B.set(q.index,q),q=q.sibling;return B}function p(q,B){return q=vi(q,B),q.index=0,q.sibling=null,q}function y(q,B,K){return q.index=K,r?(K=q.alternate,K!==null?(K=K.index,K<B?(q.flags|=67108866,B):K):(q.flags|=67108866,B)):(q.flags|=1048576,B)}function _(q){return r&&q.alternate===null&&(q.flags|=67108866),q}function O(q,B,K,le){return B===null||B.tag!==6?(B=dd(K,q.mode,le),B.return=q,B):(B=p(B,K),B.return=q,B)}function U(q,B,K,le){var Ze=K.type;return Ze===C?oe(q,B,K.props.children,le,K.key):B!==null&&(B.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===X&&Is(Ze)===B.type)?(B=p(B,K.props),Oo(B,K),B.return=q,B):(B=rl(K.type,K.key,K.props,null,q.mode,le),Oo(B,K),B.return=q,B)}function Q(q,B,K,le){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=hd(K,q.mode,le),B.return=q,B):(B=p(B,K.children||[]),B.return=q,B)}function oe(q,B,K,le,Ze){return B===null||B.tag!==7?(B=ks(K,q.mode,le,Ze),B.return=q,B):(B=p(B,K),B.return=q,B)}function he(q,B,K){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=dd(""+B,q.mode,K),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case x:return K=rl(B.type,B.key,B.props,null,q.mode,K),Oo(K,B),K.return=q,K;case E:return B=hd(B,q.mode,K),B.return=q,B;case X:return B=Is(B),he(q,B,K)}if(Ue(B)||we(B))return B=ks(B,q.mode,K,null),B.return=q,B;if(typeof B.then=="function")return he(q,ul(B),K);if(B.$$typeof===k)return he(q,al(q,B),K);fl(q,B)}return null}function J(q,B,K,le){var Ze=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Ze!==null?null:O(q,B,""+K,le);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return K.key===Ze?U(q,B,K,le):null;case E:return K.key===Ze?Q(q,B,K,le):null;case X:return K=Is(K),J(q,B,K,le)}if(Ue(K)||we(K))return Ze!==null?null:oe(q,B,K,le,null);if(typeof K.then=="function")return J(q,B,ul(K),le);if(K.$$typeof===k)return J(q,B,al(q,K),le);fl(q,K)}return null}function ne(q,B,K,le,Ze){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return q=q.get(K)||null,O(B,q,""+le,Ze);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case x:return q=q.get(le.key===null?K:le.key)||null,U(B,q,le,Ze);case E:return q=q.get(le.key===null?K:le.key)||null,Q(B,q,le,Ze);case X:return le=Is(le),ne(q,B,K,le,Ze)}if(Ue(le)||we(le))return q=q.get(K)||null,oe(B,q,le,Ze,null);if(typeof le.then=="function")return ne(q,B,K,ul(le),Ze);if(le.$$typeof===k)return ne(q,B,K,al(B,le),Ze);fl(B,le)}return null}function Be(q,B,K,le){for(var Ze=null,jt=null,Ye=B,yt=B=0,Rt=null;Ye!==null&&yt<K.length;yt++){Ye.index>yt?(Rt=Ye,Ye=null):Rt=Ye.sibling;var Lt=J(q,Ye,K[yt],le);if(Lt===null){Ye===null&&(Ye=Rt);break}r&&Ye&&Lt.alternate===null&&s(q,Ye),B=y(Lt,B,yt),jt===null?Ze=Lt:jt.sibling=Lt,jt=Lt,Ye=Rt}if(yt===K.length)return o(q,Ye),Ot&&bi(q,yt),Ze;if(Ye===null){for(;yt<K.length;yt++)Ye=he(q,K[yt],le),Ye!==null&&(B=y(Ye,B,yt),jt===null?Ze=Ye:jt.sibling=Ye,jt=Ye);return Ot&&bi(q,yt),Ze}for(Ye=l(Ye);yt<K.length;yt++)Rt=ne(Ye,q,yt,K[yt],le),Rt!==null&&(r&&Rt.alternate!==null&&Ye.delete(Rt.key===null?yt:Rt.key),B=y(Rt,B,yt),jt===null?Ze=Rt:jt.sibling=Rt,jt=Rt);return r&&Ye.forEach(function(ms){return s(q,ms)}),Ot&&bi(q,yt),Ze}function tt(q,B,K,le){if(K==null)throw Error(i(151));for(var Ze=null,jt=null,Ye=B,yt=B=0,Rt=null,Lt=K.next();Ye!==null&&!Lt.done;yt++,Lt=K.next()){Ye.index>yt?(Rt=Ye,Ye=null):Rt=Ye.sibling;var ms=J(q,Ye,Lt.value,le);if(ms===null){Ye===null&&(Ye=Rt);break}r&&Ye&&ms.alternate===null&&s(q,Ye),B=y(ms,B,yt),jt===null?Ze=ms:jt.sibling=ms,jt=ms,Ye=Rt}if(Lt.done)return o(q,Ye),Ot&&bi(q,yt),Ze;if(Ye===null){for(;!Lt.done;yt++,Lt=K.next())Lt=he(q,Lt.value,le),Lt!==null&&(B=y(Lt,B,yt),jt===null?Ze=Lt:jt.sibling=Lt,jt=Lt);return Ot&&bi(q,yt),Ze}for(Ye=l(Ye);!Lt.done;yt++,Lt=K.next())Lt=ne(Ye,q,yt,Lt.value,le),Lt!==null&&(r&&Lt.alternate!==null&&Ye.delete(Lt.key===null?yt:Lt.key),B=y(Lt,B,yt),jt===null?Ze=Lt:jt.sibling=Lt,jt=Lt);return r&&Ye.forEach(function(IR){return s(q,IR)}),Ot&&bi(q,yt),Ze}function Kt(q,B,K,le){if(typeof K=="object"&&K!==null&&K.type===C&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case x:e:{for(var Ze=K.key;B!==null;){if(B.key===Ze){if(Ze=K.type,Ze===C){if(B.tag===7){o(q,B.sibling),le=p(B,K.props.children),le.return=q,q=le;break e}}else if(B.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===X&&Is(Ze)===B.type){o(q,B.sibling),le=p(B,K.props),Oo(le,K),le.return=q,q=le;break e}o(q,B);break}else s(q,B);B=B.sibling}K.type===C?(le=ks(K.props.children,q.mode,le,K.key),le.return=q,q=le):(le=rl(K.type,K.key,K.props,null,q.mode,le),Oo(le,K),le.return=q,q=le)}return _(q);case E:e:{for(Ze=K.key;B!==null;){if(B.key===Ze)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){o(q,B.sibling),le=p(B,K.children||[]),le.return=q,q=le;break e}else{o(q,B);break}else s(q,B);B=B.sibling}le=hd(K,q.mode,le),le.return=q,q=le}return _(q);case X:return K=Is(K),Kt(q,B,K,le)}if(Ue(K))return Be(q,B,K,le);if(we(K)){if(Ze=we(K),typeof Ze!="function")throw Error(i(150));return K=Ze.call(K),tt(q,B,K,le)}if(typeof K.then=="function")return Kt(q,B,ul(K),le);if(K.$$typeof===k)return Kt(q,B,al(q,K),le);fl(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,B!==null&&B.tag===6?(o(q,B.sibling),le=p(B,K),le.return=q,q=le):(o(q,B),le=dd(K,q.mode,le),le.return=q,q=le),_(q)):o(q,B)}return function(q,B,K,le){try{Ao=0;var Ze=Kt(q,B,K,le);return Ta=null,Ze}catch(Ye){if(Ye===Ca||Ye===cl)throw Ye;var jt=dr(29,Ye,null,q.mode);return jt.lanes=le,jt.return=q,jt}finally{}}}var Hs=Bg(!0),Hg=Bg(!1),Ji=!1;function Cd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Td(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Wi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function es(r,s,o){var l=r.updateQueue;if(l===null)return null;if(l=l.shared,(Bt&2)!==0){var p=l.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),l.pending=s,s=nl(r),Eg(r,null,o),s}return tl(r,l,s,o),nl(r)}function Mo(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var l=s.lanes;l&=r.pendingLanes,o|=l,s.lanes=o,po(r,o)}}function Rd(r,s){var o=r.updateQueue,l=r.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=_:y=y.next=_,o=o.next}while(o!==null);y===null?p=y=s:y=y.next=s}else p=y=s;o={baseState:l.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:l.shared,callbacks:l.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Ad=!1;function Po(){if(Ad){var r=Ea;if(r!==null)throw r}}function No(r,s,o,l){Ad=!1;var p=r.updateQueue;Ji=!1;var y=p.firstBaseUpdate,_=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var U=O,Q=U.next;U.next=null,_===null?y=Q:_.next=Q,_=U;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,O=oe.lastBaseUpdate,O!==_&&(O===null?oe.firstBaseUpdate=Q:O.next=Q,oe.lastBaseUpdate=U))}if(y!==null){var he=p.baseState;_=0,oe=Q=U=null,O=y;do{var J=O.lane&-536870913,ne=J!==O.lane;if(ne?(Tt&J)===J:(l&J)===J){J!==0&&J===wa&&(Ad=!0),oe!==null&&(oe=oe.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Be=r,tt=O;J=s;var Kt=o;switch(tt.tag){case 1:if(Be=tt.payload,typeof Be=="function"){he=Be.call(Kt,he,J);break e}he=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=tt.payload,J=typeof Be=="function"?Be.call(Kt,he,J):Be,J==null)break e;he=g({},he,J);break e;case 2:Ji=!0}}J=O.callback,J!==null&&(r.flags|=64,ne&&(r.flags|=8192),ne=p.callbacks,ne===null?p.callbacks=[J]:ne.push(J))}else ne={lane:J,tag:O.tag,payload:O.payload,callback:O.callback,next:null},oe===null?(Q=oe=ne,U=he):oe=oe.next=ne,_|=J;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;ne=O,O=ne.next,ne.next=null,p.lastBaseUpdate=ne,p.shared.pending=null}}while(!0);oe===null&&(U=he),p.baseState=U,p.firstBaseUpdate=Q,p.lastBaseUpdate=oe,y===null&&(p.shared.lanes=0),ss|=_,r.lanes=_,r.memoizedState=he}}function $g(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Vg(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)$g(o[r],s)}var Ra=z(null),dl=z(0);function qg(r,s){r=Mi,de(dl,r),de(Ra,s),Mi=r|s.baseLanes}function Od(){de(dl,Mi),de(Ra,Ra.current)}function Md(){Mi=dl.current,ie(Ra),ie(dl)}var hr=z(null),Pr=null;function ts(r){var s=r.alternate;de(mn,mn.current&1),de(hr,r),Pr===null&&(s===null||Ra.current!==null||s.memoizedState!==null)&&(Pr=r)}function Pd(r){de(mn,mn.current),de(hr,r),Pr===null&&(Pr=r)}function Yg(r){r.tag===22?(de(mn,mn.current),de(hr,r),Pr===null&&(Pr=r)):ns()}function ns(){de(mn,mn.current),de(hr,hr.current)}function pr(r){ie(hr),Pr===r&&(Pr=null),ie(mn)}var mn=z(0);function hl(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Uh(o)||zh(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var _i=0,ht=null,Ft=null,xn=null,pl=!1,Aa=!1,$s=!1,ml=0,Do=0,Oa=null,OT=0;function ln(){throw Error(i(321))}function Nd(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!fr(r[o],s[o]))return!1;return!0}function Dd(r,s,o,l,p,y){return _i=y,ht=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=r===null||r.memoizedState===null?A0:Kd,$s=!1,y=o(l,p),$s=!1,Aa&&(y=Gg(s,o,l,p)),Fg(r),y}function Fg(r){H.H=Lo;var s=Ft!==null&&Ft.next!==null;if(_i=0,xn=Ft=ht=null,pl=!1,Do=0,Oa=null,s)throw Error(i(300));r===null||Sn||(r=r.dependencies,r!==null&&sl(r)&&(Sn=!0))}function Gg(r,s,o,l){ht=r;var p=0;do{if(Aa&&(Oa=null),Do=0,Aa=!1,25<=p)throw Error(i(301));if(p+=1,xn=Ft=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=O0,y=s(o,l)}while(Aa);return y}function MT(){var r=H.H,s=r.useState()[0];return s=typeof s.then=="function"?ko(s):s,r=r.useState()[0],(Ft!==null?Ft.memoizedState:null)!==r&&(ht.flags|=1024),s}function kd(){var r=ml!==0;return ml=0,r}function jd(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Ld(r){if(pl){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}pl=!1}_i=0,xn=Ft=ht=null,Aa=!1,Do=ml=0,Oa=null}function Kn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xn===null?ht.memoizedState=xn=r:xn=xn.next=r,xn}function yn(){if(Ft===null){var r=ht.alternate;r=r!==null?r.memoizedState:null}else r=Ft.next;var s=xn===null?ht.memoizedState:xn.next;if(s!==null)xn=s,Ft=r;else{if(r===null)throw ht.alternate===null?Error(i(467)):Error(i(310));Ft=r,r={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},xn===null?ht.memoizedState=xn=r:xn=xn.next=r}return xn}function yl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ko(r){var s=Do;return Do+=1,Oa===null&&(Oa=[]),r=Ug(Oa,r,s),s=ht,(xn===null?s.memoizedState:xn.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?A0:Kd),r}function gl(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ko(r);if(r.$$typeof===k)return Un(r)}throw Error(i(438,String(r)))}function Ud(r){var s=null,o=ht.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var l=ht.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=yl(),ht.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),l=0;l<r;l++)o[l]=ve;return s.index++,o}function wi(r,s){return typeof s=="function"?s(r):s}function vl(r){var s=yn();return zd(s,Ft,r)}function zd(r,s,o){var l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=o;var p=r.baseQueue,y=l.pending;if(y!==null){if(p!==null){var _=p.next;p.next=y.next,y.next=_}s.baseQueue=p=y,l.pending=null}if(y=r.baseState,p===null)r.memoizedState=y;else{s=p.next;var O=_=null,U=null,Q=s,oe=!1;do{var he=Q.lane&-536870913;if(he!==Q.lane?(Tt&he)===he:(_i&he)===he){var J=Q.revertLane;if(J===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),he===wa&&(oe=!0);else if((_i&J)===J){Q=Q.next,J===wa&&(oe=!0);continue}else he={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(O=U=he,_=y):U=U.next=he,ht.lanes|=J,ss|=J;he=Q.action,$s&&o(y,he),y=Q.hasEagerState?Q.eagerState:o(y,he)}else J={lane:he,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(O=U=J,_=y):U=U.next=J,ht.lanes|=he,ss|=he;Q=Q.next}while(Q!==null&&Q!==s);if(U===null?_=y:U.next=O,!fr(y,r.memoizedState)&&(Sn=!0,oe&&(o=Ea,o!==null)))throw o;r.memoizedState=y,r.baseState=_,r.baseQueue=U,l.lastRenderedState=y}return p===null&&(l.lanes=0),[r.memoizedState,l.dispatch]}function Id(r){var s=yn(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var l=o.dispatch,p=o.pending,y=s.memoizedState;if(p!==null){o.pending=null;var _=p=p.next;do y=r(y,_.action),_=_.next;while(_!==p);fr(y,s.memoizedState)||(Sn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,l]}function Kg(r,s,o){var l=ht,p=yn(),y=Ot;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=s();var _=!fr((Ft||p).memoizedState,o);if(_&&(p.memoizedState=o,Sn=!0),p=p.queue,$d(Zg.bind(null,l,p,r),[r]),p.getSnapshot!==s||_||xn!==null&&xn.memoizedState.tag&1){if(l.flags|=2048,Ma(9,{destroy:void 0},Qg.bind(null,l,p,o,s),null),Xt===null)throw Error(i(349));y||(_i&127)!==0||Xg(l,s,o)}return o}function Xg(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=ht.updateQueue,s===null?(s=yl(),ht.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function Qg(r,s,o,l){s.value=o,s.getSnapshot=l,Jg(s)&&Wg(r)}function Zg(r,s,o){return o(function(){Jg(s)&&Wg(r)})}function Jg(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!fr(r,o)}catch{return!0}}function Wg(r){var s=Ds(r,2);s!==null&&sr(s,r,2)}function Bd(r){var s=Kn();if(typeof r=="function"){var o=r;if(r=o(),$s){jn(!0);try{o()}finally{jn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:r},s}function e0(r,s,o,l){return r.baseState=o,zd(r,Ft,typeof l=="function"?l:wi)}function PT(r,s,o,l,p){if(Sl(r))throw Error(i(485));if(r=s.action,r!==null){var y={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};H.T!==null?o(!0):y.isTransition=!1,l(y),o=s.pending,o===null?(y.next=s.pending=y,t0(s,y)):(y.next=o.next,s.pending=o.next=y)}}function t0(r,s){var o=s.action,l=s.payload,p=r.state;if(s.isTransition){var y=H.T,_={};H.T=_;try{var O=o(p,l),U=H.S;U!==null&&U(_,O),n0(r,s,O)}catch(Q){Hd(r,s,Q)}finally{y!==null&&_.types!==null&&(y.types=_.types),H.T=y}}else try{y=o(p,l),n0(r,s,y)}catch(Q){Hd(r,s,Q)}}function n0(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(l){r0(r,s,l)},function(l){return Hd(r,s,l)}):r0(r,s,o)}function r0(r,s,o){s.status="fulfilled",s.value=o,i0(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,t0(r,o)))}function Hd(r,s,o){var l=r.pending;if(r.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=o,i0(s),s=s.next;while(s!==l)}r.action=null}function i0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function s0(r,s){return s}function a0(r,s){if(Ot){var o=Xt.formState;if(o!==null){e:{var l=ht;if(Ot){if(Zt){t:{for(var p=Zt,y=Mr;p.nodeType!==8;){if(!y){p=null;break t}if(p=Nr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){Zt=Nr(p.nextSibling),l=p.data==="F!";break e}}Qi(l)}l=!1}l&&(s=o[0])}}return o=Kn(),o.memoizedState=o.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s0,lastRenderedState:s},o.queue=l,o=C0.bind(null,ht,l),l.dispatch=o,l=Bd(!1),y=Gd.bind(null,ht,!1,l.queue),l=Kn(),p={state:s,dispatch:null,action:r,pending:null},l.queue=p,o=PT.bind(null,ht,p,y,o),p.dispatch=o,l.memoizedState=r,[s,o,!1]}function o0(r){var s=yn();return c0(s,Ft,r)}function c0(r,s,o){if(s=zd(r,s,s0)[0],r=vl(wi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=ko(s)}catch(_){throw _===Ca?cl:_}else l=s;s=yn();var p=s.queue,y=p.dispatch;return o!==s.memoizedState&&(ht.flags|=2048,Ma(9,{destroy:void 0},NT.bind(null,p,o),null)),[l,y,r]}function NT(r,s){r.action=s}function l0(r){var s=yn(),o=Ft;if(o!==null)return c0(s,o,r);yn(),s=s.memoizedState,o=yn();var l=o.queue.dispatch;return o.memoizedState=r,[s,l,!1]}function Ma(r,s,o,l){return r={tag:r,create:o,deps:l,inst:s,next:null},s=ht.updateQueue,s===null&&(s=yl(),ht.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(l=o.next,o.next=r,r.next=l,s.lastEffect=r),r}function u0(){return yn().memoizedState}function bl(r,s,o,l){var p=Kn();ht.flags|=r,p.memoizedState=Ma(1|s,{destroy:void 0},o,l===void 0?null:l)}function xl(r,s,o,l){var p=yn();l=l===void 0?null:l;var y=p.memoizedState.inst;Ft!==null&&l!==null&&Nd(l,Ft.memoizedState.deps)?p.memoizedState=Ma(s,y,o,l):(ht.flags|=r,p.memoizedState=Ma(1|s,y,o,l))}function f0(r,s){bl(8390656,8,r,s)}function $d(r,s){xl(2048,8,r,s)}function DT(r){ht.flags|=4;var s=ht.updateQueue;if(s===null)s=yl(),ht.updateQueue=s,s.events=[r];else{var o=s.events;o===null?s.events=[r]:o.push(r)}}function d0(r){var s=yn().memoizedState;return DT({ref:s,nextImpl:r}),function(){if((Bt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function h0(r,s){return xl(4,2,r,s)}function p0(r,s){return xl(4,4,r,s)}function m0(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function y0(r,s,o){o=o!=null?o.concat([r]):null,xl(4,4,m0.bind(null,s,r),o)}function Vd(){}function g0(r,s){var o=yn();s=s===void 0?null:s;var l=o.memoizedState;return s!==null&&Nd(s,l[1])?l[0]:(o.memoizedState=[r,s],r)}function v0(r,s){var o=yn();s=s===void 0?null:s;var l=o.memoizedState;if(s!==null&&Nd(s,l[1]))return l[0];if(l=r(),$s){jn(!0);try{r()}finally{jn(!1)}}return o.memoizedState=[l,s],l}function qd(r,s,o){return o===void 0||(_i&1073741824)!==0&&(Tt&261930)===0?r.memoizedState=s:(r.memoizedState=o,r=bv(),ht.lanes|=r,ss|=r,o)}function b0(r,s,o,l){return fr(o,s)?o:Ra.current!==null?(r=qd(r,o,l),fr(r,s)||(Sn=!0),r):(_i&42)===0||(_i&1073741824)!==0&&(Tt&261930)===0?(Sn=!0,r.memoizedState=o):(r=bv(),ht.lanes|=r,ss|=r,s)}function x0(r,s,o,l,p){var y=se.p;se.p=y!==0&&8>y?y:8;var _=H.T,O={};H.T=O,Gd(r,!1,s,o);try{var U=p(),Q=H.S;if(Q!==null&&Q(O,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var oe=AT(U,l);jo(r,s,oe,gr(r))}else jo(r,s,l,gr(r))}catch(he){jo(r,s,{then:function(){},status:"rejected",reason:he},gr())}finally{se.p=y,_!==null&&O.types!==null&&(_.types=O.types),H.T=_}}function kT(){}function Yd(r,s,o,l){if(r.tag!==5)throw Error(i(476));var p=S0(r).queue;x0(r,p,s,G,o===null?kT:function(){return _0(r),o(l)})}function S0(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:G},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function _0(r){var s=S0(r);s.next===null&&(s=r.alternate.memoizedState),jo(r,s.next.queue,{},gr())}function Fd(){return Un(Jo)}function w0(){return yn().memoizedState}function E0(){return yn().memoizedState}function jT(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=gr();r=Wi(o);var l=es(s,r,o);l!==null&&(sr(l,s,o),Mo(l,s,o)),s={cache:Sd()},r.payload=s;return}s=s.return}}function LT(r,s,o){var l=gr();o={lane:l,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Sl(r)?T0(s,o):(o=ud(r,s,o,l),o!==null&&(sr(o,r,l),R0(o,s,l)))}function C0(r,s,o){var l=gr();jo(r,s,o,l)}function jo(r,s,o,l){var p={lane:l,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Sl(r))T0(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var _=s.lastRenderedState,O=y(_,o);if(p.hasEagerState=!0,p.eagerState=O,fr(O,_))return tl(r,s,p,0),Xt===null&&el(),!1}catch{}finally{}if(o=ud(r,s,p,l),o!==null)return sr(o,r,l),R0(o,s,l),!0}return!1}function Gd(r,s,o,l){if(l={lane:2,revertLane:Ch(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Sl(r)){if(s)throw Error(i(479))}else s=ud(r,o,l,2),s!==null&&sr(s,r,2)}function Sl(r){var s=r.alternate;return r===ht||s!==null&&s===ht}function T0(r,s){Aa=pl=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function R0(r,s,o){if((o&4194048)!==0){var l=s.lanes;l&=r.pendingLanes,o|=l,s.lanes=o,po(r,o)}}var Lo={readContext:Un,use:gl,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useLayoutEffect:ln,useInsertionEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useSyncExternalStore:ln,useId:ln,useHostTransitionStatus:ln,useFormState:ln,useActionState:ln,useOptimistic:ln,useMemoCache:ln,useCacheRefresh:ln};Lo.useEffectEvent=ln;var A0={readContext:Un,use:gl,useCallback:function(r,s){return Kn().memoizedState=[r,s===void 0?null:s],r},useContext:Un,useEffect:f0,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,bl(4194308,4,m0.bind(null,s,r),o)},useLayoutEffect:function(r,s){return bl(4194308,4,r,s)},useInsertionEffect:function(r,s){bl(4,2,r,s)},useMemo:function(r,s){var o=Kn();s=s===void 0?null:s;var l=r();if($s){jn(!0);try{r()}finally{jn(!1)}}return o.memoizedState=[l,s],l},useReducer:function(r,s,o){var l=Kn();if(o!==void 0){var p=o(s);if($s){jn(!0);try{o(s)}finally{jn(!1)}}}else p=s;return l.memoizedState=l.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},l.queue=r,r=r.dispatch=LT.bind(null,ht,r),[l.memoizedState,r]},useRef:function(r){var s=Kn();return r={current:r},s.memoizedState=r},useState:function(r){r=Bd(r);var s=r.queue,o=C0.bind(null,ht,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Vd,useDeferredValue:function(r,s){var o=Kn();return qd(o,r,s)},useTransition:function(){var r=Bd(!1);return r=x0.bind(null,ht,r.queue,!0,!1),Kn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var l=ht,p=Kn();if(Ot){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),Xt===null)throw Error(i(349));(Tt&127)!==0||Xg(l,s,o)}p.memoizedState=o;var y={value:o,getSnapshot:s};return p.queue=y,f0(Zg.bind(null,l,y,r),[r]),l.flags|=2048,Ma(9,{destroy:void 0},Qg.bind(null,l,y,o,s),null),o},useId:function(){var r=Kn(),s=Xt.identifierPrefix;if(Ot){var o=Wr,l=Jr;o=(l&~(1<<32-pn(l)-1)).toString(32)+o,s="_"+s+"R_"+o,o=ml++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=OT++,s="_"+s+"r_"+o.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:Fd,useFormState:a0,useActionState:a0,useOptimistic:function(r){var s=Kn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Gd.bind(null,ht,!0,o),o.dispatch=s,[r,s]},useMemoCache:Ud,useCacheRefresh:function(){return Kn().memoizedState=jT.bind(null,ht)},useEffectEvent:function(r){var s=Kn(),o={impl:r};return s.memoizedState=o,function(){if((Bt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Kd={readContext:Un,use:gl,useCallback:g0,useContext:Un,useEffect:$d,useImperativeHandle:y0,useInsertionEffect:h0,useLayoutEffect:p0,useMemo:v0,useReducer:vl,useRef:u0,useState:function(){return vl(wi)},useDebugValue:Vd,useDeferredValue:function(r,s){var o=yn();return b0(o,Ft.memoizedState,r,s)},useTransition:function(){var r=vl(wi)[0],s=yn().memoizedState;return[typeof r=="boolean"?r:ko(r),s]},useSyncExternalStore:Kg,useId:w0,useHostTransitionStatus:Fd,useFormState:o0,useActionState:o0,useOptimistic:function(r,s){var o=yn();return e0(o,Ft,r,s)},useMemoCache:Ud,useCacheRefresh:E0};Kd.useEffectEvent=d0;var O0={readContext:Un,use:gl,useCallback:g0,useContext:Un,useEffect:$d,useImperativeHandle:y0,useInsertionEffect:h0,useLayoutEffect:p0,useMemo:v0,useReducer:Id,useRef:u0,useState:function(){return Id(wi)},useDebugValue:Vd,useDeferredValue:function(r,s){var o=yn();return Ft===null?qd(o,r,s):b0(o,Ft.memoizedState,r,s)},useTransition:function(){var r=Id(wi)[0],s=yn().memoizedState;return[typeof r=="boolean"?r:ko(r),s]},useSyncExternalStore:Kg,useId:w0,useHostTransitionStatus:Fd,useFormState:l0,useActionState:l0,useOptimistic:function(r,s){var o=yn();return Ft!==null?e0(o,Ft,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Ud,useCacheRefresh:E0};O0.useEffectEvent=d0;function Xd(r,s,o,l){s=r.memoizedState,o=o(l,s),o=o==null?s:g({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Qd={enqueueSetState:function(r,s,o){r=r._reactInternals;var l=gr(),p=Wi(l);p.payload=s,o!=null&&(p.callback=o),s=es(r,p,l),s!==null&&(sr(s,r,l),Mo(s,r,l))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var l=gr(),p=Wi(l);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=es(r,p,l),s!==null&&(sr(s,r,l),Mo(s,r,l))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=gr(),l=Wi(o);l.tag=2,s!=null&&(l.callback=s),s=es(r,l,o),s!==null&&(sr(s,r,o),Mo(s,r,o))}};function M0(r,s,o,l,p,y,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(l,y,_):s.prototype&&s.prototype.isPureReactComponent?!_o(o,l)||!_o(p,y):!0}function P0(r,s,o,l){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,l),s.state!==r&&Qd.enqueueReplaceState(s,s.state,null)}function Vs(r,s){var o=s;if("ref"in s){o={};for(var l in s)l!=="ref"&&(o[l]=s[l])}if(r=r.defaultProps){o===s&&(o=g({},o));for(var p in r)o[p]===void 0&&(o[p]=r[p])}return o}function N0(r){Wc(r)}function D0(r){console.error(r)}function k0(r){Wc(r)}function _l(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function j0(r,s,o){try{var l=r.onCaughtError;l(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Zd(r,s,o){return o=Wi(o),o.tag=3,o.payload={element:null},o.callback=function(){_l(r,s)},o}function L0(r){return r=Wi(r),r.tag=3,r}function U0(r,s,o,l){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=l.value;r.payload=function(){return p(y)},r.callback=function(){j0(s,o,l)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(r.callback=function(){j0(s,o,l),typeof p!="function"&&(as===null?as=new Set([this]):as.add(this));var O=l.stack;this.componentDidCatch(l.value,{componentStack:O!==null?O:""})})}function UT(r,s,o,l,p){if(o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=o.alternate,s!==null&&_a(s,o,p,!0),o=hr.current,o!==null){switch(o.tag){case 31:case 13:return Pr===null?kl():o.alternate===null&&un===0&&(un=3),o.flags&=-257,o.flags|=65536,o.lanes=p,l===ll?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([l]):s.add(l),_h(r,l,p)),!1;case 22:return o.flags|=65536,l===ll?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([l]):o.add(l)),_h(r,l,p)),!1}throw Error(i(435,o.tag))}return _h(r,l,p),kl(),!1}if(Ot)return s=hr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,l!==yd&&(r=Error(i(422),{cause:l}),Co(Rr(r,o)))):(l!==yd&&(s=Error(i(423),{cause:l}),Co(Rr(s,o))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,l=Rr(l,o),p=Zd(r.stateNode,l,p),Rd(r,p),un!==4&&(un=2)),!1;var y=Error(i(520),{cause:l});if(y=Rr(y,o),qo===null?qo=[y]:qo.push(y),un!==4&&(un=2),s===null)return!0;l=Rr(l,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=p&-p,o.lanes|=r,r=Zd(o.stateNode,l,r),Rd(o,r),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(as===null||!as.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=L0(p),U0(p,r,o,l),Rd(o,p),!1}o=o.return}while(o!==null);return!1}var Jd=Error(i(461)),Sn=!1;function zn(r,s,o,l){s.child=r===null?Hg(s,null,o,l):Hs(s,r.child,o,l)}function z0(r,s,o,l,p){o=o.render;var y=s.ref;if("ref"in l){var _={};for(var O in l)O!=="ref"&&(_[O]=l[O])}else _=l;return Us(s),l=Dd(r,s,o,_,y,p),O=kd(),r!==null&&!Sn?(jd(r,s,p),Ei(r,s,p)):(Ot&&O&&pd(s),s.flags|=1,zn(r,s,l,p),s.child)}function I0(r,s,o,l,p){if(r===null){var y=o.type;return typeof y=="function"&&!fd(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,B0(r,s,y,l,p)):(r=rl(o.type,null,l,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!ah(r,p)){var _=y.memoizedProps;if(o=o.compare,o=o!==null?o:_o,o(_,l)&&r.ref===s.ref)return Ei(r,s,p)}return s.flags|=1,r=vi(y,l),r.ref=s.ref,r.return=s,s.child=r}function B0(r,s,o,l,p){if(r!==null){var y=r.memoizedProps;if(_o(y,l)&&r.ref===s.ref)if(Sn=!1,s.pendingProps=l=y,ah(r,p))(r.flags&131072)!==0&&(Sn=!0);else return s.lanes=r.lanes,Ei(r,s,p)}return Wd(r,s,o,l,p)}function H0(r,s,o,l){var p=l.children,y=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,r!==null){for(l=s.child=r.child,p=0;l!==null;)p=p|l.lanes|l.childLanes,l=l.sibling;l=p&~y}else l=0,s.child=null;return $0(r,s,y,o,l)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&ol(s,y!==null?y.cachePool:null),y!==null?qg(s,y):Od(),Yg(s);else return l=s.lanes=536870912,$0(r,s,y!==null?y.baseLanes|o:o,o,l)}else y!==null?(ol(s,y.cachePool),qg(s,y),ns(),s.memoizedState=null):(r!==null&&ol(s,null),Od(),ns());return zn(r,s,p,o),s.child}function Uo(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function $0(r,s,o,l,p){var y=wd();return y=y===null?null:{parent:bn._currentValue,pool:y},s.memoizedState={baseLanes:o,cachePool:y},r!==null&&ol(s,null),Od(),Yg(s),r!==null&&_a(r,s,l,!0),s.childLanes=p,null}function wl(r,s){return s=Cl({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function V0(r,s,o){return Hs(s,r.child,null,o),r=wl(s,s.pendingProps),r.flags|=2,pr(s),s.memoizedState=null,r}function zT(r,s,o){var l=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(Ot){if(l.mode==="hidden")return r=wl(s,l),s.lanes=536870912,Uo(null,r);if(Pd(s),(r=Zt)?(r=tb(r,Mr),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:Ki!==null?{id:Jr,overflow:Wr}:null,retryLane:536870912,hydrationErrors:null},o=Tg(r),o.return=s,s.child=o,Ln=s,Zt=null)):r=null,r===null)throw Qi(s);return s.lanes=536870912,null}return wl(s,l)}var y=r.memoizedState;if(y!==null){var _=y.dehydrated;if(Pd(s),p)if(s.flags&256)s.flags&=-257,s=V0(r,s,o);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(Sn||_a(r,s,o,!1),p=(o&r.childLanes)!==0,Sn||p){if(l=Xt,l!==null&&(_=w(l,o),_!==0&&_!==y.retryLane))throw y.retryLane=_,Ds(r,_),sr(l,r,_),Jd;kl(),s=V0(r,s,o)}else r=y.treeContext,Zt=Nr(_.nextSibling),Ln=s,Ot=!0,Xi=null,Mr=!1,r!==null&&Og(s,r),s=wl(s,l),s.flags|=4096;return s}return r=vi(r.child,{mode:l.mode,children:l.children}),r.ref=s.ref,s.child=r,r.return=s,r}function El(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Wd(r,s,o,l,p){return Us(s),o=Dd(r,s,o,l,void 0,p),l=kd(),r!==null&&!Sn?(jd(r,s,p),Ei(r,s,p)):(Ot&&l&&pd(s),s.flags|=1,zn(r,s,o,p),s.child)}function q0(r,s,o,l,p,y){return Us(s),s.updateQueue=null,o=Gg(s,l,o,p),Fg(r),l=kd(),r!==null&&!Sn?(jd(r,s,y),Ei(r,s,y)):(Ot&&l&&pd(s),s.flags|=1,zn(r,s,o,y),s.child)}function Y0(r,s,o,l,p){if(Us(s),s.stateNode===null){var y=va,_=o.contextType;typeof _=="object"&&_!==null&&(y=Un(_)),y=new o(l,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Qd,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=l,y.state=s.memoizedState,y.refs={},Cd(s),_=o.contextType,y.context=typeof _=="object"&&_!==null?Un(_):va,y.state=s.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Xd(s,o,_,l),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&Qd.enqueueReplaceState(y,y.state,null),No(s,l,y,p),Po(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(r===null){y=s.stateNode;var O=s.memoizedProps,U=Vs(o,O);y.props=U;var Q=y.context,oe=o.contextType;_=va,typeof oe=="object"&&oe!==null&&(_=Un(oe));var he=o.getDerivedStateFromProps;oe=typeof he=="function"||typeof y.getSnapshotBeforeUpdate=="function",O=s.pendingProps!==O,oe||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(O||Q!==_)&&P0(s,y,l,_),Ji=!1;var J=s.memoizedState;y.state=J,No(s,l,y,p),Po(),Q=s.memoizedState,O||J!==Q||Ji?(typeof he=="function"&&(Xd(s,o,he,l),Q=s.memoizedState),(U=Ji||M0(s,o,U,l,J,Q,_))?(oe||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=Q),y.props=l,y.state=Q,y.context=_,l=U):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{y=s.stateNode,Td(r,s),_=s.memoizedProps,oe=Vs(o,_),y.props=oe,he=s.pendingProps,J=y.context,Q=o.contextType,U=va,typeof Q=="object"&&Q!==null&&(U=Un(Q)),O=o.getDerivedStateFromProps,(Q=typeof O=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==he||J!==U)&&P0(s,y,l,U),Ji=!1,J=s.memoizedState,y.state=J,No(s,l,y,p),Po();var ne=s.memoizedState;_!==he||J!==ne||Ji||r!==null&&r.dependencies!==null&&sl(r.dependencies)?(typeof O=="function"&&(Xd(s,o,O,l),ne=s.memoizedState),(oe=Ji||M0(s,o,oe,l,J,ne,U)||r!==null&&r.dependencies!==null&&sl(r.dependencies))?(Q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(l,ne,U),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(l,ne,U)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=ne),y.props=l,y.state=ne,y.context=U,l=oe):(typeof y.componentDidUpdate!="function"||_===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),l=!1)}return y=l,El(r,s),l=(s.flags&128)!==0,y||l?(y=s.stateNode,o=l&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&l?(s.child=Hs(s,r.child,null,p),s.child=Hs(s,null,o,p)):zn(r,s,o,p),s.memoizedState=y.state,r=s.child):r=Ei(r,s,p),r}function F0(r,s,o,l){return js(),s.flags|=256,zn(r,s,o,l),s.child}var eh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function th(r){return{baseLanes:r,cachePool:jg()}}function nh(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=yr),r}function G0(r,s,o){var l=s.pendingProps,p=!1,y=(s.flags&128)!==0,_;if((_=y)||(_=r!==null&&r.memoizedState===null?!1:(mn.current&2)!==0),_&&(p=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,r===null){if(Ot){if(p?ts(s):ns(),(r=Zt)?(r=tb(r,Mr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:Ki!==null?{id:Jr,overflow:Wr}:null,retryLane:536870912,hydrationErrors:null},o=Tg(r),o.return=s,s.child=o,Ln=s,Zt=null)):r=null,r===null)throw Qi(s);return zh(r)?s.lanes=32:s.lanes=536870912,null}var O=l.children;return l=l.fallback,p?(ns(),p=s.mode,O=Cl({mode:"hidden",children:O},p),l=ks(l,p,o,null),O.return=s,l.return=s,O.sibling=l,s.child=O,l=s.child,l.memoizedState=th(o),l.childLanes=nh(r,_,o),s.memoizedState=eh,Uo(null,l)):(ts(s),rh(s,O))}var U=r.memoizedState;if(U!==null&&(O=U.dehydrated,O!==null)){if(y)s.flags&256?(ts(s),s.flags&=-257,s=ih(r,s,o)):s.memoizedState!==null?(ns(),s.child=r.child,s.flags|=128,s=null):(ns(),O=l.fallback,p=s.mode,l=Cl({mode:"visible",children:l.children},p),O=ks(O,p,o,null),O.flags|=2,l.return=s,O.return=s,l.sibling=O,s.child=l,Hs(s,r.child,null,o),l=s.child,l.memoizedState=th(o),l.childLanes=nh(r,_,o),s.memoizedState=eh,s=Uo(null,l));else if(ts(s),zh(O)){if(_=O.nextSibling&&O.nextSibling.dataset,_)var Q=_.dgst;_=Q,l=Error(i(419)),l.stack="",l.digest=_,Co({value:l,source:null,stack:null}),s=ih(r,s,o)}else if(Sn||_a(r,s,o,!1),_=(o&r.childLanes)!==0,Sn||_){if(_=Xt,_!==null&&(l=w(_,o),l!==0&&l!==U.retryLane))throw U.retryLane=l,Ds(r,l),sr(_,r,l),Jd;Uh(O)||kl(),s=ih(r,s,o)}else Uh(O)?(s.flags|=192,s.child=r.child,s=null):(r=U.treeContext,Zt=Nr(O.nextSibling),Ln=s,Ot=!0,Xi=null,Mr=!1,r!==null&&Og(s,r),s=rh(s,l.children),s.flags|=4096);return s}return p?(ns(),O=l.fallback,p=s.mode,U=r.child,Q=U.sibling,l=vi(U,{mode:"hidden",children:l.children}),l.subtreeFlags=U.subtreeFlags&65011712,Q!==null?O=vi(Q,O):(O=ks(O,p,o,null),O.flags|=2),O.return=s,l.return=s,l.sibling=O,s.child=l,Uo(null,l),l=s.child,O=r.child.memoizedState,O===null?O=th(o):(p=O.cachePool,p!==null?(U=bn._currentValue,p=p.parent!==U?{parent:U,pool:U}:p):p=jg(),O={baseLanes:O.baseLanes|o,cachePool:p}),l.memoizedState=O,l.childLanes=nh(r,_,o),s.memoizedState=eh,Uo(r.child,l)):(ts(s),o=r.child,r=o.sibling,o=vi(o,{mode:"visible",children:l.children}),o.return=s,o.sibling=null,r!==null&&(_=s.deletions,_===null?(s.deletions=[r],s.flags|=16):_.push(r)),s.child=o,s.memoizedState=null,o)}function rh(r,s){return s=Cl({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Cl(r,s){return r=dr(22,r,null,s),r.lanes=0,r}function ih(r,s,o){return Hs(s,r.child,null,o),r=rh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function K0(r,s,o){r.lanes|=s;var l=r.alternate;l!==null&&(l.lanes|=s),bd(r.return,s,o)}function sh(r,s,o,l,p,y){var _=r.memoizedState;_===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:p,treeForkCount:y}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=o,_.tailMode=p,_.treeForkCount=y)}function X0(r,s,o){var l=s.pendingProps,p=l.revealOrder,y=l.tail;l=l.children;var _=mn.current,O=(_&2)!==0;if(O?(_=_&1|2,s.flags|=128):_&=1,de(mn,_),zn(r,s,l,o),l=Ot?Eo:0,!O&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&K0(r,o,s);else if(r.tag===19)K0(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(p){case"forwards":for(o=s.child,p=null;o!==null;)r=o.alternate,r!==null&&hl(r)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),sh(s,!1,p,o,y,l);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&hl(r)===null){s.child=p;break}r=p.sibling,p.sibling=o,o=p,p=r}sh(s,!0,o,null,y,l);break;case"together":sh(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Ei(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),ss|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(_a(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=vi(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=vi(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function ah(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&sl(r)))}function IT(r,s,o){switch(s.tag){case 3:Pt(s,s.stateNode.containerInfo),Zi(s,bn,r.memoizedState.cache),js();break;case 27:case 5:Z(s);break;case 4:Pt(s,s.stateNode.containerInfo);break;case 10:Zi(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Pd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(ts(s),s.flags|=128,null):(o&s.child.childLanes)!==0?G0(r,s,o):(ts(s),r=Ei(r,s,o),r!==null?r.sibling:null);ts(s);break;case 19:var p=(r.flags&128)!==0;if(l=(o&s.childLanes)!==0,l||(_a(r,s,o,!1),l=(o&s.childLanes)!==0),p){if(l)return X0(r,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),de(mn,mn.current),l)break;return null;case 22:return s.lanes=0,H0(r,s,o,s.pendingProps);case 24:Zi(s,bn,r.memoizedState.cache)}return Ei(r,s,o)}function Q0(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Sn=!0;else{if(!ah(r,o)&&(s.flags&128)===0)return Sn=!1,IT(r,s,o);Sn=(r.flags&131072)!==0}else Sn=!1,Ot&&(s.flags&1048576)!==0&&Ag(s,Eo,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(r=Is(s.elementType),s.type=r,typeof r=="function")fd(r)?(l=Vs(r,l),s.tag=1,s=Y0(null,s,r,l,o)):(s.tag=0,s=Wd(null,s,r,l,o));else{if(r!=null){var p=r.$$typeof;if(p===j){s.tag=11,s=z0(null,s,r,l,o);break e}else if(p===Y){s.tag=14,s=I0(null,s,r,l,o);break e}}throw s=_e(r)||r,Error(i(306,s,""))}}return s;case 0:return Wd(r,s,s.type,s.pendingProps,o);case 1:return l=s.type,p=Vs(l,s.pendingProps),Y0(r,s,l,p,o);case 3:e:{if(Pt(s,s.stateNode.containerInfo),r===null)throw Error(i(387));l=s.pendingProps;var y=s.memoizedState;p=y.element,Td(r,s),No(s,l,null,o);var _=s.memoizedState;if(l=_.cache,Zi(s,bn,l),l!==y.cache&&xd(s,[bn],o,!0),Po(),l=_.element,y.isDehydrated)if(y={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=F0(r,s,l,o);break e}else if(l!==p){p=Rr(Error(i(424)),s),Co(p),s=F0(r,s,l,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Zt=Nr(r.firstChild),Ln=s,Ot=!0,Xi=null,Mr=!0,o=Hg(s,null,l,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(js(),l===p){s=Ei(r,s,o);break e}zn(r,s,l,o)}s=s.child}return s;case 26:return El(r,s),r===null?(o=ob(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ot||(o=s.type,r=s.pendingProps,l=Hl(Ee.current).createElement(o),l[V]=s,l[ae]=r,In(l,o,r),Ie(l),s.stateNode=l):s.memoizedState=ob(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Z(s),r===null&&Ot&&(l=s.stateNode=ib(s.type,s.pendingProps,Ee.current),Ln=s,Mr=!0,p=Zt,us(s.type)?(Ih=p,Zt=Nr(l.firstChild)):Zt=p),zn(r,s,s.pendingProps.children,o),El(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Ot&&((p=l=Zt)&&(l=mR(l,s.type,s.pendingProps,Mr),l!==null?(s.stateNode=l,Ln=s,Zt=Nr(l.firstChild),Mr=!1,p=!0):p=!1),p||Qi(s)),Z(s),p=s.type,y=s.pendingProps,_=r!==null?r.memoizedProps:null,l=y.children,kh(p,y)?l=null:_!==null&&kh(p,_)&&(s.flags|=32),s.memoizedState!==null&&(p=Dd(r,s,MT,null,null,o),Jo._currentValue=p),El(r,s),zn(r,s,l,o),s.child;case 6:return r===null&&Ot&&((r=o=Zt)&&(o=yR(o,s.pendingProps,Mr),o!==null?(s.stateNode=o,Ln=s,Zt=null,r=!0):r=!1),r||Qi(s)),null;case 13:return G0(r,s,o);case 4:return Pt(s,s.stateNode.containerInfo),l=s.pendingProps,r===null?s.child=Hs(s,null,l,o):zn(r,s,l,o),s.child;case 11:return z0(r,s,s.type,s.pendingProps,o);case 7:return zn(r,s,s.pendingProps,o),s.child;case 8:return zn(r,s,s.pendingProps.children,o),s.child;case 12:return zn(r,s,s.pendingProps.children,o),s.child;case 10:return l=s.pendingProps,Zi(s,s.type,l.value),zn(r,s,l.children,o),s.child;case 9:return p=s.type._context,l=s.pendingProps.children,Us(s),p=Un(p),l=l(p),s.flags|=1,zn(r,s,l,o),s.child;case 14:return I0(r,s,s.type,s.pendingProps,o);case 15:return B0(r,s,s.type,s.pendingProps,o);case 19:return X0(r,s,o);case 31:return zT(r,s,o);case 22:return H0(r,s,o,s.pendingProps);case 24:return Us(s),l=Un(bn),r===null?(p=wd(),p===null&&(p=Xt,y=Sd(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),s.memoizedState={parent:l,cache:p},Cd(s),Zi(s,bn,p)):((r.lanes&o)!==0&&(Td(r,s),No(s,null,null,o),Po()),p=r.memoizedState,y=s.memoizedState,p.parent!==l?(p={parent:l,cache:l},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Zi(s,bn,l)):(l=y.cache,Zi(s,bn,l),l!==p.cache&&xd(s,[bn],o,!0))),zn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Ci(r){r.flags|=4}function oh(r,s,o,l,p){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(p&335544128)===p)if(r.stateNode.complete)r.flags|=8192;else if(wv())r.flags|=8192;else throw Bs=ll,Ed}else r.flags&=-16777217}function Z0(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!db(s))if(wv())r.flags|=8192;else throw Bs=ll,Ed}function Tl(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?fa():536870912,r.lanes|=s,ka|=s)}function zo(r,s){if(!Ot)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:l.sibling=null}}function Jt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,l=0;if(s)for(var p=r.child;p!==null;)o|=p.lanes|p.childLanes,l|=p.subtreeFlags&65011712,l|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)o|=p.lanes|p.childLanes,l|=p.subtreeFlags,l|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=l,r.childLanes=o,s}function BT(r,s,o){var l=s.pendingProps;switch(md(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(s),null;case 1:return Jt(s),null;case 3:return o=s.stateNode,l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Si(bn),I(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Sa(s)?Ci(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,gd())),Jt(s),null;case 26:var p=s.type,y=s.memoizedState;return r===null?(Ci(s),y!==null?(Jt(s),Z0(s,y)):(Jt(s),oh(s,p,null,l,o))):y?y!==r.memoizedState?(Ci(s),Jt(s),Z0(s,y)):(Jt(s),s.flags&=-16777217):(r=r.memoizedProps,r!==l&&Ci(s),Jt(s),oh(s,p,r,l,o)),null;case 27:if(ue(s),o=Ee.current,p=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==l&&Ci(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return Jt(s),null}r=ge.current,Sa(s)?Mg(s):(r=ib(p,l,o),s.stateNode=r,Ci(s))}return Jt(s),null;case 5:if(ue(s),p=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==l&&Ci(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return Jt(s),null}if(y=ge.current,Sa(s))Mg(s);else{var _=Hl(Ee.current);switch(y){case 1:y=_.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=_.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=_.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?y.multiple=!0:l.size&&(y.size=l.size);break;default:y=typeof l.is=="string"?_.createElement(p,{is:l.is}):_.createElement(p)}}y[V]=s,y[ae]=l;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)y.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=y;e:switch(In(y,p,l),p){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ci(s)}}return Jt(s),oh(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,o),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==l&&Ci(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(r=Ee.current,Sa(s)){if(r=s.stateNode,o=s.memoizedProps,l=null,p=Ln,p!==null)switch(p.tag){case 27:case 5:l=p.memoizedProps}r[V]=s,r=!!(r.nodeValue===o||l!==null&&l.suppressHydrationWarning===!0||Gv(r.nodeValue,o)),r||Qi(s,!0)}else r=Hl(r).createTextNode(l),r[V]=s,s.stateNode=r}return Jt(s),null;case 31:if(o=s.memoizedState,r===null||r.memoizedState!==null){if(l=Sa(s),o!==null){if(r===null){if(!l)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[V]=s}else js(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Jt(s),r=!1}else o=gd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return s.flags&256?(pr(s),s):(pr(s),null);if((s.flags&128)!==0)throw Error(i(558))}return Jt(s),null;case 13:if(l=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=Sa(s),l!==null&&l.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[V]=s}else js(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Jt(s),p=!1}else p=gd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(pr(s),s):(pr(s),null)}return pr(s),(s.flags&128)!==0?(s.lanes=o,s):(o=l!==null,r=r!==null&&r.memoizedState!==null,o&&(l=s.child,p=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(p=l.alternate.memoizedState.cachePool.pool),y=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(y=l.memoizedState.cachePool.pool),y!==p&&(l.flags|=2048)),o!==r&&o&&(s.child.flags|=8192),Tl(s,s.updateQueue),Jt(s),null);case 4:return I(),r===null&&Oh(s.stateNode.containerInfo),Jt(s),null;case 10:return Si(s.type),Jt(s),null;case 19:if(ie(mn),l=s.memoizedState,l===null)return Jt(s),null;if(p=(s.flags&128)!==0,y=l.rendering,y===null)if(p)zo(l,!1);else{if(un!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=hl(r),y!==null){for(s.flags|=128,zo(l,!1),r=y.updateQueue,s.updateQueue=r,Tl(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)Cg(o,r),o=o.sibling;return de(mn,mn.current&1|2),Ot&&bi(s,l.treeForkCount),s.child}r=r.sibling}l.tail!==null&&ft()>Pl&&(s.flags|=128,p=!0,zo(l,!1),s.lanes=4194304)}else{if(!p)if(r=hl(y),r!==null){if(s.flags|=128,p=!0,r=r.updateQueue,s.updateQueue=r,Tl(s,r),zo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!y.alternate&&!Ot)return Jt(s),null}else 2*ft()-l.renderingStartTime>Pl&&o!==536870912&&(s.flags|=128,p=!0,zo(l,!1),s.lanes=4194304);l.isBackwards?(y.sibling=s.child,s.child=y):(r=l.last,r!==null?r.sibling=y:s.child=y,l.last=y)}return l.tail!==null?(r=l.tail,l.rendering=r,l.tail=r.sibling,l.renderingStartTime=ft(),r.sibling=null,o=mn.current,de(mn,p?o&1|2:o&1),Ot&&bi(s,l.treeForkCount),r):(Jt(s),null);case 22:case 23:return pr(s),Md(),l=s.memoizedState!==null,r!==null?r.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(o&536870912)!==0&&(s.flags&128)===0&&(Jt(s),s.subtreeFlags&6&&(s.flags|=8192)):Jt(s),o=s.updateQueue,o!==null&&Tl(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==o&&(s.flags|=2048),r!==null&&ie(zs),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Si(bn),Jt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function HT(r,s){switch(md(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Si(bn),I(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return ue(s),null;case 31:if(s.memoizedState!==null){if(pr(s),s.alternate===null)throw Error(i(340));js()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(pr(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));js()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ie(mn),null;case 4:return I(),null;case 10:return Si(s.type),null;case 22:case 23:return pr(s),Md(),r!==null&&ie(zs),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Si(bn),null;case 25:return null;default:return null}}function J0(r,s){switch(md(s),s.tag){case 3:Si(bn),I();break;case 26:case 27:case 5:ue(s);break;case 4:I();break;case 31:s.memoizedState!==null&&pr(s);break;case 13:pr(s);break;case 19:ie(mn);break;case 10:Si(s.type);break;case 22:case 23:pr(s),Md(),r!==null&&ie(zs);break;case 24:Si(bn)}}function Io(r,s){try{var o=s.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var p=l.next;o=p;do{if((o.tag&r)===r){l=void 0;var y=o.create,_=o.inst;l=y(),_.destroy=l}o=o.next}while(o!==p)}}catch(O){Yt(s,s.return,O)}}function rs(r,s,o){try{var l=s.updateQueue,p=l!==null?l.lastEffect:null;if(p!==null){var y=p.next;l=y;do{if((l.tag&r)===r){var _=l.inst,O=_.destroy;if(O!==void 0){_.destroy=void 0,p=s;var U=o,Q=O;try{Q()}catch(oe){Yt(p,U,oe)}}}l=l.next}while(l!==y)}}catch(oe){Yt(s,s.return,oe)}}function W0(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{Vg(s,o)}catch(l){Yt(r,r.return,l)}}}function ev(r,s,o){o.props=Vs(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(l){Yt(r,s,l)}}function Bo(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var l=r.stateNode;break;case 30:l=r.stateNode;break;default:l=r.stateNode}typeof o=="function"?r.refCleanup=o(l):o.current=l}}catch(p){Yt(r,s,p)}}function ei(r,s){var o=r.ref,l=r.refCleanup;if(o!==null)if(typeof l=="function")try{l()}catch(p){Yt(r,s,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Yt(r,s,p)}else o.current=null}function tv(r){var s=r.type,o=r.memoizedProps,l=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&l.focus();break e;case"img":o.src?l.src=o.src:o.srcSet&&(l.srcset=o.srcSet)}}catch(p){Yt(r,r.return,p)}}function ch(r,s,o){try{var l=r.stateNode;lR(l,r.type,o,s),l[ae]=s}catch(p){Yt(r,r.return,p)}}function nv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&us(r.type)||r.tag===4}function lh(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||nv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&us(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function uh(r,s,o){var l=r.tag;if(l===5||l===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=yi));else if(l!==4&&(l===27&&us(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(uh(r,s,o),r=r.sibling;r!==null;)uh(r,s,o),r=r.sibling}function Rl(r,s,o){var l=r.tag;if(l===5||l===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(l!==4&&(l===27&&us(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Rl(r,s,o),r=r.sibling;r!==null;)Rl(r,s,o),r=r.sibling}function rv(r){var s=r.stateNode,o=r.memoizedProps;try{for(var l=r.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);In(s,l,o),s[V]=r,s[ae]=o}catch(y){Yt(r,r.return,y)}}var Ti=!1,_n=!1,fh=!1,iv=typeof WeakSet=="function"?WeakSet:Set,Dn=null;function $T(r,s){if(r=r.containerInfo,Nh=Kl,r=yg(r),id(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var p=l.anchorOffset,y=l.focusNode;l=l.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var _=0,O=-1,U=-1,Q=0,oe=0,he=r,J=null;t:for(;;){for(var ne;he!==o||p!==0&&he.nodeType!==3||(O=_+p),he!==y||l!==0&&he.nodeType!==3||(U=_+l),he.nodeType===3&&(_+=he.nodeValue.length),(ne=he.firstChild)!==null;)J=he,he=ne;for(;;){if(he===r)break t;if(J===o&&++Q===p&&(O=_),J===y&&++oe===l&&(U=_),(ne=he.nextSibling)!==null)break;he=J,J=he.parentNode}he=ne}o=O===-1||U===-1?null:{start:O,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(Dh={focusedElem:r,selectionRange:o},Kl=!1,Dn=s;Dn!==null;)if(s=Dn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Dn=r;else for(;Dn!==null;){switch(s=Dn,y=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)p=r[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=s,p=y.memoizedProps,y=y.memoizedState,l=o.stateNode;try{var Be=Vs(o.type,p);r=l.getSnapshotBeforeUpdate(Be,y),l.__reactInternalSnapshotBeforeUpdate=r}catch(tt){Yt(o,o.return,tt)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Lh(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Lh(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Dn=r;break}Dn=s.return}}function sv(r,s,o){var l=o.flags;switch(o.tag){case 0:case 11:case 15:Ai(r,o),l&4&&Io(5,o);break;case 1:if(Ai(r,o),l&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(_){Yt(o,o.return,_)}else{var p=Vs(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(p,s,r.__reactInternalSnapshotBeforeUpdate)}catch(_){Yt(o,o.return,_)}}l&64&&W0(o),l&512&&Bo(o,o.return);break;case 3:if(Ai(r,o),l&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Vg(r,s)}catch(_){Yt(o,o.return,_)}}break;case 27:s===null&&l&4&&rv(o);case 26:case 5:Ai(r,o),s===null&&l&4&&tv(o),l&512&&Bo(o,o.return);break;case 12:Ai(r,o);break;case 31:Ai(r,o),l&4&&cv(r,o);break;case 13:Ai(r,o),l&4&&lv(r,o),l&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=ZT.bind(null,o),gR(r,o))));break;case 22:if(l=o.memoizedState!==null||Ti,!l){s=s!==null&&s.memoizedState!==null||_n,p=Ti;var y=_n;Ti=l,(_n=s)&&!y?Oi(r,o,(o.subtreeFlags&8772)!==0):Ai(r,o),Ti=p,_n=y}break;case 30:break;default:Ai(r,o)}}function av(r){var s=r.alternate;s!==null&&(r.alternate=null,av(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&nt(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var rn=null,tr=!1;function Ri(r,s,o){for(o=o.child;o!==null;)ov(r,s,o),o=o.sibling}function ov(r,s,o){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(Cr,o)}catch{}switch(o.tag){case 26:_n||ei(o,s),Ri(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:_n||ei(o,s);var l=rn,p=tr;us(o.type)&&(rn=o.stateNode,tr=!1),Ri(r,s,o),Xo(o.stateNode),rn=l,tr=p;break;case 5:_n||ei(o,s);case 6:if(l=rn,p=tr,rn=null,Ri(r,s,o),rn=l,tr=p,rn!==null)if(tr)try{(rn.nodeType===9?rn.body:rn.nodeName==="HTML"?rn.ownerDocument.body:rn).removeChild(o.stateNode)}catch(y){Yt(o,s,y)}else try{rn.removeChild(o.stateNode)}catch(y){Yt(o,s,y)}break;case 18:rn!==null&&(tr?(r=rn,Wv(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),$a(r)):Wv(rn,o.stateNode));break;case 4:l=rn,p=tr,rn=o.stateNode.containerInfo,tr=!0,Ri(r,s,o),rn=l,tr=p;break;case 0:case 11:case 14:case 15:rs(2,o,s),_n||rs(4,o,s),Ri(r,s,o);break;case 1:_n||(ei(o,s),l=o.stateNode,typeof l.componentWillUnmount=="function"&&ev(o,s,l)),Ri(r,s,o);break;case 21:Ri(r,s,o);break;case 22:_n=(l=_n)||o.memoizedState!==null,Ri(r,s,o),_n=l;break;default:Ri(r,s,o)}}function cv(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{$a(r)}catch(o){Yt(s,s.return,o)}}}function lv(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{$a(r)}catch(o){Yt(s,s.return,o)}}function VT(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new iv),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new iv),s;default:throw Error(i(435,r.tag))}}function Al(r,s){var o=VT(r);s.forEach(function(l){if(!o.has(l)){o.add(l);var p=JT.bind(null,r,l);l.then(p,p)}})}function nr(r,s){var o=s.deletions;if(o!==null)for(var l=0;l<o.length;l++){var p=o[l],y=r,_=s,O=_;e:for(;O!==null;){switch(O.tag){case 27:if(us(O.type)){rn=O.stateNode,tr=!1;break e}break;case 5:rn=O.stateNode,tr=!1;break e;case 3:case 4:rn=O.stateNode.containerInfo,tr=!0;break e}O=O.return}if(rn===null)throw Error(i(160));ov(y,_,p),rn=null,tr=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)uv(s,r),s=s.sibling}var Br=null;function uv(r,s){var o=r.alternate,l=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:nr(s,r),rr(r),l&4&&(rs(3,r,r.return),Io(3,r),rs(5,r,r.return));break;case 1:nr(s,r),rr(r),l&512&&(_n||o===null||ei(o,o.return)),l&64&&Ti&&(r=r.updateQueue,r!==null&&(l=r.callbacks,l!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?l:o.concat(l))));break;case 26:var p=Br;if(nr(s,r),rr(r),l&512&&(_n||o===null||ei(o,o.return)),l&4){var y=o!==null?o.memoizedState:null;if(l=r.memoizedState,o===null)if(l===null)if(r.stateNode===null){e:{l=r.type,o=r.memoizedProps,p=p.ownerDocument||p;t:switch(l){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Je]||y[V]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(l),p.head.insertBefore(y,p.querySelector("head > title"))),In(y,l,o),y[V]=r,Ie(y),l=y;break e;case"link":var _=ub("link","href",p).get(l+(o.href||""));if(_){for(var O=0;O<_.length;O++)if(y=_[O],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(O,1);break t}}y=p.createElement(l),In(y,l,o),p.head.appendChild(y);break;case"meta":if(_=ub("meta","content",p).get(l+(o.content||""))){for(O=0;O<_.length;O++)if(y=_[O],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(O,1);break t}}y=p.createElement(l),In(y,l,o),p.head.appendChild(y);break;default:throw Error(i(468,l))}y[V]=r,Ie(y),l=y}r.stateNode=l}else fb(p,r.type,r.stateNode);else r.stateNode=lb(p,l,r.memoizedProps);else y!==l?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,l===null?fb(p,r.type,r.stateNode):lb(p,l,r.memoizedProps)):l===null&&r.stateNode!==null&&ch(r,r.memoizedProps,o.memoizedProps)}break;case 27:nr(s,r),rr(r),l&512&&(_n||o===null||ei(o,o.return)),o!==null&&l&4&&ch(r,r.memoizedProps,o.memoizedProps);break;case 5:if(nr(s,r),rr(r),l&512&&(_n||o===null||ei(o,o.return)),r.flags&32){p=r.stateNode;try{Vt(p,"")}catch(Be){Yt(r,r.return,Be)}}l&4&&r.stateNode!=null&&(p=r.memoizedProps,ch(r,p,o!==null?o.memoizedProps:p)),l&1024&&(fh=!0);break;case 6:if(nr(s,r),rr(r),l&4){if(r.stateNode===null)throw Error(i(162));l=r.memoizedProps,o=r.stateNode;try{o.nodeValue=l}catch(Be){Yt(r,r.return,Be)}}break;case 3:if(ql=null,p=Br,Br=$l(s.containerInfo),nr(s,r),Br=p,rr(r),l&4&&o!==null&&o.memoizedState.isDehydrated)try{$a(s.containerInfo)}catch(Be){Yt(r,r.return,Be)}fh&&(fh=!1,fv(r));break;case 4:l=Br,Br=$l(r.stateNode.containerInfo),nr(s,r),rr(r),Br=l;break;case 12:nr(s,r),rr(r);break;case 31:nr(s,r),rr(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Al(r,l)));break;case 13:nr(s,r),rr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ml=ft()),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Al(r,l)));break;case 22:p=r.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,Q=Ti,oe=_n;if(Ti=Q||p,_n=oe||U,nr(s,r),_n=oe,Ti=Q,rr(r),l&8192)e:for(s=r.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||U||Ti||_n||qs(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){U=o=s;try{if(y=U.stateNode,p)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{O=U.stateNode;var he=U.memoizedProps.style,J=he!=null&&he.hasOwnProperty("display")?he.display:null;O.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Be){Yt(U,U.return,Be)}}}else if(s.tag===6){if(o===null){U=s;try{U.stateNode.nodeValue=p?"":U.memoizedProps}catch(Be){Yt(U,U.return,Be)}}}else if(s.tag===18){if(o===null){U=s;try{var ne=U.stateNode;p?eb(ne,!0):eb(U.stateNode,!1)}catch(Be){Yt(U,U.return,Be)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=r.updateQueue,l!==null&&(o=l.retryQueue,o!==null&&(l.retryQueue=null,Al(r,o))));break;case 19:nr(s,r),rr(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Al(r,l)));break;case 30:break;case 21:break;default:nr(s,r),rr(r)}}function rr(r){var s=r.flags;if(s&2){try{for(var o,l=r.return;l!==null;){if(nv(l)){o=l;break}l=l.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var p=o.stateNode,y=lh(r);Rl(r,y,p);break;case 5:var _=o.stateNode;o.flags&32&&(Vt(_,""),o.flags&=-33);var O=lh(r);Rl(r,O,_);break;case 3:case 4:var U=o.stateNode.containerInfo,Q=lh(r);uh(r,Q,U);break;default:throw Error(i(161))}}catch(oe){Yt(r,r.return,oe)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function fv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;fv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Ai(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)sv(r,s.alternate,s),s=s.sibling}function qs(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:rs(4,s,s.return),qs(s);break;case 1:ei(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&ev(s,s.return,o),qs(s);break;case 27:Xo(s.stateNode);case 26:case 5:ei(s,s.return),qs(s);break;case 22:s.memoizedState===null&&qs(s);break;case 30:qs(s);break;default:qs(s)}r=r.sibling}}function Oi(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,p=r,y=s,_=y.flags;switch(y.tag){case 0:case 11:case 15:Oi(p,y,o),Io(4,y);break;case 1:if(Oi(p,y,o),l=y,p=l.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Q){Yt(l,l.return,Q)}if(l=y,p=l.updateQueue,p!==null){var O=l.stateNode;try{var U=p.shared.hiddenCallbacks;if(U!==null)for(p.shared.hiddenCallbacks=null,p=0;p<U.length;p++)$g(U[p],O)}catch(Q){Yt(l,l.return,Q)}}o&&_&64&&W0(y),Bo(y,y.return);break;case 27:rv(y);case 26:case 5:Oi(p,y,o),o&&l===null&&_&4&&tv(y),Bo(y,y.return);break;case 12:Oi(p,y,o);break;case 31:Oi(p,y,o),o&&_&4&&cv(p,y);break;case 13:Oi(p,y,o),o&&_&4&&lv(p,y);break;case 22:y.memoizedState===null&&Oi(p,y,o),Bo(y,y.return);break;case 30:break;default:Oi(p,y,o)}s=s.sibling}}function dh(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&To(o))}function hh(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&To(r))}function Hr(r,s,o,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)dv(r,s,o,l),s=s.sibling}function dv(r,s,o,l){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Hr(r,s,o,l),p&2048&&Io(9,s);break;case 1:Hr(r,s,o,l);break;case 3:Hr(r,s,o,l),p&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&To(r)));break;case 12:if(p&2048){Hr(r,s,o,l),r=s.stateNode;try{var y=s.memoizedProps,_=y.id,O=y.onPostCommit;typeof O=="function"&&O(_,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(U){Yt(s,s.return,U)}}else Hr(r,s,o,l);break;case 31:Hr(r,s,o,l);break;case 13:Hr(r,s,o,l);break;case 23:break;case 22:y=s.stateNode,_=s.alternate,s.memoizedState!==null?y._visibility&2?Hr(r,s,o,l):Ho(r,s):y._visibility&2?Hr(r,s,o,l):(y._visibility|=2,Pa(r,s,o,l,(s.subtreeFlags&10256)!==0||!1)),p&2048&&dh(_,s);break;case 24:Hr(r,s,o,l),p&2048&&hh(s.alternate,s);break;default:Hr(r,s,o,l)}}function Pa(r,s,o,l,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=r,_=s,O=o,U=l,Q=_.flags;switch(_.tag){case 0:case 11:case 15:Pa(y,_,O,U,p),Io(8,_);break;case 23:break;case 22:var oe=_.stateNode;_.memoizedState!==null?oe._visibility&2?Pa(y,_,O,U,p):Ho(y,_):(oe._visibility|=2,Pa(y,_,O,U,p)),p&&Q&2048&&dh(_.alternate,_);break;case 24:Pa(y,_,O,U,p),p&&Q&2048&&hh(_.alternate,_);break;default:Pa(y,_,O,U,p)}s=s.sibling}}function Ho(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,l=s,p=l.flags;switch(l.tag){case 22:Ho(o,l),p&2048&&dh(l.alternate,l);break;case 24:Ho(o,l),p&2048&&hh(l.alternate,l);break;default:Ho(o,l)}s=s.sibling}}var $o=8192;function Na(r,s,o){if(r.subtreeFlags&$o)for(r=r.child;r!==null;)hv(r,s,o),r=r.sibling}function hv(r,s,o){switch(r.tag){case 26:Na(r,s,o),r.flags&$o&&r.memoizedState!==null&&OR(o,Br,r.memoizedState,r.memoizedProps);break;case 5:Na(r,s,o);break;case 3:case 4:var l=Br;Br=$l(r.stateNode.containerInfo),Na(r,s,o),Br=l;break;case 22:r.memoizedState===null&&(l=r.alternate,l!==null&&l.memoizedState!==null?(l=$o,$o=16777216,Na(r,s,o),$o=l):Na(r,s,o));break;default:Na(r,s,o)}}function pv(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Vo(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var l=s[o];Dn=l,yv(l,r)}pv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)mv(r),r=r.sibling}function mv(r){switch(r.tag){case 0:case 11:case 15:Vo(r),r.flags&2048&&rs(9,r,r.return);break;case 3:Vo(r);break;case 12:Vo(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Ol(r)):Vo(r);break;default:Vo(r)}}function Ol(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var l=s[o];Dn=l,yv(l,r)}pv(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:rs(8,s,s.return),Ol(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Ol(s));break;default:Ol(s)}r=r.sibling}}function yv(r,s){for(;Dn!==null;){var o=Dn;switch(o.tag){case 0:case 11:case 15:rs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var l=o.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:To(o.memoizedState.cache)}if(l=o.child,l!==null)l.return=o,Dn=l;else e:for(o=r;Dn!==null;){l=Dn;var p=l.sibling,y=l.return;if(av(l),l===o){Dn=null;break e}if(p!==null){p.return=y,Dn=p;break e}Dn=y}}}var qT={getCacheForType:function(r){var s=Un(bn),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o},cacheSignal:function(){return Un(bn).controller.signal}},YT=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Xt=null,_t=null,Tt=0,qt=0,mr=null,is=!1,Da=!1,ph=!1,Mi=0,un=0,ss=0,Ys=0,mh=0,yr=0,ka=0,qo=null,ir=null,yh=!1,Ml=0,gv=0,Pl=1/0,Nl=null,as=null,Tn=0,os=null,ja=null,Pi=0,gh=0,vh=null,vv=null,Yo=0,bh=null;function gr(){return(Bt&2)!==0&&Tt!==0?Tt&-Tt:H.T!==null?Ch():v()}function bv(){if(yr===0)if((Tt&536870912)===0||Ot){var r=re;re<<=1,(re&3932160)===0&&(re=262144),yr=r}else yr=536870912;return r=hr.current,r!==null&&(r.flags|=32),yr}function sr(r,s,o){(r===Xt&&(qt===2||qt===9)||r.cancelPendingCommit!==null)&&(La(r,0),cs(r,Tt,yr,!1)),Fi(r,o),((Bt&2)===0||r!==Xt)&&(r===Xt&&((Bt&2)===0&&(Ys|=o),un===4&&cs(r,Tt,yr,!1)),ti(r))}function xv(r,s,o){if((Bt&6)!==0)throw Error(i(327));var l=!o&&(s&127)===0&&(s&r.expiredLanes)===0||It(r,s),p=l?KT(r,s):Sh(r,s,!0),y=l;do{if(p===0){Da&&!l&&cs(r,s,0,!1);break}else{if(o=r.current.alternate,y&&!FT(o)){p=Sh(r,s,!1),y=!1;continue}if(p===2){if(y=s,r.errorRecoveryDisabledLanes&y)var _=0;else _=r.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var O=r;p=qo;var U=O.current.memoizedState.isDehydrated;if(U&&(La(O,_).flags|=256),_=Sh(O,_,!1),_!==2){if(ph&&!U){O.errorRecoveryDisabledLanes|=y,Ys|=y,p=4;break e}y=ir,ir=p,y!==null&&(ir===null?ir=y:ir.push.apply(ir,y))}p=_}if(y=!1,p!==2)continue}}if(p===1){La(r,0),cs(r,s,0,!0);break}e:{switch(l=r,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:cs(l,s,yr,!is);break e;case 2:ir=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(p=Ml+300-ft(),10<p)){if(cs(l,s,yr,!is),zt(l,0,!0)!==0)break e;Pi=s,l.timeoutHandle=Zv(Sv.bind(null,l,o,ir,Nl,yh,s,yr,Ys,ka,is,y,"Throttled",-0,0),p);break e}Sv(l,o,ir,Nl,yh,s,yr,Ys,ka,is,y,null,-0,0)}}break}while(!0);ti(r)}function Sv(r,s,o,l,p,y,_,O,U,Q,oe,he,J,ne){if(r.timeoutHandle=-1,he=s.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yi},hv(s,y,he);var Be=(y&62914560)===y?Ml-ft():(y&4194048)===y?gv-ft():0;if(Be=MR(he,Be),Be!==null){Pi=y,r.cancelPendingCommit=Be(Ov.bind(null,r,s,y,o,l,p,_,O,U,oe,he,null,J,ne)),cs(r,y,_,!Q);return}}Ov(r,s,y,o,l,p,_,O,U)}function FT(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var l=0;l<o.length;l++){var p=o[l],y=p.getSnapshot;p=p.value;try{if(!fr(y(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function cs(r,s,o,l){s&=~mh,s&=~Ys,r.suspendedLanes|=s,r.pingedLanes&=~s,l&&(r.warmLanes|=s),l=r.expirationTimes;for(var p=s;0<p;){var y=31-pn(p),_=1<<y;l[y]=-1,p&=~_}o!==0&&$n(r,o,s)}function Dl(){return(Bt&6)===0?(Fo(0),!1):!0}function xh(){if(_t!==null){if(qt===0)var r=_t.return;else r=_t,xi=Ls=null,Ld(r),Ta=null,Ao=0,r=_t;for(;r!==null;)J0(r.alternate,r),r=r.return;_t=null}}function La(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,dR(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Pi=0,xh(),Xt=r,_t=o=vi(r.current,null),Tt=s,qt=0,mr=null,is=!1,Da=It(r,s),ph=!1,ka=yr=mh=Ys=ss=un=0,ir=qo=null,yh=!1,(s&8)!==0&&(s|=s&32);var l=r.entangledLanes;if(l!==0)for(r=r.entanglements,l&=s;0<l;){var p=31-pn(l),y=1<<p;s|=r[p],l&=~y}return Mi=s,el(),o}function _v(r,s){ht=null,H.H=Lo,s===Ca||s===cl?(s=zg(),qt=3):s===Ed?(s=zg(),qt=4):qt=s===Jd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,mr=s,_t===null&&(un=1,_l(r,Rr(s,r.current)))}function wv(){var r=hr.current;return r===null?!0:(Tt&4194048)===Tt?Pr===null:(Tt&62914560)===Tt||(Tt&536870912)!==0?r===Pr:!1}function Ev(){var r=H.H;return H.H=Lo,r===null?Lo:r}function Cv(){var r=H.A;return H.A=qT,r}function kl(){un=4,is||(Tt&4194048)!==Tt&&hr.current!==null||(Da=!0),(ss&134217727)===0&&(Ys&134217727)===0||Xt===null||cs(Xt,Tt,yr,!1)}function Sh(r,s,o){var l=Bt;Bt|=2;var p=Ev(),y=Cv();(Xt!==r||Tt!==s)&&(Nl=null,La(r,s)),s=!1;var _=un;e:do try{if(qt!==0&&_t!==null){var O=_t,U=mr;switch(qt){case 8:xh(),_=6;break e;case 3:case 2:case 9:case 6:hr.current===null&&(s=!0);var Q=qt;if(qt=0,mr=null,Ua(r,O,U,Q),o&&Da){_=0;break e}break;default:Q=qt,qt=0,mr=null,Ua(r,O,U,Q)}}GT(),_=un;break}catch(oe){_v(r,oe)}while(!0);return s&&r.shellSuspendCounter++,xi=Ls=null,Bt=l,H.H=p,H.A=y,_t===null&&(Xt=null,Tt=0,el()),_}function GT(){for(;_t!==null;)Tv(_t)}function KT(r,s){var o=Bt;Bt|=2;var l=Ev(),p=Cv();Xt!==r||Tt!==s?(Nl=null,Pl=ft()+500,La(r,s)):Da=It(r,s);e:do try{if(qt!==0&&_t!==null){s=_t;var y=mr;t:switch(qt){case 1:qt=0,mr=null,Ua(r,s,y,1);break;case 2:case 9:if(Lg(y)){qt=0,mr=null,Rv(s);break}s=function(){qt!==2&&qt!==9||Xt!==r||(qt=7),ti(r)},y.then(s,s);break e;case 3:qt=7;break e;case 4:qt=5;break e;case 7:Lg(y)?(qt=0,mr=null,Rv(s)):(qt=0,mr=null,Ua(r,s,y,7));break;case 5:var _=null;switch(_t.tag){case 26:_=_t.memoizedState;case 5:case 27:var O=_t;if(_?db(_):O.stateNode.complete){qt=0,mr=null;var U=O.sibling;if(U!==null)_t=U;else{var Q=O.return;Q!==null?(_t=Q,jl(Q)):_t=null}break t}}qt=0,mr=null,Ua(r,s,y,5);break;case 6:qt=0,mr=null,Ua(r,s,y,6);break;case 8:xh(),un=6;break e;default:throw Error(i(462))}}XT();break}catch(oe){_v(r,oe)}while(!0);return xi=Ls=null,H.H=l,H.A=p,Bt=o,_t!==null?0:(Xt=null,Tt=0,el(),un)}function XT(){for(;_t!==null&&!En();)Tv(_t)}function Tv(r){var s=Q0(r.alternate,r,Mi);r.memoizedProps=r.pendingProps,s===null?jl(r):_t=s}function Rv(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=q0(o,s,s.pendingProps,s.type,void 0,Tt);break;case 11:s=q0(o,s,s.pendingProps,s.type.render,s.ref,Tt);break;case 5:Ld(s);default:J0(o,s),s=_t=Cg(s,Mi),s=Q0(o,s,Mi)}r.memoizedProps=r.pendingProps,s===null?jl(r):_t=s}function Ua(r,s,o,l){xi=Ls=null,Ld(s),Ta=null,Ao=0;var p=s.return;try{if(UT(r,p,s,o,Tt)){un=1,_l(r,Rr(o,r.current)),_t=null;return}}catch(y){if(p!==null)throw _t=p,y;un=1,_l(r,Rr(o,r.current)),_t=null;return}s.flags&32768?(Ot||l===1?r=!0:Da||(Tt&536870912)!==0?r=!1:(is=r=!0,(l===2||l===9||l===3||l===6)&&(l=hr.current,l!==null&&l.tag===13&&(l.flags|=16384))),Av(s,r)):jl(s)}function jl(r){var s=r;do{if((s.flags&32768)!==0){Av(s,is);return}r=s.return;var o=BT(s.alternate,s,Mi);if(o!==null){_t=o;return}if(s=s.sibling,s!==null){_t=s;return}_t=s=r}while(s!==null);un===0&&(un=5)}function Av(r,s){do{var o=HT(r.alternate,r);if(o!==null){o.flags&=32767,_t=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){_t=r;return}_t=r=o}while(r!==null);un=6,_t=null}function Ov(r,s,o,l,p,y,_,O,U){r.cancelPendingCommit=null;do Ll();while(Tn!==0);if((Bt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=ld,Yf(r,o,y,_,O,U),r===Xt&&(_t=Xt=null,Tt=0),ja=s,os=r,Pi=o,gh=y,vh=p,vv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,WT(Mn,function(){return kv(),null})):(r.callbackNode=null,r.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,p=se.p,se.p=2,_=Bt,Bt|=4;try{$T(r,s,o)}finally{Bt=_,se.p=p,H.T=l}}Tn=1,Mv(),Pv(),Nv()}}function Mv(){if(Tn===1){Tn=0;var r=os,s=ja,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var l=se.p;se.p=2;var p=Bt;Bt|=4;try{uv(s,r);var y=Dh,_=yg(r.containerInfo),O=y.focusedElem,U=y.selectionRange;if(_!==O&&O&&O.ownerDocument&&mg(O.ownerDocument.documentElement,O)){if(U!==null&&id(O)){var Q=U.start,oe=U.end;if(oe===void 0&&(oe=Q),"selectionStart"in O)O.selectionStart=Q,O.selectionEnd=Math.min(oe,O.value.length);else{var he=O.ownerDocument||document,J=he&&he.defaultView||window;if(J.getSelection){var ne=J.getSelection(),Be=O.textContent.length,tt=Math.min(U.start,Be),Kt=U.end===void 0?tt:Math.min(U.end,Be);!ne.extend&&tt>Kt&&(_=Kt,Kt=tt,tt=_);var q=pg(O,tt),B=pg(O,Kt);if(q&&B&&(ne.rangeCount!==1||ne.anchorNode!==q.node||ne.anchorOffset!==q.offset||ne.focusNode!==B.node||ne.focusOffset!==B.offset)){var K=he.createRange();K.setStart(q.node,q.offset),ne.removeAllRanges(),tt>Kt?(ne.addRange(K),ne.extend(B.node,B.offset)):(K.setEnd(B.node,B.offset),ne.addRange(K))}}}}for(he=[],ne=O;ne=ne.parentNode;)ne.nodeType===1&&he.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<he.length;O++){var le=he[O];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Kl=!!Nh,Dh=Nh=null}finally{Bt=p,se.p=l,H.T=o}}r.current=s,Tn=2}}function Pv(){if(Tn===2){Tn=0;var r=os,s=ja,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var l=se.p;se.p=2;var p=Bt;Bt|=4;try{sv(r,s.alternate,s)}finally{Bt=p,se.p=l,H.T=o}}Tn=3}}function Nv(){if(Tn===4||Tn===3){Tn=0,ct();var r=os,s=ja,o=Pi,l=vv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Tn=5:(Tn=0,ja=os=null,Dv(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(as=null),R(o),s=s.stateNode,hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(Cr,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=H.T,p=se.p,se.p=2,H.T=null;try{for(var y=r.onRecoverableError,_=0;_<l.length;_++){var O=l[_];y(O.value,{componentStack:O.stack})}}finally{H.T=s,se.p=p}}(Pi&3)!==0&&Ll(),ti(r),p=r.pendingLanes,(o&261930)!==0&&(p&42)!==0?r===bh?Yo++:(Yo=0,bh=r):Yo=0,Fo(0)}}function Dv(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,To(s)))}function Ll(){return Mv(),Pv(),Nv(),kv()}function kv(){if(Tn!==5)return!1;var r=os,s=gh;gh=0;var o=R(Pi),l=H.T,p=se.p;try{se.p=32>o?32:o,H.T=null,o=vh,vh=null;var y=os,_=Pi;if(Tn=0,ja=os=null,Pi=0,(Bt&6)!==0)throw Error(i(331));var O=Bt;if(Bt|=4,mv(y.current),dv(y,y.current,_,o),Bt=O,Fo(0,!1),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(Cr,y)}catch{}return!0}finally{se.p=p,H.T=l,Dv(r,s)}}function jv(r,s,o){s=Rr(o,s),s=Zd(r.stateNode,s,2),r=es(r,s,2),r!==null&&(Fi(r,2),ti(r))}function Yt(r,s,o){if(r.tag===3)jv(r,r,o);else for(;s!==null;){if(s.tag===3){jv(s,r,o);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(as===null||!as.has(l))){r=Rr(o,r),o=L0(2),l=es(s,o,2),l!==null&&(U0(o,l,s,r),Fi(l,2),ti(l));break}}s=s.return}}function _h(r,s,o){var l=r.pingCache;if(l===null){l=r.pingCache=new YT;var p=new Set;l.set(s,p)}else p=l.get(s),p===void 0&&(p=new Set,l.set(s,p));p.has(o)||(ph=!0,p.add(o),r=QT.bind(null,r,s,o),s.then(r,r))}function QT(r,s,o){var l=r.pingCache;l!==null&&l.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Xt===r&&(Tt&o)===o&&(un===4||un===3&&(Tt&62914560)===Tt&&300>ft()-Ml?(Bt&2)===0&&La(r,0):mh|=o,ka===Tt&&(ka=0)),ti(r)}function Lv(r,s){s===0&&(s=fa()),r=Ds(r,s),r!==null&&(Fi(r,s),ti(r))}function ZT(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),Lv(r,o)}function JT(r,s){var o=0;switch(r.tag){case 31:case 13:var l=r.stateNode,p=r.memoizedState;p!==null&&(o=p.retryLane);break;case 19:l=r.stateNode;break;case 22:l=r.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),Lv(r,o)}function WT(r,s){return Ct(r,s)}var Ul=null,za=null,wh=!1,zl=!1,Eh=!1,ls=0;function ti(r){r!==za&&r.next===null&&(za===null?Ul=za=r:za=za.next=r),zl=!0,wh||(wh=!0,tR())}function Fo(r,s){if(!Eh&&zl){Eh=!0;do for(var o=!1,l=Ul;l!==null;){if(r!==0){var p=l.pendingLanes;if(p===0)var y=0;else{var _=l.suspendedLanes,O=l.pingedLanes;y=(1<<31-pn(42|r)+1)-1,y&=p&~(_&~O),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Bv(l,y))}else y=Tt,y=zt(l,l===Xt?y:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(y&3)===0||It(l,y)||(o=!0,Bv(l,y));l=l.next}while(o);Eh=!1}}function eR(){Uv()}function Uv(){zl=wh=!1;var r=0;ls!==0&&fR()&&(r=ls);for(var s=ft(),o=null,l=Ul;l!==null;){var p=l.next,y=zv(l,s);y===0?(l.next=null,o===null?Ul=p:o.next=p,p===null&&(za=o)):(o=l,(r!==0||(y&3)!==0)&&(zl=!0)),l=p}Tn!==0&&Tn!==5||Fo(r),ls!==0&&(ls=0)}function zv(r,s){for(var o=r.suspendedLanes,l=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var _=31-pn(y),O=1<<_,U=p[_];U===-1?((O&o)===0||(O&l)!==0)&&(p[_]=ur(O,s)):U<=s&&(r.expiredLanes|=O),y&=~O}if(s=Xt,o=Tt,o=zt(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l=r.callbackNode,o===0||r===s&&(qt===2||qt===9)||r.cancelPendingCommit!==null)return l!==null&&l!==null&&an(l),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||It(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(l!==null&&an(l),R(o)){case 2:case 8:o=Er;break;case 32:o=Mn;break;case 268435456:o=mi;break;default:o=Mn}return l=Iv.bind(null,r),o=Ct(o,l),r.callbackPriority=s,r.callbackNode=o,s}return l!==null&&l!==null&&an(l),r.callbackPriority=2,r.callbackNode=null,2}function Iv(r,s){if(Tn!==0&&Tn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Ll()&&r.callbackNode!==o)return null;var l=Tt;return l=zt(r,r===Xt?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l===0?null:(xv(r,l,s),zv(r,ft()),r.callbackNode!=null&&r.callbackNode===o?Iv.bind(null,r):null)}function Bv(r,s){if(Ll())return null;xv(r,s,!0)}function tR(){hR(function(){(Bt&6)!==0?Ct(Cn,eR):Uv()})}function Ch(){if(ls===0){var r=wa;r===0&&(r=Zr,Zr<<=1,(Zr&261888)===0&&(Zr=256)),ls=r}return ls}function Hv(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Fc(""+r)}function $v(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function nR(r,s,o,l,p){if(s==="submit"&&o&&o.stateNode===p){var y=Hv((p[ae]||null).action),_=l.submitter;_&&(s=(s=_[ae]||null)?Hv(s.formAction):_.getAttribute("formAction"),s!==null&&(y=s,_=null));var O=new Qc("action","action",null,l,p);r.push({event:O,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ls!==0){var U=_?$v(p,_):new FormData(p);Yd(o,{pending:!0,data:U,method:p.method,action:y},null,U)}}else typeof y=="function"&&(O.preventDefault(),U=_?$v(p,_):new FormData(p),Yd(o,{pending:!0,data:U,method:p.method,action:y},y,U))},currentTarget:p}]})}}for(var Th=0;Th<cd.length;Th++){var Rh=cd[Th],rR=Rh.toLowerCase(),iR=Rh[0].toUpperCase()+Rh.slice(1);Ir(rR,"on"+iR)}Ir(bg,"onAnimationEnd"),Ir(xg,"onAnimationIteration"),Ir(Sg,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(xT,"onTransitionRun"),Ir(ST,"onTransitionStart"),Ir(_T,"onTransitionCancel"),Ir(_g,"onTransitionEnd"),Me("onMouseEnter",["mouseout","mouseover"]),Me("onMouseLeave",["mouseout","mouseover"]),Me("onPointerEnter",["pointerout","pointerover"]),Me("onPointerLeave",["pointerout","pointerover"]),Ce("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ce("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ce("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ce("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ce("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ce("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Go));function Vv(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var l=r[o],p=l.event;l=l.listeners;e:{var y=void 0;if(s)for(var _=l.length-1;0<=_;_--){var O=l[_],U=O.instance,Q=O.currentTarget;if(O=O.listener,U!==y&&p.isPropagationStopped())break e;y=O,p.currentTarget=Q;try{y(p)}catch(oe){Wc(oe)}p.currentTarget=null,y=U}else for(_=0;_<l.length;_++){if(O=l[_],U=O.instance,Q=O.currentTarget,O=O.listener,U!==y&&p.isPropagationStopped())break e;y=O,p.currentTarget=Q;try{y(p)}catch(oe){Wc(oe)}p.currentTarget=null,y=U}}}}function wt(r,s){var o=s[ze];o===void 0&&(o=s[ze]=new Set);var l=r+"__bubble";o.has(l)||(qv(s,r,2,!1),o.add(l))}function Ah(r,s,o){var l=0;s&&(l|=4),qv(o,r,l,s)}var Il="_reactListening"+Math.random().toString(36).slice(2);function Oh(r){if(!r[Il]){r[Il]=!0,ke.forEach(function(o){o!=="selectionchange"&&(sR.has(o)||Ah(o,!1,r),Ah(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Il]||(s[Il]=!0,Ah("selectionchange",!1,s))}}function qv(r,s,o,l){switch(bb(s)){case 2:var p=DR;break;case 8:p=kR;break;default:p=qh}o=p.bind(null,s,o,r),p=void 0,!Xf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),l?p!==void 0?r.addEventListener(s,o,{capture:!0,passive:p}):r.addEventListener(s,o,!0):p!==void 0?r.addEventListener(s,o,{passive:p}):r.addEventListener(s,o,!1)}function Mh(r,s,o,l,p){var y=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var O=l.stateNode.containerInfo;if(O===p)break;if(_===4)for(_=l.return;_!==null;){var U=_.tag;if((U===3||U===4)&&_.stateNode.containerInfo===p)return;_=_.return}for(;O!==null;){if(_=it(O),_===null)return;if(U=_.tag,U===5||U===6||U===26||U===27){l=y=_;continue e}O=O.parentNode}}l=l.return}Xy(function(){var Q=y,oe=Gf(o),he=[];e:{var J=wg.get(r);if(J!==void 0){var ne=Qc,Be=r;switch(r){case"keypress":if(Kc(o)===0)break e;case"keydown":case"keyup":ne=JC;break;case"focusin":Be="focus",ne=Wf;break;case"focusout":Be="blur",ne=Wf;break;case"beforeblur":case"afterblur":ne=Wf;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Jy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=BC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=tT;break;case bg:case xg:case Sg:ne=VC;break;case _g:ne=rT;break;case"scroll":case"scrollend":ne=zC;break;case"wheel":ne=sT;break;case"copy":case"cut":case"paste":ne=YC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=eg;break;case"toggle":case"beforetoggle":ne=oT}var tt=(s&4)!==0,Kt=!tt&&(r==="scroll"||r==="scrollend"),q=tt?J!==null?J+"Capture":null:J;tt=[];for(var B=Q,K;B!==null;){var le=B;if(K=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||K===null||q===null||(le=mo(B,q),le!=null&&tt.push(Ko(B,le,K))),Kt)break;B=B.return}0<tt.length&&(J=new ne(J,Be,null,o,oe),he.push({event:J,listeners:tt}))}}if((s&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",ne=r==="mouseout"||r==="pointerout",J&&o!==Ff&&(Be=o.relatedTarget||o.fromElement)&&(it(Be)||Be[xe]))break e;if((ne||J)&&(J=oe.window===oe?oe:(J=oe.ownerDocument)?J.defaultView||J.parentWindow:window,ne?(Be=o.relatedTarget||o.toElement,ne=Q,Be=Be?it(Be):null,Be!==null&&(Kt=c(Be),tt=Be.tag,Be!==Kt||tt!==5&&tt!==27&&tt!==6)&&(Be=null)):(ne=null,Be=Q),ne!==Be)){if(tt=Jy,le="onMouseLeave",q="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(tt=eg,le="onPointerLeave",q="onPointerEnter",B="pointer"),Kt=ne==null?J:We(ne),K=Be==null?J:We(Be),J=new tt(le,B+"leave",ne,o,oe),J.target=Kt,J.relatedTarget=K,le=null,it(oe)===Q&&(tt=new tt(q,B+"enter",Be,o,oe),tt.target=K,tt.relatedTarget=Kt,le=tt),Kt=le,ne&&Be)t:{for(tt=aR,q=ne,B=Be,K=0,le=q;le;le=tt(le))K++;le=0;for(var Ze=B;Ze;Ze=tt(Ze))le++;for(;0<K-le;)q=tt(q),K--;for(;0<le-K;)B=tt(B),le--;for(;K--;){if(q===B||B!==null&&q===B.alternate){tt=q;break t}q=tt(q),B=tt(B)}tt=null}else tt=null;ne!==null&&Yv(he,J,ne,tt,!1),Be!==null&&Kt!==null&&Yv(he,Kt,Be,tt,!0)}}e:{if(J=Q?We(Q):window,ne=J.nodeName&&J.nodeName.toLowerCase(),ne==="select"||ne==="input"&&J.type==="file")var jt=cg;else if(ag(J))if(lg)jt=gT;else{jt=mT;var Ye=pT}else ne=J.nodeName,!ne||ne.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Q&&vn(Q.elementType)&&(jt=cg):jt=yT;if(jt&&(jt=jt(r,Q))){og(he,jt,o,oe);break e}Ye&&Ye(r,J,Q),r==="focusout"&&Q&&J.type==="number"&&Q.memoizedProps.value!=null&&bt(J,"number",J.value)}switch(Ye=Q?We(Q):window,r){case"focusin":(ag(Ye)||Ye.contentEditable==="true")&&(ma=Ye,sd=Q,wo=null);break;case"focusout":wo=sd=ma=null;break;case"mousedown":ad=!0;break;case"contextmenu":case"mouseup":case"dragend":ad=!1,gg(he,o,oe);break;case"selectionchange":if(bT)break;case"keydown":case"keyup":gg(he,o,oe)}var yt;if(td)e:{switch(r){case"compositionstart":var Rt="onCompositionStart";break e;case"compositionend":Rt="onCompositionEnd";break e;case"compositionupdate":Rt="onCompositionUpdate";break e}Rt=void 0}else pa?ig(r,o)&&(Rt="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Rt="onCompositionStart");Rt&&(tg&&o.locale!=="ko"&&(pa||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&pa&&(yt=Qy()):(Gi=oe,Qf="value"in Gi?Gi.value:Gi.textContent,pa=!0)),Ye=Bl(Q,Rt),0<Ye.length&&(Rt=new Wy(Rt,r,null,o,oe),he.push({event:Rt,listeners:Ye}),yt?Rt.data=yt:(yt=sg(o),yt!==null&&(Rt.data=yt)))),(yt=lT?uT(r,o):fT(r,o))&&(Rt=Bl(Q,"onBeforeInput"),0<Rt.length&&(Ye=new Wy("onBeforeInput","beforeinput",null,o,oe),he.push({event:Ye,listeners:Rt}),Ye.data=yt)),nR(he,r,Q,o,oe)}Vv(he,s)})}function Ko(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Bl(r,s){for(var o=s+"Capture",l=[];r!==null;){var p=r,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=mo(r,o),p!=null&&l.unshift(Ko(r,p,y)),p=mo(r,s),p!=null&&l.push(Ko(r,p,y))),r.tag===3)return l;r=r.return}return[]}function aR(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Yv(r,s,o,l,p){for(var y=s._reactName,_=[];o!==null&&o!==l;){var O=o,U=O.alternate,Q=O.stateNode;if(O=O.tag,U!==null&&U===l)break;O!==5&&O!==26&&O!==27||Q===null||(U=Q,p?(Q=mo(o,y),Q!=null&&_.unshift(Ko(o,Q,U))):p||(Q=mo(o,y),Q!=null&&_.push(Ko(o,Q,U)))),o=o.return}_.length!==0&&r.push({event:s,listeners:_})}var oR=/\r\n?/g,cR=/\u0000|\uFFFD/g;function Fv(r){return(typeof r=="string"?r:""+r).replace(oR,`
`).replace(cR,"")}function Gv(r,s){return s=Fv(s),Fv(r)===s}function Gt(r,s,o,l,p,y){switch(o){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Vt(r,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Vt(r,""+l);break;case"className":fe(r,"class",l);break;case"tabIndex":fe(r,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fe(r,o,l);break;case"style":cn(r,l,y);break;case"data":if(s!=="object"){fe(r,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(o);break}l=Fc(""+l),r.setAttribute(o,l);break;case"action":case"formAction":if(typeof l=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&Gt(r,s,"name",p.name,p,null),Gt(r,s,"formEncType",p.formEncType,p,null),Gt(r,s,"formMethod",p.formMethod,p,null),Gt(r,s,"formTarget",p.formTarget,p,null)):(Gt(r,s,"encType",p.encType,p,null),Gt(r,s,"method",p.method,p,null),Gt(r,s,"target",p.target,p,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(o);break}l=Fc(""+l),r.setAttribute(o,l);break;case"onClick":l!=null&&(r.onclick=yi);break;case"onScroll":l!=null&&wt("scroll",r);break;case"onScrollEnd":l!=null&&wt("scrollend",r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(o=l.__html,o!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":r.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){r.removeAttribute("xlink:href");break}o=Fc(""+l),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,""+l):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":l===!0?r.setAttribute(o,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,l):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?r.setAttribute(o,l):r.removeAttribute(o);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?r.removeAttribute(o):r.setAttribute(o,l);break;case"popover":wt("beforetoggle",r),wt("toggle",r),ye(r,"popover",l);break;case"xlinkActuate":ce(r,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ce(r,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ce(r,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ce(r,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ce(r,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ce(r,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ce(r,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ce(r,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ce(r,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ye(r,"is",l);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Pn.get(o)||o,ye(r,o,l))}}function Ph(r,s,o,l,p,y){switch(o){case"style":cn(r,l,y);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(o=l.__html,o!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof l=="string"?Vt(r,l):(typeof l=="number"||typeof l=="bigint")&&Vt(r,""+l);break;case"onScroll":l!=null&&wt("scroll",r);break;case"onScrollEnd":l!=null&&wt("scrollend",r);break;case"onClick":l!=null&&(r.onclick=yi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fe.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),y=r[ae]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(s,y,p),typeof l=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,l,p);break e}o in r?r[o]=l:l===!0?r.setAttribute(o,""):ye(r,o,l)}}}function In(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",r),wt("load",r);var l=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var _=o[y];if(_!=null)switch(y){case"src":l=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Gt(r,s,y,_,o,null)}}p&&Gt(r,s,"srcSet",o.srcSet,o,null),l&&Gt(r,s,"src",o.src,o,null);return;case"input":wt("invalid",r);var O=y=_=p=null,U=null,Q=null;for(l in o)if(o.hasOwnProperty(l)){var oe=o[l];if(oe!=null)switch(l){case"name":p=oe;break;case"type":_=oe;break;case"checked":U=oe;break;case"defaultChecked":Q=oe;break;case"value":y=oe;break;case"defaultValue":O=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,s));break;default:Gt(r,s,l,oe,o,null)}}dt(r,y,O,U,Q,_,p,!1);return;case"select":wt("invalid",r),l=_=y=null;for(p in o)if(o.hasOwnProperty(p)&&(O=o[p],O!=null))switch(p){case"value":y=O;break;case"defaultValue":_=O;break;case"multiple":l=O;default:Gt(r,s,p,O,o,null)}s=y,o=_,r.multiple=!!l,s!=null?mt(r,!!l,s,!1):o!=null&&mt(r,!!l,o,!0);return;case"textarea":wt("invalid",r),y=p=l=null;for(_ in o)if(o.hasOwnProperty(_)&&(O=o[_],O!=null))switch(_){case"value":l=O;break;case"defaultValue":p=O;break;case"children":y=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:Gt(r,s,_,O,o,null)}kt(r,l,p,y);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(l=o[U],l!=null))switch(U){case"selected":r.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Gt(r,s,U,l,o,null)}return;case"dialog":wt("beforetoggle",r),wt("toggle",r),wt("cancel",r),wt("close",r);break;case"iframe":case"object":wt("load",r);break;case"video":case"audio":for(l=0;l<Go.length;l++)wt(Go[l],r);break;case"image":wt("error",r),wt("load",r);break;case"details":wt("toggle",r);break;case"embed":case"source":case"link":wt("error",r),wt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(l=o[Q],l!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Gt(r,s,Q,l,o,null)}return;default:if(vn(s)){for(oe in o)o.hasOwnProperty(oe)&&(l=o[oe],l!==void 0&&Ph(r,s,oe,l,o,void 0));return}}for(O in o)o.hasOwnProperty(O)&&(l=o[O],l!=null&&Gt(r,s,O,l,o,null))}function lR(r,s,o,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,_=null,O=null,U=null,Q=null,oe=null;for(ne in o){var he=o[ne];if(o.hasOwnProperty(ne)&&he!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":U=he;default:l.hasOwnProperty(ne)||Gt(r,s,ne,null,l,he)}}for(var J in l){var ne=l[J];if(he=o[J],l.hasOwnProperty(J)&&(ne!=null||he!=null))switch(J){case"type":y=ne;break;case"name":p=ne;break;case"checked":Q=ne;break;case"defaultChecked":oe=ne;break;case"value":_=ne;break;case"defaultValue":O=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:ne!==he&&Gt(r,s,J,ne,l,he)}}St(r,_,O,U,Q,oe,y,p);return;case"select":ne=_=O=J=null;for(y in o)if(U=o[y],o.hasOwnProperty(y)&&U!=null)switch(y){case"value":break;case"multiple":ne=U;default:l.hasOwnProperty(y)||Gt(r,s,y,null,l,U)}for(p in l)if(y=l[p],U=o[p],l.hasOwnProperty(p)&&(y!=null||U!=null))switch(p){case"value":J=y;break;case"defaultValue":O=y;break;case"multiple":_=y;default:y!==U&&Gt(r,s,p,y,l,U)}s=O,o=_,l=ne,J!=null?mt(r,!!o,J,!1):!!l!=!!o&&(s!=null?mt(r,!!o,s,!0):mt(r,!!o,o?[]:"",!1));return;case"textarea":ne=J=null;for(O in o)if(p=o[O],o.hasOwnProperty(O)&&p!=null&&!l.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Gt(r,s,O,null,l,p)}for(_ in l)if(p=l[_],y=o[_],l.hasOwnProperty(_)&&(p!=null||y!=null))switch(_){case"value":J=p;break;case"defaultValue":ne=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&Gt(r,s,_,p,l,y)}tn(r,J,ne);return;case"option":for(var Be in o)if(J=o[Be],o.hasOwnProperty(Be)&&J!=null&&!l.hasOwnProperty(Be))switch(Be){case"selected":r.selected=!1;break;default:Gt(r,s,Be,null,l,J)}for(U in l)if(J=l[U],ne=o[U],l.hasOwnProperty(U)&&J!==ne&&(J!=null||ne!=null))switch(U){case"selected":r.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Gt(r,s,U,J,l,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in o)J=o[tt],o.hasOwnProperty(tt)&&J!=null&&!l.hasOwnProperty(tt)&&Gt(r,s,tt,null,l,J);for(Q in l)if(J=l[Q],ne=o[Q],l.hasOwnProperty(Q)&&J!==ne&&(J!=null||ne!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:Gt(r,s,Q,J,l,ne)}return;default:if(vn(s)){for(var Kt in o)J=o[Kt],o.hasOwnProperty(Kt)&&J!==void 0&&!l.hasOwnProperty(Kt)&&Ph(r,s,Kt,void 0,l,J);for(oe in l)J=l[oe],ne=o[oe],!l.hasOwnProperty(oe)||J===ne||J===void 0&&ne===void 0||Ph(r,s,oe,J,l,ne);return}}for(var q in o)J=o[q],o.hasOwnProperty(q)&&J!=null&&!l.hasOwnProperty(q)&&Gt(r,s,q,null,l,J);for(he in l)J=l[he],ne=o[he],!l.hasOwnProperty(he)||J===ne||J==null&&ne==null||Gt(r,s,he,J,l,ne)}function Kv(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uR(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,o=performance.getEntriesByType("resource"),l=0;l<o.length;l++){var p=o[l],y=p.transferSize,_=p.initiatorType,O=p.duration;if(y&&O&&Kv(_)){for(_=0,O=p.responseEnd,l+=1;l<o.length;l++){var U=o[l],Q=U.startTime;if(Q>O)break;var oe=U.transferSize,he=U.initiatorType;oe&&Kv(he)&&(U=U.responseEnd,_+=oe*(U<O?1:(O-Q)/(U-Q)))}if(--l,s+=8*(y+_)/(p.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Nh=null,Dh=null;function Hl(r){return r.nodeType===9?r:r.ownerDocument}function Xv(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qv(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function kh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var jh=null;function fR(){var r=window.event;return r&&r.type==="popstate"?r===jh?!1:(jh=r,!0):(jh=null,!1)}var Zv=typeof setTimeout=="function"?setTimeout:void 0,dR=typeof clearTimeout=="function"?clearTimeout:void 0,Jv=typeof Promise=="function"?Promise:void 0,hR=typeof queueMicrotask=="function"?queueMicrotask:typeof Jv<"u"?function(r){return Jv.resolve(null).then(r).catch(pR)}:Zv;function pR(r){setTimeout(function(){throw r})}function us(r){return r==="head"}function Wv(r,s){var o=s,l=0;do{var p=o.nextSibling;if(r.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(l===0){r.removeChild(p),$a(s);return}l--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")l++;else if(o==="html")Xo(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,Xo(o);for(var y=o.firstChild;y;){var _=y.nextSibling,O=y.nodeName;y[Je]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=_}}else o==="body"&&Xo(r.ownerDocument.body);o=p}while(o);$a(s)}function eb(r,s){var o=r;r=0;do{var l=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),l&&l.nodeType===8)if(o=l.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=l}while(o)}function Lh(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Lh(o),nt(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function mR(r,s,o,l){for(;r.nodeType===1;){var p=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(l){if(!r[Je])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Nr(r.nextSibling),r===null)break}return null}function yR(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Nr(r.nextSibling),r===null))return null;return r}function tb(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=Nr(r.nextSibling),r===null))return null;return r}function Uh(r){return r.data==="$?"||r.data==="$~"}function zh(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function gR(r,s){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||o.readyState!=="loading")s();else{var l=function(){s(),o.removeEventListener("DOMContentLoaded",l)};o.addEventListener("DOMContentLoaded",l),r._reactRetry=l}}function Nr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var Ih=null;function nb(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(s===0)return Nr(r.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}r=r.nextSibling}return null}function rb(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return r;s--}else o!=="/$"&&o!=="/&"||s++}r=r.previousSibling}return null}function ib(r,s,o){switch(s=Hl(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Xo(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);nt(r)}var Dr=new Map,sb=new Set;function $l(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ni=se.d;se.d={f:vR,r:bR,D:xR,C:SR,L:_R,m:wR,X:CR,S:ER,M:TR};function vR(){var r=Ni.f(),s=Dl();return r||s}function bR(r){var s=rt(r);s!==null&&s.tag===5&&s.type==="form"?_0(s):Ni.r(r)}var Ia=typeof document>"u"?null:document;function ab(r,s,o){var l=Ia;if(l&&typeof s=="string"&&s){var p=st(s);p='link[rel="'+r+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),sb.has(p)||(sb.add(p),r={rel:r,crossOrigin:o,href:s},l.querySelector(p)===null&&(s=l.createElement("link"),In(s,"link",r),Ie(s),l.head.appendChild(s)))}}function xR(r){Ni.D(r),ab("dns-prefetch",r,null)}function SR(r,s){Ni.C(r,s),ab("preconnect",r,s)}function _R(r,s,o){Ni.L(r,s,o);var l=Ia;if(l&&r&&s){var p='link[rel="preload"][as="'+st(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+st(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+st(o.imageSizes)+'"]')):p+='[href="'+st(r)+'"]';var y=p;switch(s){case"style":y=Ba(r);break;case"script":y=Ha(r)}Dr.has(y)||(r=g({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Dr.set(y,r),l.querySelector(p)!==null||s==="style"&&l.querySelector(Qo(y))||s==="script"&&l.querySelector(Zo(y))||(s=l.createElement("link"),In(s,"link",r),Ie(s),l.head.appendChild(s)))}}function wR(r,s){Ni.m(r,s);var o=Ia;if(o&&r){var l=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+st(l)+'"][href="'+st(r)+'"]',y=p;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ha(r)}if(!Dr.has(y)&&(r=g({rel:"modulepreload",href:r},s),Dr.set(y,r),o.querySelector(p)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Zo(y)))return}l=o.createElement("link"),In(l,"link",r),Ie(l),o.head.appendChild(l)}}}function ER(r,s,o){Ni.S(r,s,o);var l=Ia;if(l&&r){var p=et(l).hoistableStyles,y=Ba(r);s=s||"default";var _=p.get(y);if(!_){var O={loading:0,preload:null};if(_=l.querySelector(Qo(y)))O.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Dr.get(y))&&Bh(r,o);var U=_=l.createElement("link");Ie(U),In(U,"link",r),U._p=new Promise(function(Q,oe){U.onload=Q,U.onerror=oe}),U.addEventListener("load",function(){O.loading|=1}),U.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Vl(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:O},p.set(y,_)}}}function CR(r,s){Ni.X(r,s);var o=Ia;if(o&&r){var l=et(o).hoistableScripts,p=Ha(r),y=l.get(p);y||(y=o.querySelector(Zo(p)),y||(r=g({src:r,async:!0},s),(s=Dr.get(p))&&Hh(r,s),y=o.createElement("script"),Ie(y),In(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(p,y))}}function TR(r,s){Ni.M(r,s);var o=Ia;if(o&&r){var l=et(o).hoistableScripts,p=Ha(r),y=l.get(p);y||(y=o.querySelector(Zo(p)),y||(r=g({src:r,async:!0,type:"module"},s),(s=Dr.get(p))&&Hh(r,s),y=o.createElement("script"),Ie(y),In(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(p,y))}}function ob(r,s,o,l){var p=(p=Ee.current)?$l(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Ba(o.href),o=et(p).hoistableStyles,l=o.get(s),l||(l={type:"style",instance:null,count:0,state:null},o.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Ba(o.href);var y=et(p).hoistableStyles,_=y.get(r);if(_||(p=p.ownerDocument||p,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,_),(y=p.querySelector(Qo(r)))&&!y._p&&(_.instance=y,_.state.loading=5),Dr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Dr.set(r,o),y||RR(p,r,o,_.state))),s&&l===null)throw Error(i(528,""));return _}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ha(o),o=et(p).hoistableScripts,l=o.get(s),l||(l={type:"script",instance:null,count:0,state:null},o.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ba(r){return'href="'+st(r)+'"'}function Qo(r){return'link[rel="stylesheet"]['+r+"]"}function cb(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function RR(r,s,o,l){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=r.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),In(s,"link",o),Ie(s),r.head.appendChild(s))}function Ha(r){return'[src="'+st(r)+'"]'}function Zo(r){return"script[async]"+r}function lb(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var l=r.querySelector('style[data-href~="'+st(o.href)+'"]');if(l)return s.instance=l,Ie(l),l;var p=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return l=(r.ownerDocument||r).createElement("style"),Ie(l),In(l,"style",p),Vl(l,o.precedence,r),s.instance=l;case"stylesheet":p=Ba(o.href);var y=r.querySelector(Qo(p));if(y)return s.state.loading|=4,s.instance=y,Ie(y),y;l=cb(o),(p=Dr.get(p))&&Bh(l,p),y=(r.ownerDocument||r).createElement("link"),Ie(y);var _=y;return _._p=new Promise(function(O,U){_.onload=O,_.onerror=U}),In(y,"link",l),s.state.loading|=4,Vl(y,o.precedence,r),s.instance=y;case"script":return y=Ha(o.src),(p=r.querySelector(Zo(y)))?(s.instance=p,Ie(p),p):(l=o,(p=Dr.get(y))&&(l=g({},o),Hh(l,p)),r=r.ownerDocument||r,p=r.createElement("script"),Ie(p),In(p,"link",l),r.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Vl(l,o.precedence,r));return s.instance}function Vl(r,s,o){for(var l=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=l.length?l[l.length-1]:null,y=p,_=0;_<l.length;_++){var O=l[_];if(O.dataset.precedence===s)y=O;else if(y!==p)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Bh(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Hh(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var ql=null;function ub(r,s,o){if(ql===null){var l=new Map,p=ql=new Map;p.set(o,l)}else p=ql,l=p.get(o),l||(l=new Map,p.set(o,l));if(l.has(r))return l;for(l.set(r,null),o=o.getElementsByTagName(r),p=0;p<o.length;p++){var y=o[p];if(!(y[Je]||y[V]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(s)||"";_=r+_;var O=l.get(_);O?O.push(y):l.set(_,[y])}}return l}function fb(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function AR(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function db(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function OR(r,s,o,l){if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Ba(l.href),y=s.querySelector(Qo(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=Yl.bind(r),s.then(r,r)),o.state.loading|=4,o.instance=y,Ie(y);return}y=s.ownerDocument||s,l=cb(l),(p=Dr.get(p))&&Bh(l,p),y=y.createElement("link"),Ie(y);var _=y;_._p=new Promise(function(O,U){_.onload=O,_.onerror=U}),In(y,"link",l),o.instance=y}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=Yl.bind(r),s.addEventListener("load",o),s.addEventListener("error",o))}}var $h=0;function MR(r,s){return r.stylesheets&&r.count===0&&Gl(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var l=setTimeout(function(){if(r.stylesheets&&Gl(r,r.stylesheets),r.unsuspend){var y=r.unsuspend;r.unsuspend=null,y()}},6e4+s);0<r.imgBytes&&$h===0&&($h=62500*uR());var p=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Gl(r,r.stylesheets),r.unsuspend)){var y=r.unsuspend;r.unsuspend=null,y()}},(r.imgBytes>$h?50:800)+s);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(l),clearTimeout(p)}}:null}function Yl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gl(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Fl=null;function Gl(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Fl=new Map,s.forEach(PR,r),Fl=null,Yl.call(r))}function PR(r,s){if(!(s.state.loading&4)){var o=Fl.get(r);if(o)var l=o.get(null);else{o=new Map,Fl.set(r,o);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var _=p[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),l=_)}l&&o.set(null,l)}p=s.instance,_=p.getAttribute("data-precedence"),y=o.get(_)||l,y===l&&o.set(null,p),o.set(_,p),this.count++,l=Yl.bind(this),p.addEventListener("load",l),p.addEventListener("error",l),y?y.parentNode.insertBefore(p,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),s.state.loading|=4}}var Jo={$$typeof:k,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function NR(r,s,o,l,p,y,_,O,U){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Os(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Os(0),this.hiddenUpdates=Os(null),this.identifierPrefix=l,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function hb(r,s,o,l,p,y,_,O,U,Q,oe,he){return r=new NR(r,s,o,_,U,Q,oe,he,O),s=1,y===!0&&(s|=24),y=dr(3,null,null,s),r.current=y,y.stateNode=r,s=Sd(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:l,isDehydrated:o,cache:s},Cd(y),r}function pb(r){return r?(r=va,r):va}function mb(r,s,o,l,p,y){p=pb(p),l.context===null?l.context=p:l.pendingContext=p,l=Wi(s),l.payload={element:o},y=y===void 0?null:y,y!==null&&(l.callback=y),o=es(r,l,s),o!==null&&(sr(o,r,s),Mo(o,r,s))}function yb(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Vh(r,s){yb(r,s),(r=r.alternate)&&yb(r,s)}function gb(r){if(r.tag===13||r.tag===31){var s=Ds(r,67108864);s!==null&&sr(s,r,67108864),Vh(r,67108864)}}function vb(r){if(r.tag===13||r.tag===31){var s=gr();s=A(s);var o=Ds(r,s);o!==null&&sr(o,r,s),Vh(r,s)}}var Kl=!0;function DR(r,s,o,l){var p=H.T;H.T=null;var y=se.p;try{se.p=2,qh(r,s,o,l)}finally{se.p=y,H.T=p}}function kR(r,s,o,l){var p=H.T;H.T=null;var y=se.p;try{se.p=8,qh(r,s,o,l)}finally{se.p=y,H.T=p}}function qh(r,s,o,l){if(Kl){var p=Yh(l);if(p===null)Mh(r,s,l,Xl,o),xb(r,l);else if(LR(p,r,s,o,l))l.stopPropagation();else if(xb(r,l),s&4&&-1<jR.indexOf(r)){for(;p!==null;){var y=rt(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=Dt(y.pendingLanes);if(_!==0){var O=y;for(O.pendingLanes|=2,O.entangledLanes|=2;_;){var U=1<<31-pn(_);O.entanglements[1]|=U,_&=~U}ti(y),(Bt&6)===0&&(Pl=ft()+500,Fo(0))}}break;case 31:case 13:O=Ds(y,2),O!==null&&sr(O,y,2),Dl(),Vh(y,2)}if(y=Yh(l),y===null&&Mh(r,s,l,Xl,o),y===p)break;p=y}p!==null&&l.stopPropagation()}else Mh(r,s,l,null,o)}}function Yh(r){return r=Gf(r),Fh(r)}var Xl=null;function Fh(r){if(Xl=null,r=it(r),r!==null){var s=c(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===31){if(r=f(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Xl=r,null}function bb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(en()){case Cn:return 2;case Er:return 8;case Mn:case qi:return 32;case mi:return 268435456;default:return 32}default:return 32}}var Gh=!1,fs=null,ds=null,hs=null,Wo=new Map,ec=new Map,ps=[],jR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xb(r,s){switch(r){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":Wo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(s.pointerId)}}function tc(r,s,o,l,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:o,eventSystemFlags:l,nativeEvent:y,targetContainers:[p]},s!==null&&(s=rt(s),s!==null&&gb(s)),r):(r.eventSystemFlags|=l,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function LR(r,s,o,l,p){switch(s){case"focusin":return fs=tc(fs,r,s,o,l,p),!0;case"dragenter":return ds=tc(ds,r,s,o,l,p),!0;case"mouseover":return hs=tc(hs,r,s,o,l,p),!0;case"pointerover":var y=p.pointerId;return Wo.set(y,tc(Wo.get(y)||null,r,s,o,l,p)),!0;case"gotpointercapture":return y=p.pointerId,ec.set(y,tc(ec.get(y)||null,r,s,o,l,p)),!0}return!1}function Sb(r){var s=it(r.target);if(s!==null){var o=c(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,P(r.priority,function(){vb(o)});return}}else if(s===31){if(s=f(o),s!==null){r.blockedOn=s,P(r.priority,function(){vb(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ql(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Yh(r.nativeEvent);if(o===null){o=r.nativeEvent;var l=new o.constructor(o.type,o);Ff=l,o.target.dispatchEvent(l),Ff=null}else return s=rt(o),s!==null&&gb(s),r.blockedOn=o,!1;s.shift()}return!0}function _b(r,s,o){Ql(r)&&o.delete(s)}function UR(){Gh=!1,fs!==null&&Ql(fs)&&(fs=null),ds!==null&&Ql(ds)&&(ds=null),hs!==null&&Ql(hs)&&(hs=null),Wo.forEach(_b),ec.forEach(_b)}function Zl(r,s){r.blockedOn===s&&(r.blockedOn=null,Gh||(Gh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,UR)))}var Jl=null;function wb(r){Jl!==r&&(Jl=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Jl===r&&(Jl=null);for(var s=0;s<r.length;s+=3){var o=r[s],l=r[s+1],p=r[s+2];if(typeof l!="function"){if(Fh(l||o)===null)continue;break}var y=rt(o);y!==null&&(r.splice(s,3),s-=3,Yd(y,{pending:!0,data:p,method:o.method,action:l},l,p))}}))}function $a(r){function s(U){return Zl(U,r)}fs!==null&&Zl(fs,r),ds!==null&&Zl(ds,r),hs!==null&&Zl(hs,r),Wo.forEach(s),ec.forEach(s);for(var o=0;o<ps.length;o++){var l=ps[o];l.blockedOn===r&&(l.blockedOn=null)}for(;0<ps.length&&(o=ps[0],o.blockedOn===null);)Sb(o),o.blockedOn===null&&ps.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(l=0;l<o.length;l+=3){var p=o[l],y=o[l+1],_=p[ae]||null;if(typeof y=="function")_||wb(o);else if(_){var O=null;if(y&&y.hasAttribute("formAction")){if(p=y,_=y[ae]||null)O=_.formAction;else if(Fh(p)!==null)continue}else O=_.action;typeof O=="function"?o[l+1]=O:(o.splice(l,3),l-=3),wb(o)}}}function Eb(){function r(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(_){return p=_})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),l||setTimeout(o,20)}function o(){if(!l&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,p=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){l=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function Kh(r){this._internalRoot=r}Wl.prototype.render=Kh.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,l=gr();mb(o,l,r,s,null,null)},Wl.prototype.unmount=Kh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;mb(r.current,2,null,r,null,null),Dl(),s[xe]=null}};function Wl(r){this._internalRoot=r}Wl.prototype.unstable_scheduleHydration=function(r){if(r){var s=v();r={blockedOn:null,target:r,priority:s};for(var o=0;o<ps.length&&s!==0&&s<ps[o].priority;o++);ps.splice(o,0,r),o===0&&Sb(r)}};var Cb=e.version;if(Cb!=="19.2.0")throw Error(i(527,Cb,"19.2.0"));se.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(s),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var zR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eu.isDisabled&&eu.supportsFiber)try{Cr=eu.inject(zR),hn=eu}catch{}}return rc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,l="",p=N0,y=D0,_=k0;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=hb(r,1,!1,null,null,o,l,null,p,y,_,Eb),r[xe]=s.current,Oh(r),new Kh(s)},rc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var l=!1,p="",y=N0,_=D0,O=k0,U=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),s=hb(r,1,!0,s,o??null,l,p,U,y,_,O,Eb),s.context=pb(null),o=s.current,l=gr(),l=A(l),p=Wi(l),p.callback=null,es(o,p,l),o=l,s.current.lanes=o,Fi(s,o),ti(s),r[xe]=s.current,Oh(r),new Wl(s)},rc.version="19.2.0",rc}var Lb;function GR(){if(Lb)return Qh.exports;Lb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qh.exports=FR(),Qh.exports}var KR=GR();const Ya=new WeakMap,Su=new WeakMap,Iu={current:[]};let tp=!1,bc=0;const mc=new Set,tu=new Map;function G1(t){const e=Array.from(t).sort((n,i)=>n instanceof Fa&&n.options.deps.includes(i)?1:i instanceof Fa&&i.options.deps.includes(n)?-1:0);for(const n of e){if(Iu.current.includes(n))continue;Iu.current.push(n),n.recompute();const i=Su.get(n);if(i)for(const a of i){const c=Ya.get(a);c&&G1(c)}}}function XR(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function QR(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function K1(t){if(bc>0&&!tu.has(t)&&tu.set(t,t.prevState),mc.add(t),!(bc>0)&&!tp)try{for(tp=!0;mc.size>0;){const e=Array.from(mc);mc.clear();for(const n of e){const i=tu.get(n)??n.prevState;n.prevState=i,XR(n)}for(const n of e){const i=Ya.get(n);i&&(Iu.current.push(n),G1(i))}for(const n of e){const i=Ya.get(n);if(i)for(const a of i)QR(a)}}}finally{tp=!1,Iu.current=[],tu.clear()}}function xc(t){bc++;try{t()}finally{if(bc--,bc===0){const e=mc.values().next().value;e&&K1(e)}}}function ZR(t){return typeof t=="function"}class Yp{constructor(e,n){this.listeners=new Set,this.subscribe=i=>{var a,c;this.listeners.add(i);const u=(c=(a=this.options)==null?void 0:a.onSubscribe)==null?void 0:c.call(a,i,this);return()=>{this.listeners.delete(i),u?.()}},this.prevState=e,this.state=e,this.options=n}setState(e){var n,i,a;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(e):ZR(e)?this.state=e(this.prevState):this.state=e,(a=(i=this.options)==null?void 0:i.onUpdate)==null||a.call(i),K1(this)}}class Fa{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=this.options.deps.length,i=new Array(n),a=new Array(n);for(let c=0;c<n;c++){const u=this.options.deps[c];i[c]=u.prevState,a[c]=u.state}return this.lastSeenDepValues=a,{prevDepVals:i,currDepVals:a,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,i;this.prevState=this.state;const a=this.getDepVals();this.state=this.options.fn(a),(i=(n=this.options).onUpdate)==null||i.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const c of this.options.deps)c instanceof Fa&&c.checkIfRecalculationNeededDeeply();let n=!1;const i=this.lastSeenDepValues,{currDepVals:a}=this.getDepVals();for(let c=0;c<a.length;c++)if(a[c]!==i[c]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var i,a;this.listeners.add(n);const c=(a=(i=this.options).onSubscribe)==null?void 0:a.call(i,n,this);return()=>{this.listeners.delete(n),c?.()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const n of e)if(n instanceof Fa)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof Yp){let i=Ya.get(n);i||(i=new Set,Ya.set(n,i)),i.add(this);let a=Su.get(this);a||(a=new Set,Su.set(this,a)),a.add(n)}}unregisterFromGraph(e=this.options.deps){for(const n of e)if(n instanceof Fa)this.unregisterFromGraph(n.options.deps);else if(n instanceof Yp){const i=Ya.get(n);i&&i.delete(this);const a=Su.get(this);a&&a.delete(n)}}}const xs="__TSR_index",Ub="popstate",zb="beforeunload";function JR(t){let e=t.getLocation();const n=new Set,i=u=>{e=t.getLocation(),n.forEach(f=>f({location:e,action:u}))},a=u=>{t.notifyOnIndexChange??!0?i(u):e=t.getLocation()},c=async({task:u,navigateOpts:f,...d})=>{if(f?.ignoreBlocker??!1){u();return}const m=t.getBlockers?.()??[],g=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&m.length&&g)for(const b of m){const x=Bu(d.path,d.state);if(await b.blockerFn({currentLocation:e,nextLocation:x,action:d.type})){t.onBlocked?.();return}}u()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:u=>(n.add(u),()=>{n.delete(u)}),push:(u,f,d)=>{const h=e.state[xs];f=Ib(h+1,f),c({task:()=>{t.pushState(u,f),i({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:u,state:f})},replace:(u,f,d)=>{const h=e.state[xs];f=Ib(h,f),c({task:()=>{t.replaceState(u,f),i({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:u,state:f})},go:(u,f)=>{c({task:()=>{t.go(u),a({type:"GO",index:u})},navigateOpts:f,type:"GO"})},back:u=>{c({task:()=>{t.back(u?.ignoreBlocker??!1),a({type:"BACK"})},navigateOpts:u,type:"BACK"})},forward:u=>{c({task:()=>{t.forward(u?.ignoreBlocker??!1),a({type:"FORWARD"})},navigateOpts:u,type:"FORWARD"})},canGoBack:()=>e.state[xs]!==0,createHref:u=>t.createHref(u),block:u=>{if(!t.setBlockers)return()=>{};const f=t.getBlockers?.()??[];return t.setBlockers([...f,u]),()=>{const d=t.getBlockers?.()??[];t.setBlockers?.(d.filter(h=>h!==u))}},flush:()=>t.flush?.(),destroy:()=>t.destroy?.(),notify:i}}function Ib(t,e){e||(e={});const n=Vm();return{...e,key:n,__TSR_key:n,[xs]:t}}function WR(t){const e=typeof document<"u"?window:void 0,n=e.history.pushState,i=e.history.replaceState;let a=[];const c=()=>a,u=X=>a=X,f=(X=>X),d=(()=>Bu(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state));if(!e.history.state?.__TSR_key&&!e.history.state?.key){const X=Vm();e.history.replaceState({[xs]:0,key:X,__TSR_key:X},"")}let h=d(),m,g=!1,b=!1,x=!1,E=!1;const C=()=>h;let M,D;const N=()=>{M&&(Y._ignoreSubscribers=!0,(M.isPush?e.history.pushState:e.history.replaceState)(M.state,"",M.href),Y._ignoreSubscribers=!1,M=void 0,D=void 0,m=void 0)},k=(X,pe,ve)=>{const Se=f(pe);D||(m=h),h=Bu(pe,ve),M={href:Se,state:ve,isPush:M?.isPush||X==="push"},D||(D=Promise.resolve().then(()=>N()))},j=X=>{h=d(),Y.notify({type:X})},F=async()=>{if(b){b=!1;return}const X=d(),pe=X.state[xs]-h.state[xs],ve=pe===1,Se=pe===-1,we=!ve&&!Se||g;g=!1;const Ke=we?"GO":Se?"BACK":"FORWARD",_e=we?{type:"GO",index:pe}:{type:Se?"BACK":"FORWARD"};if(x)x=!1;else{const Ue=c();if(typeof document<"u"&&Ue.length){for(const H of Ue)if(await H.blockerFn({currentLocation:h,nextLocation:X,action:Ke})){b=!0,e.history.go(1),Y.notify(_e);return}}}h=d(),Y.notify(_e)},W=X=>{if(E){E=!1;return}let pe=!1;const ve=c();if(typeof document<"u"&&ve.length)for(const Se of ve){const we=Se.enableBeforeUnload??!0;if(we===!0){pe=!0;break}if(typeof we=="function"&&we()===!0){pe=!0;break}}if(pe)return X.preventDefault(),X.returnValue=""},Y=JR({getLocation:C,getLength:()=>e.history.length,pushState:(X,pe)=>k("push",X,pe),replaceState:(X,pe)=>k("replace",X,pe),back:X=>(X&&(x=!0),E=!0,e.history.back()),forward:X=>{X&&(x=!0),E=!0,e.history.forward()},go:X=>{g=!0,e.history.go(X)},createHref:X=>f(X),flush:N,destroy:()=>{e.history.pushState=n,e.history.replaceState=i,e.removeEventListener(zb,W,{capture:!0}),e.removeEventListener(Ub,F)},onBlocked:()=>{m&&h!==m&&(h=m)},getBlockers:c,setBlockers:u,notifyOnIndexChange:!1});return e.addEventListener(zb,W,{capture:!0}),e.addEventListener(Ub,F),e.history.pushState=function(...X){const pe=n.apply(e.history,X);return Y._ignoreSubscribers||j("PUSH"),pe},e.history.replaceState=function(...X){const pe=i.apply(e.history,X);return Y._ignoreSubscribers||j("REPLACE"),pe},Y}function Bu(t,e){const n=t.indexOf("#"),i=t.indexOf("?"),a=Vm();return{href:t,pathname:t.substring(0,n>0?i>0?Math.min(n,i):n:i>0?i:t.length),hash:n>-1?t.substring(n):"",search:i>-1?t.slice(i,n===-1?void 0:n):"",state:e||{[xs]:0,key:a,__TSR_key:a}}}function Vm(){return(Math.random()+1).toString(36).substring(7)}function Fp(t){return t[t.length-1]}function e2(t){return typeof t=="function"}function Ws(t,e){return e2(t)?t(e):t}const t2=Object.prototype.hasOwnProperty;function kr(t,e){if(t===e)return t;const n=e,i=$b(t)&&$b(n);if(!i&&!(Hu(t)&&Hu(n)))return n;const a=i?t:Bb(t);if(!a)return n;const c=i?n:Bb(n);if(!c)return n;const u=a.length,f=c.length,d=i?new Array(f):{};let h=0;for(let m=0;m<f;m++){const g=i?m:c[m],b=t[g],x=n[g];if(b===x){d[g]=b,(i?m<u:t2.call(t,g))&&h++;continue}if(b===null||x===null||typeof b!="object"||typeof x!="object"){d[g]=x;continue}const E=kr(b,x);d[g]=E,E===b&&h++}return u===f&&h===u?t:d}function Bb(t){const e=[],n=Object.getOwnPropertyNames(t);for(const a of n){if(!Object.prototype.propertyIsEnumerable.call(t,a))return!1;e.push(a)}const i=Object.getOwnPropertySymbols(t);for(const a of i){if(!Object.prototype.propertyIsEnumerable.call(t,a))return!1;e.push(a)}return e}function Hu(t){if(!Hb(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!Hb(n)||!n.hasOwnProperty("isPrototypeOf"))}function Hb(t){return Object.prototype.toString.call(t)==="[object Object]"}function $b(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ea(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let i=0,a=t.length;i<a;i++)if(!ea(t[i],e[i],n))return!1;return!0}if(Hu(t)&&Hu(e)){const i=n?.ignoreUndefined??!0;if(n?.partial){for(const u in e)if((!i||e[u]!==void 0)&&!ea(t[u],e[u],n))return!1;return!0}let a=0;if(!i)a=Object.keys(t).length;else for(const u in t)t[u]!==void 0&&a++;let c=0;for(const u in e)if((!i||e[u]!==void 0)&&(c++,c>a||!ea(t[u],e[u],n)))return!1;return a===c}return!1}function Ja(t){let e,n;const i=new Promise((a,c)=>{e=a,n=c});return i.status="pending",i.resolve=a=>{i.status="resolved",i.value=a,e(a),t?.(a)},i.reject=a=>{i.status="rejected",n(a)},i}function Ss(t){return!!(t&&typeof t=="object"&&typeof t.then=="function")}var n2="Invariant failed";function Hi(t,e){if(!t)throw new Error(n2)}const cr="__root__",ai=0,ia=1,Wa=2,eo=3;function Ii(t){return qm(t.filter(e=>e!==void 0).join("/"))}function qm(t){return t.replace(/\/{2,}/g,"/")}function Ym(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function _s(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function _u(t){return _s(Ym(t))}function $u(t,e){return t?.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function r2(t,e,n){return $u(t,n)===$u(e,n)}function i2(t){const{type:e,value:n}=t;if(e===ai)return n;const{prefixSegment:i,suffixSegment:a}=t;if(e===ia){const c=n.substring(1);if(i&&a)return`${i}{$${c}}${a}`;if(i)return`${i}{$${c}}`;if(a)return`{$${c}}${a}`}if(e===eo){const c=n.substring(1);return i&&a?`${i}{-$${c}}${a}`:i?`${i}{-$${c}}`:a?`{-$${c}}${a}`:`{-$${c}}`}if(e===Wa){if(i&&a)return`${i}{$}${a}`;if(i)return`${i}{$}`;if(a)return`{$}${a}`}return n}function s2({base:t,to:e,trailingSlash:n="never",parseCache:i}){let a=X1(t,i).slice();const c=pf(e,i);a.length>1&&Fp(a)?.value==="/"&&a.pop();for(let d=0,h=c.length;d<h;d++){const m=c[d],g=m.value;g==="/"?d?d===h-1&&a.push(m):a=[m]:g===".."?a.pop():g==="."||a.push(m)}a.length>1&&(Fp(a).value==="/"?n==="never"&&a.pop():n==="always"&&a.push({type:ai,value:"/"}));const u=a.map(i2);return Ii(u)}const X1=(t,e)=>Q1(t,e,!0),pf=(t,e)=>Q1(t,e,!1),Q1=(t,e,n)=>{if(!t)return[];const i=e?.get(t);if(i)return i;const a=f2(t,n);return e?.set(t,a),a},a2=/^\$.{1,}$/,o2=/^(.*?)\{(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,c2=/^(.*?)\{-(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,l2=/^\$$/,u2=/^(.*?)\{\$\}(.*)$/;function f2(t,e){t=qm(t);const n=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),n.push({type:ai,value:"/"})),!t)return n;const i=t.split("/").filter(Boolean);return n.push(...i.map(a=>{const c=!e&&a!==cr&&a.slice(-1)==="_"?a.slice(0,-1):a,u=c.match(u2);if(u){const h=u[1],m=u[2];return{type:Wa,value:"$",prefixSegment:h||void 0,suffixSegment:m||void 0}}const f=c.match(c2);if(f){const h=f[1],m=f[2],g=f[3];return{type:eo,value:m,prefixSegment:h||void 0,suffixSegment:g||void 0}}const d=c.match(o2);if(d){const h=d[1],m=d[2],g=d[3];return{type:ia,value:""+m,prefixSegment:h||void 0,suffixSegment:g||void 0}}if(a2.test(c)){const h=c.substring(1);return{type:ia,value:"$"+h,prefixSegment:void 0,suffixSegment:void 0}}return l2.test(c)?{type:Wa,value:"$",prefixSegment:void 0,suffixSegment:void 0}:{type:ai,value:c.includes("%25")?c.split("%25").map(h=>decodeURI(h)).join("%25"):decodeURI(c)}})),t.slice(-1)==="/"&&(t=t.substring(1),n.push({type:ai,value:"/"})),n}function nu({path:t,params:e,leaveWildcards:n,leaveParams:i,decodeCharMap:a,parseCache:c}){const u=pf(t,c);function f(g){const b=e[g],x=typeof b=="string";return g==="*"||g==="_splat"?x?encodeURI(b):b:x?d2(b,a):b}let d=!1;const h={},m=Ii(u.map(g=>{if(g.type===ai)return g.value;if(g.type===Wa){h._splat=e._splat,h["*"]=e._splat;const b=g.prefixSegment||"",x=g.suffixSegment||"";if(!e._splat)return d=!0,n?`${b}${g.value}${x}`:b||x?`${b}${x}`:void 0;const E=f("_splat");return n?`${b}${g.value}${E??""}${x}`:`${b}${E}${x}`}if(g.type===ia){const b=g.value.substring(1);!d&&!(b in e)&&(d=!0),h[b]=e[b];const x=g.prefixSegment||"",E=g.suffixSegment||"";if(i){const C=f(g.value);return`${x}${g.value}${C??""}${E}`}return`${x}${f(b)??"undefined"}${E}`}if(g.type===eo){const b=g.value.substring(1),x=g.prefixSegment||"",E=g.suffixSegment||"";if(!(b in e)||e[b]==null)return n?`${x}${b}${E}`:x||E?`${x}${E}`:void 0;if(h[b]=e[b],i){const C=f(g.value);return`${x}${g.value}${C??""}${E}`}return n?`${x}${b}${f(b)??""}${E}`:`${x}${f(b)??""}${E}`}return g.value}));return{usedParams:h,interpolatedPath:m,isMissingParams:d}}function d2(t,e){let n=encodeURIComponent(t);if(e)for(const[i,a]of e)n=n.replaceAll(i,a);return n}function Gp(t,e,n){const i=h2(t,e,n);if(!(e.to&&!i))return i??{}}function h2(t,{to:e,fuzzy:n,caseSensitive:i},a){const c=e,u=X1(t.startsWith("/")?t:`/${t}`,a),f=pf(c.startsWith("/")?c:`/${c}`,a),d={};return p2(u,f,d,n,i)?d:void 0}function p2(t,e,n,i,a){let c=0,u=0;for(;c<t.length||u<e.length;){const f=t[c],d=e[u];if(d){if(d.type===Wa){const h=t.slice(c);let m;if(d.prefixSegment||d.suffixSegment){if(!f)return!1;const g=d.prefixSegment||"",b=d.suffixSegment||"",x=f.value;if("prefixSegment"in d&&!x.startsWith(g)||"suffixSegment"in d&&!t[t.length-1]?.value.endsWith(b))return!1;let E=decodeURI(Ii(h.map(C=>C.value)));g&&E.startsWith(g)&&(E=E.slice(g.length)),b&&E.endsWith(b)&&(E=E.slice(0,E.length-b.length)),m=E}else m=decodeURI(Ii(h.map(g=>g.value)));return n["*"]=m,n._splat=m,!0}if(d.type===ai){if(d.value==="/"&&!f?.value){u++;continue}if(f){if(a){if(d.value!==f.value)return!1}else if(d.value.toLowerCase()!==f.value.toLowerCase())return!1;c++,u++;continue}else return!1}if(d.type===ia){if(!f||f.value==="/")return!1;let h="",m=!1;if(d.prefixSegment||d.suffixSegment){const g=d.prefixSegment||"",b=d.suffixSegment||"",x=f.value;if(g&&!x.startsWith(g)||b&&!x.endsWith(b))return!1;let E=x;g&&E.startsWith(g)&&(E=E.slice(g.length)),b&&E.endsWith(b)&&(E=E.slice(0,E.length-b.length)),h=decodeURIComponent(E),m=!0}else h=decodeURIComponent(f.value),m=!0;m&&(n[d.value.substring(1)]=h,c++),u++;continue}if(d.type===eo){if(!f){u++;continue}if(f.value==="/"){u++;continue}let h="",m=!1;if(d.prefixSegment||d.suffixSegment){const g=d.prefixSegment||"",b=d.suffixSegment||"",x=f.value;if((!g||x.startsWith(g))&&(!b||x.endsWith(b))){let E=x;g&&E.startsWith(g)&&(E=E.slice(g.length)),b&&E.endsWith(b)&&(E=E.slice(0,E.length-b.length)),h=decodeURIComponent(E),m=!0}}else{let g=!0;for(let b=u+1;b<e.length;b++){const x=e[b];if(x?.type===ai&&x.value===f.value){g=!1;break}if(x?.type===ia||x?.type===Wa){t.length<e.length&&(g=!1);break}}g&&(h=decodeURIComponent(f.value),m=!0)}m&&(n[d.value.substring(1)]=h,c++),u++;continue}}if(c<t.length&&u>=e.length)return n["**"]=Ii(t.slice(c).map(h=>h.value)),!!i&&e[e.length-1]?.value!=="/";if(u<e.length&&c>=t.length){for(let h=u;h<e.length;h++)if(e[h]?.type!==eo)return!1;break}break}return!0}const m2=.75,y2=1,g2=.5,v2=.4,b2=.25,x2=.2,S2=.05,_2=.02,w2=.01,Vb=2e-4,qb=1e-4;function Yb(t,e){return t.prefixSegment&&t.suffixSegment?e+S2+Vb*t.prefixSegment.length+qb*t.suffixSegment.length:t.prefixSegment?e+_2+Vb*t.prefixSegment.length:t.suffixSegment?e+w2+qb*t.suffixSegment.length:e}function E2(t){const e=[];return t.forEach((i,a)=>{if(i.isRoot||!i.path)return;const c=Ym(i.fullPath);let u=pf(c),f=0;for(;u.length>f+1&&u[f]?.value==="/";)f++;f>0&&(u=u.slice(f));let d=0,h=!1;const m=u.map((g,b)=>{if(g.value==="/")return m2;if(g.type===ai)return y2;let x;g.type===ia?x=g2:g.type===eo?(x=v2,d++):x=b2;for(let E=b+1;E<u.length;E++){const C=u[E];if(C.type===ai&&C.value!=="/")return h=!0,Yb(g,x+x2)}return Yb(g,x)});e.push({child:i,trimmed:c,parsed:u,index:a,scores:m,optionalParamCount:d,hasStaticAfter:h})}),e.sort((i,a)=>{const c=Math.min(i.scores.length,a.scores.length);for(let u=0;u<c;u++)if(i.scores[u]!==a.scores[u])return a.scores[u]-i.scores[u];if(i.scores.length!==a.scores.length){if(i.optionalParamCount!==a.optionalParamCount){if(i.hasStaticAfter===a.hasStaticAfter)return i.optionalParamCount-a.optionalParamCount;if(i.hasStaticAfter&&!a.hasStaticAfter)return-1;if(!i.hasStaticAfter&&a.hasStaticAfter)return 1}return a.scores.length-i.scores.length}for(let u=0;u<c;u++)if(i.parsed[u].value!==a.parsed[u].value)return i.parsed[u].value>a.parsed[u].value?1:-1;return i.index-a.index}).map((i,a)=>(i.child.rank=a,i.child))}function C2({routeTree:t,initRoute:e}){const n={},i={},a=u=>{u.forEach((f,d)=>{e?.(f,d);const h=n[f.id];if(Hi(!h,`Duplicate routes found with id: ${String(f.id)}`),n[f.id]=f,!f.isRoot&&f.path){const g=_s(f.fullPath);(!i[g]||f.fullPath.endsWith("/"))&&(i[g]=f)}const m=f.children;m?.length&&a(m)})};a([t]);const c=E2(Object.values(n));return{routesById:n,routesByPath:i,flatRoutes:c}}function Fr(t){return!!t?.isNotFound}function T2(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const Vu="tsr-scroll-restoration-v1_3",R2=(t,e)=>{let n;return(...i)=>{n||(n=setTimeout(()=>{t(...i),n=null},e))}};function A2(){const t=T2();if(!t)return null;const e=t.getItem(Vu);let n=e?JSON.parse(e):{};return{state:n,set:i=>(n=Ws(i,n)||n,t.setItem(Vu,JSON.stringify(n)))}}const ru=A2(),Kp=t=>t.state.__TSR_key||t.href;function O2(t){const e=[];let n;for(;n=t.parentNode;)e.push(`${t.tagName}:nth-child(${Array.prototype.indexOf.call(n.children,t)+1})`),t=n;return`${e.reverse().join(" > ")}`.toLowerCase()}let qu=!1;function Z1({storageKey:t,key:e,behavior:n,shouldScrollRestoration:i,scrollToTopSelectors:a,location:c}){let u;try{u=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(h){console.error(h);return}const f=e||window.history.state?.__TSR_key,d=u[f];qu=!0;e:{if(i&&d&&Object.keys(d).length>0){for(const g in d){const b=d[g];if(g==="window")window.scrollTo({top:b.scrollY,left:b.scrollX,behavior:n});else if(g){const x=document.querySelector(g);x&&(x.scrollLeft=b.scrollX,x.scrollTop=b.scrollY)}}break e}const h=(c??window.location).hash.split("#",2)[1];if(h){const g=window.history.state?.__hashScrollIntoViewOptions??!0;if(g){const b=document.getElementById(h);b&&b.scrollIntoView(g)}break e}const m={top:0,left:0,behavior:n};if(window.scrollTo(m),a)for(const g of a){if(g==="window")continue;const b=typeof g=="function"?g():document.querySelector(g);b&&b.scrollTo(m)}}qu=!1}function M2(t,e){if(!ru&&!t.isServer||((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),t.isServer||t.isScrollRestorationSetup||!ru))return;t.isScrollRestorationSetup=!0,qu=!1;const i=t.options.getScrollRestorationKey||Kp;window.history.scrollRestoration="manual";const a=c=>{if(qu||!t.isScrollRestoring)return;let u="";if(c.target===document||c.target===window)u="window";else{const d=c.target.getAttribute("data-scroll-restoration-id");d?u=`[data-scroll-restoration-id="${d}"]`:u=O2(c.target)}const f=i(t.state.location);ru.set(d=>{const h=d[f]||={},m=h[u]||={};if(u==="window")m.scrollX=window.scrollX||0,m.scrollY=window.scrollY||0;else if(u){const g=document.querySelector(u);g&&(m.scrollX=g.scrollLeft||0,m.scrollY=g.scrollTop||0)}return d})};typeof document<"u"&&document.addEventListener("scroll",R2(a,100),!0),t.subscribe("onRendered",c=>{const u=i(c.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation})||(Z1({storageKey:Vu,key:u,behavior:t.options.scrollRestorationBehavior,shouldScrollRestoration:t.isScrollRestoring,scrollToTopSelectors:t.options.scrollToTopSelectors,location:t.history.location}),t.isScrollRestoring&&ru.set(f=>(f[u]||={},f)))})}function P2(t){if(typeof document<"u"&&document.querySelector){const e=t.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&t.state.location.hash!==""){const n=document.getElementById(t.state.location.hash);n&&n.scrollIntoView(e)}}}function N2(t,e=String){const n=new URLSearchParams;for(const i in t){const a=t[i];a!==void 0&&n.set(i,e(a))}return n.toString()}function np(t){return t?t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t:""}function D2(t){const e=new URLSearchParams(t),n={};for(const[i,a]of e.entries()){const c=n[i];c==null?n[i]=np(a):Array.isArray(c)?c.push(np(a)):n[i]=[c,np(a)]}return n}const k2=L2(JSON.parse),j2=U2(JSON.stringify,JSON.parse);function L2(t){return e=>{e[0]==="?"&&(e=e.substring(1));const n=D2(e);for(const i in n){const a=n[i];if(typeof a=="string")try{n[i]=t(a)}catch{}}return n}}function U2(t,e){const n=typeof e=="function";function i(a){if(typeof a=="object"&&a!==null)try{return t(a)}catch{}else if(n&&typeof a=="string")try{return e(a),t(a)}catch{}return a}return a=>{const c=N2(a,i);return c?`?${c}`:""}}function z2(t){if(t.statusCode=t.statusCode||t.code||307,!t.reloadDocument&&typeof t.href=="string")try{new URL(t.href),t.reloadDocument=!0}catch{}const e=new Headers(t.headers);t.href&&e.get("Location")===null&&e.set("Location",t.href);const n=new Response(null,{status:t.statusCode,headers:e});if(n.options=t,t.throw)throw n;return n}function ii(t){return t instanceof Response&&!!t.options}function I2(t){const e=new Map;let n,i;const a=c=>{c.next&&(c.prev?(c.prev.next=c.next,c.next.prev=c.prev,c.next=void 0,i&&(i.next=c,c.prev=i)):(c.next.prev=void 0,n=c.next,c.next=void 0,i&&(c.prev=i,i.next=c)),i=c)};return{get(c){const u=e.get(c);if(u)return a(u),u.value},set(c,u){if(e.size>=t&&n){const d=n;e.delete(d.key),d.next&&(n=d.next,d.next.prev=void 0),d===i&&(i=void 0)}const f=e.get(c);if(f)f.value=u,a(f);else{const d={key:c,value:u,prev:i};i&&(i.next=d),i=d,n||(n=d),e.set(c,d)}}}}const wu=t=>{if(!t.rendered)return t.rendered=!0,t.onReady?.()},mf=(t,e)=>!!(t.preload&&!t.router.state.matches.some(n=>n.id===e)),J1=(t,e)=>{const n=t.router.routesById[e.routeId??""]??t.router.routeTree;!n.options.notFoundComponent&&t.router.options?.defaultNotFoundComponent&&(n.options.notFoundComponent=t.router.options.defaultNotFoundComponent),Hi(n.options.notFoundComponent);const i=t.matches.find(a=>a.routeId===n.id);Hi(i,"Could not find match for route: "+n.id),t.updateMatch(i.id,a=>({...a,status:"notFound",error:e,isFetching:!1})),e.routerCode==="BEFORE_LOAD"&&n.parentRoute&&(e.routeId=n.parentRoute.id,J1(t,e))},vs=(t,e,n)=>{if(!(!ii(n)&&!Fr(n))){if(ii(n)&&n.redirectHandled&&!n.options.reloadDocument)throw n;if(e){e._nonReactive.beforeLoadPromise?.resolve(),e._nonReactive.loaderPromise?.resolve(),e._nonReactive.beforeLoadPromise=void 0,e._nonReactive.loaderPromise=void 0;const i=ii(n)?"redirected":"notFound";t.updateMatch(e.id,a=>({...a,status:i,isFetching:!1,error:n})),Fr(n)&&!n.routeId&&(n.routeId=e.routeId),e._nonReactive.loadPromise?.resolve()}throw ii(n)?(t.rendered=!0,n.options._fromLocation=t.location,n.redirectHandled=!0,n=t.router.resolveRedirect(n),n):(J1(t,n),n)}},W1=(t,e)=>{const n=t.router.getMatch(e);return!!(!t.router.isServer&&n._nonReactive.dehydrated||t.router.isServer&&n.ssr===!1)},ic=(t,e,n,i)=>{const{id:a,routeId:c}=t.matches[e],u=t.router.looseRoutesById[c];if(n instanceof Promise)throw n;n.routerCode=i,t.firstBadMatchIndex??=e,vs(t,t.router.getMatch(a),n);try{u.options.onError?.(n)}catch(f){n=f,vs(t,t.router.getMatch(a),n)}t.updateMatch(a,f=>(f._nonReactive.beforeLoadPromise?.resolve(),f._nonReactive.beforeLoadPromise=void 0,f._nonReactive.loadPromise?.resolve(),{...f,error:n,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},B2=(t,e,n,i)=>{const a=t.router.getMatch(e),c=t.matches[n-1]?.id,u=c?t.router.getMatch(c):void 0;if(t.router.isShell()){a.ssr=e===cr;return}if(u?.ssr===!1){a.ssr=!1;return}const f=x=>x===!0&&u?.ssr==="data-only"?"data-only":x,d=t.router.options.defaultSsr??!0;if(i.options.ssr===void 0){a.ssr=f(d);return}if(typeof i.options.ssr!="function"){a.ssr=f(i.options.ssr);return}const{search:h,params:m}=a,g={search:iu(h,a.searchError),params:iu(m,a.paramsError),location:t.location,matches:t.matches.map(x=>({index:x.index,pathname:x.pathname,fullPath:x.fullPath,staticData:x.staticData,id:x.id,routeId:x.routeId,search:iu(x.search,x.searchError),params:iu(x.params,x.paramsError),ssr:x.ssr}))},b=i.options.ssr(g);if(Ss(b))return b.then(x=>{a.ssr=f(x??d)});a.ssr=f(b??d)},eS=(t,e,n,i)=>{if(i._nonReactive.pendingTimeout!==void 0)return;const a=n.options.pendingMs??t.router.options.defaultPendingMs;if(!!(t.onReady&&!t.router.isServer&&!mf(t,e)&&(n.options.loader||n.options.beforeLoad||rS(n))&&typeof a=="number"&&a!==1/0&&(n.options.pendingComponent??t.router.options?.defaultPendingComponent))){const u=setTimeout(()=>{wu(t)},a);i._nonReactive.pendingTimeout=u}},H2=(t,e,n)=>{const i=t.router.getMatch(e);if(!i._nonReactive.beforeLoadPromise&&!i._nonReactive.loaderPromise)return;eS(t,e,n,i);const a=()=>{const c=t.router.getMatch(e);c.preload&&(c.status==="redirected"||c.status==="notFound")&&vs(t,c,c.error)};return i._nonReactive.beforeLoadPromise?i._nonReactive.beforeLoadPromise.then(a):a()},$2=(t,e,n,i)=>{const a=t.router.getMatch(e),c=a._nonReactive.loadPromise;a._nonReactive.loadPromise=Ja(()=>{c?.resolve()});const{paramsError:u,searchError:f}=a;u&&ic(t,n,u,"PARSE_PARAMS"),f&&ic(t,n,f,"VALIDATE_SEARCH"),eS(t,e,i,a);const d=new AbortController,h=t.matches[n-1]?.id,b={...(h?t.router.getMatch(h):void 0)?.context??t.router.options.context??void 0,...a.__routeContext};let x=!1;const E=()=>{x||(x=!0,t.updateMatch(e,Y=>({...Y,isFetching:"beforeLoad",fetchCount:Y.fetchCount+1,abortController:d,context:b})))},C=()=>{a._nonReactive.beforeLoadPromise?.resolve(),a._nonReactive.beforeLoadPromise=void 0,t.updateMatch(e,Y=>({...Y,isFetching:!1}))};if(!i.options.beforeLoad){xc(()=>{E(),C()});return}a._nonReactive.beforeLoadPromise=Ja();const{search:M,params:D,cause:N}=a,k=mf(t,e),j={search:M,abortController:d,params:D,preload:k,context:b,location:t.location,navigate:Y=>t.router.navigate({...Y,_fromLocation:t.location}),buildLocation:t.router.buildLocation,cause:k?"preload":N,matches:t.matches,...t.router.options.additionalContext},F=Y=>{if(Y===void 0){xc(()=>{E(),C()});return}(ii(Y)||Fr(Y))&&(E(),ic(t,n,Y,"BEFORE_LOAD")),xc(()=>{E(),t.updateMatch(e,X=>({...X,__beforeLoadContext:Y,context:{...X.context,...Y}})),C()})};let W;try{if(W=i.options.beforeLoad(j),Ss(W))return E(),W.catch(Y=>{ic(t,n,Y,"BEFORE_LOAD")}).then(F)}catch(Y){E(),ic(t,n,Y,"BEFORE_LOAD")}F(W)},V2=(t,e)=>{const{id:n,routeId:i}=t.matches[e],a=t.router.looseRoutesById[i],c=()=>{if(t.router.isServer){const d=B2(t,n,e,a);if(Ss(d))return d.then(f)}return f()},u=()=>$2(t,n,e,a),f=()=>{if(W1(t,n))return;const d=H2(t,n,a);return Ss(d)?d.then(u):u()};return c()},Sc=(t,e,n)=>{const i=t.router.getMatch(e);if(!i||!n.options.head&&!n.options.scripts&&!n.options.headers)return;const a={matches:t.matches,match:i,params:i.params,loaderData:i.loaderData};return Promise.all([n.options.head?.(a),n.options.scripts?.(a),n.options.headers?.(a)]).then(([c,u,f])=>{const d=c?.meta,h=c?.links,m=c?.scripts,g=c?.styles;return{meta:d,links:h,headScripts:m,headers:f,scripts:u,styles:g}})},tS=(t,e,n,i)=>{const a=t.matchPromises[n-1],{params:c,loaderDeps:u,abortController:f,context:d,cause:h}=t.router.getMatch(e),m=mf(t,e);return{params:c,deps:u,preload:!!m,parentMatchPromise:a,abortController:f,context:d,location:t.location,navigate:g=>t.router.navigate({...g,_fromLocation:t.location}),cause:m?"preload":h,route:i,...t.router.options.additionalContext}},Fb=async(t,e,n,i)=>{try{const a=t.router.getMatch(e);try{(!t.router.isServer||a.ssr===!0)&&nS(i);const c=i.options.loader?.(tS(t,e,n,i)),u=i.options.loader&&Ss(c);if(!!(u||i._lazyPromise||i._componentsPromise||i.options.head||i.options.scripts||i.options.headers||a._nonReactive.minPendingPromise)&&t.updateMatch(e,g=>({...g,isFetching:"loader"})),i.options.loader){const g=u?await c:c;vs(t,t.router.getMatch(e),g),g!==void 0&&t.updateMatch(e,b=>({...b,loaderData:g}))}i._lazyPromise&&await i._lazyPromise;const d=Sc(t,e,i),h=d?await d:void 0,m=a._nonReactive.minPendingPromise;m&&await m,i._componentsPromise&&await i._componentsPromise,t.updateMatch(e,g=>({...g,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),...h}))}catch(c){let u=c;const f=a._nonReactive.minPendingPromise;f&&await f,Fr(c)&&await i.options.notFoundComponent?.preload?.(),vs(t,t.router.getMatch(e),c);try{i.options.onError?.(c)}catch(m){u=m,vs(t,t.router.getMatch(e),m)}const d=Sc(t,e,i),h=d?await d:void 0;t.updateMatch(e,m=>({...m,error:u,status:"error",isFetching:!1,...h}))}}catch(a){const c=t.router.getMatch(e);if(c){const u=Sc(t,e,i);if(u){const f=await u;t.updateMatch(e,d=>({...d,...f}))}c._nonReactive.loaderPromise=void 0}vs(t,c,a)}},q2=async(t,e)=>{const{id:n,routeId:i}=t.matches[e];let a=!1,c=!1;const u=t.router.looseRoutesById[i];if(W1(t,n)){if(t.router.isServer){const h=Sc(t,n,u);if(h){const m=await h;t.updateMatch(n,g=>({...g,...m}))}return t.router.getMatch(n)}}else{const h=t.router.getMatch(n);if(h._nonReactive.loaderPromise){if(h.status==="success"&&!t.sync&&!h.preload)return h;await h._nonReactive.loaderPromise;const m=t.router.getMatch(n);m.error&&vs(t,m,m.error)}else{const m=Date.now()-h.updatedAt,g=mf(t,n),b=g?u.options.preloadStaleTime??t.router.options.defaultPreloadStaleTime??3e4:u.options.staleTime??t.router.options.defaultStaleTime??0,x=u.options.shouldReload,E=typeof x=="function"?x(tS(t,n,e,u)):x,C=!!g&&!t.router.state.matches.some(k=>k.id===n),M=t.router.getMatch(n);M._nonReactive.loaderPromise=Ja(),C!==M.preload&&t.updateMatch(n,k=>({...k,preload:C}));const{status:D,invalid:N}=M;if(a=D==="success"&&(N||(E??m>b)),!(g&&u.options.preload===!1))if(a&&!t.sync)c=!0,(async()=>{try{await Fb(t,n,e,u);const k=t.router.getMatch(n);k._nonReactive.loaderPromise?.resolve(),k._nonReactive.loadPromise?.resolve(),k._nonReactive.loaderPromise=void 0}catch(k){ii(k)&&await t.router.navigate(k.options)}})();else if(D!=="success"||a&&t.sync)await Fb(t,n,e,u);else{const k=Sc(t,n,u);if(k){const j=await k;t.updateMatch(n,F=>({...F,...j}))}}}}const f=t.router.getMatch(n);c||(f._nonReactive.loaderPromise?.resolve(),f._nonReactive.loadPromise?.resolve()),clearTimeout(f._nonReactive.pendingTimeout),f._nonReactive.pendingTimeout=void 0,c||(f._nonReactive.loaderPromise=void 0),f._nonReactive.dehydrated=void 0;const d=c?f.isFetching:!1;return d!==f.isFetching||f.invalid!==!1?(t.updateMatch(n,h=>({...h,isFetching:d,invalid:!1})),t.router.getMatch(n)):f};async function Gb(t){const e=Object.assign(t,{matchPromises:[]});!e.router.isServer&&e.router.state.matches.some(n=>n._forcePending)&&wu(e);try{for(let a=0;a<e.matches.length;a++){const c=V2(e,a);Ss(c)&&await c}const n=e.firstBadMatchIndex??e.matches.length;for(let a=0;a<n;a++)e.matchPromises.push(q2(e,a));await Promise.all(e.matchPromises);const i=wu(e);Ss(i)&&await i}catch(n){if(Fr(n)&&!e.preload){const i=wu(e);throw Ss(i)&&await i,n}if(ii(n))throw n}return e.matches}async function nS(t){if(!t._lazyLoaded&&t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(e=>{const{id:n,...i}=e.options;Object.assign(t.options,i),t._lazyLoaded=!0,t._lazyPromise=void 0}):t._lazyLoaded=!0),!t._componentsLoaded&&t._componentsPromise===void 0){const e=()=>{const n=[];for(const i of iS){const a=t.options[i]?.preload;a&&n.push(a())}if(n.length)return Promise.all(n).then(()=>{t._componentsLoaded=!0,t._componentsPromise=void 0});t._componentsLoaded=!0,t._componentsPromise=void 0};t._componentsPromise=t._lazyPromise?t._lazyPromise.then(e):e()}return t._componentsPromise}function iu(t,e){return e?{status:"error",error:e}:{status:"success",value:t}}function rS(t){for(const e of iS)if(t.options[e]?.preload)return!0;return!1}const iS=["component","errorComponent","pendingComponent","notFoundComponent"];function Y2(t){return{input:({url:e})=>{for(const n of t)e=sS(n,e);return e},output:({url:e})=>{for(let n=t.length-1;n>=0;n--)e=aS(t[n],e);return e}}}function F2(t){const e=_u(t.basepath),n=`/${e}`,i=`${n}/`,a=t.caseSensitive?n:n.toLowerCase(),c=t.caseSensitive?i:i.toLowerCase();return{input:({url:u})=>{const f=t.caseSensitive?u.pathname:u.pathname.toLowerCase();return f===a?u.pathname="/":f.startsWith(c)&&(u.pathname=u.pathname.slice(n.length)),u},output:({url:u})=>(u.pathname=Ii(["/",e,u.pathname]),u)}}function sS(t,e){const n=t?.input?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function aS(t,e){const n=t?.output?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function ta(t){const e=t.resolvedLocation,n=t.location,i=e?.pathname!==n.pathname,a=e?.href!==n.href,c=e?.hash!==n.hash;return{fromLocation:e,toLocation:n,pathChanged:i,hrefChanged:a,hashChanged:c}}class G2{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options,a=this.basepath??i?.basepath??"/",c=this.basepath===void 0,u=i?.rewrite;this.options={...i,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(b=>[encodeURIComponent(b),b])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=WR())),this.origin=this.options.origin,this.origin||(!this.isServer&&window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new Yp(X2(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(b=>!["redirected"].includes(b.status))}}}),M2(this));let f=!1;const d=this.options.basepath??"/",h=this.options.rewrite;if(c||a!==d||u!==h){this.basepath=d;const b=[];_u(d)!==""&&b.push(F2({basepath:d})),h&&b.push(h),this.rewrite=b.length===0?void 0:b.length===1?b[0]:Y2(b),this.history&&this.updateLatestLocation(),f=!0}f&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:n,routesByPath:i,flatRoutes:a}=C2({routeTree:this.routeTree,initRoute:(u,f)=>{u.init({originalIndex:f})}});this.routesById=n,this.routesByPath=i,this.flatRoutes=a;const c=this.options.notFoundRoute;c&&(c.init({originalIndex:99999999999}),this.routesById[c.id]=c)},this.subscribe=(n,i)=>{const a={eventType:n,fn:i};return this.subscribers.add(a),()=>{this.subscribers.delete(a)}},this.emit=n=>{this.subscribers.forEach(i=>{i.eventType===n.type&&i.fn(n)})},this.parseLocation=(n,i)=>{const a=({href:d,state:h})=>{const m=new URL(d,this.origin),g=sS(this.rewrite,m),b=this.options.parseSearch(g.search),x=this.options.stringifySearch(b);g.search=x;const E=g.href.replace(g.origin,""),{pathname:C,hash:M}=g;return{href:E,publicHref:d,url:g.href,pathname:C,searchStr:x,search:kr(i?.search,b),hash:M.split("#").reverse()[0]??"",state:kr(i?.state,h)}},c=a(n),{__tempLocation:u,__tempKey:f}=c.state;if(u&&(!f||f===this.tempLocationKey)){const d=a(u);return d.state.key=c.state.key,d.state.__TSR_key=c.state.__TSR_key,delete d.state.__tempLocation,{...d,maskedLocation:c}}return c},this.resolvePathWithBase=(n,i)=>s2({base:n,to:qm(i),trailingSlash:this.options.trailingSlash,parseCache:this.parsePathnameCache}),this.matchRoutes=(n,i,a)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:i},a):this.matchRoutesInternal(n,i),this.parsePathnameCache=I2(1e3),this.getMatchedRoutes=(n,i)=>Q2({pathname:n,routePathname:i,caseSensitive:this.options.caseSensitive,routesByPath:this.routesByPath,routesById:this.routesById,flatRoutes:this.flatRoutes,parseCache:this.parsePathnameCache}),this.cancelMatch=n=>{const i=this.getMatch(n);i&&(i.abortController.abort(),clearTimeout(i._nonReactive.pendingTimeout),i._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{this.state.pendingMatches?.forEach(n=>{this.cancelMatch(n.id)})},this.buildLocation=n=>{const i=(c={})=>{const u=c._fromLocation||this.latestLocation,f=this.matchRoutes(u,{_buildLocation:!0}),d=Fp(f);c.from;const h=c.unsafeRelative==="path"?u.pathname:c.from??d.fullPath,m=this.resolvePathWithBase(h,"."),g=d.search,b={...d.params},x=c.to?this.resolvePathWithBase(m,`${c.to}`):this.resolvePathWithBase(m,"."),E=c.params===!1||c.params===null?{}:(c.params??!0)===!0?b:Object.assign(b,Ws(c.params,b)),C=nu({path:x,params:E,parseCache:this.parsePathnameCache}).interpolatedPath,M=this.matchRoutes(C,void 0,{_buildLocation:!0}).map(ve=>this.looseRoutesById[ve.routeId]);if(Object.keys(E).length>0)for(const ve of M){const Se=ve.options.params?.stringify??ve.options.stringifyParams;Se&&Object.assign(E,Se(E))}const D=nu({path:x,params:E,leaveWildcards:!1,leaveParams:n.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath;let N=g;if(n._includeValidateSearch&&this.options.search?.strict){const ve={};M.forEach(Se=>{if(Se.options.validateSearch)try{Object.assign(ve,Xp(Se.options.validateSearch,{...ve,...N}))}catch{}}),N=ve}N=Z2({search:N,dest:c,destRoutes:M,_includeValidateSearch:n._includeValidateSearch}),N=kr(g,N);const k=this.options.stringifySearch(N),j=c.hash===!0?u.hash:c.hash?Ws(c.hash,u.hash):void 0,F=j?`#${j}`:"";let W=c.state===!0?u.state:c.state?Ws(c.state,u.state):{};W=kr(u.state,W);const Y=`${D}${k}${F}`,X=new URL(Y,this.origin),pe=aS(this.rewrite,X);return{publicHref:pe.pathname+pe.search+pe.hash,href:Y,url:pe.href,pathname:D,search:N,searchStr:k,state:W,hash:j??"",unmaskOnReload:c.unmaskOnReload}},a=(c={},u)=>{const f=i(c);let d=u?i(u):void 0;if(!d){let h={};const m=this.options.routeMasks?.find(g=>{const b=Gp(f.pathname,{to:g.from,caseSensitive:!1,fuzzy:!1},this.parsePathnameCache);return b?(h=b,!0):!1});if(m){const{from:g,...b}=m;u={from:n.from,...b,params:h},d=i(u)}}return d&&(f.maskedLocation=d),f};return n.mask?a(n,{from:n.from,...n.mask}):a(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:i,...a})=>{const c=()=>{const d=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];d.forEach(m=>{a.state[m]=this.latestLocation.state[m]});const h=ea(a.state,this.latestLocation.state);return d.forEach(m=>{delete a.state[m]}),h},u=_s(this.latestLocation.href)===_s(a.href),f=this.commitLocationPromise;if(this.commitLocationPromise=Ja(()=>{f?.resolve()}),u&&c())this.load();else{let{maskedLocation:d,hashScrollIntoView:h,...m}=a;d&&(m={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...m,search:m.searchStr,state:{...m.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(m.unmaskOnReload??this.options.unmaskOnReload??!1)&&(m.state.__tempKey=this.tempLocationKey)),m.state.__hashScrollIntoViewOptions=h??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[a.replace?"replace":"push"](m.publicHref,m.state,{ignoreBlocker:i})}return this.resetNextScroll=a.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:i,hashScrollIntoView:a,viewTransition:c,ignoreBlocker:u,href:f,...d}={})=>{if(f){const m=this.history.location.state.__TSR_index,g=Bu(f,{__TSR_index:n?m:m+1});d.to=g.pathname,d.search=this.options.parseSearch(g.search),d.hash=g.hash.slice(1)}const h=this.buildLocation({...d,_includeValidateSearch:!0});return this.commitLocation({...h,viewTransition:c,replace:n,resetScroll:i,hashScrollIntoView:a,ignoreBlocker:u})},this.navigate=({to:n,reloadDocument:i,href:a,...c})=>{if(!i&&a)try{new URL(`${a}`),i=!0}catch{}return i?(a||(a=this.buildLocation({to:n,...c}).url),c.replace?window.location.replace(a):window.location.href=a,Promise.resolve()):this.buildAndCommitLocation({...c,href:a,to:n,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.updateLatestLocation(),this.isServer){const i=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0}),a=c=>{try{return encodeURI(decodeURI(c))}catch{return c}};if(_u(a(this.latestLocation.href))!==_u(a(i.href))){let c=i.url;throw this.origin&&c.startsWith(this.origin)&&(c=c.replace(this.origin,"")||"/"),z2({href:c})}}const n=this.matchRoutes(this.latestLocation);this.__store.setState(i=>({...i,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:n,cachedMatches:i.cachedMatches.filter(a=>!n.some(c=>c.id===a.id))}))},this.load=async n=>{let i,a,c;for(c=new Promise(f=>{this.startTransition(async()=>{try{this.beforeLoad();const d=this.latestLocation,h=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...ta({resolvedLocation:h,location:d})}),this.emit({type:"onBeforeLoad",...ta({resolvedLocation:h,location:d})}),await Gb({router:this,sync:n?.sync,matches:this.state.pendingMatches,location:d,updateMatch:this.updateMatch,onReady:async()=>{this.startViewTransition(async()=>{let m,g,b;xc(()=>{this.__store.setState(x=>{const E=x.matches,C=x.pendingMatches||x.matches;return m=E.filter(M=>!C.some(D=>D.id===M.id)),g=C.filter(M=>!E.some(D=>D.id===M.id)),b=E.filter(M=>C.some(D=>D.id===M.id)),{...x,isLoading:!1,loadedAt:Date.now(),matches:C,pendingMatches:void 0,cachedMatches:[...x.cachedMatches,...m.filter(M=>M.status!=="error")]}}),this.clearExpiredCache()}),[[m,"onLeave"],[g,"onEnter"],[b,"onStay"]].forEach(([x,E])=>{x.forEach(C=>{this.looseRoutesById[C.routeId].options[E]?.(C)})})})}})}catch(d){ii(d)?(i=d,this.isServer||this.navigate({...i.options,replace:!0,ignoreBlocker:!0})):Fr(d)&&(a=d),this.__store.setState(h=>({...h,statusCode:i?i.status:a?404:h.matches.some(m=>m.status==="error")?500:200,redirect:i}))}this.latestLoadPromise===c&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),f()})}),this.latestLoadPromise=c,await c;this.latestLoadPromise&&c!==this.latestLoadPromise;)await this.latestLoadPromise;let u;this.hasNotFoundMatch()?u=404:this.__store.state.matches.some(f=>f.status==="error")&&(u=500),u!==void 0&&this.__store.setState(f=>({...f,statusCode:u}))},this.startViewTransition=n=>{const i=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,i&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let a;if(typeof i=="object"&&this.isViewTransitionTypesSupported){const c=this.latestLocation,u=this.state.resolvedLocation,f=typeof i.types=="function"?i.types(ta({resolvedLocation:u,location:c})):i.types;if(f===!1){n();return}a={update:n,types:f}}else a=n;document.startViewTransition(a)}else n()},this.updateMatch=(n,i)=>{const a=this.state.pendingMatches?.some(c=>c.id===n)?"pendingMatches":this.state.matches.some(c=>c.id===n)?"matches":this.state.cachedMatches.some(c=>c.id===n)?"cachedMatches":"";a&&this.__store.setState(c=>({...c,[a]:c[a]?.map(u=>u.id===n?i(u):u)}))},this.getMatch=n=>{const i=a=>a.id===n;return this.state.cachedMatches.find(i)??this.state.pendingMatches?.find(i)??this.state.matches.find(i)},this.invalidate=n=>{const i=a=>n?.filter?.(a)??!0?{...a,invalid:!0,...n?.forcePending||a.status==="error"?{status:"pending",error:void 0}:void 0}:a;return this.__store.setState(a=>({...a,matches:a.matches.map(i),cachedMatches:a.cachedMatches.map(i),pendingMatches:a.pendingMatches?.map(i)})),this.shouldViewTransition=!1,this.load({sync:n?.sync})},this.resolveRedirect=n=>{if(!n.options.href){const i=this.buildLocation(n.options);let a=i.url;this.origin&&a.startsWith(this.origin)&&(a=a.replace(this.origin,"")||"/"),n.options.href=i.href,n.headers.set("Location",a)}return n.headers.get("Location")||n.headers.set("Location",n.options.href),n},this.clearCache=n=>{const i=n?.filter;i!==void 0?this.__store.setState(a=>({...a,cachedMatches:a.cachedMatches.filter(c=>!i(c))})):this.__store.setState(a=>({...a,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=i=>{const a=this.looseRoutesById[i.routeId];if(!a.options.loader)return!0;const c=(i.preload?a.options.preloadGcTime??this.options.defaultPreloadGcTime:a.options.gcTime??this.options.defaultGcTime)??300*1e3;return i.status==="error"?!0:Date.now()-i.updatedAt>=c};this.clearCache({filter:n})},this.loadRouteChunk=nS,this.preloadRoute=async n=>{const i=this.buildLocation(n);let a=this.matchRoutes(i,{throwOnError:!0,preload:!0,dest:n});const c=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(f=>f.id)),u=new Set([...c,...this.state.cachedMatches.map(f=>f.id)]);xc(()=>{a.forEach(f=>{u.has(f.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,f]}))})});try{return a=await Gb({router:this,matches:a,location:i,preload:!0,updateMatch:(f,d)=>{c.has(f)?a=a.map(h=>h.id===f?d(h):h):this.updateMatch(f,d)}}),a}catch(f){if(ii(f))return f.options.reloadDocument?void 0:await this.preloadRoute({...f.options,_fromLocation:i});Fr(f)||console.error(f);return}},this.matchRoute=(n,i)=>{const a={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},c=this.buildLocation(a);if(i?.pending&&this.state.status!=="pending")return!1;const f=(i?.pending===void 0?!this.state.isLoading:i.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,d=Gp(f.pathname,{...i,to:c.pathname},this.parsePathnameCache);return!d||n.params&&!ea(d,n.params,{partial:!0})?!1:d&&(i?.includeSearch??!0)?ea(f.search,c.search,{partial:!0})?d:!1:d},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??j2,parseSearch:e.parseSearch??k2}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(e,n){const{foundRoute:i,matchedRoutes:a,routeParams:c}=this.getMatchedRoutes(e.pathname,n?.dest?.to);let u=!1;(i?i.path!=="/"&&c["**"]:_s(e.pathname))&&(this.options.notFoundRoute?a.push(this.options.notFoundRoute):u=!0);const f=(()=>{if(u){if(this.options.notFoundMode!=="root")for(let m=a.length-1;m>=0;m--){const g=a[m];if(g.children)return g.id}return cr}})(),d=[],h=m=>m?.id?m.context??this.options.context??void 0:this.options.context??void 0;return a.forEach((m,g)=>{const b=d[g-1],[x,E,C]=(()=>{const we=b?.search??e.search,Ke=b?._strictSearch??void 0;try{const _e=Xp(m.options.validateSearch,{...we})??void 0;return[{...we,..._e},{...Ke,..._e},void 0]}catch(_e){let Ue=_e;if(_e instanceof Yu||(Ue=new Yu(_e.message,{cause:_e})),n?.throwOnError)throw Ue;return[we,{},Ue]}})(),M=m.options.loaderDeps?.({search:x})??"",D=M?JSON.stringify(M):"",{interpolatedPath:N,usedParams:k}=nu({path:m.fullPath,params:c,decodeCharMap:this.pathParamsDecodeCharMap}),j=nu({path:m.id,params:c,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath+D,F=this.getMatch(j),W=this.state.matches.find(we=>we.routeId===m.id),Y=F?._strictParams??k;let X;if(!F){const we=m.options.params?.parse??m.options.parseParams;if(we)try{Object.assign(Y,we(Y))}catch(Ke){if(X=new K2(Ke.message,{cause:Ke}),n?.throwOnError)throw X}}Object.assign(c,Y);const pe=W?"stay":"enter";let ve;if(F)ve={...F,cause:pe,params:W?kr(W.params,c):c,_strictParams:Y,search:kr(W?W.search:F.search,x),_strictSearch:E};else{const we=m.options.loader||m.options.beforeLoad||m.lazyFn||rS(m)?"pending":"success";ve={id:j,index:g,routeId:m.id,params:W?kr(W.params,c):c,_strictParams:Y,pathname:N,updatedAt:Date.now(),search:W?kr(W.search,x):x,_strictSearch:E,searchError:void 0,status:we,isFetching:!1,error:void 0,paramsError:X,__routeContext:void 0,_nonReactive:{loadPromise:Ja()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:pe,loaderDeps:W?kr(W.loaderDeps,M):M,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:m.options.staticData||{},fullPath:m.fullPath}}n?.preload||(ve.globalNotFound=f===m.id),ve.searchError=C;const Se=h(b);ve.context={...Se,...ve.__routeContext,...ve.__beforeLoadContext},d.push(ve)}),d.forEach((m,g)=>{const b=this.looseRoutesById[m.routeId];if(!this.getMatch(m.id)&&n?._buildLocation!==!0){const E=d[g-1],C=h(E);if(b.options.context){const M={deps:m.loaderDeps,params:m.params,context:C??{},location:e,navigate:D=>this.navigate({...D,_fromLocation:e}),buildLocation:this.buildLocation,cause:m.cause,abortController:m.abortController,preload:!!m.preload,matches:d};m.__routeContext=b.options.context(M)??void 0}m.context={...C,...m.__routeContext,...m.__beforeLoadContext}}}),d}}class Yu extends Error{}class K2 extends Error{}function X2(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Xp(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new Yu("Async validation not supported");if(n.issues)throw new Yu(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function Q2({pathname:t,routePathname:e,caseSensitive:n,routesByPath:i,routesById:a,flatRoutes:c,parseCache:u}){let f={};const d=_s(t),h=x=>Gp(d,{to:x.fullPath,caseSensitive:x.options?.caseSensitive??n,fuzzy:!0},u);let m=e!==void 0?i[e]:void 0;if(m)f=h(m);else{let x;for(const E of c){const C=h(E);if(C)if(E.path!=="/"&&C["**"])x||(x={foundRoute:E,routeParams:C});else{m=E,f=C;break}}!m&&x&&(m=x.foundRoute,f=x.routeParams)}let g=m||a[cr];const b=[g];for(;g.parentRoute;)g=g.parentRoute,b.push(g);return b.reverse(),{matchedRoutes:b,routeParams:f,foundRoute:m}}function Z2({search:t,dest:e,destRoutes:n,_includeValidateSearch:i}){const a=n.reduce((f,d)=>{const h=[];if("search"in d.options)d.options.search?.middlewares&&h.push(...d.options.search.middlewares);else if(d.options.preSearchFilters||d.options.postSearchFilters){const m=({search:g,next:b})=>{let x=g;"preSearchFilters"in d.options&&d.options.preSearchFilters&&(x=d.options.preSearchFilters.reduce((C,M)=>M(C),g));const E=b(x);return"postSearchFilters"in d.options&&d.options.postSearchFilters?d.options.postSearchFilters.reduce((C,M)=>M(C),E):E};h.push(m)}if(i&&d.options.validateSearch){const m=({search:g,next:b})=>{const x=b(g);try{return{...x,...Xp(d.options.validateSearch,x)??void 0}}catch{return x}};h.push(m)}return f.concat(h)},[])??[],c=({search:f})=>e.search?e.search===!0?f:Ws(e.search,f):{};a.push(c);const u=(f,d)=>{if(f>=a.length)return d;const h=a[f];return h({search:d,next:g=>u(f+1,g)})};return u(0,t)}const J2="Error preloading route! ☝️";class oS{constructor(e){if(this.init=n=>{this.originalIndex=n.originalIndex;const i=this.options,a=!i?.path&&!i?.id;this.parentRoute=this.options.getParentRoute?.(),a?this._path=cr:this.parentRoute||Hi(!1);let c=a?cr:i?.path;c&&c!=="/"&&(c=Ym(c));const u=i?.id||c;let f=a?cr:Ii([this.parentRoute.id===cr?"":this.parentRoute.id,u]);c===cr&&(c="/"),f!==cr&&(f=Ii(["/",f]));const d=f===cr?"/":Ii([this.parentRoute.fullPath,c]);this._path=c,this._id=f,this._fullPath=d,this._to=d},this.clone=n=>{this._path=n._path,this._id=n._id,this._fullPath=n._fullPath,this._to=n._to,this.options.getParentRoute=n.options.getParentRoute,this.children=n.children},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.options=e||{},this.isRoot=!e?.getParentRoute,e?.id&&e?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class W2 extends oS{constructor(e){super(e)}}var T=Uc();const Ne=Lc(T),eA=Y1({__proto__:null,default:Ne},[T]);function Fm(t){const e=t.errorComponent??yf;return S.jsx(tA,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:i})=>n?T.createElement(e,{error:n,reset:i}):t.children})}class tA extends T.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function yf({error:t}){const[e,n]=T.useState(!1);return S.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[S.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[S.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),S.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(i=>!i),children:e?"Hide Error":"Show Error"})]}),S.jsx("div",{style:{height:".25rem"}}),e?S.jsx("div",{children:S.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?S.jsx("code",{children:t.message}):null})}):null]})}function nA({children:t,fallback:e=null}){return rA()?S.jsx(Ne.Fragment,{children:t}):S.jsx(Ne.Fragment,{children:e})}function rA(){return Ne.useSyncExternalStore(iA,()=>!0,()=>!1)}function iA(){return()=>{}}var rp={exports:{}},ip={},sp={exports:{}},ap={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb;function sA(){if(Kb)return ap;Kb=1;var t=Uc();function e(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,a=t.useEffect,c=t.useLayoutEffect,u=t.useDebugValue;function f(g,b){var x=b(),E=i({inst:{value:x,getSnapshot:b}}),C=E[0].inst,M=E[1];return c(function(){C.value=x,C.getSnapshot=b,d(C)&&M({inst:C})},[g,x,b]),a(function(){return d(C)&&M({inst:C}),g(function(){d(C)&&M({inst:C})})},[g]),u(x),x}function d(g){var b=g.getSnapshot;g=g.value;try{var x=b();return!n(g,x)}catch{return!0}}function h(g,b){return b()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:f;return ap.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,ap}var Xb;function cS(){return Xb||(Xb=1,sp.exports=sA()),sp.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qb;function aA(){if(Qb)return ip;Qb=1;var t=Uc(),e=cS();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var i=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,c=t.useRef,u=t.useEffect,f=t.useMemo,d=t.useDebugValue;return ip.useSyncExternalStoreWithSelector=function(h,m,g,b,x){var E=c(null);if(E.current===null){var C={hasValue:!1,value:null};E.current=C}else C=E.current;E=f(function(){function D(W){if(!N){if(N=!0,k=W,W=b(W),x!==void 0&&C.hasValue){var Y=C.value;if(x(Y,W))return j=Y}return j=W}if(Y=j,i(k,W))return Y;var X=b(W);return x!==void 0&&x(Y,X)?(k=W,Y):(k=W,j=X)}var N=!1,k,j,F=g===void 0?null:g;return[function(){return D(m())},F===null?void 0:function(){return D(F())}]},[m,g,b,x]);var M=a(h,E[0],E[1]);return u(function(){C.hasValue=!0,C.value=M},[M]),d(M),M},ip}var Zb;function oA(){return Zb||(Zb=1,rp.exports=aA()),rp.exports}var cA=oA();function lA(t,e=n=>n){return cA.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,uA)}function uA(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[i,a]of t)if(!e.has(i)||!Object.is(a,e.get(i)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();const n=Jb(t);if(n.length!==Jb(e).length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!Object.is(t[n[i]],e[n[i]]))return!1;return!0}function Jb(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}const op=T.createContext(null);function lS(){return typeof document>"u"?op:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=op,op)}function wr(t){const e=T.useContext(lS());return t?.warn,e}function lr(t){const e=wr({warn:t?.router===void 0}),n=t?.router||e,i=T.useRef(void 0);return lA(n.__store,a=>{if(t?.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const c=kr(i.current,t.select(a));return i.current=c,c}return t.select(a)}return a})}const gf=T.createContext(void 0),fA=T.createContext(void 0);function ui(t){const e=T.useContext(t.from?fA:gf);return lr({select:i=>{const a=i.matches.find(c=>t.from?t.from===c.routeId:c.id===e);if(Hi(!((t.shouldThrow??!0)&&!a),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),a!==void 0)return t.select?t.select(a):a},structuralSharing:t.structuralSharing})}function Gm(t){return ui({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function Km(t){const{select:e,...n}=t;return ui({...n,select:i=>e?e(i.loaderDeps):i.loaderDeps})}function Xm(t){return ui({from:t.from,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,strict:t.strict,select:e=>{const n=t.strict===!1?e.params:e._strictParams;return t.select?t.select(n):n}})}function Qm(t){return ui({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function zc(t){const e=wr();return T.useCallback(n=>e.navigate({...n,from:n.from??t?.from}),[t?.from,e])}var Ic=F1();const dA=Lc(Ic),su=typeof window<"u"?T.useLayoutEffect:T.useEffect;function cp(t){const e=T.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function hA(t,e,n={},i={}){T.useEffect(()=>{if(!t.current||i.disabled||typeof IntersectionObserver!="function")return;const a=new IntersectionObserver(([c])=>{e(c)},n);return a.observe(t.current),()=>{a.disconnect()}},[e,n,i.disabled,t])}function pA(t){const e=T.useRef(null);return T.useImperativeHandle(t,()=>e.current,[]),e}function mA(t,e){const n=wr(),[i,a]=T.useState(!1),c=T.useRef(!1),u=pA(e),{activeProps:f,inactiveProps:d,activeOptions:h,to:m,preload:g,preloadDelay:b,hashScrollIntoView:x,replace:E,startTransition:C,resetScroll:M,viewTransition:D,children:N,target:k,disabled:j,style:F,className:W,onClick:Y,onFocus:X,onMouseEnter:pe,onMouseLeave:ve,onTouchStart:Se,ignoreBlocker:we,params:Ke,search:_e,hash:Ue,state:H,mask:se,reloadDocument:G,unsafeRelative:De,from:Xe,_fromLocation:z,...ie}=t,de=lr({select:ct=>ct.location.search,structuralSharing:!0}),ge=t.from,be=T.useMemo(()=>({...t,from:ge}),[n,de,ge,t._fromLocation,t.hash,t.to,t.search,t.params,t.state,t.mask,t.unsafeRelative]),Ee=T.useMemo(()=>n.buildLocation({...be}),[n,be]),Re=T.useMemo(()=>{if(j)return;let ct=Ee.maskedLocation?Ee.maskedLocation.url:Ee.url,ft=!1;return n.origin&&(ct.startsWith(n.origin)?ct=n.history.createHref(ct.replace(n.origin,""))||"/":ft=!0),{href:ct,external:ft}},[j,Ee.maskedLocation,Ee.url,n.origin,n.history]),Pt=T.useMemo(()=>{if(Re?.external)return Re.href;try{return new URL(m),m}catch{}},[m,Re]),I=t.reloadDocument||Pt?!1:g??n.options.defaultPreload,Z=b??n.options.defaultPreloadDelay??0,ue=lr({select:ct=>{if(Pt)return!1;if(h?.exact){if(!r2(ct.location.pathname,Ee.pathname,n.basepath))return!1}else{const ft=$u(ct.location.pathname,n.basepath),en=$u(Ee.pathname,n.basepath);if(!(ft.startsWith(en)&&(ft.length===en.length||ft[en.length]==="/")))return!1}return(h?.includeSearch??!0)&&!ea(ct.location.search,Ee.search,{partial:!h?.exact,ignoreUndefined:!h?.explicitUndefined})?!1:h?.includeHash?ct.location.hash===Ee.hash:!0}}),Oe=T.useCallback(()=>{n.preloadRoute({...be}).catch(ct=>{console.warn(ct),console.warn(J2)})},[n,be]),Le=T.useCallback(ct=>{ct?.isIntersecting&&Oe()},[Oe]);hA(u,Le,xA,{disabled:!!j||I!=="viewport"}),T.useEffect(()=>{c.current||!j&&I==="render"&&(Oe(),c.current=!0)},[j,Oe,I]);const je=ct=>{const ft=ct.currentTarget.target,en=k!==void 0?k:ft;if(!j&&!SA(ct)&&!ct.defaultPrevented&&(!en||en==="_self")&&ct.button===0){ct.preventDefault(),Ic.flushSync(()=>{a(!0)});const Cn=n.subscribe("onResolved",()=>{Cn(),a(!1)});n.navigate({...be,replace:E,resetScroll:M,hashScrollIntoView:x,startTransition:C,viewTransition:D,ignoreBlocker:we})}};if(Pt)return{...ie,ref:u,href:Pt,...N&&{children:N},...k&&{target:k},...j&&{disabled:j},...F&&{style:F},...W&&{className:W},...Y&&{onClick:Y},...X&&{onFocus:X},...pe&&{onMouseEnter:pe},...ve&&{onMouseLeave:ve},...Se&&{onTouchStart:Se}};const Et=ct=>{j||I&&Oe()},xt=Et,dn=ct=>{if(!(j||!I))if(!Z)Oe();else{const ft=ct.target;if(sc.has(ft))return;const en=setTimeout(()=>{sc.delete(ft),Oe()},Z);sc.set(ft,en)}},Nt=ct=>{if(j||!I||!Z)return;const ft=ct.target,en=sc.get(ft);en&&(clearTimeout(en),sc.delete(ft))},vt=ue?Ws(f,{})??yA:lp,Ct=ue?lp:Ws(d,{})??lp,an=[W,vt.className,Ct.className].filter(Boolean).join(" "),En=(F||vt.style||Ct.style)&&{...F,...vt.style,...Ct.style};return{...ie,...vt,...Ct,href:Re?.href,ref:u,onClick:ac([Y,je]),onFocus:ac([X,Et]),onMouseEnter:ac([pe,dn]),onMouseLeave:ac([ve,Nt]),onTouchStart:ac([Se,xt]),disabled:!!j,target:k,...En&&{style:En},...an&&{className:an},...j&&gA,...ue&&vA,...i&&bA}}const lp={},yA={className:"active"},gA={role:"link","aria-disabled":!0},vA={"data-status":"active","aria-current":"page"},bA={"data-transitioning":"transitioning"},sc=new WeakMap,xA={rootMargin:"100px"},ac=t=>e=>{for(const n of t)if(n){if(e.defaultPrevented)return;n(e)}},uS=T.forwardRef((t,e)=>{const{_asChild:n,...i}=t,{type:a,ref:c,...u}=mA(i,e),f=typeof i.children=="function"?i.children({isActive:u["data-status"]==="active"}):i.children;return n===void 0&&delete u.disabled,T.createElement(n||"a",{...u,ref:c},f)});function SA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}class _A extends oS{constructor(e){super(e),this.useMatch=n=>ui({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>ui({...n,from:this.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>Qm({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>Xm({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>Km({...n,from:this.id}),this.useLoaderData=n=>Gm({...n,from:this.id}),this.useNavigate=()=>zc({from:this.fullPath}),this.Link=Ne.forwardRef((n,i)=>S.jsx(uS,{ref:i,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function vf(t){return new _A(t)}class wA extends W2{constructor(e){super(e),this.useMatch=n=>ui({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>ui({...n,from:this.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>Qm({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>Xm({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>Km({...n,from:this.id}),this.useLoaderData=n=>Gm({...n,from:this.id}),this.useNavigate=()=>zc({from:this.fullPath}),this.Link=Ne.forwardRef((n,i)=>S.jsx(uS,{ref:i,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function EA(t){return new wA(t)}function Wb(t){return typeof t=="object"?new ex(t,{silent:!0}).createRoute(t):new ex(t,{silent:!0}).createRoute}class ex{constructor(e,n){this.path=e,this.createRoute=i=>{this.silent;const a=vf(i);return a.isRoot=!1,a},this.silent=n?.silent}}class tx{constructor(e){this.useMatch=n=>ui({select:n?.select,from:this.options.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>ui({from:this.options.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>Qm({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useParams=n=>Xm({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>Km({...n,from:this.options.id}),this.useLoaderData=n=>Gm({...n,from:this.options.id}),this.useNavigate=()=>{const n=wr();return zc({from:n.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function nx(t){return typeof t=="object"?new tx(t):e=>new tx({id:t,...e})}function CA(){const t=wr(),e=T.useRef({router:t,mounted:!1}),[n,i]=T.useState(!1),{hasPendingMatches:a,isLoading:c}=lr({select:g=>({isLoading:g.isLoading,hasPendingMatches:g.matches.some(b=>b.status==="pending")}),structuralSharing:!0}),u=cp(c),f=c||n||a,d=cp(f),h=c||a,m=cp(h);return t.startTransition=g=>{i(!0),T.startTransition(()=>{g(),i(!1)})},T.useEffect(()=>{const g=t.history.subscribe(t.load),b=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return _s(t.latestLocation.href)!==_s(b.href)&&t.commitLocation({...b,replace:!0}),()=>{g()}},[t,t.history]),su(()=>{if(typeof window<"u"&&t.ssr||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(b){console.error(b)}})()},[t]),su(()=>{u&&!c&&t.emit({type:"onLoad",...ta(t.state)})},[u,t,c]),su(()=>{m&&!h&&t.emit({type:"onBeforeRouteMount",...ta(t.state)})},[h,m,t]),su(()=>{d&&!f&&(t.emit({type:"onResolved",...ta(t.state)}),t.__store.setState(g=>({...g,status:"idle",resolvedLocation:g.location})),P2(t))},[f,d,t]),null}function TA(t){const e=lr({select:n=>`not-found-${n.location.pathname}-${n.status}`});return S.jsx(Fm,{getResetKey:()=>e,onCatch:(n,i)=>{if(Fr(n))t.onCatch?.(n,i);else throw n},errorComponent:({error:n})=>{if(Fr(n))return t.fallback?.(n);throw n},children:t.children})}function RA(){return S.jsx("p",{children:"Not Found"})}function qa(t){return S.jsx(S.Fragment,{children:t.children})}function fS(t,e,n){return e.options.notFoundComponent?S.jsx(e.options.notFoundComponent,{data:n}):t.options.defaultNotFoundComponent?S.jsx(t.options.defaultNotFoundComponent,{data:n}):S.jsx(RA,{})}function AA({children:t}){const e=wr();return e.isServer?S.jsx("script",{nonce:e.options.ssr?.nonce,className:"$tsr",dangerouslySetInnerHTML:{__html:[t].filter(Boolean).join(`
`)+";$_TSR.c()"}}):null}function OA(){const t=wr();if(!t.isScrollRestoring||!t.isServer||typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation}))return null;const n=(t.options.getScrollRestorationKey||Kp)(t.latestLocation),i=n!==Kp(t.latestLocation)?n:void 0,a={storageKey:Vu,shouldScrollRestoration:!0};return i&&(a.key=i),S.jsx(AA,{children:`(${Z1.toString()})(${JSON.stringify(a)})`})}const dS=T.memo(function({matchId:e}){const n=wr(),i=lr({select:D=>{const N=D.matches.find(k=>k.id===e);return Hi(N),{routeId:N.routeId,ssr:N.ssr,_displayPending:N._displayPending}},structuralSharing:!0}),a=n.routesById[i.routeId],c=a.options.pendingComponent??n.options.defaultPendingComponent,u=c?S.jsx(c,{}):null,f=a.options.errorComponent??n.options.defaultErrorComponent,d=a.options.onCatch??n.options.defaultOnCatch,h=a.isRoot?a.options.notFoundComponent??n.options.notFoundRoute?.options.component:a.options.notFoundComponent,m=i.ssr===!1||i.ssr==="data-only",g=(!a.isRoot||a.options.wrapInSuspense||m)&&(a.options.wrapInSuspense??c??(a.options.errorComponent?.preload||m))?T.Suspense:qa,b=f?Fm:qa,x=h?TA:qa,E=lr({select:D=>D.loadedAt}),C=lr({select:D=>{const N=D.matches.findIndex(k=>k.id===e);return D.matches[N-1]?.routeId}}),M=a.isRoot?a.options.shellComponent??qa:qa;return S.jsxs(M,{children:[S.jsx(gf.Provider,{value:e,children:S.jsx(g,{fallback:u,children:S.jsx(b,{getResetKey:()=>E,errorComponent:f||yf,onCatch:(D,N)=>{if(Fr(D))throw D;d?.(D,N)},children:S.jsx(x,{fallback:D=>{if(!h||D.routeId&&D.routeId!==i.routeId||!D.routeId&&!a.isRoot)throw D;return T.createElement(h,D)},children:m||i._displayPending?S.jsx(nA,{fallback:u,children:S.jsx(rx,{matchId:e})}):S.jsx(rx,{matchId:e})})})})}),C===cr&&n.options.scrollRestoration?S.jsxs(S.Fragment,{children:[S.jsx(MA,{}),S.jsx(OA,{})]}):null]})});function MA(){const t=wr(),e=T.useRef(void 0);return S.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(e.current===void 0||e.current.href!==t.latestLocation.href)&&(t.emit({type:"onRendered",...ta(t.state)}),e.current=t.latestLocation)}},t.latestLocation.state.__TSR_key)}const rx=T.memo(function({matchId:e}){const n=wr(),{match:i,key:a,routeId:c}=lr({select:d=>{const h=d.matches.find(E=>E.id===e),m=h.routeId,b=(n.routesById[m].options.remountDeps??n.options.defaultRemountDeps)?.({routeId:m,loaderDeps:h.loaderDeps,params:h._strictParams,search:h._strictSearch});return{key:b?JSON.stringify(b):void 0,routeId:m,match:{id:h.id,status:h.status,error:h.error,_forcePending:h._forcePending,_displayPending:h._displayPending}}},structuralSharing:!0}),u=n.routesById[c],f=T.useMemo(()=>{const d=u.options.component??n.options.defaultComponent;return d?S.jsx(d,{},a):S.jsx(hS,{})},[a,u.options.component,n.options.defaultComponent]);if(i._displayPending)throw n.getMatch(i.id)?._nonReactive.displayPendingPromise;if(i._forcePending)throw n.getMatch(i.id)?._nonReactive.minPendingPromise;if(i.status==="pending"){const d=u.options.pendingMinMs??n.options.defaultPendingMinMs;if(d){const h=n.getMatch(i.id);if(h&&!h._nonReactive.minPendingPromise&&!n.isServer){const m=Ja();h._nonReactive.minPendingPromise=m,setTimeout(()=>{m.resolve(),h._nonReactive.minPendingPromise=void 0},d)}}throw n.getMatch(i.id)?._nonReactive.loadPromise}if(i.status==="notFound")return Hi(Fr(i.error)),fS(n,u,i.error);if(i.status==="redirected")throw Hi(ii(i.error)),n.getMatch(i.id)?._nonReactive.loadPromise;if(i.status==="error"){if(n.isServer){const d=(u.options.errorComponent??n.options.defaultErrorComponent)||yf;return S.jsx(d,{error:i.error,reset:void 0,info:{componentStack:""}})}throw i.error}return f}),hS=T.memo(function(){const e=wr(),n=T.useContext(gf),i=lr({select:h=>h.matches.find(m=>m.id===n)?.routeId}),a=e.routesById[i],c=lr({select:h=>{const g=h.matches.find(b=>b.id===n);return Hi(g),g.globalNotFound}}),u=lr({select:h=>{const m=h.matches,g=m.findIndex(b=>b.id===n);return m[g+1]?.id}}),f=e.options.defaultPendingComponent?S.jsx(e.options.defaultPendingComponent,{}):null;if(c)return fS(e,a,void 0);if(!u)return null;const d=S.jsx(dS,{matchId:u});return n===cr?S.jsx(T.Suspense,{fallback:f,children:d}):d});function PA(){const t=wr(),n=t.routesById[cr].options.pendingComponent??t.options.defaultPendingComponent,i=n?S.jsx(n,{}):null,a=t.isServer||typeof document<"u"&&t.ssr?qa:T.Suspense,c=S.jsxs(a,{fallback:i,children:[!t.isServer&&S.jsx(CA,{}),S.jsx(NA,{})]});return t.options.InnerWrap?S.jsx(t.options.InnerWrap,{children:c}):c}function NA(){const t=wr(),e=lr({select:a=>a.matches[0]?.id}),n=lr({select:a=>a.loadedAt}),i=e?S.jsx(dS,{matchId:e}):null;return S.jsx(gf.Provider,{value:e,children:t.options.disableGlobalCatchBoundary?i:S.jsx(Fm,{getResetKey:()=>n,errorComponent:yf,onCatch:a=>{a.message||a.toString()},children:i})})}const DA=t=>new kA(t);class kA extends G2{constructor(e){super(e)}}typeof globalThis<"u"?(globalThis.createFileRoute=Wb,globalThis.createLazyFileRoute=nx):typeof window<"u"&&(window.createFileRoute=Wb,window.createLazyFileRoute=nx);function jA({router:t,children:e,...n}){Object.keys(n).length>0&&t.update({...t.options,...n,context:{...t.options.context,...n.context}});const i=lS(),a=S.jsx(i.Provider,{value:t,children:e});return t.options.Wrap?S.jsx(t.options.Wrap,{children:a}):a}function LA({router:t,...e}){return S.jsx(jA,{router:t,...e,children:S.jsx(PA,{})})}var bf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},UA={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},zA=class{#e=UA;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},Qp=new zA;function IA(t){setTimeout(t,0)}var xf=typeof window>"u"||"Deno"in globalThis;function Vr(){}function BA(t,e){return typeof t=="function"?t(e):t}function HA(t){return typeof t=="number"&&t>=0&&t!==1/0}function $A(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Zp(t,e){return typeof t=="function"?t(e):t}function VA(t,e){return typeof t=="function"?t(e):t}function ix(t,e){const{type:n="all",exact:i,fetchStatus:a,predicate:c,queryKey:u,stale:f}=t;if(u){if(i){if(e.queryHash!==Zm(u,e.options))return!1}else if(!Tc(e.queryKey,u))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||a&&a!==e.state.fetchStatus||c&&!c(e))}function sx(t,e){const{exact:n,status:i,predicate:a,mutationKey:c}=t;if(c){if(!e.options.mutationKey)return!1;if(n){if(Cc(e.options.mutationKey)!==Cc(c))return!1}else if(!Tc(e.options.mutationKey,c))return!1}return!(i&&e.state.status!==i||a&&!a(e))}function Zm(t,e){return(e?.queryKeyHashFn||Cc)(t)}function Cc(t){return JSON.stringify(t,(e,n)=>Jp(n)?Object.keys(n).sort().reduce((i,a)=>(i[a]=n[a],i),{}):n)}function Tc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Tc(t[n],e[n])):!1}var qA=Object.prototype.hasOwnProperty;function pS(t,e){if(t===e)return t;const n=ax(t)&&ax(e);if(!n&&!(Jp(t)&&Jp(e)))return e;const a=(n?t:Object.keys(t)).length,c=n?e:Object.keys(e),u=c.length,f=n?new Array(u):{};let d=0;for(let h=0;h<u;h++){const m=n?h:c[h],g=t[m],b=e[m];if(g===b){f[m]=g,(n?h<a:qA.call(t,m))&&d++;continue}if(g===null||b===null||typeof g!="object"||typeof b!="object"){f[m]=b;continue}const x=pS(g,b);f[m]=x,x===g&&d++}return a===u&&d===a?t:f}function ax(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Jp(t){if(!ox(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!ox(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ox(t){return Object.prototype.toString.call(t)==="[object Object]"}function YA(t){return new Promise(e=>{Qp.setTimeout(e,t)})}function FA(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?pS(t,e):e}function GA(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function KA(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var Jm=Symbol();function mS(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Jm?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var XA=class extends bf{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!xf&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},yS=new XA;function QA(){let t,e;const n=new Promise((a,c)=>{t=a,e=c});n.status="pending",n.catch(()=>{});function i(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{i({status:"fulfilled",value:a}),t(a)},n.reject=a=>{i({status:"rejected",reason:a}),e(a)},n}var ZA=IA;function JA(){let t=[],e=0,n=f=>{f()},i=f=>{f()},a=ZA;const c=f=>{e?t.push(f):a(()=>{n(f)})},u=()=>{const f=t;t=[],f.length&&a(()=>{i(()=>{f.forEach(d=>{n(d)})})})};return{batch:f=>{let d;e++;try{d=f()}finally{e--,e||u()}return d},batchCalls:f=>(...d)=>{c(()=>{f(...d)})},schedule:c,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{i=f},setScheduler:f=>{a=f}}}var Jn=JA(),WA=class extends bf{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!xf&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Fu=new WA;function e6(t){return Math.min(1e3*2**t,3e4)}function gS(t){return(t??"online")==="online"?Fu.isOnline():!0}var Wp=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function vS(t){let e=!1,n=0,i;const a=QA(),c=()=>a.status!=="pending",u=C=>{if(!c()){const M=new Wp(C);b(M),t.onCancel?.(M)}},f=()=>{e=!0},d=()=>{e=!1},h=()=>yS.isFocused()&&(t.networkMode==="always"||Fu.isOnline())&&t.canRun(),m=()=>gS(t.networkMode)&&t.canRun(),g=C=>{c()||(i?.(),a.resolve(C))},b=C=>{c()||(i?.(),a.reject(C))},x=()=>new Promise(C=>{i=M=>{(c()||h())&&C(M)},t.onPause?.()}).then(()=>{i=void 0,c()||t.onContinue?.()}),E=()=>{if(c())return;let C;const M=n===0?t.initialPromise:void 0;try{C=M??t.fn()}catch(D){C=Promise.reject(D)}Promise.resolve(C).then(g).catch(D=>{if(c())return;const N=t.retry??(xf?0:3),k=t.retryDelay??e6,j=typeof k=="function"?k(n,D):k,F=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,D);if(e||!F){b(D);return}n++,t.onFail?.(n,D),YA(j).then(()=>h()?void 0:x()).then(()=>{e?b(D):E()})})};return{promise:a,status:()=>a.status,cancel:u,continue:()=>(i?.(),a),cancelRetry:f,continueRetry:d,canStart:m,start:()=>(m()?E():x().then(E),a)}}var bS=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),HA(this.gcTime)&&(this.#e=Qp.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(xf?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Qp.clearTimeout(this.#e),this.#e=void 0)}},t6=class extends bS{#e;#t;#n;#i;#r;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#n=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=cx(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=cx(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=FA(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(Vr).catch(Vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>VA(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Jm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Zp(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!$A(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(d=>d.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},a=()=>{const f=mS(this.options,e),h=(()=>{const m={client:this.#i,queryKey:this.queryKey,meta:this.meta};return i(m),m})();return this.#o=!1,this.options.persister?this.options.persister(f,h,this):f(h)},u=(()=>{const f={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:a};return i(f),f})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#s({type:"fetch",meta:u.fetchOptions?.meta}),this.#r=vS({initialPromise:e?.initialPromise,fn:u.fetchFn,onCancel:f=>{f instanceof Wp&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(f,d)=>{this.#s({type:"failed",failureCount:f,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const f=await this.#r.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof Wp){if(f.silent)return this.#r.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#s({type:"error",error:f}),this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...n6(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?i:void 0,i;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Jn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function n6(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function cx(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function lx(t){return{onFetch:(e,n)=>{const i=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,c=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let f={pages:[],pageParams:[]},d=0;const h=async()=>{let m=!1;const g=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},b=mS(e.options,e.fetchOptions),x=async(E,C,M)=>{if(m)return Promise.reject();if(C==null&&E.pages.length)return Promise.resolve(E);const N=(()=>{const W={client:e.client,queryKey:e.queryKey,pageParam:C,direction:M?"backward":"forward",meta:e.options.meta};return g(W),W})(),k=await b(N),{maxPages:j}=e.options,F=M?KA:GA;return{pages:F(E.pages,k,j),pageParams:F(E.pageParams,C,j)}};if(a&&c.length){const E=a==="backward",C=E?r6:ux,M={pages:c,pageParams:u},D=C(i,M);f=await x(M,D,E)}else{const E=t??c.length;do{const C=d===0?u[0]??i.initialPageParam:ux(i,f);if(d>0&&C==null)break;f=await x(f,C),d++}while(d<E)}return f};e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=h}}}function ux(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function r6(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var i6=class extends bS{#e;#t;#n;#i;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||s6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=vS({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(c,u)=>{this.#r({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",a=!this.#i.canStart();try{if(i)e();else{this.#r({type:"pending",variables:t,isPaused:a}),await this.#n.config.onMutate?.(t,this,n);const u=await this.options.onMutate?.(t,n);u!==this.state.context&&this.#r({type:"pending",context:u,variables:t,isPaused:a})}const c=await this.#i.start();return await this.#n.config.onSuccess?.(c,t,this.state.context,this,n),await this.options.onSuccess?.(c,t,this.state.context,n),await this.#n.config.onSettled?.(c,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(c,null,t,this.state.context,n),this.#r({type:"success",data:c}),c}catch(c){try{throw await this.#n.config.onError?.(c,t,this.state.context,this,n),await this.options.onError?.(c,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,c,t,this.state.context,n),c}finally{this.#r({type:"error",error:c})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Jn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function s6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var a6=class extends bf{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const i=new i6({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(i),i}add(t){this.#e.add(t);const e=au(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=au(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=au(t);if(typeof e=="string"){const i=this.#t.get(e)?.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){const e=au(t);return typeof e=="string"?this.#t.get(e)?.find(i=>i!==t&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Jn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>sx(e,n))}findAll(t={}){return this.getAll().filter(e=>sx(t,e))}notify(t){Jn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Jn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Vr))))}};function au(t){return t.options.scope?.id}var o6=class extends bf{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const i=e.queryKey,a=e.queryHash??Zm(i,e);let c=this.get(a);return c||(c=new t6({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(c)),c}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Jn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>ix(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>ix(t,n)):e}notify(t){Jn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Jn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Jn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},c6=class{#e;#t;#n;#i;#r;#a;#o;#s;constructor(t={}){this.#e=t.queryCache||new o6,this.#t=t.mutationCache||new a6,this.#n=t.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=yS.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Fu.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Zp(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),c=this.#e.get(i.queryHash)?.state.data,u=BA(e,c);if(u!==void 0)return this.#e.build(this,i).setData(u,{...n,manual:!0})}setQueriesData(t,e,n){return Jn.batch(()=>this.#e.findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Jn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Jn.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=Jn.batch(()=>this.#e.findAll(t).map(a=>a.cancel(n)));return Promise.all(i).then(Vr).catch(Vr)}invalidateQueries(t,e={}){return Jn.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=Jn.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let c=a.fetch(void 0,n);return n.throwOnError||(c=c.catch(Vr)),a.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(i).then(Vr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Zp(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Vr).catch(Vr)}fetchInfiniteQuery(t){return t.behavior=lx(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Vr).catch(Vr)}ensureInfiniteQueryData(t){return t.behavior=lx(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Fu.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#i.set(Cc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(i=>{Tc(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Cc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(i=>{Tc(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Zm(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Jm&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},l6=T.createContext(void 0),u6=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),S.jsx(l6.Provider,{value:t,children:e}));async function f6(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const d6=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return await f6(n),await n.json()},h6=new c6({defaultOptions:{queries:{queryFn:d6({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),p6=1,m6=1e6;let up=0;function y6(){return up=(up+1)%Number.MAX_SAFE_INTEGER,up.toString()}const fp=new Map,fx=t=>{if(fp.has(t))return;const e=setTimeout(()=>{fp.delete(t),_c({type:"REMOVE_TOAST",toastId:t})},m6);fp.set(t,e)},g6=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,p6)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?fx(n):t.toasts.forEach(i=>{fx(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===n||n===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Eu=[];let Cu={toasts:[]};function _c(t){Cu=g6(Cu,t),Eu.forEach(e=>{e(Cu)})}function v6({...t}){const e=y6(),n=a=>_c({type:"UPDATE_TOAST",toast:{...a,id:e}}),i=()=>_c({type:"DISMISS_TOAST",toastId:e});return _c({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:a=>{a||i()}}}),{id:e,dismiss:i,update:n}}function xS(){const[t,e]=T.useState(Cu);return T.useEffect(()=>(Eu.push(e),()=>{const n=Eu.indexOf(e);n>-1&&Eu.splice(n,1)}),[t]),{...t,toast:v6,dismiss:n=>_c({type:"DISMISS_TOAST",toastId:n})}}function Ut(t,e,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t?.(a),n===!1||!a.defaultPrevented)return e?.(a)}}function dx(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function SS(...t){return e=>{let n=!1;const i=t.map(a=>{const c=dx(a,e);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let a=0;a<i.length;a++){const c=i[a];typeof c=="function"?c():dx(t[a],null)}}}}function on(...t){return T.useCallback(SS(...t),t)}function Rs(t,e=[]){let n=[];function i(c,u){const f=T.createContext(u),d=n.length;n=[...n,u];const h=g=>{const{scope:b,children:x,...E}=g,C=b?.[t]?.[d]||f,M=T.useMemo(()=>E,Object.values(E));return S.jsx(C.Provider,{value:M,children:x})};h.displayName=c+"Provider";function m(g,b){const x=b?.[t]?.[d]||f,E=T.useContext(x);if(E)return E;if(u!==void 0)return u;throw new Error(`\`${g}\` must be used within \`${c}\``)}return[h,m]}const a=()=>{const c=n.map(u=>T.createContext(u));return function(f){const d=f?.[t]||c;return T.useMemo(()=>({[`__scope${t}`]:{...f,[t]:d}}),[f,d])}};return a.scopeName=t,[i,b6(a,...e)]}function b6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const u=i.reduce((f,{useScope:d,scopeName:h})=>{const g=d(c)[`__scope${h}`];return{...f,...g}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function Gu(t){const e=S6(t),n=T.forwardRef((i,a)=>{const{children:c,...u}=i,f=T.Children.toArray(c),d=f.find(w6);if(d){const h=d.props.children,m=f.map(g=>g===d?T.Children.count(h)>1?T.Children.only(null):T.isValidElement(h)?h.props.children:null:g);return S.jsx(e,{...u,ref:a,children:T.isValidElement(h)?T.cloneElement(h,void 0,m):null})}return S.jsx(e,{...u,ref:a,children:c})});return n.displayName=`${t}.Slot`,n}var x6=Gu("Slot");function S6(t){const e=T.forwardRef((n,i)=>{const{children:a,...c}=n;if(T.isValidElement(a)){const u=C6(a),f=E6(c,a.props);return a.type!==T.Fragment&&(f.ref=i?SS(i,u):u),T.cloneElement(a,f)}return T.Children.count(a)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _S=Symbol("radix.slottable");function _6(t){const e=({children:n})=>S.jsx(S.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=_S,e}function w6(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_S}function E6(t,e){const n={...e};for(const i in e){const a=t[i],c=e[i];/^on[A-Z]/.test(i)?a&&c?n[i]=(...f)=>{const d=c(...f);return a(...f),d}:a&&(n[i]=a):i==="style"?n[i]={...a,...c}:i==="className"&&(n[i]=[a,c].filter(Boolean).join(" "))}return{...t,...n}}function C6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function wS(t){const e=t+"CollectionProvider",[n,i]=Rs(e),[a,c]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=C=>{const{scope:M,children:D}=C,N=Ne.useRef(null),k=Ne.useRef(new Map).current;return S.jsx(a,{scope:M,itemMap:k,collectionRef:N,children:D})};u.displayName=e;const f=t+"CollectionSlot",d=Gu(f),h=Ne.forwardRef((C,M)=>{const{scope:D,children:N}=C,k=c(f,D),j=on(M,k.collectionRef);return S.jsx(d,{ref:j,children:N})});h.displayName=f;const m=t+"CollectionItemSlot",g="data-radix-collection-item",b=Gu(m),x=Ne.forwardRef((C,M)=>{const{scope:D,children:N,...k}=C,j=Ne.useRef(null),F=on(M,j),W=c(m,D);return Ne.useEffect(()=>(W.itemMap.set(j,{ref:j,...k}),()=>void W.itemMap.delete(j))),S.jsx(b,{[g]:"",ref:F,children:N})});x.displayName=m;function E(C){const M=c(t+"CollectionConsumer",C);return Ne.useCallback(()=>{const N=M.collectionRef.current;if(!N)return[];const k=Array.from(N.querySelectorAll(`[${g}]`));return Array.from(M.itemMap.values()).sort((W,Y)=>k.indexOf(W.ref.current)-k.indexOf(Y.ref.current))},[M.collectionRef,M.itemMap])}return[{Provider:u,Slot:h,ItemSlot:x},E,i]}var T6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$t=T6.reduce((t,e)=>{const n=Gu(`Primitive.${e}`),i=T.forwardRef((a,c)=>{const{asChild:u,...f}=a,d=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(d,{...f,ref:c})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function ES(t,e){t&&Ic.flushSync(()=>t.dispatchEvent(e))}function Fn(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>e.current?.(...n),[])}function R6(t,e=globalThis?.document){const n=Fn(t);T.useEffect(()=>{const i=a=>{a.key==="Escape"&&n(a)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var A6="DismissableLayer",em="dismissableLayer.update",O6="dismissableLayer.pointerDownOutside",M6="dismissableLayer.focusOutside",hx,CS=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wm=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...d}=t,h=T.useContext(CS),[m,g]=T.useState(null),b=m?.ownerDocument??globalThis?.document,[,x]=T.useState({}),E=on(e,Y=>g(Y)),C=Array.from(h.layers),[M]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),D=C.indexOf(M),N=m?C.indexOf(m):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,j=N>=D,F=N6(Y=>{const X=Y.target,pe=[...h.branches].some(ve=>ve.contains(X));!j||pe||(a?.(Y),u?.(Y),Y.defaultPrevented||f?.())},b),W=D6(Y=>{const X=Y.target;[...h.branches].some(ve=>ve.contains(X))||(c?.(Y),u?.(Y),Y.defaultPrevented||f?.())},b);return R6(Y=>{N===h.layers.size-1&&(i?.(Y),!Y.defaultPrevented&&f&&(Y.preventDefault(),f()))},b),T.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(hx=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),px(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=hx)}},[m,b,n,h]),T.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),px())},[m,h]),T.useEffect(()=>{const Y=()=>x({});return document.addEventListener(em,Y),()=>document.removeEventListener(em,Y)},[]),S.jsx($t.div,{...d,ref:E,style:{pointerEvents:k?j?"auto":"none":void 0,...t.style},onFocusCapture:Ut(t.onFocusCapture,W.onFocusCapture),onBlurCapture:Ut(t.onBlurCapture,W.onBlurCapture),onPointerDownCapture:Ut(t.onPointerDownCapture,F.onPointerDownCapture)})});Wm.displayName=A6;var P6="DismissableLayerBranch",TS=T.forwardRef((t,e)=>{const n=T.useContext(CS),i=T.useRef(null),a=on(e,i);return T.useEffect(()=>{const c=i.current;if(c)return n.branches.add(c),()=>{n.branches.delete(c)}},[n.branches]),S.jsx($t.div,{...t,ref:a})});TS.displayName=P6;function N6(t,e=globalThis?.document){const n=Fn(t),i=T.useRef(!1),a=T.useRef(()=>{});return T.useEffect(()=>{const c=f=>{if(f.target&&!i.current){let d=function(){RS(O6,n,h,{discrete:!0})};const h={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=d,e.addEventListener("click",a.current,{once:!0})):d()}else e.removeEventListener("click",a.current);i.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",c),e.removeEventListener("click",a.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function D6(t,e=globalThis?.document){const n=Fn(t),i=T.useRef(!1);return T.useEffect(()=>{const a=c=>{c.target&&!i.current&&RS(M6,n,{originalEvent:c},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function px(){const t=new CustomEvent(em);document.dispatchEvent(t)}function RS(t,e,n,{discrete:i}){const a=n.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&a.addEventListener(t,e,{once:!0}),i?ES(a,c):a.dispatchEvent(c)}var k6=Wm,j6=TS,Lr=globalThis?.document?T.useLayoutEffect:()=>{},L6="Portal",AS=T.forwardRef((t,e)=>{const{container:n,...i}=t,[a,c]=T.useState(!1);Lr(()=>c(!0),[]);const u=n||a&&globalThis?.document?.body;return u?dA.createPortal(S.jsx($t.div,{...i,ref:e}),u):null});AS.displayName=L6;function U6(t,e){return T.useReducer((n,i)=>e[n][i]??n,t)}var oa=t=>{const{present:e,children:n}=t,i=z6(e),a=typeof n=="function"?n({present:i.isPresent}):T.Children.only(n),c=on(i.ref,I6(a));return typeof n=="function"||i.isPresent?T.cloneElement(a,{ref:c}):null};oa.displayName="Presence";function z6(t){const[e,n]=T.useState(),i=T.useRef(null),a=T.useRef(t),c=T.useRef("none"),u=t?"mounted":"unmounted",[f,d]=U6(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const h=ou(i.current);c.current=f==="mounted"?h:"none"},[f]),Lr(()=>{const h=i.current,m=a.current;if(m!==t){const b=c.current,x=ou(h);t?d("MOUNT"):x==="none"||h?.display==="none"?d("UNMOUNT"):d(m&&b!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,d]),Lr(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,g=x=>{const C=ou(i.current).includes(CSS.escape(x.animationName));if(x.target===e&&C&&(d("ANIMATION_END"),!a.current)){const M=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=M)})}},b=x=>{x.target===e&&(c.current=ou(i.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:T.useCallback(h=>{i.current=h?getComputedStyle(h):null,n(h)},[])}}function ou(t){return t?.animationName||"none"}function I6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var B6=eA[" useInsertionEffect ".trim().toString()]||Lr;function OS({prop:t,defaultProp:e,onChange:n=()=>{},caller:i}){const[a,c,u]=H6({defaultProp:e,onChange:n}),f=t!==void 0,d=f?t:a;{const m=T.useRef(t!==void 0);T.useEffect(()=>{const g=m.current;g!==f&&console.warn(`${i} is changing from ${g?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=f},[f,i])}const h=T.useCallback(m=>{if(f){const g=$6(m)?m(t):m;g!==t&&u.current?.(g)}else c(m)},[f,t,c,u]);return[d,h]}function H6({defaultProp:t,onChange:e}){const[n,i]=T.useState(t),a=T.useRef(n),c=T.useRef(e);return B6(()=>{c.current=e},[e]),T.useEffect(()=>{a.current!==n&&(c.current?.(n),a.current=n)},[n,a]),[n,i,c]}function $6(t){return typeof t=="function"}var V6=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),q6="VisuallyHidden",Sf=T.forwardRef((t,e)=>S.jsx($t.span,{...t,ref:e,style:{...V6,...t.style}}));Sf.displayName=q6;var Y6=Sf,ey="ToastProvider",[ty,F6,G6]=wS("Toast"),[MS]=Rs("Toast",[G6]),[K6,_f]=MS(ey),PS=t=>{const{__scopeToast:e,label:n="Notification",duration:i=5e3,swipeDirection:a="right",swipeThreshold:c=50,children:u}=t,[f,d]=T.useState(null),[h,m]=T.useState(0),g=T.useRef(!1),b=T.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ey}\`. Expected non-empty \`string\`.`),S.jsx(ty.Provider,{scope:e,children:S.jsx(K6,{scope:e,label:n,duration:i,swipeDirection:a,swipeThreshold:c,toastCount:h,viewport:f,onViewportChange:d,onToastAdd:T.useCallback(()=>m(x=>x+1),[]),onToastRemove:T.useCallback(()=>m(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:b,children:u})})};PS.displayName=ey;var NS="ToastViewport",X6=["F8"],tm="toast.viewportPause",nm="toast.viewportResume",DS=T.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:i=X6,label:a="Notifications ({hotkey})",...c}=t,u=_f(NS,n),f=F6(n),d=T.useRef(null),h=T.useRef(null),m=T.useRef(null),g=T.useRef(null),b=on(e,g,u.onViewportChange),x=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=u.toastCount>0;T.useEffect(()=>{const M=D=>{i.length!==0&&i.every(k=>D[k]||D.code===k)&&g.current?.focus()};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[i]),T.useEffect(()=>{const M=d.current,D=g.current;if(E&&M&&D){const N=()=>{if(!u.isClosePausedRef.current){const W=new CustomEvent(tm);D.dispatchEvent(W),u.isClosePausedRef.current=!0}},k=()=>{if(u.isClosePausedRef.current){const W=new CustomEvent(nm);D.dispatchEvent(W),u.isClosePausedRef.current=!1}},j=W=>{!M.contains(W.relatedTarget)&&k()},F=()=>{M.contains(document.activeElement)||k()};return M.addEventListener("focusin",N),M.addEventListener("focusout",j),M.addEventListener("pointermove",N),M.addEventListener("pointerleave",F),window.addEventListener("blur",N),window.addEventListener("focus",k),()=>{M.removeEventListener("focusin",N),M.removeEventListener("focusout",j),M.removeEventListener("pointermove",N),M.removeEventListener("pointerleave",F),window.removeEventListener("blur",N),window.removeEventListener("focus",k)}}},[E,u.isClosePausedRef]);const C=T.useCallback(({tabbingDirection:M})=>{const N=f().map(k=>{const j=k.ref.current,F=[j,...cO(j)];return M==="forwards"?F:F.reverse()});return(M==="forwards"?N.reverse():N).flat()},[f]);return T.useEffect(()=>{const M=g.current;if(M){const D=N=>{const k=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!k){const F=document.activeElement,W=N.shiftKey;if(N.target===M&&W){h.current?.focus();return}const pe=C({tabbingDirection:W?"backwards":"forwards"}),ve=pe.findIndex(Se=>Se===F);dp(pe.slice(ve+1))?N.preventDefault():W?h.current?.focus():m.current?.focus()}};return M.addEventListener("keydown",D),()=>M.removeEventListener("keydown",D)}},[f,C]),S.jsxs(j6,{ref:d,role:"region","aria-label":a.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&S.jsx(rm,{ref:h,onFocusFromOutsideViewport:()=>{const M=C({tabbingDirection:"forwards"});dp(M)}}),S.jsx(ty.Slot,{scope:n,children:S.jsx($t.ol,{tabIndex:-1,...c,ref:b})}),E&&S.jsx(rm,{ref:m,onFocusFromOutsideViewport:()=>{const M=C({tabbingDirection:"backwards"});dp(M)}})]})});DS.displayName=NS;var kS="ToastFocusProxy",rm=T.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:i,...a}=t,c=_f(kS,n);return S.jsx(Sf,{tabIndex:0,...a,ref:e,style:{position:"fixed"},onFocus:u=>{const f=u.relatedTarget;!c.viewport?.contains(f)&&i()}})});rm.displayName=kS;var Bc="Toast",Q6="toast.swipeStart",Z6="toast.swipeMove",J6="toast.swipeCancel",W6="toast.swipeEnd",jS=T.forwardRef((t,e)=>{const{forceMount:n,open:i,defaultOpen:a,onOpenChange:c,...u}=t,[f,d]=OS({prop:i,defaultProp:a??!0,onChange:c,caller:Bc});return S.jsx(oa,{present:n||f,children:S.jsx(nO,{open:f,...u,ref:e,onClose:()=>d(!1),onPause:Fn(t.onPause),onResume:Fn(t.onResume),onSwipeStart:Ut(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ut(t.onSwipeMove,h=>{const{x:m,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:Ut(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ut(t.onSwipeEnd,h=>{const{x:m,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),d(!1)})})})});jS.displayName=Bc;var[eO,tO]=MS(Bc,{onClose(){}}),nO=T.forwardRef((t,e)=>{const{__scopeToast:n,type:i="foreground",duration:a,open:c,onClose:u,onEscapeKeyDown:f,onPause:d,onResume:h,onSwipeStart:m,onSwipeMove:g,onSwipeCancel:b,onSwipeEnd:x,...E}=t,C=_f(Bc,n),[M,D]=T.useState(null),N=on(e,_e=>D(_e)),k=T.useRef(null),j=T.useRef(null),F=a||C.duration,W=T.useRef(0),Y=T.useRef(F),X=T.useRef(0),{onToastAdd:pe,onToastRemove:ve}=C,Se=Fn(()=>{M?.contains(document.activeElement)&&C.viewport?.focus(),u()}),we=T.useCallback(_e=>{!_e||_e===1/0||(window.clearTimeout(X.current),W.current=new Date().getTime(),X.current=window.setTimeout(Se,_e))},[Se]);T.useEffect(()=>{const _e=C.viewport;if(_e){const Ue=()=>{we(Y.current),h?.()},H=()=>{const se=new Date().getTime()-W.current;Y.current=Y.current-se,window.clearTimeout(X.current),d?.()};return _e.addEventListener(tm,H),_e.addEventListener(nm,Ue),()=>{_e.removeEventListener(tm,H),_e.removeEventListener(nm,Ue)}}},[C.viewport,F,d,h,we]),T.useEffect(()=>{c&&!C.isClosePausedRef.current&&we(F)},[c,F,C.isClosePausedRef,we]),T.useEffect(()=>(pe(),()=>ve()),[pe,ve]);const Ke=T.useMemo(()=>M?$S(M):null,[M]);return C.viewport?S.jsxs(S.Fragment,{children:[Ke&&S.jsx(rO,{__scopeToast:n,role:"status","aria-live":i==="foreground"?"assertive":"polite",children:Ke}),S.jsx(eO,{scope:n,onClose:Se,children:Ic.createPortal(S.jsx(ty.ItemSlot,{scope:n,children:S.jsx(k6,{asChild:!0,onEscapeKeyDown:Ut(f,()=>{C.isFocusedToastEscapeKeyDownRef.current||Se(),C.isFocusedToastEscapeKeyDownRef.current=!1}),children:S.jsx($t.li,{tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":C.swipeDirection,...E,ref:N,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ut(t.onKeyDown,_e=>{_e.key==="Escape"&&(f?.(_e.nativeEvent),_e.nativeEvent.defaultPrevented||(C.isFocusedToastEscapeKeyDownRef.current=!0,Se()))}),onPointerDown:Ut(t.onPointerDown,_e=>{_e.button===0&&(k.current={x:_e.clientX,y:_e.clientY})}),onPointerMove:Ut(t.onPointerMove,_e=>{if(!k.current)return;const Ue=_e.clientX-k.current.x,H=_e.clientY-k.current.y,se=!!j.current,G=["left","right"].includes(C.swipeDirection),De=["left","up"].includes(C.swipeDirection)?Math.min:Math.max,Xe=G?De(0,Ue):0,z=G?0:De(0,H),ie=_e.pointerType==="touch"?10:2,de={x:Xe,y:z},ge={originalEvent:_e,delta:de};se?(j.current=de,cu(Z6,g,ge,{discrete:!1})):mx(de,C.swipeDirection,ie)?(j.current=de,cu(Q6,m,ge,{discrete:!1}),_e.target.setPointerCapture(_e.pointerId)):(Math.abs(Ue)>ie||Math.abs(H)>ie)&&(k.current=null)}),onPointerUp:Ut(t.onPointerUp,_e=>{const Ue=j.current,H=_e.target;if(H.hasPointerCapture(_e.pointerId)&&H.releasePointerCapture(_e.pointerId),j.current=null,k.current=null,Ue){const se=_e.currentTarget,G={originalEvent:_e,delta:Ue};mx(Ue,C.swipeDirection,C.swipeThreshold)?cu(W6,x,G,{discrete:!0}):cu(J6,b,G,{discrete:!0}),se.addEventListener("click",De=>De.preventDefault(),{once:!0})}})})})}),C.viewport)})]}):null}),rO=t=>{const{__scopeToast:e,children:n,...i}=t,a=_f(Bc,e),[c,u]=T.useState(!1),[f,d]=T.useState(!1);return aO(()=>u(!0)),T.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),f?null:S.jsx(AS,{asChild:!0,children:S.jsx(Sf,{...i,children:c&&S.jsxs(S.Fragment,{children:[a.label," ",n]})})})},iO="ToastTitle",LS=T.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t;return S.jsx($t.div,{...i,ref:e})});LS.displayName=iO;var sO="ToastDescription",US=T.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t;return S.jsx($t.div,{...i,ref:e})});US.displayName=sO;var zS="ToastAction",IS=T.forwardRef((t,e)=>{const{altText:n,...i}=t;return n.trim()?S.jsx(HS,{altText:n,asChild:!0,children:S.jsx(ny,{...i,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${zS}\`. Expected non-empty \`string\`.`),null)});IS.displayName=zS;var BS="ToastClose",ny=T.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t,a=tO(BS,n);return S.jsx(HS,{asChild:!0,children:S.jsx($t.button,{type:"button",...i,ref:e,onClick:Ut(t.onClick,a.onClose)})})});ny.displayName=BS;var HS=T.forwardRef((t,e)=>{const{__scopeToast:n,altText:i,...a}=t;return S.jsx($t.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...a,ref:e})});function $S(t){const e=[];return Array.from(t.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&e.push(i.textContent),oO(i)){const a=i.ariaHidden||i.hidden||i.style.display==="none",c=i.dataset.radixToastAnnounceExclude==="";if(!a)if(c){const u=i.dataset.radixToastAnnounceAlt;u&&e.push(u)}else e.push(...$S(i))}}),e}function cu(t,e,n,{discrete:i}){const a=n.originalEvent.currentTarget,c=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&a.addEventListener(t,e,{once:!0}),i?ES(a,c):a.dispatchEvent(c)}var mx=(t,e,n=0)=>{const i=Math.abs(t.x),a=Math.abs(t.y),c=i>a;return e==="left"||e==="right"?c&&i>n:!c&&a>n};function aO(t=()=>{}){const e=Fn(t);Lr(()=>{let n=0,i=0;return n=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(i)}},[e])}function oO(t){return t.nodeType===t.ELEMENT_NODE}function cO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const a=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||a?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function dp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var lO=PS,VS=DS,qS=jS,YS=LS,FS=US,GS=IS,KS=ny;function XS(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=XS(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function QS(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=XS(t))&&(i&&(i+=" "),i+=e);return i}const yx=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,gx=QS,wf=(t,e)=>n=>{var i;if(e?.variants==null)return gx(t,n?.class,n?.className);const{variants:a,defaultVariants:c}=e,u=Object.keys(a).map(h=>{const m=n?.[h],g=c?.[h];if(m===null)return null;const b=yx(m)||yx(g);return a[h][b]}),f=n&&Object.entries(n).reduce((h,m)=>{let[g,b]=m;return b===void 0||(h[g]=b),h},{}),d=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((h,m)=>{let{class:g,className:b,...x}=m;return Object.entries(x).every(E=>{let[C,M]=E;return Array.isArray(M)?M.includes({...c,...f}[C]):{...c,...f}[C]===M})?[...h,g,b]:h},[]);return gx(t,u,d,n?.class,n?.className)};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),vx=t=>{const e=fO(t);return e.charAt(0).toUpperCase()+e.slice(1)},ZS=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),dO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:c,iconNode:u,...f},d)=>T.createElement("svg",{ref:d,...hO,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:ZS("lucide",a),...!c&&!dO(f)&&{"aria-hidden":"true"},...f},[...u.map(([h,m])=>T.createElement(h,m)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=(t,e)=>{const n=T.forwardRef(({className:i,...a},c)=>T.createElement(pO,{ref:c,iconNode:e,className:ZS(`lucide-${uO(vx(t))}`,`lucide-${t}`,i),...a}));return n.displayName=vx(t),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],yO=Hn("check",mO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vO=Hn("circle-alert",gO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],xO=Hn("circle-check-big",bO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_O=Hn("circle",SO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],JS=Hn("clock",wO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],CO=Hn("copy",EO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],RO=Hn("crown",TO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],OO=Hn("house",AO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],PO=Hn("loader-circle",MO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],bx=Hn("message-square",NO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],kO=Hn("moon",DO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],WS=Hn("music",jO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],e_=Hn("search",LO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],zO=Hn("sun",UO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],im=Hn("trophy",IO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],HO=Hn("users",BO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],VO=Hn("x",$O),ry="-",qO=t=>{const e=FO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:u=>{const f=u.split(ry);return f[0]===""&&f.length!==1&&f.shift(),t_(f,e)||YO(u)},getConflictingClassGroupIds:(u,f)=>{const d=n[u]||[];return f&&i[u]?[...d,...i[u]]:d}}},t_=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),a=i?t_(t.slice(1),i):void 0;if(a)return a;if(e.validators.length===0)return;const c=t.join(ry);return e.validators.find(({validator:u})=>u(c))?.classGroupId},xx=/^\[(.+)\]$/,YO=t=>{if(xx.test(t)){const e=xx.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},FO=t=>{const{theme:e,classGroups:n}=t,i={nextPart:new Map,validators:[]};for(const a in n)sm(n[a],i,a,e);return i},sm=(t,e,n,i)=>{t.forEach(a=>{if(typeof a=="string"){const c=a===""?e:Sx(e,a);c.classGroupId=n;return}if(typeof a=="function"){if(GO(a)){sm(a(i),e,n,i);return}e.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([c,u])=>{sm(u,Sx(e,c),n,i)})})},Sx=(t,e)=>{let n=t;return e.split(ry).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},GO=t=>t.isThemeGetter,KO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;const a=(c,u)=>{n.set(c,u),e++,e>t&&(e=0,i=n,n=new Map)};return{get(c){let u=n.get(c);if(u!==void 0)return u;if((u=i.get(c))!==void 0)return a(c,u),u},set(c,u){n.has(c)?n.set(c,u):a(c,u)}}},am="!",om=":",XO=om.length,QO=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=a=>{const c=[];let u=0,f=0,d=0,h;for(let E=0;E<a.length;E++){let C=a[E];if(u===0&&f===0){if(C===om){c.push(a.slice(d,E)),d=E+XO;continue}if(C==="/"){h=E;continue}}C==="["?u++:C==="]"?u--:C==="("?f++:C===")"&&f--}const m=c.length===0?a:a.substring(d),g=ZO(m),b=g!==m,x=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:b,baseClassName:g,maybePostfixModifierPosition:x}};if(e){const a=e+om,c=i;i=u=>u.startsWith(a)?c(u.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const a=i;i=c=>n({className:c,parseClassName:a})}return i},ZO=t=>t.endsWith(am)?t.substring(0,t.length-1):t.startsWith(am)?t.substring(1):t,JO=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const a=[];let c=[];return i.forEach(u=>{u[0]==="["||e[u]?(a.push(...c.sort(),u),c=[]):c.push(u)}),a.push(...c.sort()),a}},WO=t=>({cache:KO(t.cacheSize),parseClassName:QO(t),sortModifiers:JO(t),...qO(t)}),eM=/\s+/,tM=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:c}=e,u=[],f=t.trim().split(eM);let d="";for(let h=f.length-1;h>=0;h-=1){const m=f[h],{isExternal:g,modifiers:b,hasImportantModifier:x,baseClassName:E,maybePostfixModifierPosition:C}=n(m);if(g){d=m+(d.length>0?" "+d:d);continue}let M=!!C,D=i(M?E.substring(0,C):E);if(!D){if(!M){d=m+(d.length>0?" "+d:d);continue}if(D=i(E),!D){d=m+(d.length>0?" "+d:d);continue}M=!1}const N=c(b).join(":"),k=x?N+am:N,j=k+D;if(u.includes(j))continue;u.push(j);const F=a(D,M);for(let W=0;W<F.length;++W){const Y=F[W];u.push(k+Y)}d=m+(d.length>0?" "+d:d)}return d};function nM(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=n_(e))&&(i&&(i+=" "),i+=n);return i}const n_=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=n_(t[i]))&&(n&&(n+=" "),n+=e);return n};function rM(t,...e){let n,i,a,c=u;function u(d){const h=e.reduce((m,g)=>g(m),t());return n=WO(h),i=n.cache.get,a=n.cache.set,c=f,f(d)}function f(d){const h=i(d);if(h)return h;const m=tM(d,n);return a(d,m),m}return function(){return c(nM.apply(null,arguments))}}const Rn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},r_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,i_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,iM=/^\d+\/\d+$/,sM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,cM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Va=t=>iM.test(t),gt=t=>!!t&&!Number.isNaN(Number(t)),ys=t=>!!t&&Number.isInteger(Number(t)),hp=t=>t.endsWith("%")&&gt(t.slice(0,-1)),Di=t=>sM.test(t),uM=()=>!0,fM=t=>aM.test(t)&&!oM.test(t),s_=()=>!1,dM=t=>cM.test(t),hM=t=>lM.test(t),pM=t=>!$e(t)&&!Ve(t),mM=t=>ao(t,c_,s_),$e=t=>r_.test(t),Fs=t=>ao(t,l_,fM),pp=t=>ao(t,xM,gt),_x=t=>ao(t,a_,s_),yM=t=>ao(t,o_,hM),lu=t=>ao(t,u_,dM),Ve=t=>i_.test(t),oc=t=>oo(t,l_),gM=t=>oo(t,SM),wx=t=>oo(t,a_),vM=t=>oo(t,c_),bM=t=>oo(t,o_),uu=t=>oo(t,u_,!0),ao=(t,e,n)=>{const i=r_.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},oo=(t,e,n=!1)=>{const i=i_.exec(t);return i?i[1]?e(i[1]):n:!1},a_=t=>t==="position"||t==="percentage",o_=t=>t==="image"||t==="url",c_=t=>t==="length"||t==="size"||t==="bg-size",l_=t=>t==="length",xM=t=>t==="number",SM=t=>t==="family-name",u_=t=>t==="shadow",_M=()=>{const t=Rn("color"),e=Rn("font"),n=Rn("text"),i=Rn("font-weight"),a=Rn("tracking"),c=Rn("leading"),u=Rn("breakpoint"),f=Rn("container"),d=Rn("spacing"),h=Rn("radius"),m=Rn("shadow"),g=Rn("inset-shadow"),b=Rn("text-shadow"),x=Rn("drop-shadow"),E=Rn("blur"),C=Rn("perspective"),M=Rn("aspect"),D=Rn("ease"),N=Rn("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[...j(),Ve,$e],W=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto","contain","none"],X=()=>[Ve,$e,d],pe=()=>[Va,"full","auto",...X()],ve=()=>[ys,"none","subgrid",Ve,$e],Se=()=>["auto",{span:["full",ys,Ve,$e]},ys,Ve,$e],we=()=>[ys,"auto",Ve,$e],Ke=()=>["auto","min","max","fr",Ve,$e],_e=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ue=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...X()],se=()=>[Va,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...X()],G=()=>[t,Ve,$e],De=()=>[...j(),wx,_x,{position:[Ve,$e]}],Xe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",vM,mM,{size:[Ve,$e]}],ie=()=>[hp,oc,Fs],de=()=>["","none","full",h,Ve,$e],ge=()=>["",gt,oc,Fs],be=()=>["solid","dashed","dotted","double"],Ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Re=()=>[gt,hp,wx,_x],Pt=()=>["","none",E,Ve,$e],I=()=>["none",gt,Ve,$e],Z=()=>["none",gt,Ve,$e],ue=()=>[gt,Ve,$e],Oe=()=>[Va,"full",...X()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Di],breakpoint:[Di],color:[uM],container:[Di],"drop-shadow":[Di],ease:["in","out","in-out"],font:[pM],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Di],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Di],shadow:[Di],spacing:["px",gt],text:[Di],"text-shadow":[Di],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Va,$e,Ve,M]}],container:["container"],columns:[{columns:[gt,$e,Ve,f]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:Y()}],"overscroll-x":[{"overscroll-x":Y()}],"overscroll-y":[{"overscroll-y":Y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:pe()}],"inset-x":[{"inset-x":pe()}],"inset-y":[{"inset-y":pe()}],start:[{start:pe()}],end:[{end:pe()}],top:[{top:pe()}],right:[{right:pe()}],bottom:[{bottom:pe()}],left:[{left:pe()}],visibility:["visible","invisible","collapse"],z:[{z:[ys,"auto",Ve,$e]}],basis:[{basis:[Va,"full","auto",f,...X()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[gt,Va,"auto","initial","none",$e]}],grow:[{grow:["",gt,Ve,$e]}],shrink:[{shrink:["",gt,Ve,$e]}],order:[{order:[ys,"first","last","none",Ve,$e]}],"grid-cols":[{"grid-cols":ve()}],"col-start-end":[{col:Se()}],"col-start":[{"col-start":we()}],"col-end":[{"col-end":we()}],"grid-rows":[{"grid-rows":ve()}],"row-start-end":[{row:Se()}],"row-start":[{"row-start":we()}],"row-end":[{"row-end":we()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Ke()}],"auto-rows":[{"auto-rows":Ke()}],gap:[{gap:X()}],"gap-x":[{"gap-x":X()}],"gap-y":[{"gap-y":X()}],"justify-content":[{justify:[..._e(),"normal"]}],"justify-items":[{"justify-items":[...Ue(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ue()]}],"align-content":[{content:["normal",..._e()]}],"align-items":[{items:[...Ue(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ue(),{baseline:["","last"]}]}],"place-content":[{"place-content":_e()}],"place-items":[{"place-items":[...Ue(),"baseline"]}],"place-self":[{"place-self":["auto",...Ue()]}],p:[{p:X()}],px:[{px:X()}],py:[{py:X()}],ps:[{ps:X()}],pe:[{pe:X()}],pt:[{pt:X()}],pr:[{pr:X()}],pb:[{pb:X()}],pl:[{pl:X()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":X()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":X()}],"space-y-reverse":["space-y-reverse"],size:[{size:se()}],w:[{w:[f,"screen",...se()]}],"min-w":[{"min-w":[f,"screen","none",...se()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...se()]}],h:[{h:["screen","lh",...se()]}],"min-h":[{"min-h":["screen","lh","none",...se()]}],"max-h":[{"max-h":["screen","lh",...se()]}],"font-size":[{text:["base",n,oc,Fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Ve,pp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",hp,$e]}],"font-family":[{font:[gM,$e,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ve,$e]}],"line-clamp":[{"line-clamp":[gt,"none",Ve,pp]}],leading:[{leading:[c,...X()]}],"list-image":[{"list-image":["none",Ve,$e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ve,$e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[gt,"from-font","auto",Ve,Fs]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[gt,"auto",Ve,$e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:X()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve,$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve,$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:De()}],"bg-repeat":[{bg:Xe()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ys,Ve,$e],radial:["",Ve,$e],conic:[ys,Ve,$e]},bM,yM]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:ie()}],"gradient-via-pos":[{via:ie()}],"gradient-to-pos":[{to:ie()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:de()}],"rounded-s":[{"rounded-s":de()}],"rounded-e":[{"rounded-e":de()}],"rounded-t":[{"rounded-t":de()}],"rounded-r":[{"rounded-r":de()}],"rounded-b":[{"rounded-b":de()}],"rounded-l":[{"rounded-l":de()}],"rounded-ss":[{"rounded-ss":de()}],"rounded-se":[{"rounded-se":de()}],"rounded-ee":[{"rounded-ee":de()}],"rounded-es":[{"rounded-es":de()}],"rounded-tl":[{"rounded-tl":de()}],"rounded-tr":[{"rounded-tr":de()}],"rounded-br":[{"rounded-br":de()}],"rounded-bl":[{"rounded-bl":de()}],"border-w":[{border:ge()}],"border-w-x":[{"border-x":ge()}],"border-w-y":[{"border-y":ge()}],"border-w-s":[{"border-s":ge()}],"border-w-e":[{"border-e":ge()}],"border-w-t":[{"border-t":ge()}],"border-w-r":[{"border-r":ge()}],"border-w-b":[{"border-b":ge()}],"border-w-l":[{"border-l":ge()}],"divide-x":[{"divide-x":ge()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ge()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[gt,Ve,$e]}],"outline-w":[{outline:["",gt,oc,Fs]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",m,uu,lu]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",g,uu,lu]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[gt,Fs]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":ge()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",b,uu,lu]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[gt,Ve,$e]}],"mix-blend":[{"mix-blend":[...Ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ee()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[gt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Re()}],"mask-image-linear-to-pos":[{"mask-linear-to":Re()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":Re()}],"mask-image-t-to-pos":[{"mask-t-to":Re()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":Re()}],"mask-image-r-to-pos":[{"mask-r-to":Re()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":Re()}],"mask-image-b-to-pos":[{"mask-b-to":Re()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":Re()}],"mask-image-l-to-pos":[{"mask-l-to":Re()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":Re()}],"mask-image-x-to-pos":[{"mask-x-to":Re()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":Re()}],"mask-image-y-to-pos":[{"mask-y-to":Re()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[Ve,$e]}],"mask-image-radial-from-pos":[{"mask-radial-from":Re()}],"mask-image-radial-to-pos":[{"mask-radial-to":Re()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[gt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Re()}],"mask-image-conic-to-pos":[{"mask-conic-to":Re()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:De()}],"mask-repeat":[{mask:Xe()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ve,$e]}],filter:[{filter:["","none",Ve,$e]}],blur:[{blur:Pt()}],brightness:[{brightness:[gt,Ve,$e]}],contrast:[{contrast:[gt,Ve,$e]}],"drop-shadow":[{"drop-shadow":["","none",x,uu,lu]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",gt,Ve,$e]}],"hue-rotate":[{"hue-rotate":[gt,Ve,$e]}],invert:[{invert:["",gt,Ve,$e]}],saturate:[{saturate:[gt,Ve,$e]}],sepia:[{sepia:["",gt,Ve,$e]}],"backdrop-filter":[{"backdrop-filter":["","none",Ve,$e]}],"backdrop-blur":[{"backdrop-blur":Pt()}],"backdrop-brightness":[{"backdrop-brightness":[gt,Ve,$e]}],"backdrop-contrast":[{"backdrop-contrast":[gt,Ve,$e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",gt,Ve,$e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[gt,Ve,$e]}],"backdrop-invert":[{"backdrop-invert":["",gt,Ve,$e]}],"backdrop-opacity":[{"backdrop-opacity":[gt,Ve,$e]}],"backdrop-saturate":[{"backdrop-saturate":[gt,Ve,$e]}],"backdrop-sepia":[{"backdrop-sepia":["",gt,Ve,$e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":X()}],"border-spacing-x":[{"border-spacing-x":X()}],"border-spacing-y":[{"border-spacing-y":X()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ve,$e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[gt,"initial",Ve,$e]}],ease:[{ease:["linear","initial",D,Ve,$e]}],delay:[{delay:[gt,Ve,$e]}],animate:[{animate:["none",N,Ve,$e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,Ve,$e]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:I()}],"rotate-x":[{"rotate-x":I()}],"rotate-y":[{"rotate-y":I()}],"rotate-z":[{"rotate-z":I()}],scale:[{scale:Z()}],"scale-x":[{"scale-x":Z()}],"scale-y":[{"scale-y":Z()}],"scale-z":[{"scale-z":Z()}],"scale-3d":["scale-3d"],skew:[{skew:ue()}],"skew-x":[{"skew-x":ue()}],"skew-y":[{"skew-y":ue()}],transform:[{transform:[Ve,$e,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Oe()}],"translate-x":[{"translate-x":Oe()}],"translate-y":[{"translate-y":Oe()}],"translate-z":[{"translate-z":Oe()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve,$e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":X()}],"scroll-mx":[{"scroll-mx":X()}],"scroll-my":[{"scroll-my":X()}],"scroll-ms":[{"scroll-ms":X()}],"scroll-me":[{"scroll-me":X()}],"scroll-mt":[{"scroll-mt":X()}],"scroll-mr":[{"scroll-mr":X()}],"scroll-mb":[{"scroll-mb":X()}],"scroll-ml":[{"scroll-ml":X()}],"scroll-p":[{"scroll-p":X()}],"scroll-px":[{"scroll-px":X()}],"scroll-py":[{"scroll-py":X()}],"scroll-ps":[{"scroll-ps":X()}],"scroll-pe":[{"scroll-pe":X()}],"scroll-pt":[{"scroll-pt":X()}],"scroll-pr":[{"scroll-pr":X()}],"scroll-pb":[{"scroll-pb":X()}],"scroll-pl":[{"scroll-pl":X()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve,$e]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[gt,oc,Fs,pp]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},wM=rM(_M);function sn(...t){return wM(QS(t))}const EM=lO,f_=T.forwardRef(({className:t,...e},n)=>S.jsx(VS,{ref:n,className:sn("fixed top-0 z-100 flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));f_.displayName=VS.displayName;const CM=wf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-(--radix-toast-swipe-end-x) data-[swipe=move]:translate-x-(--radix-toast-swipe-move-x) data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),d_=T.forwardRef(({className:t,variant:e,...n},i)=>S.jsx(qS,{ref:i,className:sn(CM({variant:e}),t),...n}));d_.displayName=qS.displayName;const TM=T.forwardRef(({className:t,...e},n)=>S.jsx(GS,{ref:n,className:sn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));TM.displayName=GS.displayName;const h_=T.forwardRef(({className:t,...e},n)=>S.jsx(KS,{ref:n,className:sn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:S.jsx(VO,{className:"h-4 w-4"})}));h_.displayName=KS.displayName;const p_=T.forwardRef(({className:t,...e},n)=>S.jsx(YS,{ref:n,className:sn("text-sm font-semibold",t),...e}));p_.displayName=YS.displayName;const m_=T.forwardRef(({className:t,...e},n)=>S.jsx(FS,{ref:n,className:sn("text-sm opacity-90",t),...e}));m_.displayName=FS.displayName;function RM(){const{toasts:t}=xS();return S.jsxs(EM,{children:[t.map(({id:e,title:n,description:i,action:a,...c})=>S.jsxs(d_,{...c,children:[S.jsxs("div",{className:"grid gap-1",children:[n&&S.jsx(p_,{children:n}),i&&S.jsx(m_,{children:i})]}),a,S.jsx(h_,{})]},e)),S.jsx(f_,{})]})}const AM=["top","right","bottom","left"],Cs=Math.min,br=Math.max,Ku=Math.round,fu=Math.floor,oi=t=>({x:t,y:t}),OM={left:"right",right:"left",bottom:"top",top:"bottom"},MM={start:"end",end:"start"};function cm(t,e,n){return br(t,Cs(e,n))}function $i(t,e){return typeof t=="function"?t(e):t}function Vi(t){return t.split("-")[0]}function co(t){return t.split("-")[1]}function iy(t){return t==="x"?"y":"x"}function sy(t){return t==="y"?"height":"width"}const PM=new Set(["top","bottom"]);function si(t){return PM.has(Vi(t))?"y":"x"}function ay(t){return iy(si(t))}function NM(t,e,n){n===void 0&&(n=!1);const i=co(t),a=ay(t),c=sy(a);let u=a==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[c]>e.floating[c]&&(u=Xu(u)),[u,Xu(u)]}function DM(t){const e=Xu(t);return[lm(t),e,lm(e)]}function lm(t){return t.replace(/start|end/g,e=>MM[e])}const Ex=["left","right"],Cx=["right","left"],kM=["top","bottom"],jM=["bottom","top"];function LM(t,e,n){switch(t){case"top":case"bottom":return n?e?Cx:Ex:e?Ex:Cx;case"left":case"right":return e?kM:jM;default:return[]}}function UM(t,e,n,i){const a=co(t);let c=LM(Vi(t),n==="start",i);return a&&(c=c.map(u=>u+"-"+a),e&&(c=c.concat(c.map(lm)))),c}function Xu(t){return t.replace(/left|right|bottom|top/g,e=>OM[e])}function zM(t){return{top:0,right:0,bottom:0,left:0,...t}}function y_(t){return typeof t!="number"?zM(t):{top:t,right:t,bottom:t,left:t}}function Qu(t){const{x:e,y:n,width:i,height:a}=t;return{width:i,height:a,top:n,left:e,right:e+i,bottom:n+a,x:e,y:n}}function Tx(t,e,n){let{reference:i,floating:a}=t;const c=si(e),u=ay(e),f=sy(u),d=Vi(e),h=c==="y",m=i.x+i.width/2-a.width/2,g=i.y+i.height/2-a.height/2,b=i[f]/2-a[f]/2;let x;switch(d){case"top":x={x:m,y:i.y-a.height};break;case"bottom":x={x:m,y:i.y+i.height};break;case"right":x={x:i.x+i.width,y:g};break;case"left":x={x:i.x-a.width,y:g};break;default:x={x:i.x,y:i.y}}switch(co(e)){case"start":x[u]-=b*(n&&h?-1:1);break;case"end":x[u]+=b*(n&&h?-1:1);break}return x}const IM=async(t,e,n)=>{const{placement:i="bottom",strategy:a="absolute",middleware:c=[],platform:u}=n,f=c.filter(Boolean),d=await(u.isRTL==null?void 0:u.isRTL(e));let h=await u.getElementRects({reference:t,floating:e,strategy:a}),{x:m,y:g}=Tx(h,i,d),b=i,x={},E=0;for(let C=0;C<f.length;C++){const{name:M,fn:D}=f[C],{x:N,y:k,data:j,reset:F}=await D({x:m,y:g,initialPlacement:i,placement:b,strategy:a,middlewareData:x,rects:h,platform:u,elements:{reference:t,floating:e}});m=N??m,g=k??g,x={...x,[M]:{...x[M],...j}},F&&E<=50&&(E++,typeof F=="object"&&(F.placement&&(b=F.placement),F.rects&&(h=F.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:a}):F.rects),{x:m,y:g}=Tx(h,b,d)),C=-1)}return{x:m,y:g,placement:b,strategy:a,middlewareData:x}};async function Rc(t,e){var n;e===void 0&&(e={});const{x:i,y:a,platform:c,rects:u,elements:f,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:b=!1,padding:x=0}=$i(e,t),E=y_(x),M=f[b?g==="floating"?"reference":"floating":g],D=Qu(await c.getClippingRect({element:(n=await(c.isElement==null?void 0:c.isElement(M)))==null||n?M:M.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:h,rootBoundary:m,strategy:d})),N=g==="floating"?{x:i,y:a,width:u.floating.width,height:u.floating.height}:u.reference,k=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),j=await(c.isElement==null?void 0:c.isElement(k))?await(c.getScale==null?void 0:c.getScale(k))||{x:1,y:1}:{x:1,y:1},F=Qu(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:N,offsetParent:k,strategy:d}):N);return{top:(D.top-F.top+E.top)/j.y,bottom:(F.bottom-D.bottom+E.bottom)/j.y,left:(D.left-F.left+E.left)/j.x,right:(F.right-D.right+E.right)/j.x}}const BM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:a,rects:c,platform:u,elements:f,middlewareData:d}=e,{element:h,padding:m=0}=$i(t,e)||{};if(h==null)return{};const g=y_(m),b={x:n,y:i},x=ay(a),E=sy(x),C=await u.getDimensions(h),M=x==="y",D=M?"top":"left",N=M?"bottom":"right",k=M?"clientHeight":"clientWidth",j=c.reference[E]+c.reference[x]-b[x]-c.floating[E],F=b[x]-c.reference[x],W=await(u.getOffsetParent==null?void 0:u.getOffsetParent(h));let Y=W?W[k]:0;(!Y||!await(u.isElement==null?void 0:u.isElement(W)))&&(Y=f.floating[k]||c.floating[E]);const X=j/2-F/2,pe=Y/2-C[E]/2-1,ve=Cs(g[D],pe),Se=Cs(g[N],pe),we=ve,Ke=Y-C[E]-Se,_e=Y/2-C[E]/2+X,Ue=cm(we,_e,Ke),H=!d.arrow&&co(a)!=null&&_e!==Ue&&c.reference[E]/2-(_e<we?ve:Se)-C[E]/2<0,se=H?_e<we?_e-we:_e-Ke:0;return{[x]:b[x]+se,data:{[x]:Ue,centerOffset:_e-Ue-se,...H&&{alignmentOffset:se}},reset:H}}}),HM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:a,middlewareData:c,rects:u,initialPlacement:f,platform:d,elements:h}=e,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:b,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:C=!0,...M}=$i(t,e);if((n=c.arrow)!=null&&n.alignmentOffset)return{};const D=Vi(a),N=si(f),k=Vi(f)===f,j=await(d.isRTL==null?void 0:d.isRTL(h.floating)),F=b||(k||!C?[Xu(f)]:DM(f)),W=E!=="none";!b&&W&&F.push(...UM(f,C,E,j));const Y=[f,...F],X=await Rc(e,M),pe=[];let ve=((i=c.flip)==null?void 0:i.overflows)||[];if(m&&pe.push(X[D]),g){const _e=NM(a,u,j);pe.push(X[_e[0]],X[_e[1]])}if(ve=[...ve,{placement:a,overflows:pe}],!pe.every(_e=>_e<=0)){var Se,we;const _e=(((Se=c.flip)==null?void 0:Se.index)||0)+1,Ue=Y[_e];if(Ue&&(!(g==="alignment"?N!==si(Ue):!1)||ve.every(G=>si(G.placement)===N?G.overflows[0]>0:!0)))return{data:{index:_e,overflows:ve},reset:{placement:Ue}};let H=(we=ve.filter(se=>se.overflows[0]<=0).sort((se,G)=>se.overflows[1]-G.overflows[1])[0])==null?void 0:we.placement;if(!H)switch(x){case"bestFit":{var Ke;const se=(Ke=ve.filter(G=>{if(W){const De=si(G.placement);return De===N||De==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(De=>De>0).reduce((De,Xe)=>De+Xe,0)]).sort((G,De)=>G[1]-De[1])[0])==null?void 0:Ke[0];se&&(H=se);break}case"initialPlacement":H=f;break}if(a!==H)return{reset:{placement:H}}}return{}}}};function Rx(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Ax(t){return AM.some(e=>t[e]>=0)}const $M=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...a}=$i(t,e);switch(i){case"referenceHidden":{const c=await Rc(e,{...a,elementContext:"reference"}),u=Rx(c,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Ax(u)}}}case"escaped":{const c=await Rc(e,{...a,altBoundary:!0}),u=Rx(c,n.floating);return{data:{escapedOffsets:u,escaped:Ax(u)}}}default:return{}}}}},g_=new Set(["left","top"]);async function VM(t,e){const{placement:n,platform:i,elements:a}=t,c=await(i.isRTL==null?void 0:i.isRTL(a.floating)),u=Vi(n),f=co(n),d=si(n)==="y",h=g_.has(u)?-1:1,m=c&&d?-1:1,g=$i(e,t);let{mainAxis:b,crossAxis:x,alignmentAxis:E}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return f&&typeof E=="number"&&(x=f==="end"?E*-1:E),d?{x:x*m,y:b*h}:{x:b*h,y:x*m}}const qM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:a,y:c,placement:u,middlewareData:f}=e,d=await VM(e,t);return u===((n=f.offset)==null?void 0:n.placement)&&(i=f.arrow)!=null&&i.alignmentOffset?{}:{x:a+d.x,y:c+d.y,data:{...d,placement:u}}}}},YM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:a}=e,{mainAxis:c=!0,crossAxis:u=!1,limiter:f={fn:M=>{let{x:D,y:N}=M;return{x:D,y:N}}},...d}=$i(t,e),h={x:n,y:i},m=await Rc(e,d),g=si(Vi(a)),b=iy(g);let x=h[b],E=h[g];if(c){const M=b==="y"?"top":"left",D=b==="y"?"bottom":"right",N=x+m[M],k=x-m[D];x=cm(N,x,k)}if(u){const M=g==="y"?"top":"left",D=g==="y"?"bottom":"right",N=E+m[M],k=E-m[D];E=cm(N,E,k)}const C=f.fn({...e,[b]:x,[g]:E});return{...C,data:{x:C.x-n,y:C.y-i,enabled:{[b]:c,[g]:u}}}}}},FM=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:a,rects:c,middlewareData:u}=e,{offset:f=0,mainAxis:d=!0,crossAxis:h=!0}=$i(t,e),m={x:n,y:i},g=si(a),b=iy(g);let x=m[b],E=m[g];const C=$i(f,e),M=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(d){const k=b==="y"?"height":"width",j=c.reference[b]-c.floating[k]+M.mainAxis,F=c.reference[b]+c.reference[k]-M.mainAxis;x<j?x=j:x>F&&(x=F)}if(h){var D,N;const k=b==="y"?"width":"height",j=g_.has(Vi(a)),F=c.reference[g]-c.floating[k]+(j&&((D=u.offset)==null?void 0:D[g])||0)+(j?0:M.crossAxis),W=c.reference[g]+c.reference[k]+(j?0:((N=u.offset)==null?void 0:N[g])||0)-(j?M.crossAxis:0);E<F?E=F:E>W&&(E=W)}return{[b]:x,[g]:E}}}},GM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:a,rects:c,platform:u,elements:f}=e,{apply:d=()=>{},...h}=$i(t,e),m=await Rc(e,h),g=Vi(a),b=co(a),x=si(a)==="y",{width:E,height:C}=c.floating;let M,D;g==="top"||g==="bottom"?(M=g,D=b===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(D=g,M=b==="end"?"top":"bottom");const N=C-m.top-m.bottom,k=E-m.left-m.right,j=Cs(C-m[M],N),F=Cs(E-m[D],k),W=!e.middlewareData.shift;let Y=j,X=F;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(X=k),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(Y=N),W&&!b){const ve=br(m.left,0),Se=br(m.right,0),we=br(m.top,0),Ke=br(m.bottom,0);x?X=E-2*(ve!==0||Se!==0?ve+Se:br(m.left,m.right)):Y=C-2*(we!==0||Ke!==0?we+Ke:br(m.top,m.bottom))}await d({...e,availableWidth:X,availableHeight:Y});const pe=await u.getDimensions(f.floating);return E!==pe.width||C!==pe.height?{reset:{rects:!0}}:{}}}};function Ef(){return typeof window<"u"}function lo(t){return v_(t)?(t.nodeName||"").toLowerCase():"#document"}function xr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function hi(t){var e;return(e=(v_(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function v_(t){return Ef()?t instanceof Node||t instanceof xr(t).Node:!1}function Gr(t){return Ef()?t instanceof Element||t instanceof xr(t).Element:!1}function fi(t){return Ef()?t instanceof HTMLElement||t instanceof xr(t).HTMLElement:!1}function Ox(t){return!Ef()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof xr(t).ShadowRoot}const KM=new Set(["inline","contents"]);function Hc(t){const{overflow:e,overflowX:n,overflowY:i,display:a}=Kr(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!KM.has(a)}const XM=new Set(["table","td","th"]);function QM(t){return XM.has(lo(t))}const ZM=[":popover-open",":modal"];function Cf(t){return ZM.some(e=>{try{return t.matches(e)}catch{return!1}})}const JM=["transform","translate","scale","rotate","perspective"],WM=["transform","translate","scale","rotate","perspective","filter"],e3=["paint","layout","strict","content"];function oy(t){const e=cy(),n=Gr(t)?Kr(t):t;return JM.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||WM.some(i=>(n.willChange||"").includes(i))||e3.some(i=>(n.contain||"").includes(i))}function t3(t){let e=Ts(t);for(;fi(e)&&!to(e);){if(oy(e))return e;if(Cf(e))return null;e=Ts(e)}return null}function cy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const n3=new Set(["html","body","#document"]);function to(t){return n3.has(lo(t))}function Kr(t){return xr(t).getComputedStyle(t)}function Tf(t){return Gr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ts(t){if(lo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ox(t)&&t.host||hi(t);return Ox(e)?e.host:e}function b_(t){const e=Ts(t);return to(e)?t.ownerDocument?t.ownerDocument.body:t.body:fi(e)&&Hc(e)?e:b_(e)}function Ac(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const a=b_(t),c=a===((i=t.ownerDocument)==null?void 0:i.body),u=xr(a);if(c){const f=um(u);return e.concat(u,u.visualViewport||[],Hc(a)?a:[],f&&n?Ac(f):[])}return e.concat(a,Ac(a,[],n))}function um(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function x_(t){const e=Kr(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const a=fi(t),c=a?t.offsetWidth:n,u=a?t.offsetHeight:i,f=Ku(n)!==c||Ku(i)!==u;return f&&(n=c,i=u),{width:n,height:i,$:f}}function ly(t){return Gr(t)?t:t.contextElement}function Ga(t){const e=ly(t);if(!fi(e))return oi(1);const n=e.getBoundingClientRect(),{width:i,height:a,$:c}=x_(e);let u=(c?Ku(n.width):n.width)/i,f=(c?Ku(n.height):n.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const r3=oi(0);function S_(t){const e=xr(t);return!cy()||!e.visualViewport?r3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function i3(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==xr(t)?!1:e}function sa(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),c=ly(t);let u=oi(1);e&&(i?Gr(i)&&(u=Ga(i)):u=Ga(t));const f=i3(c,n,i)?S_(c):oi(0);let d=(a.left+f.x)/u.x,h=(a.top+f.y)/u.y,m=a.width/u.x,g=a.height/u.y;if(c){const b=xr(c),x=i&&Gr(i)?xr(i):i;let E=b,C=um(E);for(;C&&i&&x!==E;){const M=Ga(C),D=C.getBoundingClientRect(),N=Kr(C),k=D.left+(C.clientLeft+parseFloat(N.paddingLeft))*M.x,j=D.top+(C.clientTop+parseFloat(N.paddingTop))*M.y;d*=M.x,h*=M.y,m*=M.x,g*=M.y,d+=k,h+=j,E=xr(C),C=um(E)}}return Qu({width:m,height:g,x:d,y:h})}function Rf(t,e){const n=Tf(t).scrollLeft;return e?e.left+n:sa(hi(t)).left+n}function __(t,e){const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-Rf(t,n),a=n.top+e.scrollTop;return{x:i,y:a}}function s3(t){let{elements:e,rect:n,offsetParent:i,strategy:a}=t;const c=a==="fixed",u=hi(i),f=e?Cf(e.floating):!1;if(i===u||f&&c)return n;let d={scrollLeft:0,scrollTop:0},h=oi(1);const m=oi(0),g=fi(i);if((g||!g&&!c)&&((lo(i)!=="body"||Hc(u))&&(d=Tf(i)),fi(i))){const x=sa(i);h=Ga(i),m.x=x.x+i.clientLeft,m.y=x.y+i.clientTop}const b=u&&!g&&!c?__(u,d):oi(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+m.x+b.x,y:n.y*h.y-d.scrollTop*h.y+m.y+b.y}}function a3(t){return Array.from(t.getClientRects())}function o3(t){const e=hi(t),n=Tf(t),i=t.ownerDocument.body,a=br(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),c=br(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let u=-n.scrollLeft+Rf(t);const f=-n.scrollTop;return Kr(i).direction==="rtl"&&(u+=br(e.clientWidth,i.clientWidth)-a),{width:a,height:c,x:u,y:f}}const Mx=25;function c3(t,e){const n=xr(t),i=hi(t),a=n.visualViewport;let c=i.clientWidth,u=i.clientHeight,f=0,d=0;if(a){c=a.width,u=a.height;const m=cy();(!m||m&&e==="fixed")&&(f=a.offsetLeft,d=a.offsetTop)}const h=Rf(i);if(h<=0){const m=i.ownerDocument,g=m.body,b=getComputedStyle(g),x=m.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,E=Math.abs(i.clientWidth-g.clientWidth-x);E<=Mx&&(c-=E)}else h<=Mx&&(c+=h);return{width:c,height:u,x:f,y:d}}const l3=new Set(["absolute","fixed"]);function u3(t,e){const n=sa(t,!0,e==="fixed"),i=n.top+t.clientTop,a=n.left+t.clientLeft,c=fi(t)?Ga(t):oi(1),u=t.clientWidth*c.x,f=t.clientHeight*c.y,d=a*c.x,h=i*c.y;return{width:u,height:f,x:d,y:h}}function Px(t,e,n){let i;if(e==="viewport")i=c3(t,n);else if(e==="document")i=o3(hi(t));else if(Gr(e))i=u3(e,n);else{const a=S_(t);i={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Qu(i)}function w_(t,e){const n=Ts(t);return n===e||!Gr(n)||to(n)?!1:Kr(n).position==="fixed"||w_(n,e)}function f3(t,e){const n=e.get(t);if(n)return n;let i=Ac(t,[],!1).filter(f=>Gr(f)&&lo(f)!=="body"),a=null;const c=Kr(t).position==="fixed";let u=c?Ts(t):t;for(;Gr(u)&&!to(u);){const f=Kr(u),d=oy(u);!d&&f.position==="fixed"&&(a=null),(c?!d&&!a:!d&&f.position==="static"&&!!a&&l3.has(a.position)||Hc(u)&&!d&&w_(t,u))?i=i.filter(m=>m!==u):a=f,u=Ts(u)}return e.set(t,i),i}function d3(t){let{element:e,boundary:n,rootBoundary:i,strategy:a}=t;const u=[...n==="clippingAncestors"?Cf(e)?[]:f3(e,this._c):[].concat(n),i],f=u[0],d=u.reduce((h,m)=>{const g=Px(e,m,a);return h.top=br(g.top,h.top),h.right=Cs(g.right,h.right),h.bottom=Cs(g.bottom,h.bottom),h.left=br(g.left,h.left),h},Px(e,f,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function h3(t){const{width:e,height:n}=x_(t);return{width:e,height:n}}function p3(t,e,n){const i=fi(e),a=hi(e),c=n==="fixed",u=sa(t,!0,c,e);let f={scrollLeft:0,scrollTop:0};const d=oi(0);function h(){d.x=Rf(a)}if(i||!i&&!c)if((lo(e)!=="body"||Hc(a))&&(f=Tf(e)),i){const x=sa(e,!0,c,e);d.x=x.x+e.clientLeft,d.y=x.y+e.clientTop}else a&&h();c&&!i&&a&&h();const m=a&&!i&&!c?__(a,f):oi(0),g=u.left+f.scrollLeft-d.x-m.x,b=u.top+f.scrollTop-d.y-m.y;return{x:g,y:b,width:u.width,height:u.height}}function mp(t){return Kr(t).position==="static"}function Nx(t,e){if(!fi(t)||Kr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return hi(t)===n&&(n=n.ownerDocument.body),n}function E_(t,e){const n=xr(t);if(Cf(t))return n;if(!fi(t)){let a=Ts(t);for(;a&&!to(a);){if(Gr(a)&&!mp(a))return a;a=Ts(a)}return n}let i=Nx(t,e);for(;i&&QM(i)&&mp(i);)i=Nx(i,e);return i&&to(i)&&mp(i)&&!oy(i)?n:i||t3(t)||n}const m3=async function(t){const e=this.getOffsetParent||E_,n=this.getDimensions,i=await n(t.floating);return{reference:p3(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function y3(t){return Kr(t).direction==="rtl"}const g3={convertOffsetParentRelativeRectToViewportRelativeRect:s3,getDocumentElement:hi,getClippingRect:d3,getOffsetParent:E_,getElementRects:m3,getClientRects:a3,getDimensions:h3,getScale:Ga,isElement:Gr,isRTL:y3};function C_(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function v3(t,e){let n=null,i;const a=hi(t);function c(){var f;clearTimeout(i),(f=n)==null||f.disconnect(),n=null}function u(f,d){f===void 0&&(f=!1),d===void 0&&(d=1),c();const h=t.getBoundingClientRect(),{left:m,top:g,width:b,height:x}=h;if(f||e(),!b||!x)return;const E=fu(g),C=fu(a.clientWidth-(m+b)),M=fu(a.clientHeight-(g+x)),D=fu(m),k={rootMargin:-E+"px "+-C+"px "+-M+"px "+-D+"px",threshold:br(0,Cs(1,d))||1};let j=!0;function F(W){const Y=W[0].intersectionRatio;if(Y!==d){if(!j)return u();Y?u(!1,Y):i=setTimeout(()=>{u(!1,1e-7)},1e3)}Y===1&&!C_(h,t.getBoundingClientRect())&&u(),j=!1}try{n=new IntersectionObserver(F,{...k,root:a.ownerDocument})}catch{n=new IntersectionObserver(F,k)}n.observe(t)}return u(!0),c}function b3(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:d=!1}=i,h=ly(t),m=a||c?[...h?Ac(h):[],...Ac(e)]:[];m.forEach(D=>{a&&D.addEventListener("scroll",n,{passive:!0}),c&&D.addEventListener("resize",n)});const g=h&&f?v3(h,n):null;let b=-1,x=null;u&&(x=new ResizeObserver(D=>{let[N]=D;N&&N.target===h&&x&&(x.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var k;(k=x)==null||k.observe(e)})),n()}),h&&!d&&x.observe(h),x.observe(e));let E,C=d?sa(t):null;d&&M();function M(){const D=sa(t);C&&!C_(C,D)&&n(),C=D,E=requestAnimationFrame(M)}return n(),()=>{var D;m.forEach(N=>{a&&N.removeEventListener("scroll",n),c&&N.removeEventListener("resize",n)}),g?.(),(D=x)==null||D.disconnect(),x=null,d&&cancelAnimationFrame(E)}}const x3=qM,S3=YM,_3=HM,w3=GM,E3=$M,Dx=BM,C3=FM,T3=(t,e,n)=>{const i=new Map,a={platform:g3,...n},c={...a.platform,_c:i};return IM(t,e,{...a,platform:c})};var R3=typeof document<"u",A3=function(){},Tu=R3?T.useLayoutEffect:A3;function Zu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!Zu(t[i],e[i]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,a[i]))return!1;for(i=n;i--!==0;){const c=a[i];if(!(c==="_owner"&&t.$$typeof)&&!Zu(t[c],e[c]))return!1}return!0}return t!==t&&e!==e}function T_(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function kx(t,e){const n=T_(t);return Math.round(e*n)/n}function yp(t){const e=T.useRef(t);return Tu(()=>{e.current=t}),e}function O3(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:a,elements:{reference:c,floating:u}={},transform:f=!0,whileElementsMounted:d,open:h}=t,[m,g]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,x]=T.useState(i);Zu(b,i)||x(i);const[E,C]=T.useState(null),[M,D]=T.useState(null),N=T.useCallback(G=>{G!==W.current&&(W.current=G,C(G))},[]),k=T.useCallback(G=>{G!==Y.current&&(Y.current=G,D(G))},[]),j=c||E,F=u||M,W=T.useRef(null),Y=T.useRef(null),X=T.useRef(m),pe=d!=null,ve=yp(d),Se=yp(a),we=yp(h),Ke=T.useCallback(()=>{if(!W.current||!Y.current)return;const G={placement:e,strategy:n,middleware:b};Se.current&&(G.platform=Se.current),T3(W.current,Y.current,G).then(De=>{const Xe={...De,isPositioned:we.current!==!1};_e.current&&!Zu(X.current,Xe)&&(X.current=Xe,Ic.flushSync(()=>{g(Xe)}))})},[b,e,n,Se,we]);Tu(()=>{h===!1&&X.current.isPositioned&&(X.current.isPositioned=!1,g(G=>({...G,isPositioned:!1})))},[h]);const _e=T.useRef(!1);Tu(()=>(_e.current=!0,()=>{_e.current=!1}),[]),Tu(()=>{if(j&&(W.current=j),F&&(Y.current=F),j&&F){if(ve.current)return ve.current(j,F,Ke);Ke()}},[j,F,Ke,ve,pe]);const Ue=T.useMemo(()=>({reference:W,floating:Y,setReference:N,setFloating:k}),[N,k]),H=T.useMemo(()=>({reference:j,floating:F}),[j,F]),se=T.useMemo(()=>{const G={position:n,left:0,top:0};if(!H.floating)return G;const De=kx(H.floating,m.x),Xe=kx(H.floating,m.y);return f?{...G,transform:"translate("+De+"px, "+Xe+"px)",...T_(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:De,top:Xe}},[n,f,H.floating,m.x,m.y]);return T.useMemo(()=>({...m,update:Ke,refs:Ue,elements:H,floatingStyles:se}),[m,Ke,Ue,H,se])}const M3=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:a}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?Dx({element:i.current,padding:a}).fn(n):{}:i?Dx({element:i,padding:a}).fn(n):{}}}},P3=(t,e)=>({...x3(t),options:[t,e]}),N3=(t,e)=>({...S3(t),options:[t,e]}),D3=(t,e)=>({...C3(t),options:[t,e]}),k3=(t,e)=>({..._3(t),options:[t,e]}),j3=(t,e)=>({...w3(t),options:[t,e]}),L3=(t,e)=>({...E3(t),options:[t,e]}),U3=(t,e)=>({...M3(t),options:[t,e]});var z3="Arrow",R_=T.forwardRef((t,e)=>{const{children:n,width:i=10,height:a=5,...c}=t;return S.jsx($t.svg,{...c,ref:e,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:S.jsx("polygon",{points:"0,0 30,0 15,10"})})});R_.displayName=z3;var I3=R_;function A_(t){const[e,n]=T.useState(void 0);return Lr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const c=a[0];let u,f;if("borderBoxSize"in c){const d=c.borderBoxSize,h=Array.isArray(d)?d[0]:d;u=h.inlineSize,f=h.blockSize}else u=t.offsetWidth,f=t.offsetHeight;n({width:u,height:f})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var O_="Popper",[M_,P_]=Rs(O_),[k8,N_]=M_(O_),D_="PopperAnchor",k_=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...a}=t,c=N_(D_,n),u=T.useRef(null),f=on(e,u),d=T.useRef(null);return T.useEffect(()=>{const h=d.current;d.current=i?.current||u.current,h!==d.current&&c.onAnchorChange(d.current)}),i?null:S.jsx($t.div,{...a,ref:f})});k_.displayName=D_;var uy="PopperContent",[B3,H3]=M_(uy),j_=T.forwardRef((t,e)=>{const{__scopePopper:n,side:i="bottom",sideOffset:a=0,align:c="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:b=!1,updatePositionStrategy:x="optimized",onPlaced:E,...C}=t,M=N_(uy,n),[D,N]=T.useState(null),k=on(e,Re=>N(Re)),[j,F]=T.useState(null),W=A_(j),Y=W?.width??0,X=W?.height??0,pe=i+(c!=="center"?"-"+c:""),ve=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},Se=Array.isArray(h)?h:[h],we=Se.length>0,Ke={padding:ve,boundary:Se.filter(V3),altBoundary:we},{refs:_e,floatingStyles:Ue,placement:H,isPositioned:se,middlewareData:G}=O3({strategy:"fixed",placement:pe,whileElementsMounted:(...Re)=>b3(...Re,{animationFrame:x==="always"}),elements:{reference:M.anchor},middleware:[P3({mainAxis:a+X,alignmentAxis:u}),d&&N3({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?D3():void 0,...Ke}),d&&k3({...Ke}),j3({...Ke,apply:({elements:Re,rects:Pt,availableWidth:I,availableHeight:Z})=>{const{width:ue,height:Oe}=Pt.reference,Le=Re.floating.style;Le.setProperty("--radix-popper-available-width",`${I}px`),Le.setProperty("--radix-popper-available-height",`${Z}px`),Le.setProperty("--radix-popper-anchor-width",`${ue}px`),Le.setProperty("--radix-popper-anchor-height",`${Oe}px`)}}),j&&U3({element:j,padding:f}),q3({arrowWidth:Y,arrowHeight:X}),b&&L3({strategy:"referenceHidden",...Ke})]}),[De,Xe]=z_(H),z=Fn(E);Lr(()=>{se&&z?.()},[se,z]);const ie=G.arrow?.x,de=G.arrow?.y,ge=G.arrow?.centerOffset!==0,[be,Ee]=T.useState();return Lr(()=>{D&&Ee(window.getComputedStyle(D).zIndex)},[D]),S.jsx("div",{ref:_e.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ue,transform:se?Ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[G.transformOrigin?.x,G.transformOrigin?.y].join(" "),...G.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:S.jsx(B3,{scope:n,placedSide:De,onArrowChange:F,arrowX:ie,arrowY:de,shouldHideArrow:ge,children:S.jsx($t.div,{"data-side":De,"data-align":Xe,...C,ref:k,style:{...C.style,animation:se?void 0:"none"}})})})});j_.displayName=uy;var L_="PopperArrow",$3={top:"bottom",right:"left",bottom:"top",left:"right"},U_=T.forwardRef(function(e,n){const{__scopePopper:i,...a}=e,c=H3(L_,i),u=$3[c.placedSide];return S.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:S.jsx(I3,{...a,ref:n,style:{...a.style,display:"block"}})})});U_.displayName=L_;function V3(t){return t!==null}var q3=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:i,middlewareData:a}=e,u=a.arrow?.centerOffset!==0,f=u?0:t.arrowWidth,d=u?0:t.arrowHeight,[h,m]=z_(n),g={start:"0%",center:"50%",end:"100%"}[m],b=(a.arrow?.x??0)+f/2,x=(a.arrow?.y??0)+d/2;let E="",C="";return h==="bottom"?(E=u?g:`${b}px`,C=`${-d}px`):h==="top"?(E=u?g:`${b}px`,C=`${i.floating.height+d}px`):h==="right"?(E=`${-d}px`,C=u?g:`${x}px`):h==="left"&&(E=`${i.floating.width+d}px`,C=u?g:`${x}px`),{data:{x:E,y:C}}}});function z_(t){const[e,n="center"]=t.split("-");return[e,n]}var Y3=k_,F3=j_,G3=U_,[Af]=Rs("Tooltip",[P_]),fy=P_(),I_="TooltipProvider",K3=700,jx="tooltip.open",[X3,B_]=Af(I_),H_=t=>{const{__scopeTooltip:e,delayDuration:n=K3,skipDelayDuration:i=300,disableHoverableContent:a=!1,children:c}=t,u=T.useRef(!0),f=T.useRef(!1),d=T.useRef(0);return T.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),S.jsx(X3,{scope:e,isOpenDelayedRef:u,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(d.current),u.current=!1},[]),onClose:T.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>u.current=!0,i)},[i]),isPointerInTransitRef:f,onPointerInTransitChange:T.useCallback(h=>{f.current=h},[]),disableHoverableContent:a,children:c})};H_.displayName=I_;var $_="Tooltip",[j8,Of]=Af($_),fm="TooltipTrigger",Q3=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...i}=t,a=Of(fm,n),c=B_(fm,n),u=fy(n),f=T.useRef(null),d=on(e,f,a.onTriggerChange),h=T.useRef(!1),m=T.useRef(!1),g=T.useCallback(()=>h.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),S.jsx(Y3,{asChild:!0,...u,children:S.jsx($t.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...i,ref:d,onPointerMove:Ut(t.onPointerMove,b=>{b.pointerType!=="touch"&&!m.current&&!c.isPointerInTransitRef.current&&(a.onTriggerEnter(),m.current=!0)}),onPointerLeave:Ut(t.onPointerLeave,()=>{a.onTriggerLeave(),m.current=!1}),onPointerDown:Ut(t.onPointerDown,()=>{a.open&&a.onClose(),h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Ut(t.onFocus,()=>{h.current||a.onOpen()}),onBlur:Ut(t.onBlur,a.onClose),onClick:Ut(t.onClick,a.onClose)})})});Q3.displayName=fm;var Z3="TooltipPortal",[L8,J3]=Af(Z3,{forceMount:void 0}),no="TooltipContent",V_=T.forwardRef((t,e)=>{const n=J3(no,t.__scopeTooltip),{forceMount:i=n.forceMount,side:a="top",...c}=t,u=Of(no,t.__scopeTooltip);return S.jsx(oa,{present:i||u.open,children:u.disableHoverableContent?S.jsx(q_,{side:a,...c,ref:e}):S.jsx(W3,{side:a,...c,ref:e})})}),W3=T.forwardRef((t,e)=>{const n=Of(no,t.__scopeTooltip),i=B_(no,t.__scopeTooltip),a=T.useRef(null),c=on(e,a),[u,f]=T.useState(null),{trigger:d,onClose:h}=n,m=a.current,{onPointerInTransitChange:g}=i,b=T.useCallback(()=>{f(null),g(!1)},[g]),x=T.useCallback((E,C)=>{const M=E.currentTarget,D={x:E.clientX,y:E.clientY},N=iP(D,M.getBoundingClientRect()),k=sP(D,N),j=aP(C.getBoundingClientRect()),F=cP([...k,...j]);f(F),g(!0)},[g]);return T.useEffect(()=>()=>b(),[b]),T.useEffect(()=>{if(d&&m){const E=M=>x(M,m),C=M=>x(M,d);return d.addEventListener("pointerleave",E),m.addEventListener("pointerleave",C),()=>{d.removeEventListener("pointerleave",E),m.removeEventListener("pointerleave",C)}}},[d,m,x,b]),T.useEffect(()=>{if(u){const E=C=>{const M=C.target,D={x:C.clientX,y:C.clientY},N=d?.contains(M)||m?.contains(M),k=!oP(D,u);N?b():k&&(b(),h())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[d,m,u,h,b]),S.jsx(q_,{...t,ref:c})}),[eP,tP]=Af($_,{isInside:!1}),nP=_6("TooltipContent"),q_=T.forwardRef((t,e)=>{const{__scopeTooltip:n,children:i,"aria-label":a,onEscapeKeyDown:c,onPointerDownOutside:u,...f}=t,d=Of(no,n),h=fy(n),{onClose:m}=d;return T.useEffect(()=>(document.addEventListener(jx,m),()=>document.removeEventListener(jx,m)),[m]),T.useEffect(()=>{if(d.trigger){const g=b=>{b.target?.contains(d.trigger)&&m()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[d.trigger,m]),S.jsx(Wm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:g=>g.preventDefault(),onDismiss:m,children:S.jsxs(F3,{"data-state":d.stateAttribute,...h,...f,ref:e,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[S.jsx(nP,{children:i}),S.jsx(eP,{scope:n,isInside:!0,children:S.jsx(Y6,{id:d.contentId,role:"tooltip",children:a||i})})]})})});V_.displayName=no;var Y_="TooltipArrow",rP=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...i}=t,a=fy(n);return tP(Y_,n).isInside?null:S.jsx(G3,{...a,...i,ref:e})});rP.displayName=Y_;function iP(t,e){const n=Math.abs(e.top-t.y),i=Math.abs(e.bottom-t.y),a=Math.abs(e.right-t.x),c=Math.abs(e.left-t.x);switch(Math.min(n,i,a,c)){case c:return"left";case a:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function sP(t,e,n=5){const i=[];switch(e){case"top":i.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":i.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":i.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":i.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return i}function aP(t){const{top:e,right:n,bottom:i,left:a}=t;return[{x:a,y:e},{x:n,y:e},{x:n,y:i},{x:a,y:i}]}function oP(t,e){const{x:n,y:i}=t;let a=!1;for(let c=0,u=e.length-1;c<e.length;u=c++){const f=e[c],d=e[u],h=f.x,m=f.y,g=d.x,b=d.y;m>i!=b>i&&n<(g-h)*(i-m)/(b-m)+h&&(a=!a)}return a}function cP(t){const e=t.slice();return e.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),lP(e)}function lP(t){if(t.length<=1)return t.slice();const e=[];for(let i=0;i<t.length;i++){const a=t[i];for(;e.length>=2;){const c=e[e.length-1],u=e[e.length-2];if((c.x-u.x)*(a.y-u.y)>=(c.y-u.y)*(a.x-u.x))e.pop();else break}e.push(a)}e.pop();const n=[];for(let i=t.length-1;i>=0;i--){const a=t[i];for(;n.length>=2;){const c=n[n.length-1],u=n[n.length-2];if((c.x-u.x)*(a.y-u.y)>=(c.y-u.y)*(a.x-u.x))n.pop();else break}n.push(a)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var uP=H_,F_=V_;const fP=uP,dP=T.forwardRef(({className:t,sideOffset:e=4,...n},i)=>S.jsx(F_,{ref:i,sideOffset:e,className:sn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--radix-tooltip-content-transform-origin)",t),...n}));dP.displayName=F_.displayName;const hP={theme:"dark",setTheme:()=>null},G_=T.createContext(hP);function pP({children:t,defaultTheme:e="dark",...n}){const[i,a]=T.useState(()=>localStorage.getItem("theme")||e);T.useEffect(()=>{const u=window.document.documentElement;u.classList.remove("light","dark"),u.classList.add(i)},[i]);const c={theme:i,setTheme:u=>{localStorage.setItem("theme",u),a(u)}};return S.jsx(G_.Provider,{...n,value:c,children:t})}const mP=()=>{const t=T.useContext(G_);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function yP(){return S.jsxs(u6,{client:h6,children:[S.jsx(pP,{defaultTheme:"dark",children:S.jsxs(fP,{children:[S.jsx(RM,{}),S.jsx(hS,{})]})}),null]})}const gP=wf("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),or=T.forwardRef(({className:t,variant:e,size:n,asChild:i=!1,...a},c)=>{const u=i?x6:"button";return S.jsx(u,{className:sn(gP({variant:e,size:n,className:t})),ref:c,...a})});or.displayName="Button";const bs=T.forwardRef(({className:t,type:e,...n},i)=>S.jsx("input",{type:e,className:sn("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:i,...n}));bs.displayName="Input";const fn=T.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:sn("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));fn.displayName="Card";const An=T.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:sn("flex flex-col space-y-1.5 p-6",t),...e}));An.displayName="CardHeader";const On=T.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:sn("text-2xl font-semibold leading-none tracking-tight",t),...e}));On.displayName="CardTitle";const na=T.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:sn("text-sm text-muted-foreground",t),...e}));na.displayName="CardDescription";const kn=T.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:sn("p-6 pt-0",t),...e}));kn.displayName="CardContent";const vP=T.forwardRef(({className:t,...e},n)=>S.jsx("div",{ref:n,className:sn("flex items-center p-6 pt-0",t),...e}));vP.displayName="CardFooter";function dm(){const{theme:t,setTheme:e}=mP();return S.jsxs(or,{variant:"ghost",size:"icon",onClick:()=>e(t==="light"?"dark":"light"),"data-testid":"button-theme-toggle",children:[S.jsx(zO,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),S.jsx(kO,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),S.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}function bP(t,e,n,i){const c=i?50:0,u=1-e/n,f=Math.floor(u*50);return 100+c+f}function xP(t,e){const n=t.toLowerCase().trim(),i=e.toLowerCase().trim();if(n===i)return!0;const a=n.replace(/[^\w\s]/g,"").replace(/\s+/g," "),c=i.replace(/[^\w\s]/g,"").replace(/\s+/g," ");return!!(a===c||(a.includes(c)||c.includes(a))&&Math.min(a.length,c.length)/Math.max(a.length,c.length)>.6)}function SP(){const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let n=0;n<6;n++)e+=t[Math.floor(Math.random()*t.length)];return e}function _P(t){const e=["from-purple-500 to-pink-500","from-blue-500 to-cyan-500","from-green-500 to-emerald-500","from-orange-500 to-red-500","from-yellow-500 to-amber-500","from-indigo-500 to-purple-500","from-pink-500 to-rose-500","from-teal-500 to-green-500"];let n=0;for(let i=0;i<t.length;i++)n=t.charCodeAt(i)+((n<<5)-n);return e[Math.abs(n)%e.length]}function wP(t){const e=t.trim().split(" ");return e.length>=2?(e[0][0]+e[e.length-1][0]).toUpperCase():t.slice(0,2).toUpperCase()}function EP(){const t=zc(),[e,n]=T.useState(""),[i,a]=T.useState(""),c=d=>{const h=d.trim();return h.length<2?(alert("Name must be at least 2 characters long"),null):h.length>24?(alert("Name must be 24 characters or fewer"),null):/^[\w\s'-]+$/.test(h)?h:(alert("Name can only contain letters, numbers, spaces, apostrophes, and hyphens"),null)},u=()=>{const d=c(i);if(!d)return;const h=SP();localStorage.setItem("playerName",d),typeof window<"u"&&(sessionStorage.setItem("musicshowdown.pendingRole","host"),sessionStorage.setItem("musicshowdown.lastRole","host")),t({to:"/music-showdown/game/$roomCode",params:{roomCode:h}})},f=()=>{const d=c(i);if(d){if(!e.trim()){alert("Please enter a room code");return}if(e.length!==6){alert("Room code must be 6 characters");return}localStorage.setItem("playerName",d),typeof window<"u"&&(sessionStorage.setItem("musicshowdown.pendingRole","peer"),sessionStorage.setItem("musicshowdown.lastRole","peer")),t({to:"/music-showdown/game/$roomCode",params:{roomCode:e.toUpperCase()}})}};return S.jsxs("div",{className:"min-h-screen bg-linear-to-br from-primary via-purple-600 to-blue-600 relative overflow-hidden",children:[S.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0zNiAxOGMzLjMxNCAwIDYgMi42ODYgNiA2cy0yLjY4NiA2LTYgNi02LTIuNjg2LTYtNiAyLjY4Ni02IDYtNnoiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLW9wYWNpdHk9Ii4xIi8+PC9nPjwvc3ZnPg==')] opacity-20"}),S.jsx("div",{className:"absolute top-4 right-4 z-10",children:S.jsx(dm,{})}),S.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-16",children:[S.jsxs("div",{className:"text-center mb-16 pt-8",children:[S.jsx("h1",{className:"text-6xl md:text-7xl font-heading font-bold text-white mb-4 tracking-tight",children:"Music Showdown"}),S.jsx("p",{className:"text-xl md:text-2xl text-white/90 mb-8 font-body",children:"Guess the song, win the game"}),S.jsxs(fn,{className:"max-w-md mx-auto bg-white/95 dark:bg-card/95 backdrop-blur-sm border-2",children:[S.jsxs(An,{children:[S.jsx(On,{className:"text-2xl font-heading",children:"Join the Music"}),S.jsx(na,{children:"Enter your name to get started"})]}),S.jsxs(kn,{className:"space-y-4",children:[S.jsx("div",{children:S.jsx(bs,{placeholder:"Your name",value:i,onChange:d=>a(d.target.value),onKeyDown:d=>d.key==="Enter"&&u(),className:"text-lg py-6","data-testid":"input-player-name"})}),S.jsx(or,{onClick:u,size:"lg",className:"w-full text-lg font-semibold",disabled:!i.trim(),"data-testid":"button-create-room",children:"Create Room"}),S.jsxs("div",{className:"relative",children:[S.jsx("div",{className:"absolute inset-0 flex items-center",children:S.jsx("span",{className:"w-full border-t"})}),S.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:S.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or"})})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx(bs,{placeholder:"Room code",value:e,onChange:d=>n(d.target.value.toUpperCase()),onKeyDown:d=>d.key==="Enter"&&f(),className:"font-mono uppercase text-lg",maxLength:6,"data-testid":"input-room-code"}),S.jsx(or,{onClick:f,variant:"secondary",disabled:!i.trim()||!e.trim(),"data-testid":"button-join-room",children:"Join"})]})]})]})]}),S.jsxs("div",{className:"max-w-5xl mx-auto mb-16",children:[S.jsx("h2",{className:"text-3xl font-heading font-bold text-white text-center mb-8",children:"How to Play"}),S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:HO,title:"1. Create Room",description:"Host creates a room and shares the code with friends"},{icon:WS,title:"2. Pick Songs",description:"Host sets a theme, players search YouTube for matching songs"},{icon:e_,title:"3. Guess Away",description:"Listen to each song and try to guess the title quickly"},{icon:im,title:"4. Win Points",description:"First and fastest correct guesses earn the most points"}].map((d,h)=>S.jsx(fn,{className:"bg-white/90 dark:bg-card/90 backdrop-blur-sm border-2 hover-elevate",children:S.jsxs(An,{className:"text-center",children:[S.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-primary/20 flex items-center justify-center mb-4",children:S.jsx(d.icon,{className:"w-8 h-8 text-primary"})}),S.jsx(On,{className:"text-lg font-heading",children:d.title}),S.jsx(na,{className:"text-sm",children:d.description})]})},h))})]}),S.jsx("div",{className:"max-w-4xl mx-auto",children:S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{title:"Theme-Based Rounds",description:"Host picks creative themes for endless variety"},{title:"YouTube Integration",description:"Search millions of songs directly in the game"},{title:"Competitive Scoring",description:"Speed and accuracy determine the winner"}].map((d,h)=>S.jsx(fn,{className:"bg-white/80 dark:bg-card/80 backdrop-blur-sm text-center",children:S.jsxs(An,{children:[S.jsx(On,{className:"text-lg font-heading",children:d.title}),S.jsx(na,{children:d.description})]})},h))})})]}),S.jsx("a",{href:"https://www.flaticon.com/free-icons/music-note",title:"music note icons",children:"Music note icons created by Freepik - Flaticon"})]})}const CP=wf("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border border-(--badge-outline) shadow-xs"}},defaultVariants:{variant:"default"}});function cc({className:t,variant:e,...n}){return S.jsx("div",{className:sn(CP({variant:e}),t),...n})}function dy(t,[e,n]){return Math.min(n,Math.max(e,t))}var TP=T.createContext(void 0);function K_(t){const e=T.useContext(TP);return t||e||"ltr"}function RP(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var X_=["PageUp","PageDown"],Q_=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Z_={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},uo="Slider",[hm,AP,OP]=wS(uo),[J_]=Rs(uo,[OP]),[MP,Mf]=J_(uo),W_=T.forwardRef((t,e)=>{const{name:n,min:i=0,max:a=100,step:c=1,orientation:u="horizontal",disabled:f=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[i],value:m,onValueChange:g=()=>{},onValueCommit:b=()=>{},inverted:x=!1,form:E,...C}=t,M=T.useRef(new Set),D=T.useRef(0),k=u==="horizontal"?PP:NP,[j=[],F]=OS({prop:m,defaultProp:h,onChange:Se=>{[...M.current][D.current]?.focus(),g(Se)}}),W=T.useRef(j);function Y(Se){const we=UP(j,Se);ve(Se,we)}function X(Se){ve(Se,D.current)}function pe(){const Se=W.current[D.current];j[D.current]!==Se&&b(j)}function ve(Se,we,{commit:Ke}={commit:!1}){const _e=HP(c),Ue=$P(Math.round((Se-i)/c)*c+i,_e),H=dy(Ue,[i,a]);F((se=[])=>{const G=jP(se,H,we);if(BP(G,d*c)){D.current=G.indexOf(H);const De=String(G)!==String(se);return De&&Ke&&b(G),De?G:se}else return se})}return S.jsx(MP,{scope:t.__scopeSlider,name:n,disabled:f,min:i,max:a,valueIndexToChangeRef:D,thumbs:M.current,values:j,orientation:u,form:E,children:S.jsx(hm.Provider,{scope:t.__scopeSlider,children:S.jsx(hm.Slot,{scope:t.__scopeSlider,children:S.jsx(k,{"aria-disabled":f,"data-disabled":f?"":void 0,...C,ref:e,onPointerDown:Ut(C.onPointerDown,()=>{f||(W.current=j)}),min:i,max:a,inverted:x,onSlideStart:f?void 0:Y,onSlideMove:f?void 0:X,onSlideEnd:f?void 0:pe,onHomeKeyDown:()=>!f&&ve(i,0,{commit:!0}),onEndKeyDown:()=>!f&&ve(a,j.length-1,{commit:!0}),onStepKeyDown:({event:Se,direction:we})=>{if(!f){const Ue=X_.includes(Se.key)||Se.shiftKey&&Q_.includes(Se.key)?10:1,H=D.current,se=j[H],G=c*Ue*we;ve(se+G,H,{commit:!0})}}})})})})});W_.displayName=uo;var[ew,tw]=J_(uo,{startEdge:"left",endEdge:"right",size:"width",direction:1}),PP=T.forwardRef((t,e)=>{const{min:n,max:i,dir:a,inverted:c,onSlideStart:u,onSlideMove:f,onSlideEnd:d,onStepKeyDown:h,...m}=t,[g,b]=T.useState(null),x=on(e,k=>b(k)),E=T.useRef(void 0),C=K_(a),M=C==="ltr",D=M&&!c||!M&&c;function N(k){const j=E.current||g.getBoundingClientRect(),F=[0,j.width],Y=hy(F,D?[n,i]:[i,n]);return E.current=j,Y(k-j.left)}return S.jsx(ew,{scope:t.__scopeSlider,startEdge:D?"left":"right",endEdge:D?"right":"left",direction:D?1:-1,size:"width",children:S.jsx(nw,{dir:C,"data-orientation":"horizontal",...m,ref:x,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:k=>{const j=N(k.clientX);u?.(j)},onSlideMove:k=>{const j=N(k.clientX);f?.(j)},onSlideEnd:()=>{E.current=void 0,d?.()},onStepKeyDown:k=>{const F=Z_[D?"from-left":"from-right"].includes(k.key);h?.({event:k,direction:F?-1:1})}})})}),NP=T.forwardRef((t,e)=>{const{min:n,max:i,inverted:a,onSlideStart:c,onSlideMove:u,onSlideEnd:f,onStepKeyDown:d,...h}=t,m=T.useRef(null),g=on(e,m),b=T.useRef(void 0),x=!a;function E(C){const M=b.current||m.current.getBoundingClientRect(),D=[0,M.height],k=hy(D,x?[i,n]:[n,i]);return b.current=M,k(C-M.top)}return S.jsx(ew,{scope:t.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:S.jsx(nw,{"data-orientation":"vertical",...h,ref:g,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:C=>{const M=E(C.clientY);c?.(M)},onSlideMove:C=>{const M=E(C.clientY);u?.(M)},onSlideEnd:()=>{b.current=void 0,f?.()},onStepKeyDown:C=>{const D=Z_[x?"from-bottom":"from-top"].includes(C.key);d?.({event:C,direction:D?-1:1})}})})}),nw=T.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:i,onSlideMove:a,onSlideEnd:c,onHomeKeyDown:u,onEndKeyDown:f,onStepKeyDown:d,...h}=t,m=Mf(uo,n);return S.jsx($t.span,{...h,ref:e,onKeyDown:Ut(t.onKeyDown,g=>{g.key==="Home"?(u(g),g.preventDefault()):g.key==="End"?(f(g),g.preventDefault()):X_.concat(Q_).includes(g.key)&&(d(g),g.preventDefault())}),onPointerDown:Ut(t.onPointerDown,g=>{const b=g.target;b.setPointerCapture(g.pointerId),g.preventDefault(),m.thumbs.has(b)?b.focus():i(g)}),onPointerMove:Ut(t.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&a(g)}),onPointerUp:Ut(t.onPointerUp,g=>{const b=g.target;b.hasPointerCapture(g.pointerId)&&(b.releasePointerCapture(g.pointerId),c(g))})})}),rw="SliderTrack",iw=T.forwardRef((t,e)=>{const{__scopeSlider:n,...i}=t,a=Mf(rw,n);return S.jsx($t.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...i,ref:e})});iw.displayName=rw;var pm="SliderRange",sw=T.forwardRef((t,e)=>{const{__scopeSlider:n,...i}=t,a=Mf(pm,n),c=tw(pm,n),u=T.useRef(null),f=on(e,u),d=a.values.length,h=a.values.map(b=>cw(b,a.min,a.max)),m=d>1?Math.min(...h):0,g=100-Math.max(...h);return S.jsx($t.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...i,ref:f,style:{...t.style,[c.startEdge]:m+"%",[c.endEdge]:g+"%"}})});sw.displayName=pm;var mm="SliderThumb",aw=T.forwardRef((t,e)=>{const n=AP(t.__scopeSlider),[i,a]=T.useState(null),c=on(e,f=>a(f)),u=T.useMemo(()=>i?n().findIndex(f=>f.ref.current===i):-1,[n,i]);return S.jsx(DP,{...t,ref:c,index:u})}),DP=T.forwardRef((t,e)=>{const{__scopeSlider:n,index:i,name:a,...c}=t,u=Mf(mm,n),f=tw(mm,n),[d,h]=T.useState(null),m=on(e,N=>h(N)),g=d?u.form||!!d.closest("form"):!0,b=A_(d),x=u.values[i],E=x===void 0?0:cw(x,u.min,u.max),C=LP(i,u.values.length),M=b?.[f.size],D=M?zP(M,E,f.direction):0;return T.useEffect(()=>{if(d)return u.thumbs.add(d),()=>{u.thumbs.delete(d)}},[d,u.thumbs]),S.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[f.startEdge]:`calc(${E}% + ${D}px)`},children:[S.jsx(hm.ItemSlot,{scope:t.__scopeSlider,children:S.jsx($t.span,{role:"slider","aria-label":t["aria-label"]||C,"aria-valuemin":u.min,"aria-valuenow":x,"aria-valuemax":u.max,"aria-orientation":u.orientation,"data-orientation":u.orientation,"data-disabled":u.disabled?"":void 0,tabIndex:u.disabled?void 0:0,...c,ref:m,style:x===void 0?{display:"none"}:t.style,onFocus:Ut(t.onFocus,()=>{u.valueIndexToChangeRef.current=i})})}),g&&S.jsx(ow,{name:a??(u.name?u.name+(u.values.length>1?"[]":""):void 0),form:u.form,value:x},i)]})});aw.displayName=mm;var kP="RadioBubbleInput",ow=T.forwardRef(({__scopeSlider:t,value:e,...n},i)=>{const a=T.useRef(null),c=on(a,i),u=RP(e);return T.useEffect(()=>{const f=a.current;if(!f)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(u!==e&&m){const g=new Event("input",{bubbles:!0});m.call(f,e),f.dispatchEvent(g)}},[u,e]),S.jsx($t.input,{style:{display:"none"},...n,ref:c,defaultValue:e})});ow.displayName=kP;function jP(t=[],e,n){const i=[...t];return i[n]=e,i.sort((a,c)=>a-c)}function cw(t,e,n){const c=100/(n-e)*(t-e);return dy(c,[0,100])}function LP(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function UP(t,e){if(t.length===1)return 0;const n=t.map(a=>Math.abs(a-e)),i=Math.min(...n);return n.indexOf(i)}function zP(t,e,n){const i=t/2,c=hy([0,50],[0,i]);return(i-c(e)*n)*n}function IP(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function BP(t,e){if(e>0){const n=IP(t);return Math.min(...n)>=e}return!0}function hy(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const i=(e[1]-e[0])/(t[1]-t[0]);return e[0]+i*(n-t[0])}}function HP(t){return(String(t).split(".")[1]||"").length}function $P(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var lw=W_,VP=iw,qP=sw,YP=aw;const Ru=T.forwardRef(({className:t,...e},n)=>S.jsxs(lw,{ref:n,className:sn("relative flex w-full touch-none select-none items-center",t),...e,children:[S.jsx(VP,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:S.jsx(qP,{className:"absolute h-full bg-primary"})}),S.jsx(YP,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Ru.displayName=lw.displayName;var FP="Label",uw=T.forwardRef((t,e)=>S.jsx($t.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));uw.displayName=FP;var fw=uw;const GP=wf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),gs=T.forwardRef(({className:t,...e},n)=>S.jsx(fw,{ref:n,className:sn(GP(),t),...e}));gs.displayName=fw.displayName;var KP=cS();function XP(){return KP.useSyncExternalStore(QP,()=>!0,()=>!1)}function QP(){return()=>{}}var py="Avatar",[ZP]=Rs(py),[JP,dw]=ZP(py),hw=T.forwardRef((t,e)=>{const{__scopeAvatar:n,...i}=t,[a,c]=T.useState("idle");return S.jsx(JP,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:c,children:S.jsx($t.span,{...i,ref:e})})});hw.displayName=py;var pw="AvatarImage",mw=T.forwardRef((t,e)=>{const{__scopeAvatar:n,src:i,onLoadingStatusChange:a=()=>{},...c}=t,u=dw(pw,n),f=WP(i,c),d=Fn(h=>{a(h),u.onImageLoadingStatusChange(h)});return Lr(()=>{f!=="idle"&&d(f)},[f,d]),f==="loaded"?S.jsx($t.img,{...c,ref:e,src:i}):null});mw.displayName=pw;var yw="AvatarFallback",gw=T.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:i,...a}=t,c=dw(yw,n),[u,f]=T.useState(i===void 0);return T.useEffect(()=>{if(i!==void 0){const d=window.setTimeout(()=>f(!0),i);return()=>window.clearTimeout(d)}},[i]),u&&c.imageLoadingStatus!=="loaded"?S.jsx($t.span,{...a,ref:e}):null});gw.displayName=yw;function Lx(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function WP(t,{referrerPolicy:e,crossOrigin:n}){const i=XP(),a=T.useRef(null),c=i?(a.current||(a.current=new window.Image),a.current):null,[u,f]=T.useState(()=>Lx(c,t));return Lr(()=>{f(Lx(c,t))},[c,t]),Lr(()=>{const d=g=>()=>{f(g)};if(!c)return;const h=d("loaded"),m=d("error");return c.addEventListener("load",h),c.addEventListener("error",m),e&&(c.referrerPolicy=e),typeof n=="string"&&(c.crossOrigin=n),()=>{c.removeEventListener("load",h),c.removeEventListener("error",m)}},[c,n,e]),u}var vw=hw,bw=mw,xw=gw;const Sw=T.forwardRef(({className:t,...e},n)=>S.jsx(vw,{ref:n,className:sn(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));Sw.displayName=vw.displayName;const eN=T.forwardRef(({className:t,...e},n)=>S.jsx(bw,{ref:n,className:sn("aspect-square h-full w-full",t),...e}));eN.displayName=bw.displayName;const _w=T.forwardRef(({className:t,...e},n)=>S.jsx(xw,{ref:n,className:sn("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));_w.displayName=xw.displayName;function du({playerId:t,playerName:e,size:n="md"}){const i={sm:"h-8 w-8 text-xs",md:"h-12 w-12 text-sm",lg:"h-16 w-16 text-base"};return S.jsx(Sw,{className:i[n],children:S.jsx(_w,{className:`bg-linear-to-br ${_P(t)} text-white font-semibold`,children:wP(e)})})}var my="Progress",yy=100,[tN]=Rs(my),[nN,rN]=tN(my),ww=T.forwardRef((t,e)=>{const{__scopeProgress:n,value:i=null,max:a,getValueLabel:c=iN,...u}=t;(a||a===0)&&!Ux(a)&&console.error(sN(`${a}`,"Progress"));const f=Ux(a)?a:yy;i!==null&&!zx(i,f)&&console.error(aN(`${i}`,"Progress"));const d=zx(i,f)?i:null,h=Ju(d)?c(d,f):void 0;return S.jsx(nN,{scope:n,value:d,max:f,children:S.jsx($t.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":Ju(d)?d:void 0,"aria-valuetext":h,role:"progressbar","data-state":Tw(d,f),"data-value":d??void 0,"data-max":f,...u,ref:e})})});ww.displayName=my;var Ew="ProgressIndicator",Cw=T.forwardRef((t,e)=>{const{__scopeProgress:n,...i}=t,a=rN(Ew,n);return S.jsx($t.div,{"data-state":Tw(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...i,ref:e})});Cw.displayName=Ew;function iN(t,e){return`${Math.round(t/e*100)}%`}function Tw(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Ju(t){return typeof t=="number"}function Ux(t){return Ju(t)&&!isNaN(t)&&t>0}function zx(t,e){return Ju(t)&&!isNaN(t)&&t<=e&&t>=0}function sN(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${yy}\`.`}function aN(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${yy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Rw=ww,oN=Cw;const Aw=T.forwardRef(({className:t,value:e,...n},i)=>S.jsx(Rw,{ref:i,className:sn("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:S.jsx(oN,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Aw.displayName=Rw.displayName;function Ix({timeRemaining:t,totalTime:e,variant:n="default"}){const i=t/e*100,a=i<25;return S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[S.jsx(JS,{className:`w-4 h-4 ${a?"text-accent animate-pulse":"text-muted-foreground"}`}),S.jsxs("span",{className:a?"text-accent font-bold":"",children:[Math.max(0,Math.ceil(t)),"s"]})]}),S.jsxs("span",{className:"text-xs text-muted-foreground",children:["/ ",e,"s"]})]}),S.jsx(Aw,{value:i,className:`h-2 ${a?"animate-pulse":""}`,"data-testid":"progress-timer"})]})}const cN={BASE_URL:"/music-showdown/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};async function lN(){const t="AIzaSyBo_-vy2fUDR_isXL4llWGOJJImxvsmYbU";return console.log("@@@ import.meta.env",cN),t}let hu=null;async function uN(t){if(hu===null&&(hu=await lN()),!hu)throw console.error("YouTube API key not configured"),new Error("YouTube API key not configured. Please add VITE_YOUTUBE_API_KEY to your environment.");const e=new URLSearchParams({part:"snippet",q:t,type:"video",maxResults:"12",videoEmbeddable:"true",videoCategoryId:"10",key:hu}),n=await fetch(`https://www.googleapis.com/youtube/v3/search?${e.toString()}`);if(!n.ok)throw new Error("Failed to search YouTube");return(await n.json()).items?.map(a=>({id:a.id?.videoId||"",title:a.snippet?.title||"",thumbnail:a.snippet?.thumbnails?.medium?.url||"",channelTitle:a.snippet?.channelTitle||""}))||[]}function fN(t,e){return T.useReducer((n,i)=>e[n][i]??n,t)}var gy="ScrollArea",[Ow]=Rs(gy),[dN,Ur]=Ow(gy),Mw=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:i="hover",dir:a,scrollHideDelay:c=600,...u}=t,[f,d]=T.useState(null),[h,m]=T.useState(null),[g,b]=T.useState(null),[x,E]=T.useState(null),[C,M]=T.useState(null),[D,N]=T.useState(0),[k,j]=T.useState(0),[F,W]=T.useState(!1),[Y,X]=T.useState(!1),pe=on(e,Se=>d(Se)),ve=K_(a);return S.jsx(dN,{scope:n,type:i,dir:ve,scrollHideDelay:c,scrollArea:f,viewport:h,onViewportChange:m,content:g,onContentChange:b,scrollbarX:x,onScrollbarXChange:E,scrollbarXEnabled:F,onScrollbarXEnabledChange:W,scrollbarY:C,onScrollbarYChange:M,scrollbarYEnabled:Y,onScrollbarYEnabledChange:X,onCornerWidthChange:N,onCornerHeightChange:j,children:S.jsx($t.div,{dir:ve,...u,ref:pe,style:{position:"relative","--radix-scroll-area-corner-width":D+"px","--radix-scroll-area-corner-height":k+"px",...t.style}})})});Mw.displayName=gy;var Pw="ScrollAreaViewport",Nw=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:i,nonce:a,...c}=t,u=Ur(Pw,n),f=T.useRef(null),d=on(e,f,u.onViewportChange);return S.jsxs(S.Fragment,{children:[S.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),S.jsx($t.div,{"data-radix-scroll-area-viewport":"",...c,ref:d,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...t.style},children:S.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});Nw.displayName=Pw;var pi="ScrollAreaScrollbar",vy=T.forwardRef((t,e)=>{const{forceMount:n,...i}=t,a=Ur(pi,t.__scopeScrollArea),{onScrollbarXEnabledChange:c,onScrollbarYEnabledChange:u}=a,f=t.orientation==="horizontal";return T.useEffect(()=>(f?c(!0):u(!0),()=>{f?c(!1):u(!1)}),[f,c,u]),a.type==="hover"?S.jsx(hN,{...i,ref:e,forceMount:n}):a.type==="scroll"?S.jsx(pN,{...i,ref:e,forceMount:n}):a.type==="auto"?S.jsx(Dw,{...i,ref:e,forceMount:n}):a.type==="always"?S.jsx(by,{...i,ref:e}):null});vy.displayName=pi;var hN=T.forwardRef((t,e)=>{const{forceMount:n,...i}=t,a=Ur(pi,t.__scopeScrollArea),[c,u]=T.useState(!1);return T.useEffect(()=>{const f=a.scrollArea;let d=0;if(f){const h=()=>{window.clearTimeout(d),u(!0)},m=()=>{d=window.setTimeout(()=>u(!1),a.scrollHideDelay)};return f.addEventListener("pointerenter",h),f.addEventListener("pointerleave",m),()=>{window.clearTimeout(d),f.removeEventListener("pointerenter",h),f.removeEventListener("pointerleave",m)}}},[a.scrollArea,a.scrollHideDelay]),S.jsx(oa,{present:n||c,children:S.jsx(Dw,{"data-state":c?"visible":"hidden",...i,ref:e})})}),pN=T.forwardRef((t,e)=>{const{forceMount:n,...i}=t,a=Ur(pi,t.__scopeScrollArea),c=t.orientation==="horizontal",u=Nf(()=>d("SCROLL_END"),100),[f,d]=fN("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return T.useEffect(()=>{if(f==="idle"){const h=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(h)}},[f,a.scrollHideDelay,d]),T.useEffect(()=>{const h=a.viewport,m=c?"scrollLeft":"scrollTop";if(h){let g=h[m];const b=()=>{const x=h[m];g!==x&&(d("SCROLL"),u()),g=x};return h.addEventListener("scroll",b),()=>h.removeEventListener("scroll",b)}},[a.viewport,c,d,u]),S.jsx(oa,{present:n||f!=="hidden",children:S.jsx(by,{"data-state":f==="hidden"?"hidden":"visible",...i,ref:e,onPointerEnter:Ut(t.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Ut(t.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),Dw=T.forwardRef((t,e)=>{const n=Ur(pi,t.__scopeScrollArea),{forceMount:i,...a}=t,[c,u]=T.useState(!1),f=t.orientation==="horizontal",d=Nf(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,m=n.viewport.offsetHeight<n.viewport.scrollHeight;u(f?h:m)}},10);return ro(n.viewport,d),ro(n.content,d),S.jsx(oa,{present:i||c,children:S.jsx(by,{"data-state":c?"visible":"hidden",...a,ref:e})})}),by=T.forwardRef((t,e)=>{const{orientation:n="vertical",...i}=t,a=Ur(pi,t.__scopeScrollArea),c=T.useRef(null),u=T.useRef(0),[f,d]=T.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=zw(f.viewport,f.content),m={...i,sizes:f,onSizesChange:d,hasThumb:h>0&&h<1,onThumbChange:b=>c.current=b,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:b=>u.current=b};function g(b,x){return xN(b,u.current,f,x)}return n==="horizontal"?S.jsx(mN,{...m,ref:e,onThumbPositionChange:()=>{if(a.viewport&&c.current){const b=a.viewport.scrollLeft,x=Bx(b,f,a.dir);c.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:b=>{a.viewport&&(a.viewport.scrollLeft=b)},onDragScroll:b=>{a.viewport&&(a.viewport.scrollLeft=g(b,a.dir))}}):n==="vertical"?S.jsx(yN,{...m,ref:e,onThumbPositionChange:()=>{if(a.viewport&&c.current){const b=a.viewport.scrollTop,x=Bx(b,f);c.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:b=>{a.viewport&&(a.viewport.scrollTop=b)},onDragScroll:b=>{a.viewport&&(a.viewport.scrollTop=g(b))}}):null}),mN=T.forwardRef((t,e)=>{const{sizes:n,onSizesChange:i,...a}=t,c=Ur(pi,t.__scopeScrollArea),[u,f]=T.useState(),d=T.useRef(null),h=on(e,d,c.onScrollbarXChange);return T.useEffect(()=>{d.current&&f(getComputedStyle(d.current))},[d]),S.jsx(jw,{"data-orientation":"horizontal",...a,ref:h,sizes:n,style:{bottom:0,left:c.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:c.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Pf(n)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.x),onDragScroll:m=>t.onDragScroll(m.x),onWheelScroll:(m,g)=>{if(c.viewport){const b=c.viewport.scrollLeft+m.deltaX;t.onWheelScroll(b),Bw(b,g)&&m.preventDefault()}},onResize:()=>{d.current&&c.viewport&&u&&i({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:ef(u.paddingLeft),paddingEnd:ef(u.paddingRight)}})}})}),yN=T.forwardRef((t,e)=>{const{sizes:n,onSizesChange:i,...a}=t,c=Ur(pi,t.__scopeScrollArea),[u,f]=T.useState(),d=T.useRef(null),h=on(e,d,c.onScrollbarYChange);return T.useEffect(()=>{d.current&&f(getComputedStyle(d.current))},[d]),S.jsx(jw,{"data-orientation":"vertical",...a,ref:h,sizes:n,style:{top:0,right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Pf(n)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.y),onDragScroll:m=>t.onDragScroll(m.y),onWheelScroll:(m,g)=>{if(c.viewport){const b=c.viewport.scrollTop+m.deltaY;t.onWheelScroll(b),Bw(b,g)&&m.preventDefault()}},onResize:()=>{d.current&&c.viewport&&u&&i({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:ef(u.paddingTop),paddingEnd:ef(u.paddingBottom)}})}})}),[gN,kw]=Ow(pi),jw=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:i,hasThumb:a,onThumbChange:c,onThumbPointerUp:u,onThumbPointerDown:f,onThumbPositionChange:d,onDragScroll:h,onWheelScroll:m,onResize:g,...b}=t,x=Ur(pi,n),[E,C]=T.useState(null),M=on(e,pe=>C(pe)),D=T.useRef(null),N=T.useRef(""),k=x.viewport,j=i.content-i.viewport,F=Fn(m),W=Fn(d),Y=Nf(g,10);function X(pe){if(D.current){const ve=pe.clientX-D.current.left,Se=pe.clientY-D.current.top;h({x:ve,y:Se})}}return T.useEffect(()=>{const pe=ve=>{const Se=ve.target;E?.contains(Se)&&F(ve,j)};return document.addEventListener("wheel",pe,{passive:!1}),()=>document.removeEventListener("wheel",pe,{passive:!1})},[k,E,j,F]),T.useEffect(W,[i,W]),ro(E,Y),ro(x.content,Y),S.jsx(gN,{scope:n,scrollbar:E,hasThumb:a,onThumbChange:Fn(c),onThumbPointerUp:Fn(u),onThumbPositionChange:W,onThumbPointerDown:Fn(f),children:S.jsx($t.div,{...b,ref:M,style:{position:"absolute",...b.style},onPointerDown:Ut(t.onPointerDown,pe=>{pe.button===0&&(pe.target.setPointerCapture(pe.pointerId),D.current=E.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),X(pe))}),onPointerMove:Ut(t.onPointerMove,X),onPointerUp:Ut(t.onPointerUp,pe=>{const ve=pe.target;ve.hasPointerCapture(pe.pointerId)&&ve.releasePointerCapture(pe.pointerId),document.body.style.webkitUserSelect=N.current,x.viewport&&(x.viewport.style.scrollBehavior=""),D.current=null})})})}),Wu="ScrollAreaThumb",Lw=T.forwardRef((t,e)=>{const{forceMount:n,...i}=t,a=kw(Wu,t.__scopeScrollArea);return S.jsx(oa,{present:n||a.hasThumb,children:S.jsx(vN,{ref:e,...i})})}),vN=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:i,...a}=t,c=Ur(Wu,n),u=kw(Wu,n),{onThumbPositionChange:f}=u,d=on(e,g=>u.onThumbChange(g)),h=T.useRef(void 0),m=Nf(()=>{h.current&&(h.current(),h.current=void 0)},100);return T.useEffect(()=>{const g=c.viewport;if(g){const b=()=>{if(m(),!h.current){const x=SN(g,f);h.current=x,f()}};return f(),g.addEventListener("scroll",b),()=>g.removeEventListener("scroll",b)}},[c.viewport,m,f]),S.jsx($t.div,{"data-state":u.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:Ut(t.onPointerDownCapture,g=>{const x=g.target.getBoundingClientRect(),E=g.clientX-x.left,C=g.clientY-x.top;u.onThumbPointerDown({x:E,y:C})}),onPointerUp:Ut(t.onPointerUp,u.onThumbPointerUp)})});Lw.displayName=Wu;var xy="ScrollAreaCorner",Uw=T.forwardRef((t,e)=>{const n=Ur(xy,t.__scopeScrollArea),i=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&i?S.jsx(bN,{...t,ref:e}):null});Uw.displayName=xy;var bN=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,...i}=t,a=Ur(xy,n),[c,u]=T.useState(0),[f,d]=T.useState(0),h=!!(c&&f);return ro(a.scrollbarX,()=>{const m=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(m),d(m)}),ro(a.scrollbarY,()=>{const m=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(m),u(m)}),h?S.jsx($t.div,{...i,ref:e,style:{width:c,height:f,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function ef(t){return t?parseInt(t,10):0}function zw(t,e){const n=t/e;return isNaN(n)?0:n}function Pf(t){const e=zw(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=(t.scrollbar.size-n)*e;return Math.max(i,18)}function xN(t,e,n,i="ltr"){const a=Pf(n),c=a/2,u=e||c,f=a-u,d=n.scrollbar.paddingStart+u,h=n.scrollbar.size-n.scrollbar.paddingEnd-f,m=n.content-n.viewport,g=i==="ltr"?[0,m]:[m*-1,0];return Iw([d,h],g)(t)}function Bx(t,e,n="ltr"){const i=Pf(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,c=e.scrollbar.size-a,u=e.content-e.viewport,f=c-i,d=n==="ltr"?[0,u]:[u*-1,0],h=dy(t,d);return Iw([0,u],[0,f])(h)}function Iw(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const i=(e[1]-e[0])/(t[1]-t[0]);return e[0]+i*(n-t[0])}}function Bw(t,e){return t>0&&t<e}var SN=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},i=0;return(function a(){const c={left:t.scrollLeft,top:t.scrollTop},u=n.left!==c.left,f=n.top!==c.top;(u||f)&&e(),n=c,i=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(i)};function Nf(t,e){const n=Fn(t),i=T.useRef(0);return T.useEffect(()=>()=>window.clearTimeout(i.current),[]),T.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(n,e)},[n,e])}function ro(t,e){const n=Fn(e);Lr(()=>{let i=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(n)});return a.observe(t),()=>{window.cancelAnimationFrame(i),a.unobserve(t)}}},[t,n])}var Hw=Mw,_N=Nw,wN=Uw;const $w=T.forwardRef(({className:t,children:e,...n},i)=>S.jsxs(Hw,{ref:i,className:sn("relative overflow-hidden",t),...n,children:[S.jsx(_N,{className:"h-full w-full rounded-[inherit]",children:e}),S.jsx(Vw,{}),S.jsx(wN,{})]}));$w.displayName=Hw.displayName;const Vw=T.forwardRef(({className:t,orientation:e="vertical",...n},i)=>S.jsx(vy,{ref:i,orientation:e,className:sn("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-px",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-px",t),...n,children:S.jsx(Lw,{className:"relative flex-1 rounded-full bg-border"})}));Vw.displayName=vy.displayName;function EN({onSelect:t,selectedVideoId:e}){const[n,i]=T.useState(""),[a,c]=T.useState([]),[u,f]=T.useState(!1),d=async()=>{if(n.trim()){f(!0);try{const h=await uN(n);c(h)}catch(h){console.error("Search failed:",h)}finally{f(!1)}}};return S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex gap-2",children:[S.jsxs("div",{className:"relative flex-1",children:[S.jsx(e_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),S.jsx(bs,{placeholder:"Search for a song...",value:n,onChange:h=>i(h.target.value),onKeyDown:h=>h.key==="Enter"&&d(),className:"pl-10","data-testid":"input-youtube-search"})]}),S.jsx(or,{onClick:d,disabled:u||!n.trim(),"data-testid":"button-search",children:u?S.jsx(PO,{className:"w-4 h-4 animate-spin"}):"Search"})]}),a.length>0&&S.jsx($w,{className:"h-[400px] rounded-lg border p-4",children:S.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(h=>S.jsx(fn,{className:`cursor-pointer hover-elevate transition-all ${e===h.id?"ring-2 ring-primary":""}`,onClick:()=>t(h),"data-testid":`card-video-${h.id}`,children:S.jsxs(kn,{className:"p-3",children:[S.jsx("img",{src:h.thumbnail,alt:h.title,className:"w-full aspect-video object-cover rounded-md mb-2"}),S.jsx("h3",{className:"font-semibold text-sm line-clamp-2 mb-1",children:h.title}),S.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:h.channelTitle})]})},h.id))})})]})}function CN({videoId:t,onReady:e,onEnd:n,autoplay:i=!0,startSeconds:a=0,endSeconds:c,preventPause:u=!1}){const f=T.useRef(null),d=T.useRef(null);return T.useEffect(()=>{if(!window.YT){const m=document.createElement("script");m.src="https://www.youtube.com/iframe_api";const g=document.getElementsByTagName("script")[0];g.parentNode?.insertBefore(m,g)}const h=()=>{f.current&&window.YT&&window.YT.Player&&(d.current=new window.YT.Player(f.current,{videoId:t,playerVars:{autoplay:i?1:0,start:a,end:c,controls:0,disablekb:1,fs:0,modestbranding:1,rel:0},events:{onReady:m=>{i&&m.target.playVideo(),e?.()},onStateChange:m=>{if(u&&m.data===window.YT.PlayerState.PAUSED){m.target.playVideo();return}m.data===window.YT.PlayerState.ENDED&&n?.()}}}))};return window.YT&&window.YT.Player?h():window.onYouTubeIframeAPIReady=h,()=>{d.current&&d.current.destroy()}},[t,i,a,c,e,n,u]),S.jsxs("div",{className:"relative aspect-video w-full bg-black rounded-lg overflow-hidden",children:[S.jsx("div",{ref:f,className:"pointer-events-none w-full h-full","data-testid":"youtube-player"}),S.jsx("div",{className:"pointer-events-none absolute inset-x-0 top-0 h-full bg-linear-to-b from-black/90 to-transparent"})]})}const Oc=8,TN={name:"music-showdown",minPlayers:2,maxPlayers:Oc,moves:{restoreState:({G:t,playerID:e,events:n},i)=>{if(e!=="0")return;let a;try{a=JSON.parse(JSON.stringify(i))}catch{return}a.players[e]&&(a.players[e].connected=!0,a.players[e].isHost=!0),t.phase=a.phase,t.players={...a.players},t.settings={...a.settings},t.currentRound=a.currentRound?{...a.currentRound,songSelections:{...a.currentRound.songSelections},guesses:Object.fromEntries(Object.entries(a.currentRound.guesses).map(([c,u])=>[c,u.map(f=>({...f}))])),roundScores:{...a.currentRound.roundScores},playOrder:[...a.currentRound.playOrder],correctGuessers:{...a.currentRound.correctGuessers},guessLog:a.currentRound.guessLog.map(c=>({...c}))}:null,t.totalRounds=a.totalRounds,t.completedRounds=a.completedRounds,t.timer=a.timer,t.maxPlayers=a.maxPlayers,t.lobbyOrder=[...a.lobbyOrder],n?.setPhase?.(a.phase)}},setup:({ctx:t})=>({phase:"lobby",players:{},settings:{pickTimerDuration:60,playbackDuration:30,totalRounds:3},currentRound:null,totalRounds:3,completedRounds:0,timer:null,maxPlayers:Oc,lobbyOrder:[]}),phases:{lobby:{start:!0,moves:{updateSettings:({G:t,playerID:e},n)=>{t.players[e]?.isHost&&(t.settings={...t.settings,...n},t.totalRounds=n.totalRounds||t.totalRounds)},startGame:({G:t,playerID:e,events:n})=>{t.players[e]?.isHost&&(t.phase="theme_selection",n?.setPhase?.("theme_selection"))},setPlayerName:({G:t,playerID:e},n)=>{if(!e)return;const i=n.trim().slice(0,24);if(!i)return;const a=t.players[e];if(!(!a&&Object.keys(t.players).length>=t.maxPlayers)){if(a){a.name=i,a.connected=!0,t.lobbyOrder=t.lobbyOrder.filter(c=>c!==e),t.lobbyOrder.includes(e)||t.lobbyOrder.push(e);return}t.players[e]={id:e,name:i,score:0,isHost:e==="0",connected:!0},t.lobbyOrder=t.lobbyOrder.filter(c=>c!==e),t.lobbyOrder.includes(e)||t.lobbyOrder.push(e)}}},next:"theme_selection"},theme_selection:{moves:{setTheme:({G:t,playerID:e},n)=>{t.players[e]?.isHost&&(t.currentRound?t.currentRound.theme=n:t.currentRound={roundNumber:t.completedRounds+1,theme:n,songSelections:{},currentSongIndex:0,currentPlayerId:null,guesses:{},roundScores:{},playOrder:[],correctGuessers:{},guessLog:[]})},confirmTheme:({G:t,playerID:e,events:n})=>{!t.players[e]?.isHost||!t.currentRound?.theme||(t.timer=t.settings.pickTimerDuration,t.phase="song_picking",n?.setPhase?.("song_picking"))}},next:"song_picking"},song_picking:{moves:{selectSong:({G:t,playerID:e},n)=>{t.currentRound&&(t.currentRound.songSelections[e]=n)},tickTimer:({G:t,playerID:e})=>{if(t.players[e]?.isHost){if(t.timer===null||t.timer<=0){t.timer!==null&&(t.timer=0);return}t.timer-=1}}},endIf:({G:t})=>{if(!t.currentRound)return!1;const n=Object.values(t.players).filter(i=>i.connected).length;return n===0?!1:Object.keys(t.currentRound.songSelections).length>=n||t.timer!==null&&t.timer<=0},next:"guessing",onEnd:({G:t,ctx:e,events:n})=>{if(!t.currentRound)return;const i=Object.keys(t.currentRound.songSelections),a=e.random,c=a?.Shuffle?a.Shuffle(i):[...i].sort(()=>Math.random()-.5);if(t.currentRound.playOrder=c,t.currentRound.currentSongIndex=0,t.currentRound.guesses={},t.currentRound.correctGuessers={},c.length===0){t.currentRound.currentPlayerId=null,t.timer=null,t.phase="round_results",n?.setPhase?.("round_results");return}t.currentRound.currentPlayerId=c[0],t.timer=t.settings.playbackDuration,t.phase="guessing"}},guessing:{moves:{submitGuess:({G:t,ctx:e,playerID:n},i)=>{if(!t.currentRound||!t.currentRound.currentPlayerId||n===t.currentRound.currentPlayerId)return;const a=t.currentRound.guesses[n]??[];if(a.some(b=>b.isCorrect))return;const u=t.settings.playbackDuration-(t.timer||0),f=t.currentRound.songSelections[t.currentRound.currentPlayerId],d=!!(f&&xP(i,f.customTitle)),h={guess:i,time:u,isCorrect:d};t.currentRound.guesses[n]=[...a,h];const m=e.random,g={id:m?.UUID?m.UUID():`${t.currentRound.roundNumber}-${n}-${Date.now()}`,playerId:n,playerName:t.players[n]?.name??`Player ${n}`,guess:i,time:u,isCorrect:d,songOwnerId:t.currentRound.currentPlayerId,songOwnerName:t.currentRound.currentPlayerId&&t.players[t.currentRound.currentPlayerId]?t.players[t.currentRound.currentPlayerId].name:null,songIndex:t.currentRound.currentSongIndex};if(t.currentRound.guessLog=[...t.currentRound.guessLog,g],d){t.currentRound.correctGuessers[n]=!0;let b=!0;for(const[C,M]of Object.entries(t.currentRound.guesses))if(C!==n){for(const D of M)if(D.isCorrect){D.time<u&&(b=!1);break}if(!b)break}const x=bP(!0,u,t.settings.playbackDuration,b),E=t.players[n];E&&(E.score+=x,t.currentRound.roundScores[n]=(t.currentRound.roundScores[n]||0)+x)}},tickTimer:({G:t,playerID:e})=>{if(t.players[e]?.isHost){if(t.timer===null||t.timer<=0){t.timer!==null&&(t.timer=0);return}t.timer-=1}}},endIf:({G:t})=>{const e=t.currentRound;if(!e)return!1;const n=Object.values(t.players).filter(u=>u.connected),i=Math.max(n.length-1,0),a=Object.values(e.correctGuessers).filter(Boolean).length,c=t.timer!==null&&t.timer<=0;return a>=i||c},onEnd:({G:t,events:e})=>{if(t.currentRound)if(t.currentRound.currentSongIndex++,t.currentRound.currentSongIndex<t.currentRound.playOrder.length){const n=t.currentRound.playOrder[t.currentRound.currentSongIndex];t.currentRound.currentPlayerId=n??null,t.currentRound.guesses={},t.currentRound.correctGuessers={},t.timer=t.settings.playbackDuration,t.phase="guessing"}else t.timer=null,t.phase="round_results",e?.setPhase?.("round_results")}},round_results:{moves:{nextRound:({G:t,playerID:e,events:n})=>{t.players[e]?.isHost&&(t.completedRounds++,t.completedRounds<t.totalRounds?(t.currentRound=null,t.timer=null,t.phase="theme_selection",n?.setPhase?.("theme_selection")):(t.timer=null,t.phase="game_over",n?.setPhase?.("game_over")))}},next:"theme_selection"},game_over:{moves:{endGame:({G:t,events:e})=>{t.phase="lobby",e?.endGame?.()}}}},turn:{activePlayers:{all:"default"}}};function gp(t){return[t]}const RN="musicshowdown.state",qw=t=>`${RN}.${t}`,AN=t=>{if(typeof window>"u")return null;const e=localStorage.getItem(qw(t));if(!e)return null;try{return JSON.parse(e)}catch{return null}},ON=(t,e)=>{typeof window>"u"||localStorage.setItem(qw(t),JSON.stringify(e))};function MN({G:t,ctx:e,moves:n,playerID:i,matchID:a,identity:c,isHost:u,updatePlayerName:f,promoteToHost:d}){const h=zc(),{toast:m}=xS(),g=e.phase??t.phase,b=t.currentRound??null,x=t.settings,E=t.timer,C=E??0,[M,D]=T.useState(c.playerName),[N,k]=T.useState(b?.theme??""),[j,F]=T.useState(null),[W,Y]=T.useState(""),[X,pe]=T.useState(""),[ve,Se]=T.useState(x),[we,Ke]=T.useState(!1),[_e,Ue]=T.useState(C),H=T.useRef(null),se=T.useRef(!1);T.useEffect(()=>{D(c.playerName)},[c.playerName]),T.useEffect(()=>{k(b?.theme??"")},[b?.theme]),T.useEffect(()=>{Se(x)},[x]);const G=i??c.playerID,De=()=>{h({to:"/music-showdown"})},Xe=S.jsxs("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:[S.jsxs(or,{variant:"outline",size:"sm",onClick:De,"data-testid":"button-home",children:[S.jsx(OO,{className:"h-4 w-4"}),S.jsx("span",{className:"ml-2",children:"Home"})]}),S.jsx(dm,{})]});T.useEffect(()=>{if(g!=="lobby")return;const re=G;if(!re)return;const Ge=c.playerName.trim();if(!Ge)return;const Dt=t.players?.[re];(!Dt||Dt.name!==Ge||!Dt.connected)&&n.setPlayerName?.(Ge)},[t.players,c.playerName,n,g,G]),T.useEffect(()=>{g!=="song_picking"&&(F(null),Y("")),g!=="guessing"&&pe("")},[g]),T.useEffect(()=>{if(!u||se.current)return;se.current=!0;const re=AN(a);re&&n.restoreState?.(re)},[u,a,n]),T.useEffect(()=>{if(!u||!se.current||!t.players||Object.keys(t.players).length===0)return;const re=JSON.stringify(t);H.current!==re&&(H.current=re,ON(a,t))},[t,u,a]);const z=Object.values(t.players??{}).map(re=>re).sort((re,Ge)=>re.id.localeCompare(Ge.id)),ie=b?.theme??N,de=b?.roundScores??{},ge=b?.guesses??{},be=b?.correctGuessers??{},Ee=b?.guessLog??[],Re=b?.currentPlayerId??null,Pt=Re?b?.songSelections?.[Re]??null:null,I=G?b?.songSelections?.[G]??null:null,Z=G?ge[G]??[]:[],ue=Z[Z.length-1]??null,Oe=!!(G&&be[G]);T.useEffect(()=>{Ue(C)},[C,g,Re]);const Le=!!(g==="guessing"&&Re&&G&&Re!==G&&!Oe&&(E===null||E>0)),je=t.lobbyOrder??[],Et=t.maxPlayers??Oc,xt=T.useMemo(()=>{const re=z.filter(Ge=>Ge.connected);return re.sort((Ge,Dt)=>{const zt=je.indexOf(Ge.id),It=je.indexOf(Dt.id);return zt===-1&&It===-1?Ge.id.localeCompare(Dt.id):zt===-1?1:It===-1?-1:zt-It}),re},[je,z]);T.useEffect(()=>{if(c.role==="host"||!G||z.find(zt=>zt.isHost&&zt.connected)||!z.find(zt=>zt.id===G)?.connected)return;const Dt=xt[0];!Dt||Dt.id!==G||(d(c.playerName),m({title:"Host reassigned",description:"You are now the host for this room."}))},[xt,G,c.playerName,c.role,z,d,m]);const dn=T.useMemo(()=>{const re=je.map(It=>t.players[It]).filter(It=>!!It),Ge=new Set(re.map(It=>It.id)),Dt=z.filter(It=>!Ge.has(It.id)),zt=[...re,...Dt];return Array.from({length:Et},(It,ur)=>zt[ur]??null)},[t.players,je,Et,z]),Nt=T.useMemo(()=>z.map(re=>({player:re,roundScore:de[re.id]??0})).sort((re,Ge)=>Ge.roundScore-re.roundScore),[z,de]),vt=T.useMemo(()=>[...z].sort((re,Ge)=>Ge.score-re.score),[z]),Ct=xt.length,an=Math.max(Et-Ct,0),En=T.useMemo(()=>[...Ee].sort((re,Ge)=>re.songIndex!==Ge.songIndex?re.songIndex-Ge.songIndex:re.time-Ge.time),[Ee]),ct=T.useMemo(()=>{if(!b)return[];const re=b.currentSongIndex;return re==null?[]:Ee.filter(Ge=>Ge.songIndex===re).sort((Ge,Dt)=>Ge.time-Dt.time)},[Ee,b?.currentSongIndex]),ft=re=>Number.isNaN(re)||!Number.isFinite(re)?"0s":`${Math.max(0,Math.round(re))}s`;T.useEffect(()=>{g==="guessing"&&pe("")},[g,Re]),T.useEffect(()=>{if(!u||g!=="song_picking"&&g!=="guessing"||E===null||E<=0)return;const re=window.setInterval(()=>{n.tickTimer?.()},1e3);return()=>window.clearInterval(re)},[u,g,E,n]);const en=u?ve:x,Cn=()=>{const re=M.trim().slice(0,24);re&&(f(re),g==="lobby"&&n.setPlayerName?.(re))},Er=re=>{k(re),u&&n.setTheme?.(re)},Mn=re=>{F(re),Y(re.title)},qi=()=>{const re=W.trim();!j||!re||(n.selectSong?.({videoId:j.id,originalTitle:j.title,customTitle:re,thumbnail:j.thumbnail}),m({title:"Song selected",description:"Waiting for other players..."}),F(null),Y(""))},mi=()=>{const re=X.trim();!Le||!re||(n.submitGuess?.(re),pe(""),m({title:"Guess submitted",description:"Waiting for results..."}))},Yi=()=>{n.nextRound?.(),k(""),F(null),Y(""),pe("")},As=()=>{n.endGame?.()},Cr=re=>{u&&Se(Ge=>({...Ge,...re}))},hn=re=>{if(!u)return;Se(Dt=>({...Dt,...re}));const Ge=Object.entries(re).filter(([Dt,zt])=>zt!==void 0&&x[Dt]!==zt);Ge.length&&n.updateSettings?.(Object.fromEntries(Ge))},jn=async()=>{try{await navigator.clipboard.writeText(a),Ke(!0),m({title:"Room code copied!",description:"Share it with your friends to join the game"}),setTimeout(()=>Ke(!1),2e3)}catch{m({title:"Unable to copy room code",variant:"destructive"})}},pn=()=>{if(!u){m({title:"Waiting for host",description:"Only the host can start the game"});return}if(Ct<2){m({title:"Need more players",description:"At least 2 players required to start",variant:"destructive"});return}n.startGame?.()},Xr=re=>Ge=>Cr({[re]:Ge[0]}),zr=re=>Ge=>hn({[re]:Ge[0]});if(g==="lobby")return S.jsxs("div",{className:"min-h-screen bg-background",children:[Xe,S.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[S.jsxs("div",{className:"flex flex-col gap-6 mb-8",children:[S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsx("h1",{className:"text-3xl font-heading font-bold",children:"Music Showdown"}),S.jsxs("p",{className:"text-sm text-muted-foreground",children:["Room: ",a]})]}),S.jsx("div",{className:"flex flex-wrap gap-3",children:S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(cc,{variant:"outline",className:"uppercase",children:c.role}),S.jsxs("span",{className:"text-sm text-muted-foreground",children:["You are connected as ",c.playerName,"."]})]})})]}),S.jsxs(fn,{className:"mb-8 border-2",children:[S.jsxs(An,{className:"text-center",children:[S.jsx(On,{className:"text-2xl font-heading mb-2",children:"Room Code"}),S.jsxs("div",{className:"flex items-center justify-center gap-4",children:[S.jsx("code",{className:"text-5xl font-mono font-bold tracking-wider text-primary","data-testid":"text-room-code",children:a}),S.jsx(or,{variant:"ghost",size:"icon",onClick:jn,"data-testid":"button-copy-code",children:we?S.jsx(yO,{className:"w-5 h-5 text-secondary"}):S.jsx(CO,{className:"w-5 h-5"})})]}),S.jsx(na,{children:"Share this code with friends to join"})]}),S.jsxs(kn,{className:"grid gap-4 md:grid-cols-2",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx(gs,{htmlFor:"player-name",children:"Display name"}),S.jsx(bs,{id:"player-name",placeholder:"Your name",value:M,onChange:re=>D(re.target.value),onBlur:Cn,onKeyDown:re=>re.key==="Enter"&&Cn(),"data-testid":"input-player-name"}),S.jsx("p",{className:"text-xs text-muted-foreground",children:"Shared with other players in the lobby."})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx(gs,{children:"Role"}),S.jsx(cc,{variant:"secondary",className:"uppercase",children:c.role})]})]})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[S.jsxs(fn,{children:[S.jsxs(An,{children:[S.jsxs(On,{className:"font-heading",children:["Players (",Ct,"/",Et,")"]}),S.jsx(na,{children:Ct===0?"Waiting for players to join...":`${Ct} connected, ${an} open slot${an===1?"":"s"}`})]}),S.jsx(kn,{children:S.jsx("div",{className:"space-y-3",children:dn.map((re,Ge)=>S.jsx("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50","data-testid":re?`player-card-${re.id}`:`player-card-empty-${Ge}`,children:re?S.jsxs(S.Fragment,{children:[S.jsx(du,{playerId:re.id,playerName:re.name}),S.jsxs("div",{className:"flex-1",children:[S.jsx("div",{className:"font-semibold",children:re.name}),!re.connected&&S.jsx("div",{className:"text-xs text-muted-foreground",children:"Not connected"})]}),S.jsx("div",{className:"flex items-center gap-2",children:re.isHost&&S.jsxs(cc,{variant:"default",className:"gap-1","data-testid":"badge-host",children:[S.jsx(RO,{className:"w-3 h-3"}),"Host"]})})]}):S.jsx("div",{className:"flex items-center gap-3 w-full justify-between",children:S.jsxs("div",{className:"flex gap-3 items-center",children:[S.jsx("div",{className:"w-8 h-8 rounded-full bg-muted"}),S.jsxs("span",{className:"text-sm text-muted-foreground",children:["Waiting for player ",Ge+1]})]})})},re?re.id:`empty-${Ge}`))})})]}),S.jsxs(fn,{children:[S.jsx(An,{children:S.jsx(On,{className:"font-heading",children:"Game Settings"})}),S.jsx(kn,{children:S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx(gs,{children:"Number of rounds"}),S.jsx(Ru,{min:1,max:10,step:1,value:gp(en.totalRounds),onValueChange:Xr("totalRounds"),onValueCommit:zr("totalRounds"),disabled:!u})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx(gs,{children:"Pick timer duration (seconds)"}),S.jsx(Ru,{min:30,max:300,step:30,value:gp(en.pickTimerDuration),onValueChange:Xr("pickTimerDuration"),onValueCommit:zr("pickTimerDuration"),disabled:!u})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx(gs,{children:"Playback duration (seconds)"}),S.jsx(Ru,{min:30,max:300,step:30,value:gp(en.playbackDuration),onValueChange:Xr("playbackDuration"),onValueCommit:zr("playbackDuration"),disabled:!u})]})]})})]})]}),S.jsx(or,{onClick:pn,className:"w-full",size:"lg","data-testid":"button-start-game",disabled:!u||Ct<2,children:"Start Game"})]})]});if(g==="theme_selection")return S.jsxs("div",{className:"min-h-screen bg-background",children:[Xe,S.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-3xl",children:[S.jsxs(fn,{className:"mb-6",children:[S.jsxs(An,{children:[S.jsx(On,{className:"font-heading text-2xl",children:"Set the Theme"}),S.jsx(na,{children:"Waiting on the host to set the theme for this round."})]}),S.jsxs(kn,{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx(gs,{htmlFor:"theme",children:"Theme for this round"}),S.jsx(bs,{id:"theme",placeholder:"e.g., 80s Rock, Movie Soundtracks, Summer Vibes...",value:ie,onChange:re=>Er(re.target.value),className:"text-lg mt-2","data-testid":"input-theme",disabled:!u})]}),u?S.jsx(or,{onClick:()=>n.confirmTheme?.(),disabled:!ie.trim(),className:"w-full","data-testid":"button-confirm-theme",children:"Confirm Theme"}):S.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-waiting-theme",children:"Waiting for the host to confirm the theme..."})]})]}),b&&S.jsxs(fn,{children:[S.jsx(An,{children:S.jsxs(On,{className:"font-heading text-lg flex items-center gap-2",children:[S.jsx(bx,{className:"h-4 w-4"})," Guess Log"]})}),S.jsx(kn,{className:"space-y-3",children:En.length===0?S.jsx("p",{className:"text-sm text-muted-foreground",children:"No guesses recorded this round."}):En.map(re=>S.jsxs("div",{className:"space-y-1",children:[S.jsxs("div",{className:"flex items-center justify-between gap-3",children:[S.jsxs("div",{className:"text-sm font-medium",children:[re.playerName,re.isCorrect&&S.jsx(cc,{className:"ml-2",children:"Correct"})]}),S.jsxs("span",{className:"text-xs text-muted-foreground",children:["Song ",re.songIndex+1," • ",ft(re.time)]})]}),S.jsxs("div",{className:"text-sm text-muted-foreground",children:['"',re.guess,'"']}),re.songOwnerName&&S.jsxs("div",{className:"text-xs text-muted-foreground",children:["Selected by ",re.songOwnerName]})]},re.id))})]})]})]});if(g==="song_picking")return S.jsxs("div",{className:"min-h-screen bg-background",children:[Xe,S.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:S.jsxs("div",{className:"space-y-6",children:[S.jsx(fn,{className:"bg-primary/10 border-primary",children:S.jsx(An,{children:S.jsxs("div",{className:"flex items-center justify-between gap-4",children:[S.jsxs("div",{children:[S.jsx(On,{className:"font-heading text-2xl mb-1",children:"Pick Your Song"}),S.jsxs("p",{className:"text-sm text-muted-foreground",children:["Theme:"," ",S.jsx("span",{className:"font-semibold text-foreground",children:b?.theme??"Pending"})]})]}),S.jsx(Ix,{timeRemaining:C,totalTime:x.pickTimerDuration})]})})}),!I&&S.jsxs(fn,{children:[S.jsx(An,{children:S.jsx(On,{className:"font-heading",children:"Search YouTube"})}),S.jsx(kn,{children:S.jsx(EN,{onSelect:Mn,selectedVideoId:j?.id})})]}),j&&!I&&S.jsxs(fn,{children:[S.jsx(An,{children:S.jsx(On,{className:"font-heading",children:"Your Selection"})}),S.jsx(kn,{className:"space-y-4",children:S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.jsx("img",{src:j.thumbnail,alt:j.title,className:"w-full aspect-video object-cover rounded-lg"}),S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{children:[S.jsx(gs,{htmlFor:"song-title",children:"Song title to guess"}),S.jsx(bs,{id:"song-title",value:W,onChange:re=>Y(re.target.value),className:"mt-2",placeholder:"Edit the title if needed...","data-testid":"input-song-title"}),S.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This is what other players will try to guess"})]}),S.jsx(or,{onClick:qi,className:"w-full",disabled:!W.trim(),"data-testid":"button-confirm-song",children:"Confirm Selection"})]})]})})]}),I&&S.jsxs(fn,{children:[S.jsx(An,{children:S.jsx(On,{className:"font-heading",children:"You are all set!"})}),S.jsx(kn,{children:S.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-waiting-selection",children:"Waiting for other players to finish picking."})})]})]})})]});const Qr=!!(G&&Re===G),Zr=Qr?"You selected this song.":Oe?"Correct! Waiting for next song...":"Type your guess...";return g==="guessing"&&Pt?S.jsxs("div",{className:"min-h-screen bg-background",children:[Xe,S.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl space-y-6",children:[S.jsx(fn,{className:"bg-accent/10 border-accent",children:S.jsx(An,{children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{children:[S.jsx(On,{className:"font-heading text-2xl",children:"Guess the Song!"}),S.jsxs("p",{className:"text-sm text-muted-foreground",children:[z.find(re=>re.id===Re)?.name??"Mystery player","'s selection"]})]}),S.jsx(Ix,{timeRemaining:C,totalTime:x.playbackDuration,variant:"accent"})]})})}),S.jsx(fn,{children:S.jsx(kn,{className:"pt-6",children:S.jsx(CN,{videoId:Pt.videoId,autoplay:!0,preventPause:!0})})}),S.jsxs(fn,{children:[S.jsx(An,{children:S.jsx(On,{className:"font-heading",children:"Your Guess"})}),S.jsxs(kn,{className:"space-y-4",children:[S.jsxs("div",{className:"flex gap-2",children:[S.jsx(bs,{placeholder:Zr,value:X,onChange:re=>pe(re.target.value),onKeyDown:re=>re.key==="Enter"&&mi(),className:"text-lg","data-testid":"input-guess",disabled:!Le}),S.jsx(or,{onClick:mi,disabled:!Le||!X.trim(),"data-testid":"button-submit-guess",children:"Submit"})]}),!Le&&Qr&&S.jsx("p",{className:"text-sm text-muted-foreground",children:"You can't guess your own song."}),!Le&&Oe&&S.jsx("p",{className:"text-sm text-muted-foreground",children:"Great job! You'll rejoin next round."}),ue&&!Oe&&S.jsxs("p",{className:"text-xs text-muted-foreground",children:['Last guess: "',ue.guess,'" (',Math.max(0,Math.ceil(ue.time)),"s)"]})]})]}),S.jsxs(fn,{children:[S.jsx(An,{children:S.jsx(On,{className:"font-heading text-lg",children:"Player Status"})}),S.jsx(kn,{children:S.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:z.map(re=>{const Ge=ge[re.id]??[],Dt=Ge.length>0,zt=re.id===Re,It=!!be[re.id],ur=Ge[Ge.length-1];return S.jsxs("div",{className:"flex flex-col items-center gap-2 p-3 rounded-lg bg-muted/50","data-testid":`player-status-${re.id}`,children:[S.jsx(du,{playerId:re.id,playerName:re.name,size:"sm"}),S.jsx("div",{className:"text-xs font-medium text-center",children:re.name}),zt?S.jsx(WS,{className:"w-4 h-4 text-primary"}):It?S.jsx(xO,{className:"w-4 h-4 text-secondary"}):Dt?S.jsx(JS,{className:"w-4 h-4 text-muted-foreground"}):S.jsx(_O,{className:"w-4 h-4 text-muted-foreground"}),!zt&&S.jsxs("div",{className:"text-[10px] text-muted-foreground text-center",children:[It?"Correct":Dt?"Guessing":"Waiting",ur&&!It?` (${ur.guess})`:""]})]},re.id)})})})]}),S.jsxs(fn,{children:[S.jsx(An,{children:S.jsxs(On,{className:"font-heading text-lg flex items-center gap-2",children:[S.jsx(bx,{className:"h-4 w-4"})," Guess Log"]})}),S.jsx(kn,{className:"space-y-3",children:ct.length===0?S.jsx("p",{className:"text-sm text-muted-foreground",children:"No guesses yet for this song."}):ct.map(re=>S.jsxs("div",{className:"space-y-1",children:[S.jsxs("div",{className:"flex items-center justify-between gap-3",children:[S.jsxs("div",{className:"text-sm font-medium",children:[re.playerName,re.isCorrect&&S.jsx(cc,{className:"ml-2",children:"Correct"})]}),S.jsx("span",{className:"text-xs text-muted-foreground",children:ft(re.time)})]}),S.jsxs("div",{className:"text-sm text-muted-foreground",children:['"',re.guess,'"']})]},re.id))})]})]})]}):g==="round_results"&&b?S.jsxs("div",{className:"min-h-screen bg-background",children:[Xe,S.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl space-y-6",children:S.jsxs(fn,{children:[S.jsx(An,{children:S.jsx(On,{className:"font-heading text-2xl text-center",children:"Round Complete!"})}),S.jsxs(kn,{className:"space-y-6",children:[S.jsxs("div",{className:"text-center space-y-4",children:[S.jsx(im,{className:"w-16 h-16 text-primary mx-auto"}),S.jsx("h2",{className:"text-xl font-semibold",children:Nt[0]?.player?`${Nt[0]?.player.name} won this round!`:"Round complete"}),Nt[0]&&S.jsxs("p",{className:"text-sm text-muted-foreground",children:["Earned ",Nt[0].roundScore," points this round"]})]}),S.jsx("div",{className:"space-y-3",children:Nt.map(({player:re,roundScore:Ge},Dt)=>S.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-muted/50","data-testid":`result-player-${re.id}`,children:[S.jsxs("div",{className:"text-2xl font-bold text-muted-foreground w-8",children:["#",Dt+1]}),S.jsx(du,{playerId:re.id,playerName:re.name}),S.jsxs("div",{className:"flex-1",children:[S.jsx("div",{className:"font-semibold",children:re.name}),S.jsxs("div",{className:"text-sm text-muted-foreground",children:[Ge," points this round"]})]}),S.jsx("div",{className:"text-2xl font-bold text-primary",children:re.score})]},re.id))}),S.jsx(or,{onClick:Yi,className:"w-full",size:"lg","data-testid":"button-next-round",disabled:!u,children:t.completedRounds+1<x.totalRounds?"Next Round":"View Final Scores"})]})]})})]}):g==="game_over"?S.jsxs("div",{className:"min-h-screen bg-background",children:[Xe,S.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl space-y-6",children:S.jsxs(fn,{children:[S.jsx(An,{children:S.jsx(On,{className:"font-heading text-3xl text-center",children:"Game Over!"})}),S.jsxs(kn,{className:"space-y-8",children:[S.jsxs("div",{className:"text-center space-y-4",children:[S.jsx(im,{className:"w-24 h-24 text-primary mx-auto"}),S.jsx("h2",{className:"text-2xl font-bold",children:vt[0]?`${vt[0].name} Wins!`:"Thanks for playing!"}),S.jsx("p",{className:"text-muted-foreground",children:"Final standings"})]}),S.jsx("div",{className:"space-y-3",children:vt.map((re,Ge)=>S.jsxs("div",{className:`flex items-center gap-4 p-6 rounded-lg ${Ge===0?"bg-primary/20 border-2 border-primary":Ge===1?"bg-secondary/20 border-2 border-secondary":"bg-muted/50"}`,"data-testid":`final-player-${re.id}`,children:[S.jsx("div",{className:"text-3xl font-bold w-12",children:Ge===0?"🥇":Ge===1?"🥈":Ge===2?"🥉":`#${Ge+1}`}),S.jsx(du,{playerId:re.id,playerName:re.name,size:"lg"}),S.jsx("div",{className:"flex-1",children:S.jsx("div",{className:"text-xl font-bold",children:re.name})}),S.jsx("div",{className:"text-3xl font-bold text-primary",children:re.score})]},re.id))}),S.jsxs("div",{className:"flex gap-4",children:[S.jsx(or,{variant:"outline",className:"flex-1","data-testid":"button-new-game",onClick:Yi,disabled:!u,children:"Restart Lobby"}),S.jsx(or,{className:"flex-1","data-testid":"button-back-home",onClick:As,disabled:!u,children:"End Session"})]})]})]})})]}):S.jsxs("div",{className:"min-h-screen bg-background flex items-center justify-center",children:[S.jsx(dm,{}),S.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}function PN(){return S.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:S.jsx(fn,{className:"w-full max-w-md mx-4",children:S.jsxs(kn,{className:"pt-6",children:[S.jsxs("div",{className:"flex mb-4 gap-2",children:[S.jsx(vO,{className:"h-8 w-8 text-red-500"}),S.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),S.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}let NN="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",DN=(t=21)=>{let e="",n=t|0;for(;n--;)e+=NN[Math.random()*64|0];return e};function Yr(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(a){return"'"+a+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function io(t){return!!t&&!!t[Sr]}function aa(t){var e;return!!t&&((function(n){if(!n||typeof n!="object")return!1;var i=Object.getPrototypeOf(n);if(i===null)return!0;var a=Object.hasOwnProperty.call(i,"constructor")&&i.constructor;return a===Object||typeof a=="function"&&Function.toString.call(a)===HN})(t)||Array.isArray(t)||!!t[Kx]||!!(!((e=t.constructor)===null||e===void 0)&&e[Kx])||Sy(t)||_y(t))}function Mc(t,e,n){n===void 0&&(n=!1),fo(t)===0?(n?Object.keys:Ry)(t).forEach((function(i){n&&typeof i=="symbol"||e(i,t[i],t)})):t.forEach((function(i,a){return e(a,i,t)}))}function fo(t){var e=t[Sr];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Sy(t)?2:_y(t)?3:0}function ym(t,e){return fo(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function kN(t,e){return fo(t)===2?t.get(e):t[e]}function Yw(t,e,n){var i=fo(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function jN(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Sy(t){return IN&&t instanceof Map}function _y(t){return BN&&t instanceof Set}function Zs(t){return t.o||t.t}function wy(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=$N(t);delete e[Sr];for(var n=Ry(e),i=0;i<n.length;i++){var a=n[i],c=e[a];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(e[a]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[a]})}return Object.create(Object.getPrototypeOf(t),e)}function Ey(t,e){return e===void 0&&(e=!1),Cy(t)||io(t)||!aa(t)||(fo(t)>1&&(t.set=t.add=t.clear=t.delete=LN),Object.freeze(t),e&&Mc(t,(function(n,i){return Ey(i,!0)}),!0)),t}function LN(){Yr(2)}function Cy(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function ci(t){var e=VN[t];return e||Yr(18,t),e}function Hx(){return Pc}function vp(t,e){e&&(ci("Patches"),t.u=[],t.s=[],t.v=e)}function tf(t){gm(t),t.p.forEach(UN),t.p=null}function gm(t){t===Pc&&(Pc=t.l)}function $x(t){return Pc={p:[],l:Pc,h:t,m:!0,_:0}}function UN(t){var e=t[Sr];e.i===0||e.i===1?e.j():e.g=!0}function bp(t,e){e._=e.p.length;var n=e.p[0],i=t!==void 0&&t!==n;return e.h.O||ci("ES5").S(e,t,i),i?(n[Sr].P&&(tf(e),Yr(4)),aa(t)&&(t=nf(e,t),e.l||rf(e,t)),e.u&&ci("Patches").M(n[Sr].t,t,e.u,e.s)):t=nf(e,n,[]),tf(e),e.u&&e.v(e.u,e.s),t!==Fw?t:void 0}function nf(t,e,n){if(Cy(e))return e;var i=e[Sr];if(!i)return Mc(e,(function(f,d){return Vx(t,i,e,f,d,n)}),!0),e;if(i.A!==t)return e;if(!i.P)return rf(t,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var a=i.i===4||i.i===5?i.o=wy(i.k):i.o,c=a,u=!1;i.i===3&&(c=new Set(a),a.clear(),u=!0),Mc(c,(function(f,d){return Vx(t,i,a,f,d,n,u)})),rf(t,a,!1),n&&t.u&&ci("Patches").N(i,n,t.u,t.s)}return i.o}function Vx(t,e,n,i,a,c,u){if(io(a)){var f=nf(t,a,c&&e&&e.i!==3&&!ym(e.R,i)?c.concat(i):void 0);if(Yw(n,i,f),!io(f))return;t.m=!1}else u&&n.add(a);if(aa(a)&&!Cy(a)){if(!t.h.D&&t._<1)return;nf(t,a),e&&e.A.l||rf(t,a)}}function rf(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&Ey(e,n)}function xp(t,e){var n=t[Sr];return(n?Zs(n):t)[e]}function qx(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=Object.getPrototypeOf(n)}}function vm(t){t.P||(t.P=!0,t.l&&vm(t.l))}function Sp(t){t.o||(t.o=wy(t.t))}function bm(t,e,n){var i=Sy(e)?ci("MapSet").F(e,n):_y(e)?ci("MapSet").T(e,n):t.O?(function(a,c){var u=Array.isArray(a),f={i:u?1:0,A:c?c.A:Hx(),P:!1,I:!1,R:{},l:c,t:a,k:null,o:null,j:null,C:!1},d=f,h=xm;u&&(d=[f],h=yc);var m=Proxy.revocable(d,h),g=m.revoke,b=m.proxy;return f.k=b,f.j=g,b})(e,n):ci("ES5").J(e,n);return(n?n.A:Hx()).p.push(i),i}function zN(t){return io(t)||Yr(22,t),(function e(n){if(!aa(n))return n;var i,a=n[Sr],c=fo(n);if(a){if(!a.P&&(a.i<4||!ci("ES5").K(a)))return a.t;a.I=!0,i=Yx(n,c),a.I=!1}else i=Yx(n,c);return Mc(i,(function(u,f){a&&kN(a.t,u)===f||Yw(i,u,e(f))})),c===3?new Set(i):i})(t)}function Yx(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return wy(t)}var Fx,Pc,Ty=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",IN=typeof Map<"u",BN=typeof Set<"u",Gx=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Fw=Ty?Symbol.for("immer-nothing"):((Fx={})["immer-nothing"]=!0,Fx),Kx=Ty?Symbol.for("immer-draftable"):"__$immer_draftable",Sr=Ty?Symbol.for("immer-state"):"__$immer_state",HN=""+Object.prototype.constructor,Ry=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,$N=Object.getOwnPropertyDescriptors||function(t){var e={};return Ry(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},VN={},xm={get:function(t,e){if(e===Sr)return t;var n=Zs(t);if(!ym(n,e))return(function(a,c,u){var f,d=qx(c,u);return d?"value"in d?d.value:(f=d.get)===null||f===void 0?void 0:f.call(a.k):void 0})(t,n,e);var i=n[e];return t.I||!aa(i)?i:i===xp(t.t,e)?(Sp(t),t.o[e]=bm(t.A.h,i,t)):i},has:function(t,e){return e in Zs(t)},ownKeys:function(t){return Reflect.ownKeys(Zs(t))},set:function(t,e,n){var i=qx(Zs(t),e);if(i?.set)return i.set.call(t.k,n),!0;if(!t.P){var a=xp(Zs(t),e),c=a?.[Sr];if(c&&c.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(jN(n,a)&&(n!==void 0||ym(t.t,e)))return!0;Sp(t),vm(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return xp(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Sp(t),vm(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Zs(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty:function(){Yr(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Yr(12)}},yc={};Mc(xm,(function(t,e){yc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),yc.deleteProperty=function(t,e){return yc.set.call(this,t,e,void 0)},yc.set=function(t,e,n){return xm.set.call(this,t[0],e,n,t[0])};var qN=(function(){function t(n){var i=this;this.O=Gx,this.D=!0,this.produce=function(a,c,u){if(typeof a=="function"&&typeof c!="function"){var f=c;c=a;var d=i;return function(C){var M=this;C===void 0&&(C=f);for(var D=arguments.length,N=Array(D>1?D-1:0),k=1;k<D;k++)N[k-1]=arguments[k];return d.produce(C,(function(j){var F;return(F=c).call.apply(F,[M,j].concat(N))}))}}var h;if(typeof c!="function"&&Yr(6),u!==void 0&&typeof u!="function"&&Yr(7),aa(a)){var m=$x(i),g=bm(i,a,void 0),b=!0;try{h=c(g),b=!1}finally{b?tf(m):gm(m)}return typeof Promise<"u"&&h instanceof Promise?h.then((function(C){return vp(m,u),bp(C,m)}),(function(C){throw tf(m),C})):(vp(m,u),bp(h,m))}if(!a||typeof a!="object"){if((h=c(a))===void 0&&(h=a),h===Fw&&(h=void 0),i.D&&Ey(h,!0),u){var x=[],E=[];ci("Patches").M(a,h,x,E),u(x,E)}return h}Yr(21,a)},this.produceWithPatches=function(a,c){if(typeof a=="function")return function(h){for(var m=arguments.length,g=Array(m>1?m-1:0),b=1;b<m;b++)g[b-1]=arguments[b];return i.produceWithPatches(h,(function(x){return a.apply(void 0,[x].concat(g))}))};var u,f,d=i.produce(a,c,(function(h,m){u=h,f=m}));return typeof Promise<"u"&&d instanceof Promise?d.then((function(h){return[h,u,f]})):[d,u,f]},typeof n?.useProxies=="boolean"&&this.setUseProxies(n.useProxies),typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){aa(n)||Yr(8),io(n)&&(n=zN(n));var i=$x(this),a=bm(this,n,void 0);return a[Sr].C=!0,gm(i),a},e.finishDraft=function(n,i){var a=n&&n[Sr],c=a.A;return vp(c,i),bp(void 0,c)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!Gx&&Yr(20),this.O=n},e.applyPatches=function(n,i){var a;for(a=i.length-1;a>=0;a--){var c=i[a];if(c.path.length===0&&c.op==="replace"){n=c.value;break}}a>-1&&(i=i.slice(a+1));var u=ci("Patches").$;return io(n)?u(n,i):this.produce(n,(function(f){return u(f,i)}))},t})(),_r=new qN,YN=_r.produce;_r.produceWithPatches.bind(_r);_r.setAutoFreeze.bind(_r);_r.setUseProxies.bind(_r);_r.applyPatches.bind(_r);_r.createDraft.bind(_r);_r.finishDraft.bind(_r);class FN{constructor(e){const n=GN();this.c=1,this.s0=n(" "),this.s1=n(" "),this.s2=n(" "),this.s0-=n(e),this.s0<0&&(this.s0+=1),this.s1-=n(e),this.s1<0&&(this.s1+=1),this.s2-=n(e),this.s2<0&&(this.s2+=1)}next(){const e=2091639*this.s0+this.c*23283064365386963e-26;return this.s0=this.s1,this.s1=this.s2,this.s2=e-(this.c=Math.trunc(e))}}function GN(){let t=4022871197;return function(n){const i=n.toString();for(let a=0;a<i.length;a++){t+=i.charCodeAt(a);let c=.02519603282416938*t;t=c>>>0,c-=t,c*=t,t=c>>>0,c-=t,t+=c*4294967296}return(t>>>0)*23283064365386963e-26}}function Xx(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function Gw(t,e){const n=new FN(t),i=n.next.bind(n);return e&&Xx(e,n),i.state=()=>Xx(n,{}),i}class Qx{constructor(e){this.state=e||{seed:"0"},this.used=!1}static seed(){return Date.now().toString(36).slice(-10)}isUsed(){return this.used}getState(){return this.state}_random(){this.used=!0;const e=this.state,n=e.prngstate?"":e.seed,i=Gw(n,e.prngstate),a=i();return this.state={...e,prngstate:i.state()},a}api(){const e=this._random.bind(this),n={D4:4,D6:6,D8:8,D10:10,D12:12,D20:20},i={};for(const c in n){const u=n[c];i[c]=f=>f===void 0?Math.floor(e()*u)+1:Array.from({length:f}).map(()=>Math.floor(e()*u)+1)}function a(c=6,u){return u===void 0?Math.floor(e()*c)+1:Array.from({length:u}).map(()=>Math.floor(e()*c)+1)}return{...i,Die:a,Number:()=>e(),Shuffle:c=>{const u=[...c];let f=c.length,d=0;const h=Array.from({length:f});for(;f;){const m=Math.trunc(f*e());h[d++]=u[m],u[m]=u[--f]}return h},_private:this}}}const KN={name:"random",noClient:({api:t})=>t._private.isUsed(),flush:({api:t})=>t._private.getState(),api:({data:t})=>new Qx(t).api(),setup:({game:t})=>{let{seed:e}=t;return e===void 0&&(e=Qx.seed()),{seed:e}},playerView:()=>{}};var _p,Zx;function XN(){if(Zx)return _p;Zx=1;var t="[object Object]";function e(b){var x=!1;if(b!=null&&typeof b.toString!="function")try{x=!!(b+"")}catch{}return x}function n(b,x){return function(E){return b(x(E))}}var i=Function.prototype,a=Object.prototype,c=i.toString,u=a.hasOwnProperty,f=c.call(Object),d=a.toString,h=n(Object.getPrototypeOf,Object);function m(b){return!!b&&typeof b=="object"}function g(b){if(!m(b)||d.call(b)!=t||e(b))return!1;var x=h(b);if(x===null)return!0;var E=u.call(x,"constructor")&&x.constructor;return typeof E=="function"&&E instanceof E&&c.call(E)==f}return _p=g,_p}XN();const Nc="MAKE_MOVE",Df="GAME_EVENT",kf="REDO",Ay="RESET",Oy="SYNC",jf="UNDO",My="UPDATE",Py="PATCH",Kw="PLUGIN",Lf="STRIP_TRANSIENTS",Xw=(t,e,n,i)=>({type:Nc,payload:{type:t,args:e,playerID:n,credentials:i}}),wc=(t,e,n,i)=>({type:Df,payload:{type:t,args:e,playerID:n,credentials:i}}),Qw=(t,e,n,i)=>({type:Df,payload:{type:t,args:e,playerID:n,credentials:i},automatic:!0}),Zw=t=>({type:Oy,state:t.state,log:t.log,initialState:t.initialState,clientOnly:!0}),Jw=(t,e,n,i)=>({type:Py,prevStateID:t,stateID:e,patch:n,deltalog:i,clientOnly:!0}),Ww=(t,e)=>({type:My,state:t,deltalog:e,clientOnly:!0}),eE=t=>({type:Ay,state:t,clientOnly:!0}),tE=(t,e)=>({type:jf,payload:{type:null,args:null,playerID:t,credentials:e}}),nE=(t,e)=>({type:kf,payload:{type:null,args:null,playerID:t,credentials:e}}),QN=(t,e,n,i)=>({type:Kw,payload:{type:t,args:e,playerID:n,credentials:i}}),rE=()=>({type:Lf});var ZN=Object.freeze({__proto__:null,makeMove:Xw,gameEvent:wc,automaticGameEvent:Qw,sync:Zw,patch:Jw,update:Ww,reset:eE,undo:tE,redo:nE,plugin:QN,stripTransients:rE});const Sm="INVALID_MOVE",JN={name:"plugin-immer",fnWrap:t=>(e,...n)=>{let i=!1;const a=YN(e.G,c=>{const u=t({...e,G:c},...n);if(u===Sm){i=!0;return}return u});return i?Sm:a}};var Yn;(function(t){t.MOVE="MOVE",t.GAME_ON_END="GAME_ON_END",t.PHASE_ON_BEGIN="PHASE_ON_BEGIN",t.PHASE_ON_END="PHASE_ON_END",t.TURN_ON_BEGIN="TURN_ON_BEGIN",t.TURN_ON_MOVE="TURN_ON_MOVE",t.TURN_ON_END="TURN_ON_END"})(Yn||(Yn={}));var Li;(function(t){t.CalledOutsideHook="Events must be called from moves or the `onBegin`, `onEnd`, and `onMove` hooks.\nThis error probably means you called an event from other game code, like an `endIf` trigger or one of the `turn.order` methods.",t.EndTurnInOnEnd="`endTurn` is disallowed in `onEnd` hooks — the turn is already ending.",t.MaxTurnEndings=`Maximum number of turn endings exceeded for this update.
This likely means game code is triggering an infinite loop.`,t.PhaseEventInOnEnd="`setPhase` & `endPhase` are disallowed in a phase’s `onEnd` hook — the phase is already ending.\nIf you’re trying to dynamically choose the next phase when a phase ends, use the phase’s `next` trigger.",t.StageEventInOnEnd="`setStage`, `endStage` & `setActivePlayers` are disallowed in `onEnd` hooks.",t.StageEventInPhaseBegin="`setStage`, `endStage` & `setActivePlayers` are disallowed in a phase’s `onBegin` hook.\nUse `setActivePlayers` in a `turn.onBegin` hook or declare stages with `turn.activePlayers` instead.",t.StageEventInTurnBegin="`setStage` & `endStage` are disallowed in `turn.onBegin`.\nUse `setActivePlayers` or declare stages with `turn.activePlayers` instead."})(Li||(Li={}));class WN{constructor(e,n,i){this.flow=e,this.playerID=i,this.dispatch=[],this.initialTurn=n.turn,this.updateTurnContext(n,void 0),this.maxEndedTurnsPerAction=n.numPlayers*100}api(){const e={_private:this};for(const n of this.flow.eventNames)e[n]=(...i)=>{this.dispatch.push({type:n,args:i,phase:this.currentPhase,turn:this.currentTurn,calledFrom:this.currentMethod,error:new Error("Events Plugin Error")})};return e}isUsed(){return this.dispatch.length>0}updateTurnContext(e,n){this.currentPhase=e.phase,this.currentTurn=e.turn,this.currentMethod=n}unsetCurrentMethod(){this.currentMethod=void 0}update(e){const n=e,i=({stack:a},c)=>({...n,plugins:{...n.plugins,events:{...n.plugins.events,data:{error:c+`
`+a}}}});e:for(let a=0;a<this.dispatch.length;a++){const c=this.dispatch[a],u=c.turn!==e.ctx.turn;if(this.currentTurn-this.initialTurn>=this.maxEndedTurnsPerAction)return i(c.error,Li.MaxTurnEndings);if(c.calledFrom===void 0)return i(c.error,Li.CalledOutsideHook);if(e.ctx.gameover)break e;switch(c.type){case"endStage":case"setStage":case"setActivePlayers":{switch(c.calledFrom){case Yn.TURN_ON_END:case Yn.PHASE_ON_END:return i(c.error,Li.StageEventInOnEnd);case Yn.PHASE_ON_BEGIN:return i(c.error,Li.StageEventInPhaseBegin);case Yn.TURN_ON_BEGIN:if(c.type==="setActivePlayers")break;return i(c.error,Li.StageEventInTurnBegin)}if(u)continue e;break}case"endTurn":{if(c.calledFrom===Yn.TURN_ON_END||c.calledFrom===Yn.PHASE_ON_END)return i(c.error,Li.EndTurnInOnEnd);if(u)continue e;break}case"endPhase":case"setPhase":{if(c.calledFrom===Yn.PHASE_ON_END)return i(c.error,Li.PhaseEventInOnEnd);if(c.phase!==e.ctx.phase)continue e;break}}const d=Qw(c.type,c.args,this.playerID);e=this.flow.processEvent(e,d)}return e}}const Ny={name:"events",noClient:({api:t})=>t._private.isUsed(),isInvalid:({data:t})=>t.error||!1,fnWrap:(t,e)=>(n,...i)=>{const a=n.events;a&&a._private.updateTurnContext(n.ctx,e);const c=t(n,...i);return a&&a._private.unsetCurrentMethod(),c},dangerouslyFlushRawState:({state:t,api:e})=>e._private.update(t),api:({game:t,ctx:e,playerID:n})=>new WN(t.flow,e,n).api()},eD={name:"log",flush:()=>({}),api:({data:t})=>({setMetadata:e=>{t.metadata=e}}),setup:()=>({})},tD={name:"plugin-serializable",fnWrap:t=>(e,...n)=>t(e,...n)},nD=(...t)=>console.error(...t);function Ht(t){nD("ERROR:",t)}const Dy=[JN,KN,eD,tD],$c=[...Dy,Ny],rD=(t,e,n)=>(n.game.plugins.filter(i=>i.action!==void 0).filter(i=>i.name===e.payload.type).forEach(i=>{const a=i.name,c=t.plugins[a]||{data:{}},u=i.action(c.data,e.payload);t={...t,plugins:{...t.plugins,[a]:{...c,data:u}}}}),t),so=({plugins:t})=>Object.entries(t||{}).reduce((e,[n,{api:i}])=>(e[n]=i,e),{}),iE=(t,e,n)=>[...Dy,...n,Ny].filter(i=>i.fnWrap!==void 0).reduce((i,{fnWrap:a})=>a(i,e),t),iD=(t,e)=>([...$c,...e.game.plugins].filter(n=>n.setup!==void 0).forEach(n=>{const i=n.name,a=n.setup({G:t.G,ctx:t.ctx,game:e.game});t={...t,plugins:{...t.plugins,[i]:{data:a}}}}),t),_m=(t,e)=>([...$c,...e.game.plugins].filter(n=>n.api!==void 0).forEach(n=>{const i=n.name,a=t.plugins[i]||{data:{}},c=n.api({G:t.G,ctx:t.ctx,data:a.data,game:e.game,playerID:e.playerID});t={...t,plugins:{...t.plugins,[i]:{...a,api:c}}}}),t),sD=(t,e)=>([...Dy,...e.game.plugins,Ny].reverse().forEach(n=>{const i=n.name,a=t.plugins[i]||{data:{}};if(n.flush){const c=n.flush({G:t.G,ctx:t.ctx,game:e.game,api:a.api,data:a.data});t={...t,plugins:{...t.plugins,[n.name]:{data:c}}}}else if(n.dangerouslyFlushRawState){t=n.dangerouslyFlushRawState({state:t,game:e.game,api:a.api,data:a.data});const c=t.plugins[i].data;t={...t,plugins:{...t.plugins,[n.name]:{data:c}}}}}),t),aD=(t,e)=>[...$c,...e.game.plugins].filter(n=>n.noClient!==void 0).map(n=>{const i=n.name,a=t.plugins[i];return a?n.noClient({G:t.G,ctx:t.ctx,game:e.game,api:a.api,data:a.data}):!1}).includes(!0),oD=(t,e)=>[...$c,...e.game.plugins].filter(i=>i.isInvalid!==void 0).map(i=>{const{name:a}=i,c=t.plugins[a],u=i.isInvalid({G:t.G,ctx:t.ctx,game:e.game,data:c&&c.data});return u?{plugin:a,message:u}:!1}).find(i=>i)||!1,sE=(t,e)=>{const n=sD(t,e),i=oD(n,e);if(!i)return[n];const{plugin:a,message:c}=i;return Ht(`${a} plugin declared action invalid:
${c}`),[t,i]},aE=({G:t,ctx:e,plugins:n={}},{game:i,playerID:a})=>([...$c,...i.plugins].forEach(({name:c,playerView:u})=>{if(!u)return;const{data:f}=n[c]||{data:{}},d=u({G:t,ctx:e,game:i,data:f,playerID:a});n={...n,[c]:{data:d}}}),n);function sf(t,e=!1){t.moveLimit&&(e&&(t.minMoves=t.moveLimit),t.maxMoves=t.moveLimit,delete t.moveLimit)}function af(t,e){let n={},i=[],a=null,c={},u={};if(Array.isArray(e)){const d={};e.forEach(h=>d[h]=of.NULL),n=d}else{if(sf(e),e.next&&(a=e.next),e.revert&&(i=[...t._prevActivePlayers,{activePlayers:t.activePlayers,_activePlayersMinMoves:t._activePlayersMinMoves,_activePlayersMaxMoves:t._activePlayersMaxMoves,_activePlayersNumMoves:t._activePlayersNumMoves}]),e.currentPlayer!==void 0&&pu(n,c,u,t.currentPlayer,e.currentPlayer),e.others!==void 0)for(let d=0;d<t.playOrder.length;d++){const h=t.playOrder[d];h!==t.currentPlayer&&pu(n,c,u,h,e.others)}if(e.all!==void 0)for(let d=0;d<t.playOrder.length;d++){const h=t.playOrder[d];pu(n,c,u,h,e.all)}if(e.value)for(const d in e.value)pu(n,c,u,d,e.value[d]);if(e.minMoves)for(const d in n)c[d]===void 0&&(c[d]=e.minMoves);if(e.maxMoves)for(const d in n)u[d]===void 0&&(u[d]=e.maxMoves)}Object.keys(n).length===0&&(n=null),Object.keys(c).length===0&&(c=null),Object.keys(u).length===0&&(u=null);const f={};for(const d in n)f[d]=0;return{...t,activePlayers:n,_activePlayersMinMoves:c,_activePlayersMaxMoves:u,_activePlayersNumMoves:f,_prevActivePlayers:i,_nextActivePlayers:a}}function cD(t){let{activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:i,_activePlayersNumMoves:a,_prevActivePlayers:c,_nextActivePlayers:u}=t;if(e&&Object.keys(e).length===0)if(u)t=af(t,u),{activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:i,_activePlayersNumMoves:a,_prevActivePlayers:c}=t;else if(c.length>0){const f=c.length-1;({activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:i,_activePlayersNumMoves:a}=c[f]),c=c.slice(0,f)}else e=null,n=null,i=null;return{...t,activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:i,_activePlayersNumMoves:a,_prevActivePlayers:c}}function pu(t,e,n,i,a){(typeof a!="object"||a===of.NULL)&&(a={stage:a}),a.stage!==void 0&&(sf(a),t[i]=a.stage,a.minMoves&&(e[i]=a.minMoves),a.maxMoves&&(n[i]=a.maxMoves))}function wm(t,e){return t[e]+""}function lD(t,e){let{G:n,ctx:i}=t;const{numPlayers:a}=i,u={...so(t),G:n,ctx:i},f=e.order;let d=[...Array.from({length:a})].map((b,x)=>x+"");f.playOrder!==void 0&&(d=f.playOrder(u));const h=f.first(u),m=typeof h;m!=="number"&&Ht(`invalid value returned by turn.order.first — expected number got ${m} “${h}”.`);const g=wm(d,h);return i={...i,currentPlayer:g,playOrderPos:h,playOrder:d},i=af(i,e.activePlayers||{}),i}function uD(t,e,n,i){const a=n.order;let{G:c,ctx:u}=t,f=u.playOrderPos,d=!1;if(i&&i!==!0)typeof i!="object"&&Ht(`invalid argument to endTurn: ${i}`),Object.keys(i).forEach(h=>{switch(h){case"remove":e=wm(u.playOrder,f);break;case"next":f=u.playOrder.indexOf(i.next),e=i.next;break;default:Ht(`invalid argument to endTurn: ${h}`)}});else{const m={...so(t),G:c,ctx:u},g=a.next(m),b=typeof g;g!==void 0&&b!=="number"&&Ht(`invalid value returned by turn.order.next — expected number or undefined got ${b} “${g}”.`),g===void 0?d=!0:(f=g,e=wm(u.playOrder,f))}return u={...u,playOrderPos:f,currentPlayer:e},{endPhase:d,ctx:u}}const fD={DEFAULT:{first:({ctx:t})=>t.turn===0?t.playOrderPos:(t.playOrderPos+1)%t.playOrder.length,next:({ctx:t})=>(t.playOrderPos+1)%t.playOrder.length}},of={NULL:null};var wp={},ki={},Jx;function oE(){if(Jx)return ki;Jx=1,Object.defineProperty(ki,"__esModule",{value:!0}),ki.Pointer=ki.escapeToken=ki.unescapeToken=void 0;function t(i){return i.replace(/~1/g,"/").replace(/~0/g,"~")}ki.unescapeToken=t;function e(i){return i.replace(/~/g,"~0").replace(/\//g,"~1")}ki.escapeToken=e;var n=(function(){function i(a){a===void 0&&(a=[""]),this.tokens=a}return i.fromJSON=function(a){var c=a.split("/").map(t);if(c[0]!=="")throw new Error("Invalid JSON Pointer: ".concat(a));return new i(c)},i.prototype.toString=function(){return this.tokens.map(e).join("/")},i.prototype.evaluate=function(a){for(var c=null,u="",f=a,d=1,h=this.tokens.length;d<h;d++)c=f,u=this.tokens[d],!(u=="__proto__"||u=="constructor"||u=="prototype")&&(f=(c||{})[u]);return{parent:c,key:u,value:f}},i.prototype.get=function(a){return this.evaluate(a).value},i.prototype.set=function(a,c){var u=this.evaluate(a);u.parent&&(u.parent[u.key]=c)},i.prototype.push=function(a){this.tokens.push(a)},i.prototype.add=function(a){var c=this.tokens.concat(String(a));return new i(c)},i})();return ki.Pointer=n,ki}var Wt={},Ep={},Wx;function cE(){return Wx||(Wx=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.clone=t.objectType=t.hasOwnProperty=void 0,t.hasOwnProperty=Object.prototype.hasOwnProperty;function e(a){return a===void 0?"undefined":a===null?"null":Array.isArray(a)?"array":typeof a}t.objectType=e;function n(a){return a!=null&&typeof a=="object"}function i(a){if(!n(a))return a;if(a.constructor==Array){for(var c=a.length,u=new Array(c),f=0;f<c;f++)u[f]=i(a[f]);return u}if(a.constructor==Date){var d=new Date(+a);return d}var h={};for(var m in a)t.hasOwnProperty.call(a,m)&&(h[m]=i(a[m]));return h}t.clone=i})(Ep)),Ep}var Xn={},e1;function lE(){if(e1)return Xn;e1=1,Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.diffAny=Xn.diffObjects=Xn.diffArrays=Xn.intersection=Xn.subtract=Xn.isDestructive=void 0;var t=cE();function e(m){var g=m.op;return g==="remove"||g==="replace"||g==="copy"||g==="move"}Xn.isDestructive=e;function n(m,g){var b={};for(var x in m)t.hasOwnProperty.call(m,x)&&m[x]!==void 0&&(b[x]=1);for(var E in g)t.hasOwnProperty.call(g,E)&&g[E]!==void 0&&delete b[E];return Object.keys(b)}Xn.subtract=n;function i(m){for(var g=m.length,b={},x=0;x<g;x++){var E=m[x];for(var C in E)t.hasOwnProperty.call(E,C)&&E[C]!==void 0&&(b[C]=(b[C]||0)+1)}for(var C in b)b[C]<g&&delete b[C];return Object.keys(b)}Xn.intersection=i;function a(m){return m.op==="add"}function c(m){return m.op==="remove"}function u(m,g){return{operations:m.operations.concat(g),cost:m.cost+1}}function f(m,g,b,x){x===void 0&&(x=h);var E={"0,0":{operations:[],cost:0}};function C(j,F){var W="".concat(j,",").concat(F),Y=E[W];if(Y===void 0){if(j>0&&F>0&&!x(m[j-1],g[F-1],b.add(String(j-1))).length)Y=C(j-1,F-1);else{var X=[];if(j>0){var pe=C(j-1,F),ve={op:"remove",index:j-1};X.push(u(pe,ve))}if(F>0){var Se=C(j,F-1),we={op:"add",index:j-1,value:g[F-1]};X.push(u(Se,we))}if(j>0&&F>0){var Ke=C(j-1,F-1),_e={op:"replace",index:j-1,original:m[j-1],value:g[F-1]};X.push(u(Ke,_e))}var Ue=X.sort(function(H,se){return H.cost-se.cost})[0];Y=Ue}E[W]=Y}return Y}var M=isNaN(m.length)||m.length<=0?0:m.length,D=isNaN(g.length)||g.length<=0?0:g.length,N=C(M,D).operations,k=N.reduce(function(j,F){var W=j[0],Y=j[1];if(a(F)){var X=F.index+1+Y,pe=X<M+Y?String(X):"-",ve={op:F.op,path:b.add(pe).toString(),value:F.value};return[W.concat(ve),Y+1]}else if(c(F)){var ve={op:F.op,path:b.add(String(F.index+Y)).toString()};return[W.concat(ve),Y-1]}else{var Se=b.add(String(F.index+Y)),we=x(F.original,F.value,Se);return[W.concat.apply(W,we),Y]}},[[],0])[0];return k}Xn.diffArrays=f;function d(m,g,b,x){x===void 0&&(x=h);var E=[];return n(m,g).forEach(function(C){E.push({op:"remove",path:b.add(C).toString()})}),n(g,m).forEach(function(C){E.push({op:"add",path:b.add(C).toString(),value:g[C]})}),i([m,g]).forEach(function(C){E.push.apply(E,x(m[C],g[C],b.add(C)))}),E}Xn.diffObjects=d;function h(m,g,b,x){if(x===void 0&&(x=h),m===g)return[];var E=(0,t.objectType)(m),C=(0,t.objectType)(g);return E=="array"&&C=="array"?f(m,g,b,x):E=="object"&&C=="object"?d(m,g,b,x):[{op:"replace",path:b.toString(),value:g}]}return Xn.diffAny=h,Xn}var t1;function dD(){if(t1)return Wt;t1=1;var t=Wt&&Wt.__extends||(function(){var M=function(D,N){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,j){k.__proto__=j}||function(k,j){for(var F in j)Object.prototype.hasOwnProperty.call(j,F)&&(k[F]=j[F])},M(D,N)};return function(D,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");M(D,N);function k(){this.constructor=D}D.prototype=N===null?Object.create(N):(k.prototype=N.prototype,new k)}})();Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.apply=Wt.InvalidOperationError=Wt.test=Wt.copy=Wt.move=Wt.replace=Wt.remove=Wt.add=Wt.TestError=Wt.MissingError=void 0;var e=oE(),n=cE(),i=lE(),a=(function(M){t(D,M);function D(N){var k=M.call(this,"Value required at path: ".concat(N))||this;return k.path=N,k.name="MissingError",k}return D})(Error);Wt.MissingError=a;var c=(function(M){t(D,M);function D(N,k){var j=M.call(this,"Test failed: ".concat(N," != ").concat(k))||this;return j.actual=N,j.expected=k,j.name="TestError",j}return D})(Error);Wt.TestError=c;function u(M,D,N){if(Array.isArray(M))if(D=="-")M.push(N);else{var k=parseInt(D,10);M.splice(k,0,N)}else M[D]=N}function f(M,D){if(Array.isArray(M)){var N=parseInt(D,10);M.splice(N,1)}else delete M[D]}function d(M,D){var N=e.Pointer.fromJSON(D.path).evaluate(M);return N.parent===void 0?new a(D.path):(u(N.parent,N.key,(0,n.clone)(D.value)),null)}Wt.add=d;function h(M,D){var N=e.Pointer.fromJSON(D.path).evaluate(M);return N.value===void 0?new a(D.path):(f(N.parent,N.key),null)}Wt.remove=h;function m(M,D){var N=e.Pointer.fromJSON(D.path).evaluate(M);if(N.parent===null)return new a(D.path);if(Array.isArray(N.parent)){if(parseInt(N.key,10)>=N.parent.length)return new a(D.path)}else if(N.value===void 0)return new a(D.path);return N.parent[N.key]=(0,n.clone)(D.value),null}Wt.replace=m;function g(M,D){var N=e.Pointer.fromJSON(D.from).evaluate(M);if(N.value===void 0)return new a(D.from);var k=e.Pointer.fromJSON(D.path).evaluate(M);return k.parent===void 0?new a(D.path):(f(N.parent,N.key),u(k.parent,k.key,N.value),null)}Wt.move=g;function b(M,D){var N=e.Pointer.fromJSON(D.from).evaluate(M);if(N.value===void 0)return new a(D.from);var k=e.Pointer.fromJSON(D.path).evaluate(M);return k.parent===void 0?new a(D.path):(u(k.parent,k.key,(0,n.clone)(N.value)),null)}Wt.copy=b;function x(M,D){var N=e.Pointer.fromJSON(D.path).evaluate(M);return(0,i.diffAny)(N.value,D.value,new e.Pointer).length?new c(N.value,D.value):null}Wt.test=x;var E=(function(M){t(D,M);function D(N){var k=M.call(this,"Invalid operation: ".concat(N.op))||this;return k.operation=N,k.name="InvalidOperationError",k}return D})(Error);Wt.InvalidOperationError=E;function C(M,D){switch(D.op){case"add":return d(M,D);case"remove":return h(M,D);case"replace":return m(M,D);case"move":return g(M,D);case"copy":return b(M,D);case"test":return x(M,D)}return new E(D)}return Wt.apply=C,Wt}var n1;function hD(){return n1||(n1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createTests=t.createPatch=t.applyPatch=t.Pointer=void 0;var e=oE();Object.defineProperty(t,"Pointer",{enumerable:!0,get:function(){return e.Pointer}});var n=dD(),i=lE();function a(h,m){return m.map(function(g){return(0,n.apply)(h,g)})}t.applyPatch=a;function c(h){function m(g,b,x){var E=h(g,b,x);return Array.isArray(E)?E:(0,i.diffAny)(g,b,x,m)}return m}function u(h,m,g){var b=new e.Pointer;return(g?c(g):i.diffAny)(h,m,b)}t.createPatch=u;function f(h,m){var g=e.Pointer.fromJSON(m).evaluate(h);if(g!==void 0)return{op:"test",path:m,value:g.value}}function d(h,m){var g=new Array;return m.filter(i.isDestructive).forEach(function(b){var x=f(h,b.path);if(x&&g.push(x),"from"in b){var E=f(h,b.from);E&&g.push(E)}}),g}t.createTests=d})(wp)),wp}var uE=hD();function pD({moves:t,phases:e,endIf:n,onEnd:i,turn:a,events:c,plugins:u}){t===void 0&&(t={}),c===void 0&&(c={}),u===void 0&&(u=[]),e===void 0&&(e={}),n||(n=()=>{}),i||(i=({G:I})=>I),a||(a={});const f={...e};""in f&&Ht("cannot specify phase with empty name"),f[""]={};const d={},h=new Set;let m=null;Object.keys(t).forEach(I=>h.add(I));const g=(I,Z)=>{const ue=iE(I,Z,u);return Oe=>{const Le=so(Oe);return ue({...Le,G:Oe.G,ctx:Oe.ctx,playerID:Oe.playerID})}},b=I=>Z=>{const ue=so(Z);return I({...ue,G:Z.G,ctx:Z.ctx})},x={onEnd:g(i,Yn.GAME_ON_END),endIf:b(n)};for(const I in f){const Z=f[I];if(Z.start===!0&&(m=I),Z.moves!==void 0)for(const ue of Object.keys(Z.moves))d[I+"."+ue]=Z.moves[ue],h.add(ue);Z.endIf===void 0&&(Z.endIf=()=>{}),Z.onBegin===void 0&&(Z.onBegin=({G:ue})=>ue),Z.onEnd===void 0&&(Z.onEnd=({G:ue})=>ue),Z.turn===void 0&&(Z.turn=a),Z.turn.order===void 0&&(Z.turn.order=fD.DEFAULT),Z.turn.onBegin===void 0&&(Z.turn.onBegin=({G:ue})=>ue),Z.turn.onEnd===void 0&&(Z.turn.onEnd=({G:ue})=>ue),Z.turn.endIf===void 0&&(Z.turn.endIf=()=>!1),Z.turn.onMove===void 0&&(Z.turn.onMove=({G:ue})=>ue),Z.turn.stages===void 0&&(Z.turn.stages={}),sf(Z.turn,!0);for(const ue in Z.turn.stages){const Le=Z.turn.stages[ue].moves||{};for(const je of Object.keys(Le)){const Et=I+"."+ue+"."+je;d[Et]=Le[je],h.add(je)}}if(Z.wrapped={onBegin:g(Z.onBegin,Yn.PHASE_ON_BEGIN),onEnd:g(Z.onEnd,Yn.PHASE_ON_END),endIf:b(Z.endIf)},Z.turn.wrapped={onMove:g(Z.turn.onMove,Yn.TURN_ON_MOVE),onBegin:g(Z.turn.onBegin,Yn.TURN_ON_BEGIN),onEnd:g(Z.turn.onEnd,Yn.TURN_ON_END),endIf:b(Z.turn.endIf)},typeof Z.next!="function"){const{next:ue}=Z;Z.next=()=>ue||null}Z.wrapped.next=b(Z.next)}function E(I){return I.phase?f[I.phase]:f[""]}function C(I){return I}function M(I,Z){const ue=new Set,Oe=new Set;for(let Le=0;Le<Z.length;Le++){const{fn:je,arg:Et,...xt}=Z[Le];if(je===we){Oe.clear();const Ct=I.ctx.phase;if(ue.has(Ct)){const an={...I.ctx,phase:null};return{...I,ctx:an}}ue.add(Ct)}const dn=[];if(I=je(I,{...xt,arg:Et,next:dn}),je===Se)break;const Nt=X(I);if(Nt){Z.push({fn:Se,arg:Nt,turn:I.ctx.turn,phase:I.ctx.phase,automatic:!0});continue}const vt=pe(I);if(vt){Z.push({fn:we,arg:vt,turn:I.ctx.turn,phase:I.ctx.phase,automatic:!0});continue}if([C,W,Y].includes(je)){const Ct=ve(I);if(Ct){Z.push({fn:Ke,arg:Ct,turn:I.ctx.turn,phase:I.ctx.phase,automatic:!0});continue}}Z.push(...dn)}return I}function D(I,{next:Z}){return Z.push({fn:N}),I}function N(I,{next:Z}){let{G:ue,ctx:Oe}=I;return ue=E(Oe).wrapped.onBegin(I),Z.push({fn:k}),{...I,G:ue,ctx:Oe}}function k(I,{currentPlayer:Z}){let{ctx:ue}=I;const Oe=E(ue);Z?(ue={...ue,currentPlayer:Z},Oe.turn.activePlayers&&(ue=af(ue,Oe.turn.activePlayers))):ue=lD(I,Oe.turn);const Le=ue.turn+1;ue={...ue,turn:Le,numMoves:0,_prevActivePlayers:[]};const je=Oe.turn.wrapped.onBegin({...I,ctx:ue});return{...I,G:je,ctx:ue,_undo:[],_redo:[]}}function j(I,{arg:Z,next:ue,phase:Oe}){const Le=E({phase:Oe});let{ctx:je}=I;if(Z&&Z.next)if(Z.next in f)je={...je,phase:Z.next};else return Ht("invalid phase: "+Z.next),I;else je={...je,phase:Le.wrapped.next(I)||null};return I={...I,ctx:je},ue.push({fn:N}),I}function F(I,{arg:Z,currentPlayer:ue,next:Oe}){let{G:Le,ctx:je}=I;const Et=E(je),{endPhase:xt,ctx:dn}=uD(I,ue,Et.turn,Z);return je=dn,I={...I,G:Le,ctx:je},xt?Oe.push({fn:we,turn:je.turn,phase:je.phase}):Oe.push({fn:k,currentPlayer:je.currentPlayer}),I}function W(I,{arg:Z,playerID:ue}){if((typeof Z=="string"||Z===of.NULL)&&(Z={stage:Z}),typeof Z!="object")return I;sf(Z);let{ctx:Oe}=I,{activePlayers:Le,_activePlayersMinMoves:je,_activePlayersMaxMoves:Et,_activePlayersNumMoves:xt}=Oe;return Z.stage!==void 0&&(Le===null&&(Le={}),Le[ue]=Z.stage,xt[ue]=0,Z.minMoves&&(je===null&&(je={}),je[ue]=Z.minMoves),Z.maxMoves&&(Et===null&&(Et={}),Et[ue]=Z.maxMoves)),Oe={...Oe,activePlayers:Le,_activePlayersMinMoves:je,_activePlayersMaxMoves:Et,_activePlayersNumMoves:xt},{...I,ctx:Oe}}function Y(I,{arg:Z}){return{...I,ctx:af(I.ctx,Z)}}function X(I){return x.endIf(I)}function pe(I){return E(I.ctx).wrapped.endIf(I)}function ve(I){const Z=E(I.ctx),ue=I.ctx.numMoves||0;return Z.turn.maxMoves&&ue>=Z.turn.maxMoves?!0:Z.turn.wrapped.endIf(I)}function Se(I,{arg:Z,phase:ue}){I=we(I,{}),Z===void 0&&(Z=!0),I={...I,ctx:{...I.ctx,gameover:Z}};const Oe=x.onEnd(I);return{...I,G:Oe}}function we(I,{arg:Z,next:ue,turn:Oe,automatic:Le}){I=Ke(I,{turn:Oe,force:!0,automatic:!0});const{phase:je,turn:Et}=I.ctx;if(ue&&ue.push({fn:j,arg:Z,phase:je}),je===null)return I;const dn=E(I.ctx).wrapped.onEnd(I),Nt={...I.ctx,phase:null},vt=wc("endPhase",Z),{_stateID:Ct}=I,an={action:vt,_stateID:Ct,turn:Et,phase:je};Le&&(an.automatic=!0);const En=[...I.deltalog||[],an];return{...I,G:dn,ctx:Nt,deltalog:En}}function Ke(I,{arg:Z,next:ue,turn:Oe,force:Le,automatic:je,playerID:Et}){if(Oe!==I.ctx.turn)return I;const{currentPlayer:xt,numMoves:dn,phase:Nt,turn:vt}=I.ctx,Ct=E(I.ctx),an=dn||0;if(!Le&&Ct.turn.minMoves&&an<Ct.turn.minMoves)return`${Ct.turn.minMoves}`,I;const En=Ct.turn.wrapped.onEnd(I);ue&&ue.push({fn:F,arg:Z,currentPlayer:xt});let ct={...I.ctx,activePlayers:null};if(Z&&Z.remove){Et=Et||xt;const Mn=ct.playOrder.filter(mi=>mi!=Et),qi=ct.playOrderPos>Mn.length-1?0:ct.playOrderPos;if(ct={...ct,playOrder:Mn,playOrderPos:qi},Mn.length===0)return ue.push({fn:we,turn:vt,phase:Nt}),I}const ft=wc("endTurn",Z),{_stateID:en}=I,Cn={action:ft,_stateID:en,turn:vt,phase:Nt};je&&(Cn.automatic=!0);const Er=[...I.deltalog||[],Cn];return{...I,G:En,ctx:ct,deltalog:Er,_undo:[],_redo:[]}}function _e(I,{arg:Z,next:ue,automatic:Oe,playerID:Le}){Le=Le||I.ctx.currentPlayer;let{ctx:je,_stateID:Et}=I,{activePlayers:xt,_activePlayersNumMoves:dn,_activePlayersMinMoves:Nt,_activePlayersMaxMoves:vt,phase:Ct,turn:an}=je;const En=xt!==null&&Le in xt,ct=E(je);if(!Z&&En){const Mn=ct.turn.stages[xt[Le]];Mn&&Mn.next&&(Z=Mn.next)}if(ue&&ue.push({fn:W,arg:Z,playerID:Le}),!En)return I;const ft=dn[Le]||0;if(Nt&&Nt[Le]&&ft<Nt[Le])return`${Nt[Le]}`,I;xt={...xt},delete xt[Le],Nt&&(Nt={...Nt},delete Nt[Le]),vt&&(vt={...vt},delete vt[Le]),je=cD({...je,activePlayers:xt,_activePlayersMinMoves:Nt,_activePlayersMaxMoves:vt});const Cn={action:wc("endStage",Z),_stateID:Et,turn:an,phase:Ct};Oe&&(Cn.automatic=!0);const Er=[...I.deltalog||[],Cn];return{...I,ctx:je,deltalog:Er}}function Ue(I,Z,ue){const Oe=E(I),Le=Oe.turn.stages,{activePlayers:je}=I;if(je&&je[ue]!==void 0&&je[ue]!==of.NULL&&Le[je[ue]]!==void 0&&Le[je[ue]].moves!==void 0){const xt=Le[je[ue]].moves;if(Z in xt)return xt[Z]}else if(Oe.moves){if(Z in Oe.moves)return Oe.moves[Z]}else if(Z in t)return t[Z];return null}function H(I,Z){const{playerID:ue,type:Oe}=Z,{currentPlayer:Le,activePlayers:je,_activePlayersMaxMoves:Et}=I.ctx,xt=Ue(I.ctx,Oe,ue),dn=!xt||typeof xt=="function"||xt.noLimit!==!0;let{numMoves:Nt,_activePlayersNumMoves:vt}=I.ctx;dn&&(ue===Le&&Nt++,je&&vt[ue]++),I={...I,ctx:{...I.ctx,numMoves:Nt,_activePlayersNumMoves:vt}},Et&&vt[ue]>=Et[ue]&&(I=_e(I,{playerID:ue,automatic:!0}));const an=E(I.ctx).turn.wrapped.onMove({...I,playerID:ue});return I={...I,G:an},M(I,[{fn:C}])}function se(I,Z,ue){return M(I,[{fn:_e,arg:ue,playerID:Z}])}function G(I,Z){return M(I,[{fn:_e,playerID:Z}])}function De(I,Z,ue){return M(I,[{fn:Y,arg:ue}])}function Xe(I,Z,ue){return M(I,[{fn:we,phase:I.ctx.phase,turn:I.ctx.turn,arg:{next:ue}}])}function z(I){return M(I,[{fn:we,phase:I.ctx.phase,turn:I.ctx.turn}])}function ie(I,Z,ue){return M(I,[{fn:Ke,turn:I.ctx.turn,phase:I.ctx.phase,arg:ue}])}function de(I,Z,ue){return M(I,[{fn:Ke,turn:I.ctx.turn,phase:I.ctx.phase,force:!0,arg:ue}])}function ge(I,Z,ue){return M(I,[{fn:Se,turn:I.ctx.turn,phase:I.ctx.phase,arg:ue}])}const be={endStage:G,setStage:se,endTurn:ie,pass:de,endPhase:z,setPhase:Xe,endGame:ge,setActivePlayers:De},Ee=[];c.endTurn!==!1&&Ee.push("endTurn"),c.pass!==!1&&Ee.push("pass"),c.endPhase!==!1&&Ee.push("endPhase"),c.setPhase!==!1&&Ee.push("setPhase"),c.endGame!==!1&&Ee.push("endGame"),c.setActivePlayers!==!1&&Ee.push("setActivePlayers"),c.endStage!==!1&&Ee.push("endStage"),c.setStage!==!1&&Ee.push("setStage");function Re(I,Z){const{type:ue,playerID:Oe,args:Le}=Z.payload;return typeof be[ue]!="function"?I:be[ue](I,Oe,...Array.isArray(Le)?Le:[Le])}function Pt(I,Z,ue){return Z.activePlayers?ue in Z.activePlayers:Z.currentPlayer===ue}return{ctx:I=>({numPlayers:I,turn:0,currentPlayer:"0",playOrder:[...Array.from({length:I})].map((Z,ue)=>ue+""),playOrderPos:0,phase:m,activePlayers:null}),init:I=>M(I,[{fn:D}]),isPlayerActive:Pt,eventHandlers:be,eventNames:Object.keys(be),enabledEventNames:Ee,moveMap:d,moveNames:[...h.values()],processMove:H,processEvent:Re,getMove:Ue}}function mD(t){return t.processMove!==void 0}function Vc(t){if(mD(t))return t;if(t.name===void 0&&(t.name="default"),t.deltaState===void 0&&(t.deltaState=!1),t.disableUndo===void 0&&(t.disableUndo=!1),t.setup===void 0&&(t.setup=()=>({})),t.moves===void 0&&(t.moves={}),t.playerView===void 0&&(t.playerView=({G:n})=>n),t.plugins===void 0&&(t.plugins=[]),t.plugins.forEach(n=>{if(n.name===void 0)throw new Error("Plugin missing name attribute");if(n.name.includes(" "))throw new Error(n.name+": Plugin name must not include spaces")}),t.name.includes(" "))throw new Error(t.name+": Game name must not include spaces");const e=pD(t);return{...t,flow:e,moveNames:e.moveNames,pluginNames:t.plugins.map(n=>n.name),processMove:(n,i)=>{let a=e.getMove(n.ctx,i.type,i.playerID);if(fE(a)&&(a=a.move),a instanceof Function){const c=iE(a,Yn.MOVE,t.plugins);let u=[];i.args!==void 0&&(u=Array.isArray(i.args)?i.args:[i.args]);const f={...so(n),G:n.G,ctx:n.ctx,playerID:i.playerID};return c(f,...u)}return Ht(`invalid move object: ${i.type}`),n.G}}}function fE(t){return t instanceof Object&&t.move!==void 0}var Em;(function(t){t.UnauthorizedAction="update/unauthorized_action",t.MatchNotFound="update/match_not_found",t.PatchFailed="update/patch_failed"})(Em||(Em={}));var qn;(function(t){t.StaleStateId="action/stale_state_id",t.UnavailableMove="action/unavailable_move",t.InvalidMove="action/invalid_move",t.InactivePlayer="action/inactive_player",t.GameOver="action/gameover",t.ActionDisabled="action/action_disabled",t.ActionInvalid="action/action_invalid",t.PluginActionInvalid="action/plugin_invalid"})(qn||(qn={}));const mu=t=>t.payload.playerID!==null&&t.payload.playerID!==void 0,yD=(t,e,n)=>{function i(c){return c.undoable!==void 0}function a(c){return c instanceof Function}return i(n)?a(n.undoable)?n.undoable({G:t,ctx:e}):n.undoable:!0};function r1(t,e){if(e.game.disableUndo)return t;const n={G:t.G,ctx:t.ctx,plugins:t.plugins,playerID:e.action.payload.playerID||t.ctx.currentPlayer};return e.action.type==="MAKE_MOVE"&&(n.moveType=e.action.payload.type),{...t,_undo:[...t._undo,n],_redo:[]}}function Cp(t,e,n){const i={action:e,_stateID:t._stateID,turn:t.ctx.turn,phase:t.ctx.phase},a=t.plugins.log.data.metadata;return a!==void 0&&(i.metadata=a),typeof n=="object"&&n.redact===!0?i.redact=!0:typeof n=="object"&&n.redact instanceof Function&&(i.redact=n.redact({G:t.G,ctx:t.ctx})),{...t,deltalog:[i]}}function Tp(t,e,n){const[i,a]=sE(t,n);return a?[i,Qn(e,qn.PluginActionInvalid,a)]:[i]}function dE(t){if(!t)return[null,void 0];const{transients:e,...n}=t;return[n,e]}function Qn(t,e,n){return{...t,transients:{error:{type:e,payload:n}}}}const hE=t=>e=>n=>{const i=e(n);switch(n.type){case Lf:return i;default:{const[,a]=dE(t.getState());return typeof a<"u"?(t.dispatch(rE()),{...i,transients:a}):i}}};function Uf({game:t,isClient:e}){return t=Vc(t),(n=null,i)=>{let[a]=dE(n);switch(i.type){case Lf:return a;case Df:{if(a={...a,deltalog:[]},e)return a;if(a.ctx.gameover!==void 0)return Ht("cannot call event after game end"),Qn(a,qn.GameOver);if(mu(i)&&!t.flow.isPlayerActive(a.G,a.ctx,i.payload.playerID))return Ht(`disallowed event: ${i.payload.type}`),Qn(a,qn.InactivePlayer);a=_m(a,{game:t,playerID:i.payload.playerID});let c=t.flow.processEvent(a,i),u;return[c,u]=Tp(c,a,{game:t}),u||(c=r1(c,{game:t,action:i}),{...c,_stateID:a._stateID+1})}case Nc:{const c=a={...a,deltalog:[]},u=t.flow.getMove(a.ctx,i.payload.type,i.payload.playerID||a.ctx.currentPlayer);if(u===null)return Ht(`disallowed move: ${i.payload.type}`),Qn(a,qn.UnavailableMove);if(e&&u.client===!1)return a;if(a.ctx.gameover!==void 0)return Ht("cannot make move after game end"),Qn(a,qn.GameOver);if(mu(i)&&!t.flow.isPlayerActive(a.G,a.ctx,i.payload.playerID))return Ht(`disallowed move: ${i.payload.type}`),Qn(a,qn.InactivePlayer);a=_m(a,{game:t,playerID:i.payload.playerID});const f=t.processMove(a,i.payload);if(f===Sm)return Ht(`invalid move: ${i.payload.type} args: ${i.payload.args}`),Qn(a,qn.InvalidMove);const d={...a,G:f};if(e&&aD(d,{game:t}))return a;if(a=d,e){let m;return[a,m]=Tp(a,c,{game:t}),m||{...a,_stateID:a._stateID+1}}a=Cp(a,i,u),a=t.flow.processMove(a,i.payload);let h;return[a,h]=Tp(a,c,{game:t}),h||(a=r1(a,{game:t,action:i}),{...a,_stateID:a._stateID+1})}case Ay:case My:case Oy:return i.state;case jf:{if(a={...a,deltalog:[]},t.disableUndo)return Ht("Undo is not enabled"),Qn(a,qn.ActionDisabled);const{G:c,ctx:u,_undo:f,_redo:d,_stateID:h}=a;if(f.length<2)return Ht("No moves to undo"),Qn(a,qn.ActionInvalid);const m=f[f.length-1],g=f[f.length-2];if(mu(i)&&i.payload.playerID!==m.playerID)return Ht("Cannot undo other players' moves"),Qn(a,qn.ActionInvalid);if(m.moveType){const b=t.flow.getMove(g.ctx,m.moveType,m.playerID);if(!yD(c,u,b))return Ht("Move cannot be undone"),Qn(a,qn.ActionInvalid)}return a=Cp(a,i),{...a,G:g.G,ctx:g.ctx,plugins:g.plugins,_stateID:h+1,_undo:f.slice(0,-1),_redo:[m,...d]}}case kf:{if(a={...a,deltalog:[]},t.disableUndo)return Ht("Redo is not enabled"),Qn(a,qn.ActionDisabled);const{_undo:c,_redo:u,_stateID:f}=a;if(u.length===0)return Ht("No moves to redo"),Qn(a,qn.ActionInvalid);const d=u[0];return mu(i)&&i.payload.playerID!==d.playerID?(Ht("Cannot redo other players' moves"),Qn(a,qn.ActionInvalid)):(a=Cp(a,i),{...a,G:d.G,ctx:d.ctx,plugins:d.plugins,_stateID:f+1,_undo:[...c,d],_redo:u.slice(1)})}case Kw:return rD(a,i,{game:t});case Py:{const c=a,u=JSON.parse(JSON.stringify(c)),f=uE.applyPatch(u,i.patch);return f.some(h=>h!==null)?(Ht(`Patch ${JSON.stringify(i.patch)} apply failed`),Qn(c,Em.PatchFailed,f)):u}default:return a}}}var Rp={},i1;function gD(){return i1||(i1=1,(function(t,e){if(t.setImmediate)return;var n=1,i={},a=!1,c=t.document,u;function f(N){typeof N!="function"&&(N=new Function(""+N));for(var k=new Array(arguments.length-1),j=0;j<k.length;j++)k[j]=arguments[j+1];var F={callback:N,args:k};return i[n]=F,u(n),n++}function d(N){delete i[N]}function h(N){var k=N.callback,j=N.args;switch(j.length){case 0:k();break;case 1:k(j[0]);break;case 2:k(j[0],j[1]);break;case 3:k(j[0],j[1],j[2]);break;default:k.apply(e,j);break}}function m(N){if(a)setTimeout(m,0,N);else{var k=i[N];if(k){a=!0;try{h(k)}finally{d(N),a=!1}}}}function g(){u=function(N){process.nextTick(function(){m(N)})}}function b(){if(t.postMessage&&!t.importScripts){var N=!0,k=t.onmessage;return t.onmessage=function(){N=!1},t.postMessage("","*"),t.onmessage=k,N}}function x(){var N="setImmediate$"+Math.random()+"$",k=function(j){j.source===t&&typeof j.data=="string"&&j.data.indexOf(N)===0&&m(+j.data.slice(N.length))};t.addEventListener?t.addEventListener("message",k,!1):t.attachEvent("onmessage",k),u=function(j){t.postMessage(N+j,"*")}}function E(){var N=new MessageChannel;N.port1.onmessage=function(k){var j=k.data;m(j)},u=function(k){N.port2.postMessage(k)}}function C(){var N=c.documentElement;u=function(k){var j=c.createElement("script");j.onreadystatechange=function(){m(k),j.onreadystatechange=null,N.removeChild(j),j=null},N.appendChild(j)}}function M(){u=function(N){setTimeout(m,0,N)}}var D=Object.getPrototypeOf&&Object.getPrototypeOf(t);D=D&&D.setTimeout?D:t,{}.toString.call(t.process)==="[object process]"?g():b()?x():t.MessageChannel?E():c&&"onreadystatechange"in c.createElement("script")?C():M(),D.setImmediate=f,D.clearImmediate=d})(typeof self>"u"?typeof Tb>"u"?Rp:Tb:self)),Rp}gD();class vD{constructor({enumerate:e,seed:n}){this.enumerateFn=e,this.seed=n,this.iterationCounter=0,this._opts={}}addOpt({key:e,range:n,initial:i}){this._opts[e]={range:n,value:i}}getOpt(e){return this._opts[e].value}setOpt(e,n){e in this._opts&&(this._opts[e].value=n)}opts(){return this._opts}enumerate(e,n,i){return this.enumerateFn(e,n,i).map(c=>{if("payload"in c)return c;if("move"in c)return Xw(c.move,c.args,i);if("event"in c)return wc(c.event,c.args,i)})}random(e){let n;if(this.seed!==void 0){const i=this.prngstate?"":this.seed,a=Gw(i,this.prngstate);n=a(),this.prngstate=a.state()}else n=Math.random();if(e)if(Array.isArray(e)){const i=Math.floor(n*e.length);return e[i]}else return Math.floor(n*e);return n}}const bD=25;class xD extends vD{constructor({enumerate:e,seed:n,objectives:i,game:a,iterations:c,playoutDepth:u,iterationCallback:f}){super({enumerate:e,seed:n}),i===void 0&&(i=()=>({})),this.objectives=i,this.iterationCallback=f||(()=>{}),this.reducer=Uf({game:a}),this.iterations=c,this.playoutDepth=u,this.addOpt({key:"async",initial:!1}),this.addOpt({key:"iterations",initial:typeof c=="number"?c:1e3,range:{min:1,max:2e3}}),this.addOpt({key:"playoutDepth",initial:typeof u=="number"?u:50,range:{min:1,max:100}})}createNode({state:e,parentAction:n,parent:i,playerID:a}){const{G:c,ctx:u}=e;let f=[],d=[];if(a!==void 0)f=this.enumerate(c,u,a),d=this.objectives(c,u,a);else if(u.activePlayers)for(const h in u.activePlayers)f.push(...this.enumerate(c,u,h)),d.push(this.objectives(c,u,h));else f=this.enumerate(c,u,u.currentPlayer),d=this.objectives(c,u,u.currentPlayer);return{state:e,parent:i,parentAction:n,actions:f,objectives:d,children:[],visits:0,value:0}}select(e){if(e.actions.length>0||e.children.length===0)return e;let n=null,i=0;for(const a of e.children){const c=a.visits+Number.EPSILON,u=a.value/c+Math.sqrt(2*Math.log(e.visits)/c);(n==null||u>i)&&(i=u,n=a)}return this.select(n)}expand(e){const n=e.actions;if(n.length===0||e.state.ctx.gameover!==void 0)return e;const i=this.random(n.length),a=n[i];e.actions.splice(i,1);const c=this.reducer(e.state,a),u=this.createNode({state:c,parentAction:a,parent:e});return e.children.push(u),u}playout({state:e}){let n=this.getOpt("playoutDepth");typeof this.playoutDepth=="function"&&(n=this.playoutDepth(e.G,e.ctx));for(let i=0;i<n&&e.ctx.gameover===void 0;i++){const{G:a,ctx:c}=e;let u=c.currentPlayer;c.activePlayers&&(u=Object.keys(c.activePlayers)[0]);const f=this.enumerate(a,c,u),d=this.objectives(a,c,u),h=Object.keys(d).reduce((b,x)=>{const E=d[x];return E.checker(a,c)?b+E.weight:b},0);if(h>0)return{score:h};if(!f||f.length===0)return;const m=this.random(f.length);e=this.reducer(e,f[m])}return e.ctx.gameover}backpropagate(e,n={}){e.visits++,n.score!==void 0&&(e.value+=n.score),n.draw===!0&&(e.value+=.5),e.parentAction&&n.winner===e.parentAction.payload.playerID&&e.value++,e.parent&&this.backpropagate(e.parent,n)}play(e,n){const i=this.createNode({state:e,playerID:n});let a=this.getOpt("iterations");typeof this.iterations=="function"&&(a=this.iterations(e.G,e.ctx));const c=()=>{let u=null;for(const h of i.children)(u==null||h.visits>u.visits)&&(u=h);return{action:u&&u.parentAction,metadata:i}};return new Promise(u=>{const f=()=>{for(let d=0;d<bD&&this.iterationCounter<a;d++){const h=this.select(i),m=this.expand(h),g=this.playout(m);this.backpropagate(m,g),this.iterationCounter++}this.iterationCallback({iterationCounter:this.iterationCounter,numIterations:a,metadata:i})};if(this.iterationCounter=0,this.getOpt("async")){const d=()=>{this.iterationCounter<a?(f(),setImmediate(d)):u(c())};d()}else{for(;this.iterationCounter<a;)f();u(c())}})}}function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function SD(t,e){if(Dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(Dc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _D(t){var e=SD(t,"string");return Dc(e)=="symbol"?e:e+""}function wD(t,e,n){return(e=_D(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function a1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s1(Object(n),!0).forEach(function(i){wD(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function vr(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var o1=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),c1=function(){return Math.random().toString(36).substring(7).split("").join(".")},l1={INIT:"@@redux/INIT"+c1(),REPLACE:"@@redux/REPLACE"+c1()};function ED(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function ky(t,e,n){var i;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(vr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(vr(1));return n(ky)(t,e)}if(typeof t!="function")throw new Error(vr(2));var a=t,c=e,u=[],f=u,d=!1;function h(){f===u&&(f=u.slice())}function m(){if(d)throw new Error(vr(3));return c}function g(C){if(typeof C!="function")throw new Error(vr(4));if(d)throw new Error(vr(5));var M=!0;return h(),f.push(C),function(){if(M){if(d)throw new Error(vr(6));M=!1,h();var N=f.indexOf(C);f.splice(N,1),u=null}}}function b(C){if(!ED(C))throw new Error(vr(7));if(typeof C.type>"u")throw new Error(vr(8));if(d)throw new Error(vr(9));try{d=!0,c=a(c,C)}finally{d=!1}for(var M=u=f,D=0;D<M.length;D++){var N=M[D];N()}return C}function x(C){if(typeof C!="function")throw new Error(vr(10));a=C,b({type:l1.REPLACE})}function E(){var C,M=g;return C={subscribe:function(N){if(typeof N!="object"||N===null)throw new Error(vr(11));function k(){N.next&&N.next(m())}k();var j=M(k);return{unsubscribe:j}}},C[o1]=function(){return this},C}return b({type:l1.INIT}),i={dispatch:b,subscribe:g,getState:m,replaceReducer:x},i[o1]=E,i}function pE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(i){return i}:e.length===1?e[0]:e.reduce(function(i,a){return function(){return i(a.apply(void 0,arguments))}})}function mE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(i){return function(){var a=i.apply(void 0,arguments),c=function(){throw new Error(vr(15))},u={getState:a.getState,dispatch:function(){return c.apply(void 0,arguments)}},f=e.map(function(d){return d(u)});return c=pE.apply(void 0,f)(a.dispatch),a1(a1({},a),{},{dispatch:c})}}}function jy({game:t,numPlayers:e,setupData:n}){t=Vc(t),e||(e=2);const i=t.flow.ctx(e);let a={G:{},ctx:i,plugins:{}};a=iD(a,{game:t}),a=_m(a,{game:t,playerID:void 0});const c=so(a);a.G=t.setup({...c,ctx:a.ctx},n);let u={...a,_undo:[],_redo:[],_stateID:0};return u=t.flow.init(u),[u]=sE(u,{game:t}),t.disableUndo||(u._undo=[{G:u.G,ctx:u.ctx,plugins:u.plugins}]),u}let zf=class{constructor({transportDataCallback:e,gameName:n,playerID:i,matchID:a,credentials:c,numPlayers:u}){this.connectionStatusCallback=()=>{},this.isConnected=!1,this.transportDataCallback=e,this.gameName=n||"default",this.playerID=i||null,this.matchID=a||"default",this.credentials=c,this.numPlayers=u||2}subscribeToConnectionStatus(e){this.connectionStatusCallback=e}setConnectionStatus(e){this.isConnected=e,this.connectionStatusCallback()}notifyClient(e){this.transportDataCallback(e)}};class CD extends zf{connect(){}disconnect(){}sendAction(){}sendChatMessage(){}requestSync(){}updateCredentials(){}updateMatchID(){}updatePlayerID(){}}const TD=t=>new CD(t);class RD{constructor(){this.debugPanel=null,this.currentClient=null,this.clients=new Map,this.subscribers=new Map}register(e){this.clients.set(e,e),this.mountDebug(e),this.notifySubscribers()}unregister(e){if(this.clients.delete(e),this.currentClient===e){this.unmountDebug();for(const[n]of this.clients){if(this.debugPanel)break;this.mountDebug(n)}}this.notifySubscribers()}subscribe(e){const n=Symbol();return this.subscribers.set(n,e),e(this.getState()),()=>{this.subscribers.delete(n)}}switchPlayerID(e){if(this.currentClient.multiplayer){for(const[n]of this.clients)if(n.playerID===e&&n.debugOpt!==!1&&n.multiplayer===this.currentClient.multiplayer){this.switchToClient(n);return}}this.currentClient.updatePlayerID(e),this.notifySubscribers()}switchToClient(e){e!==this.currentClient&&(this.unmountDebug(),this.mountDebug(e),this.notifySubscribers())}notifySubscribers(){const e=this.getState();this.subscribers.forEach(n=>{n(e)})}getState(){return{client:this.currentClient,debuggableClients:this.getDebuggableClients()}}getDebuggableClients(){return[...this.clients.values()].filter(e=>e.debugOpt!==!1)}mountDebug(e){if(e.debugOpt===!1||this.debugPanel!==null||typeof document>"u")return;let n,i=document.body;e.debugOpt&&e.debugOpt!==!0&&(n=e.debugOpt.impl||n,i=e.debugOpt.target||i),n&&(this.currentClient=e,this.debugPanel=new n({target:i,props:{clientManager:this}}))}unmountDebug(){this.debugPanel.$destroy(),this.debugPanel=null,this.currentClient=null}}const AD=new RD;function Cm(t,e,n){return!n&&t==null&&(t=e.getState().ctx.currentPlayer),t}function Ly(t,e,n,i,a,c){const u={};for(const f of e)u[f]=(...d)=>{const h=ZN[t](f,d,Cm(i,n,c),a);n.dispatch(h)};return u}const OD=Ly.bind(null,"makeMove"),MD=Ly.bind(null,"gameEvent"),PD=Ly.bind(null,"plugin");class ND{constructor({game:e,debug:n,numPlayers:i,multiplayer:a,matchID:c,playerID:u,credentials:f,enhancer:d}){this.game=Vc(e),this.playerID=u,this.matchID=c||"default",this.credentials=f,this.multiplayer=a,this.debugOpt=n,this.manager=AD,this.gameStateOverride=null,this.subscribers={},this._running=!1,this.reducer=Uf({game:this.game,isClient:a!==void 0}),this.initialState=null,a||(this.initialState=jy({game:this.game,numPlayers:i})),this.reset=()=>{this.store.dispatch(eE(this.initialState))},this.undo=()=>{const x=tE(Cm(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(x)},this.redo=()=>{const x=nE(Cm(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(x)},this.log=[];const b=mE(hE,()=>x=>E=>{const C=x(E);return this.notifySubscribers(),C},x=>E=>C=>{const M=x.getState(),D=E(C);return!("clientOnly"in C)&&C.type!==Lf&&this.transport.sendAction(M,C),D},x=>E=>C=>{const M=E(C),D=x.getState();switch(C.type){case Nc:case Df:case jf:case kf:{const N=D.deltalog;this.log=[...this.log,...N];break}case Ay:{this.log=[];break}case Py:case My:{let N=-1;this.log.length>0&&(N=this.log[this.log.length-1]._stateID);let k=C.deltalog||[];k=k.filter(j=>j._stateID>N),this.log=[...this.log,...k];break}case Oy:{this.initialState=C.initialState,this.log=C.log||[];break}}return M});d=d!==void 0?pE(b,d):b,this.store=ky(this.reducer,this.initialState,d),a||(a=TD),this.transport=a({transportDataCallback:x=>this.receiveTransportData(x),gameKey:e,game:this.game,matchID:c,playerID:u,credentials:f,gameName:this.game.name,numPlayers:i}),this.createDispatchers(),this.chatMessages=[],this.sendChatMessage=x=>{this.transport.sendChatMessage(this.matchID,{id:DN(7),sender:this.playerID,payload:x})}}receiveMatchData(e){this.matchData=e,this.notifySubscribers()}receiveChatMessage(e){this.chatMessages=[...this.chatMessages,e],this.notifySubscribers()}receiveTransportData(e){const[n]=e.args;if(n===this.matchID)switch(e.type){case"sync":{const[,i]=e.args,a=Zw(i);this.receiveMatchData(i.filteredMetadata),this.store.dispatch(a);break}case"update":{const[,i,a]=e.args,c=this.store.getState();if(i._stateID>=c._stateID){const u=Ww(i,a);this.store.dispatch(u)}break}case"patch":{const[,i,a,c,u]=e.args,f=this.store.getState()._stateID;if(i!==f)break;const d=Jw(i,a,c,u);this.store.dispatch(d),this.store.getState()._stateID===f&&this.transport.requestSync();break}case"matchData":{const[,i]=e.args;this.receiveMatchData(i);break}case"chat":{const[,i]=e.args;this.receiveChatMessage(i);break}}}notifySubscribers(){Object.values(this.subscribers).forEach(e=>e(this.getState()))}overrideGameState(e){this.gameStateOverride=e,this.notifySubscribers()}start(){this.transport.connect(),this._running=!0,this.manager.register(this)}stop(){this.transport.disconnect(),this._running=!1,this.manager.unregister(this)}subscribe(e){const n=Object.keys(this.subscribers).length;return this.subscribers[n]=e,this.transport.subscribeToConnectionStatus(()=>this.notifySubscribers()),(this._running||!this.multiplayer)&&e(this.getState()),()=>{delete this.subscribers[n]}}getInitialState(){return this.initialState}getState(){let e=this.store.getState();if(this.gameStateOverride!==null&&(e=this.gameStateOverride),e===null)return e;let n=!0;const i=this.game.flow.isPlayerActive(e.G,e.ctx,this.playerID);return this.multiplayer&&!i&&(n=!1),!this.multiplayer&&this.playerID!==null&&this.playerID!==void 0&&!i&&(n=!1),e.ctx.gameover!==void 0&&(n=!1),this.multiplayer||(e={...e,G:this.game.playerView({G:e.G,ctx:e.ctx,playerID:this.playerID}),plugins:aE(e,this)}),{...e,log:this.log,isActive:n,isConnected:this.transport.isConnected}}createDispatchers(){this.moves=OD(this.game.moveNames,this.store,this.playerID,this.credentials,this.multiplayer),this.events=MD(this.game.flow.enabledEventNames,this.store,this.playerID,this.credentials,this.multiplayer),this.plugins=PD(this.game.pluginNames,this.store,this.playerID,this.credentials,this.multiplayer)}updatePlayerID(e){this.playerID=e,this.createDispatchers(),this.transport.updatePlayerID(e),this.notifySubscribers()}updateMatchID(e){this.matchID=e,this.createDispatchers(),this.transport.updateMatchID(e),this.notifySubscribers()}updateCredentials(e){this.credentials=e,this.createDispatchers(),this.transport.updateCredentials(e),this.notifySubscribers()}}function DD(t){return new ND(t)}const yE=(t,e)=>{if(!t||typeof t!="string")throw new Error(`Expected ${e} string, got "${t}".`)},Gs=t=>yE(t,"game name"),lc=t=>yE(t,"match ID"),uc=(t,e)=>{if(!t)throw new Error(`Expected body, got “${t}”.`);for(const n in e){const i=e[n],a=Array.isArray(i)?i:[i],c=t[n];if(!a.includes(typeof c)){const u=a.join("|");throw new TypeError(`Expected body.${n} to be of type ${u}, got “${c}”.`)}}};class kD extends Error{constructor(e,n){super(e),this.details=n}}class jD{constructor({server:e=""}={}){this.server=e.replace(/\/$/,"")}async request(e,n){const i=await fetch(this.server+e,n);if(!i.ok){let a;try{a=await i.clone().json()}catch{try{a=await i.text()}catch(c){a=c.message}}throw new kD(`HTTP status ${i.status}`,a)}return i.json()}async post(e,n){let i={method:"post",body:JSON.stringify(n.body),headers:{"Content-Type":"application/json"}};return n.init&&(i={...i,...n.init,headers:{...i.headers,...n.init.headers}}),this.request(e,i)}async listGames(e){return this.request("/games",e)}async listMatches(e,n,i){Gs(e);let a="";if(n){const c=[],{isGameover:u,updatedBefore:f,updatedAfter:d}=n;u!==void 0&&c.push(`isGameover=${u}`),f&&c.push(`updatedBefore=${f}`),d&&c.push(`updatedAfter=${d}`),c.length>0&&(a="?"+c.join("&"))}return this.request(`/games/${e}${a}`,i)}async getMatch(e,n,i){return Gs(e),lc(n),this.request(`/games/${e}/${n}`,i)}async createMatch(e,n,i){return Gs(e),uc(n,{numPlayers:"number"}),this.post(`/games/${e}/create`,{body:n,init:i})}async joinMatch(e,n,i,a){return Gs(e),lc(n),uc(i,{playerID:["string","undefined"],playerName:"string"}),this.post(`/games/${e}/${n}/join`,{body:i,init:a})}async leaveMatch(e,n,i,a){Gs(e),lc(n),uc(i,{playerID:"string",credentials:"string"}),await this.post(`/games/${e}/${n}/leave`,{body:i,init:a})}async updatePlayer(e,n,i,a){Gs(e),lc(n),uc(i,{playerID:"string",credentials:"string"}),await this.post(`/games/${e}/${n}/update`,{body:i,init:a})}async playAgain(e,n,i,a){return Gs(e),lc(n),uc(i,{playerID:"string",credentials:"string"}),this.post(`/games/${e}/${n}/playAgain`,{body:i,init:a})}}var Ap={exports:{}},Op,u1;function LD(){if(u1)return Op;u1=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Op=t,Op}var Mp,f1;function UD(){if(f1)return Mp;f1=1;var t=LD();function e(){}function n(){}return n.resetWarningCache=e,Mp=function(){function i(u,f,d,h,m,g){if(g!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}i.isRequired=i;function a(){return i}var c={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return c.PropTypes=c,c},Mp}var d1;function zD(){return d1||(d1=1,Ap.exports=UD()()),Ap.exports}var ID=zD();const ri=Lc(ID);var $r={},yu={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var h1;function BD(){if(h1)return yu;h1=1,yu.parse=a,yu.serialize=c;var t=decodeURIComponent,e=encodeURIComponent,n=/; */,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function a(f,d){if(typeof f!="string")throw new TypeError("argument str must be a string");for(var h={},m=d||{},g=f.split(n),b=m.decode||t,x=0;x<g.length;x++){var E=g[x],C=E.indexOf("=");if(!(C<0)){var M=E.substr(0,C).trim(),D=E.substr(++C,E.length).trim();D[0]=='"'&&(D=D.slice(1,-1)),h[M]==null&&(h[M]=u(D,b))}}return h}function c(f,d,h){var m=h||{},g=m.encode||e;if(typeof g!="function")throw new TypeError("option encode is invalid");if(!i.test(f))throw new TypeError("argument name is invalid");var b=g(d);if(b&&!i.test(b))throw new TypeError("argument val is invalid");var x=f+"="+b;if(m.maxAge!=null){var E=m.maxAge-0;if(isNaN(E))throw new Error("maxAge should be a Number");x+="; Max-Age="+Math.floor(E)}if(m.domain){if(!i.test(m.domain))throw new TypeError("option domain is invalid");x+="; Domain="+m.domain}if(m.path){if(!i.test(m.path))throw new TypeError("option path is invalid");x+="; Path="+m.path}if(m.expires){if(typeof m.expires.toUTCString!="function")throw new TypeError("option expires is invalid");x+="; Expires="+m.expires.toUTCString()}if(m.httpOnly&&(x+="; HttpOnly"),m.secure&&(x+="; Secure"),m.sameSite){var C=typeof m.sameSite=="string"?m.sameSite.toLowerCase():m.sameSite;switch(C){case!0:x+="; SameSite=Strict";break;case"lax":x+="; SameSite=Lax";break;case"strict":x+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return x}function u(f,d){try{return d(f)}catch{return f}}return yu}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Pp,p1;function HD(){if(p1)return Pp;p1=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function i(c){if(c==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(c)}function a(){try{if(!Object.assign)return!1;var c=new String("abc");if(c[5]="de",Object.getOwnPropertyNames(c)[0]==="5")return!1;for(var u={},f=0;f<10;f++)u["_"+String.fromCharCode(f)]=f;var d=Object.getOwnPropertyNames(u).map(function(m){return u[m]});if(d.join("")!=="0123456789")return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(m){h[m]=m}),Object.keys(Object.assign({},h)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Pp=a()?Object.assign:function(c,u){for(var f,d=i(c),h,m=1;m<arguments.length;m++){f=Object(arguments[m]);for(var g in f)e.call(f,g)&&(d[g]=f[g]);if(t){h=t(f);for(var b=0;b<h.length;b++)n.call(f,h[b])&&(d[h[b]]=f[h[b]])}}return d},Pp}var m1;function $D(){if(m1)return $r;m1=1;var t={};Object.defineProperty($r,"__esModule",{value:!0});var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N};$r.load=g,$r.loadAll=b,$r.select=x,$r.save=E,$r.remove=C,$r.setRawCookie=M,$r.plugToRequest=D;var n=BD(),i=u(n),a=HD(),c=u(a);function u(N){return N&&N.__esModule?N:{default:N}}var f=typeof document>"u"||typeof process<"u"&&t&&!1,d={},h=void 0;function m(){return h&&!h.headersSent}function g(N,k){var j=f?d:i.default.parse(document.cookie),F=j&&j[N];if(typeof k>"u"&&(k=!F||F[0]!=="{"&&F[0]!=="["),!k)try{F=JSON.parse(F)}catch{}return F}function b(N){var k=f?d:i.default.parse(document.cookie),j=k;if(typeof N>"u"&&(N=!j||j[0]!=="{"&&j[0]!=="["),!N)try{j=JSON.parse(j)}catch{}return j}function x(N){var k=f?d:i.default.parse(document.cookie);return k?N?Object.keys(k).reduce(function(j,F){if(!N.test(F))return j;var W={};return W[F]=k[F],(0,c.default)({},j,W)},{}):k:{}}function E(N,k,j){d[N]=k,(typeof k>"u"?"undefined":e(k))==="object"&&(d[N]=JSON.stringify(k)),f||(document.cookie=i.default.serialize(N,d[N],j)),m()&&h.cookie&&h.cookie(N,k,j)}function C(N,k){delete d[N],typeof k>"u"?k={}:typeof k=="string"?k={path:k}:k=(0,c.default)({},k),typeof document<"u"&&(k.expires=new Date(1970,1,1,0,0,1),k.maxAge=0,document.cookie=i.default.serialize(N,"",k)),m()&&h.clearCookie&&h.clearCookie(N,k)}function M(N){N?d=i.default.parse(N):d={}}function D(N,k){return N.cookie?d=N.cookie:N.cookies?d=N.cookies:N.headers&&N.headers.cookie?M(N.headers.cookie):d={},h=k,function(){h=null,d={}}}return $r.default={setRawCookie:M,load:g,loadAll:b,select:x,save:E,remove:C,plugToRequest:D},$r}var VD=$D();const y1=Lc(VD);var kc;(function(t){t[t.SYNC=0]="SYNC",t[t.ASYNC=1]="ASYNC"})(kc||(kc={}));function Ks(t){return t.type()===kc.SYNC}class qD{type(){return kc.ASYNC}async createMatch(e,n){if(this.createGame)return console.warn("The database connector does not implement a createMatch method.",`
Using the deprecated createGame method instead.`),this.createGame(e,n);console.error("The database connector does not implement a createMatch method.")}async listMatches(e){if(this.listGames)return console.warn("The database connector does not implement a listMatches method.",`
Using the deprecated listGames method instead.`),this.listGames(e);console.error("The database connector does not implement a listMatches method.")}}class gE{type(){return kc.SYNC}connect(){}createMatch(e,n){if(this.createGame)return console.warn("The database connector does not implement a createMatch method.",`
Using the deprecated createGame method instead.`),this.createGame(e,n);console.error("The database connector does not implement a createMatch method.")}listMatches(e){if(this.listGames)return console.warn("The database connector does not implement a listMatches method.",`
Using the deprecated listGames method instead.`),this.listGames(e);console.error("The database connector does not implement a listMatches method.")}}const YD=({game:t,unlisted:e,setupData:n,numPlayers:i})=>{const a={gameName:t.name,unlisted:!!e,players:{},createdAt:Date.now(),updatedAt:Date.now()};n!==void 0&&(a.setupData=n);for(let c=0;c<i;c++)a.players[c]={id:c};return a},vE=({game:t,numPlayers:e,setupData:n,unlisted:i})=>{(!e||typeof e!="number")&&(e=2);const a=t.validateSetupData&&t.validateSetupData(n,e);if(a!==void 0)return{setupDataError:a};const c=YD({game:t,numPlayers:e,setupData:n,unlisted:i}),u=jy({game:t,numPlayers:e,setupData:n});return{metadata:c,initialState:u}},g1=t=>Object.values(t.players).map(e=>{const{credentials:n,...i}=e;return i}),FD=t=>{const{credentials:e,...n}=t.payload;return{...t,payload:n}};class bE{constructor(e,n,i,a){this.game=Vc(e),this.storageAPI=n,this.transportAPI=i,this.subscribeCallback=()=>{},this.auth=a}subscribe(e){this.subscribeCallback=e}async onUpdate(e,n,i,a){if(!e||!e.payload)return{error:"missing action or action payload"};let c;if(Ks(this.storageAPI)?{metadata:c}=this.storageAPI.fetch(i,{metadata:!0}):{metadata:c}=await this.storageAPI.fetch(i,{metadata:!0}),this.auth&&!await this.auth.authenticateCredentials({playerID:a,credentials:e.payload.credentials,metadata:c}))return{error:"unauthorized action"};const u=FD(e),f=i;let d;if(Ks(this.storageAPI)?{state:d}=this.storageAPI.fetch(f,{state:!0}):{state:d}=await this.storageAPI.fetch(f,{state:!0}),d===void 0)return Ht(`game not found, matchID=[${f}]`),{error:"game not found"};if(d.ctx.gameover!==void 0){Ht(`game over - matchID=[${f}] - playerID=[${a}] - action[${u.payload.type}]`);return}const h=Uf({game:this.game}),m=mE(hE),g=ky(h,d,m);if(u.type==jf||u.type==kf){const D=d.ctx.activePlayers!==null,N=d.ctx.currentPlayer===a;if(!D&&!N||D&&(d.ctx.activePlayers[a]===void 0||Object.keys(d.ctx.activePlayers).length>1)){Ht(`playerID=[${a}] cannot undo / redo right now`);return}}if(!this.game.flow.isPlayerActive(d.G,d.ctx,a)){Ht(`player not active - playerID=[${a}] - action[${u.payload.type}]`);return}const b=u.type==Nc?this.game.flow.getMove(d.ctx,u.payload.type,a):null;if(u.type==Nc&&!b){Ht(`move not processed - canPlayerMakeMove=false - playerID=[${a}] - action[${u.payload.type}]`);return}if(d._stateID!==n&&!(b&&fE(b)&&b.ignoreStaleStateID)){Ht(`invalid stateID, was=[${n}], expected=[${d._stateID}] - playerID=[${a}] - action[${u.payload.type}]`);return}const x=g.getState();g.dispatch(u),d=g.getState(),this.subscribeCallback({state:d,action:u,matchID:i}),this.game.deltaState?this.transportAPI.sendAll({type:"patch",args:[i,n,x,d]}):this.transportAPI.sendAll({type:"update",args:[i,d]});const{deltalog:E,...C}=d;let M;if(c&&(c.gameover===void 0||c.gameover===null)&&(M={...c,updatedAt:Date.now()},d.ctx.gameover!==void 0&&(M.gameover=d.ctx.gameover)),Ks(this.storageAPI))this.storageAPI.setState(f,C,E),M&&this.storageAPI.setMetadata(f,M);else{const D=[this.storageAPI.setState(f,C,E)];M&&D.push(this.storageAPI.setMetadata(f,M)),await Promise.all(D)}}async onSync(e,n,i,a=2){const c=e,u={state:!0,metadata:!0,log:!0,initialState:!0},f=Ks(this.storageAPI)?this.storageAPI.fetch(c,u):await this.storageAPI.fetch(c,u);let{state:d,initialState:h,log:m,metadata:g}=f;if(this.auth&&n!==void 0&&n!==null&&!await this.auth.authenticateCredentials({playerID:n,credentials:i,metadata:g}))return{error:"unauthorized"};if(d===void 0){const E=vE({game:this.game,unlisted:!0,numPlayers:a,setupData:void 0});if("setupDataError"in E)return{error:"game requires setupData"};h=d=E.initialState,g=E.metadata,this.subscribeCallback({state:d,matchID:e}),Ks(this.storageAPI)?this.storageAPI.createMatch(c,{initialState:h,metadata:g}):await this.storageAPI.createMatch(c,{initialState:h,metadata:g})}const b=g?g1(g):void 0,x={state:d,log:m,filteredMetadata:b,initialState:h};this.transportAPI.send({playerID:n,type:"sync",args:[e,x]})}async onConnectionChange(e,n,i,a){const c=e;if(n==null)return;let u;if(Ks(this.storageAPI)?{metadata:u}=this.storageAPI.fetch(c,{metadata:!0}):{metadata:u}=await this.storageAPI.fetch(c,{metadata:!0}),u===void 0)return Ht(`metadata not found for matchID=[${c}]`),{error:"metadata not found"};if(u.players[n]===void 0)return Ht(`Player not in the match, matchID=[${c}] playerID=[${n}]`),{error:"player not in the match"};if(this.auth&&!await this.auth.authenticateCredentials({playerID:n,credentials:i,metadata:u}))return{error:"unauthorized"};u.players[n].isConnected=a;const f=g1(u);this.transportAPI.sendAll({type:"matchData",args:[e,f]}),Ks(this.storageAPI)?this.storageAPI.setMetadata(c,u):await this.storageAPI.setMetadata(c,u)}async onChatMessage(e,n,i){const a=e;if(this.auth){const{metadata:c}=await this.storageAPI.fetch(a,{metadata:!0});if(!(n&&typeof n.sender=="string"))return{error:"unauthorized"};if(!await this.auth.authenticateCredentials({playerID:n.sender,credentials:i,metadata:c}))return{error:"unauthorized"}}this.transportAPI.sendAll({type:"chat",args:[e,n]})}}const gu=(t,e,n)=>({...n,G:t.playerView({G:n.G,ctx:n.ctx,playerID:e}),plugins:aE(n,{playerID:e,game:t}),deltalog:void 0,_undo:[],_redo:[]}),xE=t=>(e,n)=>{switch(n.type){case"patch":{const[i,a,c,u]=n.args,f=Np(u.deltalog,e),d=gu(t,e,u),h=u._stateID,m=gu(t,e,c),g=uE.createPatch(m,d);return{type:"patch",args:[i,a,h,g,f]}}case"update":{const[i,a]=n.args,c=Np(a.deltalog,e),u=gu(t,e,a);return{type:"update",args:[i,u,c]}}case"sync":{const[i,a]=n.args,c=gu(t,e,a.state),u=Np(a.log,e),f={...a,state:c,log:u};return{type:"sync",args:[i,f]}}default:return n}};function Np(t,e){return t===void 0?t:t.map(n=>{if(e!==null&&+e==+n.action.payload.playerID||n.redact!==!0)return n;const i={...n.action.payload,args:null},a={...n,action:{...n.action,payload:i}},{redact:c,...u}=a;return u})}const di=Object.create(null);di.open="0";di.close="1";di.ping="2";di.pong="3";di.message="4";di.upgrade="5";di.noop="6";const Au=Object.create(null);Object.keys(di).forEach(t=>{Au[di[t]]=t});const Tm={type:"error",data:"parser error"},SE=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",_E=typeof ArrayBuffer=="function",wE=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Uy=({type:t,data:e},n,i)=>SE&&e instanceof Blob?n?i(e):v1(e,i):_E&&(e instanceof ArrayBuffer||wE(e))?n?i(e):v1(new Blob([e]),i):i(di[t]+(e||"")),v1=(t,e)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];e("b"+(i||""))},n.readAsDataURL(t)};function b1(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Dp;function GD(t,e){if(SE&&t.data instanceof Blob)return t.data.arrayBuffer().then(b1).then(e);if(_E&&(t.data instanceof ArrayBuffer||wE(t.data)))return e(b1(t.data));Uy(t,!1,n=>{Dp||(Dp=new TextEncoder),e(Dp.encode(n))})}const x1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<x1.length;t++)gc[x1.charCodeAt(t)]=t;const KD=t=>{let e=t.length*.75,n=t.length,i,a=0,c,u,f,d;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const h=new ArrayBuffer(e),m=new Uint8Array(h);for(i=0;i<n;i+=4)c=gc[t.charCodeAt(i)],u=gc[t.charCodeAt(i+1)],f=gc[t.charCodeAt(i+2)],d=gc[t.charCodeAt(i+3)],m[a++]=c<<2|u>>4,m[a++]=(u&15)<<4|f>>2,m[a++]=(f&3)<<6|d&63;return h},XD=typeof ArrayBuffer=="function",zy=(t,e)=>{if(typeof t!="string")return{type:"message",data:EE(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:QD(t.substring(1),e)}:Au[n]?t.length>1?{type:Au[n],data:t.substring(1)}:{type:Au[n]}:Tm},QD=(t,e)=>{if(XD){const n=KD(t);return EE(n,e)}else return{base64:!0,data:t}},EE=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},CE="",ZD=(t,e)=>{const n=t.length,i=new Array(n);let a=0;t.forEach((c,u)=>{Uy(c,!1,f=>{i[u]=f,++a===n&&e(i.join(CE))})})},JD=(t,e)=>{const n=t.split(CE),i=[];for(let a=0;a<n.length;a++){const c=zy(n[a],e);if(i.push(c),c.type==="error")break}return i};function WD(){return new TransformStream({transform(t,e){GD(t,n=>{const i=n.length;let a;if(i<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,i);else if(i<65536){a=new Uint8Array(3);const c=new DataView(a.buffer);c.setUint8(0,126),c.setUint16(1,i)}else{a=new Uint8Array(9);const c=new DataView(a.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(i))}t.data&&typeof t.data!="string"&&(a[0]|=128),e.enqueue(a),e.enqueue(n)})}})}let kp;function vu(t){return t.reduce((e,n)=>e+n.length,0)}function bu(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let i=0;for(let a=0;a<e;a++)n[a]=t[0][i++],i===t[0].length&&(t.shift(),i=0);return t.length&&i<t[0].length&&(t[0]=t[0].slice(i)),n}function e4(t,e){kp||(kp=new TextDecoder);const n=[];let i=0,a=-1,c=!1;return new TransformStream({transform(u,f){for(n.push(u);;){if(i===0){if(vu(n)<1)break;const d=bu(n,1);c=(d[0]&128)===128,a=d[0]&127,a<126?i=3:a===126?i=1:i=2}else if(i===1){if(vu(n)<2)break;const d=bu(n,2);a=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),i=3}else if(i===2){if(vu(n)<8)break;const d=bu(n,8),h=new DataView(d.buffer,d.byteOffset,d.length),m=h.getUint32(0);if(m>Math.pow(2,21)-1){f.enqueue(Tm);break}a=m*Math.pow(2,32)+h.getUint32(4),i=3}else{if(vu(n)<a)break;const d=bu(n,a);f.enqueue(zy(c?d:kp.decode(d),e)),i=0}if(a===0||a>t){f.enqueue(Tm);break}}}})}const TE=4;function wn(t){if(t)return t4(t)}function t4(t){for(var e in wn.prototype)t[e]=wn.prototype[e];return t}wn.prototype.on=wn.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};wn.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};wn.prototype.off=wn.prototype.removeListener=wn.prototype.removeAllListeners=wn.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i,a=0;a<n.length;a++)if(i=n[a],i===e||i.fn===e){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+t],this};wn.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,a=n.length;i<a;++i)n[i].apply(this,e)}return this};wn.prototype.emitReserved=wn.prototype.emit;wn.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};wn.prototype.hasListeners=function(t){return!!this.listeners(t).length};const If=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),jr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),n4="arraybuffer";function RE(t,...e){return e.reduce((n,i)=>(t.hasOwnProperty(i)&&(n[i]=t[i]),n),{})}const r4=jr.setTimeout,i4=jr.clearTimeout;function Bf(t,e){e.useNativeTimers?(t.setTimeoutFn=r4.bind(jr),t.clearTimeoutFn=i4.bind(jr)):(t.setTimeoutFn=jr.setTimeout.bind(jr),t.clearTimeoutFn=jr.clearTimeout.bind(jr))}const s4=1.33;function a4(t){return typeof t=="string"?o4(t):Math.ceil((t.byteLength||t.size)*s4)}function o4(t){let e=0,n=0;for(let i=0,a=t.length;i<a;i++)e=t.charCodeAt(i),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(i++,n+=4);return n}function AE(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function c4(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function l4(t){let e={},n=t.split("&");for(let i=0,a=n.length;i<a;i++){let c=n[i].split("=");e[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return e}class u4 extends Error{constructor(e,n,i){super(e),this.description=n,this.context=i,this.type="TransportError"}}class Iy extends wn{constructor(e){super(),this.writable=!1,Bf(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,i){return super.emitReserved("error",new u4(e,n,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=zy(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=c4(e);return n.length?"?"+n:""}}class f4 extends Iy{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};JD(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,ZD(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=AE()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let OE=!1;try{OE=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const d4=OE;function h4(){}class p4 extends f4{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}}doWrite(e,n){const i=this.request({method:"POST",data:e});i.on("success",n),i.on("error",(a,c)=>{this.onError("xhr post error",a,c)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=e}}class li extends wn{constructor(e,n,i){super(),this.createRequest=e,Bf(this,i),this._opts=i,this._method=i.method||"GET",this._uri=n,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var e;const n=RE(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(n);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&i.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var a;i.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=li.requestsCount++,li.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=h4,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete li.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}li.requestsCount=0;li.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",S1);else if(typeof addEventListener=="function"){const t="onpagehide"in jr?"pagehide":"unload";addEventListener(t,S1,!1)}}function S1(){for(let t in li.requests)li.requests.hasOwnProperty(t)&&li.requests[t].abort()}const m4=(function(){const t=ME({xdomain:!1});return t&&t.responseType!==null})();class y4 extends p4{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=m4&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new li(ME,this.uri(),e)}}function ME(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||d4))return new XMLHttpRequest}catch{}if(!e)try{return new jr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const PE=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class g4 extends Iy{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,i=PE?{}:RE(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,i)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],a=n===e.length-1;Uy(i,this.supportsBinary,c=>{try{this.doWrite(i,c)}catch{}a&&If(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=AE()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const jp=jr.WebSocket||jr.MozWebSocket;class v4 extends g4{createSocket(e,n,i){return PE?new jp(e,n,i):n?new jp(e,n):new jp(e)}doWrite(e,n){this.ws.send(n)}}class b4 extends Iy{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=e4(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(n).getReader(),a=WD();a.readable.pipeTo(e.writable),this._writer=a.writable.getWriter();const c=()=>{i.read().then(({done:f,value:d})=>{f||(this.onPacket(d),c())}).catch(f=>{})};c();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this._writer.write(u).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],a=n===e.length-1;this._writer.write(i).then(()=>{a&&If(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const x4={websocket:v4,webtransport:b4,polling:y4},S4=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,_4=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Rm(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),i=t.indexOf("]");n!=-1&&i!=-1&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));let a=S4.exec(t||""),c={},u=14;for(;u--;)c[_4[u]]=a[u]||"";return n!=-1&&i!=-1&&(c.source=e,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=w4(c,c.path),c.queryKey=E4(c,c.query),c}function w4(t,e){const n=/\/{2,9}/g,i=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function E4(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,a,c){a&&(n[a]=c)}),n}const Am=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ou=[];Am&&addEventListener("offline",()=>{Ou.forEach(t=>t())},!1);class ws extends wn{constructor(e,n){if(super(),this.binaryType=n4,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const i=Rm(e);n.hostname=i.host,n.secure=i.protocol==="https"||i.protocol==="wss",n.port=i.port,i.query&&(n.query=i.query)}else n.host&&(n.hostname=Rm(n.host).host);Bf(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(i=>{const a=i.prototype.name;this.transports.push(a),this._transportsByName[a]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=l4(this.opts.query)),Am&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ou.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=TE,n.transport=e,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&ws.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",ws.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const a=this.writeBuffer[i].data;if(a&&(n+=a4(a)),i>0&&n>this._maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,If(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,i){return this._sendPacket("message",e,n,i),this}send(e,n,i){return this._sendPacket("message",e,n,i),this}_sendPacket(e,n,i,a){if(typeof n=="function"&&(a=n,n=void 0),typeof i=="function"&&(a=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const c={type:e,data:n,options:i};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}_onError(e){if(ws.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Am&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=Ou.indexOf(this._offlineEventListener);i!==-1&&Ou.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}ws.protocol=TE;class C4 extends ws{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),i=!1;ws.priorWebsocketSuccess=!1;const a=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!i)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;ws.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(m(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=n.name,this.emitReserved("upgradeError",b)}}))};function c(){i||(i=!0,m(),n.close(),n=null)}const u=g=>{const b=new Error("probe error: "+g);b.transport=n.name,c(),this.emitReserved("upgradeError",b)};function f(){u("transport closed")}function d(){u("socket closed")}function h(g){n&&g.name!==n.name&&c()}const m=()=>{n.removeListener("open",a),n.removeListener("error",u),n.removeListener("close",f),this.off("close",d),this.off("upgrading",h)};n.once("open",a),n.once("error",u),n.once("close",f),this.once("close",d),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let i=0;i<e.length;i++)~this.transports.indexOf(e[i])&&n.push(e[i]);return n}}let T4=class extends C4{constructor(e,n={}){const i=typeof e=="object"?e:n;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(a=>x4[a]).filter(a=>!!a)),super(e,i)}};function R4(t,e="",n){let i=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),i=Rm(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const c=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+c+":"+i.port+e,i.href=i.protocol+"://"+c+(n&&n.port===i.port?"":":"+i.port),i}const A4=typeof ArrayBuffer=="function",O4=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,NE=Object.prototype.toString,M4=typeof Blob=="function"||typeof Blob<"u"&&NE.call(Blob)==="[object BlobConstructor]",P4=typeof File=="function"||typeof File<"u"&&NE.call(File)==="[object FileConstructor]";function By(t){return A4&&(t instanceof ArrayBuffer||O4(t))||M4&&t instanceof Blob||P4&&t instanceof File}function Mu(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,i=t.length;n<i;n++)if(Mu(t[n]))return!0;return!1}if(By(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Mu(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Mu(t[n]))return!0;return!1}function N4(t){const e=[],n=t.data,i=t;return i.data=Om(n,e),i.attachments=e.length,{packet:i,buffers:e}}function Om(t,e){if(!t)return t;if(By(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=Om(t[i],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=Om(t[i],e));return n}return t}function D4(t,e){return t.data=Mm(t.data,e),delete t.attachments,t}function Mm(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Mm(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Mm(t[n],e));return t}const k4=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],j4=5;var Mt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Mt||(Mt={}));let L4=class{constructor(e){this.replacer=e}encode(e){return(e.type===Mt.EVENT||e.type===Mt.ACK)&&Mu(e)?this.encodeAsBinary({type:e.type===Mt.EVENT?Mt.BINARY_EVENT:Mt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Mt.BINARY_EVENT||e.type===Mt.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=N4(e),i=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(i),a}};function _1(t){return Object.prototype.toString.call(t)==="[object Object]"}let U4=class DE extends wn{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const i=n.type===Mt.BINARY_EVENT;i||n.type===Mt.BINARY_ACK?(n.type=i?Mt.EVENT:Mt.ACK,this.reconstructor=new z4(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(By(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const i={type:Number(e.charAt(0))};if(Mt[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===Mt.BINARY_EVENT||i.type===Mt.BINARY_ACK){const c=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const u=e.substring(c,n);if(u!=Number(u)||e.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(u)}if(e.charAt(n+1)==="/"){const c=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););i.nsp=e.substring(c,n)}else i.nsp="/";const a=e.charAt(n+1);if(a!==""&&Number(a)==a){const c=n+1;for(;++n;){const u=e.charAt(n);if(u==null||Number(u)!=u){--n;break}if(n===e.length)break}i.id=Number(e.substring(c,n+1))}if(e.charAt(++n)){const c=this.tryParse(e.substr(n));if(DE.isPayloadValid(i.type,c))i.data=c;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Mt.CONNECT:return _1(n);case Mt.DISCONNECT:return n===void 0;case Mt.CONNECT_ERROR:return typeof n=="string"||_1(n);case Mt.EVENT:case Mt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&k4.indexOf(n[0])===-1);case Mt.ACK:case Mt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}};class z4{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=D4(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const I4=Object.freeze(Object.defineProperty({__proto__:null,Decoder:U4,Encoder:L4,get PacketType(){return Mt},protocol:j4},Symbol.toStringTag,{value:"Module"}));function qr(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const B4=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class kE extends wn{constructor(e,n,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[qr(e,"open",this.onopen.bind(this)),qr(e,"packet",this.onpacket.bind(this)),qr(e,"error",this.onerror.bind(this)),qr(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var i,a,c;if(B4.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const u={type:Mt.EVENT,data:n};if(u.options={},u.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const m=this.ids++,g=n.pop();this._registerAckCallback(m,g),u.id=m}const f=(a=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||a===void 0?void 0:a.writable,d=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!f||(d?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u)),this.flags={},this}_registerAckCallback(e,n){var i;const a=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(a===void 0){this.acks[e]=n;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let f=0;f<this.sendBuffer.length;f++)this.sendBuffer[f].id===e&&this.sendBuffer.splice(f,1);n.call(this,new Error("operation has timed out"))},a),u=(...f)=>{this.io.clearTimeoutFn(c),n.apply(this,f)};u.withError=!0,this.acks[e]=u}emitWithAck(e,...n){return new Promise((i,a)=>{const c=(u,f)=>u?a(u):i(f);c.withError=!0,n.push(c),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((a,...c)=>i!==this._queue[0]?void 0:(a!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...c)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Mt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(i=>String(i.id)===e)){const i=this.acks[e];delete this.acks[e],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Mt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Mt.EVENT:case Mt.BINARY_EVENT:this.onevent(e);break;case Mt.ACK:case Mt.BINARY_ACK:this.onack(e);break;case Mt.DISCONNECT:this.ondisconnect();break;case Mt.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let i=!1;return function(...a){i||(i=!0,n.packet({type:Mt.ACK,id:e,data:a}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Mt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,e.data)}}}function ho(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}ho.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};ho.prototype.reset=function(){this.attempts=0};ho.prototype.setMin=function(t){this.ms=t};ho.prototype.setMax=function(t){this.max=t};ho.prototype.setJitter=function(t){this.jitter=t};class Pm extends wn{constructor(e,n){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Bf(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new ho({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const a=n.parser||I4;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new T4(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const a=qr(n,"open",function(){i.onopen(),e&&e()}),c=f=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",f),e?e(f):this.maybeReconnectOnOpen()},u=qr(n,"error",c);if(this._timeout!==!1){const f=this._timeout,d=this.setTimeoutFn(()=>{a(),c(new Error("timeout")),n.close()},f);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(a),this.subs.push(u),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(qr(e,"ping",this.onping.bind(this)),qr(e,"data",this.ondata.bind(this)),qr(e,"error",this.onerror.bind(this)),qr(e,"close",this.onclose.bind(this)),qr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){If(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new kE(this,e,n),this.nsps[e]=i),i}_destroy(e){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let i=0;i<n.length;i++)this.engine.write(n[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(a=>{a?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",a)):e.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const fc={};function Pu(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=R4(t,e.path||"/socket.io"),i=n.source,a=n.id,c=n.path,u=fc[a]&&c in fc[a].nsps,f=e.forceNew||e["force new connection"]||e.multiplex===!1||u;let d;return f?d=new Pm(i,e):(fc[a]||(fc[a]=new Pm(i,e)),d=fc[a]),n.query&&!e.query&&(e.query=n.queryKey),d.socket(n.path,e)}Object.assign(Pu,{Manager:Pm,Socket:kE,io:Pu,connect:Pu});class jE extends gE{constructor(){super(),this.state=new Map,this.initial=new Map,this.metadata=new Map,this.log=new Map}createMatch(e,n){this.initial.set(e,n.initialState),this.setState(e,n.initialState),this.setMetadata(e,n.metadata)}setMetadata(e,n){this.metadata.set(e,n)}setState(e,n,i){if(i&&i.length>0){const a=this.log.get(e)||[];this.log.set(e,[...a,...i])}this.state.set(e,n)}fetch(e,n){const i={};return n.state&&(i.state=this.state.get(e)),n.metadata&&(i.metadata=this.metadata.get(e)),n.log&&(i.log=this.log.get(e)||[]),n.initialState&&(i.initialState=this.initial.get(e)),i}wipe(e){this.state.delete(e),this.metadata.delete(e)}listMatches(e){return[...this.metadata.entries()].filter(([,n])=>e?!(e.gameName!==void 0&&n.gameName!==e.gameName||e.where!==void 0&&(e.where.isGameover!==void 0&&n.gameover!==void 0!==e.where.isGameover||e.where.updatedBefore!==void 0&&n.updatedAt>=e.where.updatedBefore||e.where.updatedAfter!==void 0&&n.updatedAt<=e.where.updatedAfter)):!0).map(([n])=>n)}}class H4 extends Map{constructor(e){super(),this.key=e,(JSON.parse(localStorage.getItem(this.key))||[]).forEach(i=>this.set(...i))}sync(){const e=[...this.entries()];localStorage.setItem(this.key,JSON.stringify(e))}set(e,n){return super.set(e,n),this.sync(),this}delete(e){const n=super.delete(e);return this.sync(),n}}class $4 extends jE{constructor(e="bgio"){super();const n=i=>new H4(`${e}_${i}`);this.state=n("state"),this.initial=n("initial"),this.metadata=n("metadata"),this.log=n("log")}}function V4(t,e){if(t.ctx.gameover!==void 0)return null;if(t.ctx.activePlayers){for(const n of Object.keys(e))if(n in t.ctx.activePlayers)return n}else if(t.ctx.currentPlayer in e)return t.ctx.currentPlayer;return null}class q4 extends bE{constructor({game:e,bots:n,storageKey:i,persist:a}){const c={},u={};if(e&&e.ai&&n)for(const g in n){const b=n[g];u[g]=new b({game:e,enumerate:e.ai.enumerate,seed:e.seed})}const f=({playerID:g,...b})=>{const x=c[g];x!==void 0&&x(d(g,b))},d=xE(e),h={send:f,sendAll:g=>{for(const b in c)f({playerID:b,...g})}},m=a?new $4(i):new jE;super(e,m,h),this.connect=(g,b)=>{c[g]=b},this.subscribe(({state:g,matchID:b})=>{if(!n)return;const x=V4(g,u);x!==null&&setTimeout(async()=>{const E=await u[x].play(g,x);await this.onUpdate(E.action,g._stateID,b,E.action.payload.playerID)},100)})}}class Y4 extends zf{constructor({master:e,...n}){super(n),this.master=e}sendChatMessage(e,n){const i=[e,n,this.credentials];this.master.onChatMessage(...i)}sendAction(e,n){this.master.onUpdate(n,e._stateID,this.matchID,this.playerID)}requestSync(){this.master.onSync(this.matchID,this.playerID,this.credentials,this.numPlayers)}connect(){this.setConnectionStatus(!0),this.master.connect(this.playerID,e=>this.notifyClient(e)),this.requestSync()}disconnect(){this.setConnectionStatus(!1)}updateMatchID(e){this.matchID=e,this.connect()}updatePlayerID(e){this.playerID=e,this.connect()}updateCredentials(e){this.credentials=e,this.connect()}}const w1=new Map;function F4({bots:t,persist:e,storageKey:n}={}){return i=>{const{gameKey:a,game:c}=i;let u;const f=w1.get(a);return f&&f.bots===t&&f.storageKey===n&&f.persist===e&&(u=f.master),u||(u=new q4({game:c,bots:t,persist:e,storageKey:n}),w1.set(a,{master:u,bots:t,persist:e,storageKey:n})),new Y4({master:u,...i})}}const E1=Pu;class G4 extends zf{constructor({socket:e,socketOpts:n,server:i,...a}){super(a),this.server=i,this.socket=e,this.socketOpts=n}sendAction(e,n){const i=[n,e._stateID,this.matchID,this.playerID];this.socket.emit("update",...i)}sendChatMessage(e,n){const i=[e,n,this.credentials];this.socket.emit("chat",...i)}connect(){if(!this.socket)if(this.server){let e=this.server;e.search(/^https?:\/\//)==-1&&(e="http://"+this.server),e.slice(-1)!="/"&&(e=e+"/"),this.socket=E1(e+this.gameName,this.socketOpts)}else this.socket=E1("/"+this.gameName,this.socketOpts);this.socket.on("patch",(e,n,i,a,c)=>{this.notifyClient({type:"patch",args:[e,n,i,a,c]})}),this.socket.on("update",(e,n,i)=>{this.notifyClient({type:"update",args:[e,n,i]})}),this.socket.on("sync",(e,n)=>{this.notifyClient({type:"sync",args:[e,n]})}),this.socket.on("matchData",(e,n)=>{this.notifyClient({type:"matchData",args:[e,n]})}),this.socket.on("chat",(e,n)=>{this.notifyClient({type:"chat",args:[e,n]})}),this.socket.on("connect",()=>{this.requestSync(),this.setConnectionStatus(!0)}),this.socket.on("disconnect",()=>{this.setConnectionStatus(!1)})}disconnect(){this.socket.close(),this.socket=null,this.setConnectionStatus(!1)}requestSync(){if(this.socket){const e=[this.matchID,this.playerID,this.credentials,this.numPlayers];this.socket.emit("sync",...e)}}updateMatchID(e){this.matchID=e,this.requestSync()}updatePlayerID(e){this.playerID=e,this.requestSync()}updateCredentials(e){this.credentials=e,this.requestSync()}}function C1({server:t,socketOpts:e}={}){return n=>new G4({server:t,socketOpts:e,...n})}function LE(t){var e;const{game:n,numPlayers:i,board:a,multiplayer:c,enhancer:u}=t;let{loading:f,debug:d}=t;return f===void 0&&(f=()=>Ne.createElement("div",{className:"bgio-loading"},"connecting...")),e=class extends Ne.Component{constructor(m){super(m),d===void 0&&(d=m.debug),this.client=DD({game:n,debug:d,numPlayers:i,multiplayer:c,matchID:m.matchID,playerID:m.playerID,credentials:m.credentials,enhancer:u})}componentDidMount(){this.unsubscribe=this.client.subscribe(()=>this.forceUpdate()),this.client.start()}componentWillUnmount(){this.client.stop(),this.unsubscribe()}componentDidUpdate(m){this.props.matchID!=m.matchID&&this.client.updateMatchID(this.props.matchID),this.props.playerID!=m.playerID&&this.client.updatePlayerID(this.props.playerID),this.props.credentials!=m.credentials&&this.client.updateCredentials(this.props.credentials)}render(){const m=this.client.getState();if(m===null)return Ne.createElement(f);let g=null;return a&&(g=Ne.createElement(a,{...m,...this.props,isMultiplayer:!!c,moves:this.client.moves,events:this.client.events,matchID:this.client.matchID,playerID:this.client.playerID,reset:this.client.reset,undo:this.client.undo,redo:this.client.redo,log:this.client.log,matchData:this.client.matchData,sendChatMessage:this.client.sendChatMessage,chatMessages:this.client.chatMessages})),Ne.createElement("div",{className:"bgio-client"},g)}},e.propTypes={matchID:ri.string,playerID:ri.string,credentials:ri.string,debug:ri.any},e.defaultProps={matchID:"default",playerID:null,credentials:null,debug:!0},e}class K4{constructor({server:e,gameComponents:n,playerName:i,playerCredentials:a}){this.client=new jD({server:e}),this.gameComponents=n,this.playerName=i||"Visitor",this.playerCredentials=a,this.matches=[]}async refresh(){try{this.matches=[];const e=await this.client.listGames();for(const n of e){if(!this._getGameComponents(n))continue;const{matches:i}=await this.client.listMatches(n);this.matches.push(...i)}}catch(e){throw new Error("failed to retrieve list of matches ("+e+")")}}_getMatchInstance(e){for(const n of this.matches)if(n.matchID===e)return n}_getGameComponents(e){for(const n of this.gameComponents)if(n.game.name===e)return n}_findPlayer(e){for(const n of this.matches)if(n.players.some(i=>i.name===e))return n}async join(e,n,i){try{let a=this._findPlayer(this.playerName);if(a)throw new Error("player has already joined "+a.matchID);if(a=this._getMatchInstance(n),!a)throw new Error("game instance "+n+" not found");const c=await this.client.joinMatch(e,n,{playerID:i,playerName:this.playerName});a.players[Number.parseInt(i)].name=this.playerName,this.playerCredentials=c.playerCredentials}catch(a){throw new Error("failed to join match "+n+" ("+a+")")}}async leave(e,n){try{const i=this._getMatchInstance(n);if(!i)throw new Error("match instance not found");for(const a of i.players)if(a.name===this.playerName){await this.client.leaveMatch(e,n,{playerID:a.id.toString(),credentials:this.playerCredentials}),delete a.name,delete this.playerCredentials;return}throw new Error("player not found in match")}catch(i){throw new Error("failed to leave match "+n+" ("+i+")")}}async disconnect(){const e=this._findPlayer(this.playerName);e&&await this.leave(e.gameName,e.matchID),this.matches=[],this.playerName="Visitor"}async create(e,n){try{const i=this._getGameComponents(e);if(!i)throw new Error("game not found");if(n<i.game.minPlayers||n>i.game.maxPlayers)throw new Error("invalid number of players "+n);await this.client.createMatch(e,{numPlayers:n})}catch(i){throw new Error("failed to create match for "+e+" ("+i+")")}}}function X4(t){return new K4(t)}class UE extends Ne.Component{constructor(){super(...arguments),this.state={playerName:this.props.playerName,nameErrorMsg:""},this.onClickEnter=()=>{this.state.playerName!==""&&this.props.onEnter(this.state.playerName)},this.onKeyPress=e=>{e.key==="Enter"&&this.onClickEnter()},this.onChangePlayerName=e=>{const n=e.target.value.trim();this.setState({playerName:n,nameErrorMsg:n.length>0?"":"empty player name"})}}render(){return Ne.createElement("div",null,Ne.createElement("p",{className:"phase-title"},"Choose a player name:"),Ne.createElement("input",{type:"text",value:this.state.playerName,onChange:this.onChangePlayerName,onKeyPress:this.onKeyPress}),Ne.createElement("span",{className:"buttons"},Ne.createElement("button",{className:"buttons",onClick:this.onClickEnter},"Enter")),Ne.createElement("br",null),Ne.createElement("span",{className:"error-msg"},this.state.nameErrorMsg,Ne.createElement("br",null)))}}UE.defaultProps={playerName:""};class Q4 extends Ne.Component{constructor(){super(...arguments),this._createSeat=e=>e.name||"[free]",this._createButtonJoin=(e,n)=>Ne.createElement("button",{key:"button-join-"+e.matchID,onClick:()=>this.props.onClickJoin(e.gameName,e.matchID,""+n)},"Join"),this._createButtonLeave=e=>Ne.createElement("button",{key:"button-leave-"+e.matchID,onClick:()=>this.props.onClickLeave(e.gameName,e.matchID)},"Leave"),this._createButtonPlay=(e,n)=>Ne.createElement("button",{key:"button-play-"+e.matchID,onClick:()=>this.props.onClickPlay(e.gameName,{matchID:e.matchID,playerID:""+n,numPlayers:e.players.length})},"Play"),this._createButtonSpectate=e=>Ne.createElement("button",{key:"button-spectate-"+e.matchID,onClick:()=>this.props.onClickPlay(e.gameName,{matchID:e.matchID,numPlayers:e.players.length})},"Spectate"),this._createInstanceButtons=e=>{const n=e.players.find(a=>a.name===this.props.playerName),i=e.players.find(a=>!a.name);return n&&i?this._createButtonLeave(e):i?this._createButtonJoin(e,i.id):n?Ne.createElement("div",null,[this._createButtonPlay(e,n.id),this._createButtonLeave(e)]):this._createButtonSpectate(e)}}render(){const e=this.props.match;let n="OPEN";return e.players.some(i=>!i.name)||(n="RUNNING"),Ne.createElement("tr",{key:"line-"+e.matchID},Ne.createElement("td",{key:"cell-name-"+e.matchID},e.gameName),Ne.createElement("td",{key:"cell-status-"+e.matchID},n),Ne.createElement("td",{key:"cell-seats-"+e.matchID},e.players.map(i=>this._createSeat(i)).join(", ")),Ne.createElement("td",{key:"cell-buttons-"+e.matchID},this._createInstanceButtons(e)))}}class Z4 extends Ne.Component{constructor(e){super(e),this.state={selectedGame:0,numPlayers:2},this._createGameNameOption=(n,i)=>Ne.createElement("option",{key:"name-option-"+i,value:i},n.game.name),this._createNumPlayersOption=n=>Ne.createElement("option",{key:"num-option-"+n,value:n},n),this._createNumPlayersRange=n=>Array.from({length:n.maxPlayers+1}).map((i,a)=>a).slice(n.minPlayers),this.onChangeNumPlayers=n=>{this.setState({numPlayers:Number.parseInt(n.target.value)})},this.onChangeSelectedGame=n=>{const i=Number.parseInt(n.target.value);this.setState({selectedGame:i,numPlayers:this.props.games[i].game.minPlayers})},this.onClickCreate=()=>{this.props.createMatch(this.props.games[this.state.selectedGame].game.name,this.state.numPlayers)};for(const n of e.games){const i=n.game;i.minPlayers||(i.minPlayers=1),i.maxPlayers||(i.maxPlayers=4),console.assert(i.maxPlayers>=i.minPlayers)}this.state={selectedGame:0,numPlayers:e.games[0].game.minPlayers}}render(){return Ne.createElement("div",null,Ne.createElement("select",{value:this.state.selectedGame,onChange:e=>this.onChangeSelectedGame(e)},this.props.games.map((e,n)=>this._createGameNameOption(e,n))),Ne.createElement("span",null,"Players:"),Ne.createElement("select",{value:this.state.numPlayers,onChange:this.onChangeNumPlayers},this._createNumPlayersRange(this.props.games[this.state.selectedGame].game).map(e=>this._createNumPlayersOption(e))),Ne.createElement("span",{className:"buttons"},Ne.createElement("button",{onClick:this.onClickCreate},"Create")))}}var ar;(function(t){t.ENTER="enter",t.PLAY="play",t.LIST="list"})(ar||(ar={}));class zE extends Ne.Component{constructor(e){super(e),this.state={phase:ar.ENTER,playerName:"Visitor",runningMatch:null,errorMsg:"",credentialStore:{}},this._createConnection=n=>{const i=this.state.playerName;this.connection=X4({server:n.lobbyServer,gameComponents:n.gameComponents,playerName:i,playerCredentials:this.state.credentialStore[i]})},this._updateCredentials=(n,i)=>{this.setState(a=>{const c=Object.assign({},a.credentialStore);return c[n]=i,{credentialStore:c}})},this._updateConnection=async()=>{await this.connection.refresh(),this.forceUpdate()},this._enterLobby=n=>{this._startRefreshInterval(),this.setState({playerName:n,phase:ar.LIST})},this._exitLobby=async()=>{this._clearRefreshInterval(),await this.connection.disconnect(),this.setState({phase:ar.ENTER,errorMsg:""})},this._createMatch=async(n,i)=>{try{await this.connection.create(n,i),await this.connection.refresh(),this.setState({})}catch(a){this.setState({errorMsg:a.message})}},this._joinMatch=async(n,i,a)=>{try{await this.connection.join(n,i,a),await this.connection.refresh(),this._updateCredentials(this.connection.playerName,this.connection.playerCredentials)}catch(c){this.setState({errorMsg:c.message})}},this._leaveMatch=async(n,i)=>{try{await this.connection.leave(n,i),await this.connection.refresh(),this._updateCredentials(this.connection.playerName,this.connection.playerCredentials)}catch(a){this.setState({errorMsg:a.message})}},this._startMatch=(n,i)=>{const a=this.connection._getGameComponents(n);if(!a){this.setState({errorMsg:"game "+n+" not supported"});return}let c;if(i.numPlayers>1&&(c=this.props.gameServer?C1({server:this.props.gameServer}):C1()),i.numPlayers==1){const d=a.game.maxPlayers,h={};for(let m=1;m<d;m++)h[m+""]=xD;c=F4({bots:h})}const f={app:this.props.clientFactory({game:a.game,board:a.board,debug:this.props.debug,multiplayer:c}),matchID:i.matchID,playerID:i.numPlayers>1?i.playerID:"0",credentials:this.connection.playerCredentials};this._clearRefreshInterval(),this.setState({phase:ar.PLAY,runningMatch:f})},this._exitMatch=()=>{this._startRefreshInterval(),this.setState({phase:ar.LIST,runningMatch:null})},this._getPhaseVisibility=n=>this.state.phase!==n?"hidden":"phase",this.renderMatches=(n,i)=>n.map(a=>{const{matchID:c,gameName:u,players:f}=a;return Ne.createElement(Q4,{key:"instance-"+c,match:{matchID:c,gameName:u,players:Object.values(f)},playerName:i,onClickJoin:this._joinMatch,onClickLeave:this._leaveMatch,onClickPlay:this._startMatch})}),this._createConnection(this.props)}componentDidMount(){const e=y1.load("lobbyState")||{};e.phase&&e.phase===ar.PLAY&&(e.phase=ar.LIST),e.phase&&e.phase!==ar.ENTER&&this._startRefreshInterval(),this.setState({phase:e.phase||ar.ENTER,playerName:e.playerName||"Visitor",credentialStore:e.credentialStore||{}})}componentDidUpdate(e,n){const i=this.state.playerName,a=this.state.credentialStore[i];if(n.phase!==this.state.phase||n.credentialStore[i]!==a||n.playerName!==i){this._createConnection(this.props),this._updateConnection();const c={phase:this.state.phase,playerName:i,credentialStore:this.state.credentialStore};y1.save("lobbyState",c,{path:"/"})}e.refreshInterval!==this.props.refreshInterval&&this._startRefreshInterval()}componentWillUnmount(){this._clearRefreshInterval()}_startRefreshInterval(){this._clearRefreshInterval(),this._currentInterval=setInterval(this._updateConnection,this.props.refreshInterval)}_clearRefreshInterval(){clearInterval(this._currentInterval)}render(){const{gameComponents:e,renderer:n}=this.props,{errorMsg:i,playerName:a,phase:c,runningMatch:u}=this.state;return n?n({errorMsg:i,gameComponents:e,matches:this.connection.matches,phase:c,playerName:a,runningMatch:u,handleEnterLobby:this._enterLobby,handleExitLobby:this._exitLobby,handleCreateMatch:this._createMatch,handleJoinMatch:this._joinMatch,handleLeaveMatch:this._leaveMatch,handleExitMatch:this._exitMatch,handleRefreshMatches:this._updateConnection,handleStartMatch:this._startMatch}):Ne.createElement("div",{id:"lobby-view",style:{padding:50}},Ne.createElement("div",{className:this._getPhaseVisibility(ar.ENTER)},Ne.createElement(UE,{key:a,playerName:a,onEnter:this._enterLobby})),Ne.createElement("div",{className:this._getPhaseVisibility(ar.LIST)},Ne.createElement("p",null,"Welcome, ",a),Ne.createElement("div",{className:"phase-title",id:"match-creation"},Ne.createElement("span",null,"Create a match:"),Ne.createElement(Z4,{games:e,createMatch:this._createMatch})),Ne.createElement("p",{className:"phase-title"},"Join a match:"),Ne.createElement("div",{id:"instances"},Ne.createElement("table",null,Ne.createElement("tbody",null,this.renderMatches(this.connection.matches,a))),Ne.createElement("span",{className:"error-msg"},i,Ne.createElement("br",null))),Ne.createElement("p",{className:"phase-title"},"Matches that become empty are automatically deleted.")),Ne.createElement("div",{className:this._getPhaseVisibility(ar.PLAY)},u&&Ne.createElement(u.app,{matchID:u.matchID,playerID:u.playerID,credentials:u.credentials}),Ne.createElement("div",{className:"buttons",id:"match-exit"},Ne.createElement("button",{onClick:this._exitMatch},"Exit match"))),Ne.createElement("div",{className:"buttons",id:"lobby-exit"},Ne.createElement("button",{onClick:this._exitLobby},"Exit lobby")))}}zE.propTypes={gameComponents:ri.array.isRequired,lobbyServer:ri.string,gameServer:ri.string,debug:ri.bool,clientFactory:ri.func,refreshInterval:ri.number};zE.defaultProps={debug:!1,clientFactory:LE,refreshInterval:2e3};var Xs={};class J4{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const n of this._parts)e.push(n);return W4(e).buffer}}function W4(t){let e=0;for(const a of t)e+=a.byteLength;const n=new Uint8Array(e);let i=0;for(const a of t){const c=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);n.set(c,i),i+=a.byteLength}return n}function IE(t){return new e5(t).unpack()}function BE(t){const e=new t5,n=e.pack(t);return n instanceof Promise?n.then(()=>e.getBuffer()):e.getBuffer()}class e5{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let n;if((n=e^160)<=15)return this.unpack_raw(n);if((n=e^176)<=15)return this.unpack_string(n);if((n=e^144)<=15)return this.unpack_array(n);if((n=e^128)<=15)return this.unpack_map(n);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),n=(e[0]&255)*256+(e[1]&255);return this.index+=2,n}unpack_uint32(){const e=this.read(4),n=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,n}unpack_uint64(){const e=this.read(8),n=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,n}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,n}unpack_string(e){const n=this.read(e);let i=0,a="",c,u;for(;i<e;)c=n[i],c<160?(u=c,i++):(c^192)<32?(u=(c&31)<<6|n[i+1]&63,i+=2):(c^224)<16?(u=(c&15)<<12|(n[i+1]&63)<<6|n[i+2]&63,i+=3):(u=(c&7)<<18|(n[i+1]&63)<<12|(n[i+2]&63)<<6|n[i+3]&63,i+=4),a+=String.fromCodePoint(u);return this.index+=e,a}unpack_array(e){const n=new Array(e);for(let i=0;i<e;i++)n[i]=this.unpack();return n}unpack_map(e){const n={};for(let i=0;i<e;i++){const a=this.unpack();n[a]=this.unpack()}return n}unpack_float(){const e=this.unpack_uint32(),n=e>>31,i=(e>>23&255)-127,a=e&8388607|8388608;return(n===0?1:-1)*a*2**(i-23)}unpack_double(){const e=this.unpack_uint32(),n=this.unpack_uint32(),i=e>>31,a=(e>>20&2047)-1023,u=(e&1048575|1048576)*2**(a-20)+n*2**(a-52);return(i===0?1:-1)*u}read(e){const n=this.index;if(n+e<=this.length)return this.dataView.subarray(n,n+e);throw new Error("BinaryPackFailure: read index out of range")}}class t5{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const n=e.constructor;if(e instanceof Array){const i=this.pack_array(e);if(i instanceof Promise)return i.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const i=e;this.pack_bin(new Uint8Array(i.buffer,i.byteOffset,i.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(i=>{this.pack_bin(new Uint8Array(i)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const i=this.pack_object(e);if(i instanceof Promise)return i.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const n=e.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const n=this._textEncoder.encode(e),i=n.length;if(i<=15)this.pack_uint8(176+i);else if(i<=65535)this._bufferBuilder.append(216),this.pack_uint16(i);else if(i<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(i);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(e){const n=e.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const i=a=>{if(a<n){const c=this.pack(e[a]);return c instanceof Promise?c.then(()=>i(a+1)):i(a+1)}};return i(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let n=0;e<0&&(n=1,e=-e);const i=Math.floor(Math.log(e)/Math.LN2),a=e/2**i-1,c=Math.floor(a*2**52),u=2**32,f=n<<31|i+1023<<20|c/u&1048575,d=c%u;this._bufferBuilder.append(203),this.pack_int32(f),this.pack_int32(d)}pack_object(e){const n=Object.keys(e),i=n.length;if(i<=15)this.pack_uint8(128+i);else if(i<=65535)this._bufferBuilder.append(222),this.pack_uint16(i);else if(i<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(i);else throw new Error("Invalid length");const a=c=>{if(c<n.length){const u=n[c];if(e.hasOwnProperty(u)){this.pack(u);const f=this.pack(e[u]);if(f instanceof Promise)return f.then(()=>a(c+1))}return a(c+1)}};return a(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const n=e&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(e){const n=e/4294967296,i=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((i&4278190080)>>>24),this._bufferBuilder.append((i&16711680)>>>16),this._bufferBuilder.append((i&65280)>>>8),this._bufferBuilder.append(i&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const n=Math.floor(e/4294967296),i=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((i&4278190080)>>>24),this._bufferBuilder.append((i&16711680)>>>16),this._bufferBuilder.append((i&65280)>>>8),this._bufferBuilder.append(i&255)}constructor(){this._bufferBuilder=new J4,this._textEncoder=new TextEncoder}}let HE=!0,$E=!0;function vc(t,e,n){const i=t.match(e);return i&&i.length>=n&&parseFloat(i[n],10)}function ca(t,e,n){if(!t.RTCPeerConnection)return;const i=t.RTCPeerConnection.prototype,a=i.addEventListener;i.addEventListener=function(u,f){if(u!==e)return a.apply(this,arguments);const d=h=>{const m=n(h);m&&(f.handleEvent?f.handleEvent(m):f(m))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(f,d),a.apply(this,[u,d])};const c=i.removeEventListener;i.removeEventListener=function(u,f){if(u!==e||!this._eventMap||!this._eventMap[e])return c.apply(this,arguments);if(!this._eventMap[e].has(f))return c.apply(this,arguments);const d=this._eventMap[e].get(f);return this._eventMap[e].delete(f),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,c.apply(this,[u,d])},Object.defineProperty(i,"on"+e,{get(){return this["_on"+e]},set(u){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),u&&this.addEventListener(e,this["_on"+e]=u)},enumerable:!0,configurable:!0})}function n5(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(HE=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function r5(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):($E=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function VE(){if(typeof window=="object"){if(HE)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Hy(t,e){$E&&console.warn(t+" is deprecated, please use "+e+" instead.")}function i5(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.userAgentData&&n.userAgentData.brands){const i=n.userAgentData.brands.find(a=>a.brand==="Chromium");if(i)return{browser:"chrome",version:parseInt(i.version,10)}}if(n.mozGetUserMedia)e.browser="firefox",e.version=parseInt(vc(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(vc(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(vc(n.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype,e._safariVersion=vc(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function T1(t){return Object.prototype.toString.call(t)==="[object Object]"}function qE(t){return T1(t)?Object.keys(t).reduce(function(e,n){const i=T1(t[n]),a=i?qE(t[n]):t[n],c=i&&!Object.keys(a).length;return a===void 0||c?e:Object.assign(e,{[n]:a})},{}):t}function Nm(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(i=>{i.endsWith("Id")?Nm(t,t.get(e[i]),n):i.endsWith("Ids")&&e[i].forEach(a=>{Nm(t,t.get(a),n)})}))}function R1(t,e,n){const i=n?"outbound-rtp":"inbound-rtp",a=new Map;if(e===null)return a;const c=[];return t.forEach(u=>{u.type==="track"&&u.trackIdentifier===e.id&&c.push(u)}),c.forEach(u=>{t.forEach(f=>{f.type===i&&f.trackId===u.id&&Nm(t,f,a)})}),a}const A1=VE;function YE(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const i=function(f){if(typeof f!="object"||f.mandatory||f.optional)return f;const d={};return Object.keys(f).forEach(h=>{if(h==="require"||h==="advanced"||h==="mediaSource")return;const m=typeof f[h]=="object"?f[h]:{ideal:f[h]};m.exact!==void 0&&typeof m.exact=="number"&&(m.min=m.max=m.exact);const g=function(b,x){return b?b+x.charAt(0).toUpperCase()+x.slice(1):x==="deviceId"?"sourceId":x};if(m.ideal!==void 0){d.optional=d.optional||[];let b={};typeof m.ideal=="number"?(b[g("min",h)]=m.ideal,d.optional.push(b),b={},b[g("max",h)]=m.ideal,d.optional.push(b)):(b[g("",h)]=m.ideal,d.optional.push(b))}m.exact!==void 0&&typeof m.exact!="number"?(d.mandatory=d.mandatory||{},d.mandatory[g("",h)]=m.exact):["min","max"].forEach(b=>{m[b]!==void 0&&(d.mandatory=d.mandatory||{},d.mandatory[g(b,h)]=m[b])})}),f.advanced&&(d.optional=(d.optional||[]).concat(f.advanced)),d},a=function(f,d){if(e.version>=61)return d(f);if(f=JSON.parse(JSON.stringify(f)),f&&typeof f.audio=="object"){const h=function(m,g,b){g in m&&!(b in m)&&(m[b]=m[g],delete m[g])};f=JSON.parse(JSON.stringify(f)),h(f.audio,"autoGainControl","googAutoGainControl"),h(f.audio,"noiseSuppression","googNoiseSuppression"),f.audio=i(f.audio)}if(f&&typeof f.video=="object"){let h=f.video.facingMode;h=h&&(typeof h=="object"?h:{ideal:h});const m=e.version<66;if(h&&(h.exact==="user"||h.exact==="environment"||h.ideal==="user"||h.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!m)){delete f.video.facingMode;let g;if(h.exact==="environment"||h.ideal==="environment"?g=["back","rear"]:(h.exact==="user"||h.ideal==="user")&&(g=["front"]),g)return n.mediaDevices.enumerateDevices().then(b=>{b=b.filter(E=>E.kind==="videoinput");let x=b.find(E=>g.some(C=>E.label.toLowerCase().includes(C)));return!x&&b.length&&g.includes("back")&&(x=b[b.length-1]),x&&(f.video.deviceId=h.exact?{exact:x.deviceId}:{ideal:x.deviceId}),f.video=i(f.video),A1("chrome: "+JSON.stringify(f)),d(f)})}f.video=i(f.video)}return A1("chrome: "+JSON.stringify(f)),d(f)},c=function(f){return e.version>=64?f:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[f.name]||f.name,message:f.message,constraint:f.constraint||f.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},u=function(f,d,h){a(f,m=>{n.webkitGetUserMedia(m,d,g=>{h&&h(c(g))})})};if(n.getUserMedia=u.bind(n),n.mediaDevices.getUserMedia){const f=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(d){return a(d,h=>f(h).then(m=>{if(h.audio&&!m.getAudioTracks().length||h.video&&!m.getVideoTracks().length)throw m.getTracks().forEach(g=>{g.stop()}),new DOMException("","NotFoundError");return m},m=>Promise.reject(c(m))))}}}function FE(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function GE(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=i=>{i.stream.addEventListener("addtrack",a=>{let c;t.RTCPeerConnection.prototype.getReceivers?c=this.getReceivers().find(f=>f.track&&f.track.id===a.track.id):c={track:a.track};const u=new Event("track");u.track=a.track,u.receiver=c,u.transceiver={receiver:c},u.streams=[i.stream],this.dispatchEvent(u)}),i.stream.getTracks().forEach(a=>{let c;t.RTCPeerConnection.prototype.getReceivers?c=this.getReceivers().find(f=>f.track&&f.track.id===a.id):c={track:a};const u=new Event("track");u.track=a,u.receiver=c,u.transceiver={receiver:c},u.streams=[i.stream],this.dispatchEvent(u)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else ca(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function KE(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(a,c){return{track:c,get dtmf(){return this._dtmf===void 0&&(c.kind==="audio"?this._dtmf=a.createDTMFSender(c):this._dtmf=null),this._dtmf},_pc:a}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const a=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(f,d){let h=a.apply(this,arguments);return h||(h=e(this,f),this._senders.push(h)),h};const c=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(f){c.apply(this,arguments);const d=this._senders.indexOf(f);d!==-1&&this._senders.splice(d,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(c){this._senders=this._senders||[],n.apply(this,[c]),c.getTracks().forEach(u=>{this._senders.push(e(this,u))})};const i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(c){this._senders=this._senders||[],i.apply(this,[c]),c.getTracks().forEach(u=>{const f=this._senders.find(d=>d.track===u);f&&this._senders.splice(this._senders.indexOf(f),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const i=e.apply(this,[]);return i.forEach(a=>a._pc=this),i},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function XE(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const c=n.apply(this,[]);return c.forEach(u=>u._pc=this),c});const i=t.RTCPeerConnection.prototype.addTrack;i&&(t.RTCPeerConnection.prototype.addTrack=function(){const c=i.apply(this,arguments);return c._pc=this,c}),t.RTCRtpSender.prototype.getStats=function(){const c=this;return this._pc.getStats().then(u=>R1(u,c.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const a=n.apply(this,[]);return a.forEach(c=>c._pc=this),a}),ca(t,"track",i=>(i.receiver._pc=i.srcElement,i)),t.RTCRtpReceiver.prototype.getStats=function(){const a=this;return this._pc.getStats().then(c=>R1(c,a.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const i=arguments[0];let a,c,u;return this.getSenders().forEach(f=>{f.track===i&&(a?u=!0:a=f)}),this.getReceivers().forEach(f=>(f.track===i&&(c?u=!0:c=f),f.track===i)),u||a&&c?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):a?a.getStats():c?c.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function QE(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(u=>this._shimmedLocalStreams[u][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(u,f){if(!f)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const d=e.apply(this,arguments);return this._shimmedLocalStreams[f.id]?this._shimmedLocalStreams[f.id].indexOf(d)===-1&&this._shimmedLocalStreams[f.id].push(d):this._shimmedLocalStreams[f.id]=[f,d],d};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(u){this._shimmedLocalStreams=this._shimmedLocalStreams||{},u.getTracks().forEach(h=>{if(this.getSenders().find(g=>g.track===h))throw new DOMException("Track already exists.","InvalidAccessError")});const f=this.getSenders();n.apply(this,arguments);const d=this.getSenders().filter(h=>f.indexOf(h)===-1);this._shimmedLocalStreams[u.id]=[u].concat(d)};const i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(u){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[u.id],i.apply(this,arguments)};const a=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(u){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},u&&Object.keys(this._shimmedLocalStreams).forEach(f=>{const d=this._shimmedLocalStreams[f].indexOf(u);d!==-1&&this._shimmedLocalStreams[f].splice(d,1),this._shimmedLocalStreams[f].length===1&&delete this._shimmedLocalStreams[f]}),a.apply(this,arguments)}}function ZE(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return QE(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const m=n.apply(this);return this._reverseStreams=this._reverseStreams||{},m.map(g=>this._reverseStreams[g.id])};const i=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(m){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},m.getTracks().forEach(g=>{if(this.getSenders().find(x=>x.track===g))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[m.id]){const g=new t.MediaStream(m.getTracks());this._streams[m.id]=g,this._reverseStreams[g.id]=m,m=g}i.apply(this,[m])};const a=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(m){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},a.apply(this,[this._streams[m.id]||m]),delete this._reverseStreams[this._streams[m.id]?this._streams[m.id].id:m.id],delete this._streams[m.id]},t.RTCPeerConnection.prototype.addTrack=function(m,g){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const b=[].slice.call(arguments,1);if(b.length!==1||!b[0].getTracks().find(C=>C===m))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(C=>C.track===m))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const E=this._streams[g.id];if(E)E.addTrack(m),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const C=new t.MediaStream([m]);this._streams[g.id]=C,this._reverseStreams[C.id]=g,this.addStream(C)}return this.getSenders().find(C=>C.track===m)};function c(h,m){let g=m.sdp;return Object.keys(h._reverseStreams||[]).forEach(b=>{const x=h._reverseStreams[b],E=h._streams[x.id];g=g.replace(new RegExp(E.id,"g"),x.id)}),new RTCSessionDescription({type:m.type,sdp:g})}function u(h,m){let g=m.sdp;return Object.keys(h._reverseStreams||[]).forEach(b=>{const x=h._reverseStreams[b],E=h._streams[x.id];g=g.replace(new RegExp(x.id,"g"),E.id)}),new RTCSessionDescription({type:m.type,sdp:g})}["createOffer","createAnswer"].forEach(function(h){const m=t.RTCPeerConnection.prototype[h],g={[h](){const b=arguments;return arguments.length&&typeof arguments[0]=="function"?m.apply(this,[E=>{const C=c(this,E);b[0].apply(null,[C])},E=>{b[1]&&b[1].apply(null,E)},arguments[2]]):m.apply(this,arguments).then(E=>c(this,E))}};t.RTCPeerConnection.prototype[h]=g[h]});const f=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?f.apply(this,arguments):(arguments[0]=u(this,arguments[0]),f.apply(this,arguments))};const d=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const h=d.get.apply(this);return h.type===""?h:c(this,h)}}),t.RTCPeerConnection.prototype.removeTrack=function(m){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!m._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(m._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let b;Object.keys(this._streams).forEach(x=>{this._streams[x].getTracks().find(C=>m.track===C)&&(b=this._streams[x])}),b&&(b.getTracks().length===1?this.removeStream(this._reverseStreams[b.id]):b.removeTrack(m.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Dm(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const i=t.RTCPeerConnection.prototype[n],a={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=a[n]})}function JE(t,e){ca(t,"negotiationneeded",n=>{const i=n.target;if(!((e.version<72||i.getConfiguration&&i.getConfiguration().sdpSemantics==="plan-b")&&i.signalingState!=="stable"))return n})}const O1=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:JE,shimAddTrackRemoveTrack:ZE,shimAddTrackRemoveTrackWithNative:QE,shimGetSendersWithDtmf:KE,shimGetUserMedia:YE,shimMediaStream:FE,shimOnTrack:GE,shimPeerConnection:Dm,shimSenderReceiverGetStats:XE},Symbol.toStringTag,{value:"Module"}));function WE(t,e){const n=t&&t.navigator,i=t&&t.MediaStreamTrack;if(n.getUserMedia=function(a,c,u){Hy("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(a).then(c,u)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const a=function(u,f,d){f in u&&!(d in u)&&(u[d]=u[f],delete u[f])},c=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(u){return typeof u=="object"&&typeof u.audio=="object"&&(u=JSON.parse(JSON.stringify(u)),a(u.audio,"autoGainControl","mozAutoGainControl"),a(u.audio,"noiseSuppression","mozNoiseSuppression")),c(u)},i&&i.prototype.getSettings){const u=i.prototype.getSettings;i.prototype.getSettings=function(){const f=u.apply(this,arguments);return a(f,"mozAutoGainControl","autoGainControl"),a(f,"mozNoiseSuppression","noiseSuppression"),f}}if(i&&i.prototype.applyConstraints){const u=i.prototype.applyConstraints;i.prototype.applyConstraints=function(f){return this.kind==="audio"&&typeof f=="object"&&(f=JSON.parse(JSON.stringify(f)),a(f,"autoGainControl","mozAutoGainControl"),a(f,"noiseSuppression","mozNoiseSuppression")),u.apply(this,[f])}}}}function s5(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(i){if(!(i&&i.video)){const a=new DOMException("getDisplayMedia without video constraints is undefined");return a.name="NotFoundError",a.code=8,Promise.reject(a)}return i.video===!0?i.video={mediaSource:e}:i.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(i)})}function eC(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function km(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(a){const c=t.RTCPeerConnection.prototype[a],u={[a](){return arguments[0]=new(a==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),c.apply(this,arguments)}};t.RTCPeerConnection.prototype[a]=u[a]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},i=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[c,u,f]=arguments;return i.apply(this,[c||null]).then(d=>{if(e.version<53&&!u)try{d.forEach(h=>{h.type=n[h.type]||h.type})}catch(h){if(h.name!=="TypeError")throw h;d.forEach((m,g)=>{d.set(g,Object.assign({},m,{type:n[m.type]||m.type}))})}return d}).then(u,f)}}function tC(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const a=e.apply(this,[]);return a.forEach(c=>c._pc=this),a});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const a=n.apply(this,arguments);return a._pc=this,a}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function nC(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const i=e.apply(this,[]);return i.forEach(a=>a._pc=this),i}),ca(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function rC(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){Hy("removeStream","removeTrack"),this.getSenders().forEach(i=>{i.track&&n.getTracks().includes(i.track)&&this.removeTrack(i)})})}function iC(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function sC(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let i=arguments[1]&&arguments[1].sendEncodings;i===void 0&&(i=[]),i=[...i];const a=i.length>0;a&&i.forEach(u=>{if("rid"in u&&!/^[a-z0-9]{0,16}$/i.test(u.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in u&&!(parseFloat(u.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in u&&!(parseFloat(u.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const c=e.apply(this,arguments);if(a){const{sender:u}=c,f=u.getParameters();(!("encodings"in f)||f.encodings.length===1&&Object.keys(f.encodings[0]).length===0)&&(f.encodings=i,u.sendEncodings=i,this.setParametersPromises.push(u.setParameters(f).then(()=>{delete u.sendEncodings}).catch(()=>{delete u.sendEncodings})))}return c})}function aC(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const i=e.apply(this,arguments);return"encodings"in i||(i.encodings=[].concat(this.sendEncodings||[{}])),i})}function oC(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function cC(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const M1=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:sC,shimCreateAnswer:cC,shimCreateOffer:oC,shimGetDisplayMedia:s5,shimGetParameters:aC,shimGetUserMedia:WE,shimOnTrack:eC,shimPeerConnection:km,shimRTCDataChannel:iC,shimReceiverGetStats:nC,shimRemoveStream:rC,shimSenderGetStats:tC},Symbol.toStringTag,{value:"Module"}));function lC(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(i){this._localStreams||(this._localStreams=[]),this._localStreams.includes(i)||this._localStreams.push(i),i.getAudioTracks().forEach(a=>e.call(this,a,i)),i.getVideoTracks().forEach(a=>e.call(this,a,i))},t.RTCPeerConnection.prototype.addTrack=function(i,...a){return a&&a.forEach(c=>{this._localStreams?this._localStreams.includes(c)||this._localStreams.push(c):this._localStreams=[c]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const i=this._localStreams.indexOf(n);if(i===-1)return;this._localStreams.splice(i,1);const a=n.getTracks();this.getSenders().forEach(c=>{a.includes(c.track)&&this.removeTrack(c)})})}}function uC(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=i=>{i.streams.forEach(a=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(a))return;this._remoteStreams.push(a);const c=new Event("addstream");c.stream=a,this.dispatchEvent(c)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const i=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(a){a.streams.forEach(c=>{if(i._remoteStreams||(i._remoteStreams=[]),i._remoteStreams.indexOf(c)>=0)return;i._remoteStreams.push(c);const u=new Event("addstream");u.stream=c,i.dispatchEvent(u)})}),e.apply(i,arguments)}}}function fC(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,i=e.createAnswer,a=e.setLocalDescription,c=e.setRemoteDescription,u=e.addIceCandidate;e.createOffer=function(h,m){const g=arguments.length>=2?arguments[2]:arguments[0],b=n.apply(this,[g]);return m?(b.then(h,m),Promise.resolve()):b},e.createAnswer=function(h,m){const g=arguments.length>=2?arguments[2]:arguments[0],b=i.apply(this,[g]);return m?(b.then(h,m),Promise.resolve()):b};let f=function(d,h,m){const g=a.apply(this,[d]);return m?(g.then(h,m),Promise.resolve()):g};e.setLocalDescription=f,f=function(d,h,m){const g=c.apply(this,[d]);return m?(g.then(h,m),Promise.resolve()):g},e.setRemoteDescription=f,f=function(d,h,m){const g=u.apply(this,[d]);return m?(g.then(h,m),Promise.resolve()):g},e.addIceCandidate=f}function dC(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,i=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=a=>i(hC(a))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(i,a,c){e.mediaDevices.getUserMedia(i).then(a,c)}).bind(e))}function hC(t){return t&&t.video!==void 0?Object.assign({},t,{video:qE(t.video)}):t}function pC(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(i,a){if(i&&i.iceServers){const c=[];for(let u=0;u<i.iceServers.length;u++){let f=i.iceServers[u];f.urls===void 0&&f.url?(Hy("RTCIceServer.url","RTCIceServer.urls"),f=JSON.parse(JSON.stringify(f)),f.urls=f.url,delete f.url,c.push(f)):c.push(i.iceServers[u])}i.iceServers=c}return new e(i,a)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function mC(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function yC(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(i){if(i){typeof i.offerToReceiveAudio<"u"&&(i.offerToReceiveAudio=!!i.offerToReceiveAudio);const a=this.getTransceivers().find(u=>u.receiver.track.kind==="audio");i.offerToReceiveAudio===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):i.offerToReceiveAudio===!0&&!a&&this.addTransceiver("audio",{direction:"recvonly"}),typeof i.offerToReceiveVideo<"u"&&(i.offerToReceiveVideo=!!i.offerToReceiveVideo);const c=this.getTransceivers().find(u=>u.receiver.track.kind==="video");i.offerToReceiveVideo===!1&&c?c.direction==="sendrecv"?c.setDirection?c.setDirection("sendonly"):c.direction="sendonly":c.direction==="recvonly"&&(c.setDirection?c.setDirection("inactive"):c.direction="inactive"):i.offerToReceiveVideo===!0&&!c&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function gC(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const P1=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:gC,shimCallbacksAPI:fC,shimConstraints:hC,shimCreateOfferLegacy:yC,shimGetUserMedia:dC,shimLocalStreamsAPI:lC,shimRTCIceServerUrls:pC,shimRemoteStreamsAPI:uC,shimTrackEventTransceiver:mC},Symbol.toStringTag,{value:"Module"}));var Lp={exports:{}},N1;function a5(){return N1||(N1=1,(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(i=>i.trim())},e.splitSections=function(n){return n.split(`
m=`).map((a,c)=>(c>0?"m="+a:a).trim()+`\r
`)},e.getDescription=function(n){const i=e.splitSections(n);return i&&i[0]},e.getMediaSections=function(n){const i=e.splitSections(n);return i.shift(),i},e.matchPrefix=function(n,i){return e.splitLines(n).filter(a=>a.indexOf(i)===0)},e.parseCandidate=function(n){let i;n.indexOf("a=candidate:")===0?i=n.substring(12).split(" "):i=n.substring(10).split(" ");const a={foundation:i[0],component:{1:"rtp",2:"rtcp"}[i[1]]||i[1],protocol:i[2].toLowerCase(),priority:parseInt(i[3],10),ip:i[4],address:i[4],port:parseInt(i[5],10),type:i[7]};for(let c=8;c<i.length;c+=2)switch(i[c]){case"raddr":a.relatedAddress=i[c+1];break;case"rport":a.relatedPort=parseInt(i[c+1],10);break;case"tcptype":a.tcpType=i[c+1];break;case"ufrag":a.ufrag=i[c+1],a.usernameFragment=i[c+1];break;default:a[i[c]]===void 0&&(a[i[c]]=i[c+1]);break}return a},e.writeCandidate=function(n){const i=[];i.push(n.foundation);const a=n.component;a==="rtp"?i.push(1):a==="rtcp"?i.push(2):i.push(a),i.push(n.protocol.toUpperCase()),i.push(n.priority),i.push(n.address||n.ip),i.push(n.port);const c=n.type;return i.push("typ"),i.push(c),c!=="host"&&n.relatedAddress&&n.relatedPort&&(i.push("raddr"),i.push(n.relatedAddress),i.push("rport"),i.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(i.push("tcptype"),i.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(i.push("ufrag"),i.push(n.usernameFragment||n.ufrag)),"candidate:"+i.join(" ")},e.parseIceOptions=function(n){return n.substring(14).split(" ")},e.parseRtpMap=function(n){let i=n.substring(9).split(" ");const a={payloadType:parseInt(i.shift(),10)};return i=i[0].split("/"),a.name=i[0],a.clockRate=parseInt(i[1],10),a.channels=i.length===3?parseInt(i[2],10):1,a.numChannels=a.channels,a},e.writeRtpMap=function(n){let i=n.payloadType;n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType);const a=n.channels||n.numChannels||1;return"a=rtpmap:"+i+" "+n.name+"/"+n.clockRate+(a!==1?"/"+a:"")+`\r
`},e.parseExtmap=function(n){const i=n.substring(9).split(" ");return{id:parseInt(i[0],10),direction:i[0].indexOf("/")>0?i[0].split("/")[1]:"sendrecv",uri:i[1],attributes:i.slice(2).join(" ")}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},e.parseFmtp=function(n){const i={};let a;const c=n.substring(n.indexOf(" ")+1).split(";");for(let u=0;u<c.length;u++)a=c[u].trim().split("="),i[a[0].trim()]=a[1];return i},e.writeFmtp=function(n){let i="",a=n.payloadType;if(n.preferredPayloadType!==void 0&&(a=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const c=[];Object.keys(n.parameters).forEach(u=>{n.parameters[u]!==void 0?c.push(u+"="+n.parameters[u]):c.push(u)}),i+="a=fmtp:"+a+" "+c.join(";")+`\r
`}return i},e.parseRtcpFb=function(n){const i=n.substring(n.indexOf(" ")+1).split(" ");return{type:i.shift(),parameter:i.join(" ")}},e.writeRtcpFb=function(n){let i="",a=n.payloadType;return n.preferredPayloadType!==void 0&&(a=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(c=>{i+="a=rtcp-fb:"+a+" "+c.type+(c.parameter&&c.parameter.length?" "+c.parameter:"")+`\r
`}),i},e.parseSsrcMedia=function(n){const i=n.indexOf(" "),a={ssrc:parseInt(n.substring(7,i),10)},c=n.indexOf(":",i);return c>-1?(a.attribute=n.substring(i+1,c),a.value=n.substring(c+1)):a.attribute=n.substring(i+1),a},e.parseSsrcGroup=function(n){const i=n.substring(13).split(" ");return{semantics:i.shift(),ssrcs:i.map(a=>parseInt(a,10))}},e.getMid=function(n){const i=e.matchPrefix(n,"a=mid:")[0];if(i)return i.substring(6)},e.parseFingerprint=function(n){const i=n.substring(14).split(" ");return{algorithm:i[0].toLowerCase(),value:i[1].toUpperCase()}},e.getDtlsParameters=function(n,i){return{role:"auto",fingerprints:e.matchPrefix(n+i,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,i){let a="a=setup:"+i+`\r
`;return n.fingerprints.forEach(c=>{a+="a=fingerprint:"+c.algorithm+" "+c.value+`\r
`}),a},e.parseCryptoLine=function(n){const i=n.substring(9).split(" ");return{tag:parseInt(i[0],10),cryptoSuite:i[1],keyParams:i[2],sessionParams:i.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const i=n.substring(7).split("|");return{keyMethod:"inline",keySalt:i[0],lifeTime:i[1],mkiValue:i[2]?i[2].split(":")[0]:void 0,mkiLength:i[2]?i[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,i){return e.matchPrefix(n+i,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,i){const a=e.matchPrefix(n+i,"a=ice-ufrag:")[0],c=e.matchPrefix(n+i,"a=ice-pwd:")[0];return a&&c?{usernameFragment:a.substring(12),password:c.substring(10)}:null},e.writeIceParameters=function(n){let i="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(i+=`a=ice-lite\r
`),i},e.parseRtpParameters=function(n){const i={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},c=e.splitLines(n)[0].split(" ");i.profile=c[2];for(let f=3;f<c.length;f++){const d=c[f],h=e.matchPrefix(n,"a=rtpmap:"+d+" ")[0];if(h){const m=e.parseRtpMap(h),g=e.matchPrefix(n,"a=fmtp:"+d+" ");switch(m.parameters=g.length?e.parseFmtp(g[0]):{},m.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+d+" ").map(e.parseRtcpFb),i.codecs.push(m),m.name.toUpperCase()){case"RED":case"ULPFEC":i.fecMechanisms.push(m.name.toUpperCase());break}}}e.matchPrefix(n,"a=extmap:").forEach(f=>{i.headerExtensions.push(e.parseExtmap(f))});const u=e.matchPrefix(n,"a=rtcp-fb:* ").map(e.parseRtcpFb);return i.codecs.forEach(f=>{u.forEach(d=>{f.rtcpFeedback.find(m=>m.type===d.type&&m.parameter===d.parameter)||f.rtcpFeedback.push(d)})}),i},e.writeRtpDescription=function(n,i){let a="";a+="m="+n+" ",a+=i.codecs.length>0?"9":"0",a+=" "+(i.profile||"UDP/TLS/RTP/SAVPF")+" ",a+=i.codecs.map(u=>u.preferredPayloadType!==void 0?u.preferredPayloadType:u.payloadType).join(" ")+`\r
`,a+=`c=IN IP4 0.0.0.0\r
`,a+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,i.codecs.forEach(u=>{a+=e.writeRtpMap(u),a+=e.writeFmtp(u),a+=e.writeRtcpFb(u)});let c=0;return i.codecs.forEach(u=>{u.maxptime>c&&(c=u.maxptime)}),c>0&&(a+="a=maxptime:"+c+`\r
`),i.headerExtensions&&i.headerExtensions.forEach(u=>{a+=e.writeExtmap(u)}),a},e.parseRtpEncodingParameters=function(n){const i=[],a=e.parseRtpParameters(n),c=a.fecMechanisms.indexOf("RED")!==-1,u=a.fecMechanisms.indexOf("ULPFEC")!==-1,f=e.matchPrefix(n,"a=ssrc:").map(b=>e.parseSsrcMedia(b)).filter(b=>b.attribute==="cname"),d=f.length>0&&f[0].ssrc;let h;const m=e.matchPrefix(n,"a=ssrc-group:FID").map(b=>b.substring(17).split(" ").map(E=>parseInt(E,10)));m.length>0&&m[0].length>1&&m[0][0]===d&&(h=m[0][1]),a.codecs.forEach(b=>{if(b.name.toUpperCase()==="RTX"&&b.parameters.apt){let x={ssrc:d,codecPayloadType:parseInt(b.parameters.apt,10)};d&&h&&(x.rtx={ssrc:h}),i.push(x),c&&(x=JSON.parse(JSON.stringify(x)),x.fec={ssrc:d,mechanism:u?"red+ulpfec":"red"},i.push(x))}}),i.length===0&&d&&i.push({ssrc:d});let g=e.matchPrefix(n,"b=");return g.length&&(g[0].indexOf("b=TIAS:")===0?g=parseInt(g[0].substring(7),10):g[0].indexOf("b=AS:")===0?g=parseInt(g[0].substring(5),10)*1e3*.95-2e3*8:g=void 0,i.forEach(b=>{b.maxBitrate=g})),i},e.parseRtcpParameters=function(n){const i={},a=e.matchPrefix(n,"a=ssrc:").map(f=>e.parseSsrcMedia(f)).filter(f=>f.attribute==="cname")[0];a&&(i.cname=a.value,i.ssrc=a.ssrc);const c=e.matchPrefix(n,"a=rtcp-rsize");i.reducedSize=c.length>0,i.compound=c.length===0;const u=e.matchPrefix(n,"a=rtcp-mux");return i.mux=u.length>0,i},e.writeRtcpParameters=function(n){let i="";return n.reducedSize&&(i+=`a=rtcp-rsize\r
`),n.mux&&(i+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(i+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),i},e.parseMsid=function(n){let i;const a=e.matchPrefix(n,"a=msid:");if(a.length===1)return i=a[0].substring(7).split(" "),{stream:i[0],track:i[1]};const c=e.matchPrefix(n,"a=ssrc:").map(u=>e.parseSsrcMedia(u)).filter(u=>u.attribute==="msid");if(c.length>0)return i=c[0].value.split(" "),{stream:i[0],track:i[1]}},e.parseSctpDescription=function(n){const i=e.parseMLine(n),a=e.matchPrefix(n,"a=max-message-size:");let c;a.length>0&&(c=parseInt(a[0].substring(19),10)),isNaN(c)&&(c=65536);const u=e.matchPrefix(n,"a=sctp-port:");if(u.length>0)return{port:parseInt(u[0].substring(12),10),protocol:i.fmt,maxMessageSize:c};const f=e.matchPrefix(n,"a=sctpmap:");if(f.length>0){const d=f[0].substring(10).split(" ");return{port:parseInt(d[0],10),protocol:d[1],maxMessageSize:c}}},e.writeSctpDescription=function(n,i){let a=[];return n.protocol!=="DTLS/SCTP"?a=["m="+n.kind+" 9 "+n.protocol+" "+i.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+i.port+`\r
`]:a=["m="+n.kind+" 9 "+n.protocol+" "+i.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+i.port+" "+i.protocol+` 65535\r
`],i.maxMessageSize!==void 0&&a.push("a=max-message-size:"+i.maxMessageSize+`\r
`),a.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,i,a){let c;const u=i!==void 0?i:2;return n?c=n:c=e.generateSessionId(),`v=0\r
o=`+(a||"thisisadapterortc")+" "+c+" "+u+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,i){const a=e.splitLines(n);for(let c=0;c<a.length;c++)switch(a[c]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return a[c].substring(2)}return i?e.getDirection(i):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substring(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const a=e.splitLines(n)[0].substring(2).split(" ");return{kind:a[0],port:parseInt(a[1],10),protocol:a[2],fmt:a.slice(3).join(" ")}},e.parseOLine=function(n){const a=e.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:a[0],sessionId:a[1],sessionVersion:parseInt(a[2],10),netType:a[3],addressType:a[4],address:a[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const i=e.splitLines(n);for(let a=0;a<i.length;a++)if(i[a].length<2||i[a].charAt(1)!=="=")return!1;return!0},t.exports=e})(Lp)),Lp.exports}var vC=a5();const Ka=Lc(vC),o5=Y1({__proto__:null,default:Ka},[vC]);function Nu(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(i){if(typeof i=="object"&&i.candidate&&i.candidate.indexOf("a=")===0&&(i=JSON.parse(JSON.stringify(i)),i.candidate=i.candidate.substring(2)),i.candidate&&i.candidate.length){const a=new e(i),c=Ka.parseCandidate(i.candidate);for(const u in c)u in a||Object.defineProperty(a,u,{value:c[u]});return a.toJSON=function(){return{candidate:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex,usernameFragment:a.usernameFragment}},a}return new e(i)},t.RTCIceCandidate.prototype=e.prototype,ca(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function jm(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||ca(t,"icecandidate",e=>{if(e.candidate){const n=Ka.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function Du(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(f){if(!f||!f.sdp)return!1;const d=Ka.splitSections(f.sdp);return d.shift(),d.some(h=>{const m=Ka.parseMLine(h);return m&&m.kind==="application"&&m.protocol.indexOf("SCTP")!==-1})},i=function(f){const d=f.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(d===null||d.length<2)return-1;const h=parseInt(d[1],10);return h!==h?-1:h},a=function(f){let d=65536;return e.browser==="firefox"&&(e.version<57?f===-1?d=16384:d=2147483637:e.version<60?d=e.version===57?65535:65536:d=2147483637),d},c=function(f,d){let h=65536;e.browser==="firefox"&&e.version===57&&(h=65535);const m=Ka.matchPrefix(f.sdp,"a=max-message-size:");return m.length>0?h=parseInt(m[0].substring(19),10):e.browser==="firefox"&&d!==-1&&(h=2147483637),h},u=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:d}=this.getConfiguration();d==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const d=i(arguments[0]),h=a(d),m=c(arguments[0],d);let g;h===0&&m===0?g=Number.POSITIVE_INFINITY:h===0||m===0?g=Math.max(h,m):g=Math.min(h,m);const b={};Object.defineProperty(b,"maxMessageSize",{get(){return g}}),this._sctp=b}return u.apply(this,arguments)}}function ku(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(i,a){const c=i.send;i.send=function(){const f=arguments[0],d=f.length||f.size||f.byteLength;if(i.readyState==="open"&&a.sctp&&d>a.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+a.sctp.maxMessageSize+" bytes)");return c.apply(i,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const a=n.apply(this,arguments);return e(a,this),a},ca(t,"datachannel",i=>(e(i.channel,i.target),i))}function Lm(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const i=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=a=>{const c=a.target;if(c._lastConnectionState!==c.connectionState){c._lastConnectionState=c.connectionState;const u=new Event("connectionstatechange",a);c.dispatchEvent(u)}return a},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),i.apply(this,arguments)}})}function Um(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(a){if(a&&a.sdp&&a.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const c=a.sdp.split(`
`).filter(u=>u.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&a instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:a.type,sdp:c}):a.sdp=c}return n.apply(this,arguments)}}function ju(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Lu(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let a=arguments[0]||{};if(typeof a!="object"||a.type&&a.sdp)return n.apply(this,arguments);if(a={type:a.type,sdp:a.sdp},!a.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":a.type="offer";break;default:a.type="answer";break}return a.sdp||a.type!=="offer"&&a.type!=="answer"?n.apply(this,[a]):(a.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(u=>n.apply(this,[u]))})}const c5=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Um,shimAddIceCandidateNullOrEmpty:ju,shimConnectionState:Lm,shimMaxMessageSize:Du,shimParameterlessSetLocalDescription:Lu,shimRTCIceCandidate:Nu,shimRTCIceCandidateRelayProtocol:jm,shimSendThrowTypeError:ku},Symbol.toStringTag,{value:"Module"}));function l5({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=VE,i=i5(t),a={browserDetails:i,commonShim:c5,extractVersion:vc,disableLog:n5,disableWarnings:r5,sdp:o5};switch(i.browser){case"chrome":if(!O1||!Dm||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),a;if(i.version===null)return n("Chrome shim can not determine version, not shimming."),a;n("adapter.js shimming chrome."),a.browserShim=O1,ju(t,i),Lu(t),YE(t,i),FE(t),Dm(t,i),GE(t),ZE(t,i),KE(t),XE(t),JE(t,i),Nu(t),jm(t),Lm(t),Du(t,i),ku(t),Um(t,i);break;case"firefox":if(!M1||!km||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),a;n("adapter.js shimming firefox."),a.browserShim=M1,ju(t,i),Lu(t),WE(t,i),km(t,i),eC(t),rC(t),tC(t),nC(t),iC(t),sC(t),aC(t),oC(t),cC(t),Nu(t),Lm(t),Du(t,i),ku(t);break;case"safari":if(!P1||!e.shimSafari)return n("Safari shim is not included in this adapter release."),a;n("adapter.js shimming safari."),a.browserShim=P1,ju(t,i),Lu(t),pC(t),yC(t),fC(t),lC(t),uC(t),mC(t),dC(t),gC(t),Nu(t),jm(t),Du(t,i),ku(t),Um(t,i);break;default:n("Unsupported browser!");break}return a}const D1=l5({window:typeof window>"u"?void 0:window});var Js=4294967295;function u5(t,e,n){var i=n/4294967296,a=n;t.setUint32(e,i),t.setUint32(e+4,a)}function bC(t,e,n){var i=Math.floor(n/4294967296),a=n;t.setUint32(e,i),t.setUint32(e+4,a)}function xC(t,e){var n=t.getInt32(e),i=t.getUint32(e+4);return n*4294967296+i}function f5(t,e){var n=t.getUint32(e),i=t.getUint32(e+4);return n*4294967296+i}var $y={},Up,zp,Ip,Hf=(typeof process>"u"||((Up=process==null?void 0:$y)===null||Up===void 0?void 0:Up.TEXT_ENCODING)!=="never")&&typeof TextEncoder<"u"&&typeof TextDecoder<"u";function k1(t){for(var e=t.length,n=0,i=0;i<e;){var a=t.charCodeAt(i++);if((a&4294967168)===0){n++;continue}else if((a&4294965248)===0)n+=2;else{if(a>=55296&&a<=56319&&i<e){var c=t.charCodeAt(i);(c&64512)===56320&&(++i,a=((a&1023)<<10)+(c&1023)+65536)}(a&4294901760)===0?n+=3:n+=4}}return n}function d5(t,e,n){for(var i=t.length,a=n,c=0;c<i;){var u=t.charCodeAt(c++);if((u&4294967168)===0){e[a++]=u;continue}else if((u&4294965248)===0)e[a++]=u>>6&31|192;else{if(u>=55296&&u<=56319&&c<i){var f=t.charCodeAt(c);(f&64512)===56320&&(++c,u=((u&1023)<<10)+(f&1023)+65536)}(u&4294901760)===0?(e[a++]=u>>12&15|224,e[a++]=u>>6&63|128):(e[a++]=u>>18&7|240,e[a++]=u>>12&63|128,e[a++]=u>>6&63|128)}e[a++]=u&63|128}}var Ec=Hf?new TextEncoder:void 0,h5=Hf?typeof process<"u"&&((zp=process==null?void 0:$y)===null||zp===void 0?void 0:zp.TEXT_ENCODING)!=="force"?200:0:Js;function p5(t,e,n){e.set(Ec.encode(t),n)}function m5(t,e,n){Ec.encodeInto(t,e.subarray(n))}var y5=Ec?.encodeInto?m5:p5,g5=4096;function SC(t,e,n){for(var i=e,a=i+n,c=[],u="";i<a;){var f=t[i++];if((f&128)===0)c.push(f);else if((f&224)===192){var d=t[i++]&63;c.push((f&31)<<6|d)}else if((f&240)===224){var d=t[i++]&63,h=t[i++]&63;c.push((f&31)<<12|d<<6|h)}else if((f&248)===240){var d=t[i++]&63,h=t[i++]&63,m=t[i++]&63,g=(f&7)<<18|d<<12|h<<6|m;g>65535&&(g-=65536,c.push(g>>>10&1023|55296),g=56320|g&1023),c.push(g)}else c.push(f);c.length>=g5&&(u+=String.fromCharCode.apply(String,c),c.length=0)}return c.length>0&&(u+=String.fromCharCode.apply(String,c)),u}var v5=Hf?new TextDecoder:null,b5=Hf?typeof process<"u"&&((Ip=process==null?void 0:$y)===null||Ip===void 0?void 0:Ip.TEXT_DECODER)!=="force"?200:0:Js;function x5(t,e,n){var i=t.subarray(e,e+n);return v5.decode(i)}var xu=(function(){function t(e,n){this.type=e,this.data=n}return t})(),S5=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(i[c]=a[c])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),ni=(function(t){S5(e,t);function e(n){var i=t.call(this,n)||this,a=Object.create(e.prototype);return Object.setPrototypeOf(i,a),Object.defineProperty(i,"name",{configurable:!0,enumerable:!1,value:e.name}),i}return e})(Error),_5=-1,w5=4294967296-1,E5=17179869184-1;function C5(t){var e=t.sec,n=t.nsec;if(e>=0&&n>=0&&e<=E5)if(n===0&&e<=w5){var i=new Uint8Array(4),a=new DataView(i.buffer);return a.setUint32(0,e),i}else{var c=e/4294967296,u=e&4294967295,i=new Uint8Array(8),a=new DataView(i.buffer);return a.setUint32(0,n<<2|c&3),a.setUint32(4,u),i}else{var i=new Uint8Array(12),a=new DataView(i.buffer);return a.setUint32(0,n),bC(a,4,e),i}}function T5(t){var e=t.getTime(),n=Math.floor(e/1e3),i=(e-n*1e3)*1e6,a=Math.floor(i/1e9);return{sec:n+a,nsec:i-a*1e9}}function R5(t){if(t instanceof Date){var e=T5(t);return C5(e)}else return null}function A5(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:{var n=e.getUint32(0),i=0;return{sec:n,nsec:i}}case 8:{var a=e.getUint32(0),c=e.getUint32(4),n=(a&3)*4294967296+c,i=a>>>2;return{sec:n,nsec:i}}case 12:{var n=xC(e,4),i=e.getUint32(0);return{sec:n,nsec:i}}default:throw new ni("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(t.length))}}function O5(t){var e=A5(t);return new Date(e.sec*1e3+e.nsec/1e6)}var M5={type:_5,encode:R5,decode:O5},_C=(function(){function t(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(M5)}return t.prototype.register=function(e){var n=e.type,i=e.encode,a=e.decode;if(n>=0)this.encoders[n]=i,this.decoders[n]=a;else{var c=1+n;this.builtInEncoders[c]=i,this.builtInDecoders[c]=a}},t.prototype.tryToEncode=function(e,n){for(var i=0;i<this.builtInEncoders.length;i++){var a=this.builtInEncoders[i];if(a!=null){var c=a(e,n);if(c!=null){var u=-1-i;return new xu(u,c)}}}for(var i=0;i<this.encoders.length;i++){var a=this.encoders[i];if(a!=null){var c=a(e,n);if(c!=null){var u=i;return new xu(u,c)}}}return e instanceof xu?e:null},t.prototype.decode=function(e,n,i){var a=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return a?a(e,n,i):new xu(n,e)},t.defaultCodec=new t,t})();function cf(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer?new Uint8Array(t):Uint8Array.from(t)}function P5(t){if(t instanceof ArrayBuffer)return new DataView(t);var e=cf(t);return new DataView(e.buffer,e.byteOffset,e.byteLength)}var N5=100,D5=2048,k5=(function(){function t(e,n,i,a,c,u,f,d){e===void 0&&(e=_C.defaultCodec),n===void 0&&(n=void 0),i===void 0&&(i=N5),a===void 0&&(a=D5),c===void 0&&(c=!1),u===void 0&&(u=!1),f===void 0&&(f=!1),d===void 0&&(d=!1),this.extensionCodec=e,this.context=n,this.maxDepth=i,this.initialBufferSize=a,this.sortKeys=c,this.forceFloat32=u,this.ignoreUndefined=f,this.forceIntegerToFloat=d,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return t.prototype.reinitializeState=function(){this.pos=0},t.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},t.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},t.prototype.doEncode=function(e,n){if(n>this.maxDepth)throw new Error("Too deep objects in depth ".concat(n));e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.encodeObject(e,n)},t.prototype.ensureBufferSizeToWrite=function(e){var n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)},t.prototype.resizeBuffer=function(e){var n=new ArrayBuffer(e),i=new Uint8Array(n),a=new DataView(n);i.set(this.bytes),this.view=a,this.bytes=i},t.prototype.encodeNil=function(){this.writeU8(192)},t.prototype.encodeBoolean=function(e){e===!1?this.writeU8(194):this.writeU8(195)},t.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},t.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error("Too long string: ".concat(e," bytes in UTF-8"))},t.prototype.encodeString=function(e){var n=5,i=e.length;if(i>h5){var a=k1(e);this.ensureBufferSizeToWrite(n+a),this.writeStringHeader(a),y5(e,this.bytes,this.pos),this.pos+=a}else{var a=k1(e);this.ensureBufferSizeToWrite(n+a),this.writeStringHeader(a),d5(e,this.bytes,this.pos),this.pos+=a}},t.prototype.encodeObject=function(e,n){var i=this.extensionCodec.tryToEncode(e,this.context);if(i!=null)this.encodeExtension(i);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)))},t.prototype.encodeBinary=function(e){var n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error("Too large binary: ".concat(n));var i=cf(e);this.writeU8a(i)},t.prototype.encodeArray=function(e,n){var i=e.length;if(i<16)this.writeU8(144+i);else if(i<65536)this.writeU8(220),this.writeU16(i);else if(i<4294967296)this.writeU8(221),this.writeU32(i);else throw new Error("Too large array: ".concat(i));for(var a=0,c=e;a<c.length;a++){var u=c[a];this.doEncode(u,n+1)}},t.prototype.countWithoutUndefined=function(e,n){for(var i=0,a=0,c=n;a<c.length;a++){var u=c[a];e[u]!==void 0&&i++}return i},t.prototype.encodeMap=function(e,n){var i=Object.keys(e);this.sortKeys&&i.sort();var a=this.ignoreUndefined?this.countWithoutUndefined(e,i):i.length;if(a<16)this.writeU8(128+a);else if(a<65536)this.writeU8(222),this.writeU16(a);else if(a<4294967296)this.writeU8(223),this.writeU32(a);else throw new Error("Too large map object: ".concat(a));for(var c=0,u=i;c<u.length;c++){var f=u[c],d=e[f];this.ignoreUndefined&&d===void 0||(this.encodeString(f),this.doEncode(d,n+1))}},t.prototype.encodeExtension=function(e){var n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error("Too large extension object: ".concat(n));this.writeI8(e.type),this.writeU8a(e.data)},t.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},t.prototype.writeU8a=function(e){var n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n},t.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},t.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},t.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},t.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},t.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},t.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},t.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},t.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),u5(this.view,this.pos,e),this.pos+=8},t.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),bC(this.view,this.pos,e),this.pos+=8},t})();function Bp(t){return"".concat(t<0?"-":"","0x").concat(Math.abs(t).toString(16).padStart(2,"0"))}var j5=16,L5=16,U5=(function(){function t(e,n){e===void 0&&(e=j5),n===void 0&&(n=L5),this.maxKeyLength=e,this.maxLengthPerKey=n,this.hit=0,this.miss=0,this.caches=[];for(var i=0;i<this.maxKeyLength;i++)this.caches.push([])}return t.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},t.prototype.find=function(e,n,i){var a=this.caches[i-1];e:for(var c=0,u=a;c<u.length;c++){for(var f=u[c],d=f.bytes,h=0;h<i;h++)if(d[h]!==e[n+h])continue e;return f.str}return null},t.prototype.store=function(e,n){var i=this.caches[e.length-1],a={bytes:e,str:n};i.length>=this.maxLengthPerKey?i[Math.random()*i.length|0]=a:i.push(a)},t.prototype.decode=function(e,n,i){var a=this.find(e,n,i);if(a!=null)return this.hit++,a;this.miss++;var c=SC(e,n,i),u=Uint8Array.prototype.slice.call(e,n,n+i);return this.store(u,c),c},t})(),z5=function(t,e,n,i){function a(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function f(m){try{h(i.next(m))}catch(g){u(g)}}function d(m){try{h(i.throw(m))}catch(g){u(g)}}function h(m){m.done?c(m.value):a(m.value).then(f,d)}h((i=i.apply(t,e||[])).next())})},Hp=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,a,c,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(h){return function(m){return d([h,m])}}function d(h){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,a&&(c=h[0]&2?a.return:h[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,h[1])).done)return c;switch(a=0,c&&(h=[h[0]&2,c.value]),h[0]){case 0:case 1:c=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,a=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!c||h[1]>c[0]&&h[1]<c[3])){n.label=h[1];break}if(h[0]===6&&n.label<c[1]){n.label=c[1],c=h;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(h);break}c[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(m){h=[6,m],a=0}finally{i=c=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},j1=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(c){n[c]=t[c]&&function(u){return new Promise(function(f,d){u=t[c](u),a(f,d,u.done,u.value)})}}function a(c,u,f,d){Promise.resolve(d).then(function(h){c({value:h,done:f})},u)}},Xa=function(t){return this instanceof Xa?(this.v=t,this):new Xa(t)},I5=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),a,c=[];return a={},u("next"),u("throw"),u("return"),a[Symbol.asyncIterator]=function(){return this},a;function u(b){i[b]&&(a[b]=function(x){return new Promise(function(E,C){c.push([b,x,E,C])>1||f(b,x)})})}function f(b,x){try{d(i[b](x))}catch(E){g(c[0][3],E)}}function d(b){b.value instanceof Xa?Promise.resolve(b.value.v).then(h,m):g(c[0][2],b)}function h(b){f("next",b)}function m(b){f("throw",b)}function g(b,x){b(x),c.shift(),c.length&&f(c[0][0],c[0][1])}},B5=function(t){var e=typeof t;return e==="string"||e==="number"},dc=-1,Vy=new DataView(new ArrayBuffer(0)),H5=new Uint8Array(Vy.buffer),zm=(function(){try{Vy.getInt8(0)}catch(t){return t.constructor}throw new Error("never reached")})(),L1=new zm("Insufficient data"),$5=new U5,V5=(function(){function t(e,n,i,a,c,u,f,d){e===void 0&&(e=_C.defaultCodec),n===void 0&&(n=void 0),i===void 0&&(i=Js),a===void 0&&(a=Js),c===void 0&&(c=Js),u===void 0&&(u=Js),f===void 0&&(f=Js),d===void 0&&(d=$5),this.extensionCodec=e,this.context=n,this.maxStrLength=i,this.maxBinLength=a,this.maxArrayLength=c,this.maxMapLength=u,this.maxExtLength=f,this.keyDecoder=d,this.totalPos=0,this.pos=0,this.view=Vy,this.bytes=H5,this.headByte=dc,this.stack=[]}return t.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=dc,this.stack.length=0},t.prototype.setBuffer=function(e){this.bytes=cf(e),this.view=P5(this.bytes),this.pos=0},t.prototype.appendBuffer=function(e){if(this.headByte===dc&&!this.hasRemaining(1))this.setBuffer(e);else{var n=this.bytes.subarray(this.pos),i=cf(e),a=new Uint8Array(n.length+i.length);a.set(n),a.set(i,n.length),this.setBuffer(a)}},t.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},t.prototype.createExtraByteError=function(e){var n=this,i=n.view,a=n.pos;return new RangeError("Extra ".concat(i.byteLength-a," of ").concat(i.byteLength," byte(s) found at buffer[").concat(e,"]"))},t.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n},t.prototype.decodeMulti=function(e){return Hp(this,function(n){switch(n.label){case 0:this.reinitializeState(),this.setBuffer(e),n.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return n.sent(),[3,1];case 3:return[2]}})},t.prototype.decodeAsync=function(e){var n,i,a,c;return z5(this,void 0,void 0,function(){var u,f,d,h,m,g,b,x;return Hp(this,function(E){switch(E.label){case 0:u=!1,E.label=1;case 1:E.trys.push([1,6,7,12]),n=j1(e),E.label=2;case 2:return[4,n.next()];case 3:if(i=E.sent(),!!i.done)return[3,5];if(d=i.value,u)throw this.createExtraByteError(this.totalPos);this.appendBuffer(d);try{f=this.doDecodeSync(),u=!0}catch(C){if(!(C instanceof zm))throw C}this.totalPos+=this.pos,E.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return h=E.sent(),a={error:h},[3,12];case 7:return E.trys.push([7,,10,11]),i&&!i.done&&(c=n.return)?[4,c.call(n)]:[3,9];case 8:E.sent(),E.label=9;case 9:return[3,11];case 10:if(a)throw a.error;return[7];case 11:return[7];case 12:if(u){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,f]}throw m=this,g=m.headByte,b=m.pos,x=m.totalPos,new RangeError("Insufficient data in parsing ".concat(Bp(g)," at ").concat(x," (").concat(b," in the current buffer)"))}})})},t.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},t.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},t.prototype.decodeMultiAsync=function(e,n){return I5(this,arguments,function(){var a,c,u,f,d,h,m,g,b;return Hp(this,function(x){switch(x.label){case 0:a=n,c=-1,x.label=1;case 1:x.trys.push([1,13,14,19]),u=j1(e),x.label=2;case 2:return[4,Xa(u.next())];case 3:if(f=x.sent(),!!f.done)return[3,12];if(d=f.value,n&&c===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(d),a&&(c=this.readArraySize(),a=!1,this.complete()),x.label=4;case 4:x.trys.push([4,9,,10]),x.label=5;case 5:return[4,Xa(this.doDecodeSync())];case 6:return[4,x.sent()];case 7:return x.sent(),--c===0?[3,8]:[3,5];case 8:return[3,10];case 9:if(h=x.sent(),!(h instanceof zm))throw h;return[3,10];case 10:this.totalPos+=this.pos,x.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return m=x.sent(),g={error:m},[3,19];case 14:return x.trys.push([14,,17,18]),f&&!f.done&&(b=u.return)?[4,Xa(b.call(u))]:[3,16];case 15:x.sent(),x.label=16;case 16:return[3,18];case 17:if(g)throw g.error;return[7];case 18:return[7];case 19:return[2]}})})},t.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),n=void 0;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){var i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e<160){var i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else{var a=e-160;n=this.decodeUtf8String(a,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)n=this.readI64();else if(e===217){var a=this.lookU8();n=this.decodeUtf8String(a,1)}else if(e===218){var a=this.lookU16();n=this.decodeUtf8String(a,2)}else if(e===219){var a=this.lookU32();n=this.decodeUtf8String(a,4)}else if(e===220){var i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===221){var i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===222){var i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===223){var i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===196){var i=this.lookU8();n=this.decodeBinary(i,1)}else if(e===197){var i=this.lookU16();n=this.decodeBinary(i,2)}else if(e===198){var i=this.lookU32();n=this.decodeBinary(i,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){var i=this.lookU8();n=this.decodeExtension(i,1)}else if(e===200){var i=this.lookU16();n=this.decodeExtension(i,2)}else if(e===201){var i=this.lookU32();n=this.decodeExtension(i,4)}else throw new ni("Unrecognized type byte: ".concat(Bp(e)));this.complete();for(var c=this.stack;c.length>0;){var u=c[c.length-1];if(u.type===0)if(u.array[u.position]=n,u.position++,u.position===u.size)c.pop(),n=u.array;else continue e;else if(u.type===1){if(!B5(n))throw new ni("The type of key must be string or number but "+typeof n);if(n==="__proto__")throw new ni("The key __proto__ is not allowed");u.key=n,u.type=2;continue e}else if(u.map[u.key]=n,u.readCount++,u.readCount===u.size)c.pop(),n=u.map;else{u.key=null,u.type=1;continue e}}return n}},t.prototype.readHeadByte=function(){return this.headByte===dc&&(this.headByte=this.readU8()),this.headByte},t.prototype.complete=function(){this.headByte=dc},t.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new ni("Unrecognized array type byte: ".concat(Bp(e)))}}},t.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new ni("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},t.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new ni("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:new Array(e),position:0})},t.prototype.decodeUtf8String=function(e,n){var i;if(e>this.maxStrLength)throw new ni("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+n+e)throw L1;var a=this.pos+n,c;return this.stateIsMapKey()&&(!((i=this.keyDecoder)===null||i===void 0)&&i.canBeCached(e))?c=this.keyDecoder.decode(this.bytes,a,e):e>b5?c=x5(this.bytes,a,e):c=SC(this.bytes,a,e),this.pos+=n+e,c},t.prototype.stateIsMapKey=function(){if(this.stack.length>0){var e=this.stack[this.stack.length-1];return e.type===1}return!1},t.prototype.decodeBinary=function(e,n){if(e>this.maxBinLength)throw new ni("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+n))throw L1;var i=this.pos+n,a=this.bytes.subarray(i,i+e);return this.pos+=n+e,a},t.prototype.decodeExtension=function(e,n){if(e>this.maxExtLength)throw new ni("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var i=this.view.getInt8(this.pos+n),a=this.decodeBinary(e,n+1);return this.extensionCodec.decode(a,i,this.context)},t.prototype.lookU8=function(){return this.view.getUint8(this.pos)},t.prototype.lookU16=function(){return this.view.getUint16(this.pos)},t.prototype.lookU32=function(){return this.view.getUint32(this.pos)},t.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},t.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},t.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},t.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},t.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},t.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},t.prototype.readU64=function(){var e=f5(this.view,this.pos);return this.pos+=8,e},t.prototype.readI64=function(){var e=xC(this.view,this.pos);return this.pos+=8,e},t.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},t.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},t})(),q5={},Y5=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,a,c,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(h){return function(m){return d([h,m])}}function d(h){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,a&&(c=h[0]&2?a.return:h[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,h[1])).done)return c;switch(a=0,c&&(h=[h[0]&2,c.value]),h[0]){case 0:case 1:c=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,a=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!c||h[1]>c[0]&&h[1]<c[3])){n.label=h[1];break}if(h[0]===6&&n.label<c[1]){n.label=c[1],c=h;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(h);break}c[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(m){h=[6,m],a=0}finally{i=c=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Qa=function(t){return this instanceof Qa?(this.v=t,this):new Qa(t)},F5=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),a,c=[];return a={},u("next"),u("throw"),u("return"),a[Symbol.asyncIterator]=function(){return this},a;function u(b){i[b]&&(a[b]=function(x){return new Promise(function(E,C){c.push([b,x,E,C])>1||f(b,x)})})}function f(b,x){try{d(i[b](x))}catch(E){g(c[0][3],E)}}function d(b){b.value instanceof Qa?Promise.resolve(b.value.v).then(h,m):g(c[0][2],b)}function h(b){f("next",b)}function m(b){f("throw",b)}function g(b,x){b(x),c.shift(),c.length&&f(c[0][0],c[0][1])}};function G5(t){return t[Symbol.asyncIterator]!=null}function K5(t){if(t==null)throw new Error("Assertion Failure: value must not be null nor undefined")}function X5(t){return F5(this,arguments,function(){var n,i,a,c;return Y5(this,function(u){switch(u.label){case 0:n=t.getReader(),u.label=1;case 1:u.trys.push([1,,9,10]),u.label=2;case 2:return[4,Qa(n.read())];case 3:return i=u.sent(),a=i.done,c=i.value,a?[4,Qa(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return K5(c),[4,Qa(c)];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function Q5(t){return G5(t)?t:X5(t)}function Z5(t,e){e===void 0&&(e=q5);var n=Q5(t),i=new V5(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength);return i.decodeStream(n)}function la(t,e,n,i){Object.defineProperty(t,e,{get:n,set:i,enumerable:!0,configurable:!0})}class wC{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const n=[],i=e.byteLength,a=Math.ceil(i/this.chunkedMTU);let c=0,u=0;for(;u<i;){const f=Math.min(i,u+this.chunkedMTU),d=e.slice(u,f),h={__peerData:this._dataCount,n:c,data:d,total:a};n.push(h),u=f,c++}return this._dataCount++,n}}}function J5(t){let e=0;for(const a of t)e+=a.byteLength;const n=new Uint8Array(e);let i=0;for(const a of t)n.set(a,i),i+=a.byteLength;return n}const $p=D1.default||D1,hc=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const t=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(t)?t==="chrome"?e>=this.minChromeVersion:t==="firefox"?e>=this.minFirefoxVersion:t==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return $p.browserDetails.browser}getVersion(){return $p.browserDetails.version||0}isUnifiedPlanSupported(){const t=this.getBrowser(),e=$p.browserDetails.version||0;if(t==="chrome"&&e<this.minChromeVersion)return!1;if(t==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,i=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),i=!0}catch{}finally{n&&n.close()}return i}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},W5=t=>!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t),EC=()=>Math.random().toString(36).slice(2),U1={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class e8 extends wC{noop(){}blobToArrayBuffer(e,n){const i=new FileReader;return i.onload=function(a){a.target&&n(a.target.result)},i.readAsArrayBuffer(e),i}binaryStringToArrayBuffer(e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=U1,this.browser=hc.getBrowser(),this.browserVersion=hc.getVersion(),this.pack=BE,this.unpack=IE,this.supports=(function(){const n={browser:hc.isBrowserSupported(),webRTC:hc.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let i;try{i=new RTCPeerConnection(U1),n.audioVideo=!0;let a;try{a=i.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!a.ordered;try{a.binaryType="blob",n.binaryBlob=!hc.isIOS}catch{}}catch{}finally{a&&a.close()}}catch{}finally{i&&i.close()}return n})(),this.validateId=W5,this.randomToken=EC}}const Zn=new e8,t8="PeerJS: ";class n8{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...n){const i=[t8,...n];for(const a in i)i[a]instanceof Error&&(i[a]="("+i[a].name+") "+i[a].message);e>=3?console.log(...i):e>=2?console.warn("WARNING",...i):e>=1&&console.error("ERROR",...i)}constructor(){this._logLevel=0}}var qe=new n8,qy={},r8=Object.prototype.hasOwnProperty,Wn="~";function jc(){}Object.create&&(jc.prototype=Object.create(null),new jc().__proto__||(Wn=!1));function i8(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function CC(t,e,n,i,a){if(typeof n!="function")throw new TypeError("The listener must be a function");var c=new i8(n,i||t,a),u=Wn?Wn+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],c]:t._events[u].push(c):(t._events[u]=c,t._eventsCount++),t}function Uu(t,e){--t._eventsCount===0?t._events=new jc:delete t._events[e]}function Gn(){this._events=new jc,this._eventsCount=0}Gn.prototype.eventNames=function(){var e=[],n,i;if(this._eventsCount===0)return e;for(i in n=this._events)r8.call(n,i)&&e.push(Wn?i.slice(1):i);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(n)):e};Gn.prototype.listeners=function(e){var n=Wn?Wn+e:e,i=this._events[n];if(!i)return[];if(i.fn)return[i.fn];for(var a=0,c=i.length,u=new Array(c);a<c;a++)u[a]=i[a].fn;return u};Gn.prototype.listenerCount=function(e){var n=Wn?Wn+e:e,i=this._events[n];return i?i.fn?1:i.length:0};Gn.prototype.emit=function(e,n,i,a,c,u){var f=Wn?Wn+e:e;if(!this._events[f])return!1;var d=this._events[f],h=arguments.length,m,g;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),h){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,n),!0;case 3:return d.fn.call(d.context,n,i),!0;case 4:return d.fn.call(d.context,n,i,a),!0;case 5:return d.fn.call(d.context,n,i,a,c),!0;case 6:return d.fn.call(d.context,n,i,a,c,u),!0}for(g=1,m=new Array(h-1);g<h;g++)m[g-1]=arguments[g];d.fn.apply(d.context,m)}else{var b=d.length,x;for(g=0;g<b;g++)switch(d[g].once&&this.removeListener(e,d[g].fn,void 0,!0),h){case 1:d[g].fn.call(d[g].context);break;case 2:d[g].fn.call(d[g].context,n);break;case 3:d[g].fn.call(d[g].context,n,i);break;case 4:d[g].fn.call(d[g].context,n,i,a);break;default:if(!m)for(x=1,m=new Array(h-1);x<h;x++)m[x-1]=arguments[x];d[g].fn.apply(d[g].context,m)}}return!0};Gn.prototype.on=function(e,n,i){return CC(this,e,n,i,!1)};Gn.prototype.once=function(e,n,i){return CC(this,e,n,i,!0)};Gn.prototype.removeListener=function(e,n,i,a){var c=Wn?Wn+e:e;if(!this._events[c])return this;if(!n)return Uu(this,c),this;var u=this._events[c];if(u.fn)u.fn===n&&(!a||u.once)&&(!i||u.context===i)&&Uu(this,c);else{for(var f=0,d=[],h=u.length;f<h;f++)(u[f].fn!==n||a&&!u[f].once||i&&u[f].context!==i)&&d.push(u[f]);d.length?this._events[c]=d.length===1?d[0]:d:Uu(this,c)}return this};Gn.prototype.removeAllListeners=function(e){var n;return e?(n=Wn?Wn+e:e,this._events[n]&&Uu(this,n)):(this._events=new jc,this._eventsCount=0),this};Gn.prototype.off=Gn.prototype.removeListener;Gn.prototype.addListener=Gn.prototype.on;Gn.prefixed=Wn;Gn.EventEmitter=Gn;qy=Gn;var ua={};la(ua,"ConnectionType",()=>Bi);la(ua,"PeerErrorType",()=>gn);la(ua,"BaseConnectionErrorType",()=>lf);la(ua,"DataConnectionErrorType",()=>$f);la(ua,"SerializationType",()=>qc);la(ua,"SocketEventType",()=>Ui);la(ua,"ServerMessageType",()=>Bn);var Bi=(function(t){return t.Data="data",t.Media="media",t})({}),gn=(function(t){return t.BrowserIncompatible="browser-incompatible",t.Disconnected="disconnected",t.InvalidID="invalid-id",t.InvalidKey="invalid-key",t.Network="network",t.PeerUnavailable="peer-unavailable",t.SslUnavailable="ssl-unavailable",t.ServerError="server-error",t.SocketError="socket-error",t.SocketClosed="socket-closed",t.UnavailableID="unavailable-id",t.WebRTC="webrtc",t})({}),lf=(function(t){return t.NegotiationFailed="negotiation-failed",t.ConnectionClosed="connection-closed",t})({}),$f=(function(t){return t.NotOpenYet="not-open-yet",t.MessageToBig="message-too-big",t})({}),qc=(function(t){return t.Binary="binary",t.BinaryUTF8="binary-utf8",t.JSON="json",t.None="raw",t})({}),Ui=(function(t){return t.Message="message",t.Disconnected="disconnected",t.Error="error",t.Close="close",t})({}),Bn=(function(t){return t.Heartbeat="HEARTBEAT",t.Candidate="CANDIDATE",t.Offer="OFFER",t.Answer="ANSWER",t.Open="OPEN",t.Error="ERROR",t.IdTaken="ID-TAKEN",t.InvalidKey="INVALID-KEY",t.Leave="LEAVE",t.Expire="EXPIRE",t})({});const TC="1.5.5";class s8 extends qy.EventEmitter{constructor(e,n,i,a,c,u=5e3){super(),this.pingInterval=u,this._disconnected=!0,this._messagesQueue=[];const f=e?"wss://":"ws://";this._baseUrl=f+n+":"+i+a+"peerjs?key="+c}start(e,n){this._id=e;const i=`${this._baseUrl}&id=${e}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(i+"&version="+TC),this._disconnected=!1,this._socket.onmessage=a=>{let c;try{c=JSON.parse(a.data),qe.log("Server message received:",c)}catch{qe.log("Invalid server message",a.data);return}this.emit(Ui.Message,c)},this._socket.onclose=a=>{this._disconnected||(qe.log("Socket closed.",a),this._cleanup(),this._disconnected=!0,this.emit(Ui.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),qe.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){qe.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:Bn.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const n of e)this.send(n)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(Ui.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(e);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class RC{constructor(e){this.connection=e}startConnection(e){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===Bi.Media&&e._stream&&this._addTracksToConnection(e._stream,n),e.originator){const i=this.connection,a={ordered:!!e.reliable},c=n.createDataChannel(i.label,a);i._initializeDataChannel(c),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){qe.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const n=this.connection.peer,i=this.connection.connectionId,a=this.connection.type,c=this.connection.provider;qe.log("Listening for ICE candidates."),e.onicecandidate=u=>{!u.candidate||!u.candidate.candidate||(qe.log(`Received ICE candidates for ${n}:`,u.candidate),c.socket.send({type:Bn.Candidate,payload:{candidate:u.candidate,type:a,connectionId:i},dst:n}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":qe.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(lf.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":qe.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(lf.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":qe.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},qe.log("Listening for data channel"),e.ondatachannel=u=>{qe.log("Received data channel");const f=u.channel;c.getConnection(n,i)._initializeDataChannel(f)},qe.log("Listening for remote stream"),e.ontrack=u=>{qe.log("Received remote stream");const f=u.streams[0],d=c.getConnection(n,i);if(d.type===Bi.Media){const h=d;this._addStreamToMediaConnection(f,h)}}}cleanup(){qe.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const n=e.signalingState!=="closed";let i=!1;const a=this.connection.dataChannel;a&&(i=!!a.readyState&&a.readyState!=="closed"),(n||i)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const i=await e.createOffer(this.connection.options.constraints);qe.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(i.sdp=this.connection.options.sdpTransform(i.sdp)||i.sdp);try{await e.setLocalDescription(i),qe.log("Set localDescription:",i,`for:${this.connection.peer}`);let a={sdp:i,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===Bi.Data){const c=this.connection;a={...a,label:c.label,reliable:c.reliable,serialization:c.serialization}}n.socket.send({type:Bn.Offer,payload:a,dst:this.connection.peer})}catch(a){a!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(gn.WebRTC,a),qe.log("Failed to setLocalDescription, ",a))}}catch(i){n.emitError(gn.WebRTC,i),qe.log("Failed to createOffer, ",i)}}async _makeAnswer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const i=await e.createAnswer();qe.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(i.sdp=this.connection.options.sdpTransform(i.sdp)||i.sdp);try{await e.setLocalDescription(i),qe.log("Set localDescription:",i,`for:${this.connection.peer}`),n.socket.send({type:Bn.Answer,payload:{sdp:i,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(a){n.emitError(gn.WebRTC,a),qe.log("Failed to setLocalDescription, ",a)}}catch(i){n.emitError(gn.WebRTC,i),qe.log("Failed to create answer, ",i)}}async handleSDP(e,n){n=new RTCSessionDescription(n);const i=this.connection.peerConnection,a=this.connection.provider;qe.log("Setting remote description",n);const c=this;try{await i.setRemoteDescription(n),qe.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await c._makeAnswer()}catch(u){a.emitError(gn.WebRTC,u),qe.log("Failed to setRemoteDescription, ",u)}}async handleCandidate(e){qe.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),qe.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(gn.WebRTC,n),qe.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(e,n){if(qe.log(`add tracks from stream ${e.id} to peer connection`),!n.addTrack)return qe.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(i=>{n.addTrack(i,e)})}_addStreamToMediaConnection(e,n){qe.log(`add stream ${e.id} to media connection ${n.connectionId}`),n.addStream(e)}}class AC extends qy.EventEmitter{emitError(e,n){qe.error("Error:",n),this.emit("error",new OC(`${e}`,n))}}class OC extends Error{constructor(e,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=e}}class MC extends AC{get open(){return this._open}constructor(e,n,i){super(),this.peer=e,this.provider=n,this.options=i,this._open=!1,this.metadata=i.metadata}}class uf extends MC{static#e=this.ID_PREFIX="mc_";get type(){return Bi.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,n,i){super(e,n,i),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||uf.ID_PREFIX+Zn.randomToken(),this._negotiator=new RC(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{qe.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{qe.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){qe.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const n=e.type,i=e.payload;switch(e.type){case Bn.Answer:this._negotiator.handleSDP(n,i.sdp),this._open=!0;break;case Bn.Candidate:this._negotiator.handleCandidate(i.candidate);break;default:qe.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(e,n={}){if(this._localStream){qe.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const i=this.provider._getMessages(this.connectionId);for(const a of i)this.handleMessage(a);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}}class a8{constructor(e){this._options=e}_buildRequest(e){const n=this._options.secure?"https":"http",{host:i,port:a,path:c,key:u}=this._options,f=new URL(`${n}://${i}:${a}${c}${u}/${e}`);return f.searchParams.set("ts",`${Date.now()}${Math.random()}`),f.searchParams.set("version",TC),fetch(f.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){qe.error("Error retrieving ID",e);let n="";throw this._options.path==="/"&&this._options.host!==Zn.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let n="";throw this._options.host===Zn.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw qe.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}class ra extends MC{static#e=this.ID_PREFIX="dc_";static#t=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return Bi.Data}constructor(e,n,i){super(e,n,i),this.connectionId=this.options.connectionId||ra.ID_PREFIX+EC(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new RC(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{qe.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{qe.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{qe.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,n=!1){if(!this.open){this.emitError($f.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,n)}async handleMessage(e){const n=e.payload;switch(e.type){case Bn.Answer:await this._negotiator.handleSDP(e.type,n.sdp);break;case Bn.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:qe.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}}class Vf extends ra{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>ra.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(n){return qe.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class Vp extends Vf{close(e){super.close(e),this._chunkedData={}}constructor(e,n,i){super(e,n,i),this.chunker=new wC,this.serialization=qc.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const n=IE(e),i=n.__peerData;if(i){if(i.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(e){const n=e.__peerData,i=this._chunkedData[n]||{data:[],count:0,total:e.total};if(i.data[e.n]=new Uint8Array(e.data),i.count++,this._chunkedData[n]=i,i.total===i.count){delete this._chunkedData[n];const a=J5(i.data);this._handleDataMessage({data:a})}}_send(e,n){const i=BE(e);if(i instanceof Promise)return this._send_blob(i);if(!n&&i.byteLength>this.chunker.chunkedMTU){this._sendChunks(i);return}this._bufferedSend(i)}async _send_blob(e){const n=await e;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(e){const n=this.chunker.chunk(e);qe.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const i of n)this.send(i,!0)}}class o8 extends Vf{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,n){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=qc.None}}class c8 extends Vf{_handleDataMessage({data:e}){const n=this.parse(this.decoder.decode(e)),i=n.__peerData;if(i&&i.type==="close"){this.close();return}this.emit("data",n)}_send(e,n){const i=this.encoder.encode(this.stringify(e));if(i.byteLength>=Zn.chunkedMTU){this.emitError($f.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(i)}constructor(...e){super(...e),this.serialization=qc.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}class Yc extends AC{static#e=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[n,i]of this._connections)e[n]=i;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,n){super(),this._serializers={raw:o8,json:c8,binary:Vp,"binary-utf8":Vp,default:Vp},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let i;if(e&&e.constructor==Object?n=e:e&&(i=e.toString()),n={debug:0,host:Zn.CLOUD_HOST,port:Zn.CLOUD_PORT,path:"/",key:Yc.DEFAULT_KEY,token:Zn.randomToken(),config:Zn.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Zn.CLOUD_HOST?this._options.secure=Zn.isSecure():this._options.host==Zn.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&qe.setLogFunction(this._options.logFunction),qe.logLevel=this._options.debug||0,this._api=new a8(n),this._socket=this._createServerConnection(),!Zn.supports.audioVideo&&!Zn.supports.data){this._delayedAbort(gn.BrowserIncompatible,"The current browser does not support WebRTC");return}if(i&&!Zn.validateId(i)){this._delayedAbort(gn.InvalidID,`ID "${i}" is invalid`);return}i?this._initialize(i):this._api.retrieveId().then(a=>this._initialize(a)).catch(a=>this._abort(gn.ServerError,a))}_createServerConnection(){const e=new s8(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(Ui.Message,n=>{this._handleMessage(n)}),e.on(Ui.Error,n=>{this._abort(gn.SocketError,n)}),e.on(Ui.Disconnected,()=>{this.disconnected||(this.emitError(gn.Network,"Lost connection to server."),this.disconnect())}),e.on(Ui.Close,()=>{this.disconnected||this._abort(gn.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const n=e.type,i=e.payload,a=e.src;switch(n){case Bn.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Bn.Error:this._abort(gn.ServerError,i.msg);break;case Bn.IdTaken:this._abort(gn.UnavailableID,`ID "${this.id}" is taken`);break;case Bn.InvalidKey:this._abort(gn.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Bn.Leave:qe.log(`Received leave message from ${a}`),this._cleanupPeer(a),this._connections.delete(a);break;case Bn.Expire:this.emitError(gn.PeerUnavailable,`Could not connect to peer ${a}`);break;case Bn.Offer:{const c=i.connectionId;let u=this.getConnection(a,c);if(u&&(u.close(),qe.warn(`Offer received for existing Connection ID:${c}`)),i.type===Bi.Media){const d=new uf(a,this,{connectionId:c,_payload:i,metadata:i.metadata});u=d,this._addConnection(a,u),this.emit("call",d)}else if(i.type===Bi.Data){const d=new this._serializers[i.serialization](a,this,{connectionId:c,_payload:i,metadata:i.metadata,label:i.label,serialization:i.serialization,reliable:i.reliable});u=d,this._addConnection(a,u),this.emit("connection",d)}else{qe.warn(`Received malformed connection type:${i.type}`);return}const f=this._getMessages(c);for(const d of f)u.handleMessage(d);break}default:{if(!i){qe.warn(`You received a malformed message from ${a} of type ${n}`);return}const c=i.connectionId,u=this.getConnection(a,c);u&&u.peerConnection?u.handleMessage(e):c?this._storeMessage(c,e):qe.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,n){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(n)}_getMessages(e){const n=this._lostMessages.get(e);return n?(this._lostMessages.delete(e),n):[]}connect(e,n={}){if(n={serialization:"default",...n},this.disconnected){qe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(gn.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const i=new this._serializers[n.serialization](e,this,n);return this._addConnection(e,i),i}call(e,n,i={}){if(this.disconnected){qe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(gn.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){qe.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const a=new uf(e,this,{...i,_stream:n});return this._addConnection(e,a),a}_addConnection(e,n){qe.log(`add connection ${n.type}:${n.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(n)}_removeConnection(e){const n=this._connections.get(e.peer);if(n){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,n){const i=this._connections.get(e);if(!i)return null;for(const a of i)if(a.connectionId===n)return a;return null}_delayedAbort(e,n){setTimeout(()=>{this._abort(e,n)},0)}_abort(e,n){qe.error("Aborting!"),this.emitError(e,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(qe.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const n=this._connections.get(e);if(n)for(const i of n)i.close()}disconnect(){if(this.disconnected)return;const e=this.id;qe.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)qe.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)qe.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=n=>{}){this._api.listAllPeers().then(n=>e(n)).catch(n=>this._abort(gn.ServerError,n))}}class PC extends ra{constructor(e,n,i){super(e,n,{...i,reliable:!0}),this._CHUNK_SIZE=32768,this._splitStream=new TransformStream({transform:(a,c)=>{for(let u=0;u<a.length;u+=this._CHUNK_SIZE)c.enqueue(a.subarray(u,u+this._CHUNK_SIZE))}}),this._rawSendStream=new WritableStream({write:async(a,c)=>{const u=new Promise(f=>this.dataChannel.addEventListener("bufferedamountlow",f,{once:!0}));await(this.dataChannel.bufferedAmount<=ra.MAX_BUFFERED_AMOUNT-a.byteLength||u);try{this.dataChannel.send(a)}catch(f){qe.error(`DC#:${this.connectionId} Error when sending:`,f),c.error(f),this.close()}}}),this.writer=this._splitStream.writable.getWriter(),this._rawReadStream=new ReadableStream({start:a=>{this.once("open",()=>{this.dataChannel.addEventListener("message",c=>{a.enqueue(c.data)})})}}),this._splitStream.readable.pipeTo(this._rawSendStream)}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.bufferedAmountLowThreshold=ra.MAX_BUFFERED_AMOUNT/2}}class Im extends PC{constructor(e,n,i){super(e,n,i),this.serialization="MsgPack",this._encoder=new k5,(async()=>{for await(const a of Z5(this._rawReadStream)){if(a.__peerData?.type==="close"){this.close();return}this.emit("data",a)}})()}_send(e){return this.writer.write(this._encoder.encode(e))}}class l8 extends Yc{constructor(...e){super(...e),this._serializers={MsgPack:Im,default:Im}}}var u8=Yc;const f8=Object.freeze(Object.defineProperty({__proto__:null,BaseConnectionErrorType:lf,BufferedConnection:Vf,ConnectionType:Bi,DataConnectionErrorType:$f,MsgPack:Im,MsgPackPeer:l8,Peer:Yc,PeerError:OC,PeerErrorType:gn,SerializationType:qc,ServerMessageType:Bn,SocketEventType:Ui,StreamConnection:PC,default:u8,util:Zn},Symbol.toStringTag,{value:"Module"})),d8=hf(f8);function h8(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var qp={exports:{}};const p8={},m8=Object.freeze(Object.defineProperty({__proto__:null,default:p8},Symbol.toStringTag,{value:"Module"})),y8=hf(m8);var z1;function NC(){return z1||(z1=1,(function(t){(function(e){var n=function(w){var A,R=new Float64Array(16);if(w)for(A=0;A<w.length;A++)R[A]=w[A];return R},i=function(){throw new Error("no PRNG")},a=new Uint8Array(16),c=new Uint8Array(32);c[0]=9;var u=n(),f=n([1]),d=n([56129,1]),h=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),m=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),g=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),b=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),x=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function E(w,A,R,v){w[A]=R>>24&255,w[A+1]=R>>16&255,w[A+2]=R>>8&255,w[A+3]=R&255,w[A+4]=v>>24&255,w[A+5]=v>>16&255,w[A+6]=v>>8&255,w[A+7]=v&255}function C(w,A,R,v,P){var $,V=0;for($=0;$<P;$++)V|=w[A+$]^R[v+$];return(1&V-1>>>8)-1}function M(w,A,R,v){return C(w,A,R,v,16)}function D(w,A,R,v){return C(w,A,R,v,32)}function N(w,A,R,v){for(var P=v[0]&255|(v[1]&255)<<8|(v[2]&255)<<16|(v[3]&255)<<24,$=R[0]&255|(R[1]&255)<<8|(R[2]&255)<<16|(R[3]&255)<<24,V=R[4]&255|(R[5]&255)<<8|(R[6]&255)<<16|(R[7]&255)<<24,ae=R[8]&255|(R[9]&255)<<8|(R[10]&255)<<16|(R[11]&255)<<24,xe=R[12]&255|(R[13]&255)<<8|(R[14]&255)<<16|(R[15]&255)<<24,ze=v[4]&255|(v[5]&255)<<8|(v[6]&255)<<16|(v[7]&255)<<24,Ae=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,At=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,Pe=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,Je=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,nt=v[8]&255|(v[9]&255)<<8|(v[10]&255)<<16|(v[11]&255)<<24,it=R[16]&255|(R[17]&255)<<8|(R[18]&255)<<16|(R[19]&255)<<24,rt=R[20]&255|(R[21]&255)<<8|(R[22]&255)<<16|(R[23]&255)<<24,We=R[24]&255|(R[25]&255)<<8|(R[26]&255)<<16|(R[27]&255)<<24,et=R[28]&255|(R[29]&255)<<8|(R[30]&255)<<16|(R[31]&255)<<24,Ie=v[12]&255|(v[13]&255)<<8|(v[14]&255)<<16|(v[15]&255)<<24,ke=P,Fe=$,Ce=V,Me=ae,He=xe,Te=ze,ee=Ae,te=At,ye=Pe,fe=Je,ce=nt,me=it,Qe=rt,lt=We,at=et,ot=Ie,L,pt=0;pt<20;pt+=2)L=ke+Qe|0,He^=L<<7|L>>>25,L=He+ke|0,ye^=L<<9|L>>>23,L=ye+He|0,Qe^=L<<13|L>>>19,L=Qe+ye|0,ke^=L<<18|L>>>14,L=Te+Fe|0,fe^=L<<7|L>>>25,L=fe+Te|0,lt^=L<<9|L>>>23,L=lt+fe|0,Fe^=L<<13|L>>>19,L=Fe+lt|0,Te^=L<<18|L>>>14,L=ce+ee|0,at^=L<<7|L>>>25,L=at+ce|0,Ce^=L<<9|L>>>23,L=Ce+at|0,ee^=L<<13|L>>>19,L=ee+Ce|0,ce^=L<<18|L>>>14,L=ot+me|0,Me^=L<<7|L>>>25,L=Me+ot|0,te^=L<<9|L>>>23,L=te+Me|0,me^=L<<13|L>>>19,L=me+te|0,ot^=L<<18|L>>>14,L=ke+Me|0,Fe^=L<<7|L>>>25,L=Fe+ke|0,Ce^=L<<9|L>>>23,L=Ce+Fe|0,Me^=L<<13|L>>>19,L=Me+Ce|0,ke^=L<<18|L>>>14,L=Te+He|0,ee^=L<<7|L>>>25,L=ee+Te|0,te^=L<<9|L>>>23,L=te+ee|0,He^=L<<13|L>>>19,L=He+te|0,Te^=L<<18|L>>>14,L=ce+fe|0,me^=L<<7|L>>>25,L=me+ce|0,ye^=L<<9|L>>>23,L=ye+me|0,fe^=L<<13|L>>>19,L=fe+ye|0,ce^=L<<18|L>>>14,L=ot+at|0,Qe^=L<<7|L>>>25,L=Qe+ot|0,lt^=L<<9|L>>>23,L=lt+Qe|0,at^=L<<13|L>>>19,L=at+lt|0,ot^=L<<18|L>>>14;ke=ke+P|0,Fe=Fe+$|0,Ce=Ce+V|0,Me=Me+ae|0,He=He+xe|0,Te=Te+ze|0,ee=ee+Ae|0,te=te+At|0,ye=ye+Pe|0,fe=fe+Je|0,ce=ce+nt|0,me=me+it|0,Qe=Qe+rt|0,lt=lt+We|0,at=at+et|0,ot=ot+Ie|0,w[0]=ke>>>0&255,w[1]=ke>>>8&255,w[2]=ke>>>16&255,w[3]=ke>>>24&255,w[4]=Fe>>>0&255,w[5]=Fe>>>8&255,w[6]=Fe>>>16&255,w[7]=Fe>>>24&255,w[8]=Ce>>>0&255,w[9]=Ce>>>8&255,w[10]=Ce>>>16&255,w[11]=Ce>>>24&255,w[12]=Me>>>0&255,w[13]=Me>>>8&255,w[14]=Me>>>16&255,w[15]=Me>>>24&255,w[16]=He>>>0&255,w[17]=He>>>8&255,w[18]=He>>>16&255,w[19]=He>>>24&255,w[20]=Te>>>0&255,w[21]=Te>>>8&255,w[22]=Te>>>16&255,w[23]=Te>>>24&255,w[24]=ee>>>0&255,w[25]=ee>>>8&255,w[26]=ee>>>16&255,w[27]=ee>>>24&255,w[28]=te>>>0&255,w[29]=te>>>8&255,w[30]=te>>>16&255,w[31]=te>>>24&255,w[32]=ye>>>0&255,w[33]=ye>>>8&255,w[34]=ye>>>16&255,w[35]=ye>>>24&255,w[36]=fe>>>0&255,w[37]=fe>>>8&255,w[38]=fe>>>16&255,w[39]=fe>>>24&255,w[40]=ce>>>0&255,w[41]=ce>>>8&255,w[42]=ce>>>16&255,w[43]=ce>>>24&255,w[44]=me>>>0&255,w[45]=me>>>8&255,w[46]=me>>>16&255,w[47]=me>>>24&255,w[48]=Qe>>>0&255,w[49]=Qe>>>8&255,w[50]=Qe>>>16&255,w[51]=Qe>>>24&255,w[52]=lt>>>0&255,w[53]=lt>>>8&255,w[54]=lt>>>16&255,w[55]=lt>>>24&255,w[56]=at>>>0&255,w[57]=at>>>8&255,w[58]=at>>>16&255,w[59]=at>>>24&255,w[60]=ot>>>0&255,w[61]=ot>>>8&255,w[62]=ot>>>16&255,w[63]=ot>>>24&255}function k(w,A,R,v){for(var P=v[0]&255|(v[1]&255)<<8|(v[2]&255)<<16|(v[3]&255)<<24,$=R[0]&255|(R[1]&255)<<8|(R[2]&255)<<16|(R[3]&255)<<24,V=R[4]&255|(R[5]&255)<<8|(R[6]&255)<<16|(R[7]&255)<<24,ae=R[8]&255|(R[9]&255)<<8|(R[10]&255)<<16|(R[11]&255)<<24,xe=R[12]&255|(R[13]&255)<<8|(R[14]&255)<<16|(R[15]&255)<<24,ze=v[4]&255|(v[5]&255)<<8|(v[6]&255)<<16|(v[7]&255)<<24,Ae=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,At=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,Pe=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,Je=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,nt=v[8]&255|(v[9]&255)<<8|(v[10]&255)<<16|(v[11]&255)<<24,it=R[16]&255|(R[17]&255)<<8|(R[18]&255)<<16|(R[19]&255)<<24,rt=R[20]&255|(R[21]&255)<<8|(R[22]&255)<<16|(R[23]&255)<<24,We=R[24]&255|(R[25]&255)<<8|(R[26]&255)<<16|(R[27]&255)<<24,et=R[28]&255|(R[29]&255)<<8|(R[30]&255)<<16|(R[31]&255)<<24,Ie=v[12]&255|(v[13]&255)<<8|(v[14]&255)<<16|(v[15]&255)<<24,ke=P,Fe=$,Ce=V,Me=ae,He=xe,Te=ze,ee=Ae,te=At,ye=Pe,fe=Je,ce=nt,me=it,Qe=rt,lt=We,at=et,ot=Ie,L,pt=0;pt<20;pt+=2)L=ke+Qe|0,He^=L<<7|L>>>25,L=He+ke|0,ye^=L<<9|L>>>23,L=ye+He|0,Qe^=L<<13|L>>>19,L=Qe+ye|0,ke^=L<<18|L>>>14,L=Te+Fe|0,fe^=L<<7|L>>>25,L=fe+Te|0,lt^=L<<9|L>>>23,L=lt+fe|0,Fe^=L<<13|L>>>19,L=Fe+lt|0,Te^=L<<18|L>>>14,L=ce+ee|0,at^=L<<7|L>>>25,L=at+ce|0,Ce^=L<<9|L>>>23,L=Ce+at|0,ee^=L<<13|L>>>19,L=ee+Ce|0,ce^=L<<18|L>>>14,L=ot+me|0,Me^=L<<7|L>>>25,L=Me+ot|0,te^=L<<9|L>>>23,L=te+Me|0,me^=L<<13|L>>>19,L=me+te|0,ot^=L<<18|L>>>14,L=ke+Me|0,Fe^=L<<7|L>>>25,L=Fe+ke|0,Ce^=L<<9|L>>>23,L=Ce+Fe|0,Me^=L<<13|L>>>19,L=Me+Ce|0,ke^=L<<18|L>>>14,L=Te+He|0,ee^=L<<7|L>>>25,L=ee+Te|0,te^=L<<9|L>>>23,L=te+ee|0,He^=L<<13|L>>>19,L=He+te|0,Te^=L<<18|L>>>14,L=ce+fe|0,me^=L<<7|L>>>25,L=me+ce|0,ye^=L<<9|L>>>23,L=ye+me|0,fe^=L<<13|L>>>19,L=fe+ye|0,ce^=L<<18|L>>>14,L=ot+at|0,Qe^=L<<7|L>>>25,L=Qe+ot|0,lt^=L<<9|L>>>23,L=lt+Qe|0,at^=L<<13|L>>>19,L=at+lt|0,ot^=L<<18|L>>>14;w[0]=ke>>>0&255,w[1]=ke>>>8&255,w[2]=ke>>>16&255,w[3]=ke>>>24&255,w[4]=Te>>>0&255,w[5]=Te>>>8&255,w[6]=Te>>>16&255,w[7]=Te>>>24&255,w[8]=ce>>>0&255,w[9]=ce>>>8&255,w[10]=ce>>>16&255,w[11]=ce>>>24&255,w[12]=ot>>>0&255,w[13]=ot>>>8&255,w[14]=ot>>>16&255,w[15]=ot>>>24&255,w[16]=ee>>>0&255,w[17]=ee>>>8&255,w[18]=ee>>>16&255,w[19]=ee>>>24&255,w[20]=te>>>0&255,w[21]=te>>>8&255,w[22]=te>>>16&255,w[23]=te>>>24&255,w[24]=ye>>>0&255,w[25]=ye>>>8&255,w[26]=ye>>>16&255,w[27]=ye>>>24&255,w[28]=fe>>>0&255,w[29]=fe>>>8&255,w[30]=fe>>>16&255,w[31]=fe>>>24&255}function j(w,A,R,v){N(w,A,R,v)}function F(w,A,R,v){k(w,A,R,v)}var W=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Y(w,A,R,v,P,$,V){var ae=new Uint8Array(16),xe=new Uint8Array(64),ze,Ae;for(Ae=0;Ae<16;Ae++)ae[Ae]=0;for(Ae=0;Ae<8;Ae++)ae[Ae]=$[Ae];for(;P>=64;){for(j(xe,ae,V,W),Ae=0;Ae<64;Ae++)w[A+Ae]=R[v+Ae]^xe[Ae];for(ze=1,Ae=8;Ae<16;Ae++)ze=ze+(ae[Ae]&255)|0,ae[Ae]=ze&255,ze>>>=8;P-=64,A+=64,v+=64}if(P>0)for(j(xe,ae,V,W),Ae=0;Ae<P;Ae++)w[A+Ae]=R[v+Ae]^xe[Ae];return 0}function X(w,A,R,v,P){var $=new Uint8Array(16),V=new Uint8Array(64),ae,xe;for(xe=0;xe<16;xe++)$[xe]=0;for(xe=0;xe<8;xe++)$[xe]=v[xe];for(;R>=64;){for(j(V,$,P,W),xe=0;xe<64;xe++)w[A+xe]=V[xe];for(ae=1,xe=8;xe<16;xe++)ae=ae+($[xe]&255)|0,$[xe]=ae&255,ae>>>=8;R-=64,A+=64}if(R>0)for(j(V,$,P,W),xe=0;xe<R;xe++)w[A+xe]=V[xe];return 0}function pe(w,A,R,v,P){var $=new Uint8Array(32);F($,v,P,W);for(var V=new Uint8Array(8),ae=0;ae<8;ae++)V[ae]=v[ae+16];return X(w,A,R,V,$)}function ve(w,A,R,v,P,$,V){var ae=new Uint8Array(32);F(ae,$,V,W);for(var xe=new Uint8Array(8),ze=0;ze<8;ze++)xe[ze]=$[ze+16];return Y(w,A,R,v,P,xe,ae)}var Se=function(w){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var A,R,v,P,$,V,ae,xe;A=w[0]&255|(w[1]&255)<<8,this.r[0]=A&8191,R=w[2]&255|(w[3]&255)<<8,this.r[1]=(A>>>13|R<<3)&8191,v=w[4]&255|(w[5]&255)<<8,this.r[2]=(R>>>10|v<<6)&7939,P=w[6]&255|(w[7]&255)<<8,this.r[3]=(v>>>7|P<<9)&8191,$=w[8]&255|(w[9]&255)<<8,this.r[4]=(P>>>4|$<<12)&255,this.r[5]=$>>>1&8190,V=w[10]&255|(w[11]&255)<<8,this.r[6]=($>>>14|V<<2)&8191,ae=w[12]&255|(w[13]&255)<<8,this.r[7]=(V>>>11|ae<<5)&8065,xe=w[14]&255|(w[15]&255)<<8,this.r[8]=(ae>>>8|xe<<8)&8191,this.r[9]=xe>>>5&127,this.pad[0]=w[16]&255|(w[17]&255)<<8,this.pad[1]=w[18]&255|(w[19]&255)<<8,this.pad[2]=w[20]&255|(w[21]&255)<<8,this.pad[3]=w[22]&255|(w[23]&255)<<8,this.pad[4]=w[24]&255|(w[25]&255)<<8,this.pad[5]=w[26]&255|(w[27]&255)<<8,this.pad[6]=w[28]&255|(w[29]&255)<<8,this.pad[7]=w[30]&255|(w[31]&255)<<8};Se.prototype.blocks=function(w,A,R){for(var v=this.fin?0:2048,P,$,V,ae,xe,ze,Ae,At,Pe,Je,nt,it,rt,We,et,Ie,ke,Fe,Ce,Me=this.h[0],He=this.h[1],Te=this.h[2],ee=this.h[3],te=this.h[4],ye=this.h[5],fe=this.h[6],ce=this.h[7],me=this.h[8],Qe=this.h[9],lt=this.r[0],at=this.r[1],ot=this.r[2],L=this.r[3],pt=this.r[4],st=this.r[5],St=this.r[6],dt=this.r[7],bt=this.r[8],mt=this.r[9];R>=16;)P=w[A+0]&255|(w[A+1]&255)<<8,Me+=P&8191,$=w[A+2]&255|(w[A+3]&255)<<8,He+=(P>>>13|$<<3)&8191,V=w[A+4]&255|(w[A+5]&255)<<8,Te+=($>>>10|V<<6)&8191,ae=w[A+6]&255|(w[A+7]&255)<<8,ee+=(V>>>7|ae<<9)&8191,xe=w[A+8]&255|(w[A+9]&255)<<8,te+=(ae>>>4|xe<<12)&8191,ye+=xe>>>1&8191,ze=w[A+10]&255|(w[A+11]&255)<<8,fe+=(xe>>>14|ze<<2)&8191,Ae=w[A+12]&255|(w[A+13]&255)<<8,ce+=(ze>>>11|Ae<<5)&8191,At=w[A+14]&255|(w[A+15]&255)<<8,me+=(Ae>>>8|At<<8)&8191,Qe+=At>>>5|v,Pe=0,Je=Pe,Je+=Me*lt,Je+=He*(5*mt),Je+=Te*(5*bt),Je+=ee*(5*dt),Je+=te*(5*St),Pe=Je>>>13,Je&=8191,Je+=ye*(5*st),Je+=fe*(5*pt),Je+=ce*(5*L),Je+=me*(5*ot),Je+=Qe*(5*at),Pe+=Je>>>13,Je&=8191,nt=Pe,nt+=Me*at,nt+=He*lt,nt+=Te*(5*mt),nt+=ee*(5*bt),nt+=te*(5*dt),Pe=nt>>>13,nt&=8191,nt+=ye*(5*St),nt+=fe*(5*st),nt+=ce*(5*pt),nt+=me*(5*L),nt+=Qe*(5*ot),Pe+=nt>>>13,nt&=8191,it=Pe,it+=Me*ot,it+=He*at,it+=Te*lt,it+=ee*(5*mt),it+=te*(5*bt),Pe=it>>>13,it&=8191,it+=ye*(5*dt),it+=fe*(5*St),it+=ce*(5*st),it+=me*(5*pt),it+=Qe*(5*L),Pe+=it>>>13,it&=8191,rt=Pe,rt+=Me*L,rt+=He*ot,rt+=Te*at,rt+=ee*lt,rt+=te*(5*mt),Pe=rt>>>13,rt&=8191,rt+=ye*(5*bt),rt+=fe*(5*dt),rt+=ce*(5*St),rt+=me*(5*st),rt+=Qe*(5*pt),Pe+=rt>>>13,rt&=8191,We=Pe,We+=Me*pt,We+=He*L,We+=Te*ot,We+=ee*at,We+=te*lt,Pe=We>>>13,We&=8191,We+=ye*(5*mt),We+=fe*(5*bt),We+=ce*(5*dt),We+=me*(5*St),We+=Qe*(5*st),Pe+=We>>>13,We&=8191,et=Pe,et+=Me*st,et+=He*pt,et+=Te*L,et+=ee*ot,et+=te*at,Pe=et>>>13,et&=8191,et+=ye*lt,et+=fe*(5*mt),et+=ce*(5*bt),et+=me*(5*dt),et+=Qe*(5*St),Pe+=et>>>13,et&=8191,Ie=Pe,Ie+=Me*St,Ie+=He*st,Ie+=Te*pt,Ie+=ee*L,Ie+=te*ot,Pe=Ie>>>13,Ie&=8191,Ie+=ye*at,Ie+=fe*lt,Ie+=ce*(5*mt),Ie+=me*(5*bt),Ie+=Qe*(5*dt),Pe+=Ie>>>13,Ie&=8191,ke=Pe,ke+=Me*dt,ke+=He*St,ke+=Te*st,ke+=ee*pt,ke+=te*L,Pe=ke>>>13,ke&=8191,ke+=ye*ot,ke+=fe*at,ke+=ce*lt,ke+=me*(5*mt),ke+=Qe*(5*bt),Pe+=ke>>>13,ke&=8191,Fe=Pe,Fe+=Me*bt,Fe+=He*dt,Fe+=Te*St,Fe+=ee*st,Fe+=te*pt,Pe=Fe>>>13,Fe&=8191,Fe+=ye*L,Fe+=fe*ot,Fe+=ce*at,Fe+=me*lt,Fe+=Qe*(5*mt),Pe+=Fe>>>13,Fe&=8191,Ce=Pe,Ce+=Me*mt,Ce+=He*bt,Ce+=Te*dt,Ce+=ee*St,Ce+=te*st,Pe=Ce>>>13,Ce&=8191,Ce+=ye*pt,Ce+=fe*L,Ce+=ce*ot,Ce+=me*at,Ce+=Qe*lt,Pe+=Ce>>>13,Ce&=8191,Pe=(Pe<<2)+Pe|0,Pe=Pe+Je|0,Je=Pe&8191,Pe=Pe>>>13,nt+=Pe,Me=Je,He=nt,Te=it,ee=rt,te=We,ye=et,fe=Ie,ce=ke,me=Fe,Qe=Ce,A+=16,R-=16;this.h[0]=Me,this.h[1]=He,this.h[2]=Te,this.h[3]=ee,this.h[4]=te,this.h[5]=ye,this.h[6]=fe,this.h[7]=ce,this.h[8]=me,this.h[9]=Qe},Se.prototype.finish=function(w,A){var R=new Uint16Array(10),v,P,$,V;if(this.leftover){for(V=this.leftover,this.buffer[V++]=1;V<16;V++)this.buffer[V]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(v=this.h[1]>>>13,this.h[1]&=8191,V=2;V<10;V++)this.h[V]+=v,v=this.h[V]>>>13,this.h[V]&=8191;for(this.h[0]+=v*5,v=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=v,v=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=v,R[0]=this.h[0]+5,v=R[0]>>>13,R[0]&=8191,V=1;V<10;V++)R[V]=this.h[V]+v,v=R[V]>>>13,R[V]&=8191;for(R[9]-=8192,P=(v^1)-1,V=0;V<10;V++)R[V]&=P;for(P=~P,V=0;V<10;V++)this.h[V]=this.h[V]&P|R[V];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,$=this.h[0]+this.pad[0],this.h[0]=$&65535,V=1;V<8;V++)$=(this.h[V]+this.pad[V]|0)+($>>>16)|0,this.h[V]=$&65535;w[A+0]=this.h[0]>>>0&255,w[A+1]=this.h[0]>>>8&255,w[A+2]=this.h[1]>>>0&255,w[A+3]=this.h[1]>>>8&255,w[A+4]=this.h[2]>>>0&255,w[A+5]=this.h[2]>>>8&255,w[A+6]=this.h[3]>>>0&255,w[A+7]=this.h[3]>>>8&255,w[A+8]=this.h[4]>>>0&255,w[A+9]=this.h[4]>>>8&255,w[A+10]=this.h[5]>>>0&255,w[A+11]=this.h[5]>>>8&255,w[A+12]=this.h[6]>>>0&255,w[A+13]=this.h[6]>>>8&255,w[A+14]=this.h[7]>>>0&255,w[A+15]=this.h[7]>>>8&255},Se.prototype.update=function(w,A,R){var v,P;if(this.leftover){for(P=16-this.leftover,P>R&&(P=R),v=0;v<P;v++)this.buffer[this.leftover+v]=w[A+v];if(R-=P,A+=P,this.leftover+=P,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(R>=16&&(P=R-R%16,this.blocks(w,A,P),A+=P,R-=P),R){for(v=0;v<R;v++)this.buffer[this.leftover+v]=w[A+v];this.leftover+=R}};function we(w,A,R,v,P,$){var V=new Se($);return V.update(R,v,P),V.finish(w,A),0}function Ke(w,A,R,v,P,$){var V=new Uint8Array(16);return we(V,0,R,v,P,$),M(w,A,V,0)}function _e(w,A,R,v,P){var $;if(R<32)return-1;for(ve(w,0,A,0,R,v,P),we(w,16,w,32,R-32,w),$=0;$<16;$++)w[$]=0;return 0}function Ue(w,A,R,v,P){var $,V=new Uint8Array(32);if(R<32||(pe(V,0,32,v,P),Ke(A,16,A,32,R-32,V)!==0))return-1;for(ve(w,0,A,0,R,v,P),$=0;$<32;$++)w[$]=0;return 0}function H(w,A){var R;for(R=0;R<16;R++)w[R]=A[R]|0}function se(w){var A,R,v=1;for(A=0;A<16;A++)R=w[A]+v+65535,v=Math.floor(R/65536),w[A]=R-v*65536;w[0]+=v-1+37*(v-1)}function G(w,A,R){for(var v,P=~(R-1),$=0;$<16;$++)v=P&(w[$]^A[$]),w[$]^=v,A[$]^=v}function De(w,A){var R,v,P,$=n(),V=n();for(R=0;R<16;R++)V[R]=A[R];for(se(V),se(V),se(V),v=0;v<2;v++){for($[0]=V[0]-65517,R=1;R<15;R++)$[R]=V[R]-65535-($[R-1]>>16&1),$[R-1]&=65535;$[15]=V[15]-32767-($[14]>>16&1),P=$[15]>>16&1,$[14]&=65535,G(V,$,1-P)}for(R=0;R<16;R++)w[2*R]=V[R]&255,w[2*R+1]=V[R]>>8}function Xe(w,A){var R=new Uint8Array(32),v=new Uint8Array(32);return De(R,w),De(v,A),D(R,0,v,0)}function z(w){var A=new Uint8Array(32);return De(A,w),A[0]&1}function ie(w,A){var R;for(R=0;R<16;R++)w[R]=A[2*R]+(A[2*R+1]<<8);w[15]&=32767}function de(w,A,R){for(var v=0;v<16;v++)w[v]=A[v]+R[v]}function ge(w,A,R){for(var v=0;v<16;v++)w[v]=A[v]-R[v]}function be(w,A,R){var v,P,$=0,V=0,ae=0,xe=0,ze=0,Ae=0,At=0,Pe=0,Je=0,nt=0,it=0,rt=0,We=0,et=0,Ie=0,ke=0,Fe=0,Ce=0,Me=0,He=0,Te=0,ee=0,te=0,ye=0,fe=0,ce=0,me=0,Qe=0,lt=0,at=0,ot=0,L=R[0],pt=R[1],st=R[2],St=R[3],dt=R[4],bt=R[5],mt=R[6],tn=R[7],kt=R[8],Vt=R[9],nn=R[10],Qt=R[11],cn=R[12],vn=R[13],Pn=R[14],Nn=R[15];v=A[0],$+=v*L,V+=v*pt,ae+=v*st,xe+=v*St,ze+=v*dt,Ae+=v*bt,At+=v*mt,Pe+=v*tn,Je+=v*kt,nt+=v*Vt,it+=v*nn,rt+=v*Qt,We+=v*cn,et+=v*vn,Ie+=v*Pn,ke+=v*Nn,v=A[1],V+=v*L,ae+=v*pt,xe+=v*st,ze+=v*St,Ae+=v*dt,At+=v*bt,Pe+=v*mt,Je+=v*tn,nt+=v*kt,it+=v*Vt,rt+=v*nn,We+=v*Qt,et+=v*cn,Ie+=v*vn,ke+=v*Pn,Fe+=v*Nn,v=A[2],ae+=v*L,xe+=v*pt,ze+=v*st,Ae+=v*St,At+=v*dt,Pe+=v*bt,Je+=v*mt,nt+=v*tn,it+=v*kt,rt+=v*Vt,We+=v*nn,et+=v*Qt,Ie+=v*cn,ke+=v*vn,Fe+=v*Pn,Ce+=v*Nn,v=A[3],xe+=v*L,ze+=v*pt,Ae+=v*st,At+=v*St,Pe+=v*dt,Je+=v*bt,nt+=v*mt,it+=v*tn,rt+=v*kt,We+=v*Vt,et+=v*nn,Ie+=v*Qt,ke+=v*cn,Fe+=v*vn,Ce+=v*Pn,Me+=v*Nn,v=A[4],ze+=v*L,Ae+=v*pt,At+=v*st,Pe+=v*St,Je+=v*dt,nt+=v*bt,it+=v*mt,rt+=v*tn,We+=v*kt,et+=v*Vt,Ie+=v*nn,ke+=v*Qt,Fe+=v*cn,Ce+=v*vn,Me+=v*Pn,He+=v*Nn,v=A[5],Ae+=v*L,At+=v*pt,Pe+=v*st,Je+=v*St,nt+=v*dt,it+=v*bt,rt+=v*mt,We+=v*tn,et+=v*kt,Ie+=v*Vt,ke+=v*nn,Fe+=v*Qt,Ce+=v*cn,Me+=v*vn,He+=v*Pn,Te+=v*Nn,v=A[6],At+=v*L,Pe+=v*pt,Je+=v*st,nt+=v*St,it+=v*dt,rt+=v*bt,We+=v*mt,et+=v*tn,Ie+=v*kt,ke+=v*Vt,Fe+=v*nn,Ce+=v*Qt,Me+=v*cn,He+=v*vn,Te+=v*Pn,ee+=v*Nn,v=A[7],Pe+=v*L,Je+=v*pt,nt+=v*st,it+=v*St,rt+=v*dt,We+=v*bt,et+=v*mt,Ie+=v*tn,ke+=v*kt,Fe+=v*Vt,Ce+=v*nn,Me+=v*Qt,He+=v*cn,Te+=v*vn,ee+=v*Pn,te+=v*Nn,v=A[8],Je+=v*L,nt+=v*pt,it+=v*st,rt+=v*St,We+=v*dt,et+=v*bt,Ie+=v*mt,ke+=v*tn,Fe+=v*kt,Ce+=v*Vt,Me+=v*nn,He+=v*Qt,Te+=v*cn,ee+=v*vn,te+=v*Pn,ye+=v*Nn,v=A[9],nt+=v*L,it+=v*pt,rt+=v*st,We+=v*St,et+=v*dt,Ie+=v*bt,ke+=v*mt,Fe+=v*tn,Ce+=v*kt,Me+=v*Vt,He+=v*nn,Te+=v*Qt,ee+=v*cn,te+=v*vn,ye+=v*Pn,fe+=v*Nn,v=A[10],it+=v*L,rt+=v*pt,We+=v*st,et+=v*St,Ie+=v*dt,ke+=v*bt,Fe+=v*mt,Ce+=v*tn,Me+=v*kt,He+=v*Vt,Te+=v*nn,ee+=v*Qt,te+=v*cn,ye+=v*vn,fe+=v*Pn,ce+=v*Nn,v=A[11],rt+=v*L,We+=v*pt,et+=v*st,Ie+=v*St,ke+=v*dt,Fe+=v*bt,Ce+=v*mt,Me+=v*tn,He+=v*kt,Te+=v*Vt,ee+=v*nn,te+=v*Qt,ye+=v*cn,fe+=v*vn,ce+=v*Pn,me+=v*Nn,v=A[12],We+=v*L,et+=v*pt,Ie+=v*st,ke+=v*St,Fe+=v*dt,Ce+=v*bt,Me+=v*mt,He+=v*tn,Te+=v*kt,ee+=v*Vt,te+=v*nn,ye+=v*Qt,fe+=v*cn,ce+=v*vn,me+=v*Pn,Qe+=v*Nn,v=A[13],et+=v*L,Ie+=v*pt,ke+=v*st,Fe+=v*St,Ce+=v*dt,Me+=v*bt,He+=v*mt,Te+=v*tn,ee+=v*kt,te+=v*Vt,ye+=v*nn,fe+=v*Qt,ce+=v*cn,me+=v*vn,Qe+=v*Pn,lt+=v*Nn,v=A[14],Ie+=v*L,ke+=v*pt,Fe+=v*st,Ce+=v*St,Me+=v*dt,He+=v*bt,Te+=v*mt,ee+=v*tn,te+=v*kt,ye+=v*Vt,fe+=v*nn,ce+=v*Qt,me+=v*cn,Qe+=v*vn,lt+=v*Pn,at+=v*Nn,v=A[15],ke+=v*L,Fe+=v*pt,Ce+=v*st,Me+=v*St,He+=v*dt,Te+=v*bt,ee+=v*mt,te+=v*tn,ye+=v*kt,fe+=v*Vt,ce+=v*nn,me+=v*Qt,Qe+=v*cn,lt+=v*vn,at+=v*Pn,ot+=v*Nn,$+=38*Fe,V+=38*Ce,ae+=38*Me,xe+=38*He,ze+=38*Te,Ae+=38*ee,At+=38*te,Pe+=38*ye,Je+=38*fe,nt+=38*ce,it+=38*me,rt+=38*Qe,We+=38*lt,et+=38*at,Ie+=38*ot,P=1,v=$+P+65535,P=Math.floor(v/65536),$=v-P*65536,v=V+P+65535,P=Math.floor(v/65536),V=v-P*65536,v=ae+P+65535,P=Math.floor(v/65536),ae=v-P*65536,v=xe+P+65535,P=Math.floor(v/65536),xe=v-P*65536,v=ze+P+65535,P=Math.floor(v/65536),ze=v-P*65536,v=Ae+P+65535,P=Math.floor(v/65536),Ae=v-P*65536,v=At+P+65535,P=Math.floor(v/65536),At=v-P*65536,v=Pe+P+65535,P=Math.floor(v/65536),Pe=v-P*65536,v=Je+P+65535,P=Math.floor(v/65536),Je=v-P*65536,v=nt+P+65535,P=Math.floor(v/65536),nt=v-P*65536,v=it+P+65535,P=Math.floor(v/65536),it=v-P*65536,v=rt+P+65535,P=Math.floor(v/65536),rt=v-P*65536,v=We+P+65535,P=Math.floor(v/65536),We=v-P*65536,v=et+P+65535,P=Math.floor(v/65536),et=v-P*65536,v=Ie+P+65535,P=Math.floor(v/65536),Ie=v-P*65536,v=ke+P+65535,P=Math.floor(v/65536),ke=v-P*65536,$+=P-1+37*(P-1),P=1,v=$+P+65535,P=Math.floor(v/65536),$=v-P*65536,v=V+P+65535,P=Math.floor(v/65536),V=v-P*65536,v=ae+P+65535,P=Math.floor(v/65536),ae=v-P*65536,v=xe+P+65535,P=Math.floor(v/65536),xe=v-P*65536,v=ze+P+65535,P=Math.floor(v/65536),ze=v-P*65536,v=Ae+P+65535,P=Math.floor(v/65536),Ae=v-P*65536,v=At+P+65535,P=Math.floor(v/65536),At=v-P*65536,v=Pe+P+65535,P=Math.floor(v/65536),Pe=v-P*65536,v=Je+P+65535,P=Math.floor(v/65536),Je=v-P*65536,v=nt+P+65535,P=Math.floor(v/65536),nt=v-P*65536,v=it+P+65535,P=Math.floor(v/65536),it=v-P*65536,v=rt+P+65535,P=Math.floor(v/65536),rt=v-P*65536,v=We+P+65535,P=Math.floor(v/65536),We=v-P*65536,v=et+P+65535,P=Math.floor(v/65536),et=v-P*65536,v=Ie+P+65535,P=Math.floor(v/65536),Ie=v-P*65536,v=ke+P+65535,P=Math.floor(v/65536),ke=v-P*65536,$+=P-1+37*(P-1),w[0]=$,w[1]=V,w[2]=ae,w[3]=xe,w[4]=ze,w[5]=Ae,w[6]=At,w[7]=Pe,w[8]=Je,w[9]=nt,w[10]=it,w[11]=rt,w[12]=We,w[13]=et,w[14]=Ie,w[15]=ke}function Ee(w,A){be(w,A,A)}function Re(w,A){var R=n(),v;for(v=0;v<16;v++)R[v]=A[v];for(v=253;v>=0;v--)Ee(R,R),v!==2&&v!==4&&be(R,R,A);for(v=0;v<16;v++)w[v]=R[v]}function Pt(w,A){var R=n(),v;for(v=0;v<16;v++)R[v]=A[v];for(v=250;v>=0;v--)Ee(R,R),v!==1&&be(R,R,A);for(v=0;v<16;v++)w[v]=R[v]}function I(w,A,R){var v=new Uint8Array(32),P=new Float64Array(80),$,V,ae=n(),xe=n(),ze=n(),Ae=n(),At=n(),Pe=n();for(V=0;V<31;V++)v[V]=A[V];for(v[31]=A[31]&127|64,v[0]&=248,ie(P,R),V=0;V<16;V++)xe[V]=P[V],Ae[V]=ae[V]=ze[V]=0;for(ae[0]=Ae[0]=1,V=254;V>=0;--V)$=v[V>>>3]>>>(V&7)&1,G(ae,xe,$),G(ze,Ae,$),de(At,ae,ze),ge(ae,ae,ze),de(ze,xe,Ae),ge(xe,xe,Ae),Ee(Ae,At),Ee(Pe,ae),be(ae,ze,ae),be(ze,xe,At),de(At,ae,ze),ge(ae,ae,ze),Ee(xe,ae),ge(ze,Ae,Pe),be(ae,ze,d),de(ae,ae,Ae),be(ze,ze,ae),be(ae,Ae,Pe),be(Ae,xe,P),Ee(xe,At),G(ae,xe,$),G(ze,Ae,$);for(V=0;V<16;V++)P[V+16]=ae[V],P[V+32]=ze[V],P[V+48]=xe[V],P[V+64]=Ae[V];var Je=P.subarray(32),nt=P.subarray(16);return Re(Je,Je),be(nt,nt,Je),De(w,nt),0}function Z(w,A){return I(w,A,c)}function ue(w,A){return i(A,32),Z(w,A)}function Oe(w,A,R){var v=new Uint8Array(32);return I(v,R,A),F(w,a,v,W)}var Le=_e,je=Ue;function Et(w,A,R,v,P,$){var V=new Uint8Array(32);return Oe(V,P,$),Le(w,A,R,v,V)}function xt(w,A,R,v,P,$){var V=new Uint8Array(32);return Oe(V,P,$),je(w,A,R,v,V)}var dn=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Nt(w,A,R,v){for(var P=new Int32Array(16),$=new Int32Array(16),V,ae,xe,ze,Ae,At,Pe,Je,nt,it,rt,We,et,Ie,ke,Fe,Ce,Me,He,Te,ee,te,ye,fe,ce,me,Qe=w[0],lt=w[1],at=w[2],ot=w[3],L=w[4],pt=w[5],st=w[6],St=w[7],dt=A[0],bt=A[1],mt=A[2],tn=A[3],kt=A[4],Vt=A[5],nn=A[6],Qt=A[7],cn=0;v>=128;){for(He=0;He<16;He++)Te=8*He+cn,P[He]=R[Te+0]<<24|R[Te+1]<<16|R[Te+2]<<8|R[Te+3],$[He]=R[Te+4]<<24|R[Te+5]<<16|R[Te+6]<<8|R[Te+7];for(He=0;He<80;He++)if(V=Qe,ae=lt,xe=at,ze=ot,Ae=L,At=pt,Pe=st,Je=St,nt=dt,it=bt,rt=mt,We=tn,et=kt,Ie=Vt,ke=nn,Fe=Qt,ee=St,te=Qt,ye=te&65535,fe=te>>>16,ce=ee&65535,me=ee>>>16,ee=(L>>>14|kt<<18)^(L>>>18|kt<<14)^(kt>>>9|L<<23),te=(kt>>>14|L<<18)^(kt>>>18|L<<14)^(L>>>9|kt<<23),ye+=te&65535,fe+=te>>>16,ce+=ee&65535,me+=ee>>>16,ee=L&pt^~L&st,te=kt&Vt^~kt&nn,ye+=te&65535,fe+=te>>>16,ce+=ee&65535,me+=ee>>>16,ee=dn[He*2],te=dn[He*2+1],ye+=te&65535,fe+=te>>>16,ce+=ee&65535,me+=ee>>>16,ee=P[He%16],te=$[He%16],ye+=te&65535,fe+=te>>>16,ce+=ee&65535,me+=ee>>>16,fe+=ye>>>16,ce+=fe>>>16,me+=ce>>>16,Ce=ce&65535|me<<16,Me=ye&65535|fe<<16,ee=Ce,te=Me,ye=te&65535,fe=te>>>16,ce=ee&65535,me=ee>>>16,ee=(Qe>>>28|dt<<4)^(dt>>>2|Qe<<30)^(dt>>>7|Qe<<25),te=(dt>>>28|Qe<<4)^(Qe>>>2|dt<<30)^(Qe>>>7|dt<<25),ye+=te&65535,fe+=te>>>16,ce+=ee&65535,me+=ee>>>16,ee=Qe&lt^Qe&at^lt&at,te=dt&bt^dt&mt^bt&mt,ye+=te&65535,fe+=te>>>16,ce+=ee&65535,me+=ee>>>16,fe+=ye>>>16,ce+=fe>>>16,me+=ce>>>16,Je=ce&65535|me<<16,Fe=ye&65535|fe<<16,ee=ze,te=We,ye=te&65535,fe=te>>>16,ce=ee&65535,me=ee>>>16,ee=Ce,te=Me,ye+=te&65535,fe+=te>>>16,ce+=ee&65535,me+=ee>>>16,fe+=ye>>>16,ce+=fe>>>16,me+=ce>>>16,ze=ce&65535|me<<16,We=ye&65535|fe<<16,lt=V,at=ae,ot=xe,L=ze,pt=Ae,st=At,St=Pe,Qe=Je,bt=nt,mt=it,tn=rt,kt=We,Vt=et,nn=Ie,Qt=ke,dt=Fe,He%16===15)for(Te=0;Te<16;Te++)ee=P[Te],te=$[Te],ye=te&65535,fe=te>>>16,ce=ee&65535,me=ee>>>16,ee=P[(Te+9)%16],te=$[(Te+9)%16],ye+=te&65535,fe+=te>>>16,ce+=ee&65535,me+=ee>>>16,Ce=P[(Te+1)%16],Me=$[(Te+1)%16],ee=(Ce>>>1|Me<<31)^(Ce>>>8|Me<<24)^Ce>>>7,te=(Me>>>1|Ce<<31)^(Me>>>8|Ce<<24)^(Me>>>7|Ce<<25),ye+=te&65535,fe+=te>>>16,ce+=ee&65535,me+=ee>>>16,Ce=P[(Te+14)%16],Me=$[(Te+14)%16],ee=(Ce>>>19|Me<<13)^(Me>>>29|Ce<<3)^Ce>>>6,te=(Me>>>19|Ce<<13)^(Ce>>>29|Me<<3)^(Me>>>6|Ce<<26),ye+=te&65535,fe+=te>>>16,ce+=ee&65535,me+=ee>>>16,fe+=ye>>>16,ce+=fe>>>16,me+=ce>>>16,P[Te]=ce&65535|me<<16,$[Te]=ye&65535|fe<<16;ee=Qe,te=dt,ye=te&65535,fe=te>>>16,ce=ee&65535,me=ee>>>16,ee=w[0],te=A[0],ye+=te&65535,fe+=te>>>16,ce+=ee&65535,me+=ee>>>16,fe+=ye>>>16,ce+=fe>>>16,me+=ce>>>16,w[0]=Qe=ce&65535|me<<16,A[0]=dt=ye&65535|fe<<16,ee=lt,te=bt,ye=te&65535,fe=te>>>16,ce=ee&65535,me=ee>>>16,ee=w[1],te=A[1],ye+=te&65535,fe+=te>>>16,ce+=ee&65535,me+=ee>>>16,fe+=ye>>>16,ce+=fe>>>16,me+=ce>>>16,w[1]=lt=ce&65535|me<<16,A[1]=bt=ye&65535|fe<<16,ee=at,te=mt,ye=te&65535,fe=te>>>16,ce=ee&65535,me=ee>>>16,ee=w[2],te=A[2],ye+=te&65535,fe+=te>>>16,ce+=ee&65535,me+=ee>>>16,fe+=ye>>>16,ce+=fe>>>16,me+=ce>>>16,w[2]=at=ce&65535|me<<16,A[2]=mt=ye&65535|fe<<16,ee=ot,te=tn,ye=te&65535,fe=te>>>16,ce=ee&65535,me=ee>>>16,ee=w[3],te=A[3],ye+=te&65535,fe+=te>>>16,ce+=ee&65535,me+=ee>>>16,fe+=ye>>>16,ce+=fe>>>16,me+=ce>>>16,w[3]=ot=ce&65535|me<<16,A[3]=tn=ye&65535|fe<<16,ee=L,te=kt,ye=te&65535,fe=te>>>16,ce=ee&65535,me=ee>>>16,ee=w[4],te=A[4],ye+=te&65535,fe+=te>>>16,ce+=ee&65535,me+=ee>>>16,fe+=ye>>>16,ce+=fe>>>16,me+=ce>>>16,w[4]=L=ce&65535|me<<16,A[4]=kt=ye&65535|fe<<16,ee=pt,te=Vt,ye=te&65535,fe=te>>>16,ce=ee&65535,me=ee>>>16,ee=w[5],te=A[5],ye+=te&65535,fe+=te>>>16,ce+=ee&65535,me+=ee>>>16,fe+=ye>>>16,ce+=fe>>>16,me+=ce>>>16,w[5]=pt=ce&65535|me<<16,A[5]=Vt=ye&65535|fe<<16,ee=st,te=nn,ye=te&65535,fe=te>>>16,ce=ee&65535,me=ee>>>16,ee=w[6],te=A[6],ye+=te&65535,fe+=te>>>16,ce+=ee&65535,me+=ee>>>16,fe+=ye>>>16,ce+=fe>>>16,me+=ce>>>16,w[6]=st=ce&65535|me<<16,A[6]=nn=ye&65535|fe<<16,ee=St,te=Qt,ye=te&65535,fe=te>>>16,ce=ee&65535,me=ee>>>16,ee=w[7],te=A[7],ye+=te&65535,fe+=te>>>16,ce+=ee&65535,me+=ee>>>16,fe+=ye>>>16,ce+=fe>>>16,me+=ce>>>16,w[7]=St=ce&65535|me<<16,A[7]=Qt=ye&65535|fe<<16,cn+=128,v-=128}return v}function vt(w,A,R){var v=new Int32Array(8),P=new Int32Array(8),$=new Uint8Array(256),V,ae=R;for(v[0]=1779033703,v[1]=3144134277,v[2]=1013904242,v[3]=2773480762,v[4]=1359893119,v[5]=2600822924,v[6]=528734635,v[7]=1541459225,P[0]=4089235720,P[1]=2227873595,P[2]=4271175723,P[3]=1595750129,P[4]=2917565137,P[5]=725511199,P[6]=4215389547,P[7]=327033209,Nt(v,P,A,R),R%=128,V=0;V<R;V++)$[V]=A[ae-R+V];for($[R]=128,R=256-128*(R<112?1:0),$[R-9]=0,E($,R-8,ae/536870912|0,ae<<3),Nt(v,P,$,R),V=0;V<8;V++)E(w,8*V,v[V],P[V]);return 0}function Ct(w,A){var R=n(),v=n(),P=n(),$=n(),V=n(),ae=n(),xe=n(),ze=n(),Ae=n();ge(R,w[1],w[0]),ge(Ae,A[1],A[0]),be(R,R,Ae),de(v,w[0],w[1]),de(Ae,A[0],A[1]),be(v,v,Ae),be(P,w[3],A[3]),be(P,P,m),be($,w[2],A[2]),de($,$,$),ge(V,v,R),ge(ae,$,P),de(xe,$,P),de(ze,v,R),be(w[0],V,ae),be(w[1],ze,xe),be(w[2],xe,ae),be(w[3],V,ze)}function an(w,A,R){var v;for(v=0;v<4;v++)G(w[v],A[v],R)}function En(w,A){var R=n(),v=n(),P=n();Re(P,A[2]),be(R,A[0],P),be(v,A[1],P),De(w,v),w[31]^=z(R)<<7}function ct(w,A,R){var v,P;for(H(w[0],u),H(w[1],f),H(w[2],f),H(w[3],u),P=255;P>=0;--P)v=R[P/8|0]>>(P&7)&1,an(w,A,v),Ct(A,w),Ct(w,w),an(w,A,v)}function ft(w,A){var R=[n(),n(),n(),n()];H(R[0],g),H(R[1],b),H(R[2],f),be(R[3],g,b),ct(w,R,A)}function en(w,A,R){var v=new Uint8Array(64),P=[n(),n(),n(),n()],$;for(R||i(A,32),vt(v,A,32),v[0]&=248,v[31]&=127,v[31]|=64,ft(P,v),En(w,P),$=0;$<32;$++)A[$+32]=w[$];return 0}var Cn=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Er(w,A){var R,v,P,$;for(v=63;v>=32;--v){for(R=0,P=v-32,$=v-12;P<$;++P)A[P]+=R-16*A[v]*Cn[P-(v-32)],R=Math.floor((A[P]+128)/256),A[P]-=R*256;A[P]+=R,A[v]=0}for(R=0,P=0;P<32;P++)A[P]+=R-(A[31]>>4)*Cn[P],R=A[P]>>8,A[P]&=255;for(P=0;P<32;P++)A[P]-=R*Cn[P];for(v=0;v<32;v++)A[v+1]+=A[v]>>8,w[v]=A[v]&255}function Mn(w){var A=new Float64Array(64),R;for(R=0;R<64;R++)A[R]=w[R];for(R=0;R<64;R++)w[R]=0;Er(w,A)}function qi(w,A,R,v){var P=new Uint8Array(64),$=new Uint8Array(64),V=new Uint8Array(64),ae,xe,ze=new Float64Array(64),Ae=[n(),n(),n(),n()];vt(P,v,32),P[0]&=248,P[31]&=127,P[31]|=64;var At=R+64;for(ae=0;ae<R;ae++)w[64+ae]=A[ae];for(ae=0;ae<32;ae++)w[32+ae]=P[32+ae];for(vt(V,w.subarray(32),R+32),Mn(V),ft(Ae,V),En(w,Ae),ae=32;ae<64;ae++)w[ae]=v[ae];for(vt($,w,R+64),Mn($),ae=0;ae<64;ae++)ze[ae]=0;for(ae=0;ae<32;ae++)ze[ae]=V[ae];for(ae=0;ae<32;ae++)for(xe=0;xe<32;xe++)ze[ae+xe]+=$[ae]*P[xe];return Er(w.subarray(32),ze),At}function mi(w,A){var R=n(),v=n(),P=n(),$=n(),V=n(),ae=n(),xe=n();return H(w[2],f),ie(w[1],A),Ee(P,w[1]),be($,P,h),ge(P,P,w[2]),de($,w[2],$),Ee(V,$),Ee(ae,V),be(xe,ae,V),be(R,xe,P),be(R,R,$),Pt(R,R),be(R,R,P),be(R,R,$),be(R,R,$),be(w[0],R,$),Ee(v,w[0]),be(v,v,$),Xe(v,P)&&be(w[0],w[0],x),Ee(v,w[0]),be(v,v,$),Xe(v,P)?-1:(z(w[0])===A[31]>>7&&ge(w[0],u,w[0]),be(w[3],w[0],w[1]),0)}function Yi(w,A,R,v){var P,$=new Uint8Array(32),V=new Uint8Array(64),ae=[n(),n(),n(),n()],xe=[n(),n(),n(),n()];if(R<64||mi(xe,v))return-1;for(P=0;P<R;P++)w[P]=A[P];for(P=0;P<32;P++)w[P+32]=v[P];if(vt(V,w,R),Mn(V),ct(ae,xe,V),ft(xe,A.subarray(32)),Ct(ae,xe),En($,ae),R-=64,D(A,0,$,0)){for(P=0;P<R;P++)w[P]=0;return-1}for(P=0;P<R;P++)w[P]=A[P+64];return R}var As=32,Cr=24,hn=32,jn=16,pn=32,Xr=32,zr=32,Qr=32,Zr=32,re=Cr,Ge=hn,Dt=jn,zt=64,It=32,ur=64,fa=32,Os=64;e.lowlevel={crypto_core_hsalsa20:F,crypto_stream_xor:ve,crypto_stream:pe,crypto_stream_salsa20_xor:Y,crypto_stream_salsa20:X,crypto_onetimeauth:we,crypto_onetimeauth_verify:Ke,crypto_verify_16:M,crypto_verify_32:D,crypto_secretbox:_e,crypto_secretbox_open:Ue,crypto_scalarmult:I,crypto_scalarmult_base:Z,crypto_box_beforenm:Oe,crypto_box_afternm:Le,crypto_box:Et,crypto_box_open:xt,crypto_box_keypair:ue,crypto_hash:vt,crypto_sign:qi,crypto_sign_keypair:en,crypto_sign_open:Yi,crypto_secretbox_KEYBYTES:As,crypto_secretbox_NONCEBYTES:Cr,crypto_secretbox_ZEROBYTES:hn,crypto_secretbox_BOXZEROBYTES:jn,crypto_scalarmult_BYTES:pn,crypto_scalarmult_SCALARBYTES:Xr,crypto_box_PUBLICKEYBYTES:zr,crypto_box_SECRETKEYBYTES:Qr,crypto_box_BEFORENMBYTES:Zr,crypto_box_NONCEBYTES:re,crypto_box_ZEROBYTES:Ge,crypto_box_BOXZEROBYTES:Dt,crypto_sign_BYTES:zt,crypto_sign_PUBLICKEYBYTES:It,crypto_sign_SECRETKEYBYTES:ur,crypto_sign_SEEDBYTES:fa,crypto_hash_BYTES:Os,gf:n,D:h,L:Cn,pack25519:De,unpack25519:ie,M:be,A:de,S:Ee,Z:ge,pow2523:Pt,add:Ct,set25519:H,modL:Er,scalarmult:ct,scalarbase:ft};function Fi(w,A){if(w.length!==As)throw new Error("bad key size");if(A.length!==Cr)throw new Error("bad nonce size")}function Yf(w,A){if(w.length!==zr)throw new Error("bad public key size");if(A.length!==Qr)throw new Error("bad secret key size")}function $n(){for(var w=0;w<arguments.length;w++)if(!(arguments[w]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function po(w){for(var A=0;A<w.length;A++)w[A]=0}e.randomBytes=function(w){var A=new Uint8Array(w);return i(A,w),A},e.secretbox=function(w,A,R){$n(w,A,R),Fi(R,A);for(var v=new Uint8Array(hn+w.length),P=new Uint8Array(v.length),$=0;$<w.length;$++)v[$+hn]=w[$];return _e(P,v,v.length,A,R),P.subarray(jn)},e.secretbox.open=function(w,A,R){$n(w,A,R),Fi(R,A);for(var v=new Uint8Array(jn+w.length),P=new Uint8Array(v.length),$=0;$<w.length;$++)v[$+jn]=w[$];return v.length<32||Ue(P,v,v.length,A,R)!==0?null:P.subarray(hn)},e.secretbox.keyLength=As,e.secretbox.nonceLength=Cr,e.secretbox.overheadLength=jn,e.scalarMult=function(w,A){if($n(w,A),w.length!==Xr)throw new Error("bad n size");if(A.length!==pn)throw new Error("bad p size");var R=new Uint8Array(pn);return I(R,w,A),R},e.scalarMult.base=function(w){if($n(w),w.length!==Xr)throw new Error("bad n size");var A=new Uint8Array(pn);return Z(A,w),A},e.scalarMult.scalarLength=Xr,e.scalarMult.groupElementLength=pn,e.box=function(w,A,R,v){var P=e.box.before(R,v);return e.secretbox(w,A,P)},e.box.before=function(w,A){$n(w,A),Yf(w,A);var R=new Uint8Array(Zr);return Oe(R,w,A),R},e.box.after=e.secretbox,e.box.open=function(w,A,R,v){var P=e.box.before(R,v);return e.secretbox.open(w,A,P)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var w=new Uint8Array(zr),A=new Uint8Array(Qr);return ue(w,A),{publicKey:w,secretKey:A}},e.box.keyPair.fromSecretKey=function(w){if($n(w),w.length!==Qr)throw new Error("bad secret key size");var A=new Uint8Array(zr);return Z(A,w),{publicKey:A,secretKey:new Uint8Array(w)}},e.box.publicKeyLength=zr,e.box.secretKeyLength=Qr,e.box.sharedKeyLength=Zr,e.box.nonceLength=re,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(w,A){if($n(w,A),A.length!==ur)throw new Error("bad secret key size");var R=new Uint8Array(zt+w.length);return qi(R,w,w.length,A),R},e.sign.open=function(w,A){if($n(w,A),A.length!==It)throw new Error("bad public key size");var R=new Uint8Array(w.length),v=Yi(R,w,w.length,A);if(v<0)return null;for(var P=new Uint8Array(v),$=0;$<P.length;$++)P[$]=R[$];return P},e.sign.detached=function(w,A){for(var R=e.sign(w,A),v=new Uint8Array(zt),P=0;P<v.length;P++)v[P]=R[P];return v},e.sign.detached.verify=function(w,A,R){if($n(w,A,R),A.length!==zt)throw new Error("bad signature size");if(R.length!==It)throw new Error("bad public key size");var v=new Uint8Array(zt+w.length),P=new Uint8Array(zt+w.length),$;for($=0;$<zt;$++)v[$]=A[$];for($=0;$<w.length;$++)v[$+zt]=w[$];return Yi(P,v,v.length,R)>=0},e.sign.keyPair=function(){var w=new Uint8Array(It),A=new Uint8Array(ur);return en(w,A),{publicKey:w,secretKey:A}},e.sign.keyPair.fromSecretKey=function(w){if($n(w),w.length!==ur)throw new Error("bad secret key size");for(var A=new Uint8Array(It),R=0;R<A.length;R++)A[R]=w[32+R];return{publicKey:A,secretKey:new Uint8Array(w)}},e.sign.keyPair.fromSeed=function(w){if($n(w),w.length!==fa)throw new Error("bad seed size");for(var A=new Uint8Array(It),R=new Uint8Array(ur),v=0;v<32;v++)R[v]=w[v];return en(A,R,!0),{publicKey:A,secretKey:R}},e.sign.publicKeyLength=It,e.sign.secretKeyLength=ur,e.sign.seedLength=fa,e.sign.signatureLength=zt,e.hash=function(w){$n(w);var A=new Uint8Array(Os);return vt(A,w,w.length),A},e.hash.hashLength=Os,e.verify=function(w,A){return $n(w,A),w.length===0||A.length===0||w.length!==A.length?!1:C(w,0,A,0,w.length)===0},e.setPRNG=function(w){i=w},(function(){var w=typeof self<"u"?self.crypto||self.msCrypto:null;if(w&&w.getRandomValues){var A=65536;e.setPRNG(function(R,v){var P,$=new Uint8Array(v);for(P=0;P<v;P+=A)w.getRandomValues($.subarray(P,P+Math.min(v-P,A)));for(P=0;P<v;P++)R[P]=$[P];po($)})}else typeof h8<"u"&&(w=y8,w&&w.randomBytes&&e.setPRNG(function(R,v){var P,$=w.randomBytes(v);for(P=0;P<v;P++)R[P]=$[P];po($)}))})()})(t.exports?t.exports:self.nacl=self.nacl||{})})(qp)),qp.exports}var zu={exports:{}},g8=zu.exports,I1;function DC(){return I1||(I1=1,(function(t){(function(e,n){t.exports?t.exports=n():(e.nacl||(e.nacl={}),e.nacl.util=n())})(g8,function(){var e={};function n(i){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(i))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(i){if(typeof i!="string")throw new TypeError("expected string");var a,c=unescape(encodeURIComponent(i)),u=new Uint8Array(c.length);for(a=0;a<c.length;a++)u[a]=c.charCodeAt(a);return u},e.encodeUTF8=function(i){var a,c=[];for(a=0;a<i.length;a++)c.push(String.fromCharCode(i[a]));return decodeURIComponent(escape(c.join("")))},typeof atob>"u"?typeof Buffer.from<"u"?(e.encodeBase64=function(i){return Buffer.from(i).toString("base64")},e.decodeBase64=function(i){return n(i),new Uint8Array(Array.prototype.slice.call(Buffer.from(i,"base64"),0))}):(e.encodeBase64=function(i){return new Buffer(i).toString("base64")},e.decodeBase64=function(i){return n(i),new Uint8Array(Array.prototype.slice.call(new Buffer(i,"base64"),0))}):(e.encodeBase64=function(i){var a,c=[],u=i.length;for(a=0;a<u;a++)c.push(String.fromCharCode(i[a]));return btoa(c.join(""))},e.decodeBase64=function(i){n(i);var a,c=atob(i),u=new Uint8Array(c.length);for(a=0;a<c.length;a++)u[a]=c.charCodeAt(a);return u}),e})})(zu)),zu.exports}const v8=Object.freeze(Object.defineProperty({__proto__:null,Async:qD,CreateGameReducer:Uf,InitializeGame:jy,ProcessGameConfig:Vc,Sync:gE,Transport:zf,createMatch:vE,getFilterPlayerView:xE},Symbol.toStringTag,{value:"Module"})),Yy=hf(v8);var Qs={};const b8=Object.freeze(Object.defineProperty({__proto__:null,Master:bE},Symbol.toStringTag,{value:"Module"})),x8=hf(b8);var pc={},B1;function S8(){if(B1)return pc;B1=1,Object.defineProperty(pc,"__esModule",{value:!0}),pc.P2PDB=void 0;const t=Yy;class e extends t.Sync{constructor(){super(...arguments),this.initialState=new Map,this.state=new Map,this.log=new Map,this.metadata=new Map}connect(){}createMatch(i,a){this.initialState.set(i,a.initialState),this.state.set(i,a.initialState),this.log.set(i,[]),this.metadata.set(i,a.metadata)}setState(i,a,c){this.state.set(i,a),c&&this.log.set(i,[...this.log.get(i)||[],...c])}setMetadata(i,a){this.metadata.set(i,a)}fetch(i){return{initialState:this.initialState.get(i),state:this.state.get(i),log:this.log.get(i),metadata:this.metadata.get(i)}}wipe(i){this.initialState.delete(i),this.state.delete(i),this.log.delete(i),this.metadata.delete(i)}listMatches(){return[...this.metadata.keys()]}}return pc.P2PDB=e,pc}var ji={},H1;function Bm(){if(H1)return ji;H1=1,Object.defineProperty(ji,"__esModule",{value:!0}),ji.authenticate=ji.signMessage=ji.generateCredentials=void 0;const t=NC(),e=DC();function n(){return(0,e.encodeBase64)((0,t.randomBytes)(64))}ji.generateCredentials=n;function i(u,f,d){try{const h=t.sign.open((0,e.decodeBase64)(u),(0,e.decodeBase64)(f));return h!==null&&(0,e.encodeUTF8)(h)===d}catch{return!1}}function a(u,f){return(0,e.encodeBase64)((0,t.sign)((0,e.decodeUTF8)(u),(0,e.decodeBase64)(f)))}ji.signMessage=a;function c(u,f,d){const{playerID:h,credentials:m,message:g}=f,{metadata:b}=d.fetch(u);if(h==null||!(+h in b.players))return!0;const x=b.players[+h].credentials,E=m?!!g&&i(g,m,h):!1;return!x&&E?(d.setMetadata(u,Object.assign(Object.assign({},b),{players:Object.assign(Object.assign({},b.players),{[+h]:Object.assign(Object.assign({},b.players[+h]),{credentials:m})})})),!0):!!(!x&&!m||x&&x===m&&E)}return ji.authenticate=c,ji}var $1;function _8(){if($1)return Qs;$1=1;var t=Qs&&Qs.__rest||function(u,f){var d={};for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&f.indexOf(h)<0&&(d[h]=u[h]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,h=Object.getOwnPropertySymbols(u);m<h.length;m++)f.indexOf(h[m])<0&&Object.prototype.propertyIsEnumerable.call(u,h[m])&&(d[h[m]]=u[h[m]]);return d};Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.P2PHost=void 0;const e=Yy,n=x8,i=S8(),a=Bm();class c{constructor({game:f,numPlayers:d=2,matchID:h}){this.clients=new Map,this.matchID=h,(!f.name||f.name==="default")&&console.error('Using "default" as your game name.\nPlease set the `name` property of your game definition to a unique string to help avoid peer ID conflicts.');const m=(0,e.createMatch)({game:f,numPlayers:d,unlisted:!1,setupData:void 0});if("setupDataError"in m)throw new Error("setupData Error: "+m.setupDataError);this.db=new i.P2PDB,this.db.createMatch(this.matchID,m);const g=(0,e.getFilterPlayerView)(f);this.master=new n.Master(f,this.db,{send:b=>{var{playerID:x}=b,E=t(b,["playerID"]);const C=g(x,E);for(const[M]of this.clients)M.metadata.playerID===x&&M.send(C)},sendAll:b=>{for(const[x]of this.clients){const E=g(x.metadata.playerID,b);x.send(E)}}})}registerClient(f){if(!this.authenticateClient(f))return;const{playerID:h,credentials:m}=f.metadata;this.clients.set(f,f),this.master.onConnectionChange(this.matchID,h,m,!0)}authenticateClient(f){return(0,a.authenticate)(this.matchID,f.metadata,this.db)}unregisterClient(f){const{credentials:d,playerID:h}=f.metadata;this.clients.delete(f),this.master.onConnectionChange(this.matchID,h,d,!1)}processAction(f){switch(f.type){case"update":this.master.onUpdate(...f.args);break;case"chat":this.master.onChatMessage(...f.args);break;case"sync":this.master.onSync(...f.args);break}}}return Qs.P2PHost=c,Qs}var V1;function w8(){return V1||(V1=1,(function(t){var e=Xs&&Xs.__rest||function(x,E){var C={};for(var M in x)Object.prototype.hasOwnProperty.call(x,M)&&E.indexOf(M)<0&&(C[M]=x[M]);if(x!=null&&typeof Object.getOwnPropertySymbols=="function")for(var D=0,M=Object.getOwnPropertySymbols(x);D<M.length;D++)E.indexOf(M[D])<0&&Object.prototype.propertyIsEnumerable.call(x,M[D])&&(C[M[D]]=x[M[D]]);return C},n=Xs&&Xs.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(t,"__esModule",{value:!0}),t.P2P=t.generateCredentials=void 0;const i=n(d8),a=NC(),c=DC(),u=Yy,f=_8(),d=Bm();var h=Bm();Object.defineProperty(t,"generateCredentials",{enumerable:!0,get:function(){return h.generateCredentials}});class m{constructor(){this.initialInterval=500,this.maxInterval=32e3,this.interval=this.initialInterval}cancelTask(){this.taskID&&(clearTimeout(this.taskID),delete this.taskID)}schedule(E){this.cancelTask(),this.taskID=setTimeout(()=>{this.interval<this.maxInterval&&(this.interval*=2),E()},this.interval)}clear(){this.cancelTask(),this.interval=this.initialInterval}}class g extends u.Transport{constructor(E){var{isHost:C,onError:M=()=>{},peerOptions:D={}}=E,N=e(E,["isHost","onError","peerOptions"]);super(N),this.peer=null,this.isHost=!!C,this.onError=M,this.peerOptions=D,this.game=N.game,this.retryHandler=new m,this.setCredentials(N.credentials)}get hostID(){if(!this.matchID)throw new Error("matchID must be provided");return`boardgameio-${this.gameName}-matchid-${this.matchID}`.replace(/([^A-Za-z0-9_-]|^[_-]+|[_-]+$)/g,"").replace(/([_-])[_-]+/g,"$1")}setCredentials(E){if(!E){this.privateKey=this.credentials=void 0;return}const C=(0,a.hash)((0,c.decodeUTF8)(E)).slice(0,32),{publicKey:M,secretKey:D}=a.sign.keyPair.fromSeed(C);this.credentials=(0,c.encodeBase64)(M),this.privateKey=(0,c.encodeBase64)(D)}get metadata(){return{playerID:this.playerID,credentials:this.credentials,message:this.playerID&&this.privateKey?(0,d.signMessage)(this.playerID,this.privateKey):void 0}}connect(){if(this.peer=new i.default(this.isHost?this.hostID:void 0,this.peerOptions),this.isHost){const E=new f.P2PHost({game:this.game,numPlayers:this.numPlayers,matchID:this.matchID});this.emit=C=>void E.processAction(C),E.registerClient({send:C=>void this.notifyClient(C),metadata:this.metadata}),this.peer.on("connection",C=>{E.registerClient(C),C.on("data",M=>{E.processAction(M)}),C.on("close",()=>void E.unregisterClient(C)),window&&window.addEventListener("beforeunload",()=>C.close())}),this.peer.on("error",C=>this.onError(C)),this.onConnect()}else this.peer.on("open",()=>void this.connectToHost()),this.peer.on("error",E=>{const C=E;C.type==="network"||C.type==="peer-unavailable"?this.retryHandler.schedule(()=>void this.connectToHost()):this.onError(C)})}connectToHost(){if(!this.peer)return;const E=this.peer.connect(this.hostID,{metadata:this.metadata});this.emit=C=>void E.send(C),E.on("open",()=>void this.onConnect()),E.on("data",C=>void this.notifyClient(C)),window&&window.addEventListener("beforeunload",()=>E.close())}onConnect(){this.retryHandler.clear(),this.setConnectionStatus(!0),this.requestSync()}disconnect(){this.peer&&this.peer.destroy(),this.peer=null,this.retryHandler.clear(),this.setConnectionStatus(!1)}requestSync(){this.emit&&this.emit({type:"sync",args:[this.matchID,this.playerID,this.credentials,this.numPlayers]})}sendAction(E,C){this.emit&&this.emit({type:"update",args:[C,E._stateID,this.matchID,this.playerID]})}sendChatMessage(E,C){this.emit&&this.emit({type:"chat",args:[E,C,this.credentials]})}reconnect(){this.disconnect(),this.connect()}updateMatchID(E){this.matchID=E,this.reconnect()}updatePlayerID(E){this.playerID=E,this.reconnect()}updateCredentials(E){this.setCredentials(E),this.reconnect()}}const b=(x={})=>E=>new g(Object.assign(Object.assign({},E),x));t.P2P=b})(Xs)),Xs}var Es=w8();const kC="musicshowdown.identity",zi="0",Za=1,Hm=Math.max(Za,Oc-1),Fy=t=>`${kC}.${t}`,jC=t=>`${kC}.${t}.used`,q1=(t,e)=>{if(t==="host")return e===zi;const n=Number(e);return Number.isInteger(n)&&n>=Za&&n<=Hm},ff=t=>{if(typeof window>"u")return new Set;const e=localStorage.getItem(jC(t));if(!e)return new Set;try{const n=JSON.parse(e);return new Set(n)}catch{return new Set}},df=(t,e)=>{typeof window>"u"||localStorage.setItem(jC(t),JSON.stringify(Array.from(e)))},$m=(t,e)=>{for(let i=Za;i<=Hm;i++){const a=String(i);if(!e.has(a))return e.add(a),df(t,e),a}const n=String(Math.min(Hm,Math.max(Za,e.size+Za)));return e.add(n),df(t,e),n},E8=(t,e,n)=>{if(e==="host")return{playerID:zi,credentials:Es.generateCredentials(),role:e,playerName:n};const i=ff(t);return{playerID:$m(t,i),credentials:Es.generateCredentials(),role:e,playerName:n}};function Gy(t){if(typeof window>"u")return null;const e=localStorage.getItem(Fy(t));if(!e)return null;try{return JSON.parse(e)}catch{return null}}function LC(t,e,n){if(typeof window>"u")return{playerID:e==="host"?zi:String(Za),credentials:Es.generateCredentials(),role:e,playerName:n};const i=Fy(t),a=Gy(t),c=ff(t);if(a){let f=a.playerID,d=a.credentials;q1(a.role,a.playerID)||(c.delete(a.playerID),f=a.role==="host"?zi:$m(t,c),d=Es.generateCredentials()),a.role==="host"&&e!=="host"&&(e="host");const h={...a,role:a.role==="host"?a.role:e,playerName:n||a.playerName,playerID:e==="host"?zi:f,credentials:d};return q1(h.role,h.playerID)||(c.delete(h.playerID),h.playerID=h.role==="host"?zi:$m(t,c),h.credentials=Es.generateCredentials()),localStorage.setItem(i,JSON.stringify(h)),h}const u=E8(t,e,n);if(e==="peer"){const f=ff(t);f.add(u.playerID),df(t,f)}return localStorage.setItem(i,JSON.stringify(u)),u}function C8(t,e){const n=e.trim().slice(0,24);if(typeof window>"u")return{playerID:zi,credentials:Es.generateCredentials(),role:"host",playerName:n||e||"Player"};const i=Fy(t),a=ff(t),c=Gy(t);c&&c.playerID!==zi&&(a.delete(c.playerID),df(t,a));const u=n||c?.playerName||"Player",f={playerID:zi,credentials:Es.generateCredentials(),role:"host",playerName:u};localStorage.setItem(i,JSON.stringify(f));try{sessionStorage.setItem("musicshowdown.lastRole","host")}catch{}return f}const T8=()=>typeof window>"u"?"Player":localStorage.getItem("playerName")||"Player",R8=t=>{if(typeof window>"u")return t;const e=sessionStorage.getItem("musicshowdown.pendingRole");if(e==="host"||e==="peer")return sessionStorage.removeItem("musicshowdown.pendingRole"),e;const n=sessionStorage.getItem("musicshowdown.lastRole");return n==="host"||n==="peer"?n:t},A8=(t,e)=>{const n=Gy(t);if(n)return typeof window<"u"&&sessionStorage.setItem("musicshowdown.lastRole",n.role),n;const i=R8(e),a=LC(t,i,T8());return typeof window<"u"&&sessionStorage.setItem("musicshowdown.lastRole",a.role),a};function O8({roomCode:t,defaultRole:e,board:n}){const[i,a]=T.useState(()=>A8(t,e));T.useEffect(()=>{typeof window<"u"&&sessionStorage.setItem("musicshowdown.lastRole",i.role)},[i.role]);const c=T.useCallback(h=>{const m=h.trim().slice(0,24);if(!m)return;typeof window<"u"&&localStorage.setItem("playerName",m);const g=LC(t,i.role,m);a(g)},[i.role,t]),u=T.useCallback(h=>{a(m=>{const g=h?.trim().slice(0,24)||m.playerName;return C8(t,g)})},[t]),f=T.useMemo(()=>{const h=n;return function(g){return S.jsx(h,{...g,identity:i,isHost:i.role==="host",updatePlayerName:c,promoteToHost:u})}},[n,i,u,c]),d=T.useMemo(()=>LE({game:TN,board:f,multiplayer:Es.P2P({isHost:i.role==="host"}),numPlayers:Oc,debug:!1}),[f,i.role]);return S.jsx(d,{matchID:t,playerID:i.playerID,credentials:i.credentials},`${t}:${i.playerID}:${i.credentials}:${i.role}`)}const qf=EA({component:yP}),M8=vf({getParentRoute:()=>qf,path:"/music-showdown/",component:EP}),UC=vf({getParentRoute:()=>qf,path:"/music-showdown/game/$roomCode",component:()=>{const{roomCode:t}=UC.useParams();return typeof window<"u"&&(sessionStorage.getItem("musicshowdown.pendingRole")||sessionStorage.setItem("musicshowdown.pendingRole","peer")),S.jsx(O8,{roomCode:t,defaultRole:"peer",board:MN})}}),P8=vf({getParentRoute:()=>qf,path:"*",component:PN}),N8=qf.addChildren([M8,UC,P8]),D8=DA({routeTree:N8});KR.createRoot(document.getElementById("root")).render(S.jsx(LA,{router:D8}));
