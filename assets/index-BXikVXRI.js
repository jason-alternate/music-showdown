function aS(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in t)){const c=Object.getOwnPropertyDescriptor(s,a);c&&Object.defineProperty(t,a,c.get?c:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var Hx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bf(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function s(){var a=!1;try{a=this instanceof s}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var a=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return t[s]}})}),n}var np={exports:{}},oc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x;function e2(){if($x)return oc;$x=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,c){var u=null;if(c!==void 0&&(u=""+c),a.key!==void 0&&(u=""+a.key),"key"in a){c={};for(var f in a)f!=="key"&&(c[f]=a[f])}else c=a;return a=c.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:c}}return oc.Fragment=e,oc.jsx=n,oc.jsxs=n,oc}var Vx;function t2(){return Vx||(Vx=1,np.exports=e2()),np.exports}var b=t2(),rp={exports:{}},cc={},sp={exports:{}},ip={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx;function n2(){return qx||(qx=1,(function(t){function e(L,ee){var G=L.length;L.push(ee);e:for(;0<G;){var Re=G-1>>>1,Ke=L[Re];if(0<a(Ke,ee))L[Re]=ee,L[G]=Ke,G=Re;else break e}}function n(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var ee=L[0],G=L.pop();if(G!==ee){L[0]=G;e:for(var Re=0,Ke=L.length,z=Ke>>>1;Re<z;){var ie=2*(Re+1)-1,le=L[ie],xe=ie+1,Se=L[xe];if(0>a(le,G))xe<Ke&&0>a(Se,le)?(L[Re]=Se,L[xe]=G,Re=xe):(L[Re]=le,L[ie]=G,Re=ie);else if(xe<Ke&&0>a(Se,G))L[Re]=Se,L[xe]=G,Re=xe;else break e}}return ee}function a(L,ee){var G=L.sortIndex-ee.sortIndex;return G!==0?G:L.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var d=[],p=[],y=1,g=null,v=3,S=!1,C=!1,E=!1,M=!1,N=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function j(L){for(var ee=n(p);ee!==null;){if(ee.callback===null)s(p);else if(ee.startTime<=L)s(p),ee.sortIndex=ee.expirationTime,e(d,ee);else break;ee=n(p)}}function F(L){if(E=!1,j(L),!C)if(n(d)!==null)C=!0,Z||(Z=!0,Ce());else{var ee=n(p);ee!==null&&Le(F,ee.startTime-L)}}var Z=!1,Y=-1,K=5,pe=-1;function ve(){return M?!0:!(t.unstable_now()-pe<K)}function _e(){if(M=!1,Z){var L=t.unstable_now();pe=L;var ee=!0;try{e:{C=!1,E&&(E=!1,D(Y),Y=-1),S=!0;var G=v;try{t:{for(j(L),g=n(d);g!==null&&!(g.expirationTime>L&&ve());){var Re=g.callback;if(typeof Re=="function"){g.callback=null,v=g.priorityLevel;var Ke=Re(g.expirationTime<=L);if(L=t.unstable_now(),typeof Ke=="function"){g.callback=Ke,j(L),ee=!0;break t}g===n(d)&&s(d),j(L)}else s(d);g=n(d)}if(g!==null)ee=!0;else{var z=n(p);z!==null&&Le(F,z.startTime-L),ee=!1}}break e}finally{g=null,v=G,S=!1}ee=void 0}}finally{ee?Ce():Z=!1}}}var Ce;if(typeof k=="function")Ce=function(){k(_e)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,ge=Te.port2;Te.port1.onmessage=_e,Ce=function(){ge.postMessage(null)}}else Ce=function(){N(_e,0)};function Le(L,ee){Y=N(function(){L(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(L){switch(v){case 1:case 2:case 3:var ee=3;break;default:ee=v}var G=v;v=ee;try{return L()}finally{v=G}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(L,ee){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var G=v;v=L;try{return ee()}finally{v=G}},t.unstable_scheduleCallback=function(L,ee,G){var Re=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Re+G:Re):G=Re,L){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=G+Ke,L={id:y++,callback:ee,priorityLevel:L,startTime:G,expirationTime:Ke,sortIndex:-1},G>Re?(L.sortIndex=G,e(p,L),n(d)===null&&L===n(p)&&(E?(D(Y),Y=-1):E=!0,Le(F,G-Re))):(L.sortIndex=Ke,e(d,L),C||S||(C=!0,Z||(Z=!0,Ce()))),L},t.unstable_shouldYield=ve,t.unstable_wrapCallback=function(L){var ee=v;return function(){var G=v;v=ee;try{return L.apply(this,arguments)}finally{v=G}}}})(ip)),ip}var Fx;function r2(){return Fx||(Fx=1,sp.exports=n2()),sp.exports}var ap={exports:{}},dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yx;function s2(){if(Yx)return dt;Yx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function S(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,M={};function N(z,ie,le){this.props=z,this.context=ie,this.refs=M,this.updater=le||C}N.prototype.isReactComponent={},N.prototype.setState=function(z,ie){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ie,"setState")},N.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function D(){}D.prototype=N.prototype;function k(z,ie,le){this.props=z,this.context=ie,this.refs=M,this.updater=le||C}var j=k.prototype=new D;j.constructor=k,E(j,N.prototype),j.isPureReactComponent=!0;var F=Array.isArray;function Z(){}var Y={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function pe(z,ie,le){var xe=le.ref;return{$$typeof:t,type:z,key:ie,ref:xe!==void 0?xe:null,props:le}}function ve(z,ie){return pe(z.type,ie,z.props)}function _e(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function Ce(z){var ie={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(le){return ie[le]})}var Te=/\/+/g;function ge(z,ie){return typeof z=="object"&&z!==null&&z.key!=null?Ce(""+z.key):ie.toString(36)}function Le(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(Z,Z):(z.status="pending",z.then(function(ie){z.status==="pending"&&(z.status="fulfilled",z.value=ie)},function(ie){z.status==="pending"&&(z.status="rejected",z.reason=ie)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function L(z,ie,le,xe,Se){var Ee=typeof z;(Ee==="undefined"||Ee==="boolean")&&(z=null);var Pe=!1;if(z===null)Pe=!0;else switch(Ee){case"bigint":case"string":case"number":Pe=!0;break;case"object":switch(z.$$typeof){case t:case e:Pe=!0;break;case y:return Pe=z._init,L(Pe(z._payload),ie,le,xe,Se)}}if(Pe)return Se=Se(z),Pe=xe===""?"."+ge(z,0):xe,F(Se)?(le="",Pe!=null&&(le=Pe.replace(Te,"$&/")+"/"),L(Se,ie,le,"",function(J){return J})):Se!=null&&(_e(Se)&&(Se=ve(Se,le+(Se.key==null||z&&z.key===Se.key?"":(""+Se.key).replace(Te,"$&/")+"/")+Pe)),ie.push(Se)),1;Pe=0;var it=xe===""?".":xe+":";if(F(z))for(var B=0;B<z.length;B++)xe=z[B],Ee=it+ge(xe,B),Pe+=L(xe,ie,le,Ee,Se);else if(B=S(z),typeof B=="function")for(z=B.call(z),B=0;!(xe=z.next()).done;)xe=xe.value,Ee=it+ge(xe,B++),Pe+=L(xe,ie,le,Ee,Se);else if(Ee==="object"){if(typeof z.then=="function")return L(Le(z),ie,le,xe,Se);throw ie=String(z),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Pe}function ee(z,ie,le){if(z==null)return z;var xe=[],Se=0;return L(z,xe,"","",function(Ee){return ie.call(le,Ee,Se++)}),xe}function G(z){if(z._status===-1){var ie=z._result;ie=ie(),ie.then(function(le){(z._status===0||z._status===-1)&&(z._status=1,z._result=le)},function(le){(z._status===0||z._status===-1)&&(z._status=2,z._result=le)}),z._status===-1&&(z._status=0,z._result=ie)}if(z._status===1)return z._result.default;throw z._result}var Re=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Ke={map:ee,forEach:function(z,ie,le){ee(z,function(){ie.apply(this,arguments)},le)},count:function(z){var ie=0;return ee(z,function(){ie++}),ie},toArray:function(z){return ee(z,function(ie){return ie})||[]},only:function(z){if(!_e(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return dt.Activity=g,dt.Children=Ke,dt.Component=N,dt.Fragment=n,dt.Profiler=a,dt.PureComponent=k,dt.StrictMode=s,dt.Suspense=d,dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,dt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return Y.H.useMemoCache(z)}},dt.cache=function(z){return function(){return z.apply(null,arguments)}},dt.cacheSignal=function(){return null},dt.cloneElement=function(z,ie,le){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var xe=E({},z.props),Se=z.key;if(ie!=null)for(Ee in ie.key!==void 0&&(Se=""+ie.key),ie)!K.call(ie,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&ie.ref===void 0||(xe[Ee]=ie[Ee]);var Ee=arguments.length-2;if(Ee===1)xe.children=le;else if(1<Ee){for(var Pe=Array(Ee),it=0;it<Ee;it++)Pe[it]=arguments[it+2];xe.children=Pe}return pe(z.type,Se,xe)},dt.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:c,_context:z},z},dt.createElement=function(z,ie,le){var xe,Se={},Ee=null;if(ie!=null)for(xe in ie.key!==void 0&&(Ee=""+ie.key),ie)K.call(ie,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(Se[xe]=ie[xe]);var Pe=arguments.length-2;if(Pe===1)Se.children=le;else if(1<Pe){for(var it=Array(Pe),B=0;B<Pe;B++)it[B]=arguments[B+2];Se.children=it}if(z&&z.defaultProps)for(xe in Pe=z.defaultProps,Pe)Se[xe]===void 0&&(Se[xe]=Pe[xe]);return pe(z,Ee,Se)},dt.createRef=function(){return{current:null}},dt.forwardRef=function(z){return{$$typeof:f,render:z}},dt.isValidElement=_e,dt.lazy=function(z){return{$$typeof:y,_payload:{_status:-1,_result:z},_init:G}},dt.memo=function(z,ie){return{$$typeof:p,type:z,compare:ie===void 0?null:ie}},dt.startTransition=function(z){var ie=Y.T,le={};Y.T=le;try{var xe=z(),Se=Y.S;Se!==null&&Se(le,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(Z,Re)}catch(Ee){Re(Ee)}finally{ie!==null&&le.types!==null&&(ie.types=le.types),Y.T=ie}},dt.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},dt.use=function(z){return Y.H.use(z)},dt.useActionState=function(z,ie,le){return Y.H.useActionState(z,ie,le)},dt.useCallback=function(z,ie){return Y.H.useCallback(z,ie)},dt.useContext=function(z){return Y.H.useContext(z)},dt.useDebugValue=function(){},dt.useDeferredValue=function(z,ie){return Y.H.useDeferredValue(z,ie)},dt.useEffect=function(z,ie){return Y.H.useEffect(z,ie)},dt.useEffectEvent=function(z){return Y.H.useEffectEvent(z)},dt.useId=function(){return Y.H.useId()},dt.useImperativeHandle=function(z,ie,le){return Y.H.useImperativeHandle(z,ie,le)},dt.useInsertionEffect=function(z,ie){return Y.H.useInsertionEffect(z,ie)},dt.useLayoutEffect=function(z,ie){return Y.H.useLayoutEffect(z,ie)},dt.useMemo=function(z,ie){return Y.H.useMemo(z,ie)},dt.useOptimistic=function(z,ie){return Y.H.useOptimistic(z,ie)},dt.useReducer=function(z,ie,le){return Y.H.useReducer(z,ie,le)},dt.useRef=function(z){return Y.H.useRef(z)},dt.useState=function(z){return Y.H.useState(z)},dt.useSyncExternalStore=function(z,ie,le){return Y.H.useSyncExternalStore(z,ie,le)},dt.useTransition=function(){return Y.H.useTransition()},dt.version="19.2.0",dt}var Gx;function qc(){return Gx||(Gx=1,ap.exports=s2()),ap.exports}var op={exports:{}},$n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx;function i2(){if(Kx)return $n;Kx=1;var t=qc();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function c(d,p,y){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:d,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return $n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$n.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(d,p,null,y)},$n.flushSync=function(d){var p=u.T,y=s.p;try{if(u.T=null,s.p=2,d)return d()}finally{u.T=p,s.p=y,s.d.f()}},$n.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(d,p))},$n.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},$n.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,g=f(y,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:S}):y==="script"&&s.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},$n.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);s.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(d)},$n.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,g=f(y,p.crossOrigin);s.d.L(d,y,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},$n.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=f(p.as,p.crossOrigin);s.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(d)},$n.requestFormReset=function(d){s.d.r(d)},$n.unstable_batchedUpdates=function(d,p){return d(p)},$n.useFormState=function(d,p,y){return u.H.useFormState(d,p,y)},$n.useFormStatus=function(){return u.H.useHostTransitionStatus()},$n.version="19.2.0",$n}var Xx;function oS(){if(Xx)return op.exports;Xx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),op.exports=i2(),op.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qx;function a2(){if(Qx)return cc;Qx=1;var t=r2(),e=qc(),n=oS();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function c(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function u(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function f(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(c(r)!==r)throw Error(s(188))}function p(r){var i=r.alternate;if(!i){if(i=c(r),i===null)throw Error(s(188));return i!==r?null:r}for(var o=r,l=i;;){var h=o.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){o=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===o)return d(h),r;if(m===l)return d(h),i;m=m.sibling}throw Error(s(188))}if(o.return!==l.return)o=h,l=m;else{for(var w=!1,O=h.child;O;){if(O===o){w=!0,o=h,l=m;break}if(O===l){w=!0,l=h,o=m;break}O=O.sibling}if(!w){for(O=m.child;O;){if(O===o){w=!0,o=m,l=h;break}if(O===l){w=!0,l=m,o=h;break}O=O.sibling}if(!w)throw Error(s(189))}}if(o.alternate!==l)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:i}function y(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=y(r),i!==null)return i;r=r.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),k=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),ve=Symbol.for("react.memo_cache_sentinel"),_e=Symbol.iterator;function Ce(r){return r===null||typeof r!="object"?null:(r=_e&&r[_e]||r["@@iterator"],typeof r=="function"?r:null)}var Te=Symbol.for("react.client.reference");function ge(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===Te?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case N:return"Profiler";case M:return"StrictMode";case F:return"Suspense";case Z:return"SuspenseList";case pe:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case k:return r.displayName||"Context";case D:return(r._context.displayName||"Context")+".Consumer";case j:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Y:return i=r.displayName||null,i!==null?i:ge(r.type)||"Memo";case K:i=r._payload,r=r._init;try{return ge(r(i))}catch{}}return null}var Le=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},Re=[],Ke=-1;function z(r){return{current:r}}function ie(r){0>Ke||(r.current=Re[Ke],Re[Ke]=null,Ke--)}function le(r,i){Ke++,Re[Ke]=r.current,r.current=i}var xe=z(null),Se=z(null),Ee=z(null),Pe=z(null);function it(r,i){switch(le(Ee,i),le(Se,r),le(xe,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?ux(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=ux(i),r=fx(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ie(xe),le(xe,r)}function B(){ie(xe),ie(Se),ie(Ee)}function J(r){r.memoizedState!==null&&le(Pe,r);var i=xe.current,o=fx(i,r.type);i!==o&&(le(Se,r),le(xe,o))}function fe(r){Se.current===r&&(ie(xe),ie(Se)),Pe.current===r&&(ie(Pe),rc._currentValue=G)}var Ne,Ie;function ze(r){if(Ne===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Ne=i&&i[1]||"",Ie=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ne+r+Ie}var St=!1;function gt(r,i){if(!r||St)return"";St=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(re){var W=re}Reflect.construct(r,[],he)}else{try{he.call()}catch(re){W=re}r.call(he.prototype)}}else{try{throw Error()}catch(re){W=re}(he=r())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(re){if(re&&W&&typeof re.stack=="string")return[re.stack,W.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),w=m[0],O=m[1];if(w&&O){var I=w.split(`
`),Q=O.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<Q.length&&!Q[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===Q.length)for(l=I.length-1,h=Q.length-1;1<=l&&0<=h&&I[l]!==Q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==Q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==Q[h]){var oe=`
`+I[l].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=l&&0<=h);break}}}finally{St=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?ze(o):""}function hn(r,i){switch(r.tag){case 26:case 27:case 5:return ze(r.type);case 16:return ze("Lazy");case 13:return r.child!==i&&i!==null?ze("Suspense Fallback"):ze("Suspense");case 19:return ze("SuspenseList");case 0:case 15:return gt(r.type,!1);case 11:return gt(r.type.render,!1);case 1:return gt(r.type,!0);case 31:return ze("Activity");default:return""}}function Nt(r){try{var i="",o=null;do i+=hn(r,o),o=r,r=r.return;while(r);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var mt=Object.prototype.hasOwnProperty,Ut=t.unstable_scheduleCallback,Xt=t.unstable_cancelCallback,xn=t.unstable_shouldYield,at=t.unstable_requestPaint,ht=t.unstable_now,Qt=t.unstable_getCurrentPriorityLevel,Tn=t.unstable_ImmediatePriority,Gn=t.unstable_UserBlockingPriority,Pn=t.unstable_NormalPriority,xs=t.unstable_LowPriority,bs=t.unstable_IdlePriority,Qr=t.log,fr=t.unstable_setDisableYieldValue,Kn=null,pn=null;function Nn(r){if(typeof Qr=="function"&&fr(r),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(Kn,r)}catch{}}var on=Math.clz32?Math.clz32:ws,Ss=Math.log,_s=Math.LN2;function ws(r){return r>>>=0,r===0?32:31-(Ss(r)/_s|0)|0}var Zr=256,Cs=262144,ei=4194304;function Ur(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Hn(r,i,o){var l=r.pendingLanes;if(l===0)return 0;var h=0,m=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var O=l&134217727;return O!==0?(l=O&~m,l!==0?h=Ur(l):(w&=O,w!==0?h=Ur(w):o||(o=O&~r,o!==0&&(h=Ur(o))))):(O=l&~m,O!==0?h=Ur(O):w!==0?h=Ur(w):o||(o=l&~r,o!==0&&(h=Ur(o)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,o=i&-i,m>=o||m===32&&(o&4194048)!==0)?i:h}function Xn(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Ir(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Es(){var r=ei;return ei<<=1,(ei&62914560)===0&&(ei=4194304),r}function Jr(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function Wr(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function se(r,i,o,l,h,m){var w=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var O=r.entanglements,I=r.expirationTimes,Q=r.hiddenUpdates;for(o=w&~o;0<o;){var oe=31-on(o),he=1<<oe;O[oe]=0,I[oe]=-1;var W=Q[oe];if(W!==null)for(Q[oe]=null,oe=0;oe<W.length;oe++){var re=W[oe];re!==null&&(re.lane&=-536870913)}o&=~he}l!==0&&be(r,l,0),m!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=m&~(w&~i))}function be(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var l=31-on(i);r.entangledLanes|=i,r.entanglements[l]=r.entanglements[l]|1073741824|o&261930}function nt(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var l=31-on(o),h=1<<l;h&i|r[l]&i&&(r[l]|=i),o&=~h}}function _(r,i){var o=i&-i;return o=(o&42)!==0?1:R(o),(o&(r.suspendedLanes|i))!==0?0:o}function R(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function A(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function x(){var r=ee.p;return r!==0?r:(r=window.event,r===void 0?32:kx(r.type))}function P(r,i){var o=ee.p;try{return ee.p=r,i()}finally{ee.p=o}}var $=Math.random().toString(36).slice(2),V="__reactFiber$"+$,ae="__reactProps$"+$,we="__reactContainer$"+$,Be="__reactEvents$"+$,Me="__reactListeners$"+$,Ot="__reactHandles$"+$,ke="__reactResources$"+$,Je="__reactMarker$"+$;function rt(r){delete r[V],delete r[ae],delete r[Be],delete r[Me],delete r[Ot]}function ot(r){var i=r[V];if(i)return i;for(var o=r.parentNode;o;){if(i=o[we]||o[V]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=vx(r);r!==null;){if(o=r[V])return o;r=vx(r)}return i}r=o,o=r.parentNode}return null}function st(r){if(r=r[V]||r[we]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function We(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function et(r){var i=r[ke];return i||(i=r[ke]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function He(r){r[Je]=!0}var Ue=new Set,Xe={};function Ae(r,i){De(r,i),De(r+"Capture",i)}function De(r,i){for(Xe[r]=i,r=0;r<i.length;r++)Ue.add(i[r])}var Ve=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oe={},te={};function ne(r){return mt.call(te,r)?!0:mt.call(Oe,r)?!1:Ve.test(r)?te[r]=!0:(Oe[r]=!0,!1)}function ye(r,i,o){if(ne(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function de(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function ce(r,i,o,l){if(l===null)r.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+l)}}function me(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Qe(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ft(r,i,o){var l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,m=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return h.call(this)},set:function(w){o=""+w,m.call(this,w)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function lt(r){if(!r._valueTracker){var i=Qe(r)?"checked":"value";r._valueTracker=ft(r,i,""+r[i])}}function ut(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),l="";return r&&(l=Qe(r)?r.checked?"true":"false":r.value),r=l,r!==o?(i.setValue(r),!0):!1}function U(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var vt=/[\n"\\]/g;function ct(r){return r.replace(vt,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ct(r,i,o,l,h,m,w,O){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),i!=null?w==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+me(i)):r.value!==""+me(i)&&(r.value=""+me(i)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),i!=null?wt(r,w,me(i)):o!=null?wt(r,w,me(o)):l!=null&&r.removeAttribute("value"),h==null&&m!=null&&(r.defaultChecked=!!m),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.name=""+me(O):r.removeAttribute("name")}function pt(r,i,o,l,h,m,w,O){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),i!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){lt(r);return}o=o!=null?""+me(o):"",i=i!=null?""+me(i):o,O||i===r.value||(r.value=i),r.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,r.checked=O?r.checked:!!l,r.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w),lt(r)}function wt(r,i,o){i==="number"&&U(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function xt(r,i,o,l){if(r=r.options,i){i={};for(var h=0;h<o.length;h++)i["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=i.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&l&&(r[o].defaultSelected=!0)}else{for(o=""+me(o),i=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,l&&(r[h].defaultSelected=!0);return}i!==null||r[h].disabled||(i=r[h])}i!==null&&(i.selected=!0)}}function nn(r,i,o){if(i!=null&&(i=""+me(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+me(o):""}function Dt(r,i,o,l){if(i==null){if(l!=null){if(o!=null)throw Error(s(92));if(Le(l)){if(1<l.length)throw Error(s(93));l=l[0]}o=l}o==null&&(o=""),i=o}o=me(i),r.defaultValue=o,l=r.textContent,l===o&&l!==""&&l!==null&&(r.value=l),lt(r)}function Ht(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var rn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zt(r,i,o){var l=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?l?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":l?r.setProperty(i,o):typeof o!="number"||o===0||rn.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function cn(r,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,o!=null){for(var l in o)!o.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&o[h]!==l&&Zt(r,h,l)}else for(var m in i)i.hasOwnProperty(m)&&Zt(r,m,i[m])}function bn(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wc(r){return kn.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Ts(){}var Wf=null;function ed(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ya=null,ga=null;function lg(r){var i=st(r);if(i&&(r=i.stateNode)){var o=r[ae]||null;e:switch(r=i.stateNode,i.type){case"input":if(Ct(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ct(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var l=o[i];if(l!==r&&l.form===r.form){var h=l[ae]||null;if(!h)throw Error(s(90));Ct(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<o.length;i++)l=o[i],l.form===r.form&&ut(l)}break e;case"textarea":nn(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&xt(r,!!o.multiple,i,!1)}}}var td=!1;function ug(r,i,o){if(td)return r(i,o);td=!0;try{var l=r(i);return l}finally{if(td=!1,(ya!==null||ga!==null)&&(Bl(),ya&&(i=ya,r=ga,ga=ya=null,lg(i),r)))for(i=0;i<r.length;i++)lg(r[i])}}function bo(r,i){var o=r.stateNode;if(o===null)return null;var l=o[ae]||null;if(l===null)return null;o=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(r=r.type,l=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!l;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var Rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nd=!1;if(Rs)try{var So={};Object.defineProperty(So,"passive",{get:function(){nd=!0}}),window.addEventListener("test",So,So),window.removeEventListener("test",So,So)}catch{nd=!1}var ti=null,rd=null,el=null;function fg(){if(el)return el;var r,i=rd,o=i.length,l,h="value"in ti?ti.value:ti.textContent,m=h.length;for(r=0;r<o&&i[r]===h[r];r++);var w=o-r;for(l=1;l<=w&&i[o-l]===h[m-l];l++);return el=h.slice(r,1<l?1-l:void 0)}function tl(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function nl(){return!0}function dg(){return!1}function nr(r){function i(o,l,h,m,w){this._reactName=o,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var O in r)r.hasOwnProperty(O)&&(o=r[O],this[O]=o?o(m):m[O]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?nl:dg,this.isPropagationStopped=dg,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),i}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rl=nr(Di),_o=g({},Di,{view:0,detail:0}),JE=nr(_o),sd,id,wo,sl=g({},_o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:od,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==wo&&(wo&&r.type==="mousemove"?(sd=r.screenX-wo.screenX,id=r.screenY-wo.screenY):id=sd=0,wo=r),sd)},movementY:function(r){return"movementY"in r?r.movementY:id}}),hg=nr(sl),WE=g({},sl,{dataTransfer:0}),eT=nr(WE),tT=g({},_o,{relatedTarget:0}),ad=nr(tT),nT=g({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),rT=nr(nT),sT=g({},Di,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),iT=nr(sT),aT=g({},Di,{data:0}),pg=nr(aT),oT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uT(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=lT[r])?!!i[r]:!1}function od(){return uT}var fT=g({},_o,{key:function(r){if(r.key){var i=oT[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=tl(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?cT[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:od,charCode:function(r){return r.type==="keypress"?tl(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?tl(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),dT=nr(fT),hT=g({},sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mg=nr(hT),pT=g({},_o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:od}),mT=nr(pT),yT=g({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),gT=nr(yT),vT=g({},sl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),xT=nr(vT),bT=g({},Di,{newState:0,oldState:0}),ST=nr(bT),_T=[9,13,27,32],cd=Rs&&"CompositionEvent"in window,Co=null;Rs&&"documentMode"in document&&(Co=document.documentMode);var wT=Rs&&"TextEvent"in window&&!Co,yg=Rs&&(!cd||Co&&8<Co&&11>=Co),gg=" ",vg=!1;function xg(r,i){switch(r){case"keyup":return _T.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var va=!1;function CT(r,i){switch(r){case"compositionend":return bg(i);case"keypress":return i.which!==32?null:(vg=!0,gg);case"textInput":return r=i.data,r===gg&&vg?null:r;default:return null}}function ET(r,i){if(va)return r==="compositionend"||!cd&&xg(r,i)?(r=fg(),el=rd=ti=null,va=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return yg&&i.locale!=="ko"?null:i.data;default:return null}}var TT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sg(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!TT[r.type]:i==="textarea"}function _g(r,i,o,l){ya?ga?ga.push(l):ga=[l]:ya=l,i=Gl(i,"onChange"),0<i.length&&(o=new rl("onChange","change",null,o,l),r.push({event:o,listeners:i}))}var Eo=null,To=null;function RT(r){sx(r,0)}function il(r){var i=We(r);if(ut(i))return r}function wg(r,i){if(r==="change")return i}var Cg=!1;if(Rs){var ld;if(Rs){var ud="oninput"in document;if(!ud){var Eg=document.createElement("div");Eg.setAttribute("oninput","return;"),ud=typeof Eg.oninput=="function"}ld=ud}else ld=!1;Cg=ld&&(!document.documentMode||9<document.documentMode)}function Tg(){Eo&&(Eo.detachEvent("onpropertychange",Rg),To=Eo=null)}function Rg(r){if(r.propertyName==="value"&&il(To)){var i=[];_g(i,To,r,ed(r)),ug(RT,i)}}function AT(r,i,o){r==="focusin"?(Tg(),Eo=i,To=o,Eo.attachEvent("onpropertychange",Rg)):r==="focusout"&&Tg()}function OT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return il(To)}function MT(r,i){if(r==="click")return il(i)}function PT(r,i){if(r==="input"||r==="change")return il(i)}function NT(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var dr=typeof Object.is=="function"?Object.is:NT;function Ro(r,i){if(dr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),l=Object.keys(i);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var h=o[l];if(!mt.call(i,h)||!dr(r[h],i[h]))return!1}return!0}function Ag(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Og(r,i){var o=Ag(r);r=0;for(var l;o;){if(o.nodeType===3){if(l=r+o.textContent.length,r<=i&&l>=i)return{node:o,offset:i-r};r=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ag(o)}}function Mg(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Mg(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Pg(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=U(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=U(r.document)}return i}function fd(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var DT=Rs&&"documentMode"in document&&11>=document.documentMode,xa=null,dd=null,Ao=null,hd=!1;function Ng(r,i,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;hd||xa==null||xa!==U(l)||(l=xa,"selectionStart"in l&&fd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ao&&Ro(Ao,l)||(Ao=l,l=Gl(dd,"onSelect"),0<l.length&&(i=new rl("onSelect","select",null,i,o),r.push({event:i,listeners:l}),i.target=xa)))}function ki(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var ba={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionrun:ki("Transition","TransitionRun"),transitionstart:ki("Transition","TransitionStart"),transitioncancel:ki("Transition","TransitionCancel"),transitionend:ki("Transition","TransitionEnd")},pd={},Dg={};Rs&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function ji(r){if(pd[r])return pd[r];if(!ba[r])return r;var i=ba[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in Dg)return pd[r]=i[o];return r}var kg=ji("animationend"),jg=ji("animationiteration"),Lg=ji("animationstart"),kT=ji("transitionrun"),jT=ji("transitionstart"),LT=ji("transitioncancel"),Ug=ji("transitionend"),Ig=new Map,md="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");md.push("scrollEnd");function zr(r,i){Ig.set(r,i),Ae(i,[r])}var al=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Er=[],Sa=0,yd=0;function ol(){for(var r=Sa,i=yd=Sa=0;i<r;){var o=Er[i];Er[i++]=null;var l=Er[i];Er[i++]=null;var h=Er[i];Er[i++]=null;var m=Er[i];if(Er[i++]=null,l!==null&&h!==null){var w=l.pending;w===null?h.next=h:(h.next=w.next,w.next=h),l.pending=h}m!==0&&zg(o,h,m)}}function cl(r,i,o,l){Er[Sa++]=r,Er[Sa++]=i,Er[Sa++]=o,Er[Sa++]=l,yd|=l,r.lanes|=l,r=r.alternate,r!==null&&(r.lanes|=l)}function gd(r,i,o,l){return cl(r,i,o,l),ll(r)}function Li(r,i){return cl(r,null,null,i),ll(r)}function zg(r,i,o){r.lanes|=o;var l=r.alternate;l!==null&&(l.lanes|=o);for(var h=!1,m=r.return;m!==null;)m.childLanes|=o,l=m.alternate,l!==null&&(l.childLanes|=o),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(h=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,h&&i!==null&&(h=31-on(o),r=m.hiddenUpdates,l=r[h],l===null?r[h]=[i]:l.push(i),i.lane=o|536870912),m):null}function ll(r){if(50<Qo)throw Qo=0,Th=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var _a={};function UT(r,i,o,l){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(r,i,o,l){return new UT(r,i,o,l)}function vd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function As(r,i){var o=r.alternate;return o===null?(o=hr(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Bg(r,i){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function ul(r,i,o,l,h,m){var w=0;if(l=r,typeof r=="function")vd(r)&&(w=1);else if(typeof r=="string")w=$R(r,o,xe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case pe:return r=hr(31,o,i,h),r.elementType=pe,r.lanes=m,r;case E:return Ui(o.children,h,m,i);case M:w=8,h|=24;break;case N:return r=hr(12,o,i,h|2),r.elementType=N,r.lanes=m,r;case F:return r=hr(13,o,i,h),r.elementType=F,r.lanes=m,r;case Z:return r=hr(19,o,i,h),r.elementType=Z,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:w=10;break e;case D:w=9;break e;case j:w=11;break e;case Y:w=14;break e;case K:w=16,l=null;break e}w=29,o=Error(s(130,r===null?"null":typeof r,"")),l=null}return i=hr(w,o,i,h),i.elementType=r,i.type=l,i.lanes=m,i}function Ui(r,i,o,l){return r=hr(7,r,l,i),r.lanes=o,r}function xd(r,i,o){return r=hr(6,r,null,i),r.lanes=o,r}function Hg(r){var i=hr(18,null,null,0);return i.stateNode=r,i}function bd(r,i,o){return i=hr(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var $g=new WeakMap;function Tr(r,i){if(typeof r=="object"&&r!==null){var o=$g.get(r);return o!==void 0?o:(i={value:r,source:i,stack:Nt(i)},$g.set(r,i),i)}return{value:r,source:i,stack:Nt(i)}}var wa=[],Ca=0,fl=null,Oo=0,Rr=[],Ar=0,ni=null,es=1,ts="";function Os(r,i){wa[Ca++]=Oo,wa[Ca++]=fl,fl=r,Oo=i}function Vg(r,i,o){Rr[Ar++]=es,Rr[Ar++]=ts,Rr[Ar++]=ni,ni=r;var l=es;r=ts;var h=32-on(l)-1;l&=~(1<<h),o+=1;var m=32-on(i)+h;if(30<m){var w=h-h%5;m=(l&(1<<w)-1).toString(32),l>>=w,h-=w,es=1<<32-on(i)+h|o<<h|l,ts=m+r}else es=1<<m|o<<h|l,ts=r}function Sd(r){r.return!==null&&(Os(r,1),Vg(r,1,0))}function _d(r){for(;r===fl;)fl=wa[--Ca],wa[Ca]=null,Oo=wa[--Ca],wa[Ca]=null;for(;r===ni;)ni=Rr[--Ar],Rr[Ar]=null,ts=Rr[--Ar],Rr[Ar]=null,es=Rr[--Ar],Rr[Ar]=null}function qg(r,i){Rr[Ar++]=es,Rr[Ar++]=ts,Rr[Ar++]=ni,es=i.id,ts=i.overflow,ni=r}var Ln=null,Jt=null,Mt=!1,ri=null,Or=!1,wd=Error(s(519));function si(r){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mo(Tr(i,r)),wd}function Fg(r){var i=r.stateNode,o=r.type,l=r.memoizedProps;switch(i[V]=r,i[ae]=l,o){case"dialog":Tt("cancel",i),Tt("close",i);break;case"iframe":case"object":case"embed":Tt("load",i);break;case"video":case"audio":for(o=0;o<Jo.length;o++)Tt(Jo[o],i);break;case"source":Tt("error",i);break;case"img":case"image":case"link":Tt("error",i),Tt("load",i);break;case"details":Tt("toggle",i);break;case"input":Tt("invalid",i),pt(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Tt("invalid",i);break;case"textarea":Tt("invalid",i),Dt(i,l.value,l.defaultValue,l.children)}o=l.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||l.suppressHydrationWarning===!0||cx(i.textContent,o)?(l.popover!=null&&(Tt("beforetoggle",i),Tt("toggle",i)),l.onScroll!=null&&Tt("scroll",i),l.onScrollEnd!=null&&Tt("scrollend",i),l.onClick!=null&&(i.onclick=Ts),i=!0):i=!1,i||si(r,!0)}function Yg(r){for(Ln=r.return;Ln;)switch(Ln.tag){case 5:case 31:case 13:Or=!1;return;case 27:case 3:Or=!0;return;default:Ln=Ln.return}}function Ea(r){if(r!==Ln)return!1;if(!Mt)return Yg(r),Mt=!0,!1;var i=r.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Hh(r.type,r.memoizedProps)),o=!o),o&&Jt&&si(r),Yg(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));Jt=gx(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));Jt=gx(r)}else i===27?(i=Jt,vi(r.type)?(r=Yh,Yh=null,Jt=r):Jt=i):Jt=Ln?Pr(r.stateNode.nextSibling):null;return!0}function Ii(){Jt=Ln=null,Mt=!1}function Cd(){var r=ri;return r!==null&&(ar===null?ar=r:ar.push.apply(ar,r),ri=null),r}function Mo(r){ri===null?ri=[r]:ri.push(r)}var Ed=z(null),zi=null,Ms=null;function ii(r,i,o){le(Ed,i._currentValue),i._currentValue=o}function Ps(r){r._currentValue=Ed.current,ie(Ed)}function Td(r,i,o){for(;r!==null;){var l=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),r===o)break;r=r.return}}function Rd(r,i,o,l){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var m=h.dependencies;if(m!==null){var w=h.child;m=m.firstContext;e:for(;m!==null;){var O=m;m=h;for(var I=0;I<i.length;I++)if(O.context===i[I]){m.lanes|=o,O=m.alternate,O!==null&&(O.lanes|=o),Td(m.return,o,r),l||(w=null);break e}m=O.next}}else if(h.tag===18){if(w=h.return,w===null)throw Error(s(341));w.lanes|=o,m=w.alternate,m!==null&&(m.lanes|=o),Td(w,o,r),w=null}else w=h.child;if(w!==null)w.return=h;else for(w=h;w!==null;){if(w===r){w=null;break}if(h=w.sibling,h!==null){h.return=w.return,w=h;break}w=w.return}h=w}}function Ta(r,i,o,l){r=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var w=h.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var O=h.type;dr(h.pendingProps.value,w.value)||(r!==null?r.push(O):r=[O])}}else if(h===Pe.current){if(w=h.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(rc):r=[rc])}h=h.return}r!==null&&Rd(i,r,o,l),i.flags|=262144}function dl(r){for(r=r.firstContext;r!==null;){if(!dr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Bi(r){zi=r,Ms=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Un(r){return Gg(zi,r)}function hl(r,i){return zi===null&&Bi(r),Gg(r,i)}function Gg(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Ms===null){if(r===null)throw Error(s(308));Ms=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Ms=Ms.next=i;return o}var IT=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,l){r.push(l)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},zT=t.unstable_scheduleCallback,BT=t.unstable_NormalPriority,Sn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ad(){return{controller:new IT,data:new Map,refCount:0}}function Po(r){r.refCount--,r.refCount===0&&zT(BT,function(){r.controller.abort()})}var No=null,Od=0,Ra=0,Aa=null;function HT(r,i){if(No===null){var o=No=[];Od=0,Ra=Nh(),Aa={status:"pending",value:void 0,then:function(l){o.push(l)}}}return Od++,i.then(Kg,Kg),i}function Kg(){if(--Od===0&&No!==null){Aa!==null&&(Aa.status="fulfilled");var r=No;No=null,Ra=0,Aa=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function $T(r,i){var o=[],l={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<o.length;h++)(0,o[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),l}var Xg=L.S;L.S=function(r,i){Nv=ht(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&HT(r,i),Xg!==null&&Xg(r,i)};var Hi=z(null);function Md(){var r=Hi.current;return r!==null?r:Kt.pooledCache}function pl(r,i){i===null?le(Hi,Hi.current):le(Hi,i.pool)}function Qg(){var r=Md();return r===null?null:{parent:Sn._currentValue,pool:r}}var Oa=Error(s(460)),Pd=Error(s(474)),ml=Error(s(542)),yl={then:function(){}};function Zg(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Jg(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(Ts,Ts),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,e0(r),r;default:if(typeof i.status=="string")i.then(Ts,Ts);else{if(r=Kt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,e0(r),r}throw Vi=i,Oa}}function $i(r){try{var i=r._init;return i(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Vi=o,Oa):o}}var Vi=null;function Wg(){if(Vi===null)throw Error(s(459));var r=Vi;return Vi=null,r}function e0(r){if(r===Oa||r===ml)throw Error(s(483))}var Ma=null,Do=0;function gl(r){var i=Do;return Do+=1,Ma===null&&(Ma=[]),Jg(Ma,r,i)}function ko(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function vl(r,i){throw i.$$typeof===v?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function t0(r){function i(q,H){if(r){var X=q.deletions;X===null?(q.deletions=[H],q.flags|=16):X.push(H)}}function o(q,H){if(!r)return null;for(;H!==null;)i(q,H),H=H.sibling;return null}function l(q){for(var H=new Map;q!==null;)q.key!==null?H.set(q.key,q):H.set(q.index,q),q=q.sibling;return H}function h(q,H){return q=As(q,H),q.index=0,q.sibling=null,q}function m(q,H,X){return q.index=X,r?(X=q.alternate,X!==null?(X=X.index,X<H?(q.flags|=67108866,H):X):(q.flags|=67108866,H)):(q.flags|=1048576,H)}function w(q){return r&&q.alternate===null&&(q.flags|=67108866),q}function O(q,H,X,ue){return H===null||H.tag!==6?(H=xd(X,q.mode,ue),H.return=q,H):(H=h(H,X),H.return=q,H)}function I(q,H,X,ue){var Ze=X.type;return Ze===E?oe(q,H,X.props.children,ue,X.key):H!==null&&(H.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===K&&$i(Ze)===H.type)?(H=h(H,X.props),ko(H,X),H.return=q,H):(H=ul(X.type,X.key,X.props,null,q.mode,ue),ko(H,X),H.return=q,H)}function Q(q,H,X,ue){return H===null||H.tag!==4||H.stateNode.containerInfo!==X.containerInfo||H.stateNode.implementation!==X.implementation?(H=bd(X,q.mode,ue),H.return=q,H):(H=h(H,X.children||[]),H.return=q,H)}function oe(q,H,X,ue,Ze){return H===null||H.tag!==7?(H=Ui(X,q.mode,ue,Ze),H.return=q,H):(H=h(H,X),H.return=q,H)}function he(q,H,X){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=xd(""+H,q.mode,X),H.return=q,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return X=ul(H.type,H.key,H.props,null,q.mode,X),ko(X,H),X.return=q,X;case C:return H=bd(H,q.mode,X),H.return=q,H;case K:return H=$i(H),he(q,H,X)}if(Le(H)||Ce(H))return H=Ui(H,q.mode,X,null),H.return=q,H;if(typeof H.then=="function")return he(q,gl(H),X);if(H.$$typeof===k)return he(q,hl(q,H),X);vl(q,H)}return null}function W(q,H,X,ue){var Ze=H!==null?H.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Ze!==null?null:O(q,H,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case S:return X.key===Ze?I(q,H,X,ue):null;case C:return X.key===Ze?Q(q,H,X,ue):null;case K:return X=$i(X),W(q,H,X,ue)}if(Le(X)||Ce(X))return Ze!==null?null:oe(q,H,X,ue,null);if(typeof X.then=="function")return W(q,H,gl(X),ue);if(X.$$typeof===k)return W(q,H,hl(q,X),ue);vl(q,X)}return null}function re(q,H,X,ue,Ze){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return q=q.get(X)||null,O(H,q,""+ue,Ze);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case S:return q=q.get(ue.key===null?X:ue.key)||null,I(H,q,ue,Ze);case C:return q=q.get(ue.key===null?X:ue.key)||null,Q(H,q,ue,Ze);case K:return ue=$i(ue),re(q,H,X,ue,Ze)}if(Le(ue)||Ce(ue))return q=q.get(X)||null,oe(H,q,ue,Ze,null);if(typeof ue.then=="function")return re(q,H,X,gl(ue),Ze);if(ue.$$typeof===k)return re(q,H,X,hl(H,ue),Ze);vl(H,ue)}return null}function $e(q,H,X,ue){for(var Ze=null,kt=null,Ge=H,bt=H=0,At=null;Ge!==null&&bt<X.length;bt++){Ge.index>bt?(At=Ge,Ge=null):At=Ge.sibling;var jt=W(q,Ge,X[bt],ue);if(jt===null){Ge===null&&(Ge=At);break}r&&Ge&&jt.alternate===null&&i(q,Ge),H=m(jt,H,bt),kt===null?Ze=jt:kt.sibling=jt,kt=jt,Ge=At}if(bt===X.length)return o(q,Ge),Mt&&Os(q,bt),Ze;if(Ge===null){for(;bt<X.length;bt++)Ge=he(q,X[bt],ue),Ge!==null&&(H=m(Ge,H,bt),kt===null?Ze=Ge:kt.sibling=Ge,kt=Ge);return Mt&&Os(q,bt),Ze}for(Ge=l(Ge);bt<X.length;bt++)At=re(Ge,q,bt,X[bt],ue),At!==null&&(r&&At.alternate!==null&&Ge.delete(At.key===null?bt:At.key),H=m(At,H,bt),kt===null?Ze=At:kt.sibling=At,kt=At);return r&&Ge.forEach(function(wi){return i(q,wi)}),Mt&&Os(q,bt),Ze}function tt(q,H,X,ue){if(X==null)throw Error(s(151));for(var Ze=null,kt=null,Ge=H,bt=H=0,At=null,jt=X.next();Ge!==null&&!jt.done;bt++,jt=X.next()){Ge.index>bt?(At=Ge,Ge=null):At=Ge.sibling;var wi=W(q,Ge,jt.value,ue);if(wi===null){Ge===null&&(Ge=At);break}r&&Ge&&wi.alternate===null&&i(q,Ge),H=m(wi,H,bt),kt===null?Ze=wi:kt.sibling=wi,kt=wi,Ge=At}if(jt.done)return o(q,Ge),Mt&&Os(q,bt),Ze;if(Ge===null){for(;!jt.done;bt++,jt=X.next())jt=he(q,jt.value,ue),jt!==null&&(H=m(jt,H,bt),kt===null?Ze=jt:kt.sibling=jt,kt=jt);return Mt&&Os(q,bt),Ze}for(Ge=l(Ge);!jt.done;bt++,jt=X.next())jt=re(Ge,q,bt,jt.value,ue),jt!==null&&(r&&jt.alternate!==null&&Ge.delete(jt.key===null?bt:jt.key),H=m(jt,H,bt),kt===null?Ze=jt:kt.sibling=jt,kt=jt);return r&&Ge.forEach(function(WR){return i(q,WR)}),Mt&&Os(q,bt),Ze}function Gt(q,H,X,ue){if(typeof X=="object"&&X!==null&&X.type===E&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case S:e:{for(var Ze=X.key;H!==null;){if(H.key===Ze){if(Ze=X.type,Ze===E){if(H.tag===7){o(q,H.sibling),ue=h(H,X.props.children),ue.return=q,q=ue;break e}}else if(H.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===K&&$i(Ze)===H.type){o(q,H.sibling),ue=h(H,X.props),ko(ue,X),ue.return=q,q=ue;break e}o(q,H);break}else i(q,H);H=H.sibling}X.type===E?(ue=Ui(X.props.children,q.mode,ue,X.key),ue.return=q,q=ue):(ue=ul(X.type,X.key,X.props,null,q.mode,ue),ko(ue,X),ue.return=q,q=ue)}return w(q);case C:e:{for(Ze=X.key;H!==null;){if(H.key===Ze)if(H.tag===4&&H.stateNode.containerInfo===X.containerInfo&&H.stateNode.implementation===X.implementation){o(q,H.sibling),ue=h(H,X.children||[]),ue.return=q,q=ue;break e}else{o(q,H);break}else i(q,H);H=H.sibling}ue=bd(X,q.mode,ue),ue.return=q,q=ue}return w(q);case K:return X=$i(X),Gt(q,H,X,ue)}if(Le(X))return $e(q,H,X,ue);if(Ce(X)){if(Ze=Ce(X),typeof Ze!="function")throw Error(s(150));return X=Ze.call(X),tt(q,H,X,ue)}if(typeof X.then=="function")return Gt(q,H,gl(X),ue);if(X.$$typeof===k)return Gt(q,H,hl(q,X),ue);vl(q,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,H!==null&&H.tag===6?(o(q,H.sibling),ue=h(H,X),ue.return=q,q=ue):(o(q,H),ue=xd(X,q.mode,ue),ue.return=q,q=ue),w(q)):o(q,H)}return function(q,H,X,ue){try{Do=0;var Ze=Gt(q,H,X,ue);return Ma=null,Ze}catch(Ge){if(Ge===Oa||Ge===ml)throw Ge;var kt=hr(29,Ge,null,q.mode);return kt.lanes=ue,kt.return=q,kt}finally{}}}var qi=t0(!0),n0=t0(!1),ai=!1;function Nd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dd(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function oi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ci(r,i,o){var l=r.updateQueue;if(l===null)return null;if(l=l.shared,(It&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ll(r),zg(r,null,o),i}return cl(r,l,i,o),ll(r)}function jo(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var l=i.lanes;l&=r.pendingLanes,o|=l,i.lanes=o,nt(r,o)}}function kd(r,i){var o=r.updateQueue,l=r.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var h=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?h=m=w:m=m.next=w,o=o.next}while(o!==null);m===null?h=m=i:m=m.next=i}else h=m=i;o={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var jd=!1;function Lo(){if(jd){var r=Aa;if(r!==null)throw r}}function Uo(r,i,o,l){jd=!1;var h=r.updateQueue;ai=!1;var m=h.firstBaseUpdate,w=h.lastBaseUpdate,O=h.shared.pending;if(O!==null){h.shared.pending=null;var I=O,Q=I.next;I.next=null,w===null?m=Q:w.next=Q,w=I;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,O=oe.lastBaseUpdate,O!==w&&(O===null?oe.firstBaseUpdate=Q:O.next=Q,oe.lastBaseUpdate=I))}if(m!==null){var he=h.baseState;w=0,oe=Q=I=null,O=m;do{var W=O.lane&-536870913,re=W!==O.lane;if(re?(Rt&W)===W:(l&W)===W){W!==0&&W===Ra&&(jd=!0),oe!==null&&(oe=oe.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var $e=r,tt=O;W=i;var Gt=o;switch(tt.tag){case 1:if($e=tt.payload,typeof $e=="function"){he=$e.call(Gt,he,W);break e}he=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=tt.payload,W=typeof $e=="function"?$e.call(Gt,he,W):$e,W==null)break e;he=g({},he,W);break e;case 2:ai=!0}}W=O.callback,W!==null&&(r.flags|=64,re&&(r.flags|=8192),re=h.callbacks,re===null?h.callbacks=[W]:re.push(W))}else re={lane:W,tag:O.tag,payload:O.payload,callback:O.callback,next:null},oe===null?(Q=oe=re,I=he):oe=oe.next=re,w|=W;if(O=O.next,O===null){if(O=h.shared.pending,O===null)break;re=O,O=re.next,re.next=null,h.lastBaseUpdate=re,h.shared.pending=null}}while(!0);oe===null&&(I=he),h.baseState=I,h.firstBaseUpdate=Q,h.lastBaseUpdate=oe,m===null&&(h.shared.lanes=0),hi|=w,r.lanes=w,r.memoizedState=he}}function r0(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function s0(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)r0(o[r],i)}var Pa=z(null),xl=z(0);function i0(r,i){r=Bs,le(xl,r),le(Pa,i),Bs=r|i.baseLanes}function Ld(){le(xl,Bs),le(Pa,Pa.current)}function Ud(){Bs=xl.current,ie(Pa),ie(xl)}var pr=z(null),Mr=null;function li(r){var i=r.alternate;le(mn,mn.current&1),le(pr,r),Mr===null&&(i===null||Pa.current!==null||i.memoizedState!==null)&&(Mr=r)}function Id(r){le(mn,mn.current),le(pr,r),Mr===null&&(Mr=r)}function a0(r){r.tag===22?(le(mn,mn.current),le(pr,r),Mr===null&&(Mr=r)):ui()}function ui(){le(mn,mn.current),le(pr,pr.current)}function mr(r){ie(pr),Mr===r&&(Mr=null),ie(mn)}var mn=z(0);function bl(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||qh(o)||Fh(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ns=0,yt=null,Ft=null,_n=null,Sl=!1,Na=!1,Fi=!1,_l=0,Io=0,Da=null,VT=0;function ln(){throw Error(s(321))}function zd(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!dr(r[o],i[o]))return!1;return!0}function Bd(r,i,o,l,h,m){return Ns=m,yt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,L.H=r===null||r.memoizedState===null?V0:th,Fi=!1,m=o(l,h),Fi=!1,Na&&(m=c0(i,o,l,h)),o0(r),m}function o0(r){L.H=Ho;var i=Ft!==null&&Ft.next!==null;if(Ns=0,_n=Ft=yt=null,Sl=!1,Io=0,Da=null,i)throw Error(s(300));r===null||wn||(r=r.dependencies,r!==null&&dl(r)&&(wn=!0))}function c0(r,i,o,l){yt=r;var h=0;do{if(Na&&(Da=null),Io=0,Na=!1,25<=h)throw Error(s(301));if(h+=1,_n=Ft=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}L.H=q0,m=i(o,l)}while(Na);return m}function qT(){var r=L.H,i=r.useState()[0];return i=typeof i.then=="function"?zo(i):i,r=r.useState()[0],(Ft!==null?Ft.memoizedState:null)!==r&&(yt.flags|=1024),i}function Hd(){var r=_l!==0;return _l=0,r}function $d(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function Vd(r){if(Sl){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Sl=!1}Ns=0,_n=Ft=yt=null,Na=!1,Io=_l=0,Da=null}function Qn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?yt.memoizedState=_n=r:_n=_n.next=r,_n}function yn(){if(Ft===null){var r=yt.alternate;r=r!==null?r.memoizedState:null}else r=Ft.next;var i=_n===null?yt.memoizedState:_n.next;if(i!==null)_n=i,Ft=r;else{if(r===null)throw yt.alternate===null?Error(s(467)):Error(s(310));Ft=r,r={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},_n===null?yt.memoizedState=_n=r:_n=_n.next=r}return _n}function wl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zo(r){var i=Io;return Io+=1,Da===null&&(Da=[]),r=Jg(Da,r,i),i=yt,(_n===null?i.memoizedState:_n.next)===null&&(i=i.alternate,L.H=i===null||i.memoizedState===null?V0:th),r}function Cl(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return zo(r);if(r.$$typeof===k)return Un(r)}throw Error(s(438,String(r)))}function qd(r){var i=null,o=yt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var l=yt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=wl(),yt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),l=0;l<r;l++)o[l]=ve;return i.index++,o}function Ds(r,i){return typeof i=="function"?i(r):i}function El(r){var i=yn();return Fd(i,Ft,r)}function Fd(r,i,o){var l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=o;var h=r.baseQueue,m=l.pending;if(m!==null){if(h!==null){var w=h.next;h.next=m.next,m.next=w}i.baseQueue=h=m,l.pending=null}if(m=r.baseState,h===null)r.memoizedState=m;else{i=h.next;var O=w=null,I=null,Q=i,oe=!1;do{var he=Q.lane&-536870913;if(he!==Q.lane?(Rt&he)===he:(Ns&he)===he){var W=Q.revertLane;if(W===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),he===Ra&&(oe=!0);else if((Ns&W)===W){Q=Q.next,W===Ra&&(oe=!0);continue}else he={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},I===null?(O=I=he,w=m):I=I.next=he,yt.lanes|=W,hi|=W;he=Q.action,Fi&&o(m,he),m=Q.hasEagerState?Q.eagerState:o(m,he)}else W={lane:he,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},I===null?(O=I=W,w=m):I=I.next=W,yt.lanes|=he,hi|=he;Q=Q.next}while(Q!==null&&Q!==i);if(I===null?w=m:I.next=O,!dr(m,r.memoizedState)&&(wn=!0,oe&&(o=Aa,o!==null)))throw o;r.memoizedState=m,r.baseState=w,r.baseQueue=I,l.lastRenderedState=m}return h===null&&(l.lanes=0),[r.memoizedState,l.dispatch]}function Yd(r){var i=yn(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var l=o.dispatch,h=o.pending,m=i.memoizedState;if(h!==null){o.pending=null;var w=h=h.next;do m=r(m,w.action),w=w.next;while(w!==h);dr(m,i.memoizedState)||(wn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),o.lastRenderedState=m}return[m,l]}function l0(r,i,o){var l=yt,h=yn(),m=Mt;if(m){if(o===void 0)throw Error(s(407));o=o()}else o=i();var w=!dr((Ft||h).memoizedState,o);if(w&&(h.memoizedState=o,wn=!0),h=h.queue,Xd(d0.bind(null,l,h,r),[r]),h.getSnapshot!==i||w||_n!==null&&_n.memoizedState.tag&1){if(l.flags|=2048,ka(9,{destroy:void 0},f0.bind(null,l,h,o,i),null),Kt===null)throw Error(s(349));m||(Ns&127)!==0||u0(l,i,o)}return o}function u0(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=yt.updateQueue,i===null?(i=wl(),yt.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function f0(r,i,o,l){i.value=o,i.getSnapshot=l,h0(i)&&p0(r)}function d0(r,i,o){return o(function(){h0(i)&&p0(r)})}function h0(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!dr(r,o)}catch{return!0}}function p0(r){var i=Li(r,2);i!==null&&or(i,r,2)}function Gd(r){var i=Qn();if(typeof r=="function"){var o=r;if(r=o(),Fi){Nn(!0);try{o()}finally{Nn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:r},i}function m0(r,i,o,l){return r.baseState=o,Fd(r,Ft,typeof l=="function"?l:Ds)}function FT(r,i,o,l,h){if(Al(r))throw Error(s(485));if(r=i.action,r!==null){var m={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){m.listeners.push(w)}};L.T!==null?o(!0):m.isTransition=!1,l(m),o=i.pending,o===null?(m.next=i.pending=m,y0(i,m)):(m.next=o.next,i.pending=o.next=m)}}function y0(r,i){var o=i.action,l=i.payload,h=r.state;if(i.isTransition){var m=L.T,w={};L.T=w;try{var O=o(h,l),I=L.S;I!==null&&I(w,O),g0(r,i,O)}catch(Q){Kd(r,i,Q)}finally{m!==null&&w.types!==null&&(m.types=w.types),L.T=m}}else try{m=o(h,l),g0(r,i,m)}catch(Q){Kd(r,i,Q)}}function g0(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(l){v0(r,i,l)},function(l){return Kd(r,i,l)}):v0(r,i,o)}function v0(r,i,o){i.status="fulfilled",i.value=o,x0(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,y0(r,o)))}function Kd(r,i,o){var l=r.pending;if(r.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=o,x0(i),i=i.next;while(i!==l)}r.action=null}function x0(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function b0(r,i){return i}function S0(r,i){if(Mt){var o=Kt.formState;if(o!==null){e:{var l=yt;if(Mt){if(Jt){t:{for(var h=Jt,m=Or;h.nodeType!==8;){if(!m){h=null;break t}if(h=Pr(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Jt=Pr(h.nextSibling),l=h.data==="F!";break e}}si(l)}l=!1}l&&(i=o[0])}}return o=Qn(),o.memoizedState=o.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b0,lastRenderedState:i},o.queue=l,o=B0.bind(null,yt,l),l.dispatch=o,l=Gd(!1),m=eh.bind(null,yt,!1,l.queue),l=Qn(),h={state:i,dispatch:null,action:r,pending:null},l.queue=h,o=FT.bind(null,yt,h,m,o),h.dispatch=o,l.memoizedState=r,[i,o,!1]}function _0(r){var i=yn();return w0(i,Ft,r)}function w0(r,i,o){if(i=Fd(r,i,b0)[0],r=El(Ds)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=zo(i)}catch(w){throw w===Oa?ml:w}else l=i;i=yn();var h=i.queue,m=h.dispatch;return o!==i.memoizedState&&(yt.flags|=2048,ka(9,{destroy:void 0},YT.bind(null,h,o),null)),[l,m,r]}function YT(r,i){r.action=i}function C0(r){var i=yn(),o=Ft;if(o!==null)return w0(i,o,r);yn(),i=i.memoizedState,o=yn();var l=o.queue.dispatch;return o.memoizedState=r,[i,l,!1]}function ka(r,i,o,l){return r={tag:r,create:o,deps:l,inst:i,next:null},i=yt.updateQueue,i===null&&(i=wl(),yt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(l=o.next,o.next=r,r.next=l,i.lastEffect=r),r}function E0(){return yn().memoizedState}function Tl(r,i,o,l){var h=Qn();yt.flags|=r,h.memoizedState=ka(1|i,{destroy:void 0},o,l===void 0?null:l)}function Rl(r,i,o,l){var h=yn();l=l===void 0?null:l;var m=h.memoizedState.inst;Ft!==null&&l!==null&&zd(l,Ft.memoizedState.deps)?h.memoizedState=ka(i,m,o,l):(yt.flags|=r,h.memoizedState=ka(1|i,m,o,l))}function T0(r,i){Tl(8390656,8,r,i)}function Xd(r,i){Rl(2048,8,r,i)}function GT(r){yt.flags|=4;var i=yt.updateQueue;if(i===null)i=wl(),yt.updateQueue=i,i.events=[r];else{var o=i.events;o===null?i.events=[r]:o.push(r)}}function R0(r){var i=yn().memoizedState;return GT({ref:i,nextImpl:r}),function(){if((It&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function A0(r,i){return Rl(4,2,r,i)}function O0(r,i){return Rl(4,4,r,i)}function M0(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function P0(r,i,o){o=o!=null?o.concat([r]):null,Rl(4,4,M0.bind(null,i,r),o)}function Qd(){}function N0(r,i){var o=yn();i=i===void 0?null:i;var l=o.memoizedState;return i!==null&&zd(i,l[1])?l[0]:(o.memoizedState=[r,i],r)}function D0(r,i){var o=yn();i=i===void 0?null:i;var l=o.memoizedState;if(i!==null&&zd(i,l[1]))return l[0];if(l=r(),Fi){Nn(!0);try{r()}finally{Nn(!1)}}return o.memoizedState=[l,i],l}function Zd(r,i,o){return o===void 0||(Ns&1073741824)!==0&&(Rt&261930)===0?r.memoizedState=i:(r.memoizedState=o,r=kv(),yt.lanes|=r,hi|=r,o)}function k0(r,i,o,l){return dr(o,i)?o:Pa.current!==null?(r=Zd(r,o,l),dr(r,i)||(wn=!0),r):(Ns&42)===0||(Ns&1073741824)!==0&&(Rt&261930)===0?(wn=!0,r.memoizedState=o):(r=kv(),yt.lanes|=r,hi|=r,i)}function j0(r,i,o,l,h){var m=ee.p;ee.p=m!==0&&8>m?m:8;var w=L.T,O={};L.T=O,eh(r,!1,i,o);try{var I=h(),Q=L.S;if(Q!==null&&Q(O,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var oe=$T(I,l);Bo(r,i,oe,vr(r))}else Bo(r,i,l,vr(r))}catch(he){Bo(r,i,{then:function(){},status:"rejected",reason:he},vr())}finally{ee.p=m,w!==null&&O.types!==null&&(w.types=O.types),L.T=w}}function KT(){}function Jd(r,i,o,l){if(r.tag!==5)throw Error(s(476));var h=L0(r).queue;j0(r,h,i,G,o===null?KT:function(){return U0(r),o(l)})}function L0(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:G},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function U0(r){var i=L0(r);i.next===null&&(i=r.alternate.memoizedState),Bo(r,i.next.queue,{},vr())}function Wd(){return Un(rc)}function I0(){return yn().memoizedState}function z0(){return yn().memoizedState}function XT(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=vr();r=oi(o);var l=ci(i,r,o);l!==null&&(or(l,i,o),jo(l,i,o)),i={cache:Ad()},r.payload=i;return}i=i.return}}function QT(r,i,o){var l=vr();o={lane:l,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Al(r)?H0(i,o):(o=gd(r,i,o,l),o!==null&&(or(o,r,l),$0(o,i,l)))}function B0(r,i,o){var l=vr();Bo(r,i,o,l)}function Bo(r,i,o,l){var h={lane:l,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Al(r))H0(i,h);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var w=i.lastRenderedState,O=m(w,o);if(h.hasEagerState=!0,h.eagerState=O,dr(O,w))return cl(r,i,h,0),Kt===null&&ol(),!1}catch{}finally{}if(o=gd(r,i,h,l),o!==null)return or(o,r,l),$0(o,i,l),!0}return!1}function eh(r,i,o,l){if(l={lane:2,revertLane:Nh(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Al(r)){if(i)throw Error(s(479))}else i=gd(r,o,l,2),i!==null&&or(i,r,2)}function Al(r){var i=r.alternate;return r===yt||i!==null&&i===yt}function H0(r,i){Na=Sl=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function $0(r,i,o){if((o&4194048)!==0){var l=i.lanes;l&=r.pendingLanes,o|=l,i.lanes=o,nt(r,o)}}var Ho={readContext:Un,use:Cl,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useLayoutEffect:ln,useInsertionEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useSyncExternalStore:ln,useId:ln,useHostTransitionStatus:ln,useFormState:ln,useActionState:ln,useOptimistic:ln,useMemoCache:ln,useCacheRefresh:ln};Ho.useEffectEvent=ln;var V0={readContext:Un,use:Cl,useCallback:function(r,i){return Qn().memoizedState=[r,i===void 0?null:i],r},useContext:Un,useEffect:T0,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,Tl(4194308,4,M0.bind(null,i,r),o)},useLayoutEffect:function(r,i){return Tl(4194308,4,r,i)},useInsertionEffect:function(r,i){Tl(4,2,r,i)},useMemo:function(r,i){var o=Qn();i=i===void 0?null:i;var l=r();if(Fi){Nn(!0);try{r()}finally{Nn(!1)}}return o.memoizedState=[l,i],l},useReducer:function(r,i,o){var l=Qn();if(o!==void 0){var h=o(i);if(Fi){Nn(!0);try{o(i)}finally{Nn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},l.queue=r,r=r.dispatch=QT.bind(null,yt,r),[l.memoizedState,r]},useRef:function(r){var i=Qn();return r={current:r},i.memoizedState=r},useState:function(r){r=Gd(r);var i=r.queue,o=B0.bind(null,yt,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:Qd,useDeferredValue:function(r,i){var o=Qn();return Zd(o,r,i)},useTransition:function(){var r=Gd(!1);return r=j0.bind(null,yt,r.queue,!0,!1),Qn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var l=yt,h=Qn();if(Mt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),Kt===null)throw Error(s(349));(Rt&127)!==0||u0(l,i,o)}h.memoizedState=o;var m={value:o,getSnapshot:i};return h.queue=m,T0(d0.bind(null,l,m,r),[r]),l.flags|=2048,ka(9,{destroy:void 0},f0.bind(null,l,m,o,i),null),o},useId:function(){var r=Qn(),i=Kt.identifierPrefix;if(Mt){var o=ts,l=es;o=(l&~(1<<32-on(l)-1)).toString(32)+o,i="_"+i+"R_"+o,o=_l++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=VT++,i="_"+i+"r_"+o.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:Wd,useFormState:S0,useActionState:S0,useOptimistic:function(r){var i=Qn();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=eh.bind(null,yt,!0,o),o.dispatch=i,[r,i]},useMemoCache:qd,useCacheRefresh:function(){return Qn().memoizedState=XT.bind(null,yt)},useEffectEvent:function(r){var i=Qn(),o={impl:r};return i.memoizedState=o,function(){if((It&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},th={readContext:Un,use:Cl,useCallback:N0,useContext:Un,useEffect:Xd,useImperativeHandle:P0,useInsertionEffect:A0,useLayoutEffect:O0,useMemo:D0,useReducer:El,useRef:E0,useState:function(){return El(Ds)},useDebugValue:Qd,useDeferredValue:function(r,i){var o=yn();return k0(o,Ft.memoizedState,r,i)},useTransition:function(){var r=El(Ds)[0],i=yn().memoizedState;return[typeof r=="boolean"?r:zo(r),i]},useSyncExternalStore:l0,useId:I0,useHostTransitionStatus:Wd,useFormState:_0,useActionState:_0,useOptimistic:function(r,i){var o=yn();return m0(o,Ft,r,i)},useMemoCache:qd,useCacheRefresh:z0};th.useEffectEvent=R0;var q0={readContext:Un,use:Cl,useCallback:N0,useContext:Un,useEffect:Xd,useImperativeHandle:P0,useInsertionEffect:A0,useLayoutEffect:O0,useMemo:D0,useReducer:Yd,useRef:E0,useState:function(){return Yd(Ds)},useDebugValue:Qd,useDeferredValue:function(r,i){var o=yn();return Ft===null?Zd(o,r,i):k0(o,Ft.memoizedState,r,i)},useTransition:function(){var r=Yd(Ds)[0],i=yn().memoizedState;return[typeof r=="boolean"?r:zo(r),i]},useSyncExternalStore:l0,useId:I0,useHostTransitionStatus:Wd,useFormState:C0,useActionState:C0,useOptimistic:function(r,i){var o=yn();return Ft!==null?m0(o,Ft,r,i):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:qd,useCacheRefresh:z0};q0.useEffectEvent=R0;function nh(r,i,o,l){i=r.memoizedState,o=o(l,i),o=o==null?i:g({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var rh={enqueueSetState:function(r,i,o){r=r._reactInternals;var l=vr(),h=oi(l);h.payload=i,o!=null&&(h.callback=o),i=ci(r,h,l),i!==null&&(or(i,r,l),jo(i,r,l))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var l=vr(),h=oi(l);h.tag=1,h.payload=i,o!=null&&(h.callback=o),i=ci(r,h,l),i!==null&&(or(i,r,l),jo(i,r,l))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=vr(),l=oi(o);l.tag=2,i!=null&&(l.callback=i),i=ci(r,l,o),i!==null&&(or(i,r,o),jo(i,r,o))}};function F0(r,i,o,l,h,m,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(l,m,w):i.prototype&&i.prototype.isPureReactComponent?!Ro(o,l)||!Ro(h,m):!0}function Y0(r,i,o,l){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,l),i.state!==r&&rh.enqueueReplaceState(i,i.state,null)}function Yi(r,i){var o=i;if("ref"in i){o={};for(var l in i)l!=="ref"&&(o[l]=i[l])}if(r=r.defaultProps){o===i&&(o=g({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}function G0(r){al(r)}function K0(r){console.error(r)}function X0(r){al(r)}function Ol(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Q0(r,i,o){try{var l=r.onCaughtError;l(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sh(r,i,o){return o=oi(o),o.tag=3,o.payload={element:null},o.callback=function(){Ol(r,i)},o}function Z0(r){return r=oi(r),r.tag=3,r}function J0(r,i,o,l){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;r.payload=function(){return h(m)},r.callback=function(){Q0(i,o,l)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){Q0(i,o,l),typeof h!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var O=l.stack;this.componentDidCatch(l.value,{componentStack:O!==null?O:""})})}function ZT(r,i,o,l,h){if(o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=o.alternate,i!==null&&Ta(i,o,h,!0),o=pr.current,o!==null){switch(o.tag){case 31:case 13:return Mr===null?Hl():o.alternate===null&&un===0&&(un=3),o.flags&=-257,o.flags|=65536,o.lanes=h,l===yl?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([l]):i.add(l),Oh(r,l,h)),!1;case 22:return o.flags|=65536,l===yl?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([l]):o.add(l)),Oh(r,l,h)),!1}throw Error(s(435,o.tag))}return Oh(r,l,h),Hl(),!1}if(Mt)return i=pr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==wd&&(r=Error(s(422),{cause:l}),Mo(Tr(r,o)))):(l!==wd&&(i=Error(s(423),{cause:l}),Mo(Tr(i,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,l=Tr(l,o),h=sh(r.stateNode,l,h),kd(r,h),un!==4&&(un=2)),!1;var m=Error(s(520),{cause:l});if(m=Tr(m,o),Xo===null?Xo=[m]:Xo.push(m),un!==4&&(un=2),i===null)return!0;l=Tr(l,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=sh(o.stateNode,l,r),kd(o,r),!1;case 1:if(i=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(pi===null||!pi.has(m))))return o.flags|=65536,h&=-h,o.lanes|=h,h=Z0(h),J0(h,r,o,l),kd(o,h),!1}o=o.return}while(o!==null);return!1}var ih=Error(s(461)),wn=!1;function In(r,i,o,l){i.child=r===null?n0(i,null,o,l):qi(i,r.child,o,l)}function W0(r,i,o,l,h){o=o.render;var m=i.ref;if("ref"in l){var w={};for(var O in l)O!=="ref"&&(w[O]=l[O])}else w=l;return Bi(i),l=Bd(r,i,o,w,m,h),O=Hd(),r!==null&&!wn?($d(r,i,h),ks(r,i,h)):(Mt&&O&&Sd(i),i.flags|=1,In(r,i,l,h),i.child)}function ev(r,i,o,l,h){if(r===null){var m=o.type;return typeof m=="function"&&!vd(m)&&m.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=m,tv(r,i,m,l,h)):(r=ul(o.type,null,l,i,i.mode,h),r.ref=i.ref,r.return=i,i.child=r)}if(m=r.child,!hh(r,h)){var w=m.memoizedProps;if(o=o.compare,o=o!==null?o:Ro,o(w,l)&&r.ref===i.ref)return ks(r,i,h)}return i.flags|=1,r=As(m,l),r.ref=i.ref,r.return=i,i.child=r}function tv(r,i,o,l,h){if(r!==null){var m=r.memoizedProps;if(Ro(m,l)&&r.ref===i.ref)if(wn=!1,i.pendingProps=l=m,hh(r,h))(r.flags&131072)!==0&&(wn=!0);else return i.lanes=r.lanes,ks(r,i,h)}return ah(r,i,o,l,h)}function nv(r,i,o,l){var h=l.children,m=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,r!==null){for(l=i.child=r.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~m}else l=0,i.child=null;return rv(r,i,m,o,l)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&pl(i,m!==null?m.cachePool:null),m!==null?i0(i,m):Ld(),a0(i);else return l=i.lanes=536870912,rv(r,i,m!==null?m.baseLanes|o:o,o,l)}else m!==null?(pl(i,m.cachePool),i0(i,m),ui(),i.memoizedState=null):(r!==null&&pl(i,null),Ld(),ui());return In(r,i,h,o),i.child}function $o(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function rv(r,i,o,l,h){var m=Md();return m=m===null?null:{parent:Sn._currentValue,pool:m},i.memoizedState={baseLanes:o,cachePool:m},r!==null&&pl(i,null),Ld(),a0(i),r!==null&&Ta(r,i,l,!0),i.childLanes=h,null}function Ml(r,i){return i=Nl({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function sv(r,i,o){return qi(i,r.child,null,o),r=Ml(i,i.pendingProps),r.flags|=2,mr(i),i.memoizedState=null,r}function JT(r,i,o){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(Mt){if(l.mode==="hidden")return r=Ml(i,l),i.lanes=536870912,$o(null,r);if(Id(i),(r=Jt)?(r=yx(r,Or),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:ni!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},o=Hg(r),o.return=i,i.child=o,Ln=i,Jt=null)):r=null,r===null)throw si(i);return i.lanes=536870912,null}return Ml(i,l)}var m=r.memoizedState;if(m!==null){var w=m.dehydrated;if(Id(i),h)if(i.flags&256)i.flags&=-257,i=sv(r,i,o);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(s(558));else if(wn||Ta(r,i,o,!1),h=(o&r.childLanes)!==0,wn||h){if(l=Kt,l!==null&&(w=_(l,o),w!==0&&w!==m.retryLane))throw m.retryLane=w,Li(r,w),or(l,r,w),ih;Hl(),i=sv(r,i,o)}else r=m.treeContext,Jt=Pr(w.nextSibling),Ln=i,Mt=!0,ri=null,Or=!1,r!==null&&qg(i,r),i=Ml(i,l),i.flags|=4096;return i}return r=As(r.child,{mode:l.mode,children:l.children}),r.ref=i.ref,i.child=r,r.return=i,r}function Pl(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(r===null||r.ref!==o)&&(i.flags|=4194816)}}function ah(r,i,o,l,h){return Bi(i),o=Bd(r,i,o,l,void 0,h),l=Hd(),r!==null&&!wn?($d(r,i,h),ks(r,i,h)):(Mt&&l&&Sd(i),i.flags|=1,In(r,i,o,h),i.child)}function iv(r,i,o,l,h,m){return Bi(i),i.updateQueue=null,o=c0(i,l,o,h),o0(r),l=Hd(),r!==null&&!wn?($d(r,i,m),ks(r,i,m)):(Mt&&l&&Sd(i),i.flags|=1,In(r,i,o,m),i.child)}function av(r,i,o,l,h){if(Bi(i),i.stateNode===null){var m=_a,w=o.contextType;typeof w=="object"&&w!==null&&(m=Un(w)),m=new o(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=rh,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},Nd(i),w=o.contextType,m.context=typeof w=="object"&&w!==null?Un(w):_a,m.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(nh(i,o,w,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(w=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),w!==m.state&&rh.enqueueReplaceState(m,m.state,null),Uo(i,l,m,h),Lo(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(r===null){m=i.stateNode;var O=i.memoizedProps,I=Yi(o,O);m.props=I;var Q=m.context,oe=o.contextType;w=_a,typeof oe=="object"&&oe!==null&&(w=Un(oe));var he=o.getDerivedStateFromProps;oe=typeof he=="function"||typeof m.getSnapshotBeforeUpdate=="function",O=i.pendingProps!==O,oe||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(O||Q!==w)&&Y0(i,m,l,w),ai=!1;var W=i.memoizedState;m.state=W,Uo(i,l,m,h),Lo(),Q=i.memoizedState,O||W!==Q||ai?(typeof he=="function"&&(nh(i,o,he,l),Q=i.memoizedState),(I=ai||F0(i,o,I,l,W,Q,w))?(oe||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=Q),m.props=l,m.state=Q,m.context=w,l=I):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,Dd(r,i),w=i.memoizedProps,oe=Yi(o,w),m.props=oe,he=i.pendingProps,W=m.context,Q=o.contextType,I=_a,typeof Q=="object"&&Q!==null&&(I=Un(Q)),O=o.getDerivedStateFromProps,(Q=typeof O=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==he||W!==I)&&Y0(i,m,l,I),ai=!1,W=i.memoizedState,m.state=W,Uo(i,l,m,h),Lo();var re=i.memoizedState;w!==he||W!==re||ai||r!==null&&r.dependencies!==null&&dl(r.dependencies)?(typeof O=="function"&&(nh(i,o,O,l),re=i.memoizedState),(oe=ai||F0(i,o,oe,l,W,re,I)||r!==null&&r.dependencies!==null&&dl(r.dependencies))?(Q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,re,I),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,re,I)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===r.memoizedProps&&W===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&W===r.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=re),m.props=l,m.state=re,m.context=I,l=oe):(typeof m.componentDidUpdate!="function"||w===r.memoizedProps&&W===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&W===r.memoizedState||(i.flags|=1024),l=!1)}return m=l,Pl(r,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,o=l&&typeof o.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,r!==null&&l?(i.child=qi(i,r.child,null,h),i.child=qi(i,null,o,h)):In(r,i,o,h),i.memoizedState=m.state,r=i.child):r=ks(r,i,h),r}function ov(r,i,o,l){return Ii(),i.flags|=256,In(r,i,o,l),i.child}var oh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ch(r){return{baseLanes:r,cachePool:Qg()}}function lh(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=gr),r}function cv(r,i,o){var l=i.pendingProps,h=!1,m=(i.flags&128)!==0,w;if((w=m)||(w=r!==null&&r.memoizedState===null?!1:(mn.current&2)!==0),w&&(h=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,r===null){if(Mt){if(h?li(i):ui(),(r=Jt)?(r=yx(r,Or),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:ni!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},o=Hg(r),o.return=i,i.child=o,Ln=i,Jt=null)):r=null,r===null)throw si(i);return Fh(r)?i.lanes=32:i.lanes=536870912,null}var O=l.children;return l=l.fallback,h?(ui(),h=i.mode,O=Nl({mode:"hidden",children:O},h),l=Ui(l,h,o,null),O.return=i,l.return=i,O.sibling=l,i.child=O,l=i.child,l.memoizedState=ch(o),l.childLanes=lh(r,w,o),i.memoizedState=oh,$o(null,l)):(li(i),uh(i,O))}var I=r.memoizedState;if(I!==null&&(O=I.dehydrated,O!==null)){if(m)i.flags&256?(li(i),i.flags&=-257,i=fh(r,i,o)):i.memoizedState!==null?(ui(),i.child=r.child,i.flags|=128,i=null):(ui(),O=l.fallback,h=i.mode,l=Nl({mode:"visible",children:l.children},h),O=Ui(O,h,o,null),O.flags|=2,l.return=i,O.return=i,l.sibling=O,i.child=l,qi(i,r.child,null,o),l=i.child,l.memoizedState=ch(o),l.childLanes=lh(r,w,o),i.memoizedState=oh,i=$o(null,l));else if(li(i),Fh(O)){if(w=O.nextSibling&&O.nextSibling.dataset,w)var Q=w.dgst;w=Q,l=Error(s(419)),l.stack="",l.digest=w,Mo({value:l,source:null,stack:null}),i=fh(r,i,o)}else if(wn||Ta(r,i,o,!1),w=(o&r.childLanes)!==0,wn||w){if(w=Kt,w!==null&&(l=_(w,o),l!==0&&l!==I.retryLane))throw I.retryLane=l,Li(r,l),or(w,r,l),ih;qh(O)||Hl(),i=fh(r,i,o)}else qh(O)?(i.flags|=192,i.child=r.child,i=null):(r=I.treeContext,Jt=Pr(O.nextSibling),Ln=i,Mt=!0,ri=null,Or=!1,r!==null&&qg(i,r),i=uh(i,l.children),i.flags|=4096);return i}return h?(ui(),O=l.fallback,h=i.mode,I=r.child,Q=I.sibling,l=As(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,Q!==null?O=As(Q,O):(O=Ui(O,h,o,null),O.flags|=2),O.return=i,l.return=i,l.sibling=O,i.child=l,$o(null,l),l=i.child,O=r.child.memoizedState,O===null?O=ch(o):(h=O.cachePool,h!==null?(I=Sn._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Qg(),O={baseLanes:O.baseLanes|o,cachePool:h}),l.memoizedState=O,l.childLanes=lh(r,w,o),i.memoizedState=oh,$o(r.child,l)):(li(i),o=r.child,r=o.sibling,o=As(o,{mode:"visible",children:l.children}),o.return=i,o.sibling=null,r!==null&&(w=i.deletions,w===null?(i.deletions=[r],i.flags|=16):w.push(r)),i.child=o,i.memoizedState=null,o)}function uh(r,i){return i=Nl({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Nl(r,i){return r=hr(22,r,null,i),r.lanes=0,r}function fh(r,i,o){return qi(i,r.child,null,o),r=uh(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function lv(r,i,o){r.lanes|=i;var l=r.alternate;l!==null&&(l.lanes|=i),Td(r.return,i,o)}function dh(r,i,o,l,h,m){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:h,treeForkCount:m}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=l,w.tail=o,w.tailMode=h,w.treeForkCount=m)}function uv(r,i,o){var l=i.pendingProps,h=l.revealOrder,m=l.tail;l=l.children;var w=mn.current,O=(w&2)!==0;if(O?(w=w&1|2,i.flags|=128):w&=1,le(mn,w),In(r,i,l,o),l=Mt?Oo:0,!O&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&lv(r,o,i);else if(r.tag===19)lv(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(h){case"forwards":for(o=i.child,h=null;o!==null;)r=o.alternate,r!==null&&bl(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=i.child,i.child=null):(h=o.sibling,o.sibling=null),dh(i,!1,h,o,m,l);break;case"backwards":case"unstable_legacy-backwards":for(o=null,h=i.child,i.child=null;h!==null;){if(r=h.alternate,r!==null&&bl(r)===null){i.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}dh(i,!0,o,null,m,l);break;case"together":dh(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ks(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),hi|=i.lanes,(o&i.childLanes)===0)if(r!==null){if(Ta(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,o=As(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=As(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function hh(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&dl(r)))}function WT(r,i,o){switch(i.tag){case 3:it(i,i.stateNode.containerInfo),ii(i,Sn,r.memoizedState.cache),Ii();break;case 27:case 5:J(i);break;case 4:it(i,i.stateNode.containerInfo);break;case 10:ii(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Id(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(li(i),i.flags|=128,null):(o&i.child.childLanes)!==0?cv(r,i,o):(li(i),r=ks(r,i,o),r!==null?r.sibling:null);li(i);break;case 19:var h=(r.flags&128)!==0;if(l=(o&i.childLanes)!==0,l||(Ta(r,i,o,!1),l=(o&i.childLanes)!==0),h){if(l)return uv(r,i,o);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(mn,mn.current),l)break;return null;case 22:return i.lanes=0,nv(r,i,o,i.pendingProps);case 24:ii(i,Sn,r.memoizedState.cache)}return ks(r,i,o)}function fv(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)wn=!0;else{if(!hh(r,o)&&(i.flags&128)===0)return wn=!1,WT(r,i,o);wn=(r.flags&131072)!==0}else wn=!1,Mt&&(i.flags&1048576)!==0&&Vg(i,Oo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(r=$i(i.elementType),i.type=r,typeof r=="function")vd(r)?(l=Yi(r,l),i.tag=1,i=av(null,i,r,l,o)):(i.tag=0,i=ah(null,i,r,l,o));else{if(r!=null){var h=r.$$typeof;if(h===j){i.tag=11,i=W0(null,i,r,l,o);break e}else if(h===Y){i.tag=14,i=ev(null,i,r,l,o);break e}}throw i=ge(r)||r,Error(s(306,i,""))}}return i;case 0:return ah(r,i,i.type,i.pendingProps,o);case 1:return l=i.type,h=Yi(l,i.pendingProps),av(r,i,l,h,o);case 3:e:{if(it(i,i.stateNode.containerInfo),r===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;h=m.element,Dd(r,i),Uo(i,l,null,o);var w=i.memoizedState;if(l=w.cache,ii(i,Sn,l),l!==m.cache&&Rd(i,[Sn],o,!0),Lo(),l=w.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=ov(r,i,l,o);break e}else if(l!==h){h=Tr(Error(s(424)),i),Mo(h),i=ov(r,i,l,o);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Jt=Pr(r.firstChild),Ln=i,Mt=!0,ri=null,Or=!0,o=n0(i,null,l,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ii(),l===h){i=ks(r,i,o);break e}In(r,i,l,o)}i=i.child}return i;case 26:return Pl(r,i),r===null?(o=_x(i.type,null,i.pendingProps,null))?i.memoizedState=o:Mt||(o=i.type,r=i.pendingProps,l=Kl(Ee.current).createElement(o),l[V]=i,l[ae]=r,zn(l,o,r),He(l),i.stateNode=l):i.memoizedState=_x(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return J(i),r===null&&Mt&&(l=i.stateNode=xx(i.type,i.pendingProps,Ee.current),Ln=i,Or=!0,h=Jt,vi(i.type)?(Yh=h,Jt=Pr(l.firstChild)):Jt=h),In(r,i,i.pendingProps.children,o),Pl(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Mt&&((h=l=Jt)&&(l=OR(l,i.type,i.pendingProps,Or),l!==null?(i.stateNode=l,Ln=i,Jt=Pr(l.firstChild),Or=!1,h=!0):h=!1),h||si(i)),J(i),h=i.type,m=i.pendingProps,w=r!==null?r.memoizedProps:null,l=m.children,Hh(h,m)?l=null:w!==null&&Hh(h,w)&&(i.flags|=32),i.memoizedState!==null&&(h=Bd(r,i,qT,null,null,o),rc._currentValue=h),Pl(r,i),In(r,i,l,o),i.child;case 6:return r===null&&Mt&&((r=o=Jt)&&(o=MR(o,i.pendingProps,Or),o!==null?(i.stateNode=o,Ln=i,Jt=null,r=!0):r=!1),r||si(i)),null;case 13:return cv(r,i,o);case 4:return it(i,i.stateNode.containerInfo),l=i.pendingProps,r===null?i.child=qi(i,null,l,o):In(r,i,l,o),i.child;case 11:return W0(r,i,i.type,i.pendingProps,o);case 7:return In(r,i,i.pendingProps,o),i.child;case 8:return In(r,i,i.pendingProps.children,o),i.child;case 12:return In(r,i,i.pendingProps.children,o),i.child;case 10:return l=i.pendingProps,ii(i,i.type,l.value),In(r,i,l.children,o),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Bi(i),h=Un(h),l=l(h),i.flags|=1,In(r,i,l,o),i.child;case 14:return ev(r,i,i.type,i.pendingProps,o);case 15:return tv(r,i,i.type,i.pendingProps,o);case 19:return uv(r,i,o);case 31:return JT(r,i,o);case 22:return nv(r,i,o,i.pendingProps);case 24:return Bi(i),l=Un(Sn),r===null?(h=Md(),h===null&&(h=Kt,m=Ad(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=o),h=m),i.memoizedState={parent:l,cache:h},Nd(i),ii(i,Sn,h)):((r.lanes&o)!==0&&(Dd(r,i),Uo(i,null,null,o),Lo()),h=r.memoizedState,m=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ii(i,Sn,l)):(l=m.cache,ii(i,Sn,l),l!==h.cache&&Rd(i,[Sn],o,!0))),In(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function js(r){r.flags|=4}function ph(r,i,o,l,h){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(h&335544128)===h)if(r.stateNode.complete)r.flags|=8192;else if(Iv())r.flags|=8192;else throw Vi=yl,Pd}else r.flags&=-16777217}function dv(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Rx(i))if(Iv())r.flags|=8192;else throw Vi=yl,Pd}function Dl(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Es():536870912,r.lanes|=i,Ia|=i)}function Vo(r,i){if(!Mt)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:l.sibling=null}}function Wt(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,l=0;if(i)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=l,r.childLanes=o,i}function eR(r,i,o){var l=i.pendingProps;switch(_d(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(i),null;case 1:return Wt(i),null;case 3:return o=i.stateNode,l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ps(Sn),B(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Ea(i)?js(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Cd())),Wt(i),null;case 26:var h=i.type,m=i.memoizedState;return r===null?(js(i),m!==null?(Wt(i),dv(i,m)):(Wt(i),ph(i,h,null,l,o))):m?m!==r.memoizedState?(js(i),Wt(i),dv(i,m)):(Wt(i),i.flags&=-16777217):(r=r.memoizedProps,r!==l&&js(i),Wt(i),ph(i,h,r,l,o)),null;case 27:if(fe(i),o=Ee.current,h=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==l&&js(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Wt(i),null}r=xe.current,Ea(i)?Fg(i):(r=xx(h,l,o),i.stateNode=r,js(i))}return Wt(i),null;case 5:if(fe(i),h=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==l&&js(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Wt(i),null}if(m=xe.current,Ea(i))Fg(i);else{var w=Kl(Ee.current);switch(m){case 1:m=w.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=w.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=w.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=w.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=w.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?w.createElement("select",{is:l.is}):w.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?w.createElement(h,{is:l.is}):w.createElement(h)}}m[V]=i,m[ae]=l;e:for(w=i.child;w!==null;){if(w.tag===5||w.tag===6)m.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===i)break e;for(;w.sibling===null;){if(w.return===null||w.return===i)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}i.stateNode=m;e:switch(zn(m,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&js(i)}}return Wt(i),ph(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,o),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==l&&js(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(r=Ee.current,Ea(i)){if(r=i.stateNode,o=i.memoizedProps,l=null,h=Ln,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}r[V]=i,r=!!(r.nodeValue===o||l!==null&&l.suppressHydrationWarning===!0||cx(r.nodeValue,o)),r||si(i,!0)}else r=Kl(r).createTextNode(l),r[V]=i,i.stateNode=r}return Wt(i),null;case 31:if(o=i.memoizedState,r===null||r.memoizedState!==null){if(l=Ea(i),o!==null){if(r===null){if(!l)throw Error(s(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(557));r[V]=i}else Ii(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Wt(i),r=!1}else o=Cd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return i.flags&256?(mr(i),i):(mr(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Wt(i),null;case 13:if(l=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=Ea(i),l!==null&&l.dehydrated!==null){if(r===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[V]=i}else Ii(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Wt(i),h=!1}else h=Cd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(mr(i),i):(mr(i),null)}return mr(i),(i.flags&128)!==0?(i.lanes=o,i):(o=l!==null,r=r!==null&&r.memoizedState!==null,o&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)),o!==r&&o&&(i.child.flags|=8192),Dl(i,i.updateQueue),Wt(i),null);case 4:return B(),r===null&&Lh(i.stateNode.containerInfo),Wt(i),null;case 10:return Ps(i.type),Wt(i),null;case 19:if(ie(mn),l=i.memoizedState,l===null)return Wt(i),null;if(h=(i.flags&128)!==0,m=l.rendering,m===null)if(h)Vo(l,!1);else{if(un!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(m=bl(r),m!==null){for(i.flags|=128,Vo(l,!1),r=m.updateQueue,i.updateQueue=r,Dl(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)Bg(o,r),o=o.sibling;return le(mn,mn.current&1|2),Mt&&Os(i,l.treeForkCount),i.child}r=r.sibling}l.tail!==null&&ht()>Il&&(i.flags|=128,h=!0,Vo(l,!1),i.lanes=4194304)}else{if(!h)if(r=bl(m),r!==null){if(i.flags|=128,h=!0,r=r.updateQueue,i.updateQueue=r,Dl(i,r),Vo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Mt)return Wt(i),null}else 2*ht()-l.renderingStartTime>Il&&o!==536870912&&(i.flags|=128,h=!0,Vo(l,!1),i.lanes=4194304);l.isBackwards?(m.sibling=i.child,i.child=m):(r=l.last,r!==null?r.sibling=m:i.child=m,l.last=m)}return l.tail!==null?(r=l.tail,l.rendering=r,l.tail=r.sibling,l.renderingStartTime=ht(),r.sibling=null,o=mn.current,le(mn,h?o&1|2:o&1),Mt&&Os(i,l.treeForkCount),r):(Wt(i),null);case 22:case 23:return mr(i),Ud(),l=i.memoizedState!==null,r!==null?r.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(o&536870912)!==0&&(i.flags&128)===0&&(Wt(i),i.subtreeFlags&6&&(i.flags|=8192)):Wt(i),o=i.updateQueue,o!==null&&Dl(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==o&&(i.flags|=2048),r!==null&&ie(Hi),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ps(Sn),Wt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function tR(r,i){switch(_d(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Ps(Sn),B(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return fe(i),null;case 31:if(i.memoizedState!==null){if(mr(i),i.alternate===null)throw Error(s(340));Ii()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(mr(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ii()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ie(mn),null;case 4:return B(),null;case 10:return Ps(i.type),null;case 22:case 23:return mr(i),Ud(),r!==null&&ie(Hi),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Ps(Sn),null;case 25:return null;default:return null}}function hv(r,i){switch(_d(i),i.tag){case 3:Ps(Sn),B();break;case 26:case 27:case 5:fe(i);break;case 4:B();break;case 31:i.memoizedState!==null&&mr(i);break;case 13:mr(i);break;case 19:ie(mn);break;case 10:Ps(i.type);break;case 22:case 23:mr(i),Ud(),r!==null&&ie(Hi);break;case 24:Ps(Sn)}}function qo(r,i){try{var o=i.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var h=l.next;o=h;do{if((o.tag&r)===r){l=void 0;var m=o.create,w=o.inst;l=m(),w.destroy=l}o=o.next}while(o!==h)}}catch(O){Vt(i,i.return,O)}}function fi(r,i,o){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&r)===r){var w=l.inst,O=w.destroy;if(O!==void 0){w.destroy=void 0,h=i;var I=o,Q=O;try{Q()}catch(oe){Vt(h,I,oe)}}}l=l.next}while(l!==m)}}catch(oe){Vt(i,i.return,oe)}}function pv(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{s0(i,o)}catch(l){Vt(r,r.return,l)}}}function mv(r,i,o){o.props=Yi(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(l){Vt(r,i,l)}}function Fo(r,i){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var l=r.stateNode;break;case 30:l=r.stateNode;break;default:l=r.stateNode}typeof o=="function"?r.refCleanup=o(l):o.current=l}}catch(h){Vt(r,i,h)}}function ns(r,i){var o=r.ref,l=r.refCleanup;if(o!==null)if(typeof l=="function")try{l()}catch(h){Vt(r,i,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){Vt(r,i,h)}else o.current=null}function yv(r){var i=r.type,o=r.memoizedProps,l=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&l.focus();break e;case"img":o.src?l.src=o.src:o.srcSet&&(l.srcset=o.srcSet)}}catch(h){Vt(r,r.return,h)}}function mh(r,i,o){try{var l=r.stateNode;wR(l,r.type,o,i),l[ae]=i}catch(h){Vt(r,r.return,h)}}function gv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&vi(r.type)||r.tag===4}function yh(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||gv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&vi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function gh(r,i,o){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(r),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Ts));else if(l!==4&&(l===27&&vi(r.type)&&(o=r.stateNode,i=null),r=r.child,r!==null))for(gh(r,i,o),r=r.sibling;r!==null;)gh(r,i,o),r=r.sibling}function kl(r,i,o){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(l!==4&&(l===27&&vi(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(kl(r,i,o),r=r.sibling;r!==null;)kl(r,i,o),r=r.sibling}function vv(r){var i=r.stateNode,o=r.memoizedProps;try{for(var l=r.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);zn(i,l,o),i[V]=r,i[ae]=o}catch(m){Vt(r,r.return,m)}}var Ls=!1,Cn=!1,vh=!1,xv=typeof WeakSet=="function"?WeakSet:Set,jn=null;function nR(r,i){if(r=r.containerInfo,zh=tu,r=Pg(r),fd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var w=0,O=-1,I=-1,Q=0,oe=0,he=r,W=null;t:for(;;){for(var re;he!==o||h!==0&&he.nodeType!==3||(O=w+h),he!==m||l!==0&&he.nodeType!==3||(I=w+l),he.nodeType===3&&(w+=he.nodeValue.length),(re=he.firstChild)!==null;)W=he,he=re;for(;;){if(he===r)break t;if(W===o&&++Q===h&&(O=w),W===m&&++oe===l&&(I=w),(re=he.nextSibling)!==null)break;he=W,W=he.parentNode}he=re}o=O===-1||I===-1?null:{start:O,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(Bh={focusedElem:r,selectionRange:o},tu=!1,jn=i;jn!==null;)if(i=jn,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,jn=r;else for(;jn!==null;){switch(i=jn,m=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)h=r[o],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,o=i,h=m.memoizedProps,m=m.memoizedState,l=o.stateNode;try{var $e=Yi(o.type,h);r=l.getSnapshotBeforeUpdate($e,m),l.__reactInternalSnapshotBeforeUpdate=r}catch(tt){Vt(o,o.return,tt)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)Vh(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Vh(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,jn=r;break}jn=i.return}}function bv(r,i,o){var l=o.flags;switch(o.tag){case 0:case 11:case 15:Is(r,o),l&4&&qo(5,o);break;case 1:if(Is(r,o),l&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(w){Vt(o,o.return,w)}else{var h=Yi(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(h,i,r.__reactInternalSnapshotBeforeUpdate)}catch(w){Vt(o,o.return,w)}}l&64&&pv(o),l&512&&Fo(o,o.return);break;case 3:if(Is(r,o),l&64&&(r=o.updateQueue,r!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{s0(r,i)}catch(w){Vt(o,o.return,w)}}break;case 27:i===null&&l&4&&vv(o);case 26:case 5:Is(r,o),i===null&&l&4&&yv(o),l&512&&Fo(o,o.return);break;case 12:Is(r,o);break;case 31:Is(r,o),l&4&&wv(r,o);break;case 13:Is(r,o),l&4&&Cv(r,o),l&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=fR.bind(null,o),PR(r,o))));break;case 22:if(l=o.memoizedState!==null||Ls,!l){i=i!==null&&i.memoizedState!==null||Cn,h=Ls;var m=Cn;Ls=l,(Cn=i)&&!m?zs(r,o,(o.subtreeFlags&8772)!==0):Is(r,o),Ls=h,Cn=m}break;case 30:break;default:Is(r,o)}}function Sv(r){var i=r.alternate;i!==null&&(r.alternate=null,Sv(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&rt(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var sn=null,rr=!1;function Us(r,i,o){for(o=o.child;o!==null;)_v(r,i,o),o=o.sibling}function _v(r,i,o){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Kn,o)}catch{}switch(o.tag){case 26:Cn||ns(o,i),Us(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Cn||ns(o,i);var l=sn,h=rr;vi(o.type)&&(sn=o.stateNode,rr=!1),Us(r,i,o),ec(o.stateNode),sn=l,rr=h;break;case 5:Cn||ns(o,i);case 6:if(l=sn,h=rr,sn=null,Us(r,i,o),sn=l,rr=h,sn!==null)if(rr)try{(sn.nodeType===9?sn.body:sn.nodeName==="HTML"?sn.ownerDocument.body:sn).removeChild(o.stateNode)}catch(m){Vt(o,i,m)}else try{sn.removeChild(o.stateNode)}catch(m){Vt(o,i,m)}break;case 18:sn!==null&&(rr?(r=sn,px(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Ya(r)):px(sn,o.stateNode));break;case 4:l=sn,h=rr,sn=o.stateNode.containerInfo,rr=!0,Us(r,i,o),sn=l,rr=h;break;case 0:case 11:case 14:case 15:fi(2,o,i),Cn||fi(4,o,i),Us(r,i,o);break;case 1:Cn||(ns(o,i),l=o.stateNode,typeof l.componentWillUnmount=="function"&&mv(o,i,l)),Us(r,i,o);break;case 21:Us(r,i,o);break;case 22:Cn=(l=Cn)||o.memoizedState!==null,Us(r,i,o),Cn=l;break;default:Us(r,i,o)}}function wv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Ya(r)}catch(o){Vt(i,i.return,o)}}}function Cv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ya(r)}catch(o){Vt(i,i.return,o)}}function rR(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new xv),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new xv),i;default:throw Error(s(435,r.tag))}}function jl(r,i){var o=rR(r);i.forEach(function(l){if(!o.has(l)){o.add(l);var h=dR.bind(null,r,l);l.then(h,h)}})}function sr(r,i){var o=i.deletions;if(o!==null)for(var l=0;l<o.length;l++){var h=o[l],m=r,w=i,O=w;e:for(;O!==null;){switch(O.tag){case 27:if(vi(O.type)){sn=O.stateNode,rr=!1;break e}break;case 5:sn=O.stateNode,rr=!1;break e;case 3:case 4:sn=O.stateNode.containerInfo,rr=!0;break e}O=O.return}if(sn===null)throw Error(s(160));_v(m,w,h),sn=null,rr=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Ev(i,r),i=i.sibling}var Br=null;function Ev(r,i){var o=r.alternate,l=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:sr(i,r),ir(r),l&4&&(fi(3,r,r.return),qo(3,r),fi(5,r,r.return));break;case 1:sr(i,r),ir(r),l&512&&(Cn||o===null||ns(o,o.return)),l&64&&Ls&&(r=r.updateQueue,r!==null&&(l=r.callbacks,l!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?l:o.concat(l))));break;case 26:var h=Br;if(sr(i,r),ir(r),l&512&&(Cn||o===null||ns(o,o.return)),l&4){var m=o!==null?o.memoizedState:null;if(l=r.memoizedState,o===null)if(l===null)if(r.stateNode===null){e:{l=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Je]||m[V]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),zn(m,l,o),m[V]=r,He(m),l=m;break e;case"link":var w=Ex("link","href",h).get(l+(o.href||""));if(w){for(var O=0;O<w.length;O++)if(m=w[O],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(O,1);break t}}m=h.createElement(l),zn(m,l,o),h.head.appendChild(m);break;case"meta":if(w=Ex("meta","content",h).get(l+(o.content||""))){for(O=0;O<w.length;O++)if(m=w[O],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(O,1);break t}}m=h.createElement(l),zn(m,l,o),h.head.appendChild(m);break;default:throw Error(s(468,l))}m[V]=r,He(m),l=m}r.stateNode=l}else Tx(h,r.type,r.stateNode);else r.stateNode=Cx(h,l,r.memoizedProps);else m!==l?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,l===null?Tx(h,r.type,r.stateNode):Cx(h,l,r.memoizedProps)):l===null&&r.stateNode!==null&&mh(r,r.memoizedProps,o.memoizedProps)}break;case 27:sr(i,r),ir(r),l&512&&(Cn||o===null||ns(o,o.return)),o!==null&&l&4&&mh(r,r.memoizedProps,o.memoizedProps);break;case 5:if(sr(i,r),ir(r),l&512&&(Cn||o===null||ns(o,o.return)),r.flags&32){h=r.stateNode;try{Ht(h,"")}catch($e){Vt(r,r.return,$e)}}l&4&&r.stateNode!=null&&(h=r.memoizedProps,mh(r,h,o!==null?o.memoizedProps:h)),l&1024&&(vh=!0);break;case 6:if(sr(i,r),ir(r),l&4){if(r.stateNode===null)throw Error(s(162));l=r.memoizedProps,o=r.stateNode;try{o.nodeValue=l}catch($e){Vt(r,r.return,$e)}}break;case 3:if(Zl=null,h=Br,Br=Xl(i.containerInfo),sr(i,r),Br=h,ir(r),l&4&&o!==null&&o.memoizedState.isDehydrated)try{Ya(i.containerInfo)}catch($e){Vt(r,r.return,$e)}vh&&(vh=!1,Tv(r));break;case 4:l=Br,Br=Xl(r.stateNode.containerInfo),sr(i,r),ir(r),Br=l;break;case 12:sr(i,r),ir(r);break;case 31:sr(i,r),ir(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,jl(r,l)));break;case 13:sr(i,r),ir(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ul=ht()),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,jl(r,l)));break;case 22:h=r.memoizedState!==null;var I=o!==null&&o.memoizedState!==null,Q=Ls,oe=Cn;if(Ls=Q||h,Cn=oe||I,sr(i,r),Cn=oe,Ls=Q,ir(r),l&8192)e:for(i=r.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(o===null||I||Ls||Cn||Gi(r)),o=null,i=r;;){if(i.tag===5||i.tag===26){if(o===null){I=o=i;try{if(m=I.stateNode,h)w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{O=I.stateNode;var he=I.memoizedProps.style,W=he!=null&&he.hasOwnProperty("display")?he.display:null;O.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch($e){Vt(I,I.return,$e)}}}else if(i.tag===6){if(o===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch($e){Vt(I,I.return,$e)}}}else if(i.tag===18){if(o===null){I=i;try{var re=I.stateNode;h?mx(re,!0):mx(I.stateNode,!1)}catch($e){Vt(I,I.return,$e)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=r.updateQueue,l!==null&&(o=l.retryQueue,o!==null&&(l.retryQueue=null,jl(r,o))));break;case 19:sr(i,r),ir(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,jl(r,l)));break;case 30:break;case 21:break;default:sr(i,r),ir(r)}}function ir(r){var i=r.flags;if(i&2){try{for(var o,l=r.return;l!==null;){if(gv(l)){o=l;break}l=l.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var h=o.stateNode,m=yh(r);kl(r,m,h);break;case 5:var w=o.stateNode;o.flags&32&&(Ht(w,""),o.flags&=-33);var O=yh(r);kl(r,O,w);break;case 3:case 4:var I=o.stateNode.containerInfo,Q=yh(r);gh(r,Q,I);break;default:throw Error(s(161))}}catch(oe){Vt(r,r.return,oe)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Tv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Tv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function Is(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)bv(r,i.alternate,i),i=i.sibling}function Gi(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:fi(4,i,i.return),Gi(i);break;case 1:ns(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&mv(i,i.return,o),Gi(i);break;case 27:ec(i.stateNode);case 26:case 5:ns(i,i.return),Gi(i);break;case 22:i.memoizedState===null&&Gi(i);break;case 30:Gi(i);break;default:Gi(i)}r=r.sibling}}function zs(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=r,m=i,w=m.flags;switch(m.tag){case 0:case 11:case 15:zs(h,m,o),qo(4,m);break;case 1:if(zs(h,m,o),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Q){Vt(l,l.return,Q)}if(l=m,h=l.updateQueue,h!==null){var O=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)r0(I[h],O)}catch(Q){Vt(l,l.return,Q)}}o&&w&64&&pv(m),Fo(m,m.return);break;case 27:vv(m);case 26:case 5:zs(h,m,o),o&&l===null&&w&4&&yv(m),Fo(m,m.return);break;case 12:zs(h,m,o);break;case 31:zs(h,m,o),o&&w&4&&wv(h,m);break;case 13:zs(h,m,o),o&&w&4&&Cv(h,m);break;case 22:m.memoizedState===null&&zs(h,m,o),Fo(m,m.return);break;case 30:break;default:zs(h,m,o)}i=i.sibling}}function xh(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Po(o))}function bh(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Po(r))}function Hr(r,i,o,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Rv(r,i,o,l),i=i.sibling}function Rv(r,i,o,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Hr(r,i,o,l),h&2048&&qo(9,i);break;case 1:Hr(r,i,o,l);break;case 3:Hr(r,i,o,l),h&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Po(r)));break;case 12:if(h&2048){Hr(r,i,o,l),r=i.stateNode;try{var m=i.memoizedProps,w=m.id,O=m.onPostCommit;typeof O=="function"&&O(w,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(I){Vt(i,i.return,I)}}else Hr(r,i,o,l);break;case 31:Hr(r,i,o,l);break;case 13:Hr(r,i,o,l);break;case 23:break;case 22:m=i.stateNode,w=i.alternate,i.memoizedState!==null?m._visibility&2?Hr(r,i,o,l):Yo(r,i):m._visibility&2?Hr(r,i,o,l):(m._visibility|=2,ja(r,i,o,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&xh(w,i);break;case 24:Hr(r,i,o,l),h&2048&&bh(i.alternate,i);break;default:Hr(r,i,o,l)}}function ja(r,i,o,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=r,w=i,O=o,I=l,Q=w.flags;switch(w.tag){case 0:case 11:case 15:ja(m,w,O,I,h),qo(8,w);break;case 23:break;case 22:var oe=w.stateNode;w.memoizedState!==null?oe._visibility&2?ja(m,w,O,I,h):Yo(m,w):(oe._visibility|=2,ja(m,w,O,I,h)),h&&Q&2048&&xh(w.alternate,w);break;case 24:ja(m,w,O,I,h),h&&Q&2048&&bh(w.alternate,w);break;default:ja(m,w,O,I,h)}i=i.sibling}}function Yo(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,l=i,h=l.flags;switch(l.tag){case 22:Yo(o,l),h&2048&&xh(l.alternate,l);break;case 24:Yo(o,l),h&2048&&bh(l.alternate,l);break;default:Yo(o,l)}i=i.sibling}}var Go=8192;function La(r,i,o){if(r.subtreeFlags&Go)for(r=r.child;r!==null;)Av(r,i,o),r=r.sibling}function Av(r,i,o){switch(r.tag){case 26:La(r,i,o),r.flags&Go&&r.memoizedState!==null&&VR(o,Br,r.memoizedState,r.memoizedProps);break;case 5:La(r,i,o);break;case 3:case 4:var l=Br;Br=Xl(r.stateNode.containerInfo),La(r,i,o),Br=l;break;case 22:r.memoizedState===null&&(l=r.alternate,l!==null&&l.memoizedState!==null?(l=Go,Go=16777216,La(r,i,o),Go=l):La(r,i,o));break;default:La(r,i,o)}}function Ov(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Ko(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var l=i[o];jn=l,Pv(l,r)}Ov(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Mv(r),r=r.sibling}function Mv(r){switch(r.tag){case 0:case 11:case 15:Ko(r),r.flags&2048&&fi(9,r,r.return);break;case 3:Ko(r);break;case 12:Ko(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Ll(r)):Ko(r);break;default:Ko(r)}}function Ll(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var l=i[o];jn=l,Pv(l,r)}Ov(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:fi(8,i,i.return),Ll(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Ll(i));break;default:Ll(i)}r=r.sibling}}function Pv(r,i){for(;jn!==null;){var o=jn;switch(o.tag){case 0:case 11:case 15:fi(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var l=o.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Po(o.memoizedState.cache)}if(l=o.child,l!==null)l.return=o,jn=l;else e:for(o=r;jn!==null;){l=jn;var h=l.sibling,m=l.return;if(Sv(l),l===o){jn=null;break e}if(h!==null){h.return=m,jn=h;break e}jn=m}}}var sR={getCacheForType:function(r){var i=Un(Sn),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o},cacheSignal:function(){return Un(Sn).controller.signal}},iR=typeof WeakMap=="function"?WeakMap:Map,It=0,Kt=null,Et=null,Rt=0,$t=0,yr=null,di=!1,Ua=!1,Sh=!1,Bs=0,un=0,hi=0,Ki=0,_h=0,gr=0,Ia=0,Xo=null,ar=null,wh=!1,Ul=0,Nv=0,Il=1/0,zl=null,pi=null,Rn=0,mi=null,za=null,Hs=0,Ch=0,Eh=null,Dv=null,Qo=0,Th=null;function vr(){return(It&2)!==0&&Rt!==0?Rt&-Rt:L.T!==null?Nh():x()}function kv(){if(gr===0)if((Rt&536870912)===0||Mt){var r=Cs;Cs<<=1,(Cs&3932160)===0&&(Cs=262144),gr=r}else gr=536870912;return r=pr.current,r!==null&&(r.flags|=32),gr}function or(r,i,o){(r===Kt&&($t===2||$t===9)||r.cancelPendingCommit!==null)&&(Ba(r,0),yi(r,Rt,gr,!1)),Wr(r,o),((It&2)===0||r!==Kt)&&(r===Kt&&((It&2)===0&&(Ki|=o),un===4&&yi(r,Rt,gr,!1)),rs(r))}function jv(r,i,o){if((It&6)!==0)throw Error(s(327));var l=!o&&(i&127)===0&&(i&r.expiredLanes)===0||Xn(r,i),h=l?cR(r,i):Ah(r,i,!0),m=l;do{if(h===0){Ua&&!l&&yi(r,i,0,!1);break}else{if(o=r.current.alternate,m&&!aR(o)){h=Ah(r,i,!1),m=!1;continue}if(h===2){if(m=i,r.errorRecoveryDisabledLanes&m)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;e:{var O=r;h=Xo;var I=O.current.memoizedState.isDehydrated;if(I&&(Ba(O,w).flags|=256),w=Ah(O,w,!1),w!==2){if(Sh&&!I){O.errorRecoveryDisabledLanes|=m,Ki|=m,h=4;break e}m=ar,ar=h,m!==null&&(ar===null?ar=m:ar.push.apply(ar,m))}h=w}if(m=!1,h!==2)continue}}if(h===1){Ba(r,0),yi(r,i,0,!0);break}e:{switch(l=r,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:yi(l,i,gr,!di);break e;case 2:ar=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ul+300-ht(),10<h)){if(yi(l,i,gr,!di),Hn(l,0,!0)!==0)break e;Hs=i,l.timeoutHandle=dx(Lv.bind(null,l,o,ar,zl,wh,i,gr,Ki,Ia,di,m,"Throttled",-0,0),h);break e}Lv(l,o,ar,zl,wh,i,gr,Ki,Ia,di,m,null,-0,0)}}break}while(!0);rs(r)}function Lv(r,i,o,l,h,m,w,O,I,Q,oe,he,W,re){if(r.timeoutHandle=-1,he=i.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ts},Av(i,m,he);var $e=(m&62914560)===m?Ul-ht():(m&4194048)===m?Nv-ht():0;if($e=qR(he,$e),$e!==null){Hs=m,r.cancelPendingCommit=$e(qv.bind(null,r,i,m,o,l,h,w,O,I,oe,he,null,W,re)),yi(r,m,w,!Q);return}}qv(r,i,m,o,l,h,w,O,I)}function aR(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var l=0;l<o.length;l++){var h=o[l],m=h.getSnapshot;h=h.value;try{if(!dr(m(),h))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function yi(r,i,o,l){i&=~_h,i&=~Ki,r.suspendedLanes|=i,r.pingedLanes&=~i,l&&(r.warmLanes|=i),l=r.expirationTimes;for(var h=i;0<h;){var m=31-on(h),w=1<<m;l[m]=-1,h&=~w}o!==0&&be(r,o,i)}function Bl(){return(It&6)===0?(Zo(0),!1):!0}function Rh(){if(Et!==null){if($t===0)var r=Et.return;else r=Et,Ms=zi=null,Vd(r),Ma=null,Do=0,r=Et;for(;r!==null;)hv(r.alternate,r),r=r.return;Et=null}}function Ba(r,i){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,TR(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Hs=0,Rh(),Kt=r,Et=o=As(r.current,null),Rt=i,$t=0,yr=null,di=!1,Ua=Xn(r,i),Sh=!1,Ia=gr=_h=Ki=hi=un=0,ar=Xo=null,wh=!1,(i&8)!==0&&(i|=i&32);var l=r.entangledLanes;if(l!==0)for(r=r.entanglements,l&=i;0<l;){var h=31-on(l),m=1<<h;i|=r[h],l&=~m}return Bs=i,ol(),o}function Uv(r,i){yt=null,L.H=Ho,i===Oa||i===ml?(i=Wg(),$t=3):i===Pd?(i=Wg(),$t=4):$t=i===ih?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yr=i,Et===null&&(un=1,Ol(r,Tr(i,r.current)))}function Iv(){var r=pr.current;return r===null?!0:(Rt&4194048)===Rt?Mr===null:(Rt&62914560)===Rt||(Rt&536870912)!==0?r===Mr:!1}function zv(){var r=L.H;return L.H=Ho,r===null?Ho:r}function Bv(){var r=L.A;return L.A=sR,r}function Hl(){un=4,di||(Rt&4194048)!==Rt&&pr.current!==null||(Ua=!0),(hi&134217727)===0&&(Ki&134217727)===0||Kt===null||yi(Kt,Rt,gr,!1)}function Ah(r,i,o){var l=It;It|=2;var h=zv(),m=Bv();(Kt!==r||Rt!==i)&&(zl=null,Ba(r,i)),i=!1;var w=un;e:do try{if($t!==0&&Et!==null){var O=Et,I=yr;switch($t){case 8:Rh(),w=6;break e;case 3:case 2:case 9:case 6:pr.current===null&&(i=!0);var Q=$t;if($t=0,yr=null,Ha(r,O,I,Q),o&&Ua){w=0;break e}break;default:Q=$t,$t=0,yr=null,Ha(r,O,I,Q)}}oR(),w=un;break}catch(oe){Uv(r,oe)}while(!0);return i&&r.shellSuspendCounter++,Ms=zi=null,It=l,L.H=h,L.A=m,Et===null&&(Kt=null,Rt=0,ol()),w}function oR(){for(;Et!==null;)Hv(Et)}function cR(r,i){var o=It;It|=2;var l=zv(),h=Bv();Kt!==r||Rt!==i?(zl=null,Il=ht()+500,Ba(r,i)):Ua=Xn(r,i);e:do try{if($t!==0&&Et!==null){i=Et;var m=yr;t:switch($t){case 1:$t=0,yr=null,Ha(r,i,m,1);break;case 2:case 9:if(Zg(m)){$t=0,yr=null,$v(i);break}i=function(){$t!==2&&$t!==9||Kt!==r||($t=7),rs(r)},m.then(i,i);break e;case 3:$t=7;break e;case 4:$t=5;break e;case 7:Zg(m)?($t=0,yr=null,$v(i)):($t=0,yr=null,Ha(r,i,m,7));break;case 5:var w=null;switch(Et.tag){case 26:w=Et.memoizedState;case 5:case 27:var O=Et;if(w?Rx(w):O.stateNode.complete){$t=0,yr=null;var I=O.sibling;if(I!==null)Et=I;else{var Q=O.return;Q!==null?(Et=Q,$l(Q)):Et=null}break t}}$t=0,yr=null,Ha(r,i,m,5);break;case 6:$t=0,yr=null,Ha(r,i,m,6);break;case 8:Rh(),un=6;break e;default:throw Error(s(462))}}lR();break}catch(oe){Uv(r,oe)}while(!0);return Ms=zi=null,L.H=l,L.A=h,It=o,Et!==null?0:(Kt=null,Rt=0,ol(),un)}function lR(){for(;Et!==null&&!xn();)Hv(Et)}function Hv(r){var i=fv(r.alternate,r,Bs);r.memoizedProps=r.pendingProps,i===null?$l(r):Et=i}function $v(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=iv(o,i,i.pendingProps,i.type,void 0,Rt);break;case 11:i=iv(o,i,i.pendingProps,i.type.render,i.ref,Rt);break;case 5:Vd(i);default:hv(o,i),i=Et=Bg(i,Bs),i=fv(o,i,Bs)}r.memoizedProps=r.pendingProps,i===null?$l(r):Et=i}function Ha(r,i,o,l){Ms=zi=null,Vd(i),Ma=null,Do=0;var h=i.return;try{if(ZT(r,h,i,o,Rt)){un=1,Ol(r,Tr(o,r.current)),Et=null;return}}catch(m){if(h!==null)throw Et=h,m;un=1,Ol(r,Tr(o,r.current)),Et=null;return}i.flags&32768?(Mt||l===1?r=!0:Ua||(Rt&536870912)!==0?r=!1:(di=r=!0,(l===2||l===9||l===3||l===6)&&(l=pr.current,l!==null&&l.tag===13&&(l.flags|=16384))),Vv(i,r)):$l(i)}function $l(r){var i=r;do{if((i.flags&32768)!==0){Vv(i,di);return}r=i.return;var o=eR(i.alternate,i,Bs);if(o!==null){Et=o;return}if(i=i.sibling,i!==null){Et=i;return}Et=i=r}while(i!==null);un===0&&(un=5)}function Vv(r,i){do{var o=tR(r.alternate,r);if(o!==null){o.flags&=32767,Et=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){Et=r;return}Et=r=o}while(r!==null);un=6,Et=null}function qv(r,i,o,l,h,m,w,O,I){r.cancelPendingCommit=null;do Vl();while(Rn!==0);if((It&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=yd,se(r,o,m,w,O,I),r===Kt&&(Et=Kt=null,Rt=0),za=i,mi=r,Hs=o,Ch=m,Eh=h,Dv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,hR(Pn,function(){return Xv(),null})):(r.callbackNode=null,r.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,h=ee.p,ee.p=2,w=It,It|=4;try{nR(r,i,o)}finally{It=w,ee.p=h,L.T=l}}Rn=1,Fv(),Yv(),Gv()}}function Fv(){if(Rn===1){Rn=0;var r=mi,i=za,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=L.T,L.T=null;var l=ee.p;ee.p=2;var h=It;It|=4;try{Ev(i,r);var m=Bh,w=Pg(r.containerInfo),O=m.focusedElem,I=m.selectionRange;if(w!==O&&O&&O.ownerDocument&&Mg(O.ownerDocument.documentElement,O)){if(I!==null&&fd(O)){var Q=I.start,oe=I.end;if(oe===void 0&&(oe=Q),"selectionStart"in O)O.selectionStart=Q,O.selectionEnd=Math.min(oe,O.value.length);else{var he=O.ownerDocument||document,W=he&&he.defaultView||window;if(W.getSelection){var re=W.getSelection(),$e=O.textContent.length,tt=Math.min(I.start,$e),Gt=I.end===void 0?tt:Math.min(I.end,$e);!re.extend&&tt>Gt&&(w=Gt,Gt=tt,tt=w);var q=Og(O,tt),H=Og(O,Gt);if(q&&H&&(re.rangeCount!==1||re.anchorNode!==q.node||re.anchorOffset!==q.offset||re.focusNode!==H.node||re.focusOffset!==H.offset)){var X=he.createRange();X.setStart(q.node,q.offset),re.removeAllRanges(),tt>Gt?(re.addRange(X),re.extend(H.node,H.offset)):(X.setEnd(H.node,H.offset),re.addRange(X))}}}}for(he=[],re=O;re=re.parentNode;)re.nodeType===1&&he.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<he.length;O++){var ue=he[O];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}tu=!!zh,Bh=zh=null}finally{It=h,ee.p=l,L.T=o}}r.current=i,Rn=2}}function Yv(){if(Rn===2){Rn=0;var r=mi,i=za,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=L.T,L.T=null;var l=ee.p;ee.p=2;var h=It;It|=4;try{bv(r,i.alternate,i)}finally{It=h,ee.p=l,L.T=o}}Rn=3}}function Gv(){if(Rn===4||Rn===3){Rn=0,at();var r=mi,i=za,o=Hs,l=Dv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Rn=5:(Rn=0,za=mi=null,Kv(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(pi=null),A(o),i=i.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Kn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=L.T,h=ee.p,ee.p=2,L.T=null;try{for(var m=r.onRecoverableError,w=0;w<l.length;w++){var O=l[w];m(O.value,{componentStack:O.stack})}}finally{L.T=i,ee.p=h}}(Hs&3)!==0&&Vl(),rs(r),h=r.pendingLanes,(o&261930)!==0&&(h&42)!==0?r===Th?Qo++:(Qo=0,Th=r):Qo=0,Zo(0)}}function Kv(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Po(i)))}function Vl(){return Fv(),Yv(),Gv(),Xv()}function Xv(){if(Rn!==5)return!1;var r=mi,i=Ch;Ch=0;var o=A(Hs),l=L.T,h=ee.p;try{ee.p=32>o?32:o,L.T=null,o=Eh,Eh=null;var m=mi,w=Hs;if(Rn=0,za=mi=null,Hs=0,(It&6)!==0)throw Error(s(331));var O=It;if(It|=4,Mv(m.current),Rv(m,m.current,w,o),It=O,Zo(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Kn,m)}catch{}return!0}finally{ee.p=h,L.T=l,Kv(r,i)}}function Qv(r,i,o){i=Tr(o,i),i=sh(r.stateNode,i,2),r=ci(r,i,2),r!==null&&(Wr(r,2),rs(r))}function Vt(r,i,o){if(r.tag===3)Qv(r,r,o);else for(;i!==null;){if(i.tag===3){Qv(i,r,o);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(pi===null||!pi.has(l))){r=Tr(o,r),o=Z0(2),l=ci(i,o,2),l!==null&&(J0(o,l,i,r),Wr(l,2),rs(l));break}}i=i.return}}function Oh(r,i,o){var l=r.pingCache;if(l===null){l=r.pingCache=new iR;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(o)||(Sh=!0,h.add(o),r=uR.bind(null,r,i,o),i.then(r,r))}function uR(r,i,o){var l=r.pingCache;l!==null&&l.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Kt===r&&(Rt&o)===o&&(un===4||un===3&&(Rt&62914560)===Rt&&300>ht()-Ul?(It&2)===0&&Ba(r,0):_h|=o,Ia===Rt&&(Ia=0)),rs(r)}function Zv(r,i){i===0&&(i=Es()),r=Li(r,i),r!==null&&(Wr(r,i),rs(r))}function fR(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),Zv(r,o)}function dR(r,i){var o=0;switch(r.tag){case 31:case 13:var l=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:l=r.stateNode;break;case 22:l=r.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Zv(r,o)}function hR(r,i){return Ut(r,i)}var ql=null,$a=null,Mh=!1,Fl=!1,Ph=!1,gi=0;function rs(r){r!==$a&&r.next===null&&($a===null?ql=$a=r:$a=$a.next=r),Fl=!0,Mh||(Mh=!0,mR())}function Zo(r,i){if(!Ph&&Fl){Ph=!0;do for(var o=!1,l=ql;l!==null;){if(r!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var w=l.suspendedLanes,O=l.pingedLanes;m=(1<<31-on(42|r)+1)-1,m&=h&~(w&~O),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,tx(l,m))}else m=Rt,m=Hn(l,l===Kt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Xn(l,m)||(o=!0,tx(l,m));l=l.next}while(o);Ph=!1}}function pR(){Jv()}function Jv(){Fl=Mh=!1;var r=0;gi!==0&&ER()&&(r=gi);for(var i=ht(),o=null,l=ql;l!==null;){var h=l.next,m=Wv(l,i);m===0?(l.next=null,o===null?ql=h:o.next=h,h===null&&($a=o)):(o=l,(r!==0||(m&3)!==0)&&(Fl=!0)),l=h}Rn!==0&&Rn!==5||Zo(r),gi!==0&&(gi=0)}function Wv(r,i){for(var o=r.suspendedLanes,l=r.pingedLanes,h=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var w=31-on(m),O=1<<w,I=h[w];I===-1?((O&o)===0||(O&l)!==0)&&(h[w]=Ir(O,i)):I<=i&&(r.expiredLanes|=O),m&=~O}if(i=Kt,o=Rt,o=Hn(r,r===i?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l=r.callbackNode,o===0||r===i&&($t===2||$t===9)||r.cancelPendingCommit!==null)return l!==null&&l!==null&&Xt(l),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Xn(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(l!==null&&Xt(l),A(o)){case 2:case 8:o=Gn;break;case 32:o=Pn;break;case 268435456:o=bs;break;default:o=Pn}return l=ex.bind(null,r),o=Ut(o,l),r.callbackPriority=i,r.callbackNode=o,i}return l!==null&&l!==null&&Xt(l),r.callbackPriority=2,r.callbackNode=null,2}function ex(r,i){if(Rn!==0&&Rn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Vl()&&r.callbackNode!==o)return null;var l=Rt;return l=Hn(r,r===Kt?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l===0?null:(jv(r,l,i),Wv(r,ht()),r.callbackNode!=null&&r.callbackNode===o?ex.bind(null,r):null)}function tx(r,i){if(Vl())return null;jv(r,i,!0)}function mR(){RR(function(){(It&6)!==0?Ut(Tn,pR):Jv()})}function Nh(){if(gi===0){var r=Ra;r===0&&(r=Zr,Zr<<=1,(Zr&261888)===0&&(Zr=256)),gi=r}return gi}function nx(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Wc(""+r)}function rx(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function yR(r,i,o,l,h){if(i==="submit"&&o&&o.stateNode===h){var m=nx((h[ae]||null).action),w=l.submitter;w&&(i=(i=w[ae]||null)?nx(i.formAction):w.getAttribute("formAction"),i!==null&&(m=i,w=null));var O=new rl("action","action",null,l,h);r.push({event:O,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(gi!==0){var I=w?rx(h,w):new FormData(h);Jd(o,{pending:!0,data:I,method:h.method,action:m},null,I)}}else typeof m=="function"&&(O.preventDefault(),I=w?rx(h,w):new FormData(h),Jd(o,{pending:!0,data:I,method:h.method,action:m},m,I))},currentTarget:h}]})}}for(var Dh=0;Dh<md.length;Dh++){var kh=md[Dh],gR=kh.toLowerCase(),vR=kh[0].toUpperCase()+kh.slice(1);zr(gR,"on"+vR)}zr(kg,"onAnimationEnd"),zr(jg,"onAnimationIteration"),zr(Lg,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(kT,"onTransitionRun"),zr(jT,"onTransitionStart"),zr(LT,"onTransitionCancel"),zr(Ug,"onTransitionEnd"),De("onMouseEnter",["mouseout","mouseover"]),De("onMouseLeave",["mouseout","mouseover"]),De("onPointerEnter",["pointerout","pointerover"]),De("onPointerLeave",["pointerout","pointerover"]),Ae("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ae("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ae("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ae("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ae("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ae("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jo));function sx(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var l=r[o],h=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var w=l.length-1;0<=w;w--){var O=l[w],I=O.instance,Q=O.currentTarget;if(O=O.listener,I!==m&&h.isPropagationStopped())break e;m=O,h.currentTarget=Q;try{m(h)}catch(oe){al(oe)}h.currentTarget=null,m=I}else for(w=0;w<l.length;w++){if(O=l[w],I=O.instance,Q=O.currentTarget,O=O.listener,I!==m&&h.isPropagationStopped())break e;m=O,h.currentTarget=Q;try{m(h)}catch(oe){al(oe)}h.currentTarget=null,m=I}}}}function Tt(r,i){var o=i[Be];o===void 0&&(o=i[Be]=new Set);var l=r+"__bubble";o.has(l)||(ix(i,r,2,!1),o.add(l))}function jh(r,i,o){var l=0;i&&(l|=4),ix(o,r,l,i)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function Lh(r){if(!r[Yl]){r[Yl]=!0,Ue.forEach(function(o){o!=="selectionchange"&&(xR.has(o)||jh(o,!1,r),jh(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Yl]||(i[Yl]=!0,jh("selectionchange",!1,i))}}function ix(r,i,o,l){switch(kx(i)){case 2:var h=GR;break;case 8:h=KR;break;default:h=Zh}o=h.bind(null,i,o,r),h=void 0,!nd||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?r.addEventListener(i,o,{capture:!0,passive:h}):r.addEventListener(i,o,!0):h!==void 0?r.addEventListener(i,o,{passive:h}):r.addEventListener(i,o,!1)}function Uh(r,i,o,l,h){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var O=l.stateNode.containerInfo;if(O===h)break;if(w===4)for(w=l.return;w!==null;){var I=w.tag;if((I===3||I===4)&&w.stateNode.containerInfo===h)return;w=w.return}for(;O!==null;){if(w=ot(O),w===null)return;if(I=w.tag,I===5||I===6||I===26||I===27){l=m=w;continue e}O=O.parentNode}}l=l.return}ug(function(){var Q=m,oe=ed(o),he=[];e:{var W=Ig.get(r);if(W!==void 0){var re=rl,$e=r;switch(r){case"keypress":if(tl(o)===0)break e;case"keydown":case"keyup":re=dT;break;case"focusin":$e="focus",re=ad;break;case"focusout":$e="blur",re=ad;break;case"beforeblur":case"afterblur":re=ad;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=hg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=eT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=mT;break;case kg:case jg:case Lg:re=rT;break;case Ug:re=gT;break;case"scroll":case"scrollend":re=JE;break;case"wheel":re=xT;break;case"copy":case"cut":case"paste":re=iT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=mg;break;case"toggle":case"beforetoggle":re=ST}var tt=(i&4)!==0,Gt=!tt&&(r==="scroll"||r==="scrollend"),q=tt?W!==null?W+"Capture":null:W;tt=[];for(var H=Q,X;H!==null;){var ue=H;if(X=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||X===null||q===null||(ue=bo(H,q),ue!=null&&tt.push(Wo(H,ue,X))),Gt)break;H=H.return}0<tt.length&&(W=new re(W,$e,null,o,oe),he.push({event:W,listeners:tt}))}}if((i&7)===0){e:{if(W=r==="mouseover"||r==="pointerover",re=r==="mouseout"||r==="pointerout",W&&o!==Wf&&($e=o.relatedTarget||o.fromElement)&&(ot($e)||$e[we]))break e;if((re||W)&&(W=oe.window===oe?oe:(W=oe.ownerDocument)?W.defaultView||W.parentWindow:window,re?($e=o.relatedTarget||o.toElement,re=Q,$e=$e?ot($e):null,$e!==null&&(Gt=c($e),tt=$e.tag,$e!==Gt||tt!==5&&tt!==27&&tt!==6)&&($e=null)):(re=null,$e=Q),re!==$e)){if(tt=hg,ue="onMouseLeave",q="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(tt=mg,ue="onPointerLeave",q="onPointerEnter",H="pointer"),Gt=re==null?W:We(re),X=$e==null?W:We($e),W=new tt(ue,H+"leave",re,o,oe),W.target=Gt,W.relatedTarget=X,ue=null,ot(oe)===Q&&(tt=new tt(q,H+"enter",$e,o,oe),tt.target=X,tt.relatedTarget=Gt,ue=tt),Gt=ue,re&&$e)t:{for(tt=bR,q=re,H=$e,X=0,ue=q;ue;ue=tt(ue))X++;ue=0;for(var Ze=H;Ze;Ze=tt(Ze))ue++;for(;0<X-ue;)q=tt(q),X--;for(;0<ue-X;)H=tt(H),ue--;for(;X--;){if(q===H||H!==null&&q===H.alternate){tt=q;break t}q=tt(q),H=tt(H)}tt=null}else tt=null;re!==null&&ax(he,W,re,tt,!1),$e!==null&&Gt!==null&&ax(he,Gt,$e,tt,!0)}}e:{if(W=Q?We(Q):window,re=W.nodeName&&W.nodeName.toLowerCase(),re==="select"||re==="input"&&W.type==="file")var kt=wg;else if(Sg(W))if(Cg)kt=PT;else{kt=OT;var Ge=AT}else re=W.nodeName,!re||re.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Q&&bn(Q.elementType)&&(kt=wg):kt=MT;if(kt&&(kt=kt(r,Q))){_g(he,kt,o,oe);break e}Ge&&Ge(r,W,Q),r==="focusout"&&Q&&W.type==="number"&&Q.memoizedProps.value!=null&&wt(W,"number",W.value)}switch(Ge=Q?We(Q):window,r){case"focusin":(Sg(Ge)||Ge.contentEditable==="true")&&(xa=Ge,dd=Q,Ao=null);break;case"focusout":Ao=dd=xa=null;break;case"mousedown":hd=!0;break;case"contextmenu":case"mouseup":case"dragend":hd=!1,Ng(he,o,oe);break;case"selectionchange":if(DT)break;case"keydown":case"keyup":Ng(he,o,oe)}var bt;if(cd)e:{switch(r){case"compositionstart":var At="onCompositionStart";break e;case"compositionend":At="onCompositionEnd";break e;case"compositionupdate":At="onCompositionUpdate";break e}At=void 0}else va?xg(r,o)&&(At="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(At="onCompositionStart");At&&(yg&&o.locale!=="ko"&&(va||At!=="onCompositionStart"?At==="onCompositionEnd"&&va&&(bt=fg()):(ti=oe,rd="value"in ti?ti.value:ti.textContent,va=!0)),Ge=Gl(Q,At),0<Ge.length&&(At=new pg(At,r,null,o,oe),he.push({event:At,listeners:Ge}),bt?At.data=bt:(bt=bg(o),bt!==null&&(At.data=bt)))),(bt=wT?CT(r,o):ET(r,o))&&(At=Gl(Q,"onBeforeInput"),0<At.length&&(Ge=new pg("onBeforeInput","beforeinput",null,o,oe),he.push({event:Ge,listeners:At}),Ge.data=bt)),yR(he,r,Q,o,oe)}sx(he,i)})}function Wo(r,i,o){return{instance:r,listener:i,currentTarget:o}}function Gl(r,i){for(var o=i+"Capture",l=[];r!==null;){var h=r,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=bo(r,o),h!=null&&l.unshift(Wo(r,h,m)),h=bo(r,i),h!=null&&l.push(Wo(r,h,m))),r.tag===3)return l;r=r.return}return[]}function bR(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function ax(r,i,o,l,h){for(var m=i._reactName,w=[];o!==null&&o!==l;){var O=o,I=O.alternate,Q=O.stateNode;if(O=O.tag,I!==null&&I===l)break;O!==5&&O!==26&&O!==27||Q===null||(I=Q,h?(Q=bo(o,m),Q!=null&&w.unshift(Wo(o,Q,I))):h||(Q=bo(o,m),Q!=null&&w.push(Wo(o,Q,I)))),o=o.return}w.length!==0&&r.push({event:i,listeners:w})}var SR=/\r\n?/g,_R=/\u0000|\uFFFD/g;function ox(r){return(typeof r=="string"?r:""+r).replace(SR,`
`).replace(_R,"")}function cx(r,i){return i=ox(i),ox(r)===i}function Yt(r,i,o,l,h,m){switch(o){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Ht(r,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Ht(r,""+l);break;case"className":de(r,"class",l);break;case"tabIndex":de(r,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":de(r,o,l);break;case"style":cn(r,l,m);break;case"data":if(i!=="object"){de(r,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(o);break}l=Wc(""+l),r.setAttribute(o,l);break;case"action":case"formAction":if(typeof l=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(i!=="input"&&Yt(r,i,"name",h.name,h,null),Yt(r,i,"formEncType",h.formEncType,h,null),Yt(r,i,"formMethod",h.formMethod,h,null),Yt(r,i,"formTarget",h.formTarget,h,null)):(Yt(r,i,"encType",h.encType,h,null),Yt(r,i,"method",h.method,h,null),Yt(r,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(o);break}l=Wc(""+l),r.setAttribute(o,l);break;case"onClick":l!=null&&(r.onclick=Ts);break;case"onScroll":l!=null&&Tt("scroll",r);break;case"onScrollEnd":l!=null&&Tt("scrollend",r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(o=l.__html,o!=null){if(h.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"multiple":r.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":r.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){r.removeAttribute("xlink:href");break}o=Wc(""+l),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,""+l):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":l===!0?r.setAttribute(o,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,l):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?r.setAttribute(o,l):r.removeAttribute(o);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?r.removeAttribute(o):r.setAttribute(o,l);break;case"popover":Tt("beforetoggle",r),Tt("toggle",r),ye(r,"popover",l);break;case"xlinkActuate":ce(r,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ce(r,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ce(r,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ce(r,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ce(r,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ce(r,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ce(r,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ce(r,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ce(r,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ye(r,"is",l);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Dn.get(o)||o,ye(r,o,l))}}function Ih(r,i,o,l,h,m){switch(o){case"style":cn(r,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(o=l.__html,o!=null){if(h.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"children":typeof l=="string"?Ht(r,l):(typeof l=="number"||typeof l=="bigint")&&Ht(r,""+l);break;case"onScroll":l!=null&&Tt("scroll",r);break;case"onScrollEnd":l!=null&&Tt("scrollend",r);break;case"onClick":l!=null&&(r.onclick=Ts);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xe.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),i=o.slice(2,h?o.length-7:void 0),m=r[ae]||null,m=m!=null?m[o]:null,typeof m=="function"&&r.removeEventListener(i,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,l,h);break e}o in r?r[o]=l:l===!0?r.setAttribute(o,""):ye(r,o,l)}}}function zn(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tt("error",r),Tt("load",r);var l=!1,h=!1,m;for(m in o)if(o.hasOwnProperty(m)){var w=o[m];if(w!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(r,i,m,w,o,null)}}h&&Yt(r,i,"srcSet",o.srcSet,o,null),l&&Yt(r,i,"src",o.src,o,null);return;case"input":Tt("invalid",r);var O=m=w=h=null,I=null,Q=null;for(l in o)if(o.hasOwnProperty(l)){var oe=o[l];if(oe!=null)switch(l){case"name":h=oe;break;case"type":w=oe;break;case"checked":I=oe;break;case"defaultChecked":Q=oe;break;case"value":m=oe;break;case"defaultValue":O=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,i));break;default:Yt(r,i,l,oe,o,null)}}pt(r,m,O,I,Q,w,h,!1);return;case"select":Tt("invalid",r),l=w=m=null;for(h in o)if(o.hasOwnProperty(h)&&(O=o[h],O!=null))switch(h){case"value":m=O;break;case"defaultValue":w=O;break;case"multiple":l=O;default:Yt(r,i,h,O,o,null)}i=m,o=w,r.multiple=!!l,i!=null?xt(r,!!l,i,!1):o!=null&&xt(r,!!l,o,!0);return;case"textarea":Tt("invalid",r),m=h=l=null;for(w in o)if(o.hasOwnProperty(w)&&(O=o[w],O!=null))switch(w){case"value":l=O;break;case"defaultValue":h=O;break;case"children":m=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(91));break;default:Yt(r,i,w,O,o,null)}Dt(r,l,h,m);return;case"option":for(I in o)if(o.hasOwnProperty(I)&&(l=o[I],l!=null))switch(I){case"selected":r.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(r,i,I,l,o,null)}return;case"dialog":Tt("beforetoggle",r),Tt("toggle",r),Tt("cancel",r),Tt("close",r);break;case"iframe":case"object":Tt("load",r);break;case"video":case"audio":for(l=0;l<Jo.length;l++)Tt(Jo[l],r);break;case"image":Tt("error",r),Tt("load",r);break;case"details":Tt("toggle",r);break;case"embed":case"source":case"link":Tt("error",r),Tt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(l=o[Q],l!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(r,i,Q,l,o,null)}return;default:if(bn(i)){for(oe in o)o.hasOwnProperty(oe)&&(l=o[oe],l!==void 0&&Ih(r,i,oe,l,o,void 0));return}}for(O in o)o.hasOwnProperty(O)&&(l=o[O],l!=null&&Yt(r,i,O,l,o,null))}function wR(r,i,o,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,w=null,O=null,I=null,Q=null,oe=null;for(re in o){var he=o[re];if(o.hasOwnProperty(re)&&he!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":I=he;default:l.hasOwnProperty(re)||Yt(r,i,re,null,l,he)}}for(var W in l){var re=l[W];if(he=o[W],l.hasOwnProperty(W)&&(re!=null||he!=null))switch(W){case"type":m=re;break;case"name":h=re;break;case"checked":Q=re;break;case"defaultChecked":oe=re;break;case"value":w=re;break;case"defaultValue":O=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,i));break;default:re!==he&&Yt(r,i,W,re,l,he)}}Ct(r,w,O,I,Q,oe,m,h);return;case"select":re=w=O=W=null;for(m in o)if(I=o[m],o.hasOwnProperty(m)&&I!=null)switch(m){case"value":break;case"multiple":re=I;default:l.hasOwnProperty(m)||Yt(r,i,m,null,l,I)}for(h in l)if(m=l[h],I=o[h],l.hasOwnProperty(h)&&(m!=null||I!=null))switch(h){case"value":W=m;break;case"defaultValue":O=m;break;case"multiple":w=m;default:m!==I&&Yt(r,i,h,m,l,I)}i=O,o=w,l=re,W!=null?xt(r,!!o,W,!1):!!l!=!!o&&(i!=null?xt(r,!!o,i,!0):xt(r,!!o,o?[]:"",!1));return;case"textarea":re=W=null;for(O in o)if(h=o[O],o.hasOwnProperty(O)&&h!=null&&!l.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Yt(r,i,O,null,l,h)}for(w in l)if(h=l[w],m=o[w],l.hasOwnProperty(w)&&(h!=null||m!=null))switch(w){case"value":W=h;break;case"defaultValue":re=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&Yt(r,i,w,h,l,m)}nn(r,W,re);return;case"option":for(var $e in o)if(W=o[$e],o.hasOwnProperty($e)&&W!=null&&!l.hasOwnProperty($e))switch($e){case"selected":r.selected=!1;break;default:Yt(r,i,$e,null,l,W)}for(I in l)if(W=l[I],re=o[I],l.hasOwnProperty(I)&&W!==re&&(W!=null||re!=null))switch(I){case"selected":r.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:Yt(r,i,I,W,l,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in o)W=o[tt],o.hasOwnProperty(tt)&&W!=null&&!l.hasOwnProperty(tt)&&Yt(r,i,tt,null,l,W);for(Q in l)if(W=l[Q],re=o[Q],l.hasOwnProperty(Q)&&W!==re&&(W!=null||re!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:Yt(r,i,Q,W,l,re)}return;default:if(bn(i)){for(var Gt in o)W=o[Gt],o.hasOwnProperty(Gt)&&W!==void 0&&!l.hasOwnProperty(Gt)&&Ih(r,i,Gt,void 0,l,W);for(oe in l)W=l[oe],re=o[oe],!l.hasOwnProperty(oe)||W===re||W===void 0&&re===void 0||Ih(r,i,oe,W,l,re);return}}for(var q in o)W=o[q],o.hasOwnProperty(q)&&W!=null&&!l.hasOwnProperty(q)&&Yt(r,i,q,null,l,W);for(he in l)W=l[he],re=o[he],!l.hasOwnProperty(he)||W===re||W==null&&re==null||Yt(r,i,he,W,l,re)}function lx(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CR(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,o=performance.getEntriesByType("resource"),l=0;l<o.length;l++){var h=o[l],m=h.transferSize,w=h.initiatorType,O=h.duration;if(m&&O&&lx(w)){for(w=0,O=h.responseEnd,l+=1;l<o.length;l++){var I=o[l],Q=I.startTime;if(Q>O)break;var oe=I.transferSize,he=I.initiatorType;oe&&lx(he)&&(I=I.responseEnd,w+=oe*(I<O?1:(O-Q)/(I-Q)))}if(--l,i+=8*(m+w)/(h.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var zh=null,Bh=null;function Kl(r){return r.nodeType===9?r:r.ownerDocument}function ux(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fx(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Hh(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var $h=null;function ER(){var r=window.event;return r&&r.type==="popstate"?r===$h?!1:($h=r,!0):($h=null,!1)}var dx=typeof setTimeout=="function"?setTimeout:void 0,TR=typeof clearTimeout=="function"?clearTimeout:void 0,hx=typeof Promise=="function"?Promise:void 0,RR=typeof queueMicrotask=="function"?queueMicrotask:typeof hx<"u"?function(r){return hx.resolve(null).then(r).catch(AR)}:dx;function AR(r){setTimeout(function(){throw r})}function vi(r){return r==="head"}function px(r,i){var o=i,l=0;do{var h=o.nextSibling;if(r.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"||o==="/&"){if(l===0){r.removeChild(h),Ya(i);return}l--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")l++;else if(o==="html")ec(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,ec(o);for(var m=o.firstChild;m;){var w=m.nextSibling,O=m.nodeName;m[Je]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=w}}else o==="body"&&ec(r.ownerDocument.body);o=h}while(o);Ya(i)}function mx(r,i){var o=r;r=0;do{var l=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),l&&l.nodeType===8)if(o=l.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=l}while(o)}function Vh(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Vh(o),rt(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function OR(r,i,o,l){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(l){if(!r[Je])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=Pr(r.nextSibling),r===null)break}return null}function MR(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Pr(r.nextSibling),r===null))return null;return r}function yx(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=Pr(r.nextSibling),r===null))return null;return r}function qh(r){return r.data==="$?"||r.data==="$~"}function Fh(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function PR(r,i){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||o.readyState!=="loading")i();else{var l=function(){i(),o.removeEventListener("DOMContentLoaded",l)};o.addEventListener("DOMContentLoaded",l),r._reactRetry=l}}function Pr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var Yh=null;function gx(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(i===0)return Pr(r.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}r=r.nextSibling}return null}function vx(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return r;i--}else o!=="/$"&&o!=="/&"||i++}r=r.previousSibling}return null}function xx(r,i,o){switch(i=Kl(o),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function ec(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);rt(r)}var Nr=new Map,bx=new Set;function Xl(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var $s=ee.d;ee.d={f:NR,r:DR,D:kR,C:jR,L:LR,m:UR,X:zR,S:IR,M:BR};function NR(){var r=$s.f(),i=Bl();return r||i}function DR(r){var i=st(r);i!==null&&i.tag===5&&i.type==="form"?U0(i):$s.r(r)}var Va=typeof document>"u"?null:document;function Sx(r,i,o){var l=Va;if(l&&typeof i=="string"&&i){var h=ct(i);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),bx.has(h)||(bx.add(h),r={rel:r,crossOrigin:o,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),zn(i,"link",r),He(i),l.head.appendChild(i)))}}function kR(r){$s.D(r),Sx("dns-prefetch",r,null)}function jR(r,i){$s.C(r,i),Sx("preconnect",r,i)}function LR(r,i,o){$s.L(r,i,o);var l=Va;if(l&&r&&i){var h='link[rel="preload"][as="'+ct(i)+'"]';i==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+ct(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+ct(o.imageSizes)+'"]')):h+='[href="'+ct(r)+'"]';var m=h;switch(i){case"style":m=qa(r);break;case"script":m=Fa(r)}Nr.has(m)||(r=g({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),Nr.set(m,r),l.querySelector(h)!==null||i==="style"&&l.querySelector(tc(m))||i==="script"&&l.querySelector(nc(m))||(i=l.createElement("link"),zn(i,"link",r),He(i),l.head.appendChild(i)))}}function UR(r,i){$s.m(r,i);var o=Va;if(o&&r){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ct(l)+'"][href="'+ct(r)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Fa(r)}if(!Nr.has(m)&&(r=g({rel:"modulepreload",href:r},i),Nr.set(m,r),o.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(nc(m)))return}l=o.createElement("link"),zn(l,"link",r),He(l),o.head.appendChild(l)}}}function IR(r,i,o){$s.S(r,i,o);var l=Va;if(l&&r){var h=et(l).hoistableStyles,m=qa(r);i=i||"default";var w=h.get(m);if(!w){var O={loading:0,preload:null};if(w=l.querySelector(tc(m)))O.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":i},o),(o=Nr.get(m))&&Gh(r,o);var I=w=l.createElement("link");He(I),zn(I,"link",r),I._p=new Promise(function(Q,oe){I.onload=Q,I.onerror=oe}),I.addEventListener("load",function(){O.loading|=1}),I.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Ql(w,i,l)}w={type:"stylesheet",instance:w,count:1,state:O},h.set(m,w)}}}function zR(r,i){$s.X(r,i);var o=Va;if(o&&r){var l=et(o).hoistableScripts,h=Fa(r),m=l.get(h);m||(m=o.querySelector(nc(h)),m||(r=g({src:r,async:!0},i),(i=Nr.get(h))&&Kh(r,i),m=o.createElement("script"),He(m),zn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function BR(r,i){$s.M(r,i);var o=Va;if(o&&r){var l=et(o).hoistableScripts,h=Fa(r),m=l.get(h);m||(m=o.querySelector(nc(h)),m||(r=g({src:r,async:!0,type:"module"},i),(i=Nr.get(h))&&Kh(r,i),m=o.createElement("script"),He(m),zn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function _x(r,i,o,l){var h=(h=Ee.current)?Xl(h):null;if(!h)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=qa(o.href),o=et(h).hoistableStyles,l=o.get(i),l||(l={type:"style",instance:null,count:0,state:null},o.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=qa(o.href);var m=et(h).hoistableStyles,w=m.get(r);if(w||(h=h.ownerDocument||h,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,w),(m=h.querySelector(tc(r)))&&!m._p&&(w.instance=m,w.state.loading=5),Nr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Nr.set(r,o),m||HR(h,r,o,w.state))),i&&l===null)throw Error(s(528,""));return w}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Fa(o),o=et(h).hoistableScripts,l=o.get(i),l||(l={type:"script",instance:null,count:0,state:null},o.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function qa(r){return'href="'+ct(r)+'"'}function tc(r){return'link[rel="stylesheet"]['+r+"]"}function wx(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function HR(r,i,o,l){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=r.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),zn(i,"link",o),He(i),r.head.appendChild(i))}function Fa(r){return'[src="'+ct(r)+'"]'}function nc(r){return"script[async]"+r}function Cx(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var l=r.querySelector('style[data-href~="'+ct(o.href)+'"]');if(l)return i.instance=l,He(l),l;var h=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return l=(r.ownerDocument||r).createElement("style"),He(l),zn(l,"style",h),Ql(l,o.precedence,r),i.instance=l;case"stylesheet":h=qa(o.href);var m=r.querySelector(tc(h));if(m)return i.state.loading|=4,i.instance=m,He(m),m;l=wx(o),(h=Nr.get(h))&&Gh(l,h),m=(r.ownerDocument||r).createElement("link"),He(m);var w=m;return w._p=new Promise(function(O,I){w.onload=O,w.onerror=I}),zn(m,"link",l),i.state.loading|=4,Ql(m,o.precedence,r),i.instance=m;case"script":return m=Fa(o.src),(h=r.querySelector(nc(m)))?(i.instance=h,He(h),h):(l=o,(h=Nr.get(m))&&(l=g({},o),Kh(l,h)),r=r.ownerDocument||r,h=r.createElement("script"),He(h),zn(h,"link",l),r.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ql(l,o.precedence,r));return i.instance}function Ql(r,i,o){for(var l=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,w=0;w<l.length;w++){var O=l[w];if(O.dataset.precedence===i)m=O;else if(m!==h)break}m?m.parentNode.insertBefore(r,m.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function Gh(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Kh(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Zl=null;function Ex(r,i,o){if(Zl===null){var l=new Map,h=Zl=new Map;h.set(o,l)}else h=Zl,l=h.get(o),l||(l=new Map,h.set(o,l));if(l.has(r))return l;for(l.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var m=o[h];if(!(m[Je]||m[V]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var w=m.getAttribute(i)||"";w=r+w;var O=l.get(w);O?O.push(m):l.set(w,[m])}}return l}function Tx(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function $R(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Rx(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function VR(r,i,o,l){if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var h=qa(l.href),m=i.querySelector(tc(h));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=Jl.bind(r),i.then(r,r)),o.state.loading|=4,o.instance=m,He(m);return}m=i.ownerDocument||i,l=wx(l),(h=Nr.get(h))&&Gh(l,h),m=m.createElement("link"),He(m);var w=m;w._p=new Promise(function(O,I){w.onload=O,w.onerror=I}),zn(m,"link",l),o.instance=m}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=Jl.bind(r),i.addEventListener("load",o),i.addEventListener("error",o))}}var Xh=0;function qR(r,i){return r.stylesheets&&r.count===0&&eu(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var l=setTimeout(function(){if(r.stylesheets&&eu(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4+i);0<r.imgBytes&&Xh===0&&(Xh=62500*CR());var h=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&eu(r,r.stylesheets),r.unsuspend)){var m=r.unsuspend;r.unsuspend=null,m()}},(r.imgBytes>Xh?50:800)+i);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Jl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)eu(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Wl=null;function eu(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Wl=new Map,i.forEach(FR,r),Wl=null,Jl.call(r))}function FR(r,i){if(!(i.state.loading&4)){var o=Wl.get(r);if(o)var l=o.get(null);else{o=new Map,Wl.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var w=h[m];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),l=w)}l&&o.set(null,l)}h=i.instance,w=h.getAttribute("data-precedence"),m=o.get(w)||l,m===l&&o.set(null,h),o.set(w,h),this.count++,l=Jl.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),i.state.loading|=4}}var rc={$$typeof:k,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function YR(r,i,o,l,h,m,w,O,I){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jr(0),this.hiddenUpdates=Jr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Ax(r,i,o,l,h,m,w,O,I,Q,oe,he){return r=new YR(r,i,o,w,I,Q,oe,he,O),i=1,m===!0&&(i|=24),m=hr(3,null,null,i),r.current=m,m.stateNode=r,i=Ad(),i.refCount++,r.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:o,cache:i},Nd(m),r}function Ox(r){return r?(r=_a,r):_a}function Mx(r,i,o,l,h,m){h=Ox(h),l.context===null?l.context=h:l.pendingContext=h,l=oi(i),l.payload={element:o},m=m===void 0?null:m,m!==null&&(l.callback=m),o=ci(r,l,i),o!==null&&(or(o,r,i),jo(o,r,i))}function Px(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function Qh(r,i){Px(r,i),(r=r.alternate)&&Px(r,i)}function Nx(r){if(r.tag===13||r.tag===31){var i=Li(r,67108864);i!==null&&or(i,r,67108864),Qh(r,67108864)}}function Dx(r){if(r.tag===13||r.tag===31){var i=vr();i=R(i);var o=Li(r,i);o!==null&&or(o,r,i),Qh(r,i)}}var tu=!0;function GR(r,i,o,l){var h=L.T;L.T=null;var m=ee.p;try{ee.p=2,Zh(r,i,o,l)}finally{ee.p=m,L.T=h}}function KR(r,i,o,l){var h=L.T;L.T=null;var m=ee.p;try{ee.p=8,Zh(r,i,o,l)}finally{ee.p=m,L.T=h}}function Zh(r,i,o,l){if(tu){var h=Jh(l);if(h===null)Uh(r,i,l,nu,o),jx(r,l);else if(QR(h,r,i,o,l))l.stopPropagation();else if(jx(r,l),i&4&&-1<XR.indexOf(r)){for(;h!==null;){var m=st(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var w=Ur(m.pendingLanes);if(w!==0){var O=m;for(O.pendingLanes|=2,O.entangledLanes|=2;w;){var I=1<<31-on(w);O.entanglements[1]|=I,w&=~I}rs(m),(It&6)===0&&(Il=ht()+500,Zo(0))}}break;case 31:case 13:O=Li(m,2),O!==null&&or(O,m,2),Bl(),Qh(m,2)}if(m=Jh(l),m===null&&Uh(r,i,l,nu,o),m===h)break;h=m}h!==null&&l.stopPropagation()}else Uh(r,i,l,null,o)}}function Jh(r){return r=ed(r),Wh(r)}var nu=null;function Wh(r){if(nu=null,r=ot(r),r!==null){var i=c(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=u(i),r!==null)return r;r=null}else if(o===31){if(r=f(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return nu=r,null}function kx(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qt()){case Tn:return 2;case Gn:return 8;case Pn:case xs:return 32;case bs:return 268435456;default:return 32}default:return 32}}var ep=!1,xi=null,bi=null,Si=null,sc=new Map,ic=new Map,_i=[],XR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jx(r,i){switch(r){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":sc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ic.delete(i.pointerId)}}function ac(r,i,o,l,h,m){return r===null||r.nativeEvent!==m?(r={blockedOn:i,domEventName:o,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},i!==null&&(i=st(i),i!==null&&Nx(i)),r):(r.eventSystemFlags|=l,i=r.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),r)}function QR(r,i,o,l,h){switch(i){case"focusin":return xi=ac(xi,r,i,o,l,h),!0;case"dragenter":return bi=ac(bi,r,i,o,l,h),!0;case"mouseover":return Si=ac(Si,r,i,o,l,h),!0;case"pointerover":var m=h.pointerId;return sc.set(m,ac(sc.get(m)||null,r,i,o,l,h)),!0;case"gotpointercapture":return m=h.pointerId,ic.set(m,ac(ic.get(m)||null,r,i,o,l,h)),!0}return!1}function Lx(r){var i=ot(r.target);if(i!==null){var o=c(i);if(o!==null){if(i=o.tag,i===13){if(i=u(o),i!==null){r.blockedOn=i,P(r.priority,function(){Dx(o)});return}}else if(i===31){if(i=f(o),i!==null){r.blockedOn=i,P(r.priority,function(){Dx(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ru(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=Jh(r.nativeEvent);if(o===null){o=r.nativeEvent;var l=new o.constructor(o.type,o);Wf=l,o.target.dispatchEvent(l),Wf=null}else return i=st(o),i!==null&&Nx(i),r.blockedOn=o,!1;i.shift()}return!0}function Ux(r,i,o){ru(r)&&o.delete(i)}function ZR(){ep=!1,xi!==null&&ru(xi)&&(xi=null),bi!==null&&ru(bi)&&(bi=null),Si!==null&&ru(Si)&&(Si=null),sc.forEach(Ux),ic.forEach(Ux)}function su(r,i){r.blockedOn===i&&(r.blockedOn=null,ep||(ep=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ZR)))}var iu=null;function Ix(r){iu!==r&&(iu=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){iu===r&&(iu=null);for(var i=0;i<r.length;i+=3){var o=r[i],l=r[i+1],h=r[i+2];if(typeof l!="function"){if(Wh(l||o)===null)continue;break}var m=st(o);m!==null&&(r.splice(i,3),i-=3,Jd(m,{pending:!0,data:h,method:o.method,action:l},l,h))}}))}function Ya(r){function i(I){return su(I,r)}xi!==null&&su(xi,r),bi!==null&&su(bi,r),Si!==null&&su(Si,r),sc.forEach(i),ic.forEach(i);for(var o=0;o<_i.length;o++){var l=_i[o];l.blockedOn===r&&(l.blockedOn=null)}for(;0<_i.length&&(o=_i[0],o.blockedOn===null);)Lx(o),o.blockedOn===null&&_i.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(l=0;l<o.length;l+=3){var h=o[l],m=o[l+1],w=h[ae]||null;if(typeof m=="function")w||Ix(o);else if(w){var O=null;if(m&&m.hasAttribute("formAction")){if(h=m,w=m[ae]||null)O=w.formAction;else if(Wh(h)!==null)continue}else O=w.action;typeof O=="function"?o[l+1]=O:(o.splice(l,3),l-=3),Ix(o)}}}function zx(){function r(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(w){return h=w})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(o,20)}function o(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){l=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function tp(r){this._internalRoot=r}au.prototype.render=tp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,l=vr();Mx(o,l,r,i,null,null)},au.prototype.unmount=tp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Mx(r.current,2,null,r,null,null),Bl(),i[we]=null}};function au(r){this._internalRoot=r}au.prototype.unstable_scheduleHydration=function(r){if(r){var i=x();r={blockedOn:null,target:r,priority:i};for(var o=0;o<_i.length&&i!==0&&i<_i[o].priority;o++);_i.splice(o,0,r),o===0&&Lx(r)}};var Bx=e.version;if(Bx!=="19.2.0")throw Error(s(527,Bx,"19.2.0"));ee.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=p(i),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var JR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{Kn=ou.inject(JR),pn=ou}catch{}}return cc.createRoot=function(r,i){if(!a(r))throw Error(s(299));var o=!1,l="",h=G0,m=K0,w=X0;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),i=Ax(r,1,!1,null,null,o,l,null,h,m,w,zx),r[we]=i.current,Lh(r),new tp(i)},cc.hydrateRoot=function(r,i,o){if(!a(r))throw Error(s(299));var l=!1,h="",m=G0,w=K0,O=X0,I=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.formState!==void 0&&(I=o.formState)),i=Ax(r,1,!0,i,o??null,l,h,I,m,w,O,zx),i.context=Ox(null),o=i.current,l=vr(),l=R(l),h=oi(l),h.callback=null,ci(o,h,l),o=l,i.current.lanes=o,Wr(i,o),rs(i),r[we]=i.current,Lh(r),new au(i)},cc.version="19.2.0",cc}var Zx;function o2(){if(Zx)return rp.exports;Zx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rp.exports=a2(),rp.exports}var c2=o2();const Za=new WeakMap,Au=new WeakMap,Fu={current:[]};let cp=!1,Cc=0;const bc=new Set,cu=new Map;function cS(t){const e=Array.from(t).sort((n,s)=>n instanceof Ja&&n.options.deps.includes(s)?1:s instanceof Ja&&s.options.deps.includes(n)?-1:0);for(const n of e){if(Fu.current.includes(n))continue;Fu.current.push(n),n.recompute();const s=Au.get(n);if(s)for(const a of s){const c=Za.get(a);c&&cS(c)}}}function l2(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function u2(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function lS(t){if(Cc>0&&!cu.has(t)&&cu.set(t,t.prevState),bc.add(t),!(Cc>0)&&!cp)try{for(cp=!0;bc.size>0;){const e=Array.from(bc);bc.clear();for(const n of e){const s=cu.get(n)??n.prevState;n.prevState=s,l2(n)}for(const n of e){const s=Za.get(n);s&&(Fu.current.push(n),cS(s))}for(const n of e){const s=Za.get(n);if(s)for(const a of s)u2(a)}}}finally{cp=!1,Fu.current=[],cu.clear()}}function Ec(t){Cc++;try{t()}finally{if(Cc--,Cc===0){const e=bc.values().next().value;e&&lS(e)}}}function f2(t){return typeof t=="function"}class Wp{constructor(e,n){this.listeners=new Set,this.subscribe=s=>{var a,c;this.listeners.add(s);const u=(c=(a=this.options)==null?void 0:a.onSubscribe)==null?void 0:c.call(a,s,this);return()=>{this.listeners.delete(s),u?.()}},this.prevState=e,this.state=e,this.options=n}setState(e){var n,s,a;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(e):f2(e)?this.state=e(this.prevState):this.state=e,(a=(s=this.options)==null?void 0:s.onUpdate)==null||a.call(s),lS(this)}}class Ja{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=this.options.deps.length,s=new Array(n),a=new Array(n);for(let c=0;c<n;c++){const u=this.options.deps[c];s[c]=u.prevState,a[c]=u.state}return this.lastSeenDepValues=a,{prevDepVals:s,currDepVals:a,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,s;this.prevState=this.state;const a=this.getDepVals();this.state=this.options.fn(a),(s=(n=this.options).onUpdate)==null||s.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const c of this.options.deps)c instanceof Ja&&c.checkIfRecalculationNeededDeeply();let n=!1;const s=this.lastSeenDepValues,{currDepVals:a}=this.getDepVals();for(let c=0;c<a.length;c++)if(a[c]!==s[c]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var s,a;this.listeners.add(n);const c=(a=(s=this.options).onSubscribe)==null?void 0:a.call(s,n,this);return()=>{this.listeners.delete(n),c?.()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const n of e)if(n instanceof Ja)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof Wp){let s=Za.get(n);s||(s=new Set,Za.set(n,s)),s.add(this);let a=Au.get(this);a||(a=new Set,Au.set(this,a)),a.add(n)}}unregisterFromGraph(e=this.options.deps){for(const n of e)if(n instanceof Ja)this.unregisterFromGraph(n.options.deps);else if(n instanceof Wp){const s=Za.get(n);s&&s.delete(this);const a=Au.get(this);a&&a.delete(n)}}}const Ti="__TSR_index",Jx="popstate",Wx="beforeunload";function d2(t){let e=t.getLocation();const n=new Set,s=u=>{e=t.getLocation(),n.forEach(f=>f({location:e,action:u}))},a=u=>{t.notifyOnIndexChange??!0?s(u):e=t.getLocation()},c=async({task:u,navigateOpts:f,...d})=>{if(f?.ignoreBlocker??!1){u();return}const y=t.getBlockers?.()??[],g=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&y.length&&g)for(const v of y){const S=Yu(d.path,d.state);if(await v.blockerFn({currentLocation:e,nextLocation:S,action:d.type})){t.onBlocked?.();return}}u()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:u=>(n.add(u),()=>{n.delete(u)}),push:(u,f,d)=>{const p=e.state[Ti];f=eb(p+1,f),c({task:()=>{t.pushState(u,f),s({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:u,state:f})},replace:(u,f,d)=>{const p=e.state[Ti];f=eb(p,f),c({task:()=>{t.replaceState(u,f),s({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:u,state:f})},go:(u,f)=>{c({task:()=>{t.go(u),a({type:"GO",index:u})},navigateOpts:f,type:"GO"})},back:u=>{c({task:()=>{t.back(u?.ignoreBlocker??!1),a({type:"BACK"})},navigateOpts:u,type:"BACK"})},forward:u=>{c({task:()=>{t.forward(u?.ignoreBlocker??!1),a({type:"FORWARD"})},navigateOpts:u,type:"FORWARD"})},canGoBack:()=>e.state[Ti]!==0,createHref:u=>t.createHref(u),block:u=>{if(!t.setBlockers)return()=>{};const f=t.getBlockers?.()??[];return t.setBlockers([...f,u]),()=>{const d=t.getBlockers?.()??[];t.setBlockers?.(d.filter(p=>p!==u))}},flush:()=>t.flush?.(),destroy:()=>t.destroy?.(),notify:s}}function eb(t,e){e||(e={});const n=Wm();return{...e,key:n,__TSR_key:n,[Ti]:t}}function h2(t){const e=typeof document<"u"?window:void 0,n=e.history.pushState,s=e.history.replaceState;let a=[];const c=()=>a,u=K=>a=K,f=(K=>K),d=(()=>Yu(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state));if(!e.history.state?.__TSR_key&&!e.history.state?.key){const K=Wm();e.history.replaceState({[Ti]:0,key:K,__TSR_key:K},"")}let p=d(),y,g=!1,v=!1,S=!1,C=!1;const E=()=>p;let M,N;const D=()=>{M&&(Y._ignoreSubscribers=!0,(M.isPush?e.history.pushState:e.history.replaceState)(M.state,"",M.href),Y._ignoreSubscribers=!1,M=void 0,N=void 0,y=void 0)},k=(K,pe,ve)=>{const _e=f(pe);N||(y=p),p=Yu(pe,ve),M={href:_e,state:ve,isPush:M?.isPush||K==="push"},N||(N=Promise.resolve().then(()=>D()))},j=K=>{p=d(),Y.notify({type:K})},F=async()=>{if(v){v=!1;return}const K=d(),pe=K.state[Ti]-p.state[Ti],ve=pe===1,_e=pe===-1,Ce=!ve&&!_e||g;g=!1;const Te=Ce?"GO":_e?"BACK":"FORWARD",ge=Ce?{type:"GO",index:pe}:{type:_e?"BACK":"FORWARD"};if(S)S=!1;else{const Le=c();if(typeof document<"u"&&Le.length){for(const L of Le)if(await L.blockerFn({currentLocation:p,nextLocation:K,action:Te})){v=!0,e.history.go(1),Y.notify(ge);return}}}p=d(),Y.notify(ge)},Z=K=>{if(C){C=!1;return}let pe=!1;const ve=c();if(typeof document<"u"&&ve.length)for(const _e of ve){const Ce=_e.enableBeforeUnload??!0;if(Ce===!0){pe=!0;break}if(typeof Ce=="function"&&Ce()===!0){pe=!0;break}}if(pe)return K.preventDefault(),K.returnValue=""},Y=d2({getLocation:E,getLength:()=>e.history.length,pushState:(K,pe)=>k("push",K,pe),replaceState:(K,pe)=>k("replace",K,pe),back:K=>(K&&(S=!0),C=!0,e.history.back()),forward:K=>{K&&(S=!0),C=!0,e.history.forward()},go:K=>{g=!0,e.history.go(K)},createHref:K=>f(K),flush:D,destroy:()=>{e.history.pushState=n,e.history.replaceState=s,e.removeEventListener(Wx,Z,{capture:!0}),e.removeEventListener(Jx,F)},onBlocked:()=>{y&&p!==y&&(p=y)},getBlockers:c,setBlockers:u,notifyOnIndexChange:!1});return e.addEventListener(Wx,Z,{capture:!0}),e.addEventListener(Jx,F),e.history.pushState=function(...K){const pe=n.apply(e.history,K);return Y._ignoreSubscribers||j("PUSH"),pe},e.history.replaceState=function(...K){const pe=s.apply(e.history,K);return Y._ignoreSubscribers||j("REPLACE"),pe},Y}function Yu(t,e){const n=t.indexOf("#"),s=t.indexOf("?"),a=Wm();return{href:t,pathname:t.substring(0,n>0?s>0?Math.min(n,s):n:s>0?s:t.length),hash:n>-1?t.substring(n):"",search:s>-1?t.slice(s,n===-1?void 0:n):"",state:e||{[Ti]:0,key:a,__TSR_key:a}}}function Wm(){return(Math.random()+1).toString(36).substring(7)}function em(t){return t[t.length-1]}function p2(t){return typeof t=="function"}function ra(t,e){return p2(t)?t(e):t}const m2=Object.prototype.hasOwnProperty;function Dr(t,e){if(t===e)return t;const n=e,s=rb(t)&&rb(n);if(!s&&!(Gu(t)&&Gu(n)))return n;const a=s?t:tb(t);if(!a)return n;const c=s?n:tb(n);if(!c)return n;const u=a.length,f=c.length,d=s?new Array(f):{};let p=0;for(let y=0;y<f;y++){const g=s?y:c[y],v=t[g],S=n[g];if(v===S){d[g]=v,(s?y<u:m2.call(t,g))&&p++;continue}if(v===null||S===null||typeof v!="object"||typeof S!="object"){d[g]=S;continue}const C=Dr(v,S);d[g]=C,C===v&&p++}return u===f&&p===u?t:d}function tb(t){const e=[],n=Object.getOwnPropertyNames(t);for(const a of n){if(!Object.prototype.propertyIsEnumerable.call(t,a))return!1;e.push(a)}const s=Object.getOwnPropertySymbols(t);for(const a of s){if(!Object.prototype.propertyIsEnumerable.call(t,a))return!1;e.push(a)}return e}function Gu(t){if(!nb(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!nb(n)||!n.hasOwnProperty("isPrototypeOf"))}function nb(t){return Object.prototype.toString.call(t)==="[object Object]"}function rb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function sa(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let s=0,a=t.length;s<a;s++)if(!sa(t[s],e[s],n))return!1;return!0}if(Gu(t)&&Gu(e)){const s=n?.ignoreUndefined??!0;if(n?.partial){for(const u in e)if((!s||e[u]!==void 0)&&!sa(t[u],e[u],n))return!1;return!0}let a=0;if(!s)a=Object.keys(t).length;else for(const u in t)t[u]!==void 0&&a++;let c=0;for(const u in e)if((!s||e[u]!==void 0)&&(c++,c>a||!sa(t[u],e[u],n)))return!1;return a===c}return!1}function ro(t){let e,n;const s=new Promise((a,c)=>{e=a,n=c});return s.status="pending",s.resolve=a=>{s.status="resolved",s.value=a,e(a),t?.(a)},s.reject=a=>{s.status="rejected",n(a)},s}function Ri(t){return!!(t&&typeof t=="object"&&typeof t.then=="function")}var y2="Invariant failed";function Zs(t,e){if(!t)throw new Error(y2)}const lr="__root__",ls=0,ca=1,so=2,io=3;function Ks(t){return ey(t.filter(e=>e!==void 0).join("/"))}function ey(t){return t.replace(/\/{2,}/g,"/")}function ty(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Ai(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function Ou(t){return Ai(ty(t))}function Ku(t,e){return t?.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function g2(t,e,n){return Ku(t,n)===Ku(e,n)}function v2(t){const{type:e,value:n}=t;if(e===ls)return n;const{prefixSegment:s,suffixSegment:a}=t;if(e===ca){const c=n.substring(1);if(s&&a)return`${s}{$${c}}${a}`;if(s)return`${s}{$${c}}`;if(a)return`{$${c}}${a}`}if(e===io){const c=n.substring(1);return s&&a?`${s}{-$${c}}${a}`:s?`${s}{-$${c}}`:a?`{-$${c}}${a}`:`{-$${c}}`}if(e===so){if(s&&a)return`${s}{$}${a}`;if(s)return`${s}{$}`;if(a)return`{$}${a}`}return n}function x2({base:t,to:e,trailingSlash:n="never",parseCache:s}){let a=uS(t,s).slice();const c=Sf(e,s);a.length>1&&em(a)?.value==="/"&&a.pop();for(let d=0,p=c.length;d<p;d++){const y=c[d],g=y.value;g==="/"?d?d===p-1&&a.push(y):a=[y]:g===".."?a.pop():g==="."||a.push(y)}a.length>1&&(em(a).value==="/"?n==="never"&&a.pop():n==="always"&&a.push({type:ls,value:"/"}));const u=a.map(v2);return Ks(u)}const uS=(t,e)=>fS(t,e,!0),Sf=(t,e)=>fS(t,e,!1),fS=(t,e,n)=>{if(!t)return[];const s=e?.get(t);if(s)return s;const a=E2(t,n);return e?.set(t,a),a},b2=/^\$.{1,}$/,S2=/^(.*?)\{(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,_2=/^(.*?)\{-(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,w2=/^\$$/,C2=/^(.*?)\{\$\}(.*)$/;function E2(t,e){t=ey(t);const n=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),n.push({type:ls,value:"/"})),!t)return n;const s=t.split("/").filter(Boolean);return n.push(...s.map(a=>{const c=!e&&a!==lr&&a.slice(-1)==="_"?a.slice(0,-1):a,u=c.match(C2);if(u){const p=u[1],y=u[2];return{type:so,value:"$",prefixSegment:p||void 0,suffixSegment:y||void 0}}const f=c.match(_2);if(f){const p=f[1],y=f[2],g=f[3];return{type:io,value:y,prefixSegment:p||void 0,suffixSegment:g||void 0}}const d=c.match(S2);if(d){const p=d[1],y=d[2],g=d[3];return{type:ca,value:""+y,prefixSegment:p||void 0,suffixSegment:g||void 0}}if(b2.test(c)){const p=c.substring(1);return{type:ca,value:"$"+p,prefixSegment:void 0,suffixSegment:void 0}}return w2.test(c)?{type:so,value:"$",prefixSegment:void 0,suffixSegment:void 0}:{type:ls,value:c.includes("%25")?c.split("%25").map(p=>decodeURI(p)).join("%25"):decodeURI(c)}})),t.slice(-1)==="/"&&(t=t.substring(1),n.push({type:ls,value:"/"})),n}function lu({path:t,params:e,leaveWildcards:n,leaveParams:s,decodeCharMap:a,parseCache:c}){const u=Sf(t,c);function f(g){const v=e[g],S=typeof v=="string";return g==="*"||g==="_splat"?S?encodeURI(v):v:S?T2(v,a):v}let d=!1;const p={},y=Ks(u.map(g=>{if(g.type===ls)return g.value;if(g.type===so){p._splat=e._splat,p["*"]=e._splat;const v=g.prefixSegment||"",S=g.suffixSegment||"";if(!e._splat)return d=!0,n?`${v}${g.value}${S}`:v||S?`${v}${S}`:void 0;const C=f("_splat");return n?`${v}${g.value}${C??""}${S}`:`${v}${C}${S}`}if(g.type===ca){const v=g.value.substring(1);!d&&!(v in e)&&(d=!0),p[v]=e[v];const S=g.prefixSegment||"",C=g.suffixSegment||"";if(s){const E=f(g.value);return`${S}${g.value}${E??""}${C}`}return`${S}${f(v)??"undefined"}${C}`}if(g.type===io){const v=g.value.substring(1),S=g.prefixSegment||"",C=g.suffixSegment||"";if(!(v in e)||e[v]==null)return n?`${S}${v}${C}`:S||C?`${S}${C}`:void 0;if(p[v]=e[v],s){const E=f(g.value);return`${S}${g.value}${E??""}${C}`}return n?`${S}${v}${f(v)??""}${C}`:`${S}${f(v)??""}${C}`}return g.value}));return{usedParams:p,interpolatedPath:y,isMissingParams:d}}function T2(t,e){let n=encodeURIComponent(t);if(e)for(const[s,a]of e)n=n.replaceAll(s,a);return n}function tm(t,e,n){const s=R2(t,e,n);if(!(e.to&&!s))return s??{}}function R2(t,{to:e,fuzzy:n,caseSensitive:s},a){const c=e,u=uS(t.startsWith("/")?t:`/${t}`,a),f=Sf(c.startsWith("/")?c:`/${c}`,a),d={};return A2(u,f,d,n,s)?d:void 0}function A2(t,e,n,s,a){let c=0,u=0;for(;c<t.length||u<e.length;){const f=t[c],d=e[u];if(d){if(d.type===so){const p=t.slice(c);let y;if(d.prefixSegment||d.suffixSegment){if(!f)return!1;const g=d.prefixSegment||"",v=d.suffixSegment||"",S=f.value;if("prefixSegment"in d&&!S.startsWith(g)||"suffixSegment"in d&&!t[t.length-1]?.value.endsWith(v))return!1;let C=decodeURI(Ks(p.map(E=>E.value)));g&&C.startsWith(g)&&(C=C.slice(g.length)),v&&C.endsWith(v)&&(C=C.slice(0,C.length-v.length)),y=C}else y=decodeURI(Ks(p.map(g=>g.value)));return n["*"]=y,n._splat=y,!0}if(d.type===ls){if(d.value==="/"&&!f?.value){u++;continue}if(f){if(a){if(d.value!==f.value)return!1}else if(d.value.toLowerCase()!==f.value.toLowerCase())return!1;c++,u++;continue}else return!1}if(d.type===ca){if(!f||f.value==="/")return!1;let p="",y=!1;if(d.prefixSegment||d.suffixSegment){const g=d.prefixSegment||"",v=d.suffixSegment||"",S=f.value;if(g&&!S.startsWith(g)||v&&!S.endsWith(v))return!1;let C=S;g&&C.startsWith(g)&&(C=C.slice(g.length)),v&&C.endsWith(v)&&(C=C.slice(0,C.length-v.length)),p=decodeURIComponent(C),y=!0}else p=decodeURIComponent(f.value),y=!0;y&&(n[d.value.substring(1)]=p,c++),u++;continue}if(d.type===io){if(!f){u++;continue}if(f.value==="/"){u++;continue}let p="",y=!1;if(d.prefixSegment||d.suffixSegment){const g=d.prefixSegment||"",v=d.suffixSegment||"",S=f.value;if((!g||S.startsWith(g))&&(!v||S.endsWith(v))){let C=S;g&&C.startsWith(g)&&(C=C.slice(g.length)),v&&C.endsWith(v)&&(C=C.slice(0,C.length-v.length)),p=decodeURIComponent(C),y=!0}}else{let g=!0;for(let v=u+1;v<e.length;v++){const S=e[v];if(S?.type===ls&&S.value===f.value){g=!1;break}if(S?.type===ca||S?.type===so){t.length<e.length&&(g=!1);break}}g&&(p=decodeURIComponent(f.value),y=!0)}y&&(n[d.value.substring(1)]=p,c++),u++;continue}}if(c<t.length&&u>=e.length)return n["**"]=Ks(t.slice(c).map(p=>p.value)),!!s&&e[e.length-1]?.value!=="/";if(u<e.length&&c>=t.length){for(let p=u;p<e.length;p++)if(e[p]?.type!==io)return!1;break}break}return!0}const O2=.75,M2=1,P2=.5,N2=.4,D2=.25,k2=.2,j2=.05,L2=.02,U2=.01,sb=2e-4,ib=1e-4;function ab(t,e){return t.prefixSegment&&t.suffixSegment?e+j2+sb*t.prefixSegment.length+ib*t.suffixSegment.length:t.prefixSegment?e+L2+sb*t.prefixSegment.length:t.suffixSegment?e+U2+ib*t.suffixSegment.length:e}function I2(t){const e=[];return t.forEach((s,a)=>{if(s.isRoot||!s.path)return;const c=ty(s.fullPath);let u=Sf(c),f=0;for(;u.length>f+1&&u[f]?.value==="/";)f++;f>0&&(u=u.slice(f));let d=0,p=!1;const y=u.map((g,v)=>{if(g.value==="/")return O2;if(g.type===ls)return M2;let S;g.type===ca?S=P2:g.type===io?(S=N2,d++):S=D2;for(let C=v+1;C<u.length;C++){const E=u[C];if(E.type===ls&&E.value!=="/")return p=!0,ab(g,S+k2)}return ab(g,S)});e.push({child:s,trimmed:c,parsed:u,index:a,scores:y,optionalParamCount:d,hasStaticAfter:p})}),e.sort((s,a)=>{const c=Math.min(s.scores.length,a.scores.length);for(let u=0;u<c;u++)if(s.scores[u]!==a.scores[u])return a.scores[u]-s.scores[u];if(s.scores.length!==a.scores.length){if(s.optionalParamCount!==a.optionalParamCount){if(s.hasStaticAfter===a.hasStaticAfter)return s.optionalParamCount-a.optionalParamCount;if(s.hasStaticAfter&&!a.hasStaticAfter)return-1;if(!s.hasStaticAfter&&a.hasStaticAfter)return 1}return a.scores.length-s.scores.length}for(let u=0;u<c;u++)if(s.parsed[u].value!==a.parsed[u].value)return s.parsed[u].value>a.parsed[u].value?1:-1;return s.index-a.index}).map((s,a)=>(s.child.rank=a,s.child))}function z2({routeTree:t,initRoute:e}){const n={},s={},a=u=>{u.forEach((f,d)=>{e?.(f,d);const p=n[f.id];if(Zs(!p,`Duplicate routes found with id: ${String(f.id)}`),n[f.id]=f,!f.isRoot&&f.path){const g=Ai(f.fullPath);(!s[g]||f.fullPath.endsWith("/"))&&(s[g]=f)}const y=f.children;y?.length&&a(y)})};a([t]);const c=I2(Object.values(n));return{routesById:n,routesByPath:s,flatRoutes:c}}function Gr(t){return!!t?.isNotFound}function B2(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const Xu="tsr-scroll-restoration-v1_3",H2=(t,e)=>{let n;return(...s)=>{n||(n=setTimeout(()=>{t(...s),n=null},e))}};function $2(){const t=B2();if(!t)return null;const e=t.getItem(Xu);let n=e?JSON.parse(e):{};return{state:n,set:s=>(n=ra(s,n)||n,t.setItem(Xu,JSON.stringify(n)))}}const uu=$2(),nm=t=>t.state.__TSR_key||t.href;function V2(t){const e=[];let n;for(;n=t.parentNode;)e.push(`${t.tagName}:nth-child(${Array.prototype.indexOf.call(n.children,t)+1})`),t=n;return`${e.reverse().join(" > ")}`.toLowerCase()}let Qu=!1;function dS({storageKey:t,key:e,behavior:n,shouldScrollRestoration:s,scrollToTopSelectors:a,location:c}){let u;try{u=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(p){console.error(p);return}const f=e||window.history.state?.__TSR_key,d=u[f];Qu=!0;e:{if(s&&d&&Object.keys(d).length>0){for(const g in d){const v=d[g];if(g==="window")window.scrollTo({top:v.scrollY,left:v.scrollX,behavior:n});else if(g){const S=document.querySelector(g);S&&(S.scrollLeft=v.scrollX,S.scrollTop=v.scrollY)}}break e}const p=(c??window.location).hash.split("#",2)[1];if(p){const g=window.history.state?.__hashScrollIntoViewOptions??!0;if(g){const v=document.getElementById(p);v&&v.scrollIntoView(g)}break e}const y={top:0,left:0,behavior:n};if(window.scrollTo(y),a)for(const g of a){if(g==="window")continue;const v=typeof g=="function"?g():document.querySelector(g);v&&v.scrollTo(y)}}Qu=!1}function q2(t,e){if(!uu&&!t.isServer||((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),t.isServer||t.isScrollRestorationSetup||!uu))return;t.isScrollRestorationSetup=!0,Qu=!1;const s=t.options.getScrollRestorationKey||nm;window.history.scrollRestoration="manual";const a=c=>{if(Qu||!t.isScrollRestoring)return;let u="";if(c.target===document||c.target===window)u="window";else{const d=c.target.getAttribute("data-scroll-restoration-id");d?u=`[data-scroll-restoration-id="${d}"]`:u=V2(c.target)}const f=s(t.state.location);uu.set(d=>{const p=d[f]||={},y=p[u]||={};if(u==="window")y.scrollX=window.scrollX||0,y.scrollY=window.scrollY||0;else if(u){const g=document.querySelector(u);g&&(y.scrollX=g.scrollLeft||0,y.scrollY=g.scrollTop||0)}return d})};typeof document<"u"&&document.addEventListener("scroll",H2(a,100),!0),t.subscribe("onRendered",c=>{const u=s(c.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation})||(dS({storageKey:Xu,key:u,behavior:t.options.scrollRestorationBehavior,shouldScrollRestoration:t.isScrollRestoring,scrollToTopSelectors:t.options.scrollToTopSelectors,location:t.history.location}),t.isScrollRestoring&&uu.set(f=>(f[u]||={},f)))})}function F2(t){if(typeof document<"u"&&document.querySelector){const e=t.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&t.state.location.hash!==""){const n=document.getElementById(t.state.location.hash);n&&n.scrollIntoView(e)}}}function Y2(t,e=String){const n=new URLSearchParams;for(const s in t){const a=t[s];a!==void 0&&n.set(s,e(a))}return n.toString()}function lp(t){return t?t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t:""}function G2(t){const e=new URLSearchParams(t),n={};for(const[s,a]of e.entries()){const c=n[s];c==null?n[s]=lp(a):Array.isArray(c)?c.push(lp(a)):n[s]=[c,lp(a)]}return n}const K2=Q2(JSON.parse),X2=Z2(JSON.stringify,JSON.parse);function Q2(t){return e=>{e[0]==="?"&&(e=e.substring(1));const n=G2(e);for(const s in n){const a=n[s];if(typeof a=="string")try{n[s]=t(a)}catch{}}return n}}function Z2(t,e){const n=typeof e=="function";function s(a){if(typeof a=="object"&&a!==null)try{return t(a)}catch{}else if(n&&typeof a=="string")try{return e(a),t(a)}catch{}return a}return a=>{const c=Y2(a,s);return c?`?${c}`:""}}function J2(t){if(t.statusCode=t.statusCode||t.code||307,!t.reloadDocument&&typeof t.href=="string")try{new URL(t.href),t.reloadDocument=!0}catch{}const e=new Headers(t.headers);t.href&&e.get("Location")===null&&e.set("Location",t.href);const n=new Response(null,{status:t.statusCode,headers:e});if(n.options=t,t.throw)throw n;return n}function as(t){return t instanceof Response&&!!t.options}function W2(t){const e=new Map;let n,s;const a=c=>{c.next&&(c.prev?(c.prev.next=c.next,c.next.prev=c.prev,c.next=void 0,s&&(s.next=c,c.prev=s)):(c.next.prev=void 0,n=c.next,c.next=void 0,s&&(c.prev=s,s.next=c)),s=c)};return{get(c){const u=e.get(c);if(u)return a(u),u.value},set(c,u){if(e.size>=t&&n){const d=n;e.delete(d.key),d.next&&(n=d.next,d.next.prev=void 0),d===s&&(s=void 0)}const f=e.get(c);if(f)f.value=u,a(f);else{const d={key:c,value:u,prev:s};s&&(s.next=d),s=d,n||(n=d),e.set(c,d)}}}}const Mu=t=>{if(!t.rendered)return t.rendered=!0,t.onReady?.()},_f=(t,e)=>!!(t.preload&&!t.router.state.matches.some(n=>n.id===e)),hS=(t,e)=>{const n=t.router.routesById[e.routeId??""]??t.router.routeTree;!n.options.notFoundComponent&&t.router.options?.defaultNotFoundComponent&&(n.options.notFoundComponent=t.router.options.defaultNotFoundComponent),Zs(n.options.notFoundComponent);const s=t.matches.find(a=>a.routeId===n.id);Zs(s,"Could not find match for route: "+n.id),t.updateMatch(s.id,a=>({...a,status:"notFound",error:e,isFetching:!1})),e.routerCode==="BEFORE_LOAD"&&n.parentRoute&&(e.routeId=n.parentRoute.id,hS(t,e))},Ei=(t,e,n)=>{if(!(!as(n)&&!Gr(n))){if(as(n)&&n.redirectHandled&&!n.options.reloadDocument)throw n;if(e){e._nonReactive.beforeLoadPromise?.resolve(),e._nonReactive.loaderPromise?.resolve(),e._nonReactive.beforeLoadPromise=void 0,e._nonReactive.loaderPromise=void 0;const s=as(n)?"redirected":"notFound";t.updateMatch(e.id,a=>({...a,status:s,isFetching:!1,error:n})),Gr(n)&&!n.routeId&&(n.routeId=e.routeId),e._nonReactive.loadPromise?.resolve()}throw as(n)?(t.rendered=!0,n.options._fromLocation=t.location,n.redirectHandled=!0,n=t.router.resolveRedirect(n),n):(hS(t,n),n)}},pS=(t,e)=>{const n=t.router.getMatch(e);return!!(!t.router.isServer&&n._nonReactive.dehydrated||t.router.isServer&&n.ssr===!1)},lc=(t,e,n,s)=>{const{id:a,routeId:c}=t.matches[e],u=t.router.looseRoutesById[c];if(n instanceof Promise)throw n;n.routerCode=s,t.firstBadMatchIndex??=e,Ei(t,t.router.getMatch(a),n);try{u.options.onError?.(n)}catch(f){n=f,Ei(t,t.router.getMatch(a),n)}t.updateMatch(a,f=>(f._nonReactive.beforeLoadPromise?.resolve(),f._nonReactive.beforeLoadPromise=void 0,f._nonReactive.loadPromise?.resolve(),{...f,error:n,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},eA=(t,e,n,s)=>{const a=t.router.getMatch(e),c=t.matches[n-1]?.id,u=c?t.router.getMatch(c):void 0;if(t.router.isShell()){a.ssr=e===lr;return}if(u?.ssr===!1){a.ssr=!1;return}const f=S=>S===!0&&u?.ssr==="data-only"?"data-only":S,d=t.router.options.defaultSsr??!0;if(s.options.ssr===void 0){a.ssr=f(d);return}if(typeof s.options.ssr!="function"){a.ssr=f(s.options.ssr);return}const{search:p,params:y}=a,g={search:fu(p,a.searchError),params:fu(y,a.paramsError),location:t.location,matches:t.matches.map(S=>({index:S.index,pathname:S.pathname,fullPath:S.fullPath,staticData:S.staticData,id:S.id,routeId:S.routeId,search:fu(S.search,S.searchError),params:fu(S.params,S.paramsError),ssr:S.ssr}))},v=s.options.ssr(g);if(Ri(v))return v.then(S=>{a.ssr=f(S??d)});a.ssr=f(v??d)},mS=(t,e,n,s)=>{if(s._nonReactive.pendingTimeout!==void 0)return;const a=n.options.pendingMs??t.router.options.defaultPendingMs;if(!!(t.onReady&&!t.router.isServer&&!_f(t,e)&&(n.options.loader||n.options.beforeLoad||vS(n))&&typeof a=="number"&&a!==1/0&&(n.options.pendingComponent??t.router.options?.defaultPendingComponent))){const u=setTimeout(()=>{Mu(t)},a);s._nonReactive.pendingTimeout=u}},tA=(t,e,n)=>{const s=t.router.getMatch(e);if(!s._nonReactive.beforeLoadPromise&&!s._nonReactive.loaderPromise)return;mS(t,e,n,s);const a=()=>{const c=t.router.getMatch(e);c.preload&&(c.status==="redirected"||c.status==="notFound")&&Ei(t,c,c.error)};return s._nonReactive.beforeLoadPromise?s._nonReactive.beforeLoadPromise.then(a):a()},nA=(t,e,n,s)=>{const a=t.router.getMatch(e),c=a._nonReactive.loadPromise;a._nonReactive.loadPromise=ro(()=>{c?.resolve()});const{paramsError:u,searchError:f}=a;u&&lc(t,n,u,"PARSE_PARAMS"),f&&lc(t,n,f,"VALIDATE_SEARCH"),mS(t,e,s,a);const d=new AbortController,p=t.matches[n-1]?.id,v={...(p?t.router.getMatch(p):void 0)?.context??t.router.options.context??void 0,...a.__routeContext};let S=!1;const C=()=>{S||(S=!0,t.updateMatch(e,Y=>({...Y,isFetching:"beforeLoad",fetchCount:Y.fetchCount+1,abortController:d,context:v})))},E=()=>{a._nonReactive.beforeLoadPromise?.resolve(),a._nonReactive.beforeLoadPromise=void 0,t.updateMatch(e,Y=>({...Y,isFetching:!1}))};if(!s.options.beforeLoad){Ec(()=>{C(),E()});return}a._nonReactive.beforeLoadPromise=ro();const{search:M,params:N,cause:D}=a,k=_f(t,e),j={search:M,abortController:d,params:N,preload:k,context:v,location:t.location,navigate:Y=>t.router.navigate({...Y,_fromLocation:t.location}),buildLocation:t.router.buildLocation,cause:k?"preload":D,matches:t.matches,...t.router.options.additionalContext},F=Y=>{if(Y===void 0){Ec(()=>{C(),E()});return}(as(Y)||Gr(Y))&&(C(),lc(t,n,Y,"BEFORE_LOAD")),Ec(()=>{C(),t.updateMatch(e,K=>({...K,__beforeLoadContext:Y,context:{...K.context,...Y}})),E()})};let Z;try{if(Z=s.options.beforeLoad(j),Ri(Z))return C(),Z.catch(Y=>{lc(t,n,Y,"BEFORE_LOAD")}).then(F)}catch(Y){C(),lc(t,n,Y,"BEFORE_LOAD")}F(Z)},rA=(t,e)=>{const{id:n,routeId:s}=t.matches[e],a=t.router.looseRoutesById[s],c=()=>{if(t.router.isServer){const d=eA(t,n,e,a);if(Ri(d))return d.then(f)}return f()},u=()=>nA(t,n,e,a),f=()=>{if(pS(t,n))return;const d=tA(t,n,a);return Ri(d)?d.then(u):u()};return c()},Tc=(t,e,n)=>{const s=t.router.getMatch(e);if(!s||!n.options.head&&!n.options.scripts&&!n.options.headers)return;const a={matches:t.matches,match:s,params:s.params,loaderData:s.loaderData};return Promise.all([n.options.head?.(a),n.options.scripts?.(a),n.options.headers?.(a)]).then(([c,u,f])=>{const d=c?.meta,p=c?.links,y=c?.scripts,g=c?.styles;return{meta:d,links:p,headScripts:y,headers:f,scripts:u,styles:g}})},yS=(t,e,n,s)=>{const a=t.matchPromises[n-1],{params:c,loaderDeps:u,abortController:f,context:d,cause:p}=t.router.getMatch(e),y=_f(t,e);return{params:c,deps:u,preload:!!y,parentMatchPromise:a,abortController:f,context:d,location:t.location,navigate:g=>t.router.navigate({...g,_fromLocation:t.location}),cause:y?"preload":p,route:s,...t.router.options.additionalContext}},ob=async(t,e,n,s)=>{try{const a=t.router.getMatch(e);try{(!t.router.isServer||a.ssr===!0)&&gS(s);const c=s.options.loader?.(yS(t,e,n,s)),u=s.options.loader&&Ri(c);if(!!(u||s._lazyPromise||s._componentsPromise||s.options.head||s.options.scripts||s.options.headers||a._nonReactive.minPendingPromise)&&t.updateMatch(e,g=>({...g,isFetching:"loader"})),s.options.loader){const g=u?await c:c;Ei(t,t.router.getMatch(e),g),g!==void 0&&t.updateMatch(e,v=>({...v,loaderData:g}))}s._lazyPromise&&await s._lazyPromise;const d=Tc(t,e,s),p=d?await d:void 0,y=a._nonReactive.minPendingPromise;y&&await y,s._componentsPromise&&await s._componentsPromise,t.updateMatch(e,g=>({...g,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),...p}))}catch(c){let u=c;const f=a._nonReactive.minPendingPromise;f&&await f,Gr(c)&&await s.options.notFoundComponent?.preload?.(),Ei(t,t.router.getMatch(e),c);try{s.options.onError?.(c)}catch(y){u=y,Ei(t,t.router.getMatch(e),y)}const d=Tc(t,e,s),p=d?await d:void 0;t.updateMatch(e,y=>({...y,error:u,status:"error",isFetching:!1,...p}))}}catch(a){const c=t.router.getMatch(e);if(c){const u=Tc(t,e,s);if(u){const f=await u;t.updateMatch(e,d=>({...d,...f}))}c._nonReactive.loaderPromise=void 0}Ei(t,c,a)}},sA=async(t,e)=>{const{id:n,routeId:s}=t.matches[e];let a=!1,c=!1;const u=t.router.looseRoutesById[s];if(pS(t,n)){if(t.router.isServer){const p=Tc(t,n,u);if(p){const y=await p;t.updateMatch(n,g=>({...g,...y}))}return t.router.getMatch(n)}}else{const p=t.router.getMatch(n);if(p._nonReactive.loaderPromise){if(p.status==="success"&&!t.sync&&!p.preload)return p;await p._nonReactive.loaderPromise;const y=t.router.getMatch(n);y.error&&Ei(t,y,y.error)}else{const y=Date.now()-p.updatedAt,g=_f(t,n),v=g?u.options.preloadStaleTime??t.router.options.defaultPreloadStaleTime??3e4:u.options.staleTime??t.router.options.defaultStaleTime??0,S=u.options.shouldReload,C=typeof S=="function"?S(yS(t,n,e,u)):S,E=!!g&&!t.router.state.matches.some(k=>k.id===n),M=t.router.getMatch(n);M._nonReactive.loaderPromise=ro(),E!==M.preload&&t.updateMatch(n,k=>({...k,preload:E}));const{status:N,invalid:D}=M;if(a=N==="success"&&(D||(C??y>v)),!(g&&u.options.preload===!1))if(a&&!t.sync)c=!0,(async()=>{try{await ob(t,n,e,u);const k=t.router.getMatch(n);k._nonReactive.loaderPromise?.resolve(),k._nonReactive.loadPromise?.resolve(),k._nonReactive.loaderPromise=void 0}catch(k){as(k)&&await t.router.navigate(k.options)}})();else if(N!=="success"||a&&t.sync)await ob(t,n,e,u);else{const k=Tc(t,n,u);if(k){const j=await k;t.updateMatch(n,F=>({...F,...j}))}}}}const f=t.router.getMatch(n);c||(f._nonReactive.loaderPromise?.resolve(),f._nonReactive.loadPromise?.resolve()),clearTimeout(f._nonReactive.pendingTimeout),f._nonReactive.pendingTimeout=void 0,c||(f._nonReactive.loaderPromise=void 0),f._nonReactive.dehydrated=void 0;const d=c?f.isFetching:!1;return d!==f.isFetching||f.invalid!==!1?(t.updateMatch(n,p=>({...p,isFetching:d,invalid:!1})),t.router.getMatch(n)):f};async function cb(t){const e=Object.assign(t,{matchPromises:[]});!e.router.isServer&&e.router.state.matches.some(n=>n._forcePending)&&Mu(e);try{for(let a=0;a<e.matches.length;a++){const c=rA(e,a);Ri(c)&&await c}const n=e.firstBadMatchIndex??e.matches.length;for(let a=0;a<n;a++)e.matchPromises.push(sA(e,a));await Promise.all(e.matchPromises);const s=Mu(e);Ri(s)&&await s}catch(n){if(Gr(n)&&!e.preload){const s=Mu(e);throw Ri(s)&&await s,n}if(as(n))throw n}return e.matches}async function gS(t){if(!t._lazyLoaded&&t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(e=>{const{id:n,...s}=e.options;Object.assign(t.options,s),t._lazyLoaded=!0,t._lazyPromise=void 0}):t._lazyLoaded=!0),!t._componentsLoaded&&t._componentsPromise===void 0){const e=()=>{const n=[];for(const s of xS){const a=t.options[s]?.preload;a&&n.push(a())}if(n.length)return Promise.all(n).then(()=>{t._componentsLoaded=!0,t._componentsPromise=void 0});t._componentsLoaded=!0,t._componentsPromise=void 0};t._componentsPromise=t._lazyPromise?t._lazyPromise.then(e):e()}return t._componentsPromise}function fu(t,e){return e?{status:"error",error:e}:{status:"success",value:t}}function vS(t){for(const e of xS)if(t.options[e]?.preload)return!0;return!1}const xS=["component","errorComponent","pendingComponent","notFoundComponent"];function iA(t){return{input:({url:e})=>{for(const n of t)e=bS(n,e);return e},output:({url:e})=>{for(let n=t.length-1;n>=0;n--)e=SS(t[n],e);return e}}}function aA(t){const e=Ou(t.basepath),n=`/${e}`,s=`${n}/`,a=t.caseSensitive?n:n.toLowerCase(),c=t.caseSensitive?s:s.toLowerCase();return{input:({url:u})=>{const f=t.caseSensitive?u.pathname:u.pathname.toLowerCase();return f===a?u.pathname="/":f.startsWith(c)&&(u.pathname=u.pathname.slice(n.length)),u},output:({url:u})=>(u.pathname=Ks(["/",e,u.pathname]),u)}}function bS(t,e){const n=t?.input?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function SS(t,e){const n=t?.output?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function ia(t){const e=t.resolvedLocation,n=t.location,s=e?.pathname!==n.pathname,a=e?.href!==n.href,c=e?.hash!==n.hash;return{fromLocation:e,toLocation:n,pathChanged:s,hrefChanged:a,hashChanged:c}}class oA{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const s=this.options,a=this.basepath??s?.basepath??"/",c=this.basepath===void 0,u=s?.rewrite;this.options={...s,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(v=>[encodeURIComponent(v),v])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=h2())),this.origin=this.options.origin,this.origin||(!this.isServer&&window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new Wp(lA(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(v=>!["redirected"].includes(v.status))}}}),q2(this));let f=!1;const d=this.options.basepath??"/",p=this.options.rewrite;if(c||a!==d||u!==p){this.basepath=d;const v=[];Ou(d)!==""&&v.push(aA({basepath:d})),p&&v.push(p),this.rewrite=v.length===0?void 0:v.length===1?v[0]:iA(v),this.history&&this.updateLatestLocation(),f=!0}f&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:n,routesByPath:s,flatRoutes:a}=z2({routeTree:this.routeTree,initRoute:(u,f)=>{u.init({originalIndex:f})}});this.routesById=n,this.routesByPath=s,this.flatRoutes=a;const c=this.options.notFoundRoute;c&&(c.init({originalIndex:99999999999}),this.routesById[c.id]=c)},this.subscribe=(n,s)=>{const a={eventType:n,fn:s};return this.subscribers.add(a),()=>{this.subscribers.delete(a)}},this.emit=n=>{this.subscribers.forEach(s=>{s.eventType===n.type&&s.fn(n)})},this.parseLocation=(n,s)=>{const a=({href:d,state:p})=>{const y=new URL(d,this.origin),g=bS(this.rewrite,y),v=this.options.parseSearch(g.search),S=this.options.stringifySearch(v);g.search=S;const C=g.href.replace(g.origin,""),{pathname:E,hash:M}=g;return{href:C,publicHref:d,url:g.href,pathname:E,searchStr:S,search:Dr(s?.search,v),hash:M.split("#").reverse()[0]??"",state:Dr(s?.state,p)}},c=a(n),{__tempLocation:u,__tempKey:f}=c.state;if(u&&(!f||f===this.tempLocationKey)){const d=a(u);return d.state.key=c.state.key,d.state.__TSR_key=c.state.__TSR_key,delete d.state.__tempLocation,{...d,maskedLocation:c}}return c},this.resolvePathWithBase=(n,s)=>x2({base:n,to:ey(s),trailingSlash:this.options.trailingSlash,parseCache:this.parsePathnameCache}),this.matchRoutes=(n,s,a)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:s},a):this.matchRoutesInternal(n,s),this.parsePathnameCache=W2(1e3),this.getMatchedRoutes=(n,s)=>uA({pathname:n,routePathname:s,caseSensitive:this.options.caseSensitive,routesByPath:this.routesByPath,routesById:this.routesById,flatRoutes:this.flatRoutes,parseCache:this.parsePathnameCache}),this.cancelMatch=n=>{const s=this.getMatch(n);s&&(s.abortController.abort(),clearTimeout(s._nonReactive.pendingTimeout),s._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{this.state.pendingMatches?.forEach(n=>{this.cancelMatch(n.id)})},this.buildLocation=n=>{const s=(c={})=>{const u=c._fromLocation||this.latestLocation,f=this.matchRoutes(u,{_buildLocation:!0}),d=em(f);c.from;const p=c.unsafeRelative==="path"?u.pathname:c.from??d.fullPath,y=this.resolvePathWithBase(p,"."),g=d.search,v={...d.params},S=c.to?this.resolvePathWithBase(y,`${c.to}`):this.resolvePathWithBase(y,"."),C=c.params===!1||c.params===null?{}:(c.params??!0)===!0?v:Object.assign(v,ra(c.params,v)),E=lu({path:S,params:C,parseCache:this.parsePathnameCache}).interpolatedPath,M=this.matchRoutes(E,void 0,{_buildLocation:!0}).map(ve=>this.looseRoutesById[ve.routeId]);if(Object.keys(C).length>0)for(const ve of M){const _e=ve.options.params?.stringify??ve.options.stringifyParams;_e&&Object.assign(C,_e(C))}const N=lu({path:S,params:C,leaveWildcards:!1,leaveParams:n.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath;let D=g;if(n._includeValidateSearch&&this.options.search?.strict){const ve={};M.forEach(_e=>{if(_e.options.validateSearch)try{Object.assign(ve,rm(_e.options.validateSearch,{...ve,...D}))}catch{}}),D=ve}D=fA({search:D,dest:c,destRoutes:M,_includeValidateSearch:n._includeValidateSearch}),D=Dr(g,D);const k=this.options.stringifySearch(D),j=c.hash===!0?u.hash:c.hash?ra(c.hash,u.hash):void 0,F=j?`#${j}`:"";let Z=c.state===!0?u.state:c.state?ra(c.state,u.state):{};Z=Dr(u.state,Z);const Y=`${N}${k}${F}`,K=new URL(Y,this.origin),pe=SS(this.rewrite,K);return{publicHref:pe.pathname+pe.search+pe.hash,href:Y,url:pe.href,pathname:N,search:D,searchStr:k,state:Z,hash:j??"",unmaskOnReload:c.unmaskOnReload}},a=(c={},u)=>{const f=s(c);let d=u?s(u):void 0;if(!d){let p={};const y=this.options.routeMasks?.find(g=>{const v=tm(f.pathname,{to:g.from,caseSensitive:!1,fuzzy:!1},this.parsePathnameCache);return v?(p=v,!0):!1});if(y){const{from:g,...v}=y;u={from:n.from,...v,params:p},d=s(u)}}return d&&(f.maskedLocation=d),f};return n.mask?a(n,{from:n.from,...n.mask}):a(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:s,...a})=>{const c=()=>{const d=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];d.forEach(y=>{a.state[y]=this.latestLocation.state[y]});const p=sa(a.state,this.latestLocation.state);return d.forEach(y=>{delete a.state[y]}),p},u=Ai(this.latestLocation.href)===Ai(a.href),f=this.commitLocationPromise;if(this.commitLocationPromise=ro(()=>{f?.resolve()}),u&&c())this.load();else{let{maskedLocation:d,hashScrollIntoView:p,...y}=a;d&&(y={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...y,search:y.searchStr,state:{...y.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(y.unmaskOnReload??this.options.unmaskOnReload??!1)&&(y.state.__tempKey=this.tempLocationKey)),y.state.__hashScrollIntoViewOptions=p??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[a.replace?"replace":"push"](y.publicHref,y.state,{ignoreBlocker:s})}return this.resetNextScroll=a.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:s,hashScrollIntoView:a,viewTransition:c,ignoreBlocker:u,href:f,...d}={})=>{if(f){const y=this.history.location.state.__TSR_index,g=Yu(f,{__TSR_index:n?y:y+1});d.to=g.pathname,d.search=this.options.parseSearch(g.search),d.hash=g.hash.slice(1)}const p=this.buildLocation({...d,_includeValidateSearch:!0});return this.commitLocation({...p,viewTransition:c,replace:n,resetScroll:s,hashScrollIntoView:a,ignoreBlocker:u})},this.navigate=({to:n,reloadDocument:s,href:a,...c})=>{if(!s&&a)try{new URL(`${a}`),s=!0}catch{}return s?(a||(a=this.buildLocation({to:n,...c}).url),c.replace?window.location.replace(a):window.location.href=a,Promise.resolve()):this.buildAndCommitLocation({...c,href:a,to:n,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.updateLatestLocation(),this.isServer){const s=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0}),a=c=>{try{return encodeURI(decodeURI(c))}catch{return c}};if(Ou(a(this.latestLocation.href))!==Ou(a(s.href))){let c=s.url;throw this.origin&&c.startsWith(this.origin)&&(c=c.replace(this.origin,"")||"/"),J2({href:c})}}const n=this.matchRoutes(this.latestLocation);this.__store.setState(s=>({...s,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:n,cachedMatches:s.cachedMatches.filter(a=>!n.some(c=>c.id===a.id))}))},this.load=async n=>{let s,a,c;for(c=new Promise(f=>{this.startTransition(async()=>{try{this.beforeLoad();const d=this.latestLocation,p=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...ia({resolvedLocation:p,location:d})}),this.emit({type:"onBeforeLoad",...ia({resolvedLocation:p,location:d})}),await cb({router:this,sync:n?.sync,matches:this.state.pendingMatches,location:d,updateMatch:this.updateMatch,onReady:async()=>{this.startViewTransition(async()=>{let y,g,v;Ec(()=>{this.__store.setState(S=>{const C=S.matches,E=S.pendingMatches||S.matches;return y=C.filter(M=>!E.some(N=>N.id===M.id)),g=E.filter(M=>!C.some(N=>N.id===M.id)),v=C.filter(M=>E.some(N=>N.id===M.id)),{...S,isLoading:!1,loadedAt:Date.now(),matches:E,pendingMatches:void 0,cachedMatches:[...S.cachedMatches,...y.filter(M=>M.status!=="error")]}}),this.clearExpiredCache()}),[[y,"onLeave"],[g,"onEnter"],[v,"onStay"]].forEach(([S,C])=>{S.forEach(E=>{this.looseRoutesById[E.routeId].options[C]?.(E)})})})}})}catch(d){as(d)?(s=d,this.isServer||this.navigate({...s.options,replace:!0,ignoreBlocker:!0})):Gr(d)&&(a=d),this.__store.setState(p=>({...p,statusCode:s?s.status:a?404:p.matches.some(y=>y.status==="error")?500:200,redirect:s}))}this.latestLoadPromise===c&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),f()})}),this.latestLoadPromise=c,await c;this.latestLoadPromise&&c!==this.latestLoadPromise;)await this.latestLoadPromise;let u;this.hasNotFoundMatch()?u=404:this.__store.state.matches.some(f=>f.status==="error")&&(u=500),u!==void 0&&this.__store.setState(f=>({...f,statusCode:u}))},this.startViewTransition=n=>{const s=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,s&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let a;if(typeof s=="object"&&this.isViewTransitionTypesSupported){const c=this.latestLocation,u=this.state.resolvedLocation,f=typeof s.types=="function"?s.types(ia({resolvedLocation:u,location:c})):s.types;if(f===!1){n();return}a={update:n,types:f}}else a=n;document.startViewTransition(a)}else n()},this.updateMatch=(n,s)=>{const a=this.state.pendingMatches?.some(c=>c.id===n)?"pendingMatches":this.state.matches.some(c=>c.id===n)?"matches":this.state.cachedMatches.some(c=>c.id===n)?"cachedMatches":"";a&&this.__store.setState(c=>({...c,[a]:c[a]?.map(u=>u.id===n?s(u):u)}))},this.getMatch=n=>{const s=a=>a.id===n;return this.state.cachedMatches.find(s)??this.state.pendingMatches?.find(s)??this.state.matches.find(s)},this.invalidate=n=>{const s=a=>n?.filter?.(a)??!0?{...a,invalid:!0,...n?.forcePending||a.status==="error"?{status:"pending",error:void 0}:void 0}:a;return this.__store.setState(a=>({...a,matches:a.matches.map(s),cachedMatches:a.cachedMatches.map(s),pendingMatches:a.pendingMatches?.map(s)})),this.shouldViewTransition=!1,this.load({sync:n?.sync})},this.resolveRedirect=n=>{if(!n.options.href){const s=this.buildLocation(n.options);let a=s.url;this.origin&&a.startsWith(this.origin)&&(a=a.replace(this.origin,"")||"/"),n.options.href=s.href,n.headers.set("Location",a)}return n.headers.get("Location")||n.headers.set("Location",n.options.href),n},this.clearCache=n=>{const s=n?.filter;s!==void 0?this.__store.setState(a=>({...a,cachedMatches:a.cachedMatches.filter(c=>!s(c))})):this.__store.setState(a=>({...a,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=s=>{const a=this.looseRoutesById[s.routeId];if(!a.options.loader)return!0;const c=(s.preload?a.options.preloadGcTime??this.options.defaultPreloadGcTime:a.options.gcTime??this.options.defaultGcTime)??300*1e3;return s.status==="error"?!0:Date.now()-s.updatedAt>=c};this.clearCache({filter:n})},this.loadRouteChunk=gS,this.preloadRoute=async n=>{const s=this.buildLocation(n);let a=this.matchRoutes(s,{throwOnError:!0,preload:!0,dest:n});const c=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(f=>f.id)),u=new Set([...c,...this.state.cachedMatches.map(f=>f.id)]);Ec(()=>{a.forEach(f=>{u.has(f.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,f]}))})});try{return a=await cb({router:this,matches:a,location:s,preload:!0,updateMatch:(f,d)=>{c.has(f)?a=a.map(p=>p.id===f?d(p):p):this.updateMatch(f,d)}}),a}catch(f){if(as(f))return f.options.reloadDocument?void 0:await this.preloadRoute({...f.options,_fromLocation:s});Gr(f)||console.error(f);return}},this.matchRoute=(n,s)=>{const a={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},c=this.buildLocation(a);if(s?.pending&&this.state.status!=="pending")return!1;const f=(s?.pending===void 0?!this.state.isLoading:s.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,d=tm(f.pathname,{...s,to:c.pathname},this.parsePathnameCache);return!d||n.params&&!sa(d,n.params,{partial:!0})?!1:d&&(s?.includeSearch??!0)?sa(f.search,c.search,{partial:!0})?d:!1:d},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??X2,parseSearch:e.parseSearch??K2}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(e,n){const{foundRoute:s,matchedRoutes:a,routeParams:c}=this.getMatchedRoutes(e.pathname,n?.dest?.to);let u=!1;(s?s.path!=="/"&&c["**"]:Ai(e.pathname))&&(this.options.notFoundRoute?a.push(this.options.notFoundRoute):u=!0);const f=(()=>{if(u){if(this.options.notFoundMode!=="root")for(let y=a.length-1;y>=0;y--){const g=a[y];if(g.children)return g.id}return lr}})(),d=[],p=y=>y?.id?y.context??this.options.context??void 0:this.options.context??void 0;return a.forEach((y,g)=>{const v=d[g-1],[S,C,E]=(()=>{const Ce=v?.search??e.search,Te=v?._strictSearch??void 0;try{const ge=rm(y.options.validateSearch,{...Ce})??void 0;return[{...Ce,...ge},{...Te,...ge},void 0]}catch(ge){let Le=ge;if(ge instanceof Zu||(Le=new Zu(ge.message,{cause:ge})),n?.throwOnError)throw Le;return[Ce,{},Le]}})(),M=y.options.loaderDeps?.({search:S})??"",N=M?JSON.stringify(M):"",{interpolatedPath:D,usedParams:k}=lu({path:y.fullPath,params:c,decodeCharMap:this.pathParamsDecodeCharMap}),j=lu({path:y.id,params:c,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath+N,F=this.getMatch(j),Z=this.state.matches.find(Ce=>Ce.routeId===y.id),Y=F?._strictParams??k;let K;if(!F){const Ce=y.options.params?.parse??y.options.parseParams;if(Ce)try{Object.assign(Y,Ce(Y))}catch(Te){if(K=new cA(Te.message,{cause:Te}),n?.throwOnError)throw K}}Object.assign(c,Y);const pe=Z?"stay":"enter";let ve;if(F)ve={...F,cause:pe,params:Z?Dr(Z.params,c):c,_strictParams:Y,search:Dr(Z?Z.search:F.search,S),_strictSearch:C};else{const Ce=y.options.loader||y.options.beforeLoad||y.lazyFn||vS(y)?"pending":"success";ve={id:j,index:g,routeId:y.id,params:Z?Dr(Z.params,c):c,_strictParams:Y,pathname:D,updatedAt:Date.now(),search:Z?Dr(Z.search,S):S,_strictSearch:C,searchError:void 0,status:Ce,isFetching:!1,error:void 0,paramsError:K,__routeContext:void 0,_nonReactive:{loadPromise:ro()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:pe,loaderDeps:Z?Dr(Z.loaderDeps,M):M,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:y.options.staticData||{},fullPath:y.fullPath}}n?.preload||(ve.globalNotFound=f===y.id),ve.searchError=E;const _e=p(v);ve.context={..._e,...ve.__routeContext,...ve.__beforeLoadContext},d.push(ve)}),d.forEach((y,g)=>{const v=this.looseRoutesById[y.routeId];if(!this.getMatch(y.id)&&n?._buildLocation!==!0){const C=d[g-1],E=p(C);if(v.options.context){const M={deps:y.loaderDeps,params:y.params,context:E??{},location:e,navigate:N=>this.navigate({...N,_fromLocation:e}),buildLocation:this.buildLocation,cause:y.cause,abortController:y.abortController,preload:!!y.preload,matches:d};y.__routeContext=v.options.context(M)??void 0}y.context={...E,...y.__routeContext,...y.__beforeLoadContext}}}),d}}class Zu extends Error{}class cA extends Error{}function lA(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function rm(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new Zu("Async validation not supported");if(n.issues)throw new Zu(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function uA({pathname:t,routePathname:e,caseSensitive:n,routesByPath:s,routesById:a,flatRoutes:c,parseCache:u}){let f={};const d=Ai(t),p=S=>tm(d,{to:S.fullPath,caseSensitive:S.options?.caseSensitive??n,fuzzy:!0},u);let y=e!==void 0?s[e]:void 0;if(y)f=p(y);else{let S;for(const C of c){const E=p(C);if(E)if(C.path!=="/"&&E["**"])S||(S={foundRoute:C,routeParams:E});else{y=C,f=E;break}}!y&&S&&(y=S.foundRoute,f=S.routeParams)}let g=y||a[lr];const v=[g];for(;g.parentRoute;)g=g.parentRoute,v.push(g);return v.reverse(),{matchedRoutes:v,routeParams:f,foundRoute:y}}function fA({search:t,dest:e,destRoutes:n,_includeValidateSearch:s}){const a=n.reduce((f,d)=>{const p=[];if("search"in d.options)d.options.search?.middlewares&&p.push(...d.options.search.middlewares);else if(d.options.preSearchFilters||d.options.postSearchFilters){const y=({search:g,next:v})=>{let S=g;"preSearchFilters"in d.options&&d.options.preSearchFilters&&(S=d.options.preSearchFilters.reduce((E,M)=>M(E),g));const C=v(S);return"postSearchFilters"in d.options&&d.options.postSearchFilters?d.options.postSearchFilters.reduce((E,M)=>M(E),C):C};p.push(y)}if(s&&d.options.validateSearch){const y=({search:g,next:v})=>{const S=v(g);try{return{...S,...rm(d.options.validateSearch,S)??void 0}}catch{return S}};p.push(y)}return f.concat(p)},[])??[],c=({search:f})=>e.search?e.search===!0?f:ra(e.search,f):{};a.push(c);const u=(f,d)=>{if(f>=a.length)return d;const p=a[f];return p({search:d,next:g=>u(f+1,g)})};return u(0,t)}const dA="Error preloading route! ";class _S{constructor(e){if(this.init=n=>{this.originalIndex=n.originalIndex;const s=this.options,a=!s?.path&&!s?.id;this.parentRoute=this.options.getParentRoute?.(),a?this._path=lr:this.parentRoute||Zs(!1);let c=a?lr:s?.path;c&&c!=="/"&&(c=ty(c));const u=s?.id||c;let f=a?lr:Ks([this.parentRoute.id===lr?"":this.parentRoute.id,u]);c===lr&&(c="/"),f!==lr&&(f=Ks(["/",f]));const d=f===lr?"/":Ks([this.parentRoute.fullPath,c]);this._path=c,this._id=f,this._fullPath=d,this._to=d},this.clone=n=>{this._path=n._path,this._id=n._id,this._fullPath=n._fullPath,this._to=n._to,this.options.getParentRoute=n.options.getParentRoute,this.children=n.children},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.options=e||{},this.isRoot=!e?.getParentRoute,e?.id&&e?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class hA extends _S{constructor(e){super(e)}}var T=qc();const je=Vc(T),pA=aS({__proto__:null,default:je},[T]);function ny(t){const e=t.errorComponent??wf;return b.jsx(mA,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:s})=>n?T.createElement(e,{error:n,reset:s}):t.children})}class mA extends T.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function wf({error:t}){const[e,n]=T.useState(!1);return b.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[b.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),b.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(s=>!s),children:e?"Hide Error":"Show Error"})]}),b.jsx("div",{style:{height:".25rem"}}),e?b.jsx("div",{children:b.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?b.jsx("code",{children:t.message}):null})}):null]})}function yA({children:t,fallback:e=null}){return gA()?b.jsx(je.Fragment,{children:t}):b.jsx(je.Fragment,{children:e})}function gA(){return je.useSyncExternalStore(vA,()=>!0,()=>!1)}function vA(){return()=>{}}var up={exports:{}},fp={},dp={exports:{}},hp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lb;function xA(){if(lb)return hp;lb=1;var t=qc();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:e,s=t.useState,a=t.useEffect,c=t.useLayoutEffect,u=t.useDebugValue;function f(g,v){var S=v(),C=s({inst:{value:S,getSnapshot:v}}),E=C[0].inst,M=C[1];return c(function(){E.value=S,E.getSnapshot=v,d(E)&&M({inst:E})},[g,S,v]),a(function(){return d(E)&&M({inst:E}),g(function(){d(E)&&M({inst:E})})},[g]),u(S),S}function d(g){var v=g.getSnapshot;g=g.value;try{var S=v();return!n(g,S)}catch{return!0}}function p(g,v){return v()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:f;return hp.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:y,hp}var ub;function wS(){return ub||(ub=1,dp.exports=xA()),dp.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb;function bA(){if(fb)return fp;fb=1;var t=qc(),e=wS();function n(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var s=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,c=t.useRef,u=t.useEffect,f=t.useMemo,d=t.useDebugValue;return fp.useSyncExternalStoreWithSelector=function(p,y,g,v,S){var C=c(null);if(C.current===null){var E={hasValue:!1,value:null};C.current=E}else E=C.current;C=f(function(){function N(Z){if(!D){if(D=!0,k=Z,Z=v(Z),S!==void 0&&E.hasValue){var Y=E.value;if(S(Y,Z))return j=Y}return j=Z}if(Y=j,s(k,Z))return Y;var K=v(Z);return S!==void 0&&S(Y,K)?(k=Z,Y):(k=Z,j=K)}var D=!1,k,j,F=g===void 0?null:g;return[function(){return N(y())},F===null?void 0:function(){return N(F())}]},[y,g,v,S]);var M=a(p,C[0],C[1]);return u(function(){E.hasValue=!0,E.value=M},[M]),d(M),M},fp}var db;function SA(){return db||(db=1,up.exports=bA()),up.exports}var _A=SA();function wA(t,e=n=>n){return _A.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,CA)}function CA(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[s,a]of t)if(!e.has(s)||!Object.is(a,e.get(s)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0}if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();const n=hb(t);if(n.length!==hb(e).length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(e,n[s])||!Object.is(t[n[s]],e[n[s]]))return!1;return!0}function hb(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}const pp=T.createContext(null);function CS(){return typeof document>"u"?pp:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=pp,pp)}function Cr(t){const e=T.useContext(CS());return t?.warn,e}function ur(t){const e=Cr({warn:t?.router===void 0}),n=t?.router||e,s=T.useRef(void 0);return wA(n.__store,a=>{if(t?.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const c=Dr(s.current,t.select(a));return s.current=c,c}return t.select(a)}return a})}const Cf=T.createContext(void 0),EA=T.createContext(void 0);function ps(t){const e=T.useContext(t.from?EA:Cf);return ur({select:s=>{const a=s.matches.find(c=>t.from?t.from===c.routeId:c.id===e);if(Zs(!((t.shouldThrow??!0)&&!a),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),a!==void 0)return t.select?t.select(a):a},structuralSharing:t.structuralSharing})}function ry(t){return ps({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function sy(t){const{select:e,...n}=t;return ps({...n,select:s=>e?e(s.loaderDeps):s.loaderDeps})}function iy(t){return ps({from:t.from,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,strict:t.strict,select:e=>{const n=t.strict===!1?e.params:e._strictParams;return t.select?t.select(n):n}})}function ay(t){return ps({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function Ef(t){const e=Cr();return T.useCallback(n=>e.navigate({...n,from:n.from??t?.from}),[t?.from,e])}var Fc=oS();const TA=Vc(Fc),du=typeof window<"u"?T.useLayoutEffect:T.useEffect;function mp(t){const e=T.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function RA(t,e,n={},s={}){T.useEffect(()=>{if(!t.current||s.disabled||typeof IntersectionObserver!="function")return;const a=new IntersectionObserver(([c])=>{e(c)},n);return a.observe(t.current),()=>{a.disconnect()}},[e,n,s.disabled,t])}function AA(t){const e=T.useRef(null);return T.useImperativeHandle(t,()=>e.current,[]),e}function OA(t,e){const n=Cr(),[s,a]=T.useState(!1),c=T.useRef(!1),u=AA(e),{activeProps:f,inactiveProps:d,activeOptions:p,to:y,preload:g,preloadDelay:v,hashScrollIntoView:S,replace:C,startTransition:E,resetScroll:M,viewTransition:N,children:D,target:k,disabled:j,style:F,className:Z,onClick:Y,onFocus:K,onMouseEnter:pe,onMouseLeave:ve,onTouchStart:_e,ignoreBlocker:Ce,params:Te,search:ge,hash:Le,state:L,mask:ee,reloadDocument:G,unsafeRelative:Re,from:Ke,_fromLocation:z,...ie}=t,le=ur({select:at=>at.location.search,structuralSharing:!0}),xe=t.from,Se=T.useMemo(()=>({...t,from:xe}),[n,le,xe,t._fromLocation,t.hash,t.to,t.search,t.params,t.state,t.mask,t.unsafeRelative]),Ee=T.useMemo(()=>n.buildLocation({...Se}),[n,Se]),Pe=T.useMemo(()=>{if(j)return;let at=Ee.maskedLocation?Ee.maskedLocation.url:Ee.url,ht=!1;return n.origin&&(at.startsWith(n.origin)?at=n.history.createHref(at.replace(n.origin,""))||"/":ht=!0),{href:at,external:ht}},[j,Ee.maskedLocation,Ee.url,n.origin,n.history]),it=T.useMemo(()=>{if(Pe?.external)return Pe.href;try{return new URL(y),y}catch{}},[y,Pe]),B=t.reloadDocument||it?!1:g??n.options.defaultPreload,J=v??n.options.defaultPreloadDelay??0,fe=ur({select:at=>{if(it)return!1;if(p?.exact){if(!g2(at.location.pathname,Ee.pathname,n.basepath))return!1}else{const ht=Ku(at.location.pathname,n.basepath),Qt=Ku(Ee.pathname,n.basepath);if(!(ht.startsWith(Qt)&&(ht.length===Qt.length||ht[Qt.length]==="/")))return!1}return(p?.includeSearch??!0)&&!sa(at.location.search,Ee.search,{partial:!p?.exact,ignoreUndefined:!p?.explicitUndefined})?!1:p?.includeHash?at.location.hash===Ee.hash:!0}}),Ne=T.useCallback(()=>{n.preloadRoute({...Se}).catch(at=>{console.warn(at),console.warn(dA)})},[n,Se]),Ie=T.useCallback(at=>{at?.isIntersecting&&Ne()},[Ne]);RA(u,Ie,kA,{disabled:!!j||B!=="viewport"}),T.useEffect(()=>{c.current||!j&&B==="render"&&(Ne(),c.current=!0)},[j,Ne,B]);const ze=at=>{const ht=at.currentTarget.target,Qt=k!==void 0?k:ht;if(!j&&!jA(at)&&!at.defaultPrevented&&(!Qt||Qt==="_self")&&at.button===0){at.preventDefault(),Fc.flushSync(()=>{a(!0)});const Tn=n.subscribe("onResolved",()=>{Tn(),a(!1)});n.navigate({...Se,replace:C,resetScroll:M,hashScrollIntoView:S,startTransition:E,viewTransition:N,ignoreBlocker:Ce})}};if(it)return{...ie,ref:u,href:it,...D&&{children:D},...k&&{target:k},...j&&{disabled:j},...F&&{style:F},...Z&&{className:Z},...Y&&{onClick:Y},...K&&{onFocus:K},...pe&&{onMouseEnter:pe},...ve&&{onMouseLeave:ve},..._e&&{onTouchStart:_e}};const St=at=>{j||B&&Ne()},gt=St,hn=at=>{if(!(j||!B))if(!J)Ne();else{const ht=at.target;if(uc.has(ht))return;const Qt=setTimeout(()=>{uc.delete(ht),Ne()},J);uc.set(ht,Qt)}},Nt=at=>{if(j||!B||!J)return;const ht=at.target,Qt=uc.get(ht);Qt&&(clearTimeout(Qt),uc.delete(ht))},mt=fe?ra(f,{})??MA:yp,Ut=fe?yp:ra(d,{})??yp,Xt=[Z,mt.className,Ut.className].filter(Boolean).join(" "),xn=(F||mt.style||Ut.style)&&{...F,...mt.style,...Ut.style};return{...ie,...mt,...Ut,href:Pe?.href,ref:u,onClick:fc([Y,ze]),onFocus:fc([K,St]),onMouseEnter:fc([pe,hn]),onMouseLeave:fc([ve,Nt]),onTouchStart:fc([_e,gt]),disabled:!!j,target:k,...xn&&{style:xn},...Xt&&{className:Xt},...j&&PA,...fe&&NA,...s&&DA}}const yp={},MA={className:"active"},PA={role:"link","aria-disabled":!0},NA={"data-status":"active","aria-current":"page"},DA={"data-transitioning":"transitioning"},uc=new WeakMap,kA={rootMargin:"100px"},fc=t=>e=>{for(const n of t)if(n){if(e.defaultPrevented)return;n(e)}},oy=T.forwardRef((t,e)=>{const{_asChild:n,...s}=t,{type:a,ref:c,...u}=OA(s,e),f=typeof s.children=="function"?s.children({isActive:u["data-status"]==="active"}):s.children;return n===void 0&&delete u.disabled,T.createElement(n||"a",{...u,ref:c},f)});function jA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}class LA extends _S{constructor(e){super(e),this.useMatch=n=>ps({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>ps({...n,from:this.id,select:s=>n?.select?n.select(s.context):s.context}),this.useSearch=n=>ay({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>iy({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>sy({...n,from:this.id}),this.useLoaderData=n=>ry({...n,from:this.id}),this.useNavigate=()=>Ef({from:this.fullPath}),this.Link=je.forwardRef((n,s)=>b.jsx(oy,{ref:s,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function Tf(t){return new LA(t)}class UA extends hA{constructor(e){super(e),this.useMatch=n=>ps({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>ps({...n,from:this.id,select:s=>n?.select?n.select(s.context):s.context}),this.useSearch=n=>ay({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>iy({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>sy({...n,from:this.id}),this.useLoaderData=n=>ry({...n,from:this.id}),this.useNavigate=()=>Ef({from:this.fullPath}),this.Link=je.forwardRef((n,s)=>b.jsx(oy,{ref:s,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function IA(t){return new UA(t)}function pb(t){return typeof t=="object"?new mb(t,{silent:!0}).createRoute(t):new mb(t,{silent:!0}).createRoute}class mb{constructor(e,n){this.path=e,this.createRoute=s=>{this.silent;const a=Tf(s);return a.isRoot=!1,a},this.silent=n?.silent}}class yb{constructor(e){this.useMatch=n=>ps({select:n?.select,from:this.options.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>ps({from:this.options.id,select:s=>n?.select?n.select(s.context):s.context}),this.useSearch=n=>ay({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useParams=n=>iy({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>sy({...n,from:this.options.id}),this.useLoaderData=n=>ry({...n,from:this.options.id}),this.useNavigate=()=>{const n=Cr();return Ef({from:n.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function gb(t){return typeof t=="object"?new yb(t):e=>new yb({id:t,...e})}function zA(){const t=Cr(),e=T.useRef({router:t,mounted:!1}),[n,s]=T.useState(!1),{hasPendingMatches:a,isLoading:c}=ur({select:g=>({isLoading:g.isLoading,hasPendingMatches:g.matches.some(v=>v.status==="pending")}),structuralSharing:!0}),u=mp(c),f=c||n||a,d=mp(f),p=c||a,y=mp(p);return t.startTransition=g=>{s(!0),T.startTransition(()=>{g(),s(!1)})},T.useEffect(()=>{const g=t.history.subscribe(t.load),v=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Ai(t.latestLocation.href)!==Ai(v.href)&&t.commitLocation({...v,replace:!0}),()=>{g()}},[t,t.history]),du(()=>{if(typeof window<"u"&&t.ssr||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(v){console.error(v)}})()},[t]),du(()=>{u&&!c&&t.emit({type:"onLoad",...ia(t.state)})},[u,t,c]),du(()=>{y&&!p&&t.emit({type:"onBeforeRouteMount",...ia(t.state)})},[p,y,t]),du(()=>{d&&!f&&(t.emit({type:"onResolved",...ia(t.state)}),t.__store.setState(g=>({...g,status:"idle",resolvedLocation:g.location})),F2(t))},[f,d,t]),null}function BA(t){const e=ur({select:n=>`not-found-${n.location.pathname}-${n.status}`});return b.jsx(ny,{getResetKey:()=>e,onCatch:(n,s)=>{if(Gr(n))t.onCatch?.(n,s);else throw n},errorComponent:({error:n})=>{if(Gr(n))return t.fallback?.(n);throw n},children:t.children})}function HA(){return b.jsx("p",{children:"Not Found"})}function Ka(t){return b.jsx(b.Fragment,{children:t.children})}function ES(t,e,n){return e.options.notFoundComponent?b.jsx(e.options.notFoundComponent,{data:n}):t.options.defaultNotFoundComponent?b.jsx(t.options.defaultNotFoundComponent,{data:n}):b.jsx(HA,{})}function $A({children:t}){const e=Cr();return e.isServer?b.jsx("script",{nonce:e.options.ssr?.nonce,className:"$tsr",dangerouslySetInnerHTML:{__html:[t].filter(Boolean).join(`
`)+";$_TSR.c()"}}):null}function VA(){const t=Cr();if(!t.isScrollRestoring||!t.isServer||typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation}))return null;const n=(t.options.getScrollRestorationKey||nm)(t.latestLocation),s=n!==nm(t.latestLocation)?n:void 0,a={storageKey:Xu,shouldScrollRestoration:!0};return s&&(a.key=s),b.jsx($A,{children:`(${dS.toString()})(${JSON.stringify(a)})`})}const TS=T.memo(function({matchId:e}){const n=Cr(),s=ur({select:N=>{const D=N.matches.find(k=>k.id===e);return Zs(D),{routeId:D.routeId,ssr:D.ssr,_displayPending:D._displayPending}},structuralSharing:!0}),a=n.routesById[s.routeId],c=a.options.pendingComponent??n.options.defaultPendingComponent,u=c?b.jsx(c,{}):null,f=a.options.errorComponent??n.options.defaultErrorComponent,d=a.options.onCatch??n.options.defaultOnCatch,p=a.isRoot?a.options.notFoundComponent??n.options.notFoundRoute?.options.component:a.options.notFoundComponent,y=s.ssr===!1||s.ssr==="data-only",g=(!a.isRoot||a.options.wrapInSuspense||y)&&(a.options.wrapInSuspense??c??(a.options.errorComponent?.preload||y))?T.Suspense:Ka,v=f?ny:Ka,S=p?BA:Ka,C=ur({select:N=>N.loadedAt}),E=ur({select:N=>{const D=N.matches.findIndex(k=>k.id===e);return N.matches[D-1]?.routeId}}),M=a.isRoot?a.options.shellComponent??Ka:Ka;return b.jsxs(M,{children:[b.jsx(Cf.Provider,{value:e,children:b.jsx(g,{fallback:u,children:b.jsx(v,{getResetKey:()=>C,errorComponent:f||wf,onCatch:(N,D)=>{if(Gr(N))throw N;d?.(N,D)},children:b.jsx(S,{fallback:N=>{if(!p||N.routeId&&N.routeId!==s.routeId||!N.routeId&&!a.isRoot)throw N;return T.createElement(p,N)},children:y||s._displayPending?b.jsx(yA,{fallback:u,children:b.jsx(vb,{matchId:e})}):b.jsx(vb,{matchId:e})})})})}),E===lr&&n.options.scrollRestoration?b.jsxs(b.Fragment,{children:[b.jsx(qA,{}),b.jsx(VA,{})]}):null]})});function qA(){const t=Cr(),e=T.useRef(void 0);return b.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(e.current===void 0||e.current.href!==t.latestLocation.href)&&(t.emit({type:"onRendered",...ia(t.state)}),e.current=t.latestLocation)}},t.latestLocation.state.__TSR_key)}const vb=T.memo(function({matchId:e}){const n=Cr(),{match:s,key:a,routeId:c}=ur({select:d=>{const p=d.matches.find(C=>C.id===e),y=p.routeId,v=(n.routesById[y].options.remountDeps??n.options.defaultRemountDeps)?.({routeId:y,loaderDeps:p.loaderDeps,params:p._strictParams,search:p._strictSearch});return{key:v?JSON.stringify(v):void 0,routeId:y,match:{id:p.id,status:p.status,error:p.error,_forcePending:p._forcePending,_displayPending:p._displayPending}}},structuralSharing:!0}),u=n.routesById[c],f=T.useMemo(()=>{const d=u.options.component??n.options.defaultComponent;return d?b.jsx(d,{},a):b.jsx(RS,{})},[a,u.options.component,n.options.defaultComponent]);if(s._displayPending)throw n.getMatch(s.id)?._nonReactive.displayPendingPromise;if(s._forcePending)throw n.getMatch(s.id)?._nonReactive.minPendingPromise;if(s.status==="pending"){const d=u.options.pendingMinMs??n.options.defaultPendingMinMs;if(d){const p=n.getMatch(s.id);if(p&&!p._nonReactive.minPendingPromise&&!n.isServer){const y=ro();p._nonReactive.minPendingPromise=y,setTimeout(()=>{y.resolve(),p._nonReactive.minPendingPromise=void 0},d)}}throw n.getMatch(s.id)?._nonReactive.loadPromise}if(s.status==="notFound")return Zs(Gr(s.error)),ES(n,u,s.error);if(s.status==="redirected")throw Zs(as(s.error)),n.getMatch(s.id)?._nonReactive.loadPromise;if(s.status==="error"){if(n.isServer){const d=(u.options.errorComponent??n.options.defaultErrorComponent)||wf;return b.jsx(d,{error:s.error,reset:void 0,info:{componentStack:""}})}throw s.error}return f}),RS=T.memo(function(){const e=Cr(),n=T.useContext(Cf),s=ur({select:p=>p.matches.find(y=>y.id===n)?.routeId}),a=e.routesById[s],c=ur({select:p=>{const g=p.matches.find(v=>v.id===n);return Zs(g),g.globalNotFound}}),u=ur({select:p=>{const y=p.matches,g=y.findIndex(v=>v.id===n);return y[g+1]?.id}}),f=e.options.defaultPendingComponent?b.jsx(e.options.defaultPendingComponent,{}):null;if(c)return ES(e,a,void 0);if(!u)return null;const d=b.jsx(TS,{matchId:u});return n===lr?b.jsx(T.Suspense,{fallback:f,children:d}):d});function FA(){const t=Cr(),n=t.routesById[lr].options.pendingComponent??t.options.defaultPendingComponent,s=n?b.jsx(n,{}):null,a=t.isServer||typeof document<"u"&&t.ssr?Ka:T.Suspense,c=b.jsxs(a,{fallback:s,children:[!t.isServer&&b.jsx(zA,{}),b.jsx(YA,{})]});return t.options.InnerWrap?b.jsx(t.options.InnerWrap,{children:c}):c}function YA(){const t=Cr(),e=ur({select:a=>a.matches[0]?.id}),n=ur({select:a=>a.loadedAt}),s=e?b.jsx(TS,{matchId:e}):null;return b.jsx(Cf.Provider,{value:e,children:t.options.disableGlobalCatchBoundary?s:b.jsx(ny,{getResetKey:()=>n,errorComponent:wf,onCatch:a=>{a.message||a.toString()},children:s})})}const GA=t=>new KA(t);class KA extends oA{constructor(e){super(e)}}typeof globalThis<"u"?(globalThis.createFileRoute=pb,globalThis.createLazyFileRoute=gb):typeof window<"u"&&(window.createFileRoute=pb,window.createLazyFileRoute=gb);function XA({router:t,children:e,...n}){Object.keys(n).length>0&&t.update({...t.options,...n,context:{...t.options.context,...n.context}});const s=CS(),a=b.jsx(s.Provider,{value:t,children:e});return t.options.Wrap?b.jsx(t.options.Wrap,{children:a}):a}function QA({router:t,...e}){return b.jsx(XA,{router:t,...e,children:b.jsx(FA,{})})}var Rf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ZA={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},JA=class{#e=ZA;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},sm=new JA;function WA(t){setTimeout(t,0)}var Af=typeof window>"u"||"Deno"in globalThis;function Vr(){}function e6(t,e){return typeof t=="function"?t(e):t}function t6(t){return typeof t=="number"&&t>=0&&t!==1/0}function n6(t,e){return Math.max(t+(e||0)-Date.now(),0)}function im(t,e){return typeof t=="function"?t(e):t}function r6(t,e){return typeof t=="function"?t(e):t}function xb(t,e){const{type:n="all",exact:s,fetchStatus:a,predicate:c,queryKey:u,stale:f}=t;if(u){if(s){if(e.queryHash!==cy(u,e.options))return!1}else if(!Dc(e.queryKey,u))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||a&&a!==e.state.fetchStatus||c&&!c(e))}function bb(t,e){const{exact:n,status:s,predicate:a,mutationKey:c}=t;if(c){if(!e.options.mutationKey)return!1;if(n){if(Nc(e.options.mutationKey)!==Nc(c))return!1}else if(!Dc(e.options.mutationKey,c))return!1}return!(s&&e.state.status!==s||a&&!a(e))}function cy(t,e){return(e?.queryKeyHashFn||Nc)(t)}function Nc(t){return JSON.stringify(t,(e,n)=>am(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function Dc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Dc(t[n],e[n])):!1}var s6=Object.prototype.hasOwnProperty;function AS(t,e){if(t===e)return t;const n=Sb(t)&&Sb(e);if(!n&&!(am(t)&&am(e)))return e;const a=(n?t:Object.keys(t)).length,c=n?e:Object.keys(e),u=c.length,f=n?new Array(u):{};let d=0;for(let p=0;p<u;p++){const y=n?p:c[p],g=t[y],v=e[y];if(g===v){f[y]=g,(n?p<a:s6.call(t,y))&&d++;continue}if(g===null||v===null||typeof g!="object"||typeof v!="object"){f[y]=v;continue}const S=AS(g,v);f[y]=S,S===g&&d++}return a===u&&d===a?t:f}function Sb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function am(t){if(!_b(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!_b(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function _b(t){return Object.prototype.toString.call(t)==="[object Object]"}function i6(t){return new Promise(e=>{sm.setTimeout(e,t)})}function a6(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?AS(t,e):e}function o6(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function c6(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var ly=Symbol();function OS(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===ly?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var l6=class extends Rf{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Af&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},MS=new l6;function u6(){let t,e;const n=new Promise((a,c)=>{t=a,e=c});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),t(a)},n.reject=a=>{s({status:"rejected",reason:a}),e(a)},n}var f6=WA;function d6(){let t=[],e=0,n=f=>{f()},s=f=>{f()},a=f6;const c=f=>{e?t.push(f):a(()=>{n(f)})},u=()=>{const f=t;t=[],f.length&&a(()=>{s(()=>{f.forEach(d=>{n(d)})})})};return{batch:f=>{let d;e++;try{d=f()}finally{e--,e||u()}return d},batchCalls:f=>(...d)=>{c(()=>{f(...d)})},schedule:c,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{s=f},setScheduler:f=>{a=f}}}var er=d6(),h6=class extends Rf{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Af&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Ju=new h6;function p6(t){return Math.min(1e3*2**t,3e4)}function PS(t){return(t??"online")==="online"?Ju.isOnline():!0}var om=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function NS(t){let e=!1,n=0,s;const a=u6(),c=()=>a.status!=="pending",u=E=>{if(!c()){const M=new om(E);v(M),t.onCancel?.(M)}},f=()=>{e=!0},d=()=>{e=!1},p=()=>MS.isFocused()&&(t.networkMode==="always"||Ju.isOnline())&&t.canRun(),y=()=>PS(t.networkMode)&&t.canRun(),g=E=>{c()||(s?.(),a.resolve(E))},v=E=>{c()||(s?.(),a.reject(E))},S=()=>new Promise(E=>{s=M=>{(c()||p())&&E(M)},t.onPause?.()}).then(()=>{s=void 0,c()||t.onContinue?.()}),C=()=>{if(c())return;let E;const M=n===0?t.initialPromise:void 0;try{E=M??t.fn()}catch(N){E=Promise.reject(N)}Promise.resolve(E).then(g).catch(N=>{if(c())return;const D=t.retry??(Af?0:3),k=t.retryDelay??p6,j=typeof k=="function"?k(n,N):k,F=D===!0||typeof D=="number"&&n<D||typeof D=="function"&&D(n,N);if(e||!F){v(N);return}n++,t.onFail?.(n,N),i6(j).then(()=>p()?void 0:S()).then(()=>{e?v(N):C()})})};return{promise:a,status:()=>a.status,cancel:u,continue:()=>(s?.(),a),cancelRetry:f,continueRetry:d,canStart:y,start:()=>(y()?C():S().then(C),a)}}var DS=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),t6(this.gcTime)&&(this.#e=sm.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Af?1/0:300*1e3))}clearGcTimeout(){this.#e&&(sm.clearTimeout(this.#e),this.#e=void 0)}},m6=class extends DS{#e;#t;#n;#s;#r;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#n=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=wb(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=wb(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=a6(this.state.data,t,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(Vr).catch(Vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>r6(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ly||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>im(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!n6(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(d=>d.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},a=()=>{const f=OS(this.options,e),p=(()=>{const y={client:this.#s,queryKey:this.queryKey,meta:this.meta};return s(y),y})();return this.#o=!1,this.options.persister?this.options.persister(f,p,this):f(p)},u=(()=>{const f={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:a};return s(f),f})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#i({type:"fetch",meta:u.fetchOptions?.meta}),this.#r=NS({initialPromise:e?.initialPromise,fn:u.fetchFn,onCancel:f=>{f instanceof om&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(f,d)=>{this.#i({type:"failed",failureCount:f,error:d})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const f=await this.#r.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof om){if(f.silent)return this.#r.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#i({type:"error",error:f}),this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...y6(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?s:void 0,s;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),er.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function y6(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:PS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function wb(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function Cb(t){return{onFetch:(e,n)=>{const s=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,c=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let f={pages:[],pageParams:[]},d=0;const p=async()=>{let y=!1;const g=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},v=OS(e.options,e.fetchOptions),S=async(C,E,M)=>{if(y)return Promise.reject();if(E==null&&C.pages.length)return Promise.resolve(C);const D=(()=>{const Z={client:e.client,queryKey:e.queryKey,pageParam:E,direction:M?"backward":"forward",meta:e.options.meta};return g(Z),Z})(),k=await v(D),{maxPages:j}=e.options,F=M?c6:o6;return{pages:F(C.pages,k,j),pageParams:F(C.pageParams,E,j)}};if(a&&c.length){const C=a==="backward",E=C?g6:Eb,M={pages:c,pageParams:u},N=E(s,M);f=await S(M,N,C)}else{const C=t??c.length;do{const E=d===0?u[0]??s.initialPageParam:Eb(s,f);if(d>0&&E==null)break;f=await S(f,E),d++}while(d<C)}return f};e.options.persister?e.fetchFn=()=>e.options.persister?.(p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=p}}}function Eb(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function g6(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var v6=class extends DS{#e;#t;#n;#s;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||x6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=NS({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(c,u)=>{this.#r({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const s=this.state.status==="pending",a=!this.#s.canStart();try{if(s)e();else{this.#r({type:"pending",variables:t,isPaused:a}),await this.#n.config.onMutate?.(t,this,n);const u=await this.options.onMutate?.(t,n);u!==this.state.context&&this.#r({type:"pending",context:u,variables:t,isPaused:a})}const c=await this.#s.start();return await this.#n.config.onSuccess?.(c,t,this.state.context,this,n),await this.options.onSuccess?.(c,t,this.state.context,n),await this.#n.config.onSettled?.(c,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(c,null,t,this.state.context,n),this.#r({type:"success",data:c}),c}catch(c){try{throw await this.#n.config.onError?.(c,t,this.state.context,this,n),await this.options.onError?.(c,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,c,t,this.state.context,n),c}finally{this.#r({type:"error",error:c})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),er.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function x6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var b6=class extends Rf{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const s=new v6({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(s),s}add(t){this.#e.add(t);const e=hu(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=hu(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=hu(t);if(typeof e=="string"){const s=this.#t.get(e)?.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){const e=hu(t);return typeof e=="string"?this.#t.get(e)?.find(s=>s!==t&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){er.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>bb(e,n))}findAll(t={}){return this.getAll().filter(e=>bb(t,e))}notify(t){er.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return er.batch(()=>Promise.all(t.map(e=>e.continue().catch(Vr))))}};function hu(t){return t.options.scope?.id}var S6=class extends Rf{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const s=e.queryKey,a=e.queryHash??cy(s,e);let c=this.get(a);return c||(c=new m6({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(c)),c}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){er.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>xb(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>xb(t,n)):e}notify(t){er.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){er.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){er.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},_6=class{#e;#t;#n;#s;#r;#a;#o;#i;constructor(t={}){this.#e=t.queryCache||new S6,this.#t=t.mutationCache||new b6,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=MS.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Ju.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(im(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),c=this.#e.get(s.queryHash)?.state.data,u=e6(e,c);if(u!==void 0)return this.#e.build(this,s).setData(u,{...n,manual:!0})}setQueriesData(t,e,n){return er.batch(()=>this.#e.findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;er.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return er.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=er.batch(()=>this.#e.findAll(t).map(a=>a.cancel(n)));return Promise.all(s).then(Vr).catch(Vr)}invalidateQueries(t,e={}){return er.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=er.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let c=a.fetch(void 0,n);return n.throwOnError||(c=c.catch(Vr)),a.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(s).then(Vr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(im(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Vr).catch(Vr)}fetchInfiniteQuery(t){return t.behavior=Cb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Vr).catch(Vr)}ensureInfiniteQueryData(t){return t.behavior=Cb(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ju.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(Nc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(s=>{Dc(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Nc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(s=>{Dc(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=cy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ly&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},w6=T.createContext(void 0),C6=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),b.jsx(w6.Provider,{value:t,children:e}));async function E6(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const T6=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return await E6(n),await n.json()},R6=new _6({defaultOptions:{queries:{queryFn:T6({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),A6=1,O6=1e3;let gp=0;function M6(){return gp=(gp+1)%Number.MAX_SAFE_INTEGER,gp.toString()}const vp=new Map,Tb=t=>{if(vp.has(t))return;const e=setTimeout(()=>{vp.delete(t),Rc({type:"REMOVE_TOAST",toastId:t})},O6);vp.set(t,e)},P6=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,A6)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Tb(n):t.toasts.forEach(s=>{Tb(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Pu=[];let Nu={toasts:[]};function Rc(t){Nu=P6(Nu,t),Pu.forEach(e=>{e(Nu)})}function N6({...t}){const e=M6(),n=a=>Rc({type:"UPDATE_TOAST",toast:{...a,id:e}}),s=()=>Rc({type:"DISMISS_TOAST",toastId:e});return Rc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:a=>{a||s()}}}),{id:e,dismiss:s,update:n}}function kS(){const[t,e]=T.useState(Nu);return T.useEffect(()=>(Pu.push(e),()=>{const n=Pu.indexOf(e);n>-1&&Pu.splice(n,1)}),[t]),{...t,toast:N6,dismiss:n=>Rc({type:"DISMISS_TOAST",toastId:n})}}function Lt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t?.(a),n===!1||!a.defaultPrevented)return e?.(a)}}function Rb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function jS(...t){return e=>{let n=!1;const s=t.map(a=>{const c=Rb(a,e);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let a=0;a<s.length;a++){const c=s[a];typeof c=="function"?c():Rb(t[a],null)}}}}function an(...t){return T.useCallback(jS(...t),t)}function Ni(t,e=[]){let n=[];function s(c,u){const f=T.createContext(u),d=n.length;n=[...n,u];const p=g=>{const{scope:v,children:S,...C}=g,E=v?.[t]?.[d]||f,M=T.useMemo(()=>C,Object.values(C));return b.jsx(E.Provider,{value:M,children:S})};p.displayName=c+"Provider";function y(g,v){const S=v?.[t]?.[d]||f,C=T.useContext(S);if(C)return C;if(u!==void 0)return u;throw new Error(`\`${g}\` must be used within \`${c}\``)}return[p,y]}const a=()=>{const c=n.map(u=>T.createContext(u));return function(f){const d=f?.[t]||c;return T.useMemo(()=>({[`__scope${t}`]:{...f,[t]:d}}),[f,d])}};return a.scopeName=t,[s,D6(a,...e)]}function D6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const u=s.reduce((f,{useScope:d,scopeName:p})=>{const g=d(c)[`__scope${p}`];return{...f,...g}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function Wu(t){const e=j6(t),n=T.forwardRef((s,a)=>{const{children:c,...u}=s,f=T.Children.toArray(c),d=f.find(U6);if(d){const p=d.props.children,y=f.map(g=>g===d?T.Children.count(p)>1?T.Children.only(null):T.isValidElement(p)?p.props.children:null:g);return b.jsx(e,{...u,ref:a,children:T.isValidElement(p)?T.cloneElement(p,void 0,y):null})}return b.jsx(e,{...u,ref:a,children:c})});return n.displayName=`${t}.Slot`,n}var k6=Wu("Slot");function j6(t){const e=T.forwardRef((n,s)=>{const{children:a,...c}=n;if(T.isValidElement(a)){const u=z6(a),f=I6(c,a.props);return a.type!==T.Fragment&&(f.ref=s?jS(s,u):u),T.cloneElement(a,f)}return T.Children.count(a)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var LS=Symbol("radix.slottable");function L6(t){const e=({children:n})=>b.jsx(b.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=LS,e}function U6(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===LS}function I6(t,e){const n={...e};for(const s in e){const a=t[s],c=e[s];/^on[A-Z]/.test(s)?a&&c?n[s]=(...f)=>{const d=c(...f);return a(...f),d}:a&&(n[s]=a):s==="style"?n[s]={...a,...c}:s==="className"&&(n[s]=[a,c].filter(Boolean).join(" "))}return{...t,...n}}function z6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function US(t){const e=t+"CollectionProvider",[n,s]=Ni(e),[a,c]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=E=>{const{scope:M,children:N}=E,D=je.useRef(null),k=je.useRef(new Map).current;return b.jsx(a,{scope:M,itemMap:k,collectionRef:D,children:N})};u.displayName=e;const f=t+"CollectionSlot",d=Wu(f),p=je.forwardRef((E,M)=>{const{scope:N,children:D}=E,k=c(f,N),j=an(M,k.collectionRef);return b.jsx(d,{ref:j,children:D})});p.displayName=f;const y=t+"CollectionItemSlot",g="data-radix-collection-item",v=Wu(y),S=je.forwardRef((E,M)=>{const{scope:N,children:D,...k}=E,j=je.useRef(null),F=an(M,j),Z=c(y,N);return je.useEffect(()=>(Z.itemMap.set(j,{ref:j,...k}),()=>void Z.itemMap.delete(j))),b.jsx(v,{[g]:"",ref:F,children:D})});S.displayName=y;function C(E){const M=c(t+"CollectionConsumer",E);return je.useCallback(()=>{const D=M.collectionRef.current;if(!D)return[];const k=Array.from(D.querySelectorAll(`[${g}]`));return Array.from(M.itemMap.values()).sort((Z,Y)=>k.indexOf(Z.ref.current)-k.indexOf(Y.ref.current))},[M.collectionRef,M.itemMap])}return[{Provider:u,Slot:p,ItemSlot:S},C,s]}var B6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bt=B6.reduce((t,e)=>{const n=Wu(`Primitive.${e}`),s=T.forwardRef((a,c)=>{const{asChild:u,...f}=a,d=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(d,{...f,ref:c})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function IS(t,e){t&&Fc.flushSync(()=>t.dispatchEvent(e))}function Fn(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>e.current?.(...n),[])}function H6(t,e=globalThis?.document){const n=Fn(t);T.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var $6="DismissableLayer",cm="dismissableLayer.update",V6="dismissableLayer.pointerDownOutside",q6="dismissableLayer.focusOutside",Ab,zS=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),uy=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...d}=t,p=T.useContext(zS),[y,g]=T.useState(null),v=y?.ownerDocument??globalThis?.document,[,S]=T.useState({}),C=an(e,Y=>g(Y)),E=Array.from(p.layers),[M]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),N=E.indexOf(M),D=y?E.indexOf(y):-1,k=p.layersWithOutsidePointerEventsDisabled.size>0,j=D>=N,F=Y6(Y=>{const K=Y.target,pe=[...p.branches].some(ve=>ve.contains(K));!j||pe||(a?.(Y),u?.(Y),Y.defaultPrevented||f?.())},v),Z=G6(Y=>{const K=Y.target;[...p.branches].some(ve=>ve.contains(K))||(c?.(Y),u?.(Y),Y.defaultPrevented||f?.())},v);return H6(Y=>{D===p.layers.size-1&&(s?.(Y),!Y.defaultPrevented&&f&&(Y.preventDefault(),f()))},v),T.useEffect(()=>{if(y)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Ab=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),Ob(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Ab)}},[y,v,n,p]),T.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),Ob())},[y,p]),T.useEffect(()=>{const Y=()=>S({});return document.addEventListener(cm,Y),()=>document.removeEventListener(cm,Y)},[]),b.jsx(Bt.div,{...d,ref:C,style:{pointerEvents:k?j?"auto":"none":void 0,...t.style},onFocusCapture:Lt(t.onFocusCapture,Z.onFocusCapture),onBlurCapture:Lt(t.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:Lt(t.onPointerDownCapture,F.onPointerDownCapture)})});uy.displayName=$6;var F6="DismissableLayerBranch",BS=T.forwardRef((t,e)=>{const n=T.useContext(zS),s=T.useRef(null),a=an(e,s);return T.useEffect(()=>{const c=s.current;if(c)return n.branches.add(c),()=>{n.branches.delete(c)}},[n.branches]),b.jsx(Bt.div,{...t,ref:a})});BS.displayName=F6;function Y6(t,e=globalThis?.document){const n=Fn(t),s=T.useRef(!1),a=T.useRef(()=>{});return T.useEffect(()=>{const c=f=>{if(f.target&&!s.current){let d=function(){HS(V6,n,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=d,e.addEventListener("click",a.current,{once:!0})):d()}else e.removeEventListener("click",a.current);s.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",c),e.removeEventListener("click",a.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function G6(t,e=globalThis?.document){const n=Fn(t),s=T.useRef(!1);return T.useEffect(()=>{const a=c=>{c.target&&!s.current&&HS(q6,n,{originalEvent:c},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Ob(){const t=new CustomEvent(cm);document.dispatchEvent(t)}function HS(t,e,n,{discrete:s}){const a=n.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&a.addEventListener(t,e,{once:!0}),s?IS(a,c):a.dispatchEvent(c)}var K6=uy,X6=BS,jr=globalThis?.document?T.useLayoutEffect:()=>{},Q6="Portal",$S=T.forwardRef((t,e)=>{const{container:n,...s}=t,[a,c]=T.useState(!1);jr(()=>c(!0),[]);const u=n||a&&globalThis?.document?.body;return u?TA.createPortal(b.jsx(Bt.div,{...s,ref:e}),u):null});$S.displayName=Q6;function Z6(t,e){return T.useReducer((n,s)=>e[n][s]??n,t)}var da=t=>{const{present:e,children:n}=t,s=J6(e),a=typeof n=="function"?n({present:s.isPresent}):T.Children.only(n),c=an(s.ref,W6(a));return typeof n=="function"||s.isPresent?T.cloneElement(a,{ref:c}):null};da.displayName="Presence";function J6(t){const[e,n]=T.useState(),s=T.useRef(null),a=T.useRef(t),c=T.useRef("none"),u=t?"mounted":"unmounted",[f,d]=Z6(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const p=pu(s.current);c.current=f==="mounted"?p:"none"},[f]),jr(()=>{const p=s.current,y=a.current;if(y!==t){const v=c.current,S=pu(p);t?d("MOUNT"):S==="none"||p?.display==="none"?d("UNMOUNT"):d(y&&v!==S?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,d]),jr(()=>{if(e){let p;const y=e.ownerDocument.defaultView??window,g=S=>{const E=pu(s.current).includes(CSS.escape(S.animationName));if(S.target===e&&E&&(d("ANIMATION_END"),!a.current)){const M=e.style.animationFillMode;e.style.animationFillMode="forwards",p=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=M)})}},v=S=>{S.target===e&&(c.current=pu(s.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{y.clearTimeout(p),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:T.useCallback(p=>{s.current=p?getComputedStyle(p):null,n(p)},[])}}function pu(t){return t?.animationName||"none"}function W6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var eO=pA[" useInsertionEffect ".trim().toString()]||jr;function VS({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[a,c,u]=tO({defaultProp:e,onChange:n}),f=t!==void 0,d=f?t:a;{const y=T.useRef(t!==void 0);T.useEffect(()=>{const g=y.current;g!==f&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=f},[f,s])}const p=T.useCallback(y=>{if(f){const g=nO(y)?y(t):y;g!==t&&u.current?.(g)}else c(y)},[f,t,c,u]);return[d,p]}function tO({defaultProp:t,onChange:e}){const[n,s]=T.useState(t),a=T.useRef(n),c=T.useRef(e);return eO(()=>{c.current=e},[e]),T.useEffect(()=>{a.current!==n&&(c.current?.(n),a.current=n)},[n,a]),[n,s,c]}function nO(t){return typeof t=="function"}var rO=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),sO="VisuallyHidden",Of=T.forwardRef((t,e)=>b.jsx(Bt.span,{...t,ref:e,style:{...rO,...t.style}}));Of.displayName=sO;var iO=Of,fy="ToastProvider",[dy,aO,oO]=US("Toast"),[qS]=Ni("Toast",[oO]),[cO,Mf]=qS(fy),FS=t=>{const{__scopeToast:e,label:n="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:c=50,children:u}=t,[f,d]=T.useState(null),[p,y]=T.useState(0),g=T.useRef(!1),v=T.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${fy}\`. Expected non-empty \`string\`.`),b.jsx(dy.Provider,{scope:e,children:b.jsx(cO,{scope:e,label:n,duration:s,swipeDirection:a,swipeThreshold:c,toastCount:p,viewport:f,onViewportChange:d,onToastAdd:T.useCallback(()=>y(S=>S+1),[]),onToastRemove:T.useCallback(()=>y(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:v,children:u})})};FS.displayName=fy;var YS="ToastViewport",lO=["F8"],lm="toast.viewportPause",um="toast.viewportResume",GS=T.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:s=lO,label:a="Notifications ({hotkey})",...c}=t,u=Mf(YS,n),f=aO(n),d=T.useRef(null),p=T.useRef(null),y=T.useRef(null),g=T.useRef(null),v=an(e,g,u.onViewportChange),S=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=u.toastCount>0;T.useEffect(()=>{const M=N=>{s.length!==0&&s.every(k=>N[k]||N.code===k)&&g.current?.focus()};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[s]),T.useEffect(()=>{const M=d.current,N=g.current;if(C&&M&&N){const D=()=>{if(!u.isClosePausedRef.current){const Z=new CustomEvent(lm);N.dispatchEvent(Z),u.isClosePausedRef.current=!0}},k=()=>{if(u.isClosePausedRef.current){const Z=new CustomEvent(um);N.dispatchEvent(Z),u.isClosePausedRef.current=!1}},j=Z=>{!M.contains(Z.relatedTarget)&&k()},F=()=>{M.contains(document.activeElement)||k()};return M.addEventListener("focusin",D),M.addEventListener("focusout",j),M.addEventListener("pointermove",D),M.addEventListener("pointerleave",F),window.addEventListener("blur",D),window.addEventListener("focus",k),()=>{M.removeEventListener("focusin",D),M.removeEventListener("focusout",j),M.removeEventListener("pointermove",D),M.removeEventListener("pointerleave",F),window.removeEventListener("blur",D),window.removeEventListener("focus",k)}}},[C,u.isClosePausedRef]);const E=T.useCallback(({tabbingDirection:M})=>{const D=f().map(k=>{const j=k.ref.current,F=[j,..._O(j)];return M==="forwards"?F:F.reverse()});return(M==="forwards"?D.reverse():D).flat()},[f]);return T.useEffect(()=>{const M=g.current;if(M){const N=D=>{const k=D.altKey||D.ctrlKey||D.metaKey;if(D.key==="Tab"&&!k){const F=document.activeElement,Z=D.shiftKey;if(D.target===M&&Z){p.current?.focus();return}const pe=E({tabbingDirection:Z?"backwards":"forwards"}),ve=pe.findIndex(_e=>_e===F);xp(pe.slice(ve+1))?D.preventDefault():Z?p.current?.focus():y.current?.focus()}};return M.addEventListener("keydown",N),()=>M.removeEventListener("keydown",N)}},[f,E]),b.jsxs(X6,{ref:d,role:"region","aria-label":a.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&b.jsx(fm,{ref:p,onFocusFromOutsideViewport:()=>{const M=E({tabbingDirection:"forwards"});xp(M)}}),b.jsx(dy.Slot,{scope:n,children:b.jsx(Bt.ol,{tabIndex:-1,...c,ref:v})}),C&&b.jsx(fm,{ref:y,onFocusFromOutsideViewport:()=>{const M=E({tabbingDirection:"backwards"});xp(M)}})]})});GS.displayName=YS;var KS="ToastFocusProxy",fm=T.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...a}=t,c=Mf(KS,n);return b.jsx(Of,{tabIndex:0,...a,ref:e,style:{position:"fixed"},onFocus:u=>{const f=u.relatedTarget;!c.viewport?.contains(f)&&s()}})});fm.displayName=KS;var Yc="Toast",uO="toast.swipeStart",fO="toast.swipeMove",dO="toast.swipeCancel",hO="toast.swipeEnd",XS=T.forwardRef((t,e)=>{const{forceMount:n,open:s,defaultOpen:a,onOpenChange:c,...u}=t,[f,d]=VS({prop:s,defaultProp:a??!0,onChange:c,caller:Yc});return b.jsx(da,{present:n||f,children:b.jsx(yO,{open:f,...u,ref:e,onClose:()=>d(!1),onPause:Fn(t.onPause),onResume:Fn(t.onResume),onSwipeStart:Lt(t.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Lt(t.onSwipeMove,p=>{const{x:y,y:g}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:Lt(t.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Lt(t.onSwipeEnd,p=>{const{x:y,y:g}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),d(!1)})})})});XS.displayName=Yc;var[pO,mO]=qS(Yc,{onClose(){}}),yO=T.forwardRef((t,e)=>{const{__scopeToast:n,type:s="foreground",duration:a,open:c,onClose:u,onEscapeKeyDown:f,onPause:d,onResume:p,onSwipeStart:y,onSwipeMove:g,onSwipeCancel:v,onSwipeEnd:S,...C}=t,E=Mf(Yc,n),[M,N]=T.useState(null),D=an(e,ge=>N(ge)),k=T.useRef(null),j=T.useRef(null),F=a||E.duration,Z=T.useRef(0),Y=T.useRef(F),K=T.useRef(0),{onToastAdd:pe,onToastRemove:ve}=E,_e=Fn(()=>{M?.contains(document.activeElement)&&E.viewport?.focus(),u()}),Ce=T.useCallback(ge=>{!ge||ge===1/0||(window.clearTimeout(K.current),Z.current=new Date().getTime(),K.current=window.setTimeout(_e,ge))},[_e]);T.useEffect(()=>{const ge=E.viewport;if(ge){const Le=()=>{Ce(Y.current),p?.()},L=()=>{const ee=new Date().getTime()-Z.current;Y.current=Y.current-ee,window.clearTimeout(K.current),d?.()};return ge.addEventListener(lm,L),ge.addEventListener(um,Le),()=>{ge.removeEventListener(lm,L),ge.removeEventListener(um,Le)}}},[E.viewport,F,d,p,Ce]),T.useEffect(()=>{c&&!E.isClosePausedRef.current&&Ce(F)},[c,F,E.isClosePausedRef,Ce]),T.useEffect(()=>(pe(),()=>ve()),[pe,ve]);const Te=T.useMemo(()=>M?n_(M):null,[M]);return E.viewport?b.jsxs(b.Fragment,{children:[Te&&b.jsx(gO,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite",children:Te}),b.jsx(pO,{scope:n,onClose:_e,children:Fc.createPortal(b.jsx(dy.ItemSlot,{scope:n,children:b.jsx(K6,{asChild:!0,onEscapeKeyDown:Lt(f,()=>{E.isFocusedToastEscapeKeyDownRef.current||_e(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:b.jsx(Bt.li,{tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":E.swipeDirection,...C,ref:D,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Lt(t.onKeyDown,ge=>{ge.key==="Escape"&&(f?.(ge.nativeEvent),ge.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,_e()))}),onPointerDown:Lt(t.onPointerDown,ge=>{ge.button===0&&(k.current={x:ge.clientX,y:ge.clientY})}),onPointerMove:Lt(t.onPointerMove,ge=>{if(!k.current)return;const Le=ge.clientX-k.current.x,L=ge.clientY-k.current.y,ee=!!j.current,G=["left","right"].includes(E.swipeDirection),Re=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,Ke=G?Re(0,Le):0,z=G?0:Re(0,L),ie=ge.pointerType==="touch"?10:2,le={x:Ke,y:z},xe={originalEvent:ge,delta:le};ee?(j.current=le,mu(fO,g,xe,{discrete:!1})):Mb(le,E.swipeDirection,ie)?(j.current=le,mu(uO,y,xe,{discrete:!1}),ge.target.setPointerCapture(ge.pointerId)):(Math.abs(Le)>ie||Math.abs(L)>ie)&&(k.current=null)}),onPointerUp:Lt(t.onPointerUp,ge=>{const Le=j.current,L=ge.target;if(L.hasPointerCapture(ge.pointerId)&&L.releasePointerCapture(ge.pointerId),j.current=null,k.current=null,Le){const ee=ge.currentTarget,G={originalEvent:ge,delta:Le};Mb(Le,E.swipeDirection,E.swipeThreshold)?mu(hO,S,G,{discrete:!0}):mu(dO,v,G,{discrete:!0}),ee.addEventListener("click",Re=>Re.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),gO=t=>{const{__scopeToast:e,children:n,...s}=t,a=Mf(Yc,e),[c,u]=T.useState(!1),[f,d]=T.useState(!1);return bO(()=>u(!0)),T.useEffect(()=>{const p=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(p)},[]),f?null:b.jsx($S,{asChild:!0,children:b.jsx(Of,{...s,children:c&&b.jsxs(b.Fragment,{children:[a.label," ",n]})})})},vO="ToastTitle",QS=T.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return b.jsx(Bt.div,{...s,ref:e})});QS.displayName=vO;var xO="ToastDescription",ZS=T.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return b.jsx(Bt.div,{...s,ref:e})});ZS.displayName=xO;var JS="ToastAction",WS=T.forwardRef((t,e)=>{const{altText:n,...s}=t;return n.trim()?b.jsx(t_,{altText:n,asChild:!0,children:b.jsx(hy,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${JS}\`. Expected non-empty \`string\`.`),null)});WS.displayName=JS;var e_="ToastClose",hy=T.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t,a=mO(e_,n);return b.jsx(t_,{asChild:!0,children:b.jsx(Bt.button,{type:"button",...s,ref:e,onClick:Lt(t.onClick,a.onClose)})})});hy.displayName=e_;var t_=T.forwardRef((t,e)=>{const{__scopeToast:n,altText:s,...a}=t;return b.jsx(Bt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:e})});function n_(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),SO(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",c=s.dataset.radixToastAnnounceExclude==="";if(!a)if(c){const u=s.dataset.radixToastAnnounceAlt;u&&e.push(u)}else e.push(...n_(s))}}),e}function mu(t,e,n,{discrete:s}){const a=n.originalEvent.currentTarget,c=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&a.addEventListener(t,e,{once:!0}),s?IS(a,c):a.dispatchEvent(c)}var Mb=(t,e,n=0)=>{const s=Math.abs(t.x),a=Math.abs(t.y),c=s>a;return e==="left"||e==="right"?c&&s>n:!c&&a>n};function bO(t=()=>{}){const e=Fn(t);jr(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[e])}function SO(t){return t.nodeType===t.ELEMENT_NODE}function _O(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function xp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var wO=FS,r_=GS,s_=XS,i_=QS,a_=ZS,o_=WS,c_=hy;function l_(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=l_(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function u_(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=l_(t))&&(s&&(s+=" "),s+=e);return s}const Pb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Nb=u_,Pf=(t,e)=>n=>{var s;if(e?.variants==null)return Nb(t,n?.class,n?.className);const{variants:a,defaultVariants:c}=e,u=Object.keys(a).map(p=>{const y=n?.[p],g=c?.[p];if(y===null)return null;const v=Pb(y)||Pb(g);return a[p][v]}),f=n&&Object.entries(n).reduce((p,y)=>{let[g,v]=y;return v===void 0||(p[g]=v),p},{}),d=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((p,y)=>{let{class:g,className:v,...S}=y;return Object.entries(S).every(C=>{let[E,M]=C;return Array.isArray(M)?M.includes({...c,...f}[E]):{...c,...f}[E]===M})?[...p,g,v]:p},[]);return Nb(t,u,d,n?.class,n?.className)};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Db=t=>{const e=EO(t);return e.charAt(0).toUpperCase()+e.slice(1)},f_=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),TO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:c,iconNode:u,...f},d)=>T.createElement("svg",{ref:d,...RO,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:f_("lucide",a),...!c&&!TO(f)&&{"aria-hidden":"true"},...f},[...u.map(([p,y])=>T.createElement(p,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=(t,e)=>{const n=T.forwardRef(({className:s,...a},c)=>T.createElement(AO,{ref:c,iconNode:e,className:f_(`lucide-${CO(Db(t))}`,`lucide-${t}`,s),...a}));return n.displayName=Db(t),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],MO=Mn("check",OO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],NO=Mn("circle-alert",PO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],d_=Mn("circle-check-big",DO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],jO=Mn("circle-check",kO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],h_=Mn("circle",LO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],p_=Mn("clock",UO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],zO=Mn("copy",IO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],HO=Mn("crown",BO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],py=Mn("loader-circle",$O);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],kb=Mn("message-square",VO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],FO=Mn("moon",qO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],m_=Mn("music",YO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],KO=Mn("pause",GO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],QO=Mn("play",XO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],y_=Mn("search",ZO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],WO=Mn("sun",JO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],dm=Mn("trophy",eM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],nM=Mn("users",tM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sM=Mn("x",rM),my="-",iM=t=>{const e=oM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:u=>{const f=u.split(my);return f[0]===""&&f.length!==1&&f.shift(),g_(f,e)||aM(u)},getConflictingClassGroupIds:(u,f)=>{const d=n[u]||[];return f&&s[u]?[...d,...s[u]]:d}}},g_=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),a=s?g_(t.slice(1),s):void 0;if(a)return a;if(e.validators.length===0)return;const c=t.join(my);return e.validators.find(({validator:u})=>u(c))?.classGroupId},jb=/^\[(.+)\]$/,aM=t=>{if(jb.test(t)){const e=jb.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},oM=t=>{const{theme:e,classGroups:n}=t,s={nextPart:new Map,validators:[]};for(const a in n)hm(n[a],s,a,e);return s},hm=(t,e,n,s)=>{t.forEach(a=>{if(typeof a=="string"){const c=a===""?e:Lb(e,a);c.classGroupId=n;return}if(typeof a=="function"){if(cM(a)){hm(a(s),e,n,s);return}e.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([c,u])=>{hm(u,Lb(e,c),n,s)})})},Lb=(t,e)=>{let n=t;return e.split(my).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},cM=t=>t.isThemeGetter,lM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const a=(c,u)=>{n.set(c,u),e++,e>t&&(e=0,s=n,n=new Map)};return{get(c){let u=n.get(c);if(u!==void 0)return u;if((u=s.get(c))!==void 0)return a(c,u),u},set(c,u){n.has(c)?n.set(c,u):a(c,u)}}},pm="!",mm=":",uM=mm.length,fM=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=a=>{const c=[];let u=0,f=0,d=0,p;for(let C=0;C<a.length;C++){let E=a[C];if(u===0&&f===0){if(E===mm){c.push(a.slice(d,C)),d=C+uM;continue}if(E==="/"){p=C;continue}}E==="["?u++:E==="]"?u--:E==="("?f++:E===")"&&f--}const y=c.length===0?a:a.substring(d),g=dM(y),v=g!==y,S=p&&p>d?p-d:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:S}};if(e){const a=e+mm,c=s;s=u=>u.startsWith(a)?c(u.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const a=s;s=c=>n({className:c,parseClassName:a})}return s},dM=t=>t.endsWith(pm)?t.substring(0,t.length-1):t.startsWith(pm)?t.substring(1):t,hM=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let c=[];return s.forEach(u=>{u[0]==="["||e[u]?(a.push(...c.sort(),u),c=[]):c.push(u)}),a.push(...c.sort()),a}},pM=t=>({cache:lM(t.cacheSize),parseClassName:fM(t),sortModifiers:hM(t),...iM(t)}),mM=/\s+/,yM=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:c}=e,u=[],f=t.trim().split(mM);let d="";for(let p=f.length-1;p>=0;p-=1){const y=f[p],{isExternal:g,modifiers:v,hasImportantModifier:S,baseClassName:C,maybePostfixModifierPosition:E}=n(y);if(g){d=y+(d.length>0?" "+d:d);continue}let M=!!E,N=s(M?C.substring(0,E):C);if(!N){if(!M){d=y+(d.length>0?" "+d:d);continue}if(N=s(C),!N){d=y+(d.length>0?" "+d:d);continue}M=!1}const D=c(v).join(":"),k=S?D+pm:D,j=k+N;if(u.includes(j))continue;u.push(j);const F=a(N,M);for(let Z=0;Z<F.length;++Z){const Y=F[Z];u.push(k+Y)}d=y+(d.length>0?" "+d:d)}return d};function gM(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=v_(e))&&(s&&(s+=" "),s+=n);return s}const v_=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=v_(t[s]))&&(n&&(n+=" "),n+=e);return n};function vM(t,...e){let n,s,a,c=u;function u(d){const p=e.reduce((y,g)=>g(y),t());return n=pM(p),s=n.cache.get,a=n.cache.set,c=f,f(d)}function f(d){const p=s(d);if(p)return p;const y=yM(d,n);return a(d,y),y}return function(){return c(gM.apply(null,arguments))}}const An=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},x_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,b_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,xM=/^\d+\/\d+$/,bM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,SM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_M=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,wM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,CM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ga=t=>xM.test(t),_t=t=>!!t&&!Number.isNaN(Number(t)),Ci=t=>!!t&&Number.isInteger(Number(t)),bp=t=>t.endsWith("%")&&_t(t.slice(0,-1)),Vs=t=>bM.test(t),EM=()=>!0,TM=t=>SM.test(t)&&!_M.test(t),S_=()=>!1,RM=t=>wM.test(t),AM=t=>CM.test(t),OM=t=>!qe(t)&&!Fe(t),MM=t=>ho(t,C_,S_),qe=t=>x_.test(t),Xi=t=>ho(t,E_,TM),Sp=t=>ho(t,jM,_t),Ub=t=>ho(t,__,S_),PM=t=>ho(t,w_,AM),yu=t=>ho(t,T_,RM),Fe=t=>b_.test(t),dc=t=>po(t,E_),NM=t=>po(t,LM),Ib=t=>po(t,__),DM=t=>po(t,C_),kM=t=>po(t,w_),gu=t=>po(t,T_,!0),ho=(t,e,n)=>{const s=x_.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},po=(t,e,n=!1)=>{const s=b_.exec(t);return s?s[1]?e(s[1]):n:!1},__=t=>t==="position"||t==="percentage",w_=t=>t==="image"||t==="url",C_=t=>t==="length"||t==="size"||t==="bg-size",E_=t=>t==="length",jM=t=>t==="number",LM=t=>t==="family-name",T_=t=>t==="shadow",UM=()=>{const t=An("color"),e=An("font"),n=An("text"),s=An("font-weight"),a=An("tracking"),c=An("leading"),u=An("breakpoint"),f=An("container"),d=An("spacing"),p=An("radius"),y=An("shadow"),g=An("inset-shadow"),v=An("text-shadow"),S=An("drop-shadow"),C=An("blur"),E=An("perspective"),M=An("aspect"),N=An("ease"),D=An("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[...j(),Fe,qe],Z=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto","contain","none"],K=()=>[Fe,qe,d],pe=()=>[Ga,"full","auto",...K()],ve=()=>[Ci,"none","subgrid",Fe,qe],_e=()=>["auto",{span:["full",Ci,Fe,qe]},Ci,Fe,qe],Ce=()=>[Ci,"auto",Fe,qe],Te=()=>["auto","min","max","fr",Fe,qe],ge=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Le=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...K()],ee=()=>[Ga,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...K()],G=()=>[t,Fe,qe],Re=()=>[...j(),Ib,Ub,{position:[Fe,qe]}],Ke=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",DM,MM,{size:[Fe,qe]}],ie=()=>[bp,dc,Xi],le=()=>["","none","full",p,Fe,qe],xe=()=>["",_t,dc,Xi],Se=()=>["solid","dashed","dotted","double"],Ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Pe=()=>[_t,bp,Ib,Ub],it=()=>["","none",C,Fe,qe],B=()=>["none",_t,Fe,qe],J=()=>["none",_t,Fe,qe],fe=()=>[_t,Fe,qe],Ne=()=>[Ga,"full",...K()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vs],breakpoint:[Vs],color:[EM],container:[Vs],"drop-shadow":[Vs],ease:["in","out","in-out"],font:[OM],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vs],shadow:[Vs],spacing:["px",_t],text:[Vs],"text-shadow":[Vs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ga,qe,Fe,M]}],container:["container"],columns:[{columns:[_t,qe,Fe,f]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:Z()}],"overflow-x":[{"overflow-x":Z()}],"overflow-y":[{"overflow-y":Z()}],overscroll:[{overscroll:Y()}],"overscroll-x":[{"overscroll-x":Y()}],"overscroll-y":[{"overscroll-y":Y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:pe()}],"inset-x":[{"inset-x":pe()}],"inset-y":[{"inset-y":pe()}],start:[{start:pe()}],end:[{end:pe()}],top:[{top:pe()}],right:[{right:pe()}],bottom:[{bottom:pe()}],left:[{left:pe()}],visibility:["visible","invisible","collapse"],z:[{z:[Ci,"auto",Fe,qe]}],basis:[{basis:[Ga,"full","auto",f,...K()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[_t,Ga,"auto","initial","none",qe]}],grow:[{grow:["",_t,Fe,qe]}],shrink:[{shrink:["",_t,Fe,qe]}],order:[{order:[Ci,"first","last","none",Fe,qe]}],"grid-cols":[{"grid-cols":ve()}],"col-start-end":[{col:_e()}],"col-start":[{"col-start":Ce()}],"col-end":[{"col-end":Ce()}],"grid-rows":[{"grid-rows":ve()}],"row-start-end":[{row:_e()}],"row-start":[{"row-start":Ce()}],"row-end":[{"row-end":Ce()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Te()}],"auto-rows":[{"auto-rows":Te()}],gap:[{gap:K()}],"gap-x":[{"gap-x":K()}],"gap-y":[{"gap-y":K()}],"justify-content":[{justify:[...ge(),"normal"]}],"justify-items":[{"justify-items":[...Le(),"normal"]}],"justify-self":[{"justify-self":["auto",...Le()]}],"align-content":[{content:["normal",...ge()]}],"align-items":[{items:[...Le(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Le(),{baseline:["","last"]}]}],"place-content":[{"place-content":ge()}],"place-items":[{"place-items":[...Le(),"baseline"]}],"place-self":[{"place-self":["auto",...Le()]}],p:[{p:K()}],px:[{px:K()}],py:[{py:K()}],ps:[{ps:K()}],pe:[{pe:K()}],pt:[{pt:K()}],pr:[{pr:K()}],pb:[{pb:K()}],pl:[{pl:K()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":K()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":K()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[f,"screen",...ee()]}],"min-w":[{"min-w":[f,"screen","none",...ee()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",n,dc,Xi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Fe,Sp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",bp,qe]}],"font-family":[{font:[NM,qe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Fe,qe]}],"line-clamp":[{"line-clamp":[_t,"none",Fe,Sp]}],leading:[{leading:[c,...K()]}],"list-image":[{"list-image":["none",Fe,qe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Fe,qe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:[_t,"from-font","auto",Fe,Xi]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[_t,"auto",Fe,qe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:K()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe,qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe,qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Re()}],"bg-repeat":[{bg:Ke()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ci,Fe,qe],radial:["",Fe,qe],conic:[Ci,Fe,qe]},kM,PM]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:ie()}],"gradient-via-pos":[{via:ie()}],"gradient-to-pos":[{to:ie()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:xe()}],"border-w-x":[{"border-x":xe()}],"border-w-y":[{"border-y":xe()}],"border-w-s":[{"border-s":xe()}],"border-w-e":[{"border-e":xe()}],"border-w-t":[{"border-t":xe()}],"border-w-r":[{"border-r":xe()}],"border-w-b":[{"border-b":xe()}],"border-w-l":[{"border-l":xe()}],"divide-x":[{"divide-x":xe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":xe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Se(),"hidden","none"]}],"divide-style":[{divide:[...Se(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...Se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[_t,Fe,qe]}],"outline-w":[{outline:["",_t,dc,Xi]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",y,gu,yu]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",g,gu,yu]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:xe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[_t,Xi]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":xe()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",v,gu,yu]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[_t,Fe,qe]}],"mix-blend":[{"mix-blend":[...Ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ee()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[_t]}],"mask-image-linear-from-pos":[{"mask-linear-from":Pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":Pe()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":Pe()}],"mask-image-t-to-pos":[{"mask-t-to":Pe()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":Pe()}],"mask-image-r-to-pos":[{"mask-r-to":Pe()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":Pe()}],"mask-image-b-to-pos":[{"mask-b-to":Pe()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":Pe()}],"mask-image-l-to-pos":[{"mask-l-to":Pe()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":Pe()}],"mask-image-x-to-pos":[{"mask-x-to":Pe()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":Pe()}],"mask-image-y-to-pos":[{"mask-y-to":Pe()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[Fe,qe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":Pe()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[_t]}],"mask-image-conic-from-pos":[{"mask-conic-from":Pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":Pe()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Re()}],"mask-repeat":[{mask:Ke()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Fe,qe]}],filter:[{filter:["","none",Fe,qe]}],blur:[{blur:it()}],brightness:[{brightness:[_t,Fe,qe]}],contrast:[{contrast:[_t,Fe,qe]}],"drop-shadow":[{"drop-shadow":["","none",S,gu,yu]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",_t,Fe,qe]}],"hue-rotate":[{"hue-rotate":[_t,Fe,qe]}],invert:[{invert:["",_t,Fe,qe]}],saturate:[{saturate:[_t,Fe,qe]}],sepia:[{sepia:["",_t,Fe,qe]}],"backdrop-filter":[{"backdrop-filter":["","none",Fe,qe]}],"backdrop-blur":[{"backdrop-blur":it()}],"backdrop-brightness":[{"backdrop-brightness":[_t,Fe,qe]}],"backdrop-contrast":[{"backdrop-contrast":[_t,Fe,qe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",_t,Fe,qe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_t,Fe,qe]}],"backdrop-invert":[{"backdrop-invert":["",_t,Fe,qe]}],"backdrop-opacity":[{"backdrop-opacity":[_t,Fe,qe]}],"backdrop-saturate":[{"backdrop-saturate":[_t,Fe,qe]}],"backdrop-sepia":[{"backdrop-sepia":["",_t,Fe,qe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":K()}],"border-spacing-x":[{"border-spacing-x":K()}],"border-spacing-y":[{"border-spacing-y":K()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Fe,qe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[_t,"initial",Fe,qe]}],ease:[{ease:["linear","initial",N,Fe,qe]}],delay:[{delay:[_t,Fe,qe]}],animate:[{animate:["none",D,Fe,qe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,Fe,qe]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:B()}],"rotate-x":[{"rotate-x":B()}],"rotate-y":[{"rotate-y":B()}],"rotate-z":[{"rotate-z":B()}],scale:[{scale:J()}],"scale-x":[{"scale-x":J()}],"scale-y":[{"scale-y":J()}],"scale-z":[{"scale-z":J()}],"scale-3d":["scale-3d"],skew:[{skew:fe()}],"skew-x":[{"skew-x":fe()}],"skew-y":[{"skew-y":fe()}],transform:[{transform:[Fe,qe,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ne()}],"translate-x":[{"translate-x":Ne()}],"translate-y":[{"translate-y":Ne()}],"translate-z":[{"translate-z":Ne()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe,qe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe,qe]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[_t,dc,Xi,Sp]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},IM=vM(UM);function qt(...t){return IM(u_(t))}const zM={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},BM=/&(amp|lt|gt|quot|#39);/g;let zb=null;function ef(t){if(!t)return"";if(typeof DOMParser<"u"){zb??=new DOMParser;const n=zb.parseFromString(t,"text/html").documentElement.textContent;if(n!==null)return n}return t.replace(BM,e=>zM[e]??e)}const HM=wO,R_=T.forwardRef(({className:t,...e},n)=>b.jsx(r_,{ref:n,className:qt("fixed top-0 z-100 flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));R_.displayName=r_.displayName;const $M=Pf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-(--radix-toast-swipe-end-x) data-[swipe=move]:translate-x-(--radix-toast-swipe-move-x) data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),A_=T.forwardRef(({className:t,variant:e,...n},s)=>b.jsx(s_,{ref:s,className:qt($M({variant:e}),t),...n}));A_.displayName=s_.displayName;const VM=T.forwardRef(({className:t,...e},n)=>b.jsx(o_,{ref:n,className:qt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));VM.displayName=o_.displayName;const O_=T.forwardRef(({className:t,...e},n)=>b.jsx(c_,{ref:n,className:qt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:b.jsx(sM,{className:"h-4 w-4"})}));O_.displayName=c_.displayName;const M_=T.forwardRef(({className:t,...e},n)=>b.jsx(i_,{ref:n,className:qt("text-sm font-semibold",t),...e}));M_.displayName=i_.displayName;const P_=T.forwardRef(({className:t,...e},n)=>b.jsx(a_,{ref:n,className:qt("text-sm opacity-90",t),...e}));P_.displayName=a_.displayName;function qM(){const{toasts:t}=kS();return b.jsxs(HM,{children:[t.map(({id:e,title:n,description:s,action:a,...c})=>b.jsxs(A_,{...c,children:[b.jsxs("div",{className:"grid gap-1",children:[n&&b.jsx(M_,{children:n}),s&&b.jsx(P_,{children:s})]}),a,b.jsx(O_,{})]},e)),b.jsx(R_,{})]})}const FM=["top","right","bottom","left"],Mi=Math.min,br=Math.max,tf=Math.round,vu=Math.floor,us=t=>({x:t,y:t}),YM={left:"right",right:"left",bottom:"top",top:"bottom"},GM={start:"end",end:"start"};function ym(t,e,n){return br(t,Mi(e,n))}function Js(t,e){return typeof t=="function"?t(e):t}function Ws(t){return t.split("-")[0]}function mo(t){return t.split("-")[1]}function yy(t){return t==="x"?"y":"x"}function gy(t){return t==="y"?"height":"width"}const KM=new Set(["top","bottom"]);function os(t){return KM.has(Ws(t))?"y":"x"}function vy(t){return yy(os(t))}function XM(t,e,n){n===void 0&&(n=!1);const s=mo(t),a=vy(t),c=gy(a);let u=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[c]>e.floating[c]&&(u=nf(u)),[u,nf(u)]}function QM(t){const e=nf(t);return[gm(t),e,gm(e)]}function gm(t){return t.replace(/start|end/g,e=>GM[e])}const Bb=["left","right"],Hb=["right","left"],ZM=["top","bottom"],JM=["bottom","top"];function WM(t,e,n){switch(t){case"top":case"bottom":return n?e?Hb:Bb:e?Bb:Hb;case"left":case"right":return e?ZM:JM;default:return[]}}function e3(t,e,n,s){const a=mo(t);let c=WM(Ws(t),n==="start",s);return a&&(c=c.map(u=>u+"-"+a),e&&(c=c.concat(c.map(gm)))),c}function nf(t){return t.replace(/left|right|bottom|top/g,e=>YM[e])}function t3(t){return{top:0,right:0,bottom:0,left:0,...t}}function N_(t){return typeof t!="number"?t3(t):{top:t,right:t,bottom:t,left:t}}function rf(t){const{x:e,y:n,width:s,height:a}=t;return{width:s,height:a,top:n,left:e,right:e+s,bottom:n+a,x:e,y:n}}function $b(t,e,n){let{reference:s,floating:a}=t;const c=os(e),u=vy(e),f=gy(u),d=Ws(e),p=c==="y",y=s.x+s.width/2-a.width/2,g=s.y+s.height/2-a.height/2,v=s[f]/2-a[f]/2;let S;switch(d){case"top":S={x:y,y:s.y-a.height};break;case"bottom":S={x:y,y:s.y+s.height};break;case"right":S={x:s.x+s.width,y:g};break;case"left":S={x:s.x-a.width,y:g};break;default:S={x:s.x,y:s.y}}switch(mo(e)){case"start":S[u]-=v*(n&&p?-1:1);break;case"end":S[u]+=v*(n&&p?-1:1);break}return S}const n3=async(t,e,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:c=[],platform:u}=n,f=c.filter(Boolean),d=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:t,floating:e,strategy:a}),{x:y,y:g}=$b(p,s,d),v=s,S={},C=0;for(let E=0;E<f.length;E++){const{name:M,fn:N}=f[E],{x:D,y:k,data:j,reset:F}=await N({x:y,y:g,initialPlacement:s,placement:v,strategy:a,middlewareData:S,rects:p,platform:u,elements:{reference:t,floating:e}});y=D??y,g=k??g,S={...S,[M]:{...S[M],...j}},F&&C<=50&&(C++,typeof F=="object"&&(F.placement&&(v=F.placement),F.rects&&(p=F.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:a}):F.rects),{x:y,y:g}=$b(p,v,d)),E=-1)}return{x:y,y:g,placement:v,strategy:a,middlewareData:S}};async function kc(t,e){var n;e===void 0&&(e={});const{x:s,y:a,platform:c,rects:u,elements:f,strategy:d}=t,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:g="floating",altBoundary:v=!1,padding:S=0}=Js(e,t),C=N_(S),M=f[v?g==="floating"?"reference":"floating":g],N=rf(await c.getClippingRect({element:(n=await(c.isElement==null?void 0:c.isElement(M)))==null||n?M:M.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:p,rootBoundary:y,strategy:d})),D=g==="floating"?{x:s,y:a,width:u.floating.width,height:u.floating.height}:u.reference,k=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),j=await(c.isElement==null?void 0:c.isElement(k))?await(c.getScale==null?void 0:c.getScale(k))||{x:1,y:1}:{x:1,y:1},F=rf(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:D,offsetParent:k,strategy:d}):D);return{top:(N.top-F.top+C.top)/j.y,bottom:(F.bottom-N.bottom+C.bottom)/j.y,left:(N.left-F.left+C.left)/j.x,right:(F.right-N.right+C.right)/j.x}}const r3=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:a,rects:c,platform:u,elements:f,middlewareData:d}=e,{element:p,padding:y=0}=Js(t,e)||{};if(p==null)return{};const g=N_(y),v={x:n,y:s},S=vy(a),C=gy(S),E=await u.getDimensions(p),M=S==="y",N=M?"top":"left",D=M?"bottom":"right",k=M?"clientHeight":"clientWidth",j=c.reference[C]+c.reference[S]-v[S]-c.floating[C],F=v[S]-c.reference[S],Z=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let Y=Z?Z[k]:0;(!Y||!await(u.isElement==null?void 0:u.isElement(Z)))&&(Y=f.floating[k]||c.floating[C]);const K=j/2-F/2,pe=Y/2-E[C]/2-1,ve=Mi(g[N],pe),_e=Mi(g[D],pe),Ce=ve,Te=Y-E[C]-_e,ge=Y/2-E[C]/2+K,Le=ym(Ce,ge,Te),L=!d.arrow&&mo(a)!=null&&ge!==Le&&c.reference[C]/2-(ge<Ce?ve:_e)-E[C]/2<0,ee=L?ge<Ce?ge-Ce:ge-Te:0;return{[S]:v[S]+ee,data:{[S]:Le,centerOffset:ge-Le-ee,...L&&{alignmentOffset:ee}},reset:L}}}),s3=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:a,middlewareData:c,rects:u,initialPlacement:f,platform:d,elements:p}=e,{mainAxis:y=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:E=!0,...M}=Js(t,e);if((n=c.arrow)!=null&&n.alignmentOffset)return{};const N=Ws(a),D=os(f),k=Ws(f)===f,j=await(d.isRTL==null?void 0:d.isRTL(p.floating)),F=v||(k||!E?[nf(f)]:QM(f)),Z=C!=="none";!v&&Z&&F.push(...e3(f,E,C,j));const Y=[f,...F],K=await kc(e,M),pe=[];let ve=((s=c.flip)==null?void 0:s.overflows)||[];if(y&&pe.push(K[N]),g){const ge=XM(a,u,j);pe.push(K[ge[0]],K[ge[1]])}if(ve=[...ve,{placement:a,overflows:pe}],!pe.every(ge=>ge<=0)){var _e,Ce;const ge=(((_e=c.flip)==null?void 0:_e.index)||0)+1,Le=Y[ge];if(Le&&(!(g==="alignment"?D!==os(Le):!1)||ve.every(G=>os(G.placement)===D?G.overflows[0]>0:!0)))return{data:{index:ge,overflows:ve},reset:{placement:Le}};let L=(Ce=ve.filter(ee=>ee.overflows[0]<=0).sort((ee,G)=>ee.overflows[1]-G.overflows[1])[0])==null?void 0:Ce.placement;if(!L)switch(S){case"bestFit":{var Te;const ee=(Te=ve.filter(G=>{if(Z){const Re=os(G.placement);return Re===D||Re==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(Re=>Re>0).reduce((Re,Ke)=>Re+Ke,0)]).sort((G,Re)=>G[1]-Re[1])[0])==null?void 0:Te[0];ee&&(L=ee);break}case"initialPlacement":L=f;break}if(a!==L)return{reset:{placement:L}}}return{}}}};function Vb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function qb(t){return FM.some(e=>t[e]>=0)}const i3=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...a}=Js(t,e);switch(s){case"referenceHidden":{const c=await kc(e,{...a,elementContext:"reference"}),u=Vb(c,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:qb(u)}}}case"escaped":{const c=await kc(e,{...a,altBoundary:!0}),u=Vb(c,n.floating);return{data:{escapedOffsets:u,escaped:qb(u)}}}default:return{}}}}},D_=new Set(["left","top"]);async function a3(t,e){const{placement:n,platform:s,elements:a}=t,c=await(s.isRTL==null?void 0:s.isRTL(a.floating)),u=Ws(n),f=mo(n),d=os(n)==="y",p=D_.has(u)?-1:1,y=c&&d?-1:1,g=Js(e,t);let{mainAxis:v,crossAxis:S,alignmentAxis:C}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return f&&typeof C=="number"&&(S=f==="end"?C*-1:C),d?{x:S*y,y:v*p}:{x:v*p,y:S*y}}const o3=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:a,y:c,placement:u,middlewareData:f}=e,d=await a3(e,t);return u===((n=f.offset)==null?void 0:n.placement)&&(s=f.arrow)!=null&&s.alignmentOffset?{}:{x:a+d.x,y:c+d.y,data:{...d,placement:u}}}}},c3=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:a}=e,{mainAxis:c=!0,crossAxis:u=!1,limiter:f={fn:M=>{let{x:N,y:D}=M;return{x:N,y:D}}},...d}=Js(t,e),p={x:n,y:s},y=await kc(e,d),g=os(Ws(a)),v=yy(g);let S=p[v],C=p[g];if(c){const M=v==="y"?"top":"left",N=v==="y"?"bottom":"right",D=S+y[M],k=S-y[N];S=ym(D,S,k)}if(u){const M=g==="y"?"top":"left",N=g==="y"?"bottom":"right",D=C+y[M],k=C-y[N];C=ym(D,C,k)}const E=f.fn({...e,[v]:S,[g]:C});return{...E,data:{x:E.x-n,y:E.y-s,enabled:{[v]:c,[g]:u}}}}}},l3=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:a,rects:c,middlewareData:u}=e,{offset:f=0,mainAxis:d=!0,crossAxis:p=!0}=Js(t,e),y={x:n,y:s},g=os(a),v=yy(g);let S=y[v],C=y[g];const E=Js(f,e),M=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(d){const k=v==="y"?"height":"width",j=c.reference[v]-c.floating[k]+M.mainAxis,F=c.reference[v]+c.reference[k]-M.mainAxis;S<j?S=j:S>F&&(S=F)}if(p){var N,D;const k=v==="y"?"width":"height",j=D_.has(Ws(a)),F=c.reference[g]-c.floating[k]+(j&&((N=u.offset)==null?void 0:N[g])||0)+(j?0:M.crossAxis),Z=c.reference[g]+c.reference[k]+(j?0:((D=u.offset)==null?void 0:D[g])||0)-(j?M.crossAxis:0);C<F?C=F:C>Z&&(C=Z)}return{[v]:S,[g]:C}}}},u3=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:a,rects:c,platform:u,elements:f}=e,{apply:d=()=>{},...p}=Js(t,e),y=await kc(e,p),g=Ws(a),v=mo(a),S=os(a)==="y",{width:C,height:E}=c.floating;let M,N;g==="top"||g==="bottom"?(M=g,N=v===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(N=g,M=v==="end"?"top":"bottom");const D=E-y.top-y.bottom,k=C-y.left-y.right,j=Mi(E-y[M],D),F=Mi(C-y[N],k),Z=!e.middlewareData.shift;let Y=j,K=F;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(K=k),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(Y=D),Z&&!v){const ve=br(y.left,0),_e=br(y.right,0),Ce=br(y.top,0),Te=br(y.bottom,0);S?K=C-2*(ve!==0||_e!==0?ve+_e:br(y.left,y.right)):Y=E-2*(Ce!==0||Te!==0?Ce+Te:br(y.top,y.bottom))}await d({...e,availableWidth:K,availableHeight:Y});const pe=await u.getDimensions(f.floating);return C!==pe.width||E!==pe.height?{reset:{rects:!0}}:{}}}};function Nf(){return typeof window<"u"}function yo(t){return k_(t)?(t.nodeName||"").toLowerCase():"#document"}function Sr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function gs(t){var e;return(e=(k_(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function k_(t){return Nf()?t instanceof Node||t instanceof Sr(t).Node:!1}function Kr(t){return Nf()?t instanceof Element||t instanceof Sr(t).Element:!1}function ms(t){return Nf()?t instanceof HTMLElement||t instanceof Sr(t).HTMLElement:!1}function Fb(t){return!Nf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Sr(t).ShadowRoot}const f3=new Set(["inline","contents"]);function Gc(t){const{overflow:e,overflowX:n,overflowY:s,display:a}=Xr(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!f3.has(a)}const d3=new Set(["table","td","th"]);function h3(t){return d3.has(yo(t))}const p3=[":popover-open",":modal"];function Df(t){return p3.some(e=>{try{return t.matches(e)}catch{return!1}})}const m3=["transform","translate","scale","rotate","perspective"],y3=["transform","translate","scale","rotate","perspective","filter"],g3=["paint","layout","strict","content"];function xy(t){const e=by(),n=Kr(t)?Xr(t):t;return m3.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||y3.some(s=>(n.willChange||"").includes(s))||g3.some(s=>(n.contain||"").includes(s))}function v3(t){let e=Pi(t);for(;ms(e)&&!ao(e);){if(xy(e))return e;if(Df(e))return null;e=Pi(e)}return null}function by(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const x3=new Set(["html","body","#document"]);function ao(t){return x3.has(yo(t))}function Xr(t){return Sr(t).getComputedStyle(t)}function kf(t){return Kr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Pi(t){if(yo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Fb(t)&&t.host||gs(t);return Fb(e)?e.host:e}function j_(t){const e=Pi(t);return ao(e)?t.ownerDocument?t.ownerDocument.body:t.body:ms(e)&&Gc(e)?e:j_(e)}function jc(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const a=j_(t),c=a===((s=t.ownerDocument)==null?void 0:s.body),u=Sr(a);if(c){const f=vm(u);return e.concat(u,u.visualViewport||[],Gc(a)?a:[],f&&n?jc(f):[])}return e.concat(a,jc(a,[],n))}function vm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function L_(t){const e=Xr(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const a=ms(t),c=a?t.offsetWidth:n,u=a?t.offsetHeight:s,f=tf(n)!==c||tf(s)!==u;return f&&(n=c,s=u),{width:n,height:s,$:f}}function Sy(t){return Kr(t)?t:t.contextElement}function Wa(t){const e=Sy(t);if(!ms(e))return us(1);const n=e.getBoundingClientRect(),{width:s,height:a,$:c}=L_(e);let u=(c?tf(n.width):n.width)/s,f=(c?tf(n.height):n.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const b3=us(0);function U_(t){const e=Sr(t);return!by()||!e.visualViewport?b3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function S3(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Sr(t)?!1:e}function la(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),c=Sy(t);let u=us(1);e&&(s?Kr(s)&&(u=Wa(s)):u=Wa(t));const f=S3(c,n,s)?U_(c):us(0);let d=(a.left+f.x)/u.x,p=(a.top+f.y)/u.y,y=a.width/u.x,g=a.height/u.y;if(c){const v=Sr(c),S=s&&Kr(s)?Sr(s):s;let C=v,E=vm(C);for(;E&&s&&S!==C;){const M=Wa(E),N=E.getBoundingClientRect(),D=Xr(E),k=N.left+(E.clientLeft+parseFloat(D.paddingLeft))*M.x,j=N.top+(E.clientTop+parseFloat(D.paddingTop))*M.y;d*=M.x,p*=M.y,y*=M.x,g*=M.y,d+=k,p+=j,C=Sr(E),E=vm(C)}}return rf({width:y,height:g,x:d,y:p})}function jf(t,e){const n=kf(t).scrollLeft;return e?e.left+n:la(gs(t)).left+n}function I_(t,e){const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-jf(t,n),a=n.top+e.scrollTop;return{x:s,y:a}}function _3(t){let{elements:e,rect:n,offsetParent:s,strategy:a}=t;const c=a==="fixed",u=gs(s),f=e?Df(e.floating):!1;if(s===u||f&&c)return n;let d={scrollLeft:0,scrollTop:0},p=us(1);const y=us(0),g=ms(s);if((g||!g&&!c)&&((yo(s)!=="body"||Gc(u))&&(d=kf(s)),ms(s))){const S=la(s);p=Wa(s),y.x=S.x+s.clientLeft,y.y=S.y+s.clientTop}const v=u&&!g&&!c?I_(u,d):us(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-d.scrollLeft*p.x+y.x+v.x,y:n.y*p.y-d.scrollTop*p.y+y.y+v.y}}function w3(t){return Array.from(t.getClientRects())}function C3(t){const e=gs(t),n=kf(t),s=t.ownerDocument.body,a=br(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),c=br(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let u=-n.scrollLeft+jf(t);const f=-n.scrollTop;return Xr(s).direction==="rtl"&&(u+=br(e.clientWidth,s.clientWidth)-a),{width:a,height:c,x:u,y:f}}const Yb=25;function E3(t,e){const n=Sr(t),s=gs(t),a=n.visualViewport;let c=s.clientWidth,u=s.clientHeight,f=0,d=0;if(a){c=a.width,u=a.height;const y=by();(!y||y&&e==="fixed")&&(f=a.offsetLeft,d=a.offsetTop)}const p=jf(s);if(p<=0){const y=s.ownerDocument,g=y.body,v=getComputedStyle(g),S=y.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,C=Math.abs(s.clientWidth-g.clientWidth-S);C<=Yb&&(c-=C)}else p<=Yb&&(c+=p);return{width:c,height:u,x:f,y:d}}const T3=new Set(["absolute","fixed"]);function R3(t,e){const n=la(t,!0,e==="fixed"),s=n.top+t.clientTop,a=n.left+t.clientLeft,c=ms(t)?Wa(t):us(1),u=t.clientWidth*c.x,f=t.clientHeight*c.y,d=a*c.x,p=s*c.y;return{width:u,height:f,x:d,y:p}}function Gb(t,e,n){let s;if(e==="viewport")s=E3(t,n);else if(e==="document")s=C3(gs(t));else if(Kr(e))s=R3(e,n);else{const a=U_(t);s={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return rf(s)}function z_(t,e){const n=Pi(t);return n===e||!Kr(n)||ao(n)?!1:Xr(n).position==="fixed"||z_(n,e)}function A3(t,e){const n=e.get(t);if(n)return n;let s=jc(t,[],!1).filter(f=>Kr(f)&&yo(f)!=="body"),a=null;const c=Xr(t).position==="fixed";let u=c?Pi(t):t;for(;Kr(u)&&!ao(u);){const f=Xr(u),d=xy(u);!d&&f.position==="fixed"&&(a=null),(c?!d&&!a:!d&&f.position==="static"&&!!a&&T3.has(a.position)||Gc(u)&&!d&&z_(t,u))?s=s.filter(y=>y!==u):a=f,u=Pi(u)}return e.set(t,s),s}function O3(t){let{element:e,boundary:n,rootBoundary:s,strategy:a}=t;const u=[...n==="clippingAncestors"?Df(e)?[]:A3(e,this._c):[].concat(n),s],f=u[0],d=u.reduce((p,y)=>{const g=Gb(e,y,a);return p.top=br(g.top,p.top),p.right=Mi(g.right,p.right),p.bottom=Mi(g.bottom,p.bottom),p.left=br(g.left,p.left),p},Gb(e,f,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function M3(t){const{width:e,height:n}=L_(t);return{width:e,height:n}}function P3(t,e,n){const s=ms(e),a=gs(e),c=n==="fixed",u=la(t,!0,c,e);let f={scrollLeft:0,scrollTop:0};const d=us(0);function p(){d.x=jf(a)}if(s||!s&&!c)if((yo(e)!=="body"||Gc(a))&&(f=kf(e)),s){const S=la(e,!0,c,e);d.x=S.x+e.clientLeft,d.y=S.y+e.clientTop}else a&&p();c&&!s&&a&&p();const y=a&&!s&&!c?I_(a,f):us(0),g=u.left+f.scrollLeft-d.x-y.x,v=u.top+f.scrollTop-d.y-y.y;return{x:g,y:v,width:u.width,height:u.height}}function _p(t){return Xr(t).position==="static"}function Kb(t,e){if(!ms(t)||Xr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return gs(t)===n&&(n=n.ownerDocument.body),n}function B_(t,e){const n=Sr(t);if(Df(t))return n;if(!ms(t)){let a=Pi(t);for(;a&&!ao(a);){if(Kr(a)&&!_p(a))return a;a=Pi(a)}return n}let s=Kb(t,e);for(;s&&h3(s)&&_p(s);)s=Kb(s,e);return s&&ao(s)&&_p(s)&&!xy(s)?n:s||v3(t)||n}const N3=async function(t){const e=this.getOffsetParent||B_,n=this.getDimensions,s=await n(t.floating);return{reference:P3(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function D3(t){return Xr(t).direction==="rtl"}const k3={convertOffsetParentRelativeRectToViewportRelativeRect:_3,getDocumentElement:gs,getClippingRect:O3,getOffsetParent:B_,getElementRects:N3,getClientRects:w3,getDimensions:M3,getScale:Wa,isElement:Kr,isRTL:D3};function H_(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function j3(t,e){let n=null,s;const a=gs(t);function c(){var f;clearTimeout(s),(f=n)==null||f.disconnect(),n=null}function u(f,d){f===void 0&&(f=!1),d===void 0&&(d=1),c();const p=t.getBoundingClientRect(),{left:y,top:g,width:v,height:S}=p;if(f||e(),!v||!S)return;const C=vu(g),E=vu(a.clientWidth-(y+v)),M=vu(a.clientHeight-(g+S)),N=vu(y),k={rootMargin:-C+"px "+-E+"px "+-M+"px "+-N+"px",threshold:br(0,Mi(1,d))||1};let j=!0;function F(Z){const Y=Z[0].intersectionRatio;if(Y!==d){if(!j)return u();Y?u(!1,Y):s=setTimeout(()=>{u(!1,1e-7)},1e3)}Y===1&&!H_(p,t.getBoundingClientRect())&&u(),j=!1}try{n=new IntersectionObserver(F,{...k,root:a.ownerDocument})}catch{n=new IntersectionObserver(F,k)}n.observe(t)}return u(!0),c}function L3(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,p=Sy(t),y=a||c?[...p?jc(p):[],...jc(e)]:[];y.forEach(N=>{a&&N.addEventListener("scroll",n,{passive:!0}),c&&N.addEventListener("resize",n)});const g=p&&f?j3(p,n):null;let v=-1,S=null;u&&(S=new ResizeObserver(N=>{let[D]=N;D&&D.target===p&&S&&(S.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var k;(k=S)==null||k.observe(e)})),n()}),p&&!d&&S.observe(p),S.observe(e));let C,E=d?la(t):null;d&&M();function M(){const N=la(t);E&&!H_(E,N)&&n(),E=N,C=requestAnimationFrame(M)}return n(),()=>{var N;y.forEach(D=>{a&&D.removeEventListener("scroll",n),c&&D.removeEventListener("resize",n)}),g?.(),(N=S)==null||N.disconnect(),S=null,d&&cancelAnimationFrame(C)}}const U3=o3,I3=c3,z3=s3,B3=u3,H3=i3,Xb=r3,$3=l3,V3=(t,e,n)=>{const s=new Map,a={platform:k3,...n},c={...a.platform,_c:s};return n3(t,e,{...a,platform:c})};var q3=typeof document<"u",F3=function(){},Du=q3?T.useLayoutEffect:F3;function sf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!sf(t[s],e[s]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,a[s]))return!1;for(s=n;s--!==0;){const c=a[s];if(!(c==="_owner"&&t.$$typeof)&&!sf(t[c],e[c]))return!1}return!0}return t!==t&&e!==e}function $_(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Qb(t,e){const n=$_(t);return Math.round(e*n)/n}function wp(t){const e=T.useRef(t);return Du(()=>{e.current=t}),e}function Y3(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:c,floating:u}={},transform:f=!0,whileElementsMounted:d,open:p}=t,[y,g]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,S]=T.useState(s);sf(v,s)||S(s);const[C,E]=T.useState(null),[M,N]=T.useState(null),D=T.useCallback(G=>{G!==Z.current&&(Z.current=G,E(G))},[]),k=T.useCallback(G=>{G!==Y.current&&(Y.current=G,N(G))},[]),j=c||C,F=u||M,Z=T.useRef(null),Y=T.useRef(null),K=T.useRef(y),pe=d!=null,ve=wp(d),_e=wp(a),Ce=wp(p),Te=T.useCallback(()=>{if(!Z.current||!Y.current)return;const G={placement:e,strategy:n,middleware:v};_e.current&&(G.platform=_e.current),V3(Z.current,Y.current,G).then(Re=>{const Ke={...Re,isPositioned:Ce.current!==!1};ge.current&&!sf(K.current,Ke)&&(K.current=Ke,Fc.flushSync(()=>{g(Ke)}))})},[v,e,n,_e,Ce]);Du(()=>{p===!1&&K.current.isPositioned&&(K.current.isPositioned=!1,g(G=>({...G,isPositioned:!1})))},[p]);const ge=T.useRef(!1);Du(()=>(ge.current=!0,()=>{ge.current=!1}),[]),Du(()=>{if(j&&(Z.current=j),F&&(Y.current=F),j&&F){if(ve.current)return ve.current(j,F,Te);Te()}},[j,F,Te,ve,pe]);const Le=T.useMemo(()=>({reference:Z,floating:Y,setReference:D,setFloating:k}),[D,k]),L=T.useMemo(()=>({reference:j,floating:F}),[j,F]),ee=T.useMemo(()=>{const G={position:n,left:0,top:0};if(!L.floating)return G;const Re=Qb(L.floating,y.x),Ke=Qb(L.floating,y.y);return f?{...G,transform:"translate("+Re+"px, "+Ke+"px)",...$_(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Re,top:Ke}},[n,f,L.floating,y.x,y.y]);return T.useMemo(()=>({...y,update:Te,refs:Le,elements:L,floatingStyles:ee}),[y,Te,Le,L,ee])}const G3=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:a}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?Xb({element:s.current,padding:a}).fn(n):{}:s?Xb({element:s,padding:a}).fn(n):{}}}},K3=(t,e)=>({...U3(t),options:[t,e]}),X3=(t,e)=>({...I3(t),options:[t,e]}),Q3=(t,e)=>({...$3(t),options:[t,e]}),Z3=(t,e)=>({...z3(t),options:[t,e]}),J3=(t,e)=>({...B3(t),options:[t,e]}),W3=(t,e)=>({...H3(t),options:[t,e]}),eP=(t,e)=>({...G3(t),options:[t,e]});var tP="Arrow",V_=T.forwardRef((t,e)=>{const{children:n,width:s=10,height:a=5,...c}=t;return b.jsx(Bt.svg,{...c,ref:e,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:b.jsx("polygon",{points:"0,0 30,0 15,10"})})});V_.displayName=tP;var nP=V_;function q_(t){const[e,n]=T.useState(void 0);return jr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const c=a[0];let u,f;if("borderBoxSize"in c){const d=c.borderBoxSize,p=Array.isArray(d)?d[0]:d;u=p.inlineSize,f=p.blockSize}else u=t.offsetWidth,f=t.offsetHeight;n({width:u,height:f})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var F_="Popper",[Y_,G_]=Ni(F_),[t8,K_]=Y_(F_),X_="PopperAnchor",Q_=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...a}=t,c=K_(X_,n),u=T.useRef(null),f=an(e,u),d=T.useRef(null);return T.useEffect(()=>{const p=d.current;d.current=s?.current||u.current,p!==d.current&&c.onAnchorChange(d.current)}),s?null:b.jsx(Bt.div,{...a,ref:f})});Q_.displayName=X_;var _y="PopperContent",[rP,sP]=Y_(_y),Z_=T.forwardRef((t,e)=>{const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:c="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:d=!0,collisionBoundary:p=[],collisionPadding:y=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:S="optimized",onPlaced:C,...E}=t,M=K_(_y,n),[N,D]=T.useState(null),k=an(e,Pe=>D(Pe)),[j,F]=T.useState(null),Z=q_(j),Y=Z?.width??0,K=Z?.height??0,pe=s+(c!=="center"?"-"+c:""),ve=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},_e=Array.isArray(p)?p:[p],Ce=_e.length>0,Te={padding:ve,boundary:_e.filter(aP),altBoundary:Ce},{refs:ge,floatingStyles:Le,placement:L,isPositioned:ee,middlewareData:G}=Y3({strategy:"fixed",placement:pe,whileElementsMounted:(...Pe)=>L3(...Pe,{animationFrame:S==="always"}),elements:{reference:M.anchor},middleware:[K3({mainAxis:a+K,alignmentAxis:u}),d&&X3({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?Q3():void 0,...Te}),d&&Z3({...Te}),J3({...Te,apply:({elements:Pe,rects:it,availableWidth:B,availableHeight:J})=>{const{width:fe,height:Ne}=it.reference,Ie=Pe.floating.style;Ie.setProperty("--radix-popper-available-width",`${B}px`),Ie.setProperty("--radix-popper-available-height",`${J}px`),Ie.setProperty("--radix-popper-anchor-width",`${fe}px`),Ie.setProperty("--radix-popper-anchor-height",`${Ne}px`)}}),j&&eP({element:j,padding:f}),oP({arrowWidth:Y,arrowHeight:K}),v&&W3({strategy:"referenceHidden",...Te})]}),[Re,Ke]=ew(L),z=Fn(C);jr(()=>{ee&&z?.()},[ee,z]);const ie=G.arrow?.x,le=G.arrow?.y,xe=G.arrow?.centerOffset!==0,[Se,Ee]=T.useState();return jr(()=>{N&&Ee(window.getComputedStyle(N).zIndex)},[N]),b.jsx("div",{ref:ge.setFloating,"data-radix-popper-content-wrapper":"",style:{...Le,transform:ee?Le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[G.transformOrigin?.x,G.transformOrigin?.y].join(" "),...G.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:b.jsx(rP,{scope:n,placedSide:Re,onArrowChange:F,arrowX:ie,arrowY:le,shouldHideArrow:xe,children:b.jsx(Bt.div,{"data-side":Re,"data-align":Ke,...E,ref:k,style:{...E.style,animation:ee?void 0:"none"}})})})});Z_.displayName=_y;var J_="PopperArrow",iP={top:"bottom",right:"left",bottom:"top",left:"right"},W_=T.forwardRef(function(e,n){const{__scopePopper:s,...a}=e,c=sP(J_,s),u=iP[c.placedSide];return b.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:b.jsx(nP,{...a,ref:n,style:{...a.style,display:"block"}})})});W_.displayName=J_;function aP(t){return t!==null}var oP=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:s,middlewareData:a}=e,u=a.arrow?.centerOffset!==0,f=u?0:t.arrowWidth,d=u?0:t.arrowHeight,[p,y]=ew(n),g={start:"0%",center:"50%",end:"100%"}[y],v=(a.arrow?.x??0)+f/2,S=(a.arrow?.y??0)+d/2;let C="",E="";return p==="bottom"?(C=u?g:`${v}px`,E=`${-d}px`):p==="top"?(C=u?g:`${v}px`,E=`${s.floating.height+d}px`):p==="right"?(C=`${-d}px`,E=u?g:`${S}px`):p==="left"&&(C=`${s.floating.width+d}px`,E=u?g:`${S}px`),{data:{x:C,y:E}}}});function ew(t){const[e,n="center"]=t.split("-");return[e,n]}var cP=Q_,lP=Z_,uP=W_,[Lf]=Ni("Tooltip",[G_]),wy=G_(),tw="TooltipProvider",fP=700,Zb="tooltip.open",[dP,nw]=Lf(tw),rw=t=>{const{__scopeTooltip:e,delayDuration:n=fP,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:c}=t,u=T.useRef(!0),f=T.useRef(!1),d=T.useRef(0);return T.useEffect(()=>{const p=d.current;return()=>window.clearTimeout(p)},[]),b.jsx(dP,{scope:e,isOpenDelayedRef:u,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(d.current),u.current=!1},[]),onClose:T.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>u.current=!0,s)},[s]),isPointerInTransitRef:f,onPointerInTransitChange:T.useCallback(p=>{f.current=p},[]),disableHoverableContent:a,children:c})};rw.displayName=tw;var sw="Tooltip",[n8,Uf]=Lf(sw),xm="TooltipTrigger",hP=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,a=Uf(xm,n),c=nw(xm,n),u=wy(n),f=T.useRef(null),d=an(e,f,a.onTriggerChange),p=T.useRef(!1),y=T.useRef(!1),g=T.useCallback(()=>p.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),b.jsx(cP,{asChild:!0,...u,children:b.jsx(Bt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:d,onPointerMove:Lt(t.onPointerMove,v=>{v.pointerType!=="touch"&&!y.current&&!c.isPointerInTransitRef.current&&(a.onTriggerEnter(),y.current=!0)}),onPointerLeave:Lt(t.onPointerLeave,()=>{a.onTriggerLeave(),y.current=!1}),onPointerDown:Lt(t.onPointerDown,()=>{a.open&&a.onClose(),p.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Lt(t.onFocus,()=>{p.current||a.onOpen()}),onBlur:Lt(t.onBlur,a.onClose),onClick:Lt(t.onClick,a.onClose)})})});hP.displayName=xm;var pP="TooltipPortal",[r8,mP]=Lf(pP,{forceMount:void 0}),oo="TooltipContent",iw=T.forwardRef((t,e)=>{const n=mP(oo,t.__scopeTooltip),{forceMount:s=n.forceMount,side:a="top",...c}=t,u=Uf(oo,t.__scopeTooltip);return b.jsx(da,{present:s||u.open,children:u.disableHoverableContent?b.jsx(aw,{side:a,...c,ref:e}):b.jsx(yP,{side:a,...c,ref:e})})}),yP=T.forwardRef((t,e)=>{const n=Uf(oo,t.__scopeTooltip),s=nw(oo,t.__scopeTooltip),a=T.useRef(null),c=an(e,a),[u,f]=T.useState(null),{trigger:d,onClose:p}=n,y=a.current,{onPointerInTransitChange:g}=s,v=T.useCallback(()=>{f(null),g(!1)},[g]),S=T.useCallback((C,E)=>{const M=C.currentTarget,N={x:C.clientX,y:C.clientY},D=SP(N,M.getBoundingClientRect()),k=_P(N,D),j=wP(E.getBoundingClientRect()),F=EP([...k,...j]);f(F),g(!0)},[g]);return T.useEffect(()=>()=>v(),[v]),T.useEffect(()=>{if(d&&y){const C=M=>S(M,y),E=M=>S(M,d);return d.addEventListener("pointerleave",C),y.addEventListener("pointerleave",E),()=>{d.removeEventListener("pointerleave",C),y.removeEventListener("pointerleave",E)}}},[d,y,S,v]),T.useEffect(()=>{if(u){const C=E=>{const M=E.target,N={x:E.clientX,y:E.clientY},D=d?.contains(M)||y?.contains(M),k=!CP(N,u);D?v():k&&(v(),p())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[d,y,u,p,v]),b.jsx(aw,{...t,ref:c})}),[gP,vP]=Lf(sw,{isInside:!1}),xP=L6("TooltipContent"),aw=T.forwardRef((t,e)=>{const{__scopeTooltip:n,children:s,"aria-label":a,onEscapeKeyDown:c,onPointerDownOutside:u,...f}=t,d=Uf(oo,n),p=wy(n),{onClose:y}=d;return T.useEffect(()=>(document.addEventListener(Zb,y),()=>document.removeEventListener(Zb,y)),[y]),T.useEffect(()=>{if(d.trigger){const g=v=>{v.target?.contains(d.trigger)&&y()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[d.trigger,y]),b.jsx(uy,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:g=>g.preventDefault(),onDismiss:y,children:b.jsxs(lP,{"data-state":d.stateAttribute,...p,...f,ref:e,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[b.jsx(xP,{children:s}),b.jsx(gP,{scope:n,isInside:!0,children:b.jsx(iO,{id:d.contentId,role:"tooltip",children:a||s})})]})})});iw.displayName=oo;var ow="TooltipArrow",bP=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,a=wy(n);return vP(ow,n).isInside?null:b.jsx(uP,{...a,...s,ref:e})});bP.displayName=ow;function SP(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),a=Math.abs(e.right-t.x),c=Math.abs(e.left-t.x);switch(Math.min(n,s,a,c)){case c:return"left";case a:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function _P(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function wP(t){const{top:e,right:n,bottom:s,left:a}=t;return[{x:a,y:e},{x:n,y:e},{x:n,y:s},{x:a,y:s}]}function CP(t,e){const{x:n,y:s}=t;let a=!1;for(let c=0,u=e.length-1;c<e.length;u=c++){const f=e[c],d=e[u],p=f.x,y=f.y,g=d.x,v=d.y;y>s!=v>s&&n<(g-p)*(s-y)/(v-y)+p&&(a=!a)}return a}function EP(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),TP(e)}function TP(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const a=t[s];for(;e.length>=2;){const c=e[e.length-1],u=e[e.length-2];if((c.x-u.x)*(a.y-u.y)>=(c.y-u.y)*(a.x-u.x))e.pop();else break}e.push(a)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const a=t[s];for(;n.length>=2;){const c=n[n.length-1],u=n[n.length-2];if((c.x-u.x)*(a.y-u.y)>=(c.y-u.y)*(a.x-u.x))n.pop();else break}n.push(a)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var RP=rw,cw=iw;const AP=RP,OP=T.forwardRef(({className:t,sideOffset:e=4,...n},s)=>b.jsx(cw,{ref:s,sideOffset:e,className:qt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--radix-tooltip-content-transform-origin)",t),...n}));OP.displayName=cw.displayName;const MP={theme:"dark",setTheme:()=>null},lw=T.createContext(MP);function PP({children:t,defaultTheme:e="dark",...n}){const[s,a]=T.useState(()=>localStorage.getItem("theme")||e);T.useEffect(()=>{const u=window.document.documentElement;u.classList.remove("light","dark"),u.classList.add(s)},[s]);const c={theme:s,setTheme:u=>{localStorage.setItem("theme",u),a(u)}};return b.jsx(lw.Provider,{...n,value:c,children:t})}const NP=()=>{const t=T.useContext(lw);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function DP(){return b.jsxs(C6,{client:R6,children:[b.jsx(PP,{defaultTheme:"dark",children:b.jsxs(AP,{children:[b.jsx(qM,{}),b.jsx(RS,{})]})}),null]})}const kP=Pf("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),On=T.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...a},c)=>{const u=s?k6:"button";return b.jsx(u,{className:qt(kP({variant:e,size:n,className:t})),ref:c,...a})});On.displayName="Button";const Xs=T.forwardRef(({className:t,type:e,...n},s)=>b.jsx("input",{type:e,className:qt("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n}));Xs.displayName="Input";const tn=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:qt("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));tn.displayName="Card";const fn=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:qt("flex flex-col space-y-1.5 p-6",t),...e}));fn.displayName="CardHeader";const dn=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:qt("text-2xl font-semibold leading-none tracking-tight",t),...e}));dn.displayName="CardTitle";const Fr=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:qt("text-sm text-muted-foreground",t),...e}));Fr.displayName="CardDescription";const vn=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:qt("p-6 pt-0",t),...e}));vn.displayName="CardContent";const jP=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:qt("flex items-center p-6 pt-0",t),...e}));jP.displayName="CardFooter";function Cy(){const{theme:t,setTheme:e}=NP();return b.jsxs(On,{variant:"ghost",size:"icon",onClick:()=>e(t==="light"?"dark":"light"),"data-testid":"button-theme-toggle",children:[b.jsx(WO,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),b.jsx(FO,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),b.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}function LP(t,e,n,s){const c=s?50:0,u=1-e/n,f=Math.floor(u*50);return 100+c+f}function UP(t,e){const n=t.toLowerCase().trim(),s=e.toLowerCase().trim();if(n===s)return!0;const a=n.replace(/[^\w\s]/g,"").replace(/\s+/g," "),c=s.replace(/[^\w\s]/g,"").replace(/\s+/g," ");return a===c}function IP(){const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let n=0;n<6;n++)e+=t[Math.floor(Math.random()*t.length)];return e}function zP(t){const e=["from-purple-500 to-pink-500","from-blue-500 to-cyan-500","from-green-500 to-emerald-500","from-orange-500 to-red-500","from-yellow-500 to-amber-500","from-indigo-500 to-purple-500","from-pink-500 to-rose-500","from-teal-500 to-green-500"];let n=0;for(let s=0;s<t.length;s++)n=t.charCodeAt(s)+((n<<5)-n);return e[Math.abs(n)%e.length]}function BP(t){const e=t.trim().split(" ");return e.length>=2?(e[0][0]+e[e.length-1][0]).toUpperCase():t.slice(0,2).toUpperCase()}function HP(){const t=Ef(),[e,n]=T.useState(""),[s,a]=T.useState(""),c=d=>{const p=d.trim();return p.length<2?(alert("Name must be at least 2 characters long"),null):p.length>24?(alert("Name must be 24 characters or fewer"),null):/^[\w\s'-]+$/.test(p)?p:(alert("Name can only contain letters, numbers, spaces, apostrophes, and hyphens"),null)},u=()=>{const d=c(s);if(!d)return;const p=IP();localStorage.setItem("playerName",d),typeof window<"u"&&(sessionStorage.setItem("musicshowdown.pendingRole","host"),sessionStorage.setItem("musicshowdown.lastRole","host")),t({to:"/music-showdown/game/$roomCode",params:{roomCode:p}})},f=()=>{const d=c(s);if(d){if(!e.trim()){alert("Please enter a room code");return}if(e.length!==6){alert("Room code must be 6 characters");return}localStorage.setItem("playerName",d),typeof window<"u"&&(sessionStorage.setItem("musicshowdown.pendingRole","peer"),sessionStorage.setItem("musicshowdown.lastRole","peer")),t({to:"/music-showdown/game/$roomCode",params:{roomCode:e.toUpperCase()}})}};return b.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-gradient-to-br from-emerald-50 via-emerald-100 to-emerald-200 text-foreground transition-colors dark:from-emerald-950 dark:via-emerald-900 dark:to-emerald-950",children:[b.jsx("div",{className:"absolute top-4 right-4 z-10",children:b.jsx(Cy,{})}),b.jsx("div",{className:"relative z-10",children:b.jsxs("div",{className:"container mx-auto px-4 py-16",children:[b.jsxs("header",{className:"mx-auto max-w-3xl text-center",children:[b.jsx("h1",{className:"mb-4 text-5xl font-heading font-bold tracking-tight md:text-6xl",children:"Music Showdown"}),b.jsx("p",{className:"text-lg text-muted-foreground md:text-xl",children:"Pick a name, create or join a room, and start guessing songs with friends."})]}),b.jsx("section",{className:"mx-auto mt-12 max-w-4xl",children:b.jsxs(tn,{className:"w-full border border-emerald-200/60 bg-background/90 shadow-sm backdrop-blur-sm dark:border-emerald-800/60 dark:bg-card/90",children:[b.jsxs(fn,{children:[b.jsx(dn,{className:"text-2xl font-heading",children:"1. Choose your display name"}),b.jsx(Fr,{children:"Everyone in the room will see you by this name."})]}),b.jsx(vn,{children:b.jsx(Xs,{placeholder:"Your name",value:s,onChange:d=>a(d.target.value),onKeyDown:d=>d.key==="Enter"&&u(),className:"text-lg","data-testid":"input-player-name"})})]})}),b.jsx("section",{className:"mx-auto mt-10 max-w-4xl",children:b.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[b.jsxs(tn,{className:"border border-emerald-200/60 bg-background/90 shadow-sm backdrop-blur-sm dark:border-emerald-800/60 dark:bg-card/90",children:[b.jsxs(fn,{children:[b.jsx(dn,{className:"text-xl font-heading",children:"2A. Host a new room"}),b.jsx(Fr,{children:"Create a room and share the code with your friends."})]}),b.jsx(vn,{children:b.jsx(On,{onClick:u,size:"lg",className:"w-full text-lg font-semibold",disabled:!s.trim(),"data-testid":"button-create-room",children:"Create Room"})})]}),b.jsxs(tn,{className:"border border-emerald-200/60 bg-background/90 shadow-sm backdrop-blur-sm dark:border-emerald-800/60 dark:bg-card/90",children:[b.jsxs(fn,{children:[b.jsx(dn,{className:"text-xl font-heading",children:"2B. Join an existing room"}),b.jsx(Fr,{children:"Enter the room code shared by the host."})]}),b.jsxs(vn,{className:"space-y-4",children:[b.jsx(Xs,{placeholder:"Room code",value:e,onChange:d=>n(d.target.value.toUpperCase()),onKeyDown:d=>d.key==="Enter"&&f(),className:"font-mono uppercase text-lg",maxLength:6,"data-testid":"input-room-code"}),b.jsx(On,{onClick:f,variant:"secondary",disabled:!s.trim()||!e.trim(),"data-testid":"button-join-room",children:"Join Room"})]})]})]})}),b.jsxs("section",{className:"mx-auto mt-16 max-w-5xl",children:[b.jsx("h2",{className:"mb-8 text-center text-3xl font-heading font-bold",children:"How to Play"}),b.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[{icon:nM,title:"1. Create Room",description:"Host creates a room and shares the code with friends"},{icon:m_,title:"2. Pick Songs",description:"Host sets a theme, players search YouTube for matching songs"},{icon:y_,title:"3. Guess Away",description:"Listen to each song and try to guess the title quickly"},{icon:dm,title:"4. Win Points",description:"First and fastest correct guesses earn the most points"}].map((d,p)=>b.jsx(tn,{className:"border border-emerald-200/60 bg-background/90 text-center shadow-sm backdrop-blur-sm dark:border-emerald-800/60 dark:bg-card/90",children:b.jsxs(fn,{className:"text-center",children:[b.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-emerald-200/60 dark:bg-emerald-900/40",children:b.jsx(d.icon,{className:"h-8 w-8 text-emerald-700 dark:text-emerald-300"})}),b.jsx(dn,{className:"text-lg font-heading",children:d.title}),b.jsx(Fr,{className:"text-sm",children:d.description})]})},p))})]})]})}),b.jsx("a",{className:"block px-4 pb-6 text-center text-xs text-muted-foreground/80",href:"https://www.flaticon.com/free-icons/music-note",title:"music note icons",children:"Music note icons created by Freepik - Flaticon"})]})}const $P=Pf("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border border-(--badge-outline) shadow-xs"}},defaultVariants:{variant:"default"}});function Ac({className:t,variant:e,...n}){return b.jsx("div",{className:qt($P({variant:e}),t),...n})}function Ey(t,[e,n]){return Math.min(n,Math.max(e,t))}var VP=T.createContext(void 0);function uw(t){const e=T.useContext(VP);return t||e||"ltr"}function qP(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var fw=["PageUp","PageDown"],dw=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],hw={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},go="Slider",[bm,FP,YP]=US(go),[pw]=Ni(go,[YP]),[GP,If]=pw(go),mw=T.forwardRef((t,e)=>{const{name:n,min:s=0,max:a=100,step:c=1,orientation:u="horizontal",disabled:f=!1,minStepsBetweenThumbs:d=0,defaultValue:p=[s],value:y,onValueChange:g=()=>{},onValueCommit:v=()=>{},inverted:S=!1,form:C,...E}=t,M=T.useRef(new Set),N=T.useRef(0),k=u==="horizontal"?KP:XP,[j=[],F]=VS({prop:y,defaultProp:p,onChange:_e=>{[...M.current][N.current]?.focus(),g(_e)}}),Z=T.useRef(j);function Y(_e){const Ce=eN(j,_e);ve(_e,Ce)}function K(_e){ve(_e,N.current)}function pe(){const _e=Z.current[N.current];j[N.current]!==_e&&v(j)}function ve(_e,Ce,{commit:Te}={commit:!1}){const ge=sN(c),Le=iN(Math.round((_e-s)/c)*c+s,ge),L=Ey(Le,[s,a]);F((ee=[])=>{const G=JP(ee,L,Ce);if(rN(G,d*c)){N.current=G.indexOf(L);const Re=String(G)!==String(ee);return Re&&Te&&v(G),Re?G:ee}else return ee})}return b.jsx(GP,{scope:t.__scopeSlider,name:n,disabled:f,min:s,max:a,valueIndexToChangeRef:N,thumbs:M.current,values:j,orientation:u,form:C,children:b.jsx(bm.Provider,{scope:t.__scopeSlider,children:b.jsx(bm.Slot,{scope:t.__scopeSlider,children:b.jsx(k,{"aria-disabled":f,"data-disabled":f?"":void 0,...E,ref:e,onPointerDown:Lt(E.onPointerDown,()=>{f||(Z.current=j)}),min:s,max:a,inverted:S,onSlideStart:f?void 0:Y,onSlideMove:f?void 0:K,onSlideEnd:f?void 0:pe,onHomeKeyDown:()=>!f&&ve(s,0,{commit:!0}),onEndKeyDown:()=>!f&&ve(a,j.length-1,{commit:!0}),onStepKeyDown:({event:_e,direction:Ce})=>{if(!f){const Le=fw.includes(_e.key)||_e.shiftKey&&dw.includes(_e.key)?10:1,L=N.current,ee=j[L],G=c*Le*Ce;ve(ee+G,L,{commit:!0})}}})})})})});mw.displayName=go;var[yw,gw]=pw(go,{startEdge:"left",endEdge:"right",size:"width",direction:1}),KP=T.forwardRef((t,e)=>{const{min:n,max:s,dir:a,inverted:c,onSlideStart:u,onSlideMove:f,onSlideEnd:d,onStepKeyDown:p,...y}=t,[g,v]=T.useState(null),S=an(e,k=>v(k)),C=T.useRef(void 0),E=uw(a),M=E==="ltr",N=M&&!c||!M&&c;function D(k){const j=C.current||g.getBoundingClientRect(),F=[0,j.width],Y=Ty(F,N?[n,s]:[s,n]);return C.current=j,Y(k-j.left)}return b.jsx(yw,{scope:t.__scopeSlider,startEdge:N?"left":"right",endEdge:N?"right":"left",direction:N?1:-1,size:"width",children:b.jsx(vw,{dir:E,"data-orientation":"horizontal",...y,ref:S,style:{...y.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:k=>{const j=D(k.clientX);u?.(j)},onSlideMove:k=>{const j=D(k.clientX);f?.(j)},onSlideEnd:()=>{C.current=void 0,d?.()},onStepKeyDown:k=>{const F=hw[N?"from-left":"from-right"].includes(k.key);p?.({event:k,direction:F?-1:1})}})})}),XP=T.forwardRef((t,e)=>{const{min:n,max:s,inverted:a,onSlideStart:c,onSlideMove:u,onSlideEnd:f,onStepKeyDown:d,...p}=t,y=T.useRef(null),g=an(e,y),v=T.useRef(void 0),S=!a;function C(E){const M=v.current||y.current.getBoundingClientRect(),N=[0,M.height],k=Ty(N,S?[s,n]:[n,s]);return v.current=M,k(E-M.top)}return b.jsx(yw,{scope:t.__scopeSlider,startEdge:S?"bottom":"top",endEdge:S?"top":"bottom",size:"height",direction:S?1:-1,children:b.jsx(vw,{"data-orientation":"vertical",...p,ref:g,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:E=>{const M=C(E.clientY);c?.(M)},onSlideMove:E=>{const M=C(E.clientY);u?.(M)},onSlideEnd:()=>{v.current=void 0,f?.()},onStepKeyDown:E=>{const N=hw[S?"from-bottom":"from-top"].includes(E.key);d?.({event:E,direction:N?-1:1})}})})}),vw=T.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:a,onSlideEnd:c,onHomeKeyDown:u,onEndKeyDown:f,onStepKeyDown:d,...p}=t,y=If(go,n);return b.jsx(Bt.span,{...p,ref:e,onKeyDown:Lt(t.onKeyDown,g=>{g.key==="Home"?(u(g),g.preventDefault()):g.key==="End"?(f(g),g.preventDefault()):fw.concat(dw).includes(g.key)&&(d(g),g.preventDefault())}),onPointerDown:Lt(t.onPointerDown,g=>{const v=g.target;v.setPointerCapture(g.pointerId),g.preventDefault(),y.thumbs.has(v)?v.focus():s(g)}),onPointerMove:Lt(t.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&a(g)}),onPointerUp:Lt(t.onPointerUp,g=>{const v=g.target;v.hasPointerCapture(g.pointerId)&&(v.releasePointerCapture(g.pointerId),c(g))})})}),xw="SliderTrack",bw=T.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,a=If(xw,n);return b.jsx(Bt.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...s,ref:e})});bw.displayName=xw;var Sm="SliderRange",Sw=T.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,a=If(Sm,n),c=gw(Sm,n),u=T.useRef(null),f=an(e,u),d=a.values.length,p=a.values.map(v=>Cw(v,a.min,a.max)),y=d>1?Math.min(...p):0,g=100-Math.max(...p);return b.jsx(Bt.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...s,ref:f,style:{...t.style,[c.startEdge]:y+"%",[c.endEdge]:g+"%"}})});Sw.displayName=Sm;var _m="SliderThumb",_w=T.forwardRef((t,e)=>{const n=FP(t.__scopeSlider),[s,a]=T.useState(null),c=an(e,f=>a(f)),u=T.useMemo(()=>s?n().findIndex(f=>f.ref.current===s):-1,[n,s]);return b.jsx(QP,{...t,ref:c,index:u})}),QP=T.forwardRef((t,e)=>{const{__scopeSlider:n,index:s,name:a,...c}=t,u=If(_m,n),f=gw(_m,n),[d,p]=T.useState(null),y=an(e,D=>p(D)),g=d?u.form||!!d.closest("form"):!0,v=q_(d),S=u.values[s],C=S===void 0?0:Cw(S,u.min,u.max),E=WP(s,u.values.length),M=v?.[f.size],N=M?tN(M,C,f.direction):0;return T.useEffect(()=>{if(d)return u.thumbs.add(d),()=>{u.thumbs.delete(d)}},[d,u.thumbs]),b.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[f.startEdge]:`calc(${C}% + ${N}px)`},children:[b.jsx(bm.ItemSlot,{scope:t.__scopeSlider,children:b.jsx(Bt.span,{role:"slider","aria-label":t["aria-label"]||E,"aria-valuemin":u.min,"aria-valuenow":S,"aria-valuemax":u.max,"aria-orientation":u.orientation,"data-orientation":u.orientation,"data-disabled":u.disabled?"":void 0,tabIndex:u.disabled?void 0:0,...c,ref:y,style:S===void 0?{display:"none"}:t.style,onFocus:Lt(t.onFocus,()=>{u.valueIndexToChangeRef.current=s})})}),g&&b.jsx(ww,{name:a??(u.name?u.name+(u.values.length>1?"[]":""):void 0),form:u.form,value:S},s)]})});_w.displayName=_m;var ZP="RadioBubbleInput",ww=T.forwardRef(({__scopeSlider:t,value:e,...n},s)=>{const a=T.useRef(null),c=an(a,s),u=qP(e);return T.useEffect(()=>{const f=a.current;if(!f)return;const d=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(d,"value").set;if(u!==e&&y){const g=new Event("input",{bubbles:!0});y.call(f,e),f.dispatchEvent(g)}},[u,e]),b.jsx(Bt.input,{style:{display:"none"},...n,ref:c,defaultValue:e})});ww.displayName=ZP;function JP(t=[],e,n){const s=[...t];return s[n]=e,s.sort((a,c)=>a-c)}function Cw(t,e,n){const c=100/(n-e)*(t-e);return Ey(c,[0,100])}function WP(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function eN(t,e){if(t.length===1)return 0;const n=t.map(a=>Math.abs(a-e)),s=Math.min(...n);return n.indexOf(s)}function tN(t,e,n){const s=t/2,c=Ty([0,50],[0,s]);return(s-c(e)*n)*n}function nN(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function rN(t,e){if(e>0){const n=nN(t);return Math.min(...n)>=e}return!0}function Ty(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function sN(t){return(String(t).split(".")[1]||"").length}function iN(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var Ew=mw,aN=bw,oN=Sw,cN=_w;const af=T.forwardRef(({className:t,...e},n)=>b.jsxs(Ew,{ref:n,className:qt("relative flex w-full touch-none select-none items-center",t),...e,children:[b.jsx(aN,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:b.jsx(oN,{className:"absolute h-full bg-primary"})}),b.jsx(cN,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));af.displayName=Ew.displayName;var lN="Label",Tw=T.forwardRef((t,e)=>b.jsx(Bt.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Tw.displayName=lN;var Rw=Tw;const uN=Pf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),na=T.forwardRef(({className:t,...e},n)=>b.jsx(Rw,{ref:n,className:qt(uN(),t),...e}));na.displayName=Rw.displayName;var fN=wS();function dN(){return fN.useSyncExternalStore(hN,()=>!0,()=>!1)}function hN(){return()=>{}}var Ry="Avatar",[pN]=Ni(Ry),[mN,Aw]=pN(Ry),Ow=T.forwardRef((t,e)=>{const{__scopeAvatar:n,...s}=t,[a,c]=T.useState("idle");return b.jsx(mN,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:c,children:b.jsx(Bt.span,{...s,ref:e})})});Ow.displayName=Ry;var Mw="AvatarImage",Pw=T.forwardRef((t,e)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:a=()=>{},...c}=t,u=Aw(Mw,n),f=yN(s,c),d=Fn(p=>{a(p),u.onImageLoadingStatusChange(p)});return jr(()=>{f!=="idle"&&d(f)},[f,d]),f==="loaded"?b.jsx(Bt.img,{...c,ref:e,src:s}):null});Pw.displayName=Mw;var Nw="AvatarFallback",Dw=T.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:s,...a}=t,c=Aw(Nw,n),[u,f]=T.useState(s===void 0);return T.useEffect(()=>{if(s!==void 0){const d=window.setTimeout(()=>f(!0),s);return()=>window.clearTimeout(d)}},[s]),u&&c.imageLoadingStatus!=="loaded"?b.jsx(Bt.span,{...a,ref:e}):null});Dw.displayName=Nw;function Jb(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function yN(t,{referrerPolicy:e,crossOrigin:n}){const s=dN(),a=T.useRef(null),c=s?(a.current||(a.current=new window.Image),a.current):null,[u,f]=T.useState(()=>Jb(c,t));return jr(()=>{f(Jb(c,t))},[c,t]),jr(()=>{const d=g=>()=>{f(g)};if(!c)return;const p=d("loaded"),y=d("error");return c.addEventListener("load",p),c.addEventListener("error",y),e&&(c.referrerPolicy=e),typeof n=="string"&&(c.crossOrigin=n),()=>{c.removeEventListener("load",p),c.removeEventListener("error",y)}},[c,n,e]),u}var kw=Ow,jw=Pw,Lw=Dw;const Uw=T.forwardRef(({className:t,...e},n)=>b.jsx(kw,{ref:n,className:qt(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));Uw.displayName=kw.displayName;const gN=T.forwardRef(({className:t,...e},n)=>b.jsx(jw,{ref:n,className:qt("aspect-square h-full w-full",t),...e}));gN.displayName=jw.displayName;const Iw=T.forwardRef(({className:t,...e},n)=>b.jsx(Lw,{ref:n,className:qt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Iw.displayName=Lw.displayName;function Xa({playerId:t,playerName:e,size:n="md"}){const s={sm:"h-8 w-8 text-xs",md:"h-12 w-12 text-sm",lg:"h-16 w-16 text-base"};return b.jsx(Uw,{className:s[n],children:b.jsx(Iw,{className:`bg-linear-to-br ${zP(t)} text-white font-semibold`,children:BP(e)})})}var Ay="Progress",Oy=100,[vN]=Ni(Ay),[xN,bN]=vN(Ay),zw=T.forwardRef((t,e)=>{const{__scopeProgress:n,value:s=null,max:a,getValueLabel:c=SN,...u}=t;(a||a===0)&&!Wb(a)&&console.error(_N(`${a}`,"Progress"));const f=Wb(a)?a:Oy;s!==null&&!e1(s,f)&&console.error(wN(`${s}`,"Progress"));const d=e1(s,f)?s:null,p=of(d)?c(d,f):void 0;return b.jsx(xN,{scope:n,value:d,max:f,children:b.jsx(Bt.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":of(d)?d:void 0,"aria-valuetext":p,role:"progressbar","data-state":$w(d,f),"data-value":d??void 0,"data-max":f,...u,ref:e})})});zw.displayName=Ay;var Bw="ProgressIndicator",Hw=T.forwardRef((t,e)=>{const{__scopeProgress:n,...s}=t,a=bN(Bw,n);return b.jsx(Bt.div,{"data-state":$w(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:e})});Hw.displayName=Bw;function SN(t,e){return`${Math.round(t/e*100)}%`}function $w(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function of(t){return typeof t=="number"}function Wb(t){return of(t)&&!isNaN(t)&&t>0}function e1(t,e){return of(t)&&!isNaN(t)&&t<=e&&t>=0}function _N(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Oy}\`.`}function wN(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Oy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Vw=zw,CN=Hw;const qw=T.forwardRef(({className:t,value:e,...n},s)=>b.jsx(Vw,{ref:s,className:qt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:b.jsx(CN,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));qw.displayName=Vw.displayName;function EN({timeRemaining:t,totalTime:e,variant:n="default"}){const s=t/e*100,a=s<25;return b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[b.jsx(p_,{className:`w-4 h-4 ${a?"text-accent animate-pulse":"text-muted-foreground"}`}),b.jsxs("span",{className:a?"text-accent font-bold":"",children:[Math.max(0,Math.ceil(t)),"s"]})]}),b.jsxs("span",{className:"text-xs text-muted-foreground",children:["/ ",e,"s"]})]}),b.jsx(qw,{value:s,className:`h-2 ${a?"animate-pulse":""}`,"data-testid":"progress-timer"})]})}const TN={BASE_URL:"/music-showdown/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};async function RN(){const t="AIzaSyBo_-vy2fUDR_isXL4llWGOJJImxvsmYbU";return console.log("@@@ import.meta.env",TN),t}let xu=null;async function AN(t){if(xu===null&&(xu=await RN()),!xu)throw console.error("YouTube API key not configured"),new Error("YouTube API key not configured. Please add VITE_YOUTUBE_API_KEY to your environment.");const e=new URLSearchParams({part:"snippet",q:t,type:"video",maxResults:"12",videoEmbeddable:"true",videoCategoryId:"10",key:xu}),n=await fetch(`https://www.googleapis.com/youtube/v3/search?${e.toString()}`);if(!n.ok)throw new Error("Failed to search YouTube");return(await n.json()).items?.map(a=>({id:a.id?.videoId||"",title:ef(a.snippet?.title||""),thumbnail:a.snippet?.thumbnails?.medium?.url||"",channelTitle:ef(a.snippet?.channelTitle||"")}))||[]}function ON(t,e){return T.useReducer((n,s)=>e[n][s]??n,t)}var My="ScrollArea",[Fw]=Ni(My),[MN,Lr]=Fw(My),Yw=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:s="hover",dir:a,scrollHideDelay:c=600,...u}=t,[f,d]=T.useState(null),[p,y]=T.useState(null),[g,v]=T.useState(null),[S,C]=T.useState(null),[E,M]=T.useState(null),[N,D]=T.useState(0),[k,j]=T.useState(0),[F,Z]=T.useState(!1),[Y,K]=T.useState(!1),pe=an(e,_e=>d(_e)),ve=uw(a);return b.jsx(MN,{scope:n,type:s,dir:ve,scrollHideDelay:c,scrollArea:f,viewport:p,onViewportChange:y,content:g,onContentChange:v,scrollbarX:S,onScrollbarXChange:C,scrollbarXEnabled:F,onScrollbarXEnabledChange:Z,scrollbarY:E,onScrollbarYChange:M,scrollbarYEnabled:Y,onScrollbarYEnabledChange:K,onCornerWidthChange:D,onCornerHeightChange:j,children:b.jsx(Bt.div,{dir:ve,...u,ref:pe,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":k+"px",...t.style}})})});Yw.displayName=My;var Gw="ScrollAreaViewport",Kw=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:s,nonce:a,...c}=t,u=Lr(Gw,n),f=T.useRef(null),d=an(e,f,u.onViewportChange);return b.jsxs(b.Fragment,{children:[b.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),b.jsx(Bt.div,{"data-radix-scroll-area-viewport":"",...c,ref:d,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...t.style},children:b.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});Kw.displayName=Gw;var vs="ScrollAreaScrollbar",Py=T.forwardRef((t,e)=>{const{forceMount:n,...s}=t,a=Lr(vs,t.__scopeScrollArea),{onScrollbarXEnabledChange:c,onScrollbarYEnabledChange:u}=a,f=t.orientation==="horizontal";return T.useEffect(()=>(f?c(!0):u(!0),()=>{f?c(!1):u(!1)}),[f,c,u]),a.type==="hover"?b.jsx(PN,{...s,ref:e,forceMount:n}):a.type==="scroll"?b.jsx(NN,{...s,ref:e,forceMount:n}):a.type==="auto"?b.jsx(Xw,{...s,ref:e,forceMount:n}):a.type==="always"?b.jsx(Ny,{...s,ref:e}):null});Py.displayName=vs;var PN=T.forwardRef((t,e)=>{const{forceMount:n,...s}=t,a=Lr(vs,t.__scopeScrollArea),[c,u]=T.useState(!1);return T.useEffect(()=>{const f=a.scrollArea;let d=0;if(f){const p=()=>{window.clearTimeout(d),u(!0)},y=()=>{d=window.setTimeout(()=>u(!1),a.scrollHideDelay)};return f.addEventListener("pointerenter",p),f.addEventListener("pointerleave",y),()=>{window.clearTimeout(d),f.removeEventListener("pointerenter",p),f.removeEventListener("pointerleave",y)}}},[a.scrollArea,a.scrollHideDelay]),b.jsx(da,{present:n||c,children:b.jsx(Xw,{"data-state":c?"visible":"hidden",...s,ref:e})})}),NN=T.forwardRef((t,e)=>{const{forceMount:n,...s}=t,a=Lr(vs,t.__scopeScrollArea),c=t.orientation==="horizontal",u=Bf(()=>d("SCROLL_END"),100),[f,d]=ON("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return T.useEffect(()=>{if(f==="idle"){const p=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(p)}},[f,a.scrollHideDelay,d]),T.useEffect(()=>{const p=a.viewport,y=c?"scrollLeft":"scrollTop";if(p){let g=p[y];const v=()=>{const S=p[y];g!==S&&(d("SCROLL"),u()),g=S};return p.addEventListener("scroll",v),()=>p.removeEventListener("scroll",v)}},[a.viewport,c,d,u]),b.jsx(da,{present:n||f!=="hidden",children:b.jsx(Ny,{"data-state":f==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:Lt(t.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Lt(t.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),Xw=T.forwardRef((t,e)=>{const n=Lr(vs,t.__scopeScrollArea),{forceMount:s,...a}=t,[c,u]=T.useState(!1),f=t.orientation==="horizontal",d=Bf(()=>{if(n.viewport){const p=n.viewport.offsetWidth<n.viewport.scrollWidth,y=n.viewport.offsetHeight<n.viewport.scrollHeight;u(f?p:y)}},10);return co(n.viewport,d),co(n.content,d),b.jsx(da,{present:s||c,children:b.jsx(Ny,{"data-state":c?"visible":"hidden",...a,ref:e})})}),Ny=T.forwardRef((t,e)=>{const{orientation:n="vertical",...s}=t,a=Lr(vs,t.__scopeScrollArea),c=T.useRef(null),u=T.useRef(0),[f,d]=T.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=eC(f.viewport,f.content),y={...s,sizes:f,onSizesChange:d,hasThumb:p>0&&p<1,onThumbChange:v=>c.current=v,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:v=>u.current=v};function g(v,S){return IN(v,u.current,f,S)}return n==="horizontal"?b.jsx(DN,{...y,ref:e,onThumbPositionChange:()=>{if(a.viewport&&c.current){const v=a.viewport.scrollLeft,S=t1(v,f,a.dir);c.current.style.transform=`translate3d(${S}px, 0, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollLeft=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollLeft=g(v,a.dir))}}):n==="vertical"?b.jsx(kN,{...y,ref:e,onThumbPositionChange:()=>{if(a.viewport&&c.current){const v=a.viewport.scrollTop,S=t1(v,f);c.current.style.transform=`translate3d(0, ${S}px, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollTop=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollTop=g(v))}}):null}),DN=T.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...a}=t,c=Lr(vs,t.__scopeScrollArea),[u,f]=T.useState(),d=T.useRef(null),p=an(e,d,c.onScrollbarXChange);return T.useEffect(()=>{d.current&&f(getComputedStyle(d.current))},[d]),b.jsx(Zw,{"data-orientation":"horizontal",...a,ref:p,sizes:n,style:{bottom:0,left:c.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:c.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":zf(n)+"px",...t.style},onThumbPointerDown:y=>t.onThumbPointerDown(y.x),onDragScroll:y=>t.onDragScroll(y.x),onWheelScroll:(y,g)=>{if(c.viewport){const v=c.viewport.scrollLeft+y.deltaX;t.onWheelScroll(v),nC(v,g)&&y.preventDefault()}},onResize:()=>{d.current&&c.viewport&&u&&s({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:lf(u.paddingLeft),paddingEnd:lf(u.paddingRight)}})}})}),kN=T.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...a}=t,c=Lr(vs,t.__scopeScrollArea),[u,f]=T.useState(),d=T.useRef(null),p=an(e,d,c.onScrollbarYChange);return T.useEffect(()=>{d.current&&f(getComputedStyle(d.current))},[d]),b.jsx(Zw,{"data-orientation":"vertical",...a,ref:p,sizes:n,style:{top:0,right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":zf(n)+"px",...t.style},onThumbPointerDown:y=>t.onThumbPointerDown(y.y),onDragScroll:y=>t.onDragScroll(y.y),onWheelScroll:(y,g)=>{if(c.viewport){const v=c.viewport.scrollTop+y.deltaY;t.onWheelScroll(v),nC(v,g)&&y.preventDefault()}},onResize:()=>{d.current&&c.viewport&&u&&s({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:lf(u.paddingTop),paddingEnd:lf(u.paddingBottom)}})}})}),[jN,Qw]=Fw(vs),Zw=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:a,onThumbChange:c,onThumbPointerUp:u,onThumbPointerDown:f,onThumbPositionChange:d,onDragScroll:p,onWheelScroll:y,onResize:g,...v}=t,S=Lr(vs,n),[C,E]=T.useState(null),M=an(e,pe=>E(pe)),N=T.useRef(null),D=T.useRef(""),k=S.viewport,j=s.content-s.viewport,F=Fn(y),Z=Fn(d),Y=Bf(g,10);function K(pe){if(N.current){const ve=pe.clientX-N.current.left,_e=pe.clientY-N.current.top;p({x:ve,y:_e})}}return T.useEffect(()=>{const pe=ve=>{const _e=ve.target;C?.contains(_e)&&F(ve,j)};return document.addEventListener("wheel",pe,{passive:!1}),()=>document.removeEventListener("wheel",pe,{passive:!1})},[k,C,j,F]),T.useEffect(Z,[s,Z]),co(C,Y),co(S.content,Y),b.jsx(jN,{scope:n,scrollbar:C,hasThumb:a,onThumbChange:Fn(c),onThumbPointerUp:Fn(u),onThumbPositionChange:Z,onThumbPointerDown:Fn(f),children:b.jsx(Bt.div,{...v,ref:M,style:{position:"absolute",...v.style},onPointerDown:Lt(t.onPointerDown,pe=>{pe.button===0&&(pe.target.setPointerCapture(pe.pointerId),N.current=C.getBoundingClientRect(),D.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",S.viewport&&(S.viewport.style.scrollBehavior="auto"),K(pe))}),onPointerMove:Lt(t.onPointerMove,K),onPointerUp:Lt(t.onPointerUp,pe=>{const ve=pe.target;ve.hasPointerCapture(pe.pointerId)&&ve.releasePointerCapture(pe.pointerId),document.body.style.webkitUserSelect=D.current,S.viewport&&(S.viewport.style.scrollBehavior=""),N.current=null})})})}),cf="ScrollAreaThumb",Jw=T.forwardRef((t,e)=>{const{forceMount:n,...s}=t,a=Qw(cf,t.__scopeScrollArea);return b.jsx(da,{present:n||a.hasThumb,children:b.jsx(LN,{ref:e,...s})})}),LN=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:s,...a}=t,c=Lr(cf,n),u=Qw(cf,n),{onThumbPositionChange:f}=u,d=an(e,g=>u.onThumbChange(g)),p=T.useRef(void 0),y=Bf(()=>{p.current&&(p.current(),p.current=void 0)},100);return T.useEffect(()=>{const g=c.viewport;if(g){const v=()=>{if(y(),!p.current){const S=zN(g,f);p.current=S,f()}};return f(),g.addEventListener("scroll",v),()=>g.removeEventListener("scroll",v)}},[c.viewport,y,f]),b.jsx(Bt.div,{"data-state":u.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Lt(t.onPointerDownCapture,g=>{const S=g.target.getBoundingClientRect(),C=g.clientX-S.left,E=g.clientY-S.top;u.onThumbPointerDown({x:C,y:E})}),onPointerUp:Lt(t.onPointerUp,u.onThumbPointerUp)})});Jw.displayName=cf;var Dy="ScrollAreaCorner",Ww=T.forwardRef((t,e)=>{const n=Lr(Dy,t.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?b.jsx(UN,{...t,ref:e}):null});Ww.displayName=Dy;var UN=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,...s}=t,a=Lr(Dy,n),[c,u]=T.useState(0),[f,d]=T.useState(0),p=!!(c&&f);return co(a.scrollbarX,()=>{const y=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(y),d(y)}),co(a.scrollbarY,()=>{const y=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(y),u(y)}),p?b.jsx(Bt.div,{...s,ref:e,style:{width:c,height:f,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function lf(t){return t?parseInt(t,10):0}function eC(t,e){const n=t/e;return isNaN(n)?0:n}function zf(t){const e=eC(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-n)*e;return Math.max(s,18)}function IN(t,e,n,s="ltr"){const a=zf(n),c=a/2,u=e||c,f=a-u,d=n.scrollbar.paddingStart+u,p=n.scrollbar.size-n.scrollbar.paddingEnd-f,y=n.content-n.viewport,g=s==="ltr"?[0,y]:[y*-1,0];return tC([d,p],g)(t)}function t1(t,e,n="ltr"){const s=zf(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,c=e.scrollbar.size-a,u=e.content-e.viewport,f=c-s,d=n==="ltr"?[0,u]:[u*-1,0],p=Ey(t,d);return tC([0,u],[0,f])(p)}function tC(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function nC(t,e){return t>0&&t<e}var zN=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},s=0;return(function a(){const c={left:t.scrollLeft,top:t.scrollTop},u=n.left!==c.left,f=n.top!==c.top;(u||f)&&e(),n=c,s=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(s)};function Bf(t,e){const n=Fn(t),s=T.useRef(0);return T.useEffect(()=>()=>window.clearTimeout(s.current),[]),T.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,e)},[n,e])}function co(t,e){const n=Fn(e);jr(()=>{let s=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return a.observe(t),()=>{window.cancelAnimationFrame(s),a.unobserve(t)}}},[t,n])}var rC=Yw,BN=Kw,HN=Ww;const ky=T.forwardRef(({className:t,children:e,...n},s)=>b.jsxs(rC,{ref:s,className:qt("relative overflow-hidden",t),...n,children:[b.jsx(BN,{className:"h-full w-full rounded-[inherit]",children:e}),b.jsx(sC,{}),b.jsx(HN,{})]}));ky.displayName=rC.displayName;const sC=T.forwardRef(({className:t,orientation:e="vertical",...n},s)=>b.jsx(Py,{ref:s,orientation:e,className:qt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-px",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-px",t),...n,children:b.jsx(Jw,{className:"relative flex-1 rounded-full bg-border"})}));sC.displayName=Py.displayName;function $N({onSelect:t,selectedVideoId:e}){const[n,s]=T.useState(""),[a,c]=T.useState([]),[u,f]=T.useState(!1),d=async()=>{if(n.trim()){f(!0);try{const p=await AN(n);c(p)}catch(p){console.error("Search failed:",p)}finally{f(!1)}}};return b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("div",{className:"relative flex-1",children:[b.jsx(y_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),b.jsx(Xs,{placeholder:"Search for a song...",value:n,onChange:p=>s(p.target.value),onKeyDown:p=>p.key==="Enter"&&d(),className:"pl-10","data-testid":"input-youtube-search"})]}),b.jsx(On,{onClick:d,disabled:u||!n.trim(),"data-testid":"button-search",children:u?b.jsx(py,{className:"w-4 h-4 animate-spin"}):"Search"})]}),a.length>0&&b.jsx(ky,{className:"h-[420px] rounded-lg border p-5",children:b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:a.map(p=>b.jsx(tn,{className:qt("group cursor-pointer border transition-all hover:border-primary/40 hover:shadow-md",e===p.id?"border-primary bg-primary/10 shadow-sm ring-2 ring-primary":"border-border"),onClick:()=>t(p),"data-testid":`card-video-${p.id}`,children:b.jsxs(vn,{className:"relative space-y-3 p-3",children:[b.jsx("img",{src:p.thumbnail,alt:p.title,className:"w-full aspect-video object-cover rounded-md mb-2"}),b.jsx("h3",{className:"font-semibold text-sm line-clamp-2 mb-1",children:p.title}),b.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:p.channelTitle}),e===p.id&&b.jsxs("div",{className:"absolute right-3 top-3 flex items-center gap-1 rounded-full bg-primary/90 px-2 py-1 text-xs font-semibold text-primary-foreground",children:[b.jsx(jO,{className:"h-4 w-4"}),"Selected"]})]})},p.id))})})]})}function wm({videoId:t,onReady:e,onEnd:n,autoplay:s=!0,startSeconds:a=0,endSeconds:c,preventPause:u=!1,timerProgress:f,interactive:d=!1}){const p=T.useRef(null),y=T.useRef(null);let g=1;if(f!==void 0){const v=Math.min(Math.max(f,0),1);v>=.5&&(g=1-.15*((v-.5)/.5)),g=Math.max(.85,g)}return T.useEffect(()=>{if(!window.YT){const S=document.createElement("script");S.src="https://www.youtube.com/iframe_api";const C=document.getElementsByTagName("script")[0];C.parentNode?.insertBefore(S,C)}const v=()=>{p.current&&window.YT&&window.YT.Player&&(y.current=new window.YT.Player(p.current,{videoId:t,playerVars:{autoplay:s?1:0,start:a,end:c,controls:d?1:0,disablekb:d?0:1,fs:0,modestbranding:1,rel:0,iv_load_policy:3},events:{onReady:S=>{s&&S.target.playVideo(),e?.(S.target)},onStateChange:S=>{if(u&&S.data===window.YT.PlayerState.PAUSED){S.target.playVideo();return}S.data===window.YT.PlayerState.ENDED&&n?.()}}}))};return window.YT&&window.YT.Player?v():window.onYouTubeIframeAPIReady=v,()=>{y.current&&y.current.destroy()}},[t,s,a,c,e,n,u,d]),b.jsxs("div",{className:"relative aspect-video w-full bg-black rounded-lg overflow-hidden",children:[b.jsx("div",{ref:p,className:d?"w-full h-full":"pointer-events-none w-full h-full","data-testid":"youtube-player"}),!d&&b.jsx("div",{className:"pointer-events-none absolute left-0 right-0 top-0",style:{height:"60px",backgroundColor:"black"}}),f!==void 0&&!d&&b.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-lg",style:{backgroundColor:`rgba(0,0,0,${g})`}})]})}let Cp=null;function VN(){if(typeof window>"u")return null;const t=window,e=window.AudioContext??t.webkitAudioContext;return e?(Cp||(Cp=new e),Cp):null}function qN(){try{const t=VN();if(!t)return;t.state==="suspended"&&t.resume();const e=t.currentTime,n=t.createOscillator(),s=t.createGain();n.type="sine",n.frequency.setValueAtTime(880,e),s.gain.setValueAtTime(1e-4,e),s.gain.exponentialRampToValueAtTime(.18,e+.02),s.gain.exponentialRampToValueAtTime(1e-4,e+.32),n.connect(s),s.connect(t.destination),n.start(e),n.stop(e+.35)}catch(t){console.error("Failed to play correct guess sound",t)}}var Qi={};class FN{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const n of this._parts)e.push(n);return YN(e).buffer}}function YN(t){let e=0;for(const a of t)e+=a.byteLength;const n=new Uint8Array(e);let s=0;for(const a of t){const c=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);n.set(c,s),s+=a.byteLength}return n}function iC(t){return new GN(t).unpack()}function aC(t){const e=new KN,n=e.pack(t);return n instanceof Promise?n.then(()=>e.getBuffer()):e.getBuffer()}class GN{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let n;if((n=e^160)<=15)return this.unpack_raw(n);if((n=e^176)<=15)return this.unpack_string(n);if((n=e^144)<=15)return this.unpack_array(n);if((n=e^128)<=15)return this.unpack_map(n);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),n=(e[0]&255)*256+(e[1]&255);return this.index+=2,n}unpack_uint32(){const e=this.read(4),n=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,n}unpack_uint64(){const e=this.read(8),n=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,n}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,n}unpack_string(e){const n=this.read(e);let s=0,a="",c,u;for(;s<e;)c=n[s],c<160?(u=c,s++):(c^192)<32?(u=(c&31)<<6|n[s+1]&63,s+=2):(c^224)<16?(u=(c&15)<<12|(n[s+1]&63)<<6|n[s+2]&63,s+=3):(u=(c&7)<<18|(n[s+1]&63)<<12|(n[s+2]&63)<<6|n[s+3]&63,s+=4),a+=String.fromCodePoint(u);return this.index+=e,a}unpack_array(e){const n=new Array(e);for(let s=0;s<e;s++)n[s]=this.unpack();return n}unpack_map(e){const n={};for(let s=0;s<e;s++){const a=this.unpack();n[a]=this.unpack()}return n}unpack_float(){const e=this.unpack_uint32(),n=e>>31,s=(e>>23&255)-127,a=e&8388607|8388608;return(n===0?1:-1)*a*2**(s-23)}unpack_double(){const e=this.unpack_uint32(),n=this.unpack_uint32(),s=e>>31,a=(e>>20&2047)-1023,u=(e&1048575|1048576)*2**(a-20)+n*2**(a-52);return(s===0?1:-1)*u}read(e){const n=this.index;if(n+e<=this.length)return this.dataView.subarray(n,n+e);throw new Error("BinaryPackFailure: read index out of range")}}class KN{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const n=e.constructor;if(e instanceof Array){const s=this.pack_array(e);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const s=e;this.pack_bin(new Uint8Array(s.buffer,s.byteOffset,s.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(s=>{this.pack_bin(new Uint8Array(s)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const s=this.pack_object(e);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const n=e.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const n=this._textEncoder.encode(e),s=n.length;if(s<=15)this.pack_uint8(176+s);else if(s<=65535)this._bufferBuilder.append(216),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(s);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(e){const n=e.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const s=a=>{if(a<n){const c=this.pack(e[a]);return c instanceof Promise?c.then(()=>s(a+1)):s(a+1)}};return s(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let n=0;e<0&&(n=1,e=-e);const s=Math.floor(Math.log(e)/Math.LN2),a=e/2**s-1,c=Math.floor(a*2**52),u=2**32,f=n<<31|s+1023<<20|c/u&1048575,d=c%u;this._bufferBuilder.append(203),this.pack_int32(f),this.pack_int32(d)}pack_object(e){const n=Object.keys(e),s=n.length;if(s<=15)this.pack_uint8(128+s);else if(s<=65535)this._bufferBuilder.append(222),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(s);else throw new Error("Invalid length");const a=c=>{if(c<n.length){const u=n[c];if(e.hasOwnProperty(u)){this.pack(u);const f=this.pack(e[u]);if(f instanceof Promise)return f.then(()=>a(c+1))}return a(c+1)}};return a(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const n=e&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(e){const n=e/4294967296,s=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const n=Math.floor(e/4294967296),s=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}constructor(){this._bufferBuilder=new FN,this._textEncoder=new TextEncoder}}let oC=!0,cC=!0;function Sc(t,e,n){const s=t.match(e);return s&&s.length>=n&&parseFloat(s[n],10)}function ha(t,e,n){if(!t.RTCPeerConnection)return;const s=t.RTCPeerConnection.prototype,a=s.addEventListener;s.addEventListener=function(u,f){if(u!==e)return a.apply(this,arguments);const d=p=>{const y=n(p);y&&(f.handleEvent?f.handleEvent(y):f(y))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(f,d),a.apply(this,[u,d])};const c=s.removeEventListener;s.removeEventListener=function(u,f){if(u!==e||!this._eventMap||!this._eventMap[e])return c.apply(this,arguments);if(!this._eventMap[e].has(f))return c.apply(this,arguments);const d=this._eventMap[e].get(f);return this._eventMap[e].delete(f),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,c.apply(this,[u,d])},Object.defineProperty(s,"on"+e,{get(){return this["_on"+e]},set(u){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),u&&this.addEventListener(e,this["_on"+e]=u)},enumerable:!0,configurable:!0})}function XN(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(oC=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function QN(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(cC=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function lC(){if(typeof window=="object"){if(oC)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function jy(t,e){cC&&console.warn(t+" is deprecated, please use "+e+" instead.")}function ZN(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.userAgentData&&n.userAgentData.brands){const s=n.userAgentData.brands.find(a=>a.brand==="Chromium");if(s)return{browser:"chrome",version:parseInt(s.version,10)}}if(n.mozGetUserMedia)e.browser="firefox",e.version=parseInt(Sc(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(Sc(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(Sc(n.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype,e._safariVersion=Sc(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function n1(t){return Object.prototype.toString.call(t)==="[object Object]"}function uC(t){return n1(t)?Object.keys(t).reduce(function(e,n){const s=n1(t[n]),a=s?uC(t[n]):t[n],c=s&&!Object.keys(a).length;return a===void 0||c?e:Object.assign(e,{[n]:a})},{}):t}function Cm(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(s=>{s.endsWith("Id")?Cm(t,t.get(e[s]),n):s.endsWith("Ids")&&e[s].forEach(a=>{Cm(t,t.get(a),n)})}))}function r1(t,e,n){const s=n?"outbound-rtp":"inbound-rtp",a=new Map;if(e===null)return a;const c=[];return t.forEach(u=>{u.type==="track"&&u.trackIdentifier===e.id&&c.push(u)}),c.forEach(u=>{t.forEach(f=>{f.type===s&&f.trackId===u.id&&Cm(t,f,a)})}),a}const s1=lC;function fC(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const s=function(f){if(typeof f!="object"||f.mandatory||f.optional)return f;const d={};return Object.keys(f).forEach(p=>{if(p==="require"||p==="advanced"||p==="mediaSource")return;const y=typeof f[p]=="object"?f[p]:{ideal:f[p]};y.exact!==void 0&&typeof y.exact=="number"&&(y.min=y.max=y.exact);const g=function(v,S){return v?v+S.charAt(0).toUpperCase()+S.slice(1):S==="deviceId"?"sourceId":S};if(y.ideal!==void 0){d.optional=d.optional||[];let v={};typeof y.ideal=="number"?(v[g("min",p)]=y.ideal,d.optional.push(v),v={},v[g("max",p)]=y.ideal,d.optional.push(v)):(v[g("",p)]=y.ideal,d.optional.push(v))}y.exact!==void 0&&typeof y.exact!="number"?(d.mandatory=d.mandatory||{},d.mandatory[g("",p)]=y.exact):["min","max"].forEach(v=>{y[v]!==void 0&&(d.mandatory=d.mandatory||{},d.mandatory[g(v,p)]=y[v])})}),f.advanced&&(d.optional=(d.optional||[]).concat(f.advanced)),d},a=function(f,d){if(e.version>=61)return d(f);if(f=JSON.parse(JSON.stringify(f)),f&&typeof f.audio=="object"){const p=function(y,g,v){g in y&&!(v in y)&&(y[v]=y[g],delete y[g])};f=JSON.parse(JSON.stringify(f)),p(f.audio,"autoGainControl","googAutoGainControl"),p(f.audio,"noiseSuppression","googNoiseSuppression"),f.audio=s(f.audio)}if(f&&typeof f.video=="object"){let p=f.video.facingMode;p=p&&(typeof p=="object"?p:{ideal:p});const y=e.version<66;if(p&&(p.exact==="user"||p.exact==="environment"||p.ideal==="user"||p.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!y)){delete f.video.facingMode;let g;if(p.exact==="environment"||p.ideal==="environment"?g=["back","rear"]:(p.exact==="user"||p.ideal==="user")&&(g=["front"]),g)return n.mediaDevices.enumerateDevices().then(v=>{v=v.filter(C=>C.kind==="videoinput");let S=v.find(C=>g.some(E=>C.label.toLowerCase().includes(E)));return!S&&v.length&&g.includes("back")&&(S=v[v.length-1]),S&&(f.video.deviceId=p.exact?{exact:S.deviceId}:{ideal:S.deviceId}),f.video=s(f.video),s1("chrome: "+JSON.stringify(f)),d(f)})}f.video=s(f.video)}return s1("chrome: "+JSON.stringify(f)),d(f)},c=function(f){return e.version>=64?f:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[f.name]||f.name,message:f.message,constraint:f.constraint||f.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},u=function(f,d,p){a(f,y=>{n.webkitGetUserMedia(y,d,g=>{p&&p(c(g))})})};if(n.getUserMedia=u.bind(n),n.mediaDevices.getUserMedia){const f=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(d){return a(d,p=>f(p).then(y=>{if(p.audio&&!y.getAudioTracks().length||p.video&&!y.getVideoTracks().length)throw y.getTracks().forEach(g=>{g.stop()}),new DOMException("","NotFoundError");return y},y=>Promise.reject(c(y))))}}}function dC(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function hC(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=s=>{s.stream.addEventListener("addtrack",a=>{let c;t.RTCPeerConnection.prototype.getReceivers?c=this.getReceivers().find(f=>f.track&&f.track.id===a.track.id):c={track:a.track};const u=new Event("track");u.track=a.track,u.receiver=c,u.transceiver={receiver:c},u.streams=[s.stream],this.dispatchEvent(u)}),s.stream.getTracks().forEach(a=>{let c;t.RTCPeerConnection.prototype.getReceivers?c=this.getReceivers().find(f=>f.track&&f.track.id===a.id):c={track:a};const u=new Event("track");u.track=a,u.receiver=c,u.transceiver={receiver:c},u.streams=[s.stream],this.dispatchEvent(u)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else ha(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function pC(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(a,c){return{track:c,get dtmf(){return this._dtmf===void 0&&(c.kind==="audio"?this._dtmf=a.createDTMFSender(c):this._dtmf=null),this._dtmf},_pc:a}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const a=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(f,d){let p=a.apply(this,arguments);return p||(p=e(this,f),this._senders.push(p)),p};const c=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(f){c.apply(this,arguments);const d=this._senders.indexOf(f);d!==-1&&this._senders.splice(d,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(c){this._senders=this._senders||[],n.apply(this,[c]),c.getTracks().forEach(u=>{this._senders.push(e(this,u))})};const s=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(c){this._senders=this._senders||[],s.apply(this,[c]),c.getTracks().forEach(u=>{const f=this._senders.find(d=>d.track===u);f&&this._senders.splice(this._senders.indexOf(f),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const s=e.apply(this,[]);return s.forEach(a=>a._pc=this),s},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function mC(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const c=n.apply(this,[]);return c.forEach(u=>u._pc=this),c});const s=t.RTCPeerConnection.prototype.addTrack;s&&(t.RTCPeerConnection.prototype.addTrack=function(){const c=s.apply(this,arguments);return c._pc=this,c}),t.RTCRtpSender.prototype.getStats=function(){const c=this;return this._pc.getStats().then(u=>r1(u,c.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const a=n.apply(this,[]);return a.forEach(c=>c._pc=this),a}),ha(t,"track",s=>(s.receiver._pc=s.srcElement,s)),t.RTCRtpReceiver.prototype.getStats=function(){const a=this;return this._pc.getStats().then(c=>r1(c,a.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const s=arguments[0];let a,c,u;return this.getSenders().forEach(f=>{f.track===s&&(a?u=!0:a=f)}),this.getReceivers().forEach(f=>(f.track===s&&(c?u=!0:c=f),f.track===s)),u||a&&c?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):a?a.getStats():c?c.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function yC(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(u=>this._shimmedLocalStreams[u][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(u,f){if(!f)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const d=e.apply(this,arguments);return this._shimmedLocalStreams[f.id]?this._shimmedLocalStreams[f.id].indexOf(d)===-1&&this._shimmedLocalStreams[f.id].push(d):this._shimmedLocalStreams[f.id]=[f,d],d};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(u){this._shimmedLocalStreams=this._shimmedLocalStreams||{},u.getTracks().forEach(p=>{if(this.getSenders().find(g=>g.track===p))throw new DOMException("Track already exists.","InvalidAccessError")});const f=this.getSenders();n.apply(this,arguments);const d=this.getSenders().filter(p=>f.indexOf(p)===-1);this._shimmedLocalStreams[u.id]=[u].concat(d)};const s=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(u){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[u.id],s.apply(this,arguments)};const a=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(u){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},u&&Object.keys(this._shimmedLocalStreams).forEach(f=>{const d=this._shimmedLocalStreams[f].indexOf(u);d!==-1&&this._shimmedLocalStreams[f].splice(d,1),this._shimmedLocalStreams[f].length===1&&delete this._shimmedLocalStreams[f]}),a.apply(this,arguments)}}function gC(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return yC(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const y=n.apply(this);return this._reverseStreams=this._reverseStreams||{},y.map(g=>this._reverseStreams[g.id])};const s=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(y){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},y.getTracks().forEach(g=>{if(this.getSenders().find(S=>S.track===g))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[y.id]){const g=new t.MediaStream(y.getTracks());this._streams[y.id]=g,this._reverseStreams[g.id]=y,y=g}s.apply(this,[y])};const a=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(y){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},a.apply(this,[this._streams[y.id]||y]),delete this._reverseStreams[this._streams[y.id]?this._streams[y.id].id:y.id],delete this._streams[y.id]},t.RTCPeerConnection.prototype.addTrack=function(y,g){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const v=[].slice.call(arguments,1);if(v.length!==1||!v[0].getTracks().find(E=>E===y))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(E=>E.track===y))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const C=this._streams[g.id];if(C)C.addTrack(y),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const E=new t.MediaStream([y]);this._streams[g.id]=E,this._reverseStreams[E.id]=g,this.addStream(E)}return this.getSenders().find(E=>E.track===y)};function c(p,y){let g=y.sdp;return Object.keys(p._reverseStreams||[]).forEach(v=>{const S=p._reverseStreams[v],C=p._streams[S.id];g=g.replace(new RegExp(C.id,"g"),S.id)}),new RTCSessionDescription({type:y.type,sdp:g})}function u(p,y){let g=y.sdp;return Object.keys(p._reverseStreams||[]).forEach(v=>{const S=p._reverseStreams[v],C=p._streams[S.id];g=g.replace(new RegExp(S.id,"g"),C.id)}),new RTCSessionDescription({type:y.type,sdp:g})}["createOffer","createAnswer"].forEach(function(p){const y=t.RTCPeerConnection.prototype[p],g={[p](){const v=arguments;return arguments.length&&typeof arguments[0]=="function"?y.apply(this,[C=>{const E=c(this,C);v[0].apply(null,[E])},C=>{v[1]&&v[1].apply(null,C)},arguments[2]]):y.apply(this,arguments).then(C=>c(this,C))}};t.RTCPeerConnection.prototype[p]=g[p]});const f=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?f.apply(this,arguments):(arguments[0]=u(this,arguments[0]),f.apply(this,arguments))};const d=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const p=d.get.apply(this);return p.type===""?p:c(this,p)}}),t.RTCPeerConnection.prototype.removeTrack=function(y){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!y._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(y._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let v;Object.keys(this._streams).forEach(S=>{this._streams[S].getTracks().find(E=>y.track===E)&&(v=this._streams[S])}),v&&(v.getTracks().length===1?this.removeStream(this._reverseStreams[v.id]):v.removeTrack(y.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Em(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const s=t.RTCPeerConnection.prototype[n],a={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=a[n]})}function vC(t,e){ha(t,"negotiationneeded",n=>{const s=n.target;if(!((e.version<72||s.getConfiguration&&s.getConfiguration().sdpSemantics==="plan-b")&&s.signalingState!=="stable"))return n})}const i1=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:vC,shimAddTrackRemoveTrack:gC,shimAddTrackRemoveTrackWithNative:yC,shimGetSendersWithDtmf:pC,shimGetUserMedia:fC,shimMediaStream:dC,shimOnTrack:hC,shimPeerConnection:Em,shimSenderReceiverGetStats:mC},Symbol.toStringTag,{value:"Module"}));function xC(t,e){const n=t&&t.navigator,s=t&&t.MediaStreamTrack;if(n.getUserMedia=function(a,c,u){jy("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(a).then(c,u)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const a=function(u,f,d){f in u&&!(d in u)&&(u[d]=u[f],delete u[f])},c=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(u){return typeof u=="object"&&typeof u.audio=="object"&&(u=JSON.parse(JSON.stringify(u)),a(u.audio,"autoGainControl","mozAutoGainControl"),a(u.audio,"noiseSuppression","mozNoiseSuppression")),c(u)},s&&s.prototype.getSettings){const u=s.prototype.getSettings;s.prototype.getSettings=function(){const f=u.apply(this,arguments);return a(f,"mozAutoGainControl","autoGainControl"),a(f,"mozNoiseSuppression","noiseSuppression"),f}}if(s&&s.prototype.applyConstraints){const u=s.prototype.applyConstraints;s.prototype.applyConstraints=function(f){return this.kind==="audio"&&typeof f=="object"&&(f=JSON.parse(JSON.stringify(f)),a(f,"autoGainControl","mozAutoGainControl"),a(f,"noiseSuppression","mozNoiseSuppression")),u.apply(this,[f])}}}}function JN(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(s){if(!(s&&s.video)){const a=new DOMException("getDisplayMedia without video constraints is undefined");return a.name="NotFoundError",a.code=8,Promise.reject(a)}return s.video===!0?s.video={mediaSource:e}:s.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(s)})}function bC(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Tm(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(a){const c=t.RTCPeerConnection.prototype[a],u={[a](){return arguments[0]=new(a==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),c.apply(this,arguments)}};t.RTCPeerConnection.prototype[a]=u[a]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},s=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[c,u,f]=arguments;return s.apply(this,[c||null]).then(d=>{if(e.version<53&&!u)try{d.forEach(p=>{p.type=n[p.type]||p.type})}catch(p){if(p.name!=="TypeError")throw p;d.forEach((y,g)=>{d.set(g,Object.assign({},y,{type:n[y.type]||y.type}))})}return d}).then(u,f)}}function SC(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const a=e.apply(this,[]);return a.forEach(c=>c._pc=this),a});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const a=n.apply(this,arguments);return a._pc=this,a}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function _C(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const s=e.apply(this,[]);return s.forEach(a=>a._pc=this),s}),ha(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function wC(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){jy("removeStream","removeTrack"),this.getSenders().forEach(s=>{s.track&&n.getTracks().includes(s.track)&&this.removeTrack(s)})})}function CC(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function EC(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let s=arguments[1]&&arguments[1].sendEncodings;s===void 0&&(s=[]),s=[...s];const a=s.length>0;a&&s.forEach(u=>{if("rid"in u&&!/^[a-z0-9]{0,16}$/i.test(u.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in u&&!(parseFloat(u.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in u&&!(parseFloat(u.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const c=e.apply(this,arguments);if(a){const{sender:u}=c,f=u.getParameters();(!("encodings"in f)||f.encodings.length===1&&Object.keys(f.encodings[0]).length===0)&&(f.encodings=s,u.sendEncodings=s,this.setParametersPromises.push(u.setParameters(f).then(()=>{delete u.sendEncodings}).catch(()=>{delete u.sendEncodings})))}return c})}function TC(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const s=e.apply(this,arguments);return"encodings"in s||(s.encodings=[].concat(this.sendEncodings||[{}])),s})}function RC(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function AC(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const a1=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:EC,shimCreateAnswer:AC,shimCreateOffer:RC,shimGetDisplayMedia:JN,shimGetParameters:TC,shimGetUserMedia:xC,shimOnTrack:bC,shimPeerConnection:Tm,shimRTCDataChannel:CC,shimReceiverGetStats:_C,shimRemoveStream:wC,shimSenderGetStats:SC},Symbol.toStringTag,{value:"Module"}));function OC(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(s){this._localStreams||(this._localStreams=[]),this._localStreams.includes(s)||this._localStreams.push(s),s.getAudioTracks().forEach(a=>e.call(this,a,s)),s.getVideoTracks().forEach(a=>e.call(this,a,s))},t.RTCPeerConnection.prototype.addTrack=function(s,...a){return a&&a.forEach(c=>{this._localStreams?this._localStreams.includes(c)||this._localStreams.push(c):this._localStreams=[c]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const s=this._localStreams.indexOf(n);if(s===-1)return;this._localStreams.splice(s,1);const a=n.getTracks();this.getSenders().forEach(c=>{a.includes(c.track)&&this.removeTrack(c)})})}}function MC(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=s=>{s.streams.forEach(a=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(a))return;this._remoteStreams.push(a);const c=new Event("addstream");c.stream=a,this.dispatchEvent(c)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const s=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(a){a.streams.forEach(c=>{if(s._remoteStreams||(s._remoteStreams=[]),s._remoteStreams.indexOf(c)>=0)return;s._remoteStreams.push(c);const u=new Event("addstream");u.stream=c,s.dispatchEvent(u)})}),e.apply(s,arguments)}}}function PC(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,s=e.createAnswer,a=e.setLocalDescription,c=e.setRemoteDescription,u=e.addIceCandidate;e.createOffer=function(p,y){const g=arguments.length>=2?arguments[2]:arguments[0],v=n.apply(this,[g]);return y?(v.then(p,y),Promise.resolve()):v},e.createAnswer=function(p,y){const g=arguments.length>=2?arguments[2]:arguments[0],v=s.apply(this,[g]);return y?(v.then(p,y),Promise.resolve()):v};let f=function(d,p,y){const g=a.apply(this,[d]);return y?(g.then(p,y),Promise.resolve()):g};e.setLocalDescription=f,f=function(d,p,y){const g=c.apply(this,[d]);return y?(g.then(p,y),Promise.resolve()):g},e.setRemoteDescription=f,f=function(d,p,y){const g=u.apply(this,[d]);return y?(g.then(p,y),Promise.resolve()):g},e.addIceCandidate=f}function NC(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,s=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=a=>s(DC(a))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(s,a,c){e.mediaDevices.getUserMedia(s).then(a,c)}).bind(e))}function DC(t){return t&&t.video!==void 0?Object.assign({},t,{video:uC(t.video)}):t}function kC(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(s,a){if(s&&s.iceServers){const c=[];for(let u=0;u<s.iceServers.length;u++){let f=s.iceServers[u];f.urls===void 0&&f.url?(jy("RTCIceServer.url","RTCIceServer.urls"),f=JSON.parse(JSON.stringify(f)),f.urls=f.url,delete f.url,c.push(f)):c.push(s.iceServers[u])}s.iceServers=c}return new e(s,a)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function jC(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function LC(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(s){if(s){typeof s.offerToReceiveAudio<"u"&&(s.offerToReceiveAudio=!!s.offerToReceiveAudio);const a=this.getTransceivers().find(u=>u.receiver.track.kind==="audio");s.offerToReceiveAudio===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):s.offerToReceiveAudio===!0&&!a&&this.addTransceiver("audio",{direction:"recvonly"}),typeof s.offerToReceiveVideo<"u"&&(s.offerToReceiveVideo=!!s.offerToReceiveVideo);const c=this.getTransceivers().find(u=>u.receiver.track.kind==="video");s.offerToReceiveVideo===!1&&c?c.direction==="sendrecv"?c.setDirection?c.setDirection("sendonly"):c.direction="sendonly":c.direction==="recvonly"&&(c.setDirection?c.setDirection("inactive"):c.direction="inactive"):s.offerToReceiveVideo===!0&&!c&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function UC(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const o1=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:UC,shimCallbacksAPI:PC,shimConstraints:DC,shimCreateOfferLegacy:LC,shimGetUserMedia:NC,shimLocalStreamsAPI:OC,shimRTCIceServerUrls:kC,shimRemoteStreamsAPI:MC,shimTrackEventTransceiver:jC},Symbol.toStringTag,{value:"Module"}));var Ep={exports:{}},c1;function WN(){return c1||(c1=1,(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(s=>s.trim())},e.splitSections=function(n){return n.split(`
m=`).map((a,c)=>(c>0?"m="+a:a).trim()+`\r
`)},e.getDescription=function(n){const s=e.splitSections(n);return s&&s[0]},e.getMediaSections=function(n){const s=e.splitSections(n);return s.shift(),s},e.matchPrefix=function(n,s){return e.splitLines(n).filter(a=>a.indexOf(s)===0)},e.parseCandidate=function(n){let s;n.indexOf("a=candidate:")===0?s=n.substring(12).split(" "):s=n.substring(10).split(" ");const a={foundation:s[0],component:{1:"rtp",2:"rtcp"}[s[1]]||s[1],protocol:s[2].toLowerCase(),priority:parseInt(s[3],10),ip:s[4],address:s[4],port:parseInt(s[5],10),type:s[7]};for(let c=8;c<s.length;c+=2)switch(s[c]){case"raddr":a.relatedAddress=s[c+1];break;case"rport":a.relatedPort=parseInt(s[c+1],10);break;case"tcptype":a.tcpType=s[c+1];break;case"ufrag":a.ufrag=s[c+1],a.usernameFragment=s[c+1];break;default:a[s[c]]===void 0&&(a[s[c]]=s[c+1]);break}return a},e.writeCandidate=function(n){const s=[];s.push(n.foundation);const a=n.component;a==="rtp"?s.push(1):a==="rtcp"?s.push(2):s.push(a),s.push(n.protocol.toUpperCase()),s.push(n.priority),s.push(n.address||n.ip),s.push(n.port);const c=n.type;return s.push("typ"),s.push(c),c!=="host"&&n.relatedAddress&&n.relatedPort&&(s.push("raddr"),s.push(n.relatedAddress),s.push("rport"),s.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(s.push("tcptype"),s.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(s.push("ufrag"),s.push(n.usernameFragment||n.ufrag)),"candidate:"+s.join(" ")},e.parseIceOptions=function(n){return n.substring(14).split(" ")},e.parseRtpMap=function(n){let s=n.substring(9).split(" ");const a={payloadType:parseInt(s.shift(),10)};return s=s[0].split("/"),a.name=s[0],a.clockRate=parseInt(s[1],10),a.channels=s.length===3?parseInt(s[2],10):1,a.numChannels=a.channels,a},e.writeRtpMap=function(n){let s=n.payloadType;n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType);const a=n.channels||n.numChannels||1;return"a=rtpmap:"+s+" "+n.name+"/"+n.clockRate+(a!==1?"/"+a:"")+`\r
`},e.parseExtmap=function(n){const s=n.substring(9).split(" ");return{id:parseInt(s[0],10),direction:s[0].indexOf("/")>0?s[0].split("/")[1]:"sendrecv",uri:s[1],attributes:s.slice(2).join(" ")}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},e.parseFmtp=function(n){const s={};let a;const c=n.substring(n.indexOf(" ")+1).split(";");for(let u=0;u<c.length;u++)a=c[u].trim().split("="),s[a[0].trim()]=a[1];return s},e.writeFmtp=function(n){let s="",a=n.payloadType;if(n.preferredPayloadType!==void 0&&(a=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const c=[];Object.keys(n.parameters).forEach(u=>{n.parameters[u]!==void 0?c.push(u+"="+n.parameters[u]):c.push(u)}),s+="a=fmtp:"+a+" "+c.join(";")+`\r
`}return s},e.parseRtcpFb=function(n){const s=n.substring(n.indexOf(" ")+1).split(" ");return{type:s.shift(),parameter:s.join(" ")}},e.writeRtcpFb=function(n){let s="",a=n.payloadType;return n.preferredPayloadType!==void 0&&(a=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(c=>{s+="a=rtcp-fb:"+a+" "+c.type+(c.parameter&&c.parameter.length?" "+c.parameter:"")+`\r
`}),s},e.parseSsrcMedia=function(n){const s=n.indexOf(" "),a={ssrc:parseInt(n.substring(7,s),10)},c=n.indexOf(":",s);return c>-1?(a.attribute=n.substring(s+1,c),a.value=n.substring(c+1)):a.attribute=n.substring(s+1),a},e.parseSsrcGroup=function(n){const s=n.substring(13).split(" ");return{semantics:s.shift(),ssrcs:s.map(a=>parseInt(a,10))}},e.getMid=function(n){const s=e.matchPrefix(n,"a=mid:")[0];if(s)return s.substring(6)},e.parseFingerprint=function(n){const s=n.substring(14).split(" ");return{algorithm:s[0].toLowerCase(),value:s[1].toUpperCase()}},e.getDtlsParameters=function(n,s){return{role:"auto",fingerprints:e.matchPrefix(n+s,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,s){let a="a=setup:"+s+`\r
`;return n.fingerprints.forEach(c=>{a+="a=fingerprint:"+c.algorithm+" "+c.value+`\r
`}),a},e.parseCryptoLine=function(n){const s=n.substring(9).split(" ");return{tag:parseInt(s[0],10),cryptoSuite:s[1],keyParams:s[2],sessionParams:s.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const s=n.substring(7).split("|");return{keyMethod:"inline",keySalt:s[0],lifeTime:s[1],mkiValue:s[2]?s[2].split(":")[0]:void 0,mkiLength:s[2]?s[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,s){return e.matchPrefix(n+s,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,s){const a=e.matchPrefix(n+s,"a=ice-ufrag:")[0],c=e.matchPrefix(n+s,"a=ice-pwd:")[0];return a&&c?{usernameFragment:a.substring(12),password:c.substring(10)}:null},e.writeIceParameters=function(n){let s="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(s+=`a=ice-lite\r
`),s},e.parseRtpParameters=function(n){const s={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},c=e.splitLines(n)[0].split(" ");s.profile=c[2];for(let f=3;f<c.length;f++){const d=c[f],p=e.matchPrefix(n,"a=rtpmap:"+d+" ")[0];if(p){const y=e.parseRtpMap(p),g=e.matchPrefix(n,"a=fmtp:"+d+" ");switch(y.parameters=g.length?e.parseFmtp(g[0]):{},y.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+d+" ").map(e.parseRtcpFb),s.codecs.push(y),y.name.toUpperCase()){case"RED":case"ULPFEC":s.fecMechanisms.push(y.name.toUpperCase());break}}}e.matchPrefix(n,"a=extmap:").forEach(f=>{s.headerExtensions.push(e.parseExtmap(f))});const u=e.matchPrefix(n,"a=rtcp-fb:* ").map(e.parseRtcpFb);return s.codecs.forEach(f=>{u.forEach(d=>{f.rtcpFeedback.find(y=>y.type===d.type&&y.parameter===d.parameter)||f.rtcpFeedback.push(d)})}),s},e.writeRtpDescription=function(n,s){let a="";a+="m="+n+" ",a+=s.codecs.length>0?"9":"0",a+=" "+(s.profile||"UDP/TLS/RTP/SAVPF")+" ",a+=s.codecs.map(u=>u.preferredPayloadType!==void 0?u.preferredPayloadType:u.payloadType).join(" ")+`\r
`,a+=`c=IN IP4 0.0.0.0\r
`,a+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,s.codecs.forEach(u=>{a+=e.writeRtpMap(u),a+=e.writeFmtp(u),a+=e.writeRtcpFb(u)});let c=0;return s.codecs.forEach(u=>{u.maxptime>c&&(c=u.maxptime)}),c>0&&(a+="a=maxptime:"+c+`\r
`),s.headerExtensions&&s.headerExtensions.forEach(u=>{a+=e.writeExtmap(u)}),a},e.parseRtpEncodingParameters=function(n){const s=[],a=e.parseRtpParameters(n),c=a.fecMechanisms.indexOf("RED")!==-1,u=a.fecMechanisms.indexOf("ULPFEC")!==-1,f=e.matchPrefix(n,"a=ssrc:").map(v=>e.parseSsrcMedia(v)).filter(v=>v.attribute==="cname"),d=f.length>0&&f[0].ssrc;let p;const y=e.matchPrefix(n,"a=ssrc-group:FID").map(v=>v.substring(17).split(" ").map(C=>parseInt(C,10)));y.length>0&&y[0].length>1&&y[0][0]===d&&(p=y[0][1]),a.codecs.forEach(v=>{if(v.name.toUpperCase()==="RTX"&&v.parameters.apt){let S={ssrc:d,codecPayloadType:parseInt(v.parameters.apt,10)};d&&p&&(S.rtx={ssrc:p}),s.push(S),c&&(S=JSON.parse(JSON.stringify(S)),S.fec={ssrc:d,mechanism:u?"red+ulpfec":"red"},s.push(S))}}),s.length===0&&d&&s.push({ssrc:d});let g=e.matchPrefix(n,"b=");return g.length&&(g[0].indexOf("b=TIAS:")===0?g=parseInt(g[0].substring(7),10):g[0].indexOf("b=AS:")===0?g=parseInt(g[0].substring(5),10)*1e3*.95-2e3*8:g=void 0,s.forEach(v=>{v.maxBitrate=g})),s},e.parseRtcpParameters=function(n){const s={},a=e.matchPrefix(n,"a=ssrc:").map(f=>e.parseSsrcMedia(f)).filter(f=>f.attribute==="cname")[0];a&&(s.cname=a.value,s.ssrc=a.ssrc);const c=e.matchPrefix(n,"a=rtcp-rsize");s.reducedSize=c.length>0,s.compound=c.length===0;const u=e.matchPrefix(n,"a=rtcp-mux");return s.mux=u.length>0,s},e.writeRtcpParameters=function(n){let s="";return n.reducedSize&&(s+=`a=rtcp-rsize\r
`),n.mux&&(s+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(s+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),s},e.parseMsid=function(n){let s;const a=e.matchPrefix(n,"a=msid:");if(a.length===1)return s=a[0].substring(7).split(" "),{stream:s[0],track:s[1]};const c=e.matchPrefix(n,"a=ssrc:").map(u=>e.parseSsrcMedia(u)).filter(u=>u.attribute==="msid");if(c.length>0)return s=c[0].value.split(" "),{stream:s[0],track:s[1]}},e.parseSctpDescription=function(n){const s=e.parseMLine(n),a=e.matchPrefix(n,"a=max-message-size:");let c;a.length>0&&(c=parseInt(a[0].substring(19),10)),isNaN(c)&&(c=65536);const u=e.matchPrefix(n,"a=sctp-port:");if(u.length>0)return{port:parseInt(u[0].substring(12),10),protocol:s.fmt,maxMessageSize:c};const f=e.matchPrefix(n,"a=sctpmap:");if(f.length>0){const d=f[0].substring(10).split(" ");return{port:parseInt(d[0],10),protocol:d[1],maxMessageSize:c}}},e.writeSctpDescription=function(n,s){let a=[];return n.protocol!=="DTLS/SCTP"?a=["m="+n.kind+" 9 "+n.protocol+" "+s.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+s.port+`\r
`]:a=["m="+n.kind+" 9 "+n.protocol+" "+s.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+s.port+" "+s.protocol+` 65535\r
`],s.maxMessageSize!==void 0&&a.push("a=max-message-size:"+s.maxMessageSize+`\r
`),a.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,s,a){let c;const u=s!==void 0?s:2;return n?c=n:c=e.generateSessionId(),`v=0\r
o=`+(a||"thisisadapterortc")+" "+c+" "+u+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,s){const a=e.splitLines(n);for(let c=0;c<a.length;c++)switch(a[c]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return a[c].substring(2)}return s?e.getDirection(s):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substring(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const a=e.splitLines(n)[0].substring(2).split(" ");return{kind:a[0],port:parseInt(a[1],10),protocol:a[2],fmt:a.slice(3).join(" ")}},e.parseOLine=function(n){const a=e.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:a[0],sessionId:a[1],sessionVersion:parseInt(a[2],10),netType:a[3],addressType:a[4],address:a[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const s=e.splitLines(n);for(let a=0;a<s.length;a++)if(s[a].length<2||s[a].charAt(1)!=="=")return!1;return!0},t.exports=e})(Ep)),Ep.exports}var IC=WN();const eo=Vc(IC),eD=aS({__proto__:null,default:eo},[IC]);function ku(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(s){if(typeof s=="object"&&s.candidate&&s.candidate.indexOf("a=")===0&&(s=JSON.parse(JSON.stringify(s)),s.candidate=s.candidate.substring(2)),s.candidate&&s.candidate.length){const a=new e(s),c=eo.parseCandidate(s.candidate);for(const u in c)u in a||Object.defineProperty(a,u,{value:c[u]});return a.toJSON=function(){return{candidate:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex,usernameFragment:a.usernameFragment}},a}return new e(s)},t.RTCIceCandidate.prototype=e.prototype,ha(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Rm(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||ha(t,"icecandidate",e=>{if(e.candidate){const n=eo.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function ju(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(f){if(!f||!f.sdp)return!1;const d=eo.splitSections(f.sdp);return d.shift(),d.some(p=>{const y=eo.parseMLine(p);return y&&y.kind==="application"&&y.protocol.indexOf("SCTP")!==-1})},s=function(f){const d=f.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(d===null||d.length<2)return-1;const p=parseInt(d[1],10);return p!==p?-1:p},a=function(f){let d=65536;return e.browser==="firefox"&&(e.version<57?f===-1?d=16384:d=2147483637:e.version<60?d=e.version===57?65535:65536:d=2147483637),d},c=function(f,d){let p=65536;e.browser==="firefox"&&e.version===57&&(p=65535);const y=eo.matchPrefix(f.sdp,"a=max-message-size:");return y.length>0?p=parseInt(y[0].substring(19),10):e.browser==="firefox"&&d!==-1&&(p=2147483637),p},u=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:d}=this.getConfiguration();d==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const d=s(arguments[0]),p=a(d),y=c(arguments[0],d);let g;p===0&&y===0?g=Number.POSITIVE_INFINITY:p===0||y===0?g=Math.max(p,y):g=Math.min(p,y);const v={};Object.defineProperty(v,"maxMessageSize",{get(){return g}}),this._sctp=v}return u.apply(this,arguments)}}function Lu(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(s,a){const c=s.send;s.send=function(){const f=arguments[0],d=f.length||f.size||f.byteLength;if(s.readyState==="open"&&a.sctp&&d>a.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+a.sctp.maxMessageSize+" bytes)");return c.apply(s,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const a=n.apply(this,arguments);return e(a,this),a},ha(t,"datachannel",s=>(e(s.channel,s.target),s))}function Am(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const s=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=a=>{const c=a.target;if(c._lastConnectionState!==c.connectionState){c._lastConnectionState=c.connectionState;const u=new Event("connectionstatechange",a);c.dispatchEvent(u)}return a},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),s.apply(this,arguments)}})}function Om(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(a){if(a&&a.sdp&&a.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const c=a.sdp.split(`
`).filter(u=>u.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&a instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:a.type,sdp:c}):a.sdp=c}return n.apply(this,arguments)}}function Uu(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Iu(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let a=arguments[0]||{};if(typeof a!="object"||a.type&&a.sdp)return n.apply(this,arguments);if(a={type:a.type,sdp:a.sdp},!a.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":a.type="offer";break;default:a.type="answer";break}return a.sdp||a.type!=="offer"&&a.type!=="answer"?n.apply(this,[a]):(a.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(u=>n.apply(this,[u]))})}const tD=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Om,shimAddIceCandidateNullOrEmpty:Uu,shimConnectionState:Am,shimMaxMessageSize:ju,shimParameterlessSetLocalDescription:Iu,shimRTCIceCandidate:ku,shimRTCIceCandidateRelayProtocol:Rm,shimSendThrowTypeError:Lu},Symbol.toStringTag,{value:"Module"}));function nD({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=lC,s=ZN(t),a={browserDetails:s,commonShim:tD,extractVersion:Sc,disableLog:XN,disableWarnings:QN,sdp:eD};switch(s.browser){case"chrome":if(!i1||!Em||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),a;if(s.version===null)return n("Chrome shim can not determine version, not shimming."),a;n("adapter.js shimming chrome."),a.browserShim=i1,Uu(t,s),Iu(t),fC(t,s),dC(t),Em(t,s),hC(t),gC(t,s),pC(t),mC(t),vC(t,s),ku(t),Rm(t),Am(t),ju(t,s),Lu(t),Om(t,s);break;case"firefox":if(!a1||!Tm||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),a;n("adapter.js shimming firefox."),a.browserShim=a1,Uu(t,s),Iu(t),xC(t,s),Tm(t,s),bC(t),wC(t),SC(t),_C(t),CC(t),EC(t),TC(t),RC(t),AC(t),ku(t),Am(t),ju(t,s),Lu(t);break;case"safari":if(!o1||!e.shimSafari)return n("Safari shim is not included in this adapter release."),a;n("adapter.js shimming safari."),a.browserShim=o1,Uu(t,s),Iu(t),kC(t),LC(t),PC(t),OC(t),MC(t),jC(t),NC(t),UC(t),ku(t),Rm(t),ju(t,s),Lu(t),Om(t,s);break;default:n("Unsupported browser!");break}return a}const l1=nD({window:typeof window>"u"?void 0:window});var ta=4294967295;function rD(t,e,n){var s=n/4294967296,a=n;t.setUint32(e,s),t.setUint32(e+4,a)}function zC(t,e,n){var s=Math.floor(n/4294967296),a=n;t.setUint32(e,s),t.setUint32(e+4,a)}function BC(t,e){var n=t.getInt32(e),s=t.getUint32(e+4);return n*4294967296+s}function sD(t,e){var n=t.getUint32(e),s=t.getUint32(e+4);return n*4294967296+s}var Ly={},Tp,Rp,Ap,Hf=(typeof process>"u"||((Tp=process==null?void 0:Ly)===null||Tp===void 0?void 0:Tp.TEXT_ENCODING)!=="never")&&typeof TextEncoder<"u"&&typeof TextDecoder<"u";function u1(t){for(var e=t.length,n=0,s=0;s<e;){var a=t.charCodeAt(s++);if((a&4294967168)===0){n++;continue}else if((a&4294965248)===0)n+=2;else{if(a>=55296&&a<=56319&&s<e){var c=t.charCodeAt(s);(c&64512)===56320&&(++s,a=((a&1023)<<10)+(c&1023)+65536)}(a&4294901760)===0?n+=3:n+=4}}return n}function iD(t,e,n){for(var s=t.length,a=n,c=0;c<s;){var u=t.charCodeAt(c++);if((u&4294967168)===0){e[a++]=u;continue}else if((u&4294965248)===0)e[a++]=u>>6&31|192;else{if(u>=55296&&u<=56319&&c<s){var f=t.charCodeAt(c);(f&64512)===56320&&(++c,u=((u&1023)<<10)+(f&1023)+65536)}(u&4294901760)===0?(e[a++]=u>>12&15|224,e[a++]=u>>6&63|128):(e[a++]=u>>18&7|240,e[a++]=u>>12&63|128,e[a++]=u>>6&63|128)}e[a++]=u&63|128}}var Oc=Hf?new TextEncoder:void 0,aD=Hf?typeof process<"u"&&((Rp=process==null?void 0:Ly)===null||Rp===void 0?void 0:Rp.TEXT_ENCODING)!=="force"?200:0:ta;function oD(t,e,n){e.set(Oc.encode(t),n)}function cD(t,e,n){Oc.encodeInto(t,e.subarray(n))}var lD=Oc?.encodeInto?cD:oD,uD=4096;function HC(t,e,n){for(var s=e,a=s+n,c=[],u="";s<a;){var f=t[s++];if((f&128)===0)c.push(f);else if((f&224)===192){var d=t[s++]&63;c.push((f&31)<<6|d)}else if((f&240)===224){var d=t[s++]&63,p=t[s++]&63;c.push((f&31)<<12|d<<6|p)}else if((f&248)===240){var d=t[s++]&63,p=t[s++]&63,y=t[s++]&63,g=(f&7)<<18|d<<12|p<<6|y;g>65535&&(g-=65536,c.push(g>>>10&1023|55296),g=56320|g&1023),c.push(g)}else c.push(f);c.length>=uD&&(u+=String.fromCharCode.apply(String,c),c.length=0)}return c.length>0&&(u+=String.fromCharCode.apply(String,c)),u}var fD=Hf?new TextDecoder:null,dD=Hf?typeof process<"u"&&((Ap=process==null?void 0:Ly)===null||Ap===void 0?void 0:Ap.TEXT_DECODER)!=="force"?200:0:ta;function hD(t,e,n){var s=t.subarray(e,e+n);return fD.decode(s)}var bu=(function(){function t(e,n){this.type=e,this.data=n}return t})(),pD=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=a[c])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function s(){this.constructor=e}e.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}})(),ss=(function(t){pD(e,t);function e(n){var s=t.call(this,n)||this,a=Object.create(e.prototype);return Object.setPrototypeOf(s,a),Object.defineProperty(s,"name",{configurable:!0,enumerable:!1,value:e.name}),s}return e})(Error),mD=-1,yD=4294967296-1,gD=17179869184-1;function vD(t){var e=t.sec,n=t.nsec;if(e>=0&&n>=0&&e<=gD)if(n===0&&e<=yD){var s=new Uint8Array(4),a=new DataView(s.buffer);return a.setUint32(0,e),s}else{var c=e/4294967296,u=e&4294967295,s=new Uint8Array(8),a=new DataView(s.buffer);return a.setUint32(0,n<<2|c&3),a.setUint32(4,u),s}else{var s=new Uint8Array(12),a=new DataView(s.buffer);return a.setUint32(0,n),zC(a,4,e),s}}function xD(t){var e=t.getTime(),n=Math.floor(e/1e3),s=(e-n*1e3)*1e6,a=Math.floor(s/1e9);return{sec:n+a,nsec:s-a*1e9}}function bD(t){if(t instanceof Date){var e=xD(t);return vD(e)}else return null}function SD(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:{var n=e.getUint32(0),s=0;return{sec:n,nsec:s}}case 8:{var a=e.getUint32(0),c=e.getUint32(4),n=(a&3)*4294967296+c,s=a>>>2;return{sec:n,nsec:s}}case 12:{var n=BC(e,4),s=e.getUint32(0);return{sec:n,nsec:s}}default:throw new ss("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(t.length))}}function _D(t){var e=SD(t);return new Date(e.sec*1e3+e.nsec/1e6)}var wD={type:mD,encode:bD,decode:_D},$C=(function(){function t(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(wD)}return t.prototype.register=function(e){var n=e.type,s=e.encode,a=e.decode;if(n>=0)this.encoders[n]=s,this.decoders[n]=a;else{var c=1+n;this.builtInEncoders[c]=s,this.builtInDecoders[c]=a}},t.prototype.tryToEncode=function(e,n){for(var s=0;s<this.builtInEncoders.length;s++){var a=this.builtInEncoders[s];if(a!=null){var c=a(e,n);if(c!=null){var u=-1-s;return new bu(u,c)}}}for(var s=0;s<this.encoders.length;s++){var a=this.encoders[s];if(a!=null){var c=a(e,n);if(c!=null){var u=s;return new bu(u,c)}}}return e instanceof bu?e:null},t.prototype.decode=function(e,n,s){var a=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return a?a(e,n,s):new bu(n,e)},t.defaultCodec=new t,t})();function uf(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer?new Uint8Array(t):Uint8Array.from(t)}function CD(t){if(t instanceof ArrayBuffer)return new DataView(t);var e=uf(t);return new DataView(e.buffer,e.byteOffset,e.byteLength)}var ED=100,TD=2048,RD=(function(){function t(e,n,s,a,c,u,f,d){e===void 0&&(e=$C.defaultCodec),n===void 0&&(n=void 0),s===void 0&&(s=ED),a===void 0&&(a=TD),c===void 0&&(c=!1),u===void 0&&(u=!1),f===void 0&&(f=!1),d===void 0&&(d=!1),this.extensionCodec=e,this.context=n,this.maxDepth=s,this.initialBufferSize=a,this.sortKeys=c,this.forceFloat32=u,this.ignoreUndefined=f,this.forceIntegerToFloat=d,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return t.prototype.reinitializeState=function(){this.pos=0},t.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},t.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},t.prototype.doEncode=function(e,n){if(n>this.maxDepth)throw new Error("Too deep objects in depth ".concat(n));e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.encodeObject(e,n)},t.prototype.ensureBufferSizeToWrite=function(e){var n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)},t.prototype.resizeBuffer=function(e){var n=new ArrayBuffer(e),s=new Uint8Array(n),a=new DataView(n);s.set(this.bytes),this.view=a,this.bytes=s},t.prototype.encodeNil=function(){this.writeU8(192)},t.prototype.encodeBoolean=function(e){e===!1?this.writeU8(194):this.writeU8(195)},t.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},t.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error("Too long string: ".concat(e," bytes in UTF-8"))},t.prototype.encodeString=function(e){var n=5,s=e.length;if(s>aD){var a=u1(e);this.ensureBufferSizeToWrite(n+a),this.writeStringHeader(a),lD(e,this.bytes,this.pos),this.pos+=a}else{var a=u1(e);this.ensureBufferSizeToWrite(n+a),this.writeStringHeader(a),iD(e,this.bytes,this.pos),this.pos+=a}},t.prototype.encodeObject=function(e,n){var s=this.extensionCodec.tryToEncode(e,this.context);if(s!=null)this.encodeExtension(s);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)))},t.prototype.encodeBinary=function(e){var n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error("Too large binary: ".concat(n));var s=uf(e);this.writeU8a(s)},t.prototype.encodeArray=function(e,n){var s=e.length;if(s<16)this.writeU8(144+s);else if(s<65536)this.writeU8(220),this.writeU16(s);else if(s<4294967296)this.writeU8(221),this.writeU32(s);else throw new Error("Too large array: ".concat(s));for(var a=0,c=e;a<c.length;a++){var u=c[a];this.doEncode(u,n+1)}},t.prototype.countWithoutUndefined=function(e,n){for(var s=0,a=0,c=n;a<c.length;a++){var u=c[a];e[u]!==void 0&&s++}return s},t.prototype.encodeMap=function(e,n){var s=Object.keys(e);this.sortKeys&&s.sort();var a=this.ignoreUndefined?this.countWithoutUndefined(e,s):s.length;if(a<16)this.writeU8(128+a);else if(a<65536)this.writeU8(222),this.writeU16(a);else if(a<4294967296)this.writeU8(223),this.writeU32(a);else throw new Error("Too large map object: ".concat(a));for(var c=0,u=s;c<u.length;c++){var f=u[c],d=e[f];this.ignoreUndefined&&d===void 0||(this.encodeString(f),this.doEncode(d,n+1))}},t.prototype.encodeExtension=function(e){var n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error("Too large extension object: ".concat(n));this.writeI8(e.type),this.writeU8a(e.data)},t.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},t.prototype.writeU8a=function(e){var n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n},t.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},t.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},t.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},t.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},t.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},t.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},t.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},t.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),rD(this.view,this.pos,e),this.pos+=8},t.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),zC(this.view,this.pos,e),this.pos+=8},t})();function Op(t){return"".concat(t<0?"-":"","0x").concat(Math.abs(t).toString(16).padStart(2,"0"))}var AD=16,OD=16,MD=(function(){function t(e,n){e===void 0&&(e=AD),n===void 0&&(n=OD),this.maxKeyLength=e,this.maxLengthPerKey=n,this.hit=0,this.miss=0,this.caches=[];for(var s=0;s<this.maxKeyLength;s++)this.caches.push([])}return t.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},t.prototype.find=function(e,n,s){var a=this.caches[s-1];e:for(var c=0,u=a;c<u.length;c++){for(var f=u[c],d=f.bytes,p=0;p<s;p++)if(d[p]!==e[n+p])continue e;return f.str}return null},t.prototype.store=function(e,n){var s=this.caches[e.length-1],a={bytes:e,str:n};s.length>=this.maxLengthPerKey?s[Math.random()*s.length|0]=a:s.push(a)},t.prototype.decode=function(e,n,s){var a=this.find(e,n,s);if(a!=null)return this.hit++,a;this.miss++;var c=HC(e,n,s),u=Uint8Array.prototype.slice.call(e,n,n+s);return this.store(u,c),c},t})(),PD=function(t,e,n,s){function a(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function f(y){try{p(s.next(y))}catch(g){u(g)}}function d(y){try{p(s.throw(y))}catch(g){u(g)}}function p(y){y.done?c(y.value):a(y.value).then(f,d)}p((s=s.apply(t,e||[])).next())})},Mp=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,a,c,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(p){return function(y){return d([p,y])}}function d(p){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,a&&(c=p[0]&2?a.return:p[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,p[1])).done)return c;switch(a=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,a=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){n.label=p[1];break}if(p[0]===6&&n.label<c[1]){n.label=c[1],c=p;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(p);break}c[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(y){p=[6,y],a=0}finally{s=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},f1=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(c){n[c]=t[c]&&function(u){return new Promise(function(f,d){u=t[c](u),a(f,d,u.done,u.value)})}}function a(c,u,f,d){Promise.resolve(d).then(function(p){c({value:p,done:f})},u)}},to=function(t){return this instanceof to?(this.v=t,this):new to(t)},ND=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),a,c=[];return a={},u("next"),u("throw"),u("return"),a[Symbol.asyncIterator]=function(){return this},a;function u(v){s[v]&&(a[v]=function(S){return new Promise(function(C,E){c.push([v,S,C,E])>1||f(v,S)})})}function f(v,S){try{d(s[v](S))}catch(C){g(c[0][3],C)}}function d(v){v.value instanceof to?Promise.resolve(v.value.v).then(p,y):g(c[0][2],v)}function p(v){f("next",v)}function y(v){f("throw",v)}function g(v,S){v(S),c.shift(),c.length&&f(c[0][0],c[0][1])}},DD=function(t){var e=typeof t;return e==="string"||e==="number"},hc=-1,Uy=new DataView(new ArrayBuffer(0)),kD=new Uint8Array(Uy.buffer),Mm=(function(){try{Uy.getInt8(0)}catch(t){return t.constructor}throw new Error("never reached")})(),d1=new Mm("Insufficient data"),jD=new MD,LD=(function(){function t(e,n,s,a,c,u,f,d){e===void 0&&(e=$C.defaultCodec),n===void 0&&(n=void 0),s===void 0&&(s=ta),a===void 0&&(a=ta),c===void 0&&(c=ta),u===void 0&&(u=ta),f===void 0&&(f=ta),d===void 0&&(d=jD),this.extensionCodec=e,this.context=n,this.maxStrLength=s,this.maxBinLength=a,this.maxArrayLength=c,this.maxMapLength=u,this.maxExtLength=f,this.keyDecoder=d,this.totalPos=0,this.pos=0,this.view=Uy,this.bytes=kD,this.headByte=hc,this.stack=[]}return t.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=hc,this.stack.length=0},t.prototype.setBuffer=function(e){this.bytes=uf(e),this.view=CD(this.bytes),this.pos=0},t.prototype.appendBuffer=function(e){if(this.headByte===hc&&!this.hasRemaining(1))this.setBuffer(e);else{var n=this.bytes.subarray(this.pos),s=uf(e),a=new Uint8Array(n.length+s.length);a.set(n),a.set(s,n.length),this.setBuffer(a)}},t.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},t.prototype.createExtraByteError=function(e){var n=this,s=n.view,a=n.pos;return new RangeError("Extra ".concat(s.byteLength-a," of ").concat(s.byteLength," byte(s) found at buffer[").concat(e,"]"))},t.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n},t.prototype.decodeMulti=function(e){return Mp(this,function(n){switch(n.label){case 0:this.reinitializeState(),this.setBuffer(e),n.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return n.sent(),[3,1];case 3:return[2]}})},t.prototype.decodeAsync=function(e){var n,s,a,c;return PD(this,void 0,void 0,function(){var u,f,d,p,y,g,v,S;return Mp(this,function(C){switch(C.label){case 0:u=!1,C.label=1;case 1:C.trys.push([1,6,7,12]),n=f1(e),C.label=2;case 2:return[4,n.next()];case 3:if(s=C.sent(),!!s.done)return[3,5];if(d=s.value,u)throw this.createExtraByteError(this.totalPos);this.appendBuffer(d);try{f=this.doDecodeSync(),u=!0}catch(E){if(!(E instanceof Mm))throw E}this.totalPos+=this.pos,C.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return p=C.sent(),a={error:p},[3,12];case 7:return C.trys.push([7,,10,11]),s&&!s.done&&(c=n.return)?[4,c.call(n)]:[3,9];case 8:C.sent(),C.label=9;case 9:return[3,11];case 10:if(a)throw a.error;return[7];case 11:return[7];case 12:if(u){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,f]}throw y=this,g=y.headByte,v=y.pos,S=y.totalPos,new RangeError("Insufficient data in parsing ".concat(Op(g)," at ").concat(S," (").concat(v," in the current buffer)"))}})})},t.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},t.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},t.prototype.decodeMultiAsync=function(e,n){return ND(this,arguments,function(){var a,c,u,f,d,p,y,g,v;return Mp(this,function(S){switch(S.label){case 0:a=n,c=-1,S.label=1;case 1:S.trys.push([1,13,14,19]),u=f1(e),S.label=2;case 2:return[4,to(u.next())];case 3:if(f=S.sent(),!!f.done)return[3,12];if(d=f.value,n&&c===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(d),a&&(c=this.readArraySize(),a=!1,this.complete()),S.label=4;case 4:S.trys.push([4,9,,10]),S.label=5;case 5:return[4,to(this.doDecodeSync())];case 6:return[4,S.sent()];case 7:return S.sent(),--c===0?[3,8]:[3,5];case 8:return[3,10];case 9:if(p=S.sent(),!(p instanceof Mm))throw p;return[3,10];case 10:this.totalPos+=this.pos,S.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return y=S.sent(),g={error:y},[3,19];case 14:return S.trys.push([14,,17,18]),f&&!f.done&&(v=u.return)?[4,to(v.call(u))]:[3,16];case 15:S.sent(),S.label=16;case 16:return[3,18];case 17:if(g)throw g.error;return[7];case 18:return[7];case 19:return[2]}})})},t.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),n=void 0;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){var s=e-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e<160){var s=e-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else{var a=e-160;n=this.decodeUtf8String(a,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)n=this.readI64();else if(e===217){var a=this.lookU8();n=this.decodeUtf8String(a,1)}else if(e===218){var a=this.lookU16();n=this.decodeUtf8String(a,2)}else if(e===219){var a=this.lookU32();n=this.decodeUtf8String(a,4)}else if(e===220){var s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===221){var s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===222){var s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===223){var s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===196){var s=this.lookU8();n=this.decodeBinary(s,1)}else if(e===197){var s=this.lookU16();n=this.decodeBinary(s,2)}else if(e===198){var s=this.lookU32();n=this.decodeBinary(s,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){var s=this.lookU8();n=this.decodeExtension(s,1)}else if(e===200){var s=this.lookU16();n=this.decodeExtension(s,2)}else if(e===201){var s=this.lookU32();n=this.decodeExtension(s,4)}else throw new ss("Unrecognized type byte: ".concat(Op(e)));this.complete();for(var c=this.stack;c.length>0;){var u=c[c.length-1];if(u.type===0)if(u.array[u.position]=n,u.position++,u.position===u.size)c.pop(),n=u.array;else continue e;else if(u.type===1){if(!DD(n))throw new ss("The type of key must be string or number but "+typeof n);if(n==="__proto__")throw new ss("The key __proto__ is not allowed");u.key=n,u.type=2;continue e}else if(u.map[u.key]=n,u.readCount++,u.readCount===u.size)c.pop(),n=u.map;else{u.key=null,u.type=1;continue e}}return n}},t.prototype.readHeadByte=function(){return this.headByte===hc&&(this.headByte=this.readU8()),this.headByte},t.prototype.complete=function(){this.headByte=hc},t.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new ss("Unrecognized array type byte: ".concat(Op(e)))}}},t.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new ss("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},t.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new ss("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:new Array(e),position:0})},t.prototype.decodeUtf8String=function(e,n){var s;if(e>this.maxStrLength)throw new ss("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+n+e)throw d1;var a=this.pos+n,c;return this.stateIsMapKey()&&(!((s=this.keyDecoder)===null||s===void 0)&&s.canBeCached(e))?c=this.keyDecoder.decode(this.bytes,a,e):e>dD?c=hD(this.bytes,a,e):c=HC(this.bytes,a,e),this.pos+=n+e,c},t.prototype.stateIsMapKey=function(){if(this.stack.length>0){var e=this.stack[this.stack.length-1];return e.type===1}return!1},t.prototype.decodeBinary=function(e,n){if(e>this.maxBinLength)throw new ss("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+n))throw d1;var s=this.pos+n,a=this.bytes.subarray(s,s+e);return this.pos+=n+e,a},t.prototype.decodeExtension=function(e,n){if(e>this.maxExtLength)throw new ss("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var s=this.view.getInt8(this.pos+n),a=this.decodeBinary(e,n+1);return this.extensionCodec.decode(a,s,this.context)},t.prototype.lookU8=function(){return this.view.getUint8(this.pos)},t.prototype.lookU16=function(){return this.view.getUint16(this.pos)},t.prototype.lookU32=function(){return this.view.getUint32(this.pos)},t.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},t.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},t.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},t.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},t.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},t.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},t.prototype.readU64=function(){var e=sD(this.view,this.pos);return this.pos+=8,e},t.prototype.readI64=function(){var e=BC(this.view,this.pos);return this.pos+=8,e},t.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},t.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},t})(),UD={},ID=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,a,c,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(p){return function(y){return d([p,y])}}function d(p){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,a&&(c=p[0]&2?a.return:p[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,p[1])).done)return c;switch(a=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,a=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){n.label=p[1];break}if(p[0]===6&&n.label<c[1]){n.label=c[1],c=p;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(p);break}c[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(y){p=[6,y],a=0}finally{s=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},no=function(t){return this instanceof no?(this.v=t,this):new no(t)},zD=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),a,c=[];return a={},u("next"),u("throw"),u("return"),a[Symbol.asyncIterator]=function(){return this},a;function u(v){s[v]&&(a[v]=function(S){return new Promise(function(C,E){c.push([v,S,C,E])>1||f(v,S)})})}function f(v,S){try{d(s[v](S))}catch(C){g(c[0][3],C)}}function d(v){v.value instanceof no?Promise.resolve(v.value.v).then(p,y):g(c[0][2],v)}function p(v){f("next",v)}function y(v){f("throw",v)}function g(v,S){v(S),c.shift(),c.length&&f(c[0][0],c[0][1])}};function BD(t){return t[Symbol.asyncIterator]!=null}function HD(t){if(t==null)throw new Error("Assertion Failure: value must not be null nor undefined")}function $D(t){return zD(this,arguments,function(){var n,s,a,c;return ID(this,function(u){switch(u.label){case 0:n=t.getReader(),u.label=1;case 1:u.trys.push([1,,9,10]),u.label=2;case 2:return[4,no(n.read())];case 3:return s=u.sent(),a=s.done,c=s.value,a?[4,no(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return HD(c),[4,no(c)];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function VD(t){return BD(t)?t:$D(t)}function qD(t,e){e===void 0&&(e=UD);var n=VD(t),s=new LD(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength);return s.decodeStream(n)}function pa(t,e,n,s){Object.defineProperty(t,e,{get:n,set:s,enumerable:!0,configurable:!0})}class VC{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const n=[],s=e.byteLength,a=Math.ceil(s/this.chunkedMTU);let c=0,u=0;for(;u<s;){const f=Math.min(s,u+this.chunkedMTU),d=e.slice(u,f),p={__peerData:this._dataCount,n:c,data:d,total:a};n.push(p),u=f,c++}return this._dataCount++,n}}}function FD(t){let e=0;for(const a of t)e+=a.byteLength;const n=new Uint8Array(e);let s=0;for(const a of t)n.set(a,s),s+=a.byteLength;return n}const Pp=l1.default||l1,pc=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const t=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(t)?t==="chrome"?e>=this.minChromeVersion:t==="firefox"?e>=this.minFirefoxVersion:t==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return Pp.browserDetails.browser}getVersion(){return Pp.browserDetails.version||0}isUnifiedPlanSupported(){const t=this.getBrowser(),e=Pp.browserDetails.version||0;if(t==="chrome"&&e<this.minChromeVersion)return!1;if(t==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,s=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),s=!0}catch{}finally{n&&n.close()}return s}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},YD=t=>!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t),qC=()=>Math.random().toString(36).slice(2),h1={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class GD extends VC{noop(){}blobToArrayBuffer(e,n){const s=new FileReader;return s.onload=function(a){a.target&&n(a.target.result)},s.readAsArrayBuffer(e),s}binaryStringToArrayBuffer(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=h1,this.browser=pc.getBrowser(),this.browserVersion=pc.getVersion(),this.pack=aC,this.unpack=iC,this.supports=(function(){const n={browser:pc.isBrowserSupported(),webRTC:pc.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let s;try{s=new RTCPeerConnection(h1),n.audioVideo=!0;let a;try{a=s.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!a.ordered;try{a.binaryType="blob",n.binaryBlob=!pc.isIOS}catch{}}catch{}finally{a&&a.close()}}catch{}finally{s&&s.close()}return n})(),this.validateId=YD,this.randomToken=qC}}const Wn=new GD,KD="PeerJS: ";class XD{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...n){const s=[KD,...n];for(const a in s)s[a]instanceof Error&&(s[a]="("+s[a].name+") "+s[a].message);e>=3?console.log(...s):e>=2?console.warn("WARNING",...s):e>=1&&console.error("ERROR",...s)}constructor(){this._logLevel=0}}var Ye=new XD,Iy={},QD=Object.prototype.hasOwnProperty,tr="~";function Lc(){}Object.create&&(Lc.prototype=Object.create(null),new Lc().__proto__||(tr=!1));function ZD(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function FC(t,e,n,s,a){if(typeof n!="function")throw new TypeError("The listener must be a function");var c=new ZD(n,s||t,a),u=tr?tr+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],c]:t._events[u].push(c):(t._events[u]=c,t._eventsCount++),t}function zu(t,e){--t._eventsCount===0?t._events=new Lc:delete t._events[e]}function Yn(){this._events=new Lc,this._eventsCount=0}Yn.prototype.eventNames=function(){var e=[],n,s;if(this._eventsCount===0)return e;for(s in n=this._events)QD.call(n,s)&&e.push(tr?s.slice(1):s);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(n)):e};Yn.prototype.listeners=function(e){var n=tr?tr+e:e,s=this._events[n];if(!s)return[];if(s.fn)return[s.fn];for(var a=0,c=s.length,u=new Array(c);a<c;a++)u[a]=s[a].fn;return u};Yn.prototype.listenerCount=function(e){var n=tr?tr+e:e,s=this._events[n];return s?s.fn?1:s.length:0};Yn.prototype.emit=function(e,n,s,a,c,u){var f=tr?tr+e:e;if(!this._events[f])return!1;var d=this._events[f],p=arguments.length,y,g;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),p){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,n),!0;case 3:return d.fn.call(d.context,n,s),!0;case 4:return d.fn.call(d.context,n,s,a),!0;case 5:return d.fn.call(d.context,n,s,a,c),!0;case 6:return d.fn.call(d.context,n,s,a,c,u),!0}for(g=1,y=new Array(p-1);g<p;g++)y[g-1]=arguments[g];d.fn.apply(d.context,y)}else{var v=d.length,S;for(g=0;g<v;g++)switch(d[g].once&&this.removeListener(e,d[g].fn,void 0,!0),p){case 1:d[g].fn.call(d[g].context);break;case 2:d[g].fn.call(d[g].context,n);break;case 3:d[g].fn.call(d[g].context,n,s);break;case 4:d[g].fn.call(d[g].context,n,s,a);break;default:if(!y)for(S=1,y=new Array(p-1);S<p;S++)y[S-1]=arguments[S];d[g].fn.apply(d[g].context,y)}}return!0};Yn.prototype.on=function(e,n,s){return FC(this,e,n,s,!1)};Yn.prototype.once=function(e,n,s){return FC(this,e,n,s,!0)};Yn.prototype.removeListener=function(e,n,s,a){var c=tr?tr+e:e;if(!this._events[c])return this;if(!n)return zu(this,c),this;var u=this._events[c];if(u.fn)u.fn===n&&(!a||u.once)&&(!s||u.context===s)&&zu(this,c);else{for(var f=0,d=[],p=u.length;f<p;f++)(u[f].fn!==n||a&&!u[f].once||s&&u[f].context!==s)&&d.push(u[f]);d.length?this._events[c]=d.length===1?d[0]:d:zu(this,c)}return this};Yn.prototype.removeAllListeners=function(e){var n;return e?(n=tr?tr+e:e,this._events[n]&&zu(this,n)):(this._events=new Lc,this._eventsCount=0),this};Yn.prototype.off=Yn.prototype.removeListener;Yn.prototype.addListener=Yn.prototype.on;Yn.prefixed=tr;Yn.EventEmitter=Yn;Iy=Yn;var ma={};pa(ma,"ConnectionType",()=>Qs);pa(ma,"PeerErrorType",()=>gn);pa(ma,"BaseConnectionErrorType",()=>ff);pa(ma,"DataConnectionErrorType",()=>$f);pa(ma,"SerializationType",()=>Kc);pa(ma,"SocketEventType",()=>Gs);pa(ma,"ServerMessageType",()=>Bn);var Qs=(function(t){return t.Data="data",t.Media="media",t})({}),gn=(function(t){return t.BrowserIncompatible="browser-incompatible",t.Disconnected="disconnected",t.InvalidID="invalid-id",t.InvalidKey="invalid-key",t.Network="network",t.PeerUnavailable="peer-unavailable",t.SslUnavailable="ssl-unavailable",t.ServerError="server-error",t.SocketError="socket-error",t.SocketClosed="socket-closed",t.UnavailableID="unavailable-id",t.WebRTC="webrtc",t})({}),ff=(function(t){return t.NegotiationFailed="negotiation-failed",t.ConnectionClosed="connection-closed",t})({}),$f=(function(t){return t.NotOpenYet="not-open-yet",t.MessageToBig="message-too-big",t})({}),Kc=(function(t){return t.Binary="binary",t.BinaryUTF8="binary-utf8",t.JSON="json",t.None="raw",t})({}),Gs=(function(t){return t.Message="message",t.Disconnected="disconnected",t.Error="error",t.Close="close",t})({}),Bn=(function(t){return t.Heartbeat="HEARTBEAT",t.Candidate="CANDIDATE",t.Offer="OFFER",t.Answer="ANSWER",t.Open="OPEN",t.Error="ERROR",t.IdTaken="ID-TAKEN",t.InvalidKey="INVALID-KEY",t.Leave="LEAVE",t.Expire="EXPIRE",t})({});const YC="1.5.5";class JD extends Iy.EventEmitter{constructor(e,n,s,a,c,u=5e3){super(),this.pingInterval=u,this._disconnected=!0,this._messagesQueue=[];const f=e?"wss://":"ws://";this._baseUrl=f+n+":"+s+a+"peerjs?key="+c}start(e,n){this._id=e;const s=`${this._baseUrl}&id=${e}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(s+"&version="+YC),this._disconnected=!1,this._socket.onmessage=a=>{let c;try{c=JSON.parse(a.data),Ye.log("Server message received:",c)}catch{Ye.log("Invalid server message",a.data);return}this.emit(Gs.Message,c)},this._socket.onclose=a=>{this._disconnected||(Ye.log("Socket closed.",a),this._cleanup(),this._disconnected=!0,this.emit(Gs.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),Ye.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){Ye.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:Bn.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const n of e)this.send(n)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(Gs.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(e);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class GC{constructor(e){this.connection=e}startConnection(e){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===Qs.Media&&e._stream&&this._addTracksToConnection(e._stream,n),e.originator){const s=this.connection,a={ordered:!!e.reliable},c=n.createDataChannel(s.label,a);s._initializeDataChannel(c),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){Ye.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const n=this.connection.peer,s=this.connection.connectionId,a=this.connection.type,c=this.connection.provider;Ye.log("Listening for ICE candidates."),e.onicecandidate=u=>{!u.candidate||!u.candidate.candidate||(Ye.log(`Received ICE candidates for ${n}:`,u.candidate),c.socket.send({type:Bn.Candidate,payload:{candidate:u.candidate,type:a,connectionId:s},dst:n}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":Ye.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(ff.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":Ye.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(ff.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":Ye.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},Ye.log("Listening for data channel"),e.ondatachannel=u=>{Ye.log("Received data channel");const f=u.channel;c.getConnection(n,s)._initializeDataChannel(f)},Ye.log("Listening for remote stream"),e.ontrack=u=>{Ye.log("Received remote stream");const f=u.streams[0],d=c.getConnection(n,s);if(d.type===Qs.Media){const p=d;this._addStreamToMediaConnection(f,p)}}}cleanup(){Ye.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const n=e.signalingState!=="closed";let s=!1;const a=this.connection.dataChannel;a&&(s=!!a.readyState&&a.readyState!=="closed"),(n||s)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const s=await e.createOffer(this.connection.options.constraints);Ye.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await e.setLocalDescription(s),Ye.log("Set localDescription:",s,`for:${this.connection.peer}`);let a={sdp:s,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===Qs.Data){const c=this.connection;a={...a,label:c.label,reliable:c.reliable,serialization:c.serialization}}n.socket.send({type:Bn.Offer,payload:a,dst:this.connection.peer})}catch(a){a!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(gn.WebRTC,a),Ye.log("Failed to setLocalDescription, ",a))}}catch(s){n.emitError(gn.WebRTC,s),Ye.log("Failed to createOffer, ",s)}}async _makeAnswer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const s=await e.createAnswer();Ye.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await e.setLocalDescription(s),Ye.log("Set localDescription:",s,`for:${this.connection.peer}`),n.socket.send({type:Bn.Answer,payload:{sdp:s,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(a){n.emitError(gn.WebRTC,a),Ye.log("Failed to setLocalDescription, ",a)}}catch(s){n.emitError(gn.WebRTC,s),Ye.log("Failed to create answer, ",s)}}async handleSDP(e,n){n=new RTCSessionDescription(n);const s=this.connection.peerConnection,a=this.connection.provider;Ye.log("Setting remote description",n);const c=this;try{await s.setRemoteDescription(n),Ye.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await c._makeAnswer()}catch(u){a.emitError(gn.WebRTC,u),Ye.log("Failed to setRemoteDescription, ",u)}}async handleCandidate(e){Ye.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),Ye.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(gn.WebRTC,n),Ye.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(e,n){if(Ye.log(`add tracks from stream ${e.id} to peer connection`),!n.addTrack)return Ye.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(s=>{n.addTrack(s,e)})}_addStreamToMediaConnection(e,n){Ye.log(`add stream ${e.id} to media connection ${n.connectionId}`),n.addStream(e)}}class KC extends Iy.EventEmitter{emitError(e,n){Ye.error("Error:",n),this.emit("error",new XC(`${e}`,n))}}class XC extends Error{constructor(e,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=e}}class QC extends KC{get open(){return this._open}constructor(e,n,s){super(),this.peer=e,this.provider=n,this.options=s,this._open=!1,this.metadata=s.metadata}}class df extends QC{static#e=this.ID_PREFIX="mc_";get type(){return Qs.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,n,s){super(e,n,s),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||df.ID_PREFIX+Wn.randomToken(),this._negotiator=new GC(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{Ye.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{Ye.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){Ye.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const n=e.type,s=e.payload;switch(e.type){case Bn.Answer:this._negotiator.handleSDP(n,s.sdp),this._open=!0;break;case Bn.Candidate:this._negotiator.handleCandidate(s.candidate);break;default:Ye.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(e,n={}){if(this._localStream){Ye.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const s=this.provider._getMessages(this.connectionId);for(const a of s)this.handleMessage(a);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}}class WD{constructor(e){this._options=e}_buildRequest(e){const n=this._options.secure?"https":"http",{host:s,port:a,path:c,key:u}=this._options,f=new URL(`${n}://${s}:${a}${c}${u}/${e}`);return f.searchParams.set("ts",`${Date.now()}${Math.random()}`),f.searchParams.set("version",YC),fetch(f.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){Ye.error("Error retrieving ID",e);let n="";throw this._options.path==="/"&&this._options.host!==Wn.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let n="";throw this._options.host===Wn.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw Ye.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}class aa extends QC{static#e=this.ID_PREFIX="dc_";static#t=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return Qs.Data}constructor(e,n,s){super(e,n,s),this.connectionId=this.options.connectionId||aa.ID_PREFIX+qC(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new GC(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{Ye.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{Ye.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{Ye.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,n=!1){if(!this.open){this.emitError($f.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,n)}async handleMessage(e){const n=e.payload;switch(e.type){case Bn.Answer:await this._negotiator.handleSDP(e.type,n.sdp);break;case Bn.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:Ye.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}}class Vf extends aa{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>aa.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(n){return Ye.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class Np extends Vf{close(e){super.close(e),this._chunkedData={}}constructor(e,n,s){super(e,n,s),this.chunker=new VC,this.serialization=Kc.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const n=iC(e),s=n.__peerData;if(s){if(s.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(e){const n=e.__peerData,s=this._chunkedData[n]||{data:[],count:0,total:e.total};if(s.data[e.n]=new Uint8Array(e.data),s.count++,this._chunkedData[n]=s,s.total===s.count){delete this._chunkedData[n];const a=FD(s.data);this._handleDataMessage({data:a})}}_send(e,n){const s=aC(e);if(s instanceof Promise)return this._send_blob(s);if(!n&&s.byteLength>this.chunker.chunkedMTU){this._sendChunks(s);return}this._bufferedSend(s)}async _send_blob(e){const n=await e;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(e){const n=this.chunker.chunk(e);Ye.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const s of n)this.send(s,!0)}}class e4 extends Vf{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,n){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=Kc.None}}class t4 extends Vf{_handleDataMessage({data:e}){const n=this.parse(this.decoder.decode(e)),s=n.__peerData;if(s&&s.type==="close"){this.close();return}this.emit("data",n)}_send(e,n){const s=this.encoder.encode(this.stringify(e));if(s.byteLength>=Wn.chunkedMTU){this.emitError($f.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(s)}constructor(...e){super(...e),this.serialization=Kc.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}class Xc extends KC{static#e=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[n,s]of this._connections)e[n]=s;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,n){super(),this._serializers={raw:e4,json:t4,binary:Np,"binary-utf8":Np,default:Np},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let s;if(e&&e.constructor==Object?n=e:e&&(s=e.toString()),n={debug:0,host:Wn.CLOUD_HOST,port:Wn.CLOUD_PORT,path:"/",key:Xc.DEFAULT_KEY,token:Wn.randomToken(),config:Wn.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Wn.CLOUD_HOST?this._options.secure=Wn.isSecure():this._options.host==Wn.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&Ye.setLogFunction(this._options.logFunction),Ye.logLevel=this._options.debug||0,this._api=new WD(n),this._socket=this._createServerConnection(),!Wn.supports.audioVideo&&!Wn.supports.data){this._delayedAbort(gn.BrowserIncompatible,"The current browser does not support WebRTC");return}if(s&&!Wn.validateId(s)){this._delayedAbort(gn.InvalidID,`ID "${s}" is invalid`);return}s?this._initialize(s):this._api.retrieveId().then(a=>this._initialize(a)).catch(a=>this._abort(gn.ServerError,a))}_createServerConnection(){const e=new JD(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(Gs.Message,n=>{this._handleMessage(n)}),e.on(Gs.Error,n=>{this._abort(gn.SocketError,n)}),e.on(Gs.Disconnected,()=>{this.disconnected||(this.emitError(gn.Network,"Lost connection to server."),this.disconnect())}),e.on(Gs.Close,()=>{this.disconnected||this._abort(gn.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const n=e.type,s=e.payload,a=e.src;switch(n){case Bn.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Bn.Error:this._abort(gn.ServerError,s.msg);break;case Bn.IdTaken:this._abort(gn.UnavailableID,`ID "${this.id}" is taken`);break;case Bn.InvalidKey:this._abort(gn.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Bn.Leave:Ye.log(`Received leave message from ${a}`),this._cleanupPeer(a),this._connections.delete(a);break;case Bn.Expire:this.emitError(gn.PeerUnavailable,`Could not connect to peer ${a}`);break;case Bn.Offer:{const c=s.connectionId;let u=this.getConnection(a,c);if(u&&(u.close(),Ye.warn(`Offer received for existing Connection ID:${c}`)),s.type===Qs.Media){const d=new df(a,this,{connectionId:c,_payload:s,metadata:s.metadata});u=d,this._addConnection(a,u),this.emit("call",d)}else if(s.type===Qs.Data){const d=new this._serializers[s.serialization](a,this,{connectionId:c,_payload:s,metadata:s.metadata,label:s.label,serialization:s.serialization,reliable:s.reliable});u=d,this._addConnection(a,u),this.emit("connection",d)}else{Ye.warn(`Received malformed connection type:${s.type}`);return}const f=this._getMessages(c);for(const d of f)u.handleMessage(d);break}default:{if(!s){Ye.warn(`You received a malformed message from ${a} of type ${n}`);return}const c=s.connectionId,u=this.getConnection(a,c);u&&u.peerConnection?u.handleMessage(e):c?this._storeMessage(c,e):Ye.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,n){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(n)}_getMessages(e){const n=this._lostMessages.get(e);return n?(this._lostMessages.delete(e),n):[]}connect(e,n={}){if(n={serialization:"default",...n},this.disconnected){Ye.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(gn.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const s=new this._serializers[n.serialization](e,this,n);return this._addConnection(e,s),s}call(e,n,s={}){if(this.disconnected){Ye.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(gn.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){Ye.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const a=new df(e,this,{...s,_stream:n});return this._addConnection(e,a),a}_addConnection(e,n){Ye.log(`add connection ${n.type}:${n.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(n)}_removeConnection(e){const n=this._connections.get(e.peer);if(n){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,n){const s=this._connections.get(e);if(!s)return null;for(const a of s)if(a.connectionId===n)return a;return null}_delayedAbort(e,n){setTimeout(()=>{this._abort(e,n)},0)}_abort(e,n){Ye.error("Aborting!"),this.emitError(e,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(Ye.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const n=this._connections.get(e);if(n)for(const s of n)s.close()}disconnect(){if(this.disconnected)return;const e=this.id;Ye.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)Ye.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)Ye.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=n=>{}){this._api.listAllPeers().then(n=>e(n)).catch(n=>this._abort(gn.ServerError,n))}}class ZC extends aa{constructor(e,n,s){super(e,n,{...s,reliable:!0}),this._CHUNK_SIZE=32768,this._splitStream=new TransformStream({transform:(a,c)=>{for(let u=0;u<a.length;u+=this._CHUNK_SIZE)c.enqueue(a.subarray(u,u+this._CHUNK_SIZE))}}),this._rawSendStream=new WritableStream({write:async(a,c)=>{const u=new Promise(f=>this.dataChannel.addEventListener("bufferedamountlow",f,{once:!0}));await(this.dataChannel.bufferedAmount<=aa.MAX_BUFFERED_AMOUNT-a.byteLength||u);try{this.dataChannel.send(a)}catch(f){Ye.error(`DC#:${this.connectionId} Error when sending:`,f),c.error(f),this.close()}}}),this.writer=this._splitStream.writable.getWriter(),this._rawReadStream=new ReadableStream({start:a=>{this.once("open",()=>{this.dataChannel.addEventListener("message",c=>{a.enqueue(c.data)})})}}),this._splitStream.readable.pipeTo(this._rawSendStream)}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.bufferedAmountLowThreshold=aa.MAX_BUFFERED_AMOUNT/2}}class Pm extends ZC{constructor(e,n,s){super(e,n,s),this.serialization="MsgPack",this._encoder=new RD,(async()=>{for await(const a of qD(this._rawReadStream)){if(a.__peerData?.type==="close"){this.close();return}this.emit("data",a)}})()}_send(e){return this.writer.write(this._encoder.encode(e))}}class n4 extends Xc{constructor(...e){super(...e),this._serializers={MsgPack:Pm,default:Pm}}}var r4=Xc;const s4=Object.freeze(Object.defineProperty({__proto__:null,BaseConnectionErrorType:ff,BufferedConnection:Vf,ConnectionType:Qs,DataConnectionErrorType:$f,MsgPack:Pm,MsgPackPeer:n4,Peer:Xc,PeerError:XC,PeerErrorType:gn,SerializationType:Kc,ServerMessageType:Bn,SocketEventType:Gs,StreamConnection:ZC,default:r4,util:Wn},Symbol.toStringTag,{value:"Module"})),i4=bf(s4);function a4(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Dp={exports:{}};const o4={},c4=Object.freeze(Object.defineProperty({__proto__:null,default:o4},Symbol.toStringTag,{value:"Module"})),l4=bf(c4);var p1;function JC(){return p1||(p1=1,(function(t){(function(e){var n=function(_){var R,A=new Float64Array(16);if(_)for(R=0;R<_.length;R++)A[R]=_[R];return A},s=function(){throw new Error("no PRNG")},a=new Uint8Array(16),c=new Uint8Array(32);c[0]=9;var u=n(),f=n([1]),d=n([56129,1]),p=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),y=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),g=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),v=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),S=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function C(_,R,A,x){_[R]=A>>24&255,_[R+1]=A>>16&255,_[R+2]=A>>8&255,_[R+3]=A&255,_[R+4]=x>>24&255,_[R+5]=x>>16&255,_[R+6]=x>>8&255,_[R+7]=x&255}function E(_,R,A,x,P){var $,V=0;for($=0;$<P;$++)V|=_[R+$]^A[x+$];return(1&V-1>>>8)-1}function M(_,R,A,x){return E(_,R,A,x,16)}function N(_,R,A,x){return E(_,R,A,x,32)}function D(_,R,A,x){for(var P=x[0]&255|(x[1]&255)<<8|(x[2]&255)<<16|(x[3]&255)<<24,$=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,V=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,ae=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,we=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,Be=x[4]&255|(x[5]&255)<<8|(x[6]&255)<<16|(x[7]&255)<<24,Me=R[0]&255|(R[1]&255)<<8|(R[2]&255)<<16|(R[3]&255)<<24,Ot=R[4]&255|(R[5]&255)<<8|(R[6]&255)<<16|(R[7]&255)<<24,ke=R[8]&255|(R[9]&255)<<8|(R[10]&255)<<16|(R[11]&255)<<24,Je=R[12]&255|(R[13]&255)<<8|(R[14]&255)<<16|(R[15]&255)<<24,rt=x[8]&255|(x[9]&255)<<8|(x[10]&255)<<16|(x[11]&255)<<24,ot=A[16]&255|(A[17]&255)<<8|(A[18]&255)<<16|(A[19]&255)<<24,st=A[20]&255|(A[21]&255)<<8|(A[22]&255)<<16|(A[23]&255)<<24,We=A[24]&255|(A[25]&255)<<8|(A[26]&255)<<16|(A[27]&255)<<24,et=A[28]&255|(A[29]&255)<<8|(A[30]&255)<<16|(A[31]&255)<<24,He=x[12]&255|(x[13]&255)<<8|(x[14]&255)<<16|(x[15]&255)<<24,Ue=P,Xe=$,Ae=V,De=ae,Ve=we,Oe=Be,te=Me,ne=Ot,ye=ke,de=Je,ce=rt,me=ot,Qe=st,ft=We,lt=et,ut=He,U,vt=0;vt<20;vt+=2)U=Ue+Qe|0,Ve^=U<<7|U>>>25,U=Ve+Ue|0,ye^=U<<9|U>>>23,U=ye+Ve|0,Qe^=U<<13|U>>>19,U=Qe+ye|0,Ue^=U<<18|U>>>14,U=Oe+Xe|0,de^=U<<7|U>>>25,U=de+Oe|0,ft^=U<<9|U>>>23,U=ft+de|0,Xe^=U<<13|U>>>19,U=Xe+ft|0,Oe^=U<<18|U>>>14,U=ce+te|0,lt^=U<<7|U>>>25,U=lt+ce|0,Ae^=U<<9|U>>>23,U=Ae+lt|0,te^=U<<13|U>>>19,U=te+Ae|0,ce^=U<<18|U>>>14,U=ut+me|0,De^=U<<7|U>>>25,U=De+ut|0,ne^=U<<9|U>>>23,U=ne+De|0,me^=U<<13|U>>>19,U=me+ne|0,ut^=U<<18|U>>>14,U=Ue+De|0,Xe^=U<<7|U>>>25,U=Xe+Ue|0,Ae^=U<<9|U>>>23,U=Ae+Xe|0,De^=U<<13|U>>>19,U=De+Ae|0,Ue^=U<<18|U>>>14,U=Oe+Ve|0,te^=U<<7|U>>>25,U=te+Oe|0,ne^=U<<9|U>>>23,U=ne+te|0,Ve^=U<<13|U>>>19,U=Ve+ne|0,Oe^=U<<18|U>>>14,U=ce+de|0,me^=U<<7|U>>>25,U=me+ce|0,ye^=U<<9|U>>>23,U=ye+me|0,de^=U<<13|U>>>19,U=de+ye|0,ce^=U<<18|U>>>14,U=ut+lt|0,Qe^=U<<7|U>>>25,U=Qe+ut|0,ft^=U<<9|U>>>23,U=ft+Qe|0,lt^=U<<13|U>>>19,U=lt+ft|0,ut^=U<<18|U>>>14;Ue=Ue+P|0,Xe=Xe+$|0,Ae=Ae+V|0,De=De+ae|0,Ve=Ve+we|0,Oe=Oe+Be|0,te=te+Me|0,ne=ne+Ot|0,ye=ye+ke|0,de=de+Je|0,ce=ce+rt|0,me=me+ot|0,Qe=Qe+st|0,ft=ft+We|0,lt=lt+et|0,ut=ut+He|0,_[0]=Ue>>>0&255,_[1]=Ue>>>8&255,_[2]=Ue>>>16&255,_[3]=Ue>>>24&255,_[4]=Xe>>>0&255,_[5]=Xe>>>8&255,_[6]=Xe>>>16&255,_[7]=Xe>>>24&255,_[8]=Ae>>>0&255,_[9]=Ae>>>8&255,_[10]=Ae>>>16&255,_[11]=Ae>>>24&255,_[12]=De>>>0&255,_[13]=De>>>8&255,_[14]=De>>>16&255,_[15]=De>>>24&255,_[16]=Ve>>>0&255,_[17]=Ve>>>8&255,_[18]=Ve>>>16&255,_[19]=Ve>>>24&255,_[20]=Oe>>>0&255,_[21]=Oe>>>8&255,_[22]=Oe>>>16&255,_[23]=Oe>>>24&255,_[24]=te>>>0&255,_[25]=te>>>8&255,_[26]=te>>>16&255,_[27]=te>>>24&255,_[28]=ne>>>0&255,_[29]=ne>>>8&255,_[30]=ne>>>16&255,_[31]=ne>>>24&255,_[32]=ye>>>0&255,_[33]=ye>>>8&255,_[34]=ye>>>16&255,_[35]=ye>>>24&255,_[36]=de>>>0&255,_[37]=de>>>8&255,_[38]=de>>>16&255,_[39]=de>>>24&255,_[40]=ce>>>0&255,_[41]=ce>>>8&255,_[42]=ce>>>16&255,_[43]=ce>>>24&255,_[44]=me>>>0&255,_[45]=me>>>8&255,_[46]=me>>>16&255,_[47]=me>>>24&255,_[48]=Qe>>>0&255,_[49]=Qe>>>8&255,_[50]=Qe>>>16&255,_[51]=Qe>>>24&255,_[52]=ft>>>0&255,_[53]=ft>>>8&255,_[54]=ft>>>16&255,_[55]=ft>>>24&255,_[56]=lt>>>0&255,_[57]=lt>>>8&255,_[58]=lt>>>16&255,_[59]=lt>>>24&255,_[60]=ut>>>0&255,_[61]=ut>>>8&255,_[62]=ut>>>16&255,_[63]=ut>>>24&255}function k(_,R,A,x){for(var P=x[0]&255|(x[1]&255)<<8|(x[2]&255)<<16|(x[3]&255)<<24,$=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,V=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,ae=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,we=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,Be=x[4]&255|(x[5]&255)<<8|(x[6]&255)<<16|(x[7]&255)<<24,Me=R[0]&255|(R[1]&255)<<8|(R[2]&255)<<16|(R[3]&255)<<24,Ot=R[4]&255|(R[5]&255)<<8|(R[6]&255)<<16|(R[7]&255)<<24,ke=R[8]&255|(R[9]&255)<<8|(R[10]&255)<<16|(R[11]&255)<<24,Je=R[12]&255|(R[13]&255)<<8|(R[14]&255)<<16|(R[15]&255)<<24,rt=x[8]&255|(x[9]&255)<<8|(x[10]&255)<<16|(x[11]&255)<<24,ot=A[16]&255|(A[17]&255)<<8|(A[18]&255)<<16|(A[19]&255)<<24,st=A[20]&255|(A[21]&255)<<8|(A[22]&255)<<16|(A[23]&255)<<24,We=A[24]&255|(A[25]&255)<<8|(A[26]&255)<<16|(A[27]&255)<<24,et=A[28]&255|(A[29]&255)<<8|(A[30]&255)<<16|(A[31]&255)<<24,He=x[12]&255|(x[13]&255)<<8|(x[14]&255)<<16|(x[15]&255)<<24,Ue=P,Xe=$,Ae=V,De=ae,Ve=we,Oe=Be,te=Me,ne=Ot,ye=ke,de=Je,ce=rt,me=ot,Qe=st,ft=We,lt=et,ut=He,U,vt=0;vt<20;vt+=2)U=Ue+Qe|0,Ve^=U<<7|U>>>25,U=Ve+Ue|0,ye^=U<<9|U>>>23,U=ye+Ve|0,Qe^=U<<13|U>>>19,U=Qe+ye|0,Ue^=U<<18|U>>>14,U=Oe+Xe|0,de^=U<<7|U>>>25,U=de+Oe|0,ft^=U<<9|U>>>23,U=ft+de|0,Xe^=U<<13|U>>>19,U=Xe+ft|0,Oe^=U<<18|U>>>14,U=ce+te|0,lt^=U<<7|U>>>25,U=lt+ce|0,Ae^=U<<9|U>>>23,U=Ae+lt|0,te^=U<<13|U>>>19,U=te+Ae|0,ce^=U<<18|U>>>14,U=ut+me|0,De^=U<<7|U>>>25,U=De+ut|0,ne^=U<<9|U>>>23,U=ne+De|0,me^=U<<13|U>>>19,U=me+ne|0,ut^=U<<18|U>>>14,U=Ue+De|0,Xe^=U<<7|U>>>25,U=Xe+Ue|0,Ae^=U<<9|U>>>23,U=Ae+Xe|0,De^=U<<13|U>>>19,U=De+Ae|0,Ue^=U<<18|U>>>14,U=Oe+Ve|0,te^=U<<7|U>>>25,U=te+Oe|0,ne^=U<<9|U>>>23,U=ne+te|0,Ve^=U<<13|U>>>19,U=Ve+ne|0,Oe^=U<<18|U>>>14,U=ce+de|0,me^=U<<7|U>>>25,U=me+ce|0,ye^=U<<9|U>>>23,U=ye+me|0,de^=U<<13|U>>>19,U=de+ye|0,ce^=U<<18|U>>>14,U=ut+lt|0,Qe^=U<<7|U>>>25,U=Qe+ut|0,ft^=U<<9|U>>>23,U=ft+Qe|0,lt^=U<<13|U>>>19,U=lt+ft|0,ut^=U<<18|U>>>14;_[0]=Ue>>>0&255,_[1]=Ue>>>8&255,_[2]=Ue>>>16&255,_[3]=Ue>>>24&255,_[4]=Oe>>>0&255,_[5]=Oe>>>8&255,_[6]=Oe>>>16&255,_[7]=Oe>>>24&255,_[8]=ce>>>0&255,_[9]=ce>>>8&255,_[10]=ce>>>16&255,_[11]=ce>>>24&255,_[12]=ut>>>0&255,_[13]=ut>>>8&255,_[14]=ut>>>16&255,_[15]=ut>>>24&255,_[16]=te>>>0&255,_[17]=te>>>8&255,_[18]=te>>>16&255,_[19]=te>>>24&255,_[20]=ne>>>0&255,_[21]=ne>>>8&255,_[22]=ne>>>16&255,_[23]=ne>>>24&255,_[24]=ye>>>0&255,_[25]=ye>>>8&255,_[26]=ye>>>16&255,_[27]=ye>>>24&255,_[28]=de>>>0&255,_[29]=de>>>8&255,_[30]=de>>>16&255,_[31]=de>>>24&255}function j(_,R,A,x){D(_,R,A,x)}function F(_,R,A,x){k(_,R,A,x)}var Z=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Y(_,R,A,x,P,$,V){var ae=new Uint8Array(16),we=new Uint8Array(64),Be,Me;for(Me=0;Me<16;Me++)ae[Me]=0;for(Me=0;Me<8;Me++)ae[Me]=$[Me];for(;P>=64;){for(j(we,ae,V,Z),Me=0;Me<64;Me++)_[R+Me]=A[x+Me]^we[Me];for(Be=1,Me=8;Me<16;Me++)Be=Be+(ae[Me]&255)|0,ae[Me]=Be&255,Be>>>=8;P-=64,R+=64,x+=64}if(P>0)for(j(we,ae,V,Z),Me=0;Me<P;Me++)_[R+Me]=A[x+Me]^we[Me];return 0}function K(_,R,A,x,P){var $=new Uint8Array(16),V=new Uint8Array(64),ae,we;for(we=0;we<16;we++)$[we]=0;for(we=0;we<8;we++)$[we]=x[we];for(;A>=64;){for(j(V,$,P,Z),we=0;we<64;we++)_[R+we]=V[we];for(ae=1,we=8;we<16;we++)ae=ae+($[we]&255)|0,$[we]=ae&255,ae>>>=8;A-=64,R+=64}if(A>0)for(j(V,$,P,Z),we=0;we<A;we++)_[R+we]=V[we];return 0}function pe(_,R,A,x,P){var $=new Uint8Array(32);F($,x,P,Z);for(var V=new Uint8Array(8),ae=0;ae<8;ae++)V[ae]=x[ae+16];return K(_,R,A,V,$)}function ve(_,R,A,x,P,$,V){var ae=new Uint8Array(32);F(ae,$,V,Z);for(var we=new Uint8Array(8),Be=0;Be<8;Be++)we[Be]=$[Be+16];return Y(_,R,A,x,P,we,ae)}var _e=function(_){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var R,A,x,P,$,V,ae,we;R=_[0]&255|(_[1]&255)<<8,this.r[0]=R&8191,A=_[2]&255|(_[3]&255)<<8,this.r[1]=(R>>>13|A<<3)&8191,x=_[4]&255|(_[5]&255)<<8,this.r[2]=(A>>>10|x<<6)&7939,P=_[6]&255|(_[7]&255)<<8,this.r[3]=(x>>>7|P<<9)&8191,$=_[8]&255|(_[9]&255)<<8,this.r[4]=(P>>>4|$<<12)&255,this.r[5]=$>>>1&8190,V=_[10]&255|(_[11]&255)<<8,this.r[6]=($>>>14|V<<2)&8191,ae=_[12]&255|(_[13]&255)<<8,this.r[7]=(V>>>11|ae<<5)&8065,we=_[14]&255|(_[15]&255)<<8,this.r[8]=(ae>>>8|we<<8)&8191,this.r[9]=we>>>5&127,this.pad[0]=_[16]&255|(_[17]&255)<<8,this.pad[1]=_[18]&255|(_[19]&255)<<8,this.pad[2]=_[20]&255|(_[21]&255)<<8,this.pad[3]=_[22]&255|(_[23]&255)<<8,this.pad[4]=_[24]&255|(_[25]&255)<<8,this.pad[5]=_[26]&255|(_[27]&255)<<8,this.pad[6]=_[28]&255|(_[29]&255)<<8,this.pad[7]=_[30]&255|(_[31]&255)<<8};_e.prototype.blocks=function(_,R,A){for(var x=this.fin?0:2048,P,$,V,ae,we,Be,Me,Ot,ke,Je,rt,ot,st,We,et,He,Ue,Xe,Ae,De=this.h[0],Ve=this.h[1],Oe=this.h[2],te=this.h[3],ne=this.h[4],ye=this.h[5],de=this.h[6],ce=this.h[7],me=this.h[8],Qe=this.h[9],ft=this.r[0],lt=this.r[1],ut=this.r[2],U=this.r[3],vt=this.r[4],ct=this.r[5],Ct=this.r[6],pt=this.r[7],wt=this.r[8],xt=this.r[9];A>=16;)P=_[R+0]&255|(_[R+1]&255)<<8,De+=P&8191,$=_[R+2]&255|(_[R+3]&255)<<8,Ve+=(P>>>13|$<<3)&8191,V=_[R+4]&255|(_[R+5]&255)<<8,Oe+=($>>>10|V<<6)&8191,ae=_[R+6]&255|(_[R+7]&255)<<8,te+=(V>>>7|ae<<9)&8191,we=_[R+8]&255|(_[R+9]&255)<<8,ne+=(ae>>>4|we<<12)&8191,ye+=we>>>1&8191,Be=_[R+10]&255|(_[R+11]&255)<<8,de+=(we>>>14|Be<<2)&8191,Me=_[R+12]&255|(_[R+13]&255)<<8,ce+=(Be>>>11|Me<<5)&8191,Ot=_[R+14]&255|(_[R+15]&255)<<8,me+=(Me>>>8|Ot<<8)&8191,Qe+=Ot>>>5|x,ke=0,Je=ke,Je+=De*ft,Je+=Ve*(5*xt),Je+=Oe*(5*wt),Je+=te*(5*pt),Je+=ne*(5*Ct),ke=Je>>>13,Je&=8191,Je+=ye*(5*ct),Je+=de*(5*vt),Je+=ce*(5*U),Je+=me*(5*ut),Je+=Qe*(5*lt),ke+=Je>>>13,Je&=8191,rt=ke,rt+=De*lt,rt+=Ve*ft,rt+=Oe*(5*xt),rt+=te*(5*wt),rt+=ne*(5*pt),ke=rt>>>13,rt&=8191,rt+=ye*(5*Ct),rt+=de*(5*ct),rt+=ce*(5*vt),rt+=me*(5*U),rt+=Qe*(5*ut),ke+=rt>>>13,rt&=8191,ot=ke,ot+=De*ut,ot+=Ve*lt,ot+=Oe*ft,ot+=te*(5*xt),ot+=ne*(5*wt),ke=ot>>>13,ot&=8191,ot+=ye*(5*pt),ot+=de*(5*Ct),ot+=ce*(5*ct),ot+=me*(5*vt),ot+=Qe*(5*U),ke+=ot>>>13,ot&=8191,st=ke,st+=De*U,st+=Ve*ut,st+=Oe*lt,st+=te*ft,st+=ne*(5*xt),ke=st>>>13,st&=8191,st+=ye*(5*wt),st+=de*(5*pt),st+=ce*(5*Ct),st+=me*(5*ct),st+=Qe*(5*vt),ke+=st>>>13,st&=8191,We=ke,We+=De*vt,We+=Ve*U,We+=Oe*ut,We+=te*lt,We+=ne*ft,ke=We>>>13,We&=8191,We+=ye*(5*xt),We+=de*(5*wt),We+=ce*(5*pt),We+=me*(5*Ct),We+=Qe*(5*ct),ke+=We>>>13,We&=8191,et=ke,et+=De*ct,et+=Ve*vt,et+=Oe*U,et+=te*ut,et+=ne*lt,ke=et>>>13,et&=8191,et+=ye*ft,et+=de*(5*xt),et+=ce*(5*wt),et+=me*(5*pt),et+=Qe*(5*Ct),ke+=et>>>13,et&=8191,He=ke,He+=De*Ct,He+=Ve*ct,He+=Oe*vt,He+=te*U,He+=ne*ut,ke=He>>>13,He&=8191,He+=ye*lt,He+=de*ft,He+=ce*(5*xt),He+=me*(5*wt),He+=Qe*(5*pt),ke+=He>>>13,He&=8191,Ue=ke,Ue+=De*pt,Ue+=Ve*Ct,Ue+=Oe*ct,Ue+=te*vt,Ue+=ne*U,ke=Ue>>>13,Ue&=8191,Ue+=ye*ut,Ue+=de*lt,Ue+=ce*ft,Ue+=me*(5*xt),Ue+=Qe*(5*wt),ke+=Ue>>>13,Ue&=8191,Xe=ke,Xe+=De*wt,Xe+=Ve*pt,Xe+=Oe*Ct,Xe+=te*ct,Xe+=ne*vt,ke=Xe>>>13,Xe&=8191,Xe+=ye*U,Xe+=de*ut,Xe+=ce*lt,Xe+=me*ft,Xe+=Qe*(5*xt),ke+=Xe>>>13,Xe&=8191,Ae=ke,Ae+=De*xt,Ae+=Ve*wt,Ae+=Oe*pt,Ae+=te*Ct,Ae+=ne*ct,ke=Ae>>>13,Ae&=8191,Ae+=ye*vt,Ae+=de*U,Ae+=ce*ut,Ae+=me*lt,Ae+=Qe*ft,ke+=Ae>>>13,Ae&=8191,ke=(ke<<2)+ke|0,ke=ke+Je|0,Je=ke&8191,ke=ke>>>13,rt+=ke,De=Je,Ve=rt,Oe=ot,te=st,ne=We,ye=et,de=He,ce=Ue,me=Xe,Qe=Ae,R+=16,A-=16;this.h[0]=De,this.h[1]=Ve,this.h[2]=Oe,this.h[3]=te,this.h[4]=ne,this.h[5]=ye,this.h[6]=de,this.h[7]=ce,this.h[8]=me,this.h[9]=Qe},_e.prototype.finish=function(_,R){var A=new Uint16Array(10),x,P,$,V;if(this.leftover){for(V=this.leftover,this.buffer[V++]=1;V<16;V++)this.buffer[V]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(x=this.h[1]>>>13,this.h[1]&=8191,V=2;V<10;V++)this.h[V]+=x,x=this.h[V]>>>13,this.h[V]&=8191;for(this.h[0]+=x*5,x=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=x,x=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=x,A[0]=this.h[0]+5,x=A[0]>>>13,A[0]&=8191,V=1;V<10;V++)A[V]=this.h[V]+x,x=A[V]>>>13,A[V]&=8191;for(A[9]-=8192,P=(x^1)-1,V=0;V<10;V++)A[V]&=P;for(P=~P,V=0;V<10;V++)this.h[V]=this.h[V]&P|A[V];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,$=this.h[0]+this.pad[0],this.h[0]=$&65535,V=1;V<8;V++)$=(this.h[V]+this.pad[V]|0)+($>>>16)|0,this.h[V]=$&65535;_[R+0]=this.h[0]>>>0&255,_[R+1]=this.h[0]>>>8&255,_[R+2]=this.h[1]>>>0&255,_[R+3]=this.h[1]>>>8&255,_[R+4]=this.h[2]>>>0&255,_[R+5]=this.h[2]>>>8&255,_[R+6]=this.h[3]>>>0&255,_[R+7]=this.h[3]>>>8&255,_[R+8]=this.h[4]>>>0&255,_[R+9]=this.h[4]>>>8&255,_[R+10]=this.h[5]>>>0&255,_[R+11]=this.h[5]>>>8&255,_[R+12]=this.h[6]>>>0&255,_[R+13]=this.h[6]>>>8&255,_[R+14]=this.h[7]>>>0&255,_[R+15]=this.h[7]>>>8&255},_e.prototype.update=function(_,R,A){var x,P;if(this.leftover){for(P=16-this.leftover,P>A&&(P=A),x=0;x<P;x++)this.buffer[this.leftover+x]=_[R+x];if(A-=P,R+=P,this.leftover+=P,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(A>=16&&(P=A-A%16,this.blocks(_,R,P),R+=P,A-=P),A){for(x=0;x<A;x++)this.buffer[this.leftover+x]=_[R+x];this.leftover+=A}};function Ce(_,R,A,x,P,$){var V=new _e($);return V.update(A,x,P),V.finish(_,R),0}function Te(_,R,A,x,P,$){var V=new Uint8Array(16);return Ce(V,0,A,x,P,$),M(_,R,V,0)}function ge(_,R,A,x,P){var $;if(A<32)return-1;for(ve(_,0,R,0,A,x,P),Ce(_,16,_,32,A-32,_),$=0;$<16;$++)_[$]=0;return 0}function Le(_,R,A,x,P){var $,V=new Uint8Array(32);if(A<32||(pe(V,0,32,x,P),Te(R,16,R,32,A-32,V)!==0))return-1;for(ve(_,0,R,0,A,x,P),$=0;$<32;$++)_[$]=0;return 0}function L(_,R){var A;for(A=0;A<16;A++)_[A]=R[A]|0}function ee(_){var R,A,x=1;for(R=0;R<16;R++)A=_[R]+x+65535,x=Math.floor(A/65536),_[R]=A-x*65536;_[0]+=x-1+37*(x-1)}function G(_,R,A){for(var x,P=~(A-1),$=0;$<16;$++)x=P&(_[$]^R[$]),_[$]^=x,R[$]^=x}function Re(_,R){var A,x,P,$=n(),V=n();for(A=0;A<16;A++)V[A]=R[A];for(ee(V),ee(V),ee(V),x=0;x<2;x++){for($[0]=V[0]-65517,A=1;A<15;A++)$[A]=V[A]-65535-($[A-1]>>16&1),$[A-1]&=65535;$[15]=V[15]-32767-($[14]>>16&1),P=$[15]>>16&1,$[14]&=65535,G(V,$,1-P)}for(A=0;A<16;A++)_[2*A]=V[A]&255,_[2*A+1]=V[A]>>8}function Ke(_,R){var A=new Uint8Array(32),x=new Uint8Array(32);return Re(A,_),Re(x,R),N(A,0,x,0)}function z(_){var R=new Uint8Array(32);return Re(R,_),R[0]&1}function ie(_,R){var A;for(A=0;A<16;A++)_[A]=R[2*A]+(R[2*A+1]<<8);_[15]&=32767}function le(_,R,A){for(var x=0;x<16;x++)_[x]=R[x]+A[x]}function xe(_,R,A){for(var x=0;x<16;x++)_[x]=R[x]-A[x]}function Se(_,R,A){var x,P,$=0,V=0,ae=0,we=0,Be=0,Me=0,Ot=0,ke=0,Je=0,rt=0,ot=0,st=0,We=0,et=0,He=0,Ue=0,Xe=0,Ae=0,De=0,Ve=0,Oe=0,te=0,ne=0,ye=0,de=0,ce=0,me=0,Qe=0,ft=0,lt=0,ut=0,U=A[0],vt=A[1],ct=A[2],Ct=A[3],pt=A[4],wt=A[5],xt=A[6],nn=A[7],Dt=A[8],Ht=A[9],rn=A[10],Zt=A[11],cn=A[12],bn=A[13],Dn=A[14],kn=A[15];x=R[0],$+=x*U,V+=x*vt,ae+=x*ct,we+=x*Ct,Be+=x*pt,Me+=x*wt,Ot+=x*xt,ke+=x*nn,Je+=x*Dt,rt+=x*Ht,ot+=x*rn,st+=x*Zt,We+=x*cn,et+=x*bn,He+=x*Dn,Ue+=x*kn,x=R[1],V+=x*U,ae+=x*vt,we+=x*ct,Be+=x*Ct,Me+=x*pt,Ot+=x*wt,ke+=x*xt,Je+=x*nn,rt+=x*Dt,ot+=x*Ht,st+=x*rn,We+=x*Zt,et+=x*cn,He+=x*bn,Ue+=x*Dn,Xe+=x*kn,x=R[2],ae+=x*U,we+=x*vt,Be+=x*ct,Me+=x*Ct,Ot+=x*pt,ke+=x*wt,Je+=x*xt,rt+=x*nn,ot+=x*Dt,st+=x*Ht,We+=x*rn,et+=x*Zt,He+=x*cn,Ue+=x*bn,Xe+=x*Dn,Ae+=x*kn,x=R[3],we+=x*U,Be+=x*vt,Me+=x*ct,Ot+=x*Ct,ke+=x*pt,Je+=x*wt,rt+=x*xt,ot+=x*nn,st+=x*Dt,We+=x*Ht,et+=x*rn,He+=x*Zt,Ue+=x*cn,Xe+=x*bn,Ae+=x*Dn,De+=x*kn,x=R[4],Be+=x*U,Me+=x*vt,Ot+=x*ct,ke+=x*Ct,Je+=x*pt,rt+=x*wt,ot+=x*xt,st+=x*nn,We+=x*Dt,et+=x*Ht,He+=x*rn,Ue+=x*Zt,Xe+=x*cn,Ae+=x*bn,De+=x*Dn,Ve+=x*kn,x=R[5],Me+=x*U,Ot+=x*vt,ke+=x*ct,Je+=x*Ct,rt+=x*pt,ot+=x*wt,st+=x*xt,We+=x*nn,et+=x*Dt,He+=x*Ht,Ue+=x*rn,Xe+=x*Zt,Ae+=x*cn,De+=x*bn,Ve+=x*Dn,Oe+=x*kn,x=R[6],Ot+=x*U,ke+=x*vt,Je+=x*ct,rt+=x*Ct,ot+=x*pt,st+=x*wt,We+=x*xt,et+=x*nn,He+=x*Dt,Ue+=x*Ht,Xe+=x*rn,Ae+=x*Zt,De+=x*cn,Ve+=x*bn,Oe+=x*Dn,te+=x*kn,x=R[7],ke+=x*U,Je+=x*vt,rt+=x*ct,ot+=x*Ct,st+=x*pt,We+=x*wt,et+=x*xt,He+=x*nn,Ue+=x*Dt,Xe+=x*Ht,Ae+=x*rn,De+=x*Zt,Ve+=x*cn,Oe+=x*bn,te+=x*Dn,ne+=x*kn,x=R[8],Je+=x*U,rt+=x*vt,ot+=x*ct,st+=x*Ct,We+=x*pt,et+=x*wt,He+=x*xt,Ue+=x*nn,Xe+=x*Dt,Ae+=x*Ht,De+=x*rn,Ve+=x*Zt,Oe+=x*cn,te+=x*bn,ne+=x*Dn,ye+=x*kn,x=R[9],rt+=x*U,ot+=x*vt,st+=x*ct,We+=x*Ct,et+=x*pt,He+=x*wt,Ue+=x*xt,Xe+=x*nn,Ae+=x*Dt,De+=x*Ht,Ve+=x*rn,Oe+=x*Zt,te+=x*cn,ne+=x*bn,ye+=x*Dn,de+=x*kn,x=R[10],ot+=x*U,st+=x*vt,We+=x*ct,et+=x*Ct,He+=x*pt,Ue+=x*wt,Xe+=x*xt,Ae+=x*nn,De+=x*Dt,Ve+=x*Ht,Oe+=x*rn,te+=x*Zt,ne+=x*cn,ye+=x*bn,de+=x*Dn,ce+=x*kn,x=R[11],st+=x*U,We+=x*vt,et+=x*ct,He+=x*Ct,Ue+=x*pt,Xe+=x*wt,Ae+=x*xt,De+=x*nn,Ve+=x*Dt,Oe+=x*Ht,te+=x*rn,ne+=x*Zt,ye+=x*cn,de+=x*bn,ce+=x*Dn,me+=x*kn,x=R[12],We+=x*U,et+=x*vt,He+=x*ct,Ue+=x*Ct,Xe+=x*pt,Ae+=x*wt,De+=x*xt,Ve+=x*nn,Oe+=x*Dt,te+=x*Ht,ne+=x*rn,ye+=x*Zt,de+=x*cn,ce+=x*bn,me+=x*Dn,Qe+=x*kn,x=R[13],et+=x*U,He+=x*vt,Ue+=x*ct,Xe+=x*Ct,Ae+=x*pt,De+=x*wt,Ve+=x*xt,Oe+=x*nn,te+=x*Dt,ne+=x*Ht,ye+=x*rn,de+=x*Zt,ce+=x*cn,me+=x*bn,Qe+=x*Dn,ft+=x*kn,x=R[14],He+=x*U,Ue+=x*vt,Xe+=x*ct,Ae+=x*Ct,De+=x*pt,Ve+=x*wt,Oe+=x*xt,te+=x*nn,ne+=x*Dt,ye+=x*Ht,de+=x*rn,ce+=x*Zt,me+=x*cn,Qe+=x*bn,ft+=x*Dn,lt+=x*kn,x=R[15],Ue+=x*U,Xe+=x*vt,Ae+=x*ct,De+=x*Ct,Ve+=x*pt,Oe+=x*wt,te+=x*xt,ne+=x*nn,ye+=x*Dt,de+=x*Ht,ce+=x*rn,me+=x*Zt,Qe+=x*cn,ft+=x*bn,lt+=x*Dn,ut+=x*kn,$+=38*Xe,V+=38*Ae,ae+=38*De,we+=38*Ve,Be+=38*Oe,Me+=38*te,Ot+=38*ne,ke+=38*ye,Je+=38*de,rt+=38*ce,ot+=38*me,st+=38*Qe,We+=38*ft,et+=38*lt,He+=38*ut,P=1,x=$+P+65535,P=Math.floor(x/65536),$=x-P*65536,x=V+P+65535,P=Math.floor(x/65536),V=x-P*65536,x=ae+P+65535,P=Math.floor(x/65536),ae=x-P*65536,x=we+P+65535,P=Math.floor(x/65536),we=x-P*65536,x=Be+P+65535,P=Math.floor(x/65536),Be=x-P*65536,x=Me+P+65535,P=Math.floor(x/65536),Me=x-P*65536,x=Ot+P+65535,P=Math.floor(x/65536),Ot=x-P*65536,x=ke+P+65535,P=Math.floor(x/65536),ke=x-P*65536,x=Je+P+65535,P=Math.floor(x/65536),Je=x-P*65536,x=rt+P+65535,P=Math.floor(x/65536),rt=x-P*65536,x=ot+P+65535,P=Math.floor(x/65536),ot=x-P*65536,x=st+P+65535,P=Math.floor(x/65536),st=x-P*65536,x=We+P+65535,P=Math.floor(x/65536),We=x-P*65536,x=et+P+65535,P=Math.floor(x/65536),et=x-P*65536,x=He+P+65535,P=Math.floor(x/65536),He=x-P*65536,x=Ue+P+65535,P=Math.floor(x/65536),Ue=x-P*65536,$+=P-1+37*(P-1),P=1,x=$+P+65535,P=Math.floor(x/65536),$=x-P*65536,x=V+P+65535,P=Math.floor(x/65536),V=x-P*65536,x=ae+P+65535,P=Math.floor(x/65536),ae=x-P*65536,x=we+P+65535,P=Math.floor(x/65536),we=x-P*65536,x=Be+P+65535,P=Math.floor(x/65536),Be=x-P*65536,x=Me+P+65535,P=Math.floor(x/65536),Me=x-P*65536,x=Ot+P+65535,P=Math.floor(x/65536),Ot=x-P*65536,x=ke+P+65535,P=Math.floor(x/65536),ke=x-P*65536,x=Je+P+65535,P=Math.floor(x/65536),Je=x-P*65536,x=rt+P+65535,P=Math.floor(x/65536),rt=x-P*65536,x=ot+P+65535,P=Math.floor(x/65536),ot=x-P*65536,x=st+P+65535,P=Math.floor(x/65536),st=x-P*65536,x=We+P+65535,P=Math.floor(x/65536),We=x-P*65536,x=et+P+65535,P=Math.floor(x/65536),et=x-P*65536,x=He+P+65535,P=Math.floor(x/65536),He=x-P*65536,x=Ue+P+65535,P=Math.floor(x/65536),Ue=x-P*65536,$+=P-1+37*(P-1),_[0]=$,_[1]=V,_[2]=ae,_[3]=we,_[4]=Be,_[5]=Me,_[6]=Ot,_[7]=ke,_[8]=Je,_[9]=rt,_[10]=ot,_[11]=st,_[12]=We,_[13]=et,_[14]=He,_[15]=Ue}function Ee(_,R){Se(_,R,R)}function Pe(_,R){var A=n(),x;for(x=0;x<16;x++)A[x]=R[x];for(x=253;x>=0;x--)Ee(A,A),x!==2&&x!==4&&Se(A,A,R);for(x=0;x<16;x++)_[x]=A[x]}function it(_,R){var A=n(),x;for(x=0;x<16;x++)A[x]=R[x];for(x=250;x>=0;x--)Ee(A,A),x!==1&&Se(A,A,R);for(x=0;x<16;x++)_[x]=A[x]}function B(_,R,A){var x=new Uint8Array(32),P=new Float64Array(80),$,V,ae=n(),we=n(),Be=n(),Me=n(),Ot=n(),ke=n();for(V=0;V<31;V++)x[V]=R[V];for(x[31]=R[31]&127|64,x[0]&=248,ie(P,A),V=0;V<16;V++)we[V]=P[V],Me[V]=ae[V]=Be[V]=0;for(ae[0]=Me[0]=1,V=254;V>=0;--V)$=x[V>>>3]>>>(V&7)&1,G(ae,we,$),G(Be,Me,$),le(Ot,ae,Be),xe(ae,ae,Be),le(Be,we,Me),xe(we,we,Me),Ee(Me,Ot),Ee(ke,ae),Se(ae,Be,ae),Se(Be,we,Ot),le(Ot,ae,Be),xe(ae,ae,Be),Ee(we,ae),xe(Be,Me,ke),Se(ae,Be,d),le(ae,ae,Me),Se(Be,Be,ae),Se(ae,Me,ke),Se(Me,we,P),Ee(we,Ot),G(ae,we,$),G(Be,Me,$);for(V=0;V<16;V++)P[V+16]=ae[V],P[V+32]=Be[V],P[V+48]=we[V],P[V+64]=Me[V];var Je=P.subarray(32),rt=P.subarray(16);return Pe(Je,Je),Se(rt,rt,Je),Re(_,rt),0}function J(_,R){return B(_,R,c)}function fe(_,R){return s(R,32),J(_,R)}function Ne(_,R,A){var x=new Uint8Array(32);return B(x,A,R),F(_,a,x,Z)}var Ie=ge,ze=Le;function St(_,R,A,x,P,$){var V=new Uint8Array(32);return Ne(V,P,$),Ie(_,R,A,x,V)}function gt(_,R,A,x,P,$){var V=new Uint8Array(32);return Ne(V,P,$),ze(_,R,A,x,V)}var hn=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Nt(_,R,A,x){for(var P=new Int32Array(16),$=new Int32Array(16),V,ae,we,Be,Me,Ot,ke,Je,rt,ot,st,We,et,He,Ue,Xe,Ae,De,Ve,Oe,te,ne,ye,de,ce,me,Qe=_[0],ft=_[1],lt=_[2],ut=_[3],U=_[4],vt=_[5],ct=_[6],Ct=_[7],pt=R[0],wt=R[1],xt=R[2],nn=R[3],Dt=R[4],Ht=R[5],rn=R[6],Zt=R[7],cn=0;x>=128;){for(Ve=0;Ve<16;Ve++)Oe=8*Ve+cn,P[Ve]=A[Oe+0]<<24|A[Oe+1]<<16|A[Oe+2]<<8|A[Oe+3],$[Ve]=A[Oe+4]<<24|A[Oe+5]<<16|A[Oe+6]<<8|A[Oe+7];for(Ve=0;Ve<80;Ve++)if(V=Qe,ae=ft,we=lt,Be=ut,Me=U,Ot=vt,ke=ct,Je=Ct,rt=pt,ot=wt,st=xt,We=nn,et=Dt,He=Ht,Ue=rn,Xe=Zt,te=Ct,ne=Zt,ye=ne&65535,de=ne>>>16,ce=te&65535,me=te>>>16,te=(U>>>14|Dt<<18)^(U>>>18|Dt<<14)^(Dt>>>9|U<<23),ne=(Dt>>>14|U<<18)^(Dt>>>18|U<<14)^(U>>>9|Dt<<23),ye+=ne&65535,de+=ne>>>16,ce+=te&65535,me+=te>>>16,te=U&vt^~U&ct,ne=Dt&Ht^~Dt&rn,ye+=ne&65535,de+=ne>>>16,ce+=te&65535,me+=te>>>16,te=hn[Ve*2],ne=hn[Ve*2+1],ye+=ne&65535,de+=ne>>>16,ce+=te&65535,me+=te>>>16,te=P[Ve%16],ne=$[Ve%16],ye+=ne&65535,de+=ne>>>16,ce+=te&65535,me+=te>>>16,de+=ye>>>16,ce+=de>>>16,me+=ce>>>16,Ae=ce&65535|me<<16,De=ye&65535|de<<16,te=Ae,ne=De,ye=ne&65535,de=ne>>>16,ce=te&65535,me=te>>>16,te=(Qe>>>28|pt<<4)^(pt>>>2|Qe<<30)^(pt>>>7|Qe<<25),ne=(pt>>>28|Qe<<4)^(Qe>>>2|pt<<30)^(Qe>>>7|pt<<25),ye+=ne&65535,de+=ne>>>16,ce+=te&65535,me+=te>>>16,te=Qe&ft^Qe&lt^ft&lt,ne=pt&wt^pt&xt^wt&xt,ye+=ne&65535,de+=ne>>>16,ce+=te&65535,me+=te>>>16,de+=ye>>>16,ce+=de>>>16,me+=ce>>>16,Je=ce&65535|me<<16,Xe=ye&65535|de<<16,te=Be,ne=We,ye=ne&65535,de=ne>>>16,ce=te&65535,me=te>>>16,te=Ae,ne=De,ye+=ne&65535,de+=ne>>>16,ce+=te&65535,me+=te>>>16,de+=ye>>>16,ce+=de>>>16,me+=ce>>>16,Be=ce&65535|me<<16,We=ye&65535|de<<16,ft=V,lt=ae,ut=we,U=Be,vt=Me,ct=Ot,Ct=ke,Qe=Je,wt=rt,xt=ot,nn=st,Dt=We,Ht=et,rn=He,Zt=Ue,pt=Xe,Ve%16===15)for(Oe=0;Oe<16;Oe++)te=P[Oe],ne=$[Oe],ye=ne&65535,de=ne>>>16,ce=te&65535,me=te>>>16,te=P[(Oe+9)%16],ne=$[(Oe+9)%16],ye+=ne&65535,de+=ne>>>16,ce+=te&65535,me+=te>>>16,Ae=P[(Oe+1)%16],De=$[(Oe+1)%16],te=(Ae>>>1|De<<31)^(Ae>>>8|De<<24)^Ae>>>7,ne=(De>>>1|Ae<<31)^(De>>>8|Ae<<24)^(De>>>7|Ae<<25),ye+=ne&65535,de+=ne>>>16,ce+=te&65535,me+=te>>>16,Ae=P[(Oe+14)%16],De=$[(Oe+14)%16],te=(Ae>>>19|De<<13)^(De>>>29|Ae<<3)^Ae>>>6,ne=(De>>>19|Ae<<13)^(Ae>>>29|De<<3)^(De>>>6|Ae<<26),ye+=ne&65535,de+=ne>>>16,ce+=te&65535,me+=te>>>16,de+=ye>>>16,ce+=de>>>16,me+=ce>>>16,P[Oe]=ce&65535|me<<16,$[Oe]=ye&65535|de<<16;te=Qe,ne=pt,ye=ne&65535,de=ne>>>16,ce=te&65535,me=te>>>16,te=_[0],ne=R[0],ye+=ne&65535,de+=ne>>>16,ce+=te&65535,me+=te>>>16,de+=ye>>>16,ce+=de>>>16,me+=ce>>>16,_[0]=Qe=ce&65535|me<<16,R[0]=pt=ye&65535|de<<16,te=ft,ne=wt,ye=ne&65535,de=ne>>>16,ce=te&65535,me=te>>>16,te=_[1],ne=R[1],ye+=ne&65535,de+=ne>>>16,ce+=te&65535,me+=te>>>16,de+=ye>>>16,ce+=de>>>16,me+=ce>>>16,_[1]=ft=ce&65535|me<<16,R[1]=wt=ye&65535|de<<16,te=lt,ne=xt,ye=ne&65535,de=ne>>>16,ce=te&65535,me=te>>>16,te=_[2],ne=R[2],ye+=ne&65535,de+=ne>>>16,ce+=te&65535,me+=te>>>16,de+=ye>>>16,ce+=de>>>16,me+=ce>>>16,_[2]=lt=ce&65535|me<<16,R[2]=xt=ye&65535|de<<16,te=ut,ne=nn,ye=ne&65535,de=ne>>>16,ce=te&65535,me=te>>>16,te=_[3],ne=R[3],ye+=ne&65535,de+=ne>>>16,ce+=te&65535,me+=te>>>16,de+=ye>>>16,ce+=de>>>16,me+=ce>>>16,_[3]=ut=ce&65535|me<<16,R[3]=nn=ye&65535|de<<16,te=U,ne=Dt,ye=ne&65535,de=ne>>>16,ce=te&65535,me=te>>>16,te=_[4],ne=R[4],ye+=ne&65535,de+=ne>>>16,ce+=te&65535,me+=te>>>16,de+=ye>>>16,ce+=de>>>16,me+=ce>>>16,_[4]=U=ce&65535|me<<16,R[4]=Dt=ye&65535|de<<16,te=vt,ne=Ht,ye=ne&65535,de=ne>>>16,ce=te&65535,me=te>>>16,te=_[5],ne=R[5],ye+=ne&65535,de+=ne>>>16,ce+=te&65535,me+=te>>>16,de+=ye>>>16,ce+=de>>>16,me+=ce>>>16,_[5]=vt=ce&65535|me<<16,R[5]=Ht=ye&65535|de<<16,te=ct,ne=rn,ye=ne&65535,de=ne>>>16,ce=te&65535,me=te>>>16,te=_[6],ne=R[6],ye+=ne&65535,de+=ne>>>16,ce+=te&65535,me+=te>>>16,de+=ye>>>16,ce+=de>>>16,me+=ce>>>16,_[6]=ct=ce&65535|me<<16,R[6]=rn=ye&65535|de<<16,te=Ct,ne=Zt,ye=ne&65535,de=ne>>>16,ce=te&65535,me=te>>>16,te=_[7],ne=R[7],ye+=ne&65535,de+=ne>>>16,ce+=te&65535,me+=te>>>16,de+=ye>>>16,ce+=de>>>16,me+=ce>>>16,_[7]=Ct=ce&65535|me<<16,R[7]=Zt=ye&65535|de<<16,cn+=128,x-=128}return x}function mt(_,R,A){var x=new Int32Array(8),P=new Int32Array(8),$=new Uint8Array(256),V,ae=A;for(x[0]=1779033703,x[1]=3144134277,x[2]=1013904242,x[3]=2773480762,x[4]=1359893119,x[5]=2600822924,x[6]=528734635,x[7]=1541459225,P[0]=4089235720,P[1]=2227873595,P[2]=4271175723,P[3]=1595750129,P[4]=2917565137,P[5]=725511199,P[6]=4215389547,P[7]=327033209,Nt(x,P,R,A),A%=128,V=0;V<A;V++)$[V]=R[ae-A+V];for($[A]=128,A=256-128*(A<112?1:0),$[A-9]=0,C($,A-8,ae/536870912|0,ae<<3),Nt(x,P,$,A),V=0;V<8;V++)C(_,8*V,x[V],P[V]);return 0}function Ut(_,R){var A=n(),x=n(),P=n(),$=n(),V=n(),ae=n(),we=n(),Be=n(),Me=n();xe(A,_[1],_[0]),xe(Me,R[1],R[0]),Se(A,A,Me),le(x,_[0],_[1]),le(Me,R[0],R[1]),Se(x,x,Me),Se(P,_[3],R[3]),Se(P,P,y),Se($,_[2],R[2]),le($,$,$),xe(V,x,A),xe(ae,$,P),le(we,$,P),le(Be,x,A),Se(_[0],V,ae),Se(_[1],Be,we),Se(_[2],we,ae),Se(_[3],V,Be)}function Xt(_,R,A){var x;for(x=0;x<4;x++)G(_[x],R[x],A)}function xn(_,R){var A=n(),x=n(),P=n();Pe(P,R[2]),Se(A,R[0],P),Se(x,R[1],P),Re(_,x),_[31]^=z(A)<<7}function at(_,R,A){var x,P;for(L(_[0],u),L(_[1],f),L(_[2],f),L(_[3],u),P=255;P>=0;--P)x=A[P/8|0]>>(P&7)&1,Xt(_,R,x),Ut(R,_),Ut(_,_),Xt(_,R,x)}function ht(_,R){var A=[n(),n(),n(),n()];L(A[0],g),L(A[1],v),L(A[2],f),Se(A[3],g,v),at(_,A,R)}function Qt(_,R,A){var x=new Uint8Array(64),P=[n(),n(),n(),n()],$;for(A||s(R,32),mt(x,R,32),x[0]&=248,x[31]&=127,x[31]|=64,ht(P,x),xn(_,P),$=0;$<32;$++)R[$+32]=_[$];return 0}var Tn=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Gn(_,R){var A,x,P,$;for(x=63;x>=32;--x){for(A=0,P=x-32,$=x-12;P<$;++P)R[P]+=A-16*R[x]*Tn[P-(x-32)],A=Math.floor((R[P]+128)/256),R[P]-=A*256;R[P]+=A,R[x]=0}for(A=0,P=0;P<32;P++)R[P]+=A-(R[31]>>4)*Tn[P],A=R[P]>>8,R[P]&=255;for(P=0;P<32;P++)R[P]-=A*Tn[P];for(x=0;x<32;x++)R[x+1]+=R[x]>>8,_[x]=R[x]&255}function Pn(_){var R=new Float64Array(64),A;for(A=0;A<64;A++)R[A]=_[A];for(A=0;A<64;A++)_[A]=0;Gn(_,R)}function xs(_,R,A,x){var P=new Uint8Array(64),$=new Uint8Array(64),V=new Uint8Array(64),ae,we,Be=new Float64Array(64),Me=[n(),n(),n(),n()];mt(P,x,32),P[0]&=248,P[31]&=127,P[31]|=64;var Ot=A+64;for(ae=0;ae<A;ae++)_[64+ae]=R[ae];for(ae=0;ae<32;ae++)_[32+ae]=P[32+ae];for(mt(V,_.subarray(32),A+32),Pn(V),ht(Me,V),xn(_,Me),ae=32;ae<64;ae++)_[ae]=x[ae];for(mt($,_,A+64),Pn($),ae=0;ae<64;ae++)Be[ae]=0;for(ae=0;ae<32;ae++)Be[ae]=V[ae];for(ae=0;ae<32;ae++)for(we=0;we<32;we++)Be[ae+we]+=$[ae]*P[we];return Gn(_.subarray(32),Be),Ot}function bs(_,R){var A=n(),x=n(),P=n(),$=n(),V=n(),ae=n(),we=n();return L(_[2],f),ie(_[1],R),Ee(P,_[1]),Se($,P,p),xe(P,P,_[2]),le($,_[2],$),Ee(V,$),Ee(ae,V),Se(we,ae,V),Se(A,we,P),Se(A,A,$),it(A,A),Se(A,A,P),Se(A,A,$),Se(A,A,$),Se(_[0],A,$),Ee(x,_[0]),Se(x,x,$),Ke(x,P)&&Se(_[0],_[0],S),Ee(x,_[0]),Se(x,x,$),Ke(x,P)?-1:(z(_[0])===R[31]>>7&&xe(_[0],u,_[0]),Se(_[3],_[0],_[1]),0)}function Qr(_,R,A,x){var P,$=new Uint8Array(32),V=new Uint8Array(64),ae=[n(),n(),n(),n()],we=[n(),n(),n(),n()];if(A<64||bs(we,x))return-1;for(P=0;P<A;P++)_[P]=R[P];for(P=0;P<32;P++)_[P+32]=x[P];if(mt(V,_,A),Pn(V),at(ae,we,V),ht(we,R.subarray(32)),Ut(ae,we),xn($,ae),A-=64,N(R,0,$,0)){for(P=0;P<A;P++)_[P]=0;return-1}for(P=0;P<A;P++)_[P]=R[P+64];return A}var fr=32,Kn=24,pn=32,Nn=16,on=32,Ss=32,_s=32,ws=32,Zr=32,Cs=Kn,ei=pn,Ur=Nn,Hn=64,Xn=32,Ir=64,Es=32,Jr=64;e.lowlevel={crypto_core_hsalsa20:F,crypto_stream_xor:ve,crypto_stream:pe,crypto_stream_salsa20_xor:Y,crypto_stream_salsa20:K,crypto_onetimeauth:Ce,crypto_onetimeauth_verify:Te,crypto_verify_16:M,crypto_verify_32:N,crypto_secretbox:ge,crypto_secretbox_open:Le,crypto_scalarmult:B,crypto_scalarmult_base:J,crypto_box_beforenm:Ne,crypto_box_afternm:Ie,crypto_box:St,crypto_box_open:gt,crypto_box_keypair:fe,crypto_hash:mt,crypto_sign:xs,crypto_sign_keypair:Qt,crypto_sign_open:Qr,crypto_secretbox_KEYBYTES:fr,crypto_secretbox_NONCEBYTES:Kn,crypto_secretbox_ZEROBYTES:pn,crypto_secretbox_BOXZEROBYTES:Nn,crypto_scalarmult_BYTES:on,crypto_scalarmult_SCALARBYTES:Ss,crypto_box_PUBLICKEYBYTES:_s,crypto_box_SECRETKEYBYTES:ws,crypto_box_BEFORENMBYTES:Zr,crypto_box_NONCEBYTES:Cs,crypto_box_ZEROBYTES:ei,crypto_box_BOXZEROBYTES:Ur,crypto_sign_BYTES:Hn,crypto_sign_PUBLICKEYBYTES:Xn,crypto_sign_SECRETKEYBYTES:Ir,crypto_sign_SEEDBYTES:Es,crypto_hash_BYTES:Jr,gf:n,D:p,L:Tn,pack25519:Re,unpack25519:ie,M:Se,A:le,S:Ee,Z:xe,pow2523:it,add:Ut,set25519:L,modL:Gn,scalarmult:at,scalarbase:ht};function Wr(_,R){if(_.length!==fr)throw new Error("bad key size");if(R.length!==Kn)throw new Error("bad nonce size")}function se(_,R){if(_.length!==_s)throw new Error("bad public key size");if(R.length!==ws)throw new Error("bad secret key size")}function be(){for(var _=0;_<arguments.length;_++)if(!(arguments[_]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function nt(_){for(var R=0;R<_.length;R++)_[R]=0}e.randomBytes=function(_){var R=new Uint8Array(_);return s(R,_),R},e.secretbox=function(_,R,A){be(_,R,A),Wr(A,R);for(var x=new Uint8Array(pn+_.length),P=new Uint8Array(x.length),$=0;$<_.length;$++)x[$+pn]=_[$];return ge(P,x,x.length,R,A),P.subarray(Nn)},e.secretbox.open=function(_,R,A){be(_,R,A),Wr(A,R);for(var x=new Uint8Array(Nn+_.length),P=new Uint8Array(x.length),$=0;$<_.length;$++)x[$+Nn]=_[$];return x.length<32||Le(P,x,x.length,R,A)!==0?null:P.subarray(pn)},e.secretbox.keyLength=fr,e.secretbox.nonceLength=Kn,e.secretbox.overheadLength=Nn,e.scalarMult=function(_,R){if(be(_,R),_.length!==Ss)throw new Error("bad n size");if(R.length!==on)throw new Error("bad p size");var A=new Uint8Array(on);return B(A,_,R),A},e.scalarMult.base=function(_){if(be(_),_.length!==Ss)throw new Error("bad n size");var R=new Uint8Array(on);return J(R,_),R},e.scalarMult.scalarLength=Ss,e.scalarMult.groupElementLength=on,e.box=function(_,R,A,x){var P=e.box.before(A,x);return e.secretbox(_,R,P)},e.box.before=function(_,R){be(_,R),se(_,R);var A=new Uint8Array(Zr);return Ne(A,_,R),A},e.box.after=e.secretbox,e.box.open=function(_,R,A,x){var P=e.box.before(A,x);return e.secretbox.open(_,R,P)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var _=new Uint8Array(_s),R=new Uint8Array(ws);return fe(_,R),{publicKey:_,secretKey:R}},e.box.keyPair.fromSecretKey=function(_){if(be(_),_.length!==ws)throw new Error("bad secret key size");var R=new Uint8Array(_s);return J(R,_),{publicKey:R,secretKey:new Uint8Array(_)}},e.box.publicKeyLength=_s,e.box.secretKeyLength=ws,e.box.sharedKeyLength=Zr,e.box.nonceLength=Cs,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(_,R){if(be(_,R),R.length!==Ir)throw new Error("bad secret key size");var A=new Uint8Array(Hn+_.length);return xs(A,_,_.length,R),A},e.sign.open=function(_,R){if(be(_,R),R.length!==Xn)throw new Error("bad public key size");var A=new Uint8Array(_.length),x=Qr(A,_,_.length,R);if(x<0)return null;for(var P=new Uint8Array(x),$=0;$<P.length;$++)P[$]=A[$];return P},e.sign.detached=function(_,R){for(var A=e.sign(_,R),x=new Uint8Array(Hn),P=0;P<x.length;P++)x[P]=A[P];return x},e.sign.detached.verify=function(_,R,A){if(be(_,R,A),R.length!==Hn)throw new Error("bad signature size");if(A.length!==Xn)throw new Error("bad public key size");var x=new Uint8Array(Hn+_.length),P=new Uint8Array(Hn+_.length),$;for($=0;$<Hn;$++)x[$]=R[$];for($=0;$<_.length;$++)x[$+Hn]=_[$];return Qr(P,x,x.length,A)>=0},e.sign.keyPair=function(){var _=new Uint8Array(Xn),R=new Uint8Array(Ir);return Qt(_,R),{publicKey:_,secretKey:R}},e.sign.keyPair.fromSecretKey=function(_){if(be(_),_.length!==Ir)throw new Error("bad secret key size");for(var R=new Uint8Array(Xn),A=0;A<R.length;A++)R[A]=_[32+A];return{publicKey:R,secretKey:new Uint8Array(_)}},e.sign.keyPair.fromSeed=function(_){if(be(_),_.length!==Es)throw new Error("bad seed size");for(var R=new Uint8Array(Xn),A=new Uint8Array(Ir),x=0;x<32;x++)A[x]=_[x];return Qt(R,A,!0),{publicKey:R,secretKey:A}},e.sign.publicKeyLength=Xn,e.sign.secretKeyLength=Ir,e.sign.seedLength=Es,e.sign.signatureLength=Hn,e.hash=function(_){be(_);var R=new Uint8Array(Jr);return mt(R,_,_.length),R},e.hash.hashLength=Jr,e.verify=function(_,R){return be(_,R),_.length===0||R.length===0||_.length!==R.length?!1:E(_,0,R,0,_.length)===0},e.setPRNG=function(_){s=_},(function(){var _=typeof self<"u"?self.crypto||self.msCrypto:null;if(_&&_.getRandomValues){var R=65536;e.setPRNG(function(A,x){var P,$=new Uint8Array(x);for(P=0;P<x;P+=R)_.getRandomValues($.subarray(P,P+Math.min(x-P,R)));for(P=0;P<x;P++)A[P]=$[P];nt($)})}else typeof a4<"u"&&(_=l4,_&&_.randomBytes&&e.setPRNG(function(A,x){var P,$=_.randomBytes(x);for(P=0;P<x;P++)A[P]=$[P];nt($)}))})()})(t.exports?t.exports:self.nacl=self.nacl||{})})(Dp)),Dp.exports}var Bu={exports:{}},u4=Bu.exports,m1;function WC(){return m1||(m1=1,(function(t){(function(e,n){t.exports?t.exports=n():(e.nacl||(e.nacl={}),e.nacl.util=n())})(u4,function(){var e={};function n(s){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(s))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(s){if(typeof s!="string")throw new TypeError("expected string");var a,c=unescape(encodeURIComponent(s)),u=new Uint8Array(c.length);for(a=0;a<c.length;a++)u[a]=c.charCodeAt(a);return u},e.encodeUTF8=function(s){var a,c=[];for(a=0;a<s.length;a++)c.push(String.fromCharCode(s[a]));return decodeURIComponent(escape(c.join("")))},typeof atob>"u"?typeof Buffer.from<"u"?(e.encodeBase64=function(s){return Buffer.from(s).toString("base64")},e.decodeBase64=function(s){return n(s),new Uint8Array(Array.prototype.slice.call(Buffer.from(s,"base64"),0))}):(e.encodeBase64=function(s){return new Buffer(s).toString("base64")},e.decodeBase64=function(s){return n(s),new Uint8Array(Array.prototype.slice.call(new Buffer(s,"base64"),0))}):(e.encodeBase64=function(s){var a,c=[],u=s.length;for(a=0;a<u;a++)c.push(String.fromCharCode(s[a]));return btoa(c.join(""))},e.decodeBase64=function(s){n(s);var a,c=atob(s),u=new Uint8Array(c.length);for(a=0;a<c.length;a++)u[a]=c.charCodeAt(a);return u}),e})})(Bu)),Bu.exports}function Yr(t){for(var e=arguments.length,n=Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(a){return"'"+a+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function lo(t){return!!t&&!!t[_r]}function ua(t){var e;return!!t&&((function(n){if(!n||typeof n!="object")return!1;var s=Object.getPrototypeOf(n);if(s===null)return!0;var a=Object.hasOwnProperty.call(s,"constructor")&&s.constructor;return a===Object||typeof a=="function"&&Function.toString.call(a)===v4})(t)||Array.isArray(t)||!!t[w1]||!!(!((e=t.constructor)===null||e===void 0)&&e[w1])||zy(t)||By(t))}function Uc(t,e,n){n===void 0&&(n=!1),vo(t)===0?(n?Object.keys:Fy)(t).forEach((function(s){n&&typeof s=="symbol"||e(s,t[s],t)})):t.forEach((function(s,a){return e(a,s,t)}))}function vo(t){var e=t[_r];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:zy(t)?2:By(t)?3:0}function Nm(t,e){return vo(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function f4(t,e){return vo(t)===2?t.get(e):t[e]}function eE(t,e,n){var s=vo(t);s===2?t.set(e,n):s===3?t.add(n):t[e]=n}function d4(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function zy(t){return y4&&t instanceof Map}function By(t){return g4&&t instanceof Set}function ea(t){return t.o||t.t}function Hy(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=x4(t);delete e[_r];for(var n=Fy(e),s=0;s<n.length;s++){var a=n[s],c=e[a];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(e[a]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[a]})}return Object.create(Object.getPrototypeOf(t),e)}function $y(t,e){return e===void 0&&(e=!1),Vy(t)||lo(t)||!ua(t)||(vo(t)>1&&(t.set=t.add=t.clear=t.delete=h4),Object.freeze(t),e&&Uc(t,(function(n,s){return $y(s,!0)}),!0)),t}function h4(){Yr(2)}function Vy(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function fs(t){var e=b4[t];return e||Yr(18,t),e}function y1(){return Ic}function kp(t,e){e&&(fs("Patches"),t.u=[],t.s=[],t.v=e)}function hf(t){Dm(t),t.p.forEach(p4),t.p=null}function Dm(t){t===Ic&&(Ic=t.l)}function g1(t){return Ic={p:[],l:Ic,h:t,m:!0,_:0}}function p4(t){var e=t[_r];e.i===0||e.i===1?e.j():e.g=!0}function jp(t,e){e._=e.p.length;var n=e.p[0],s=t!==void 0&&t!==n;return e.h.O||fs("ES5").S(e,t,s),s?(n[_r].P&&(hf(e),Yr(4)),ua(t)&&(t=pf(e,t),e.l||mf(e,t)),e.u&&fs("Patches").M(n[_r].t,t,e.u,e.s)):t=pf(e,n,[]),hf(e),e.u&&e.v(e.u,e.s),t!==tE?t:void 0}function pf(t,e,n){if(Vy(e))return e;var s=e[_r];if(!s)return Uc(e,(function(f,d){return v1(t,s,e,f,d,n)}),!0),e;if(s.A!==t)return e;if(!s.P)return mf(t,s.t,!0),s.t;if(!s.I){s.I=!0,s.A._--;var a=s.i===4||s.i===5?s.o=Hy(s.k):s.o,c=a,u=!1;s.i===3&&(c=new Set(a),a.clear(),u=!0),Uc(c,(function(f,d){return v1(t,s,a,f,d,n,u)})),mf(t,a,!1),n&&t.u&&fs("Patches").N(s,n,t.u,t.s)}return s.o}function v1(t,e,n,s,a,c,u){if(lo(a)){var f=pf(t,a,c&&e&&e.i!==3&&!Nm(e.R,s)?c.concat(s):void 0);if(eE(n,s,f),!lo(f))return;t.m=!1}else u&&n.add(a);if(ua(a)&&!Vy(a)){if(!t.h.D&&t._<1)return;pf(t,a),e&&e.A.l||mf(t,a)}}function mf(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&$y(e,n)}function Lp(t,e){var n=t[_r];return(n?ea(n):t)[e]}function x1(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var s=Object.getOwnPropertyDescriptor(n,e);if(s)return s;n=Object.getPrototypeOf(n)}}function km(t){t.P||(t.P=!0,t.l&&km(t.l))}function Up(t){t.o||(t.o=Hy(t.t))}function jm(t,e,n){var s=zy(e)?fs("MapSet").F(e,n):By(e)?fs("MapSet").T(e,n):t.O?(function(a,c){var u=Array.isArray(a),f={i:u?1:0,A:c?c.A:y1(),P:!1,I:!1,R:{},l:c,t:a,k:null,o:null,j:null,C:!1},d=f,p=Lm;u&&(d=[f],p=_c);var y=Proxy.revocable(d,p),g=y.revoke,v=y.proxy;return f.k=v,f.j=g,v})(e,n):fs("ES5").J(e,n);return(n?n.A:y1()).p.push(s),s}function m4(t){return lo(t)||Yr(22,t),(function e(n){if(!ua(n))return n;var s,a=n[_r],c=vo(n);if(a){if(!a.P&&(a.i<4||!fs("ES5").K(a)))return a.t;a.I=!0,s=b1(n,c),a.I=!1}else s=b1(n,c);return Uc(s,(function(u,f){a&&f4(a.t,u)===f||eE(s,u,e(f))})),c===3?new Set(s):s})(t)}function b1(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Hy(t)}var S1,Ic,qy=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",y4=typeof Map<"u",g4=typeof Set<"u",_1=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",tE=qy?Symbol.for("immer-nothing"):((S1={})["immer-nothing"]=!0,S1),w1=qy?Symbol.for("immer-draftable"):"__$immer_draftable",_r=qy?Symbol.for("immer-state"):"__$immer_state",v4=""+Object.prototype.constructor,Fy=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,x4=Object.getOwnPropertyDescriptors||function(t){var e={};return Fy(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},b4={},Lm={get:function(t,e){if(e===_r)return t;var n=ea(t);if(!Nm(n,e))return(function(a,c,u){var f,d=x1(c,u);return d?"value"in d?d.value:(f=d.get)===null||f===void 0?void 0:f.call(a.k):void 0})(t,n,e);var s=n[e];return t.I||!ua(s)?s:s===Lp(t.t,e)?(Up(t),t.o[e]=jm(t.A.h,s,t)):s},has:function(t,e){return e in ea(t)},ownKeys:function(t){return Reflect.ownKeys(ea(t))},set:function(t,e,n){var s=x1(ea(t),e);if(s?.set)return s.set.call(t.k,n),!0;if(!t.P){var a=Lp(ea(t),e),c=a?.[_r];if(c&&c.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(d4(n,a)&&(n!==void 0||Nm(t.t,e)))return!0;Up(t),km(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Lp(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Up(t),km(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=ea(t),s=Reflect.getOwnPropertyDescriptor(n,e);return s&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:s.enumerable,value:n[e]}},defineProperty:function(){Yr(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Yr(12)}},_c={};Uc(Lm,(function(t,e){_c[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),_c.deleteProperty=function(t,e){return _c.set.call(this,t,e,void 0)},_c.set=function(t,e,n){return Lm.set.call(this,t[0],e,n,t[0])};var S4=(function(){function t(n){var s=this;this.O=_1,this.D=!0,this.produce=function(a,c,u){if(typeof a=="function"&&typeof c!="function"){var f=c;c=a;var d=s;return function(E){var M=this;E===void 0&&(E=f);for(var N=arguments.length,D=Array(N>1?N-1:0),k=1;k<N;k++)D[k-1]=arguments[k];return d.produce(E,(function(j){var F;return(F=c).call.apply(F,[M,j].concat(D))}))}}var p;if(typeof c!="function"&&Yr(6),u!==void 0&&typeof u!="function"&&Yr(7),ua(a)){var y=g1(s),g=jm(s,a,void 0),v=!0;try{p=c(g),v=!1}finally{v?hf(y):Dm(y)}return typeof Promise<"u"&&p instanceof Promise?p.then((function(E){return kp(y,u),jp(E,y)}),(function(E){throw hf(y),E})):(kp(y,u),jp(p,y))}if(!a||typeof a!="object"){if((p=c(a))===void 0&&(p=a),p===tE&&(p=void 0),s.D&&$y(p,!0),u){var S=[],C=[];fs("Patches").M(a,p,S,C),u(S,C)}return p}Yr(21,a)},this.produceWithPatches=function(a,c){if(typeof a=="function")return function(p){for(var y=arguments.length,g=Array(y>1?y-1:0),v=1;v<y;v++)g[v-1]=arguments[v];return s.produceWithPatches(p,(function(S){return a.apply(void 0,[S].concat(g))}))};var u,f,d=s.produce(a,c,(function(p,y){u=p,f=y}));return typeof Promise<"u"&&d instanceof Promise?d.then((function(p){return[p,u,f]})):[d,u,f]},typeof n?.useProxies=="boolean"&&this.setUseProxies(n.useProxies),typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){ua(n)||Yr(8),lo(n)&&(n=m4(n));var s=g1(this),a=jm(this,n,void 0);return a[_r].C=!0,Dm(s),a},e.finishDraft=function(n,s){var a=n&&n[_r],c=a.A;return kp(c,s),jp(void 0,c)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!_1&&Yr(20),this.O=n},e.applyPatches=function(n,s){var a;for(a=s.length-1;a>=0;a--){var c=s[a];if(c.path.length===0&&c.op==="replace"){n=c.value;break}}a>-1&&(s=s.slice(a+1));var u=fs("Patches").$;return lo(n)?u(n,s):this.produce(n,(function(f){return u(f,s)}))},t})(),wr=new S4,_4=wr.produce;wr.produceWithPatches.bind(wr);wr.setAutoFreeze.bind(wr);wr.setUseProxies.bind(wr);wr.applyPatches.bind(wr);wr.createDraft.bind(wr);wr.finishDraft.bind(wr);class w4{constructor(e){const n=C4();this.c=1,this.s0=n(" "),this.s1=n(" "),this.s2=n(" "),this.s0-=n(e),this.s0<0&&(this.s0+=1),this.s1-=n(e),this.s1<0&&(this.s1+=1),this.s2-=n(e),this.s2<0&&(this.s2+=1)}next(){const e=2091639*this.s0+this.c*23283064365386963e-26;return this.s0=this.s1,this.s1=this.s2,this.s2=e-(this.c=Math.trunc(e))}}function C4(){let t=4022871197;return function(n){const s=n.toString();for(let a=0;a<s.length;a++){t+=s.charCodeAt(a);let c=.02519603282416938*t;t=c>>>0,c-=t,c*=t,t=c>>>0,c-=t,t+=c*4294967296}return(t>>>0)*23283064365386963e-26}}function C1(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function nE(t,e){const n=new w4(t),s=n.next.bind(n);return e&&C1(e,n),s.state=()=>C1(n,{}),s}class E1{constructor(e){this.state=e||{seed:"0"},this.used=!1}static seed(){return Date.now().toString(36).slice(-10)}isUsed(){return this.used}getState(){return this.state}_random(){this.used=!0;const e=this.state,n=e.prngstate?"":e.seed,s=nE(n,e.prngstate),a=s();return this.state={...e,prngstate:s.state()},a}api(){const e=this._random.bind(this),n={D4:4,D6:6,D8:8,D10:10,D12:12,D20:20},s={};for(const c in n){const u=n[c];s[c]=f=>f===void 0?Math.floor(e()*u)+1:Array.from({length:f}).map(()=>Math.floor(e()*u)+1)}function a(c=6,u){return u===void 0?Math.floor(e()*c)+1:Array.from({length:u}).map(()=>Math.floor(e()*c)+1)}return{...s,Die:a,Number:()=>e(),Shuffle:c=>{const u=[...c];let f=c.length,d=0;const p=Array.from({length:f});for(;f;){const y=Math.trunc(f*e());p[d++]=u[y],u[y]=u[--f]}return p},_private:this}}}const E4={name:"random",noClient:({api:t})=>t._private.isUsed(),flush:({api:t})=>t._private.getState(),api:({data:t})=>new E1(t).api(),setup:({game:t})=>{let{seed:e}=t;return e===void 0&&(e=E1.seed()),{seed:e}},playerView:()=>{}};var Ip,T1;function T4(){if(T1)return Ip;T1=1;var t="[object Object]";function e(v){var S=!1;if(v!=null&&typeof v.toString!="function")try{S=!!(v+"")}catch{}return S}function n(v,S){return function(C){return v(S(C))}}var s=Function.prototype,a=Object.prototype,c=s.toString,u=a.hasOwnProperty,f=c.call(Object),d=a.toString,p=n(Object.getPrototypeOf,Object);function y(v){return!!v&&typeof v=="object"}function g(v){if(!y(v)||d.call(v)!=t||e(v))return!1;var S=p(v);if(S===null)return!0;var C=u.call(S,"constructor")&&S.constructor;return typeof C=="function"&&C instanceof C&&c.call(C)==f}return Ip=g,Ip}T4();const zc="MAKE_MOVE",qf="GAME_EVENT",Ff="REDO",Yy="RESET",Gy="SYNC",Yf="UNDO",Ky="UPDATE",Xy="PATCH",rE="PLUGIN",Gf="STRIP_TRANSIENTS",sE=(t,e,n,s)=>({type:zc,payload:{type:t,args:e,playerID:n,credentials:s}}),Mc=(t,e,n,s)=>({type:qf,payload:{type:t,args:e,playerID:n,credentials:s}}),iE=(t,e,n,s)=>({type:qf,payload:{type:t,args:e,playerID:n,credentials:s},automatic:!0}),aE=t=>({type:Gy,state:t.state,log:t.log,initialState:t.initialState,clientOnly:!0}),oE=(t,e,n,s)=>({type:Xy,prevStateID:t,stateID:e,patch:n,deltalog:s,clientOnly:!0}),cE=(t,e)=>({type:Ky,state:t,deltalog:e,clientOnly:!0}),lE=t=>({type:Yy,state:t,clientOnly:!0}),uE=(t,e)=>({type:Yf,payload:{type:null,args:null,playerID:t,credentials:e}}),fE=(t,e)=>({type:Ff,payload:{type:null,args:null,playerID:t,credentials:e}}),R4=(t,e,n,s)=>({type:rE,payload:{type:t,args:e,playerID:n,credentials:s}}),dE=()=>({type:Gf});var A4=Object.freeze({__proto__:null,makeMove:sE,gameEvent:Mc,automaticGameEvent:iE,sync:aE,patch:oE,update:cE,reset:lE,undo:uE,redo:fE,plugin:R4,stripTransients:dE});const Um="INVALID_MOVE",O4={name:"plugin-immer",fnWrap:t=>(e,...n)=>{let s=!1;const a=_4(e.G,c=>{const u=t({...e,G:c},...n);if(u===Um){s=!0;return}return u});return s?Um:a}};var qn;(function(t){t.MOVE="MOVE",t.GAME_ON_END="GAME_ON_END",t.PHASE_ON_BEGIN="PHASE_ON_BEGIN",t.PHASE_ON_END="PHASE_ON_END",t.TURN_ON_BEGIN="TURN_ON_BEGIN",t.TURN_ON_MOVE="TURN_ON_MOVE",t.TURN_ON_END="TURN_ON_END"})(qn||(qn={}));var Ys;(function(t){t.CalledOutsideHook="Events must be called from moves or the `onBegin`, `onEnd`, and `onMove` hooks.\nThis error probably means you called an event from other game code, like an `endIf` trigger or one of the `turn.order` methods.",t.EndTurnInOnEnd="`endTurn` is disallowed in `onEnd` hooks  the turn is already ending.",t.MaxTurnEndings=`Maximum number of turn endings exceeded for this update.
This likely means game code is triggering an infinite loop.`,t.PhaseEventInOnEnd="`setPhase` & `endPhase` are disallowed in a phases `onEnd` hook  the phase is already ending.\nIf youre trying to dynamically choose the next phase when a phase ends, use the phases `next` trigger.",t.StageEventInOnEnd="`setStage`, `endStage` & `setActivePlayers` are disallowed in `onEnd` hooks.",t.StageEventInPhaseBegin="`setStage`, `endStage` & `setActivePlayers` are disallowed in a phases `onBegin` hook.\nUse `setActivePlayers` in a `turn.onBegin` hook or declare stages with `turn.activePlayers` instead.",t.StageEventInTurnBegin="`setStage` & `endStage` are disallowed in `turn.onBegin`.\nUse `setActivePlayers` or declare stages with `turn.activePlayers` instead."})(Ys||(Ys={}));class M4{constructor(e,n,s){this.flow=e,this.playerID=s,this.dispatch=[],this.initialTurn=n.turn,this.updateTurnContext(n,void 0),this.maxEndedTurnsPerAction=n.numPlayers*100}api(){const e={_private:this};for(const n of this.flow.eventNames)e[n]=(...s)=>{this.dispatch.push({type:n,args:s,phase:this.currentPhase,turn:this.currentTurn,calledFrom:this.currentMethod,error:new Error("Events Plugin Error")})};return e}isUsed(){return this.dispatch.length>0}updateTurnContext(e,n){this.currentPhase=e.phase,this.currentTurn=e.turn,this.currentMethod=n}unsetCurrentMethod(){this.currentMethod=void 0}update(e){const n=e,s=({stack:a},c)=>({...n,plugins:{...n.plugins,events:{...n.plugins.events,data:{error:c+`
`+a}}}});e:for(let a=0;a<this.dispatch.length;a++){const c=this.dispatch[a],u=c.turn!==e.ctx.turn;if(this.currentTurn-this.initialTurn>=this.maxEndedTurnsPerAction)return s(c.error,Ys.MaxTurnEndings);if(c.calledFrom===void 0)return s(c.error,Ys.CalledOutsideHook);if(e.ctx.gameover)break e;switch(c.type){case"endStage":case"setStage":case"setActivePlayers":{switch(c.calledFrom){case qn.TURN_ON_END:case qn.PHASE_ON_END:return s(c.error,Ys.StageEventInOnEnd);case qn.PHASE_ON_BEGIN:return s(c.error,Ys.StageEventInPhaseBegin);case qn.TURN_ON_BEGIN:if(c.type==="setActivePlayers")break;return s(c.error,Ys.StageEventInTurnBegin)}if(u)continue e;break}case"endTurn":{if(c.calledFrom===qn.TURN_ON_END||c.calledFrom===qn.PHASE_ON_END)return s(c.error,Ys.EndTurnInOnEnd);if(u)continue e;break}case"endPhase":case"setPhase":{if(c.calledFrom===qn.PHASE_ON_END)return s(c.error,Ys.PhaseEventInOnEnd);if(c.phase!==e.ctx.phase)continue e;break}}const d=iE(c.type,c.args,this.playerID);e=this.flow.processEvent(e,d)}return e}}const Qy={name:"events",noClient:({api:t})=>t._private.isUsed(),isInvalid:({data:t})=>t.error||!1,fnWrap:(t,e)=>(n,...s)=>{const a=n.events;a&&a._private.updateTurnContext(n.ctx,e);const c=t(n,...s);return a&&a._private.unsetCurrentMethod(),c},dangerouslyFlushRawState:({state:t,api:e})=>e._private.update(t),api:({game:t,ctx:e,playerID:n})=>new M4(t.flow,e,n).api()},P4={name:"log",flush:()=>({}),api:({data:t})=>({setMetadata:e=>{t.metadata=e}}),setup:()=>({})},N4={name:"plugin-serializable",fnWrap:t=>(e,...n)=>t(e,...n)},D4=(...t)=>console.error(...t);function zt(t){D4("ERROR:",t)}const Zy=[O4,E4,P4,N4],Qc=[...Zy,Qy],k4=(t,e,n)=>(n.game.plugins.filter(s=>s.action!==void 0).filter(s=>s.name===e.payload.type).forEach(s=>{const a=s.name,c=t.plugins[a]||{data:{}},u=s.action(c.data,e.payload);t={...t,plugins:{...t.plugins,[a]:{...c,data:u}}}}),t),uo=({plugins:t})=>Object.entries(t||{}).reduce((e,[n,{api:s}])=>(e[n]=s,e),{}),hE=(t,e,n)=>[...Zy,...n,Qy].filter(s=>s.fnWrap!==void 0).reduce((s,{fnWrap:a})=>a(s,e),t),j4=(t,e)=>([...Qc,...e.game.plugins].filter(n=>n.setup!==void 0).forEach(n=>{const s=n.name,a=n.setup({G:t.G,ctx:t.ctx,game:e.game});t={...t,plugins:{...t.plugins,[s]:{data:a}}}}),t),Im=(t,e)=>([...Qc,...e.game.plugins].filter(n=>n.api!==void 0).forEach(n=>{const s=n.name,a=t.plugins[s]||{data:{}},c=n.api({G:t.G,ctx:t.ctx,data:a.data,game:e.game,playerID:e.playerID});t={...t,plugins:{...t.plugins,[s]:{...a,api:c}}}}),t),L4=(t,e)=>([...Zy,...e.game.plugins,Qy].reverse().forEach(n=>{const s=n.name,a=t.plugins[s]||{data:{}};if(n.flush){const c=n.flush({G:t.G,ctx:t.ctx,game:e.game,api:a.api,data:a.data});t={...t,plugins:{...t.plugins,[n.name]:{data:c}}}}else if(n.dangerouslyFlushRawState){t=n.dangerouslyFlushRawState({state:t,game:e.game,api:a.api,data:a.data});const c=t.plugins[s].data;t={...t,plugins:{...t.plugins,[n.name]:{data:c}}}}}),t),U4=(t,e)=>[...Qc,...e.game.plugins].filter(n=>n.noClient!==void 0).map(n=>{const s=n.name,a=t.plugins[s];return a?n.noClient({G:t.G,ctx:t.ctx,game:e.game,api:a.api,data:a.data}):!1}).includes(!0),I4=(t,e)=>[...Qc,...e.game.plugins].filter(s=>s.isInvalid!==void 0).map(s=>{const{name:a}=s,c=t.plugins[a],u=s.isInvalid({G:t.G,ctx:t.ctx,game:e.game,data:c&&c.data});return u?{plugin:a,message:u}:!1}).find(s=>s)||!1,pE=(t,e)=>{const n=L4(t,e),s=I4(n,e);if(!s)return[n];const{plugin:a,message:c}=s;return zt(`${a} plugin declared action invalid:
${c}`),[t,s]},mE=({G:t,ctx:e,plugins:n={}},{game:s,playerID:a})=>([...Qc,...s.plugins].forEach(({name:c,playerView:u})=>{if(!u)return;const{data:f}=n[c]||{data:{}},d=u({G:t,ctx:e,game:s,data:f,playerID:a});n={...n,[c]:{data:d}}}),n);function yf(t,e=!1){t.moveLimit&&(e&&(t.minMoves=t.moveLimit),t.maxMoves=t.moveLimit,delete t.moveLimit)}function gf(t,e){let n={},s=[],a=null,c={},u={};if(Array.isArray(e)){const d={};e.forEach(p=>d[p]=vf.NULL),n=d}else{if(yf(e),e.next&&(a=e.next),e.revert&&(s=[...t._prevActivePlayers,{activePlayers:t.activePlayers,_activePlayersMinMoves:t._activePlayersMinMoves,_activePlayersMaxMoves:t._activePlayersMaxMoves,_activePlayersNumMoves:t._activePlayersNumMoves}]),e.currentPlayer!==void 0&&Su(n,c,u,t.currentPlayer,e.currentPlayer),e.others!==void 0)for(let d=0;d<t.playOrder.length;d++){const p=t.playOrder[d];p!==t.currentPlayer&&Su(n,c,u,p,e.others)}if(e.all!==void 0)for(let d=0;d<t.playOrder.length;d++){const p=t.playOrder[d];Su(n,c,u,p,e.all)}if(e.value)for(const d in e.value)Su(n,c,u,d,e.value[d]);if(e.minMoves)for(const d in n)c[d]===void 0&&(c[d]=e.minMoves);if(e.maxMoves)for(const d in n)u[d]===void 0&&(u[d]=e.maxMoves)}Object.keys(n).length===0&&(n=null),Object.keys(c).length===0&&(c=null),Object.keys(u).length===0&&(u=null);const f={};for(const d in n)f[d]=0;return{...t,activePlayers:n,_activePlayersMinMoves:c,_activePlayersMaxMoves:u,_activePlayersNumMoves:f,_prevActivePlayers:s,_nextActivePlayers:a}}function z4(t){let{activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:s,_activePlayersNumMoves:a,_prevActivePlayers:c,_nextActivePlayers:u}=t;if(e&&Object.keys(e).length===0)if(u)t=gf(t,u),{activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:s,_activePlayersNumMoves:a,_prevActivePlayers:c}=t;else if(c.length>0){const f=c.length-1;({activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:s,_activePlayersNumMoves:a}=c[f]),c=c.slice(0,f)}else e=null,n=null,s=null;return{...t,activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:s,_activePlayersNumMoves:a,_prevActivePlayers:c}}function Su(t,e,n,s,a){(typeof a!="object"||a===vf.NULL)&&(a={stage:a}),a.stage!==void 0&&(yf(a),t[s]=a.stage,a.minMoves&&(e[s]=a.minMoves),a.maxMoves&&(n[s]=a.maxMoves))}function zm(t,e){return t[e]+""}function B4(t,e){let{G:n,ctx:s}=t;const{numPlayers:a}=s,u={...uo(t),G:n,ctx:s},f=e.order;let d=[...Array.from({length:a})].map((v,S)=>S+"");f.playOrder!==void 0&&(d=f.playOrder(u));const p=f.first(u),y=typeof p;y!=="number"&&zt(`invalid value returned by turn.order.first  expected number got ${y} ${p}.`);const g=zm(d,p);return s={...s,currentPlayer:g,playOrderPos:p,playOrder:d},s=gf(s,e.activePlayers||{}),s}function H4(t,e,n,s){const a=n.order;let{G:c,ctx:u}=t,f=u.playOrderPos,d=!1;if(s&&s!==!0)typeof s!="object"&&zt(`invalid argument to endTurn: ${s}`),Object.keys(s).forEach(p=>{switch(p){case"remove":e=zm(u.playOrder,f);break;case"next":f=u.playOrder.indexOf(s.next),e=s.next;break;default:zt(`invalid argument to endTurn: ${p}`)}});else{const y={...uo(t),G:c,ctx:u},g=a.next(y),v=typeof g;g!==void 0&&v!=="number"&&zt(`invalid value returned by turn.order.next  expected number or undefined got ${v} ${g}.`),g===void 0?d=!0:(f=g,e=zm(u.playOrder,f))}return u={...u,playOrderPos:f,currentPlayer:e},{endPhase:d,ctx:u}}const $4={DEFAULT:{first:({ctx:t})=>t.turn===0?t.playOrderPos:(t.playOrderPos+1)%t.playOrder.length,next:({ctx:t})=>(t.playOrderPos+1)%t.playOrder.length}},vf={NULL:null};var zp={},qs={},R1;function yE(){if(R1)return qs;R1=1,Object.defineProperty(qs,"__esModule",{value:!0}),qs.Pointer=qs.escapeToken=qs.unescapeToken=void 0;function t(s){return s.replace(/~1/g,"/").replace(/~0/g,"~")}qs.unescapeToken=t;function e(s){return s.replace(/~/g,"~0").replace(/\//g,"~1")}qs.escapeToken=e;var n=(function(){function s(a){a===void 0&&(a=[""]),this.tokens=a}return s.fromJSON=function(a){var c=a.split("/").map(t);if(c[0]!=="")throw new Error("Invalid JSON Pointer: ".concat(a));return new s(c)},s.prototype.toString=function(){return this.tokens.map(e).join("/")},s.prototype.evaluate=function(a){for(var c=null,u="",f=a,d=1,p=this.tokens.length;d<p;d++)c=f,u=this.tokens[d],!(u=="__proto__"||u=="constructor"||u=="prototype")&&(f=(c||{})[u]);return{parent:c,key:u,value:f}},s.prototype.get=function(a){return this.evaluate(a).value},s.prototype.set=function(a,c){var u=this.evaluate(a);u.parent&&(u.parent[u.key]=c)},s.prototype.push=function(a){this.tokens.push(a)},s.prototype.add=function(a){var c=this.tokens.concat(String(a));return new s(c)},s})();return qs.Pointer=n,qs}var en={},Bp={},A1;function gE(){return A1||(A1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.clone=t.objectType=t.hasOwnProperty=void 0,t.hasOwnProperty=Object.prototype.hasOwnProperty;function e(a){return a===void 0?"undefined":a===null?"null":Array.isArray(a)?"array":typeof a}t.objectType=e;function n(a){return a!=null&&typeof a=="object"}function s(a){if(!n(a))return a;if(a.constructor==Array){for(var c=a.length,u=new Array(c),f=0;f<c;f++)u[f]=s(a[f]);return u}if(a.constructor==Date){var d=new Date(+a);return d}var p={};for(var y in a)t.hasOwnProperty.call(a,y)&&(p[y]=s(a[y]));return p}t.clone=s})(Bp)),Bp}var Zn={},O1;function vE(){if(O1)return Zn;O1=1,Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.diffAny=Zn.diffObjects=Zn.diffArrays=Zn.intersection=Zn.subtract=Zn.isDestructive=void 0;var t=gE();function e(y){var g=y.op;return g==="remove"||g==="replace"||g==="copy"||g==="move"}Zn.isDestructive=e;function n(y,g){var v={};for(var S in y)t.hasOwnProperty.call(y,S)&&y[S]!==void 0&&(v[S]=1);for(var C in g)t.hasOwnProperty.call(g,C)&&g[C]!==void 0&&delete v[C];return Object.keys(v)}Zn.subtract=n;function s(y){for(var g=y.length,v={},S=0;S<g;S++){var C=y[S];for(var E in C)t.hasOwnProperty.call(C,E)&&C[E]!==void 0&&(v[E]=(v[E]||0)+1)}for(var E in v)v[E]<g&&delete v[E];return Object.keys(v)}Zn.intersection=s;function a(y){return y.op==="add"}function c(y){return y.op==="remove"}function u(y,g){return{operations:y.operations.concat(g),cost:y.cost+1}}function f(y,g,v,S){S===void 0&&(S=p);var C={"0,0":{operations:[],cost:0}};function E(j,F){var Z="".concat(j,",").concat(F),Y=C[Z];if(Y===void 0){if(j>0&&F>0&&!S(y[j-1],g[F-1],v.add(String(j-1))).length)Y=E(j-1,F-1);else{var K=[];if(j>0){var pe=E(j-1,F),ve={op:"remove",index:j-1};K.push(u(pe,ve))}if(F>0){var _e=E(j,F-1),Ce={op:"add",index:j-1,value:g[F-1]};K.push(u(_e,Ce))}if(j>0&&F>0){var Te=E(j-1,F-1),ge={op:"replace",index:j-1,original:y[j-1],value:g[F-1]};K.push(u(Te,ge))}var Le=K.sort(function(L,ee){return L.cost-ee.cost})[0];Y=Le}C[Z]=Y}return Y}var M=isNaN(y.length)||y.length<=0?0:y.length,N=isNaN(g.length)||g.length<=0?0:g.length,D=E(M,N).operations,k=D.reduce(function(j,F){var Z=j[0],Y=j[1];if(a(F)){var K=F.index+1+Y,pe=K<M+Y?String(K):"-",ve={op:F.op,path:v.add(pe).toString(),value:F.value};return[Z.concat(ve),Y+1]}else if(c(F)){var ve={op:F.op,path:v.add(String(F.index+Y)).toString()};return[Z.concat(ve),Y-1]}else{var _e=v.add(String(F.index+Y)),Ce=S(F.original,F.value,_e);return[Z.concat.apply(Z,Ce),Y]}},[[],0])[0];return k}Zn.diffArrays=f;function d(y,g,v,S){S===void 0&&(S=p);var C=[];return n(y,g).forEach(function(E){C.push({op:"remove",path:v.add(E).toString()})}),n(g,y).forEach(function(E){C.push({op:"add",path:v.add(E).toString(),value:g[E]})}),s([y,g]).forEach(function(E){C.push.apply(C,S(y[E],g[E],v.add(E)))}),C}Zn.diffObjects=d;function p(y,g,v,S){if(S===void 0&&(S=p),y===g)return[];var C=(0,t.objectType)(y),E=(0,t.objectType)(g);return C=="array"&&E=="array"?f(y,g,v,S):C=="object"&&E=="object"?d(y,g,v,S):[{op:"replace",path:v.toString(),value:g}]}return Zn.diffAny=p,Zn}var M1;function V4(){if(M1)return en;M1=1;var t=en&&en.__extends||(function(){var M=function(N,D){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,j){k.__proto__=j}||function(k,j){for(var F in j)Object.prototype.hasOwnProperty.call(j,F)&&(k[F]=j[F])},M(N,D)};return function(N,D){if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");M(N,D);function k(){this.constructor=N}N.prototype=D===null?Object.create(D):(k.prototype=D.prototype,new k)}})();Object.defineProperty(en,"__esModule",{value:!0}),en.apply=en.InvalidOperationError=en.test=en.copy=en.move=en.replace=en.remove=en.add=en.TestError=en.MissingError=void 0;var e=yE(),n=gE(),s=vE(),a=(function(M){t(N,M);function N(D){var k=M.call(this,"Value required at path: ".concat(D))||this;return k.path=D,k.name="MissingError",k}return N})(Error);en.MissingError=a;var c=(function(M){t(N,M);function N(D,k){var j=M.call(this,"Test failed: ".concat(D," != ").concat(k))||this;return j.actual=D,j.expected=k,j.name="TestError",j}return N})(Error);en.TestError=c;function u(M,N,D){if(Array.isArray(M))if(N=="-")M.push(D);else{var k=parseInt(N,10);M.splice(k,0,D)}else M[N]=D}function f(M,N){if(Array.isArray(M)){var D=parseInt(N,10);M.splice(D,1)}else delete M[N]}function d(M,N){var D=e.Pointer.fromJSON(N.path).evaluate(M);return D.parent===void 0?new a(N.path):(u(D.parent,D.key,(0,n.clone)(N.value)),null)}en.add=d;function p(M,N){var D=e.Pointer.fromJSON(N.path).evaluate(M);return D.value===void 0?new a(N.path):(f(D.parent,D.key),null)}en.remove=p;function y(M,N){var D=e.Pointer.fromJSON(N.path).evaluate(M);if(D.parent===null)return new a(N.path);if(Array.isArray(D.parent)){if(parseInt(D.key,10)>=D.parent.length)return new a(N.path)}else if(D.value===void 0)return new a(N.path);return D.parent[D.key]=(0,n.clone)(N.value),null}en.replace=y;function g(M,N){var D=e.Pointer.fromJSON(N.from).evaluate(M);if(D.value===void 0)return new a(N.from);var k=e.Pointer.fromJSON(N.path).evaluate(M);return k.parent===void 0?new a(N.path):(f(D.parent,D.key),u(k.parent,k.key,D.value),null)}en.move=g;function v(M,N){var D=e.Pointer.fromJSON(N.from).evaluate(M);if(D.value===void 0)return new a(N.from);var k=e.Pointer.fromJSON(N.path).evaluate(M);return k.parent===void 0?new a(N.path):(u(k.parent,k.key,(0,n.clone)(D.value)),null)}en.copy=v;function S(M,N){var D=e.Pointer.fromJSON(N.path).evaluate(M);return(0,s.diffAny)(D.value,N.value,new e.Pointer).length?new c(D.value,N.value):null}en.test=S;var C=(function(M){t(N,M);function N(D){var k=M.call(this,"Invalid operation: ".concat(D.op))||this;return k.operation=D,k.name="InvalidOperationError",k}return N})(Error);en.InvalidOperationError=C;function E(M,N){switch(N.op){case"add":return d(M,N);case"remove":return p(M,N);case"replace":return y(M,N);case"move":return g(M,N);case"copy":return v(M,N);case"test":return S(M,N)}return new C(N)}return en.apply=E,en}var P1;function q4(){return P1||(P1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createTests=t.createPatch=t.applyPatch=t.Pointer=void 0;var e=yE();Object.defineProperty(t,"Pointer",{enumerable:!0,get:function(){return e.Pointer}});var n=V4(),s=vE();function a(p,y){return y.map(function(g){return(0,n.apply)(p,g)})}t.applyPatch=a;function c(p){function y(g,v,S){var C=p(g,v,S);return Array.isArray(C)?C:(0,s.diffAny)(g,v,S,y)}return y}function u(p,y,g){var v=new e.Pointer;return(g?c(g):s.diffAny)(p,y,v)}t.createPatch=u;function f(p,y){var g=e.Pointer.fromJSON(y).evaluate(p);if(g!==void 0)return{op:"test",path:y,value:g.value}}function d(p,y){var g=new Array;return y.filter(s.isDestructive).forEach(function(v){var S=f(p,v.path);if(S&&g.push(S),"from"in v){var C=f(p,v.from);C&&g.push(C)}}),g}t.createTests=d})(zp)),zp}var xE=q4();function F4({moves:t,phases:e,endIf:n,onEnd:s,turn:a,events:c,plugins:u}){t===void 0&&(t={}),c===void 0&&(c={}),u===void 0&&(u=[]),e===void 0&&(e={}),n||(n=()=>{}),s||(s=({G:B})=>B),a||(a={});const f={...e};""in f&&zt("cannot specify phase with empty name"),f[""]={};const d={},p=new Set;let y=null;Object.keys(t).forEach(B=>p.add(B));const g=(B,J)=>{const fe=hE(B,J,u);return Ne=>{const Ie=uo(Ne);return fe({...Ie,G:Ne.G,ctx:Ne.ctx,playerID:Ne.playerID})}},v=B=>J=>{const fe=uo(J);return B({...fe,G:J.G,ctx:J.ctx})},S={onEnd:g(s,qn.GAME_ON_END),endIf:v(n)};for(const B in f){const J=f[B];if(J.start===!0&&(y=B),J.moves!==void 0)for(const fe of Object.keys(J.moves))d[B+"."+fe]=J.moves[fe],p.add(fe);J.endIf===void 0&&(J.endIf=()=>{}),J.onBegin===void 0&&(J.onBegin=({G:fe})=>fe),J.onEnd===void 0&&(J.onEnd=({G:fe})=>fe),J.turn===void 0&&(J.turn=a),J.turn.order===void 0&&(J.turn.order=$4.DEFAULT),J.turn.onBegin===void 0&&(J.turn.onBegin=({G:fe})=>fe),J.turn.onEnd===void 0&&(J.turn.onEnd=({G:fe})=>fe),J.turn.endIf===void 0&&(J.turn.endIf=()=>!1),J.turn.onMove===void 0&&(J.turn.onMove=({G:fe})=>fe),J.turn.stages===void 0&&(J.turn.stages={}),yf(J.turn,!0);for(const fe in J.turn.stages){const Ie=J.turn.stages[fe].moves||{};for(const ze of Object.keys(Ie)){const St=B+"."+fe+"."+ze;d[St]=Ie[ze],p.add(ze)}}if(J.wrapped={onBegin:g(J.onBegin,qn.PHASE_ON_BEGIN),onEnd:g(J.onEnd,qn.PHASE_ON_END),endIf:v(J.endIf)},J.turn.wrapped={onMove:g(J.turn.onMove,qn.TURN_ON_MOVE),onBegin:g(J.turn.onBegin,qn.TURN_ON_BEGIN),onEnd:g(J.turn.onEnd,qn.TURN_ON_END),endIf:v(J.turn.endIf)},typeof J.next!="function"){const{next:fe}=J;J.next=()=>fe||null}J.wrapped.next=v(J.next)}function C(B){return B.phase?f[B.phase]:f[""]}function E(B){return B}function M(B,J){const fe=new Set,Ne=new Set;for(let Ie=0;Ie<J.length;Ie++){const{fn:ze,arg:St,...gt}=J[Ie];if(ze===Ce){Ne.clear();const Ut=B.ctx.phase;if(fe.has(Ut)){const Xt={...B.ctx,phase:null};return{...B,ctx:Xt}}fe.add(Ut)}const hn=[];if(B=ze(B,{...gt,arg:St,next:hn}),ze===_e)break;const Nt=K(B);if(Nt){J.push({fn:_e,arg:Nt,turn:B.ctx.turn,phase:B.ctx.phase,automatic:!0});continue}const mt=pe(B);if(mt){J.push({fn:Ce,arg:mt,turn:B.ctx.turn,phase:B.ctx.phase,automatic:!0});continue}if([E,Z,Y].includes(ze)){const Ut=ve(B);if(Ut){J.push({fn:Te,arg:Ut,turn:B.ctx.turn,phase:B.ctx.phase,automatic:!0});continue}}J.push(...hn)}return B}function N(B,{next:J}){return J.push({fn:D}),B}function D(B,{next:J}){let{G:fe,ctx:Ne}=B;return fe=C(Ne).wrapped.onBegin(B),J.push({fn:k}),{...B,G:fe,ctx:Ne}}function k(B,{currentPlayer:J}){let{ctx:fe}=B;const Ne=C(fe);J?(fe={...fe,currentPlayer:J},Ne.turn.activePlayers&&(fe=gf(fe,Ne.turn.activePlayers))):fe=B4(B,Ne.turn);const Ie=fe.turn+1;fe={...fe,turn:Ie,numMoves:0,_prevActivePlayers:[]};const ze=Ne.turn.wrapped.onBegin({...B,ctx:fe});return{...B,G:ze,ctx:fe,_undo:[],_redo:[]}}function j(B,{arg:J,next:fe,phase:Ne}){const Ie=C({phase:Ne});let{ctx:ze}=B;if(J&&J.next)if(J.next in f)ze={...ze,phase:J.next};else return zt("invalid phase: "+J.next),B;else ze={...ze,phase:Ie.wrapped.next(B)||null};return B={...B,ctx:ze},fe.push({fn:D}),B}function F(B,{arg:J,currentPlayer:fe,next:Ne}){let{G:Ie,ctx:ze}=B;const St=C(ze),{endPhase:gt,ctx:hn}=H4(B,fe,St.turn,J);return ze=hn,B={...B,G:Ie,ctx:ze},gt?Ne.push({fn:Ce,turn:ze.turn,phase:ze.phase}):Ne.push({fn:k,currentPlayer:ze.currentPlayer}),B}function Z(B,{arg:J,playerID:fe}){if((typeof J=="string"||J===vf.NULL)&&(J={stage:J}),typeof J!="object")return B;yf(J);let{ctx:Ne}=B,{activePlayers:Ie,_activePlayersMinMoves:ze,_activePlayersMaxMoves:St,_activePlayersNumMoves:gt}=Ne;return J.stage!==void 0&&(Ie===null&&(Ie={}),Ie[fe]=J.stage,gt[fe]=0,J.minMoves&&(ze===null&&(ze={}),ze[fe]=J.minMoves),J.maxMoves&&(St===null&&(St={}),St[fe]=J.maxMoves)),Ne={...Ne,activePlayers:Ie,_activePlayersMinMoves:ze,_activePlayersMaxMoves:St,_activePlayersNumMoves:gt},{...B,ctx:Ne}}function Y(B,{arg:J}){return{...B,ctx:gf(B.ctx,J)}}function K(B){return S.endIf(B)}function pe(B){return C(B.ctx).wrapped.endIf(B)}function ve(B){const J=C(B.ctx),fe=B.ctx.numMoves||0;return J.turn.maxMoves&&fe>=J.turn.maxMoves?!0:J.turn.wrapped.endIf(B)}function _e(B,{arg:J,phase:fe}){B=Ce(B,{}),J===void 0&&(J=!0),B={...B,ctx:{...B.ctx,gameover:J}};const Ne=S.onEnd(B);return{...B,G:Ne}}function Ce(B,{arg:J,next:fe,turn:Ne,automatic:Ie}){B=Te(B,{turn:Ne,force:!0,automatic:!0});const{phase:ze,turn:St}=B.ctx;if(fe&&fe.push({fn:j,arg:J,phase:ze}),ze===null)return B;const hn=C(B.ctx).wrapped.onEnd(B),Nt={...B.ctx,phase:null},mt=Mc("endPhase",J),{_stateID:Ut}=B,Xt={action:mt,_stateID:Ut,turn:St,phase:ze};Ie&&(Xt.automatic=!0);const xn=[...B.deltalog||[],Xt];return{...B,G:hn,ctx:Nt,deltalog:xn}}function Te(B,{arg:J,next:fe,turn:Ne,force:Ie,automatic:ze,playerID:St}){if(Ne!==B.ctx.turn)return B;const{currentPlayer:gt,numMoves:hn,phase:Nt,turn:mt}=B.ctx,Ut=C(B.ctx),Xt=hn||0;if(!Ie&&Ut.turn.minMoves&&Xt<Ut.turn.minMoves)return`${Ut.turn.minMoves}`,B;const xn=Ut.turn.wrapped.onEnd(B);fe&&fe.push({fn:F,arg:J,currentPlayer:gt});let at={...B.ctx,activePlayers:null};if(J&&J.remove){St=St||gt;const Pn=at.playOrder.filter(bs=>bs!=St),xs=at.playOrderPos>Pn.length-1?0:at.playOrderPos;if(at={...at,playOrder:Pn,playOrderPos:xs},Pn.length===0)return fe.push({fn:Ce,turn:mt,phase:Nt}),B}const ht=Mc("endTurn",J),{_stateID:Qt}=B,Tn={action:ht,_stateID:Qt,turn:mt,phase:Nt};ze&&(Tn.automatic=!0);const Gn=[...B.deltalog||[],Tn];return{...B,G:xn,ctx:at,deltalog:Gn,_undo:[],_redo:[]}}function ge(B,{arg:J,next:fe,automatic:Ne,playerID:Ie}){Ie=Ie||B.ctx.currentPlayer;let{ctx:ze,_stateID:St}=B,{activePlayers:gt,_activePlayersNumMoves:hn,_activePlayersMinMoves:Nt,_activePlayersMaxMoves:mt,phase:Ut,turn:Xt}=ze;const xn=gt!==null&&Ie in gt,at=C(ze);if(!J&&xn){const Pn=at.turn.stages[gt[Ie]];Pn&&Pn.next&&(J=Pn.next)}if(fe&&fe.push({fn:Z,arg:J,playerID:Ie}),!xn)return B;const ht=hn[Ie]||0;if(Nt&&Nt[Ie]&&ht<Nt[Ie])return`${Nt[Ie]}`,B;gt={...gt},delete gt[Ie],Nt&&(Nt={...Nt},delete Nt[Ie]),mt&&(mt={...mt},delete mt[Ie]),ze=z4({...ze,activePlayers:gt,_activePlayersMinMoves:Nt,_activePlayersMaxMoves:mt});const Tn={action:Mc("endStage",J),_stateID:St,turn:Xt,phase:Ut};Ne&&(Tn.automatic=!0);const Gn=[...B.deltalog||[],Tn];return{...B,ctx:ze,deltalog:Gn}}function Le(B,J,fe){const Ne=C(B),Ie=Ne.turn.stages,{activePlayers:ze}=B;if(ze&&ze[fe]!==void 0&&ze[fe]!==vf.NULL&&Ie[ze[fe]]!==void 0&&Ie[ze[fe]].moves!==void 0){const gt=Ie[ze[fe]].moves;if(J in gt)return gt[J]}else if(Ne.moves){if(J in Ne.moves)return Ne.moves[J]}else if(J in t)return t[J];return null}function L(B,J){const{playerID:fe,type:Ne}=J,{currentPlayer:Ie,activePlayers:ze,_activePlayersMaxMoves:St}=B.ctx,gt=Le(B.ctx,Ne,fe),hn=!gt||typeof gt=="function"||gt.noLimit!==!0;let{numMoves:Nt,_activePlayersNumMoves:mt}=B.ctx;hn&&(fe===Ie&&Nt++,ze&&mt[fe]++),B={...B,ctx:{...B.ctx,numMoves:Nt,_activePlayersNumMoves:mt}},St&&mt[fe]>=St[fe]&&(B=ge(B,{playerID:fe,automatic:!0}));const Xt=C(B.ctx).turn.wrapped.onMove({...B,playerID:fe});return B={...B,G:Xt},M(B,[{fn:E}])}function ee(B,J,fe){return M(B,[{fn:ge,arg:fe,playerID:J}])}function G(B,J){return M(B,[{fn:ge,playerID:J}])}function Re(B,J,fe){return M(B,[{fn:Y,arg:fe}])}function Ke(B,J,fe){return M(B,[{fn:Ce,phase:B.ctx.phase,turn:B.ctx.turn,arg:{next:fe}}])}function z(B){return M(B,[{fn:Ce,phase:B.ctx.phase,turn:B.ctx.turn}])}function ie(B,J,fe){return M(B,[{fn:Te,turn:B.ctx.turn,phase:B.ctx.phase,arg:fe}])}function le(B,J,fe){return M(B,[{fn:Te,turn:B.ctx.turn,phase:B.ctx.phase,force:!0,arg:fe}])}function xe(B,J,fe){return M(B,[{fn:_e,turn:B.ctx.turn,phase:B.ctx.phase,arg:fe}])}const Se={endStage:G,setStage:ee,endTurn:ie,pass:le,endPhase:z,setPhase:Ke,endGame:xe,setActivePlayers:Re},Ee=[];c.endTurn!==!1&&Ee.push("endTurn"),c.pass!==!1&&Ee.push("pass"),c.endPhase!==!1&&Ee.push("endPhase"),c.setPhase!==!1&&Ee.push("setPhase"),c.endGame!==!1&&Ee.push("endGame"),c.setActivePlayers!==!1&&Ee.push("setActivePlayers"),c.endStage!==!1&&Ee.push("endStage"),c.setStage!==!1&&Ee.push("setStage");function Pe(B,J){const{type:fe,playerID:Ne,args:Ie}=J.payload;return typeof Se[fe]!="function"?B:Se[fe](B,Ne,...Array.isArray(Ie)?Ie:[Ie])}function it(B,J,fe){return J.activePlayers?fe in J.activePlayers:J.currentPlayer===fe}return{ctx:B=>({numPlayers:B,turn:0,currentPlayer:"0",playOrder:[...Array.from({length:B})].map((J,fe)=>fe+""),playOrderPos:0,phase:y,activePlayers:null}),init:B=>M(B,[{fn:N}]),isPlayerActive:it,eventHandlers:Se,eventNames:Object.keys(Se),enabledEventNames:Ee,moveMap:d,moveNames:[...p.values()],processMove:L,processEvent:Pe,getMove:Le}}function Y4(t){return t.processMove!==void 0}function Zc(t){if(Y4(t))return t;if(t.name===void 0&&(t.name="default"),t.deltaState===void 0&&(t.deltaState=!1),t.disableUndo===void 0&&(t.disableUndo=!1),t.setup===void 0&&(t.setup=()=>({})),t.moves===void 0&&(t.moves={}),t.playerView===void 0&&(t.playerView=({G:n})=>n),t.plugins===void 0&&(t.plugins=[]),t.plugins.forEach(n=>{if(n.name===void 0)throw new Error("Plugin missing name attribute");if(n.name.includes(" "))throw new Error(n.name+": Plugin name must not include spaces")}),t.name.includes(" "))throw new Error(t.name+": Game name must not include spaces");const e=F4(t);return{...t,flow:e,moveNames:e.moveNames,pluginNames:t.plugins.map(n=>n.name),processMove:(n,s)=>{let a=e.getMove(n.ctx,s.type,s.playerID);if(bE(a)&&(a=a.move),a instanceof Function){const c=hE(a,qn.MOVE,t.plugins);let u=[];s.args!==void 0&&(u=Array.isArray(s.args)?s.args:[s.args]);const f={...uo(n),G:n.G,ctx:n.ctx,playerID:s.playerID};return c(f,...u)}return zt(`invalid move object: ${s.type}`),n.G}}}function bE(t){return t instanceof Object&&t.move!==void 0}var Bm;(function(t){t.UnauthorizedAction="update/unauthorized_action",t.MatchNotFound="update/match_not_found",t.PatchFailed="update/patch_failed"})(Bm||(Bm={}));var Vn;(function(t){t.StaleStateId="action/stale_state_id",t.UnavailableMove="action/unavailable_move",t.InvalidMove="action/invalid_move",t.InactivePlayer="action/inactive_player",t.GameOver="action/gameover",t.ActionDisabled="action/action_disabled",t.ActionInvalid="action/action_invalid",t.PluginActionInvalid="action/plugin_invalid"})(Vn||(Vn={}));const _u=t=>t.payload.playerID!==null&&t.payload.playerID!==void 0,G4=(t,e,n)=>{function s(c){return c.undoable!==void 0}function a(c){return c instanceof Function}return s(n)?a(n.undoable)?n.undoable({G:t,ctx:e}):n.undoable:!0};function N1(t,e){if(e.game.disableUndo)return t;const n={G:t.G,ctx:t.ctx,plugins:t.plugins,playerID:e.action.payload.playerID||t.ctx.currentPlayer};return e.action.type==="MAKE_MOVE"&&(n.moveType=e.action.payload.type),{...t,_undo:[...t._undo,n],_redo:[]}}function Hp(t,e,n){const s={action:e,_stateID:t._stateID,turn:t.ctx.turn,phase:t.ctx.phase},a=t.plugins.log.data.metadata;return a!==void 0&&(s.metadata=a),typeof n=="object"&&n.redact===!0?s.redact=!0:typeof n=="object"&&n.redact instanceof Function&&(s.redact=n.redact({G:t.G,ctx:t.ctx})),{...t,deltalog:[s]}}function $p(t,e,n){const[s,a]=pE(t,n);return a?[s,Jn(e,Vn.PluginActionInvalid,a)]:[s]}function SE(t){if(!t)return[null,void 0];const{transients:e,...n}=t;return[n,e]}function Jn(t,e,n){return{...t,transients:{error:{type:e,payload:n}}}}const _E=t=>e=>n=>{const s=e(n);switch(n.type){case Gf:return s;default:{const[,a]=SE(t.getState());return typeof a<"u"?(t.dispatch(dE()),{...s,transients:a}):s}}};function Kf({game:t,isClient:e}){return t=Zc(t),(n=null,s)=>{let[a]=SE(n);switch(s.type){case Gf:return a;case qf:{if(a={...a,deltalog:[]},e)return a;if(a.ctx.gameover!==void 0)return zt("cannot call event after game end"),Jn(a,Vn.GameOver);if(_u(s)&&!t.flow.isPlayerActive(a.G,a.ctx,s.payload.playerID))return zt(`disallowed event: ${s.payload.type}`),Jn(a,Vn.InactivePlayer);a=Im(a,{game:t,playerID:s.payload.playerID});let c=t.flow.processEvent(a,s),u;return[c,u]=$p(c,a,{game:t}),u||(c=N1(c,{game:t,action:s}),{...c,_stateID:a._stateID+1})}case zc:{const c=a={...a,deltalog:[]},u=t.flow.getMove(a.ctx,s.payload.type,s.payload.playerID||a.ctx.currentPlayer);if(u===null)return zt(`disallowed move: ${s.payload.type}`),Jn(a,Vn.UnavailableMove);if(e&&u.client===!1)return a;if(a.ctx.gameover!==void 0)return zt("cannot make move after game end"),Jn(a,Vn.GameOver);if(_u(s)&&!t.flow.isPlayerActive(a.G,a.ctx,s.payload.playerID))return zt(`disallowed move: ${s.payload.type}`),Jn(a,Vn.InactivePlayer);a=Im(a,{game:t,playerID:s.payload.playerID});const f=t.processMove(a,s.payload);if(f===Um)return zt(`invalid move: ${s.payload.type} args: ${s.payload.args}`),Jn(a,Vn.InvalidMove);const d={...a,G:f};if(e&&U4(d,{game:t}))return a;if(a=d,e){let y;return[a,y]=$p(a,c,{game:t}),y||{...a,_stateID:a._stateID+1}}a=Hp(a,s,u),a=t.flow.processMove(a,s.payload);let p;return[a,p]=$p(a,c,{game:t}),p||(a=N1(a,{game:t,action:s}),{...a,_stateID:a._stateID+1})}case Yy:case Ky:case Gy:return s.state;case Yf:{if(a={...a,deltalog:[]},t.disableUndo)return zt("Undo is not enabled"),Jn(a,Vn.ActionDisabled);const{G:c,ctx:u,_undo:f,_redo:d,_stateID:p}=a;if(f.length<2)return zt("No moves to undo"),Jn(a,Vn.ActionInvalid);const y=f[f.length-1],g=f[f.length-2];if(_u(s)&&s.payload.playerID!==y.playerID)return zt("Cannot undo other players' moves"),Jn(a,Vn.ActionInvalid);if(y.moveType){const v=t.flow.getMove(g.ctx,y.moveType,y.playerID);if(!G4(c,u,v))return zt("Move cannot be undone"),Jn(a,Vn.ActionInvalid)}return a=Hp(a,s),{...a,G:g.G,ctx:g.ctx,plugins:g.plugins,_stateID:p+1,_undo:f.slice(0,-1),_redo:[y,...d]}}case Ff:{if(a={...a,deltalog:[]},t.disableUndo)return zt("Redo is not enabled"),Jn(a,Vn.ActionDisabled);const{_undo:c,_redo:u,_stateID:f}=a;if(u.length===0)return zt("No moves to redo"),Jn(a,Vn.ActionInvalid);const d=u[0];return _u(s)&&s.payload.playerID!==d.playerID?(zt("Cannot redo other players' moves"),Jn(a,Vn.ActionInvalid)):(a=Hp(a,s),{...a,G:d.G,ctx:d.ctx,plugins:d.plugins,_stateID:f+1,_undo:[...c,d],_redo:u.slice(1)})}case rE:return k4(a,s,{game:t});case Xy:{const c=a,u=JSON.parse(JSON.stringify(c)),f=xE.applyPatch(u,s.patch);return f.some(p=>p!==null)?(zt(`Patch ${JSON.stringify(s.patch)} apply failed`),Jn(c,Bm.PatchFailed,f)):u}default:return a}}}function Jy({game:t,numPlayers:e,setupData:n}){t=Zc(t),e||(e=2);const s=t.flow.ctx(e);let a={G:{},ctx:s,plugins:{}};a=j4(a,{game:t}),a=Im(a,{game:t,playerID:void 0});const c=uo(a);a.G=t.setup({...c,ctx:a.ctx},n);let u={...a,_undo:[],_redo:[],_stateID:0};return u=t.flow.init(u),[u]=pE(u,{game:t}),t.disableUndo||(u._undo=[{G:u.G,ctx:u.ctx,plugins:u.plugins}]),u}let Xf=class{constructor({transportDataCallback:e,gameName:n,playerID:s,matchID:a,credentials:c,numPlayers:u}){this.connectionStatusCallback=()=>{},this.isConnected=!1,this.transportDataCallback=e,this.gameName=n||"default",this.playerID=s||null,this.matchID=a||"default",this.credentials=c,this.numPlayers=u||2}subscribeToConnectionStatus(e){this.connectionStatusCallback=e}setConnectionStatus(e){this.isConnected=e,this.connectionStatusCallback()}notifyClient(e){this.transportDataCallback(e)}};var Bc;(function(t){t[t.SYNC=0]="SYNC",t[t.ASYNC=1]="ASYNC"})(Bc||(Bc={}));function Zi(t){return t.type()===Bc.SYNC}class K4{type(){return Bc.ASYNC}async createMatch(e,n){if(this.createGame)return console.warn("The database connector does not implement a createMatch method.",`
Using the deprecated createGame method instead.`),this.createGame(e,n);console.error("The database connector does not implement a createMatch method.")}async listMatches(e){if(this.listGames)return console.warn("The database connector does not implement a listMatches method.",`
Using the deprecated listGames method instead.`),this.listGames(e);console.error("The database connector does not implement a listMatches method.")}}class wE{type(){return Bc.SYNC}connect(){}createMatch(e,n){if(this.createGame)return console.warn("The database connector does not implement a createMatch method.",`
Using the deprecated createGame method instead.`),this.createGame(e,n);console.error("The database connector does not implement a createMatch method.")}listMatches(e){if(this.listGames)return console.warn("The database connector does not implement a listMatches method.",`
Using the deprecated listGames method instead.`),this.listGames(e);console.error("The database connector does not implement a listMatches method.")}}const X4=({game:t,unlisted:e,setupData:n,numPlayers:s})=>{const a={gameName:t.name,unlisted:!!e,players:{},createdAt:Date.now(),updatedAt:Date.now()};n!==void 0&&(a.setupData=n);for(let c=0;c<s;c++)a.players[c]={id:c};return a},CE=({game:t,numPlayers:e,setupData:n,unlisted:s})=>{(!e||typeof e!="number")&&(e=2);const a=t.validateSetupData&&t.validateSetupData(n,e);if(a!==void 0)return{setupDataError:a};const c=X4({game:t,numPlayers:e,setupData:n,unlisted:s}),u=Jy({game:t,numPlayers:e,setupData:n});return{metadata:c,initialState:u}},wu=(t,e,n)=>({...n,G:t.playerView({G:n.G,ctx:n.ctx,playerID:e}),plugins:mE(n,{playerID:e,game:t}),deltalog:void 0,_undo:[],_redo:[]}),EE=t=>(e,n)=>{switch(n.type){case"patch":{const[s,a,c,u]=n.args,f=Vp(u.deltalog,e),d=wu(t,e,u),p=u._stateID,y=wu(t,e,c),g=xE.createPatch(y,d);return{type:"patch",args:[s,a,p,g,f]}}case"update":{const[s,a]=n.args,c=Vp(a.deltalog,e),u=wu(t,e,a);return{type:"update",args:[s,u,c]}}case"sync":{const[s,a]=n.args,c=wu(t,e,a.state),u=Vp(a.log,e),f={...a,state:c,log:u};return{type:"sync",args:[s,f]}}default:return n}};function Vp(t,e){return t===void 0?t:t.map(n=>{if(e!==null&&+e==+n.action.payload.playerID||n.redact!==!0)return n;const s={...n.action.payload,args:null},a={...n,action:{...n.action,payload:s}},{redact:c,...u}=a;return u})}const Q4=Object.freeze(Object.defineProperty({__proto__:null,Async:K4,CreateGameReducer:Kf,InitializeGame:Jy,ProcessGameConfig:Zc,Sync:wE,Transport:Xf,createMatch:CE,getFilterPlayerView:EE},Symbol.toStringTag,{value:"Module"})),Wy=bf(Q4);var Ji={};function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function Z4(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(Hc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J4(t){var e=Z4(t,"string");return Hc(e)=="symbol"?e:e+""}function W4(t,e,n){return(e=J4(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function k1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D1(Object(n),!0).forEach(function(s){W4(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D1(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function xr(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var j1=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),L1=function(){return Math.random().toString(36).substring(7).split("").join(".")},U1={INIT:"@@redux/INIT"+L1(),REPLACE:"@@redux/REPLACE"+L1()};function e5(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function eg(t,e,n){var s;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(xr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(xr(1));return n(eg)(t,e)}if(typeof t!="function")throw new Error(xr(2));var a=t,c=e,u=[],f=u,d=!1;function p(){f===u&&(f=u.slice())}function y(){if(d)throw new Error(xr(3));return c}function g(E){if(typeof E!="function")throw new Error(xr(4));if(d)throw new Error(xr(5));var M=!0;return p(),f.push(E),function(){if(M){if(d)throw new Error(xr(6));M=!1,p();var D=f.indexOf(E);f.splice(D,1),u=null}}}function v(E){if(!e5(E))throw new Error(xr(7));if(typeof E.type>"u")throw new Error(xr(8));if(d)throw new Error(xr(9));try{d=!0,c=a(c,E)}finally{d=!1}for(var M=u=f,N=0;N<M.length;N++){var D=M[N];D()}return E}function S(E){if(typeof E!="function")throw new Error(xr(10));a=E,v({type:U1.REPLACE})}function C(){var E,M=g;return E={subscribe:function(D){if(typeof D!="object"||D===null)throw new Error(xr(11));function k(){D.next&&D.next(y())}k();var j=M(k);return{unsubscribe:j}}},E[j1]=function(){return this},E}return v({type:U1.INIT}),s={dispatch:v,subscribe:g,getState:y,replaceReducer:S},s[j1]=C,s}function TE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(s){return s}:e.length===1?e[0]:e.reduce(function(s,a){return function(){return s(a.apply(void 0,arguments))}})}function RE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(s){return function(){var a=s.apply(void 0,arguments),c=function(){throw new Error(xr(15))},u={getState:a.getState,dispatch:function(){return c.apply(void 0,arguments)}},f=e.map(function(d){return d(u)});return c=TE.apply(void 0,f)(a.dispatch),k1(k1({},a),{},{dispatch:c})}}}const I1=t=>Object.values(t.players).map(e=>{const{credentials:n,...s}=e;return s}),t5=t=>{const{credentials:e,...n}=t.payload;return{...t,payload:n}};class AE{constructor(e,n,s,a){this.game=Zc(e),this.storageAPI=n,this.transportAPI=s,this.subscribeCallback=()=>{},this.auth=a}subscribe(e){this.subscribeCallback=e}async onUpdate(e,n,s,a){if(!e||!e.payload)return{error:"missing action or action payload"};let c;if(Zi(this.storageAPI)?{metadata:c}=this.storageAPI.fetch(s,{metadata:!0}):{metadata:c}=await this.storageAPI.fetch(s,{metadata:!0}),this.auth&&!await this.auth.authenticateCredentials({playerID:a,credentials:e.payload.credentials,metadata:c}))return{error:"unauthorized action"};const u=t5(e),f=s;let d;if(Zi(this.storageAPI)?{state:d}=this.storageAPI.fetch(f,{state:!0}):{state:d}=await this.storageAPI.fetch(f,{state:!0}),d===void 0)return zt(`game not found, matchID=[${f}]`),{error:"game not found"};if(d.ctx.gameover!==void 0){zt(`game over - matchID=[${f}] - playerID=[${a}] - action[${u.payload.type}]`);return}const p=Kf({game:this.game}),y=RE(_E),g=eg(p,d,y);if(u.type==Yf||u.type==Ff){const N=d.ctx.activePlayers!==null,D=d.ctx.currentPlayer===a;if(!N&&!D||N&&(d.ctx.activePlayers[a]===void 0||Object.keys(d.ctx.activePlayers).length>1)){zt(`playerID=[${a}] cannot undo / redo right now`);return}}if(!this.game.flow.isPlayerActive(d.G,d.ctx,a)){zt(`player not active - playerID=[${a}] - action[${u.payload.type}]`);return}const v=u.type==zc?this.game.flow.getMove(d.ctx,u.payload.type,a):null;if(u.type==zc&&!v){zt(`move not processed - canPlayerMakeMove=false - playerID=[${a}] - action[${u.payload.type}]`);return}if(d._stateID!==n&&!(v&&bE(v)&&v.ignoreStaleStateID)){zt(`invalid stateID, was=[${n}], expected=[${d._stateID}] - playerID=[${a}] - action[${u.payload.type}]`);return}const S=g.getState();g.dispatch(u),d=g.getState(),this.subscribeCallback({state:d,action:u,matchID:s}),this.game.deltaState?this.transportAPI.sendAll({type:"patch",args:[s,n,S,d]}):this.transportAPI.sendAll({type:"update",args:[s,d]});const{deltalog:C,...E}=d;let M;if(c&&(c.gameover===void 0||c.gameover===null)&&(M={...c,updatedAt:Date.now()},d.ctx.gameover!==void 0&&(M.gameover=d.ctx.gameover)),Zi(this.storageAPI))this.storageAPI.setState(f,E,C),M&&this.storageAPI.setMetadata(f,M);else{const N=[this.storageAPI.setState(f,E,C)];M&&N.push(this.storageAPI.setMetadata(f,M)),await Promise.all(N)}}async onSync(e,n,s,a=2){const c=e,u={state:!0,metadata:!0,log:!0,initialState:!0},f=Zi(this.storageAPI)?this.storageAPI.fetch(c,u):await this.storageAPI.fetch(c,u);let{state:d,initialState:p,log:y,metadata:g}=f;if(this.auth&&n!==void 0&&n!==null&&!await this.auth.authenticateCredentials({playerID:n,credentials:s,metadata:g}))return{error:"unauthorized"};if(d===void 0){const C=CE({game:this.game,unlisted:!0,numPlayers:a,setupData:void 0});if("setupDataError"in C)return{error:"game requires setupData"};p=d=C.initialState,g=C.metadata,this.subscribeCallback({state:d,matchID:e}),Zi(this.storageAPI)?this.storageAPI.createMatch(c,{initialState:p,metadata:g}):await this.storageAPI.createMatch(c,{initialState:p,metadata:g})}const v=g?I1(g):void 0,S={state:d,log:y,filteredMetadata:v,initialState:p};this.transportAPI.send({playerID:n,type:"sync",args:[e,S]})}async onConnectionChange(e,n,s,a){const c=e;if(n==null)return;let u;if(Zi(this.storageAPI)?{metadata:u}=this.storageAPI.fetch(c,{metadata:!0}):{metadata:u}=await this.storageAPI.fetch(c,{metadata:!0}),u===void 0)return zt(`metadata not found for matchID=[${c}]`),{error:"metadata not found"};if(u.players[n]===void 0)return zt(`Player not in the match, matchID=[${c}] playerID=[${n}]`),{error:"player not in the match"};if(this.auth&&!await this.auth.authenticateCredentials({playerID:n,credentials:s,metadata:u}))return{error:"unauthorized"};u.players[n].isConnected=a;const f=I1(u);this.transportAPI.sendAll({type:"matchData",args:[e,f]}),Zi(this.storageAPI)?this.storageAPI.setMetadata(c,u):await this.storageAPI.setMetadata(c,u)}async onChatMessage(e,n,s){const a=e;if(this.auth){const{metadata:c}=await this.storageAPI.fetch(a,{metadata:!0});if(!(n&&typeof n.sender=="string"))return{error:"unauthorized"};if(!await this.auth.authenticateCredentials({playerID:n.sender,credentials:s,metadata:c}))return{error:"unauthorized"}}this.transportAPI.sendAll({type:"chat",args:[e,n]})}}const n5=Object.freeze(Object.defineProperty({__proto__:null,Master:AE},Symbol.toStringTag,{value:"Module"})),r5=bf(n5);var mc={},z1;function s5(){if(z1)return mc;z1=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.P2PDB=void 0;const t=Wy;class e extends t.Sync{constructor(){super(...arguments),this.initialState=new Map,this.state=new Map,this.log=new Map,this.metadata=new Map}connect(){}createMatch(s,a){this.initialState.set(s,a.initialState),this.state.set(s,a.initialState),this.log.set(s,[]),this.metadata.set(s,a.metadata)}setState(s,a,c){this.state.set(s,a),c&&this.log.set(s,[...this.log.get(s)||[],...c])}setMetadata(s,a){this.metadata.set(s,a)}fetch(s){return{initialState:this.initialState.get(s),state:this.state.get(s),log:this.log.get(s),metadata:this.metadata.get(s)}}wipe(s){this.initialState.delete(s),this.state.delete(s),this.log.delete(s),this.metadata.delete(s)}listMatches(){return[...this.metadata.keys()]}}return mc.P2PDB=e,mc}var Fs={},B1;function Hm(){if(B1)return Fs;B1=1,Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.authenticate=Fs.signMessage=Fs.generateCredentials=void 0;const t=JC(),e=WC();function n(){return(0,e.encodeBase64)((0,t.randomBytes)(64))}Fs.generateCredentials=n;function s(u,f,d){try{const p=t.sign.open((0,e.decodeBase64)(u),(0,e.decodeBase64)(f));return p!==null&&(0,e.encodeUTF8)(p)===d}catch{return!1}}function a(u,f){return(0,e.encodeBase64)((0,t.sign)((0,e.decodeUTF8)(u),(0,e.decodeBase64)(f)))}Fs.signMessage=a;function c(u,f,d){const{playerID:p,credentials:y,message:g}=f,{metadata:v}=d.fetch(u);if(p==null||!(+p in v.players))return!0;const S=v.players[+p].credentials,C=y?!!g&&s(g,y,p):!1;return!S&&C?(d.setMetadata(u,Object.assign(Object.assign({},v),{players:Object.assign(Object.assign({},v.players),{[+p]:Object.assign(Object.assign({},v.players[+p]),{credentials:y})})})),!0):!!(!S&&!y||S&&S===y&&C)}return Fs.authenticate=c,Fs}var H1;function i5(){if(H1)return Ji;H1=1;var t=Ji&&Ji.__rest||function(u,f){var d={};for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&f.indexOf(p)<0&&(d[p]=u[p]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,p=Object.getOwnPropertySymbols(u);y<p.length;y++)f.indexOf(p[y])<0&&Object.prototype.propertyIsEnumerable.call(u,p[y])&&(d[p[y]]=u[p[y]]);return d};Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.P2PHost=void 0;const e=Wy,n=r5,s=s5(),a=Hm();class c{constructor({game:f,numPlayers:d=2,matchID:p}){this.clients=new Map,this.matchID=p,(!f.name||f.name==="default")&&console.error('Using "default" as your game name.\nPlease set the `name` property of your game definition to a unique string to help avoid peer ID conflicts.');const y=(0,e.createMatch)({game:f,numPlayers:d,unlisted:!1,setupData:void 0});if("setupDataError"in y)throw new Error("setupData Error: "+y.setupDataError);this.db=new s.P2PDB,this.db.createMatch(this.matchID,y);const g=(0,e.getFilterPlayerView)(f);this.master=new n.Master(f,this.db,{send:v=>{var{playerID:S}=v,C=t(v,["playerID"]);const E=g(S,C);for(const[M]of this.clients)M.metadata.playerID===S&&M.send(E)},sendAll:v=>{for(const[S]of this.clients){const C=g(S.metadata.playerID,v);S.send(C)}}})}registerClient(f){if(!this.authenticateClient(f))return;const{playerID:p,credentials:y}=f.metadata;this.clients.set(f,f),this.master.onConnectionChange(this.matchID,p,y,!0)}authenticateClient(f){return(0,a.authenticate)(this.matchID,f.metadata,this.db)}unregisterClient(f){const{credentials:d,playerID:p}=f.metadata;this.clients.delete(f),this.master.onConnectionChange(this.matchID,p,d,!1)}processAction(f){switch(f.type){case"update":this.master.onUpdate(...f.args);break;case"chat":this.master.onChatMessage(...f.args);break;case"sync":this.master.onSync(...f.args);break}}}return Ji.P2PHost=c,Ji}var $1;function a5(){return $1||($1=1,(function(t){var e=Qi&&Qi.__rest||function(S,C){var E={};for(var M in S)Object.prototype.hasOwnProperty.call(S,M)&&C.indexOf(M)<0&&(E[M]=S[M]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var N=0,M=Object.getOwnPropertySymbols(S);N<M.length;N++)C.indexOf(M[N])<0&&Object.prototype.propertyIsEnumerable.call(S,M[N])&&(E[M[N]]=S[M[N]]);return E},n=Qi&&Qi.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(t,"__esModule",{value:!0}),t.P2P=t.generateCredentials=void 0;const s=n(i4),a=JC(),c=WC(),u=Wy,f=i5(),d=Hm();var p=Hm();Object.defineProperty(t,"generateCredentials",{enumerable:!0,get:function(){return p.generateCredentials}});class y{constructor(){this.initialInterval=500,this.maxInterval=32e3,this.interval=this.initialInterval}cancelTask(){this.taskID&&(clearTimeout(this.taskID),delete this.taskID)}schedule(C){this.cancelTask(),this.taskID=setTimeout(()=>{this.interval<this.maxInterval&&(this.interval*=2),C()},this.interval)}clear(){this.cancelTask(),this.interval=this.initialInterval}}class g extends u.Transport{constructor(C){var{isHost:E,onError:M=()=>{},peerOptions:N={}}=C,D=e(C,["isHost","onError","peerOptions"]);super(D),this.peer=null,this.isHost=!!E,this.onError=M,this.peerOptions=N,this.game=D.game,this.retryHandler=new y,this.setCredentials(D.credentials)}get hostID(){if(!this.matchID)throw new Error("matchID must be provided");return`boardgameio-${this.gameName}-matchid-${this.matchID}`.replace(/([^A-Za-z0-9_-]|^[_-]+|[_-]+$)/g,"").replace(/([_-])[_-]+/g,"$1")}setCredentials(C){if(!C){this.privateKey=this.credentials=void 0;return}const E=(0,a.hash)((0,c.decodeUTF8)(C)).slice(0,32),{publicKey:M,secretKey:N}=a.sign.keyPair.fromSeed(E);this.credentials=(0,c.encodeBase64)(M),this.privateKey=(0,c.encodeBase64)(N)}get metadata(){return{playerID:this.playerID,credentials:this.credentials,message:this.playerID&&this.privateKey?(0,d.signMessage)(this.playerID,this.privateKey):void 0}}connect(){if(this.peer=new s.default(this.isHost?this.hostID:void 0,this.peerOptions),this.isHost){const C=new f.P2PHost({game:this.game,numPlayers:this.numPlayers,matchID:this.matchID});this.emit=E=>void C.processAction(E),C.registerClient({send:E=>void this.notifyClient(E),metadata:this.metadata}),this.peer.on("connection",E=>{C.registerClient(E),E.on("data",M=>{C.processAction(M)}),E.on("close",()=>void C.unregisterClient(E)),window&&window.addEventListener("beforeunload",()=>E.close())}),this.peer.on("error",E=>this.onError(E)),this.onConnect()}else this.peer.on("open",()=>void this.connectToHost()),this.peer.on("error",C=>{const E=C;E.type==="network"||E.type==="peer-unavailable"?this.retryHandler.schedule(()=>void this.connectToHost()):this.onError(E)})}connectToHost(){if(!this.peer)return;const C=this.peer.connect(this.hostID,{metadata:this.metadata});this.emit=E=>void C.send(E),C.on("open",()=>void this.onConnect()),C.on("data",E=>void this.notifyClient(E)),window&&window.addEventListener("beforeunload",()=>C.close())}onConnect(){this.retryHandler.clear(),this.setConnectionStatus(!0),this.requestSync()}disconnect(){this.peer&&this.peer.destroy(),this.peer=null,this.retryHandler.clear(),this.setConnectionStatus(!1)}requestSync(){this.emit&&this.emit({type:"sync",args:[this.matchID,this.playerID,this.credentials,this.numPlayers]})}sendAction(C,E){this.emit&&this.emit({type:"update",args:[E,C._stateID,this.matchID,this.playerID]})}sendChatMessage(C,E){this.emit&&this.emit({type:"chat",args:[C,E,this.credentials]})}reconnect(){this.disconnect(),this.connect()}updateMatchID(C){this.matchID=C,this.reconnect()}updatePlayerID(C){this.playerID=C,this.reconnect()}updateCredentials(C){this.setCredentials(C),this.reconnect()}}const v=(S={})=>C=>new g(Object.assign(Object.assign({},C),S));t.P2P=v})(Qi)),Qi}var ds=a5();const qp=(t,e)=>{const n=t.currentRound;!n||n.currentPlayerId===null||t.phase==="guessing"&&(n.revealSongOwnerId=n.currentPlayerId,n.revealSongIndex=n.currentSongIndex,t.timer=null,t.phase="song_reveal",e?.setPhase?.("song_reveal"))},o5=(t,e)=>{const n=t.currentRound;if(!n)return;const s=n.playOrder.length,c=(n.revealSongIndex??n.currentSongIndex??0)+1;if(n.guesses={},n.correctGuessers={},n.revealSongOwnerId=null,n.revealSongIndex=null,n.currentSongIndex=c,c<s){const u=n.playOrder[c]??null;if(n.currentPlayerId=u??null,n.currentPlayerId){t.timer=t.settings.playbackDuration,t.phase="guessing",e?.setPhase?.("guessing");return}}n.currentPlayerId=null,t.timer=null,t.phase="round_results",e?.setPhase?.("round_results")},$c=8,c5={name:"music-showdown",minPlayers:2,maxPlayers:$c,setup:()=>({phase:"lobby",players:{},settings:{playbackDuration:30,totalRounds:3},currentRound:null,totalRounds:3,completedRounds:0,timer:null,maxPlayers:$c,lobbyOrder:[]}),phases:{lobby:{start:!0,moves:{updateSettings:({G:t,playerID:e},n)=>{t.players[e]?.isHost&&(t.settings={...t.settings,...n},t.totalRounds=n.totalRounds||t.totalRounds)},startGame:({G:t,playerID:e,events:n})=>{t.players[e]?.isHost&&(t.phase="theme_selection",n?.setPhase?.("theme_selection"))},setPlayerName:({G:t,playerID:e},n)=>{if(!e)return;const s=n.trim().slice(0,24);if(!s)return;const a=t.players[e];if(!(!a&&Object.keys(t.players).length>=t.maxPlayers)){if(a){a.name=s,a.connected=!0,t.lobbyOrder=t.lobbyOrder.filter(c=>c!==e),t.lobbyOrder.includes(e)||t.lobbyOrder.push(e);return}t.players[e]={id:e,name:s,score:0,isHost:e==="0",connected:!0},t.lobbyOrder=t.lobbyOrder.filter(c=>c!==e),t.lobbyOrder.includes(e)||t.lobbyOrder.push(e)}}},next:"theme_selection"},theme_selection:{moves:{setTheme:({G:t,playerID:e},n)=>{t.players[e]?.isHost&&(t.currentRound?t.currentRound.theme=n:t.currentRound={roundNumber:t.completedRounds+1,theme:n,songSelections:{},currentSongIndex:0,currentPlayerId:null,guesses:{},roundScores:{},playOrder:[],correctGuessers:{},guessLog:[],revealSongOwnerId:null,revealSongIndex:null})},confirmTheme:({G:t,playerID:e,events:n})=>{!t.players[e]?.isHost||!t.currentRound?.theme||(t.timer=null,t.phase="song_picking",n?.setPhase?.("song_picking"))}},next:"song_picking"},song_picking:{moves:{selectSong:({G:t,playerID:e},n)=>{const s=t.currentRound;!s||Object.entries(s.songSelections).find(([c,u])=>c!==e&&u.videoId===n.videoId)||(s.songSelections[e]=n)}},endIf:({G:t})=>{if(!t.currentRound)return!1;const n=Object.values(t.players).filter(s=>s.connected).length;return n===0?!1:Object.keys(t.currentRound.songSelections).length>=n},next:"guessing",onEnd:({G:t,ctx:e,events:n})=>{if(!t.currentRound)return;const s=Object.keys(t.currentRound.songSelections),a=e.random,c=a?.Shuffle?a.Shuffle(s):[...s].sort(()=>Math.random()-.5);if(t.currentRound.playOrder=c,t.currentRound.currentSongIndex=0,t.currentRound.guesses={},t.currentRound.correctGuessers={},t.currentRound.revealSongOwnerId=null,t.currentRound.revealSongIndex=null,c.length===0){t.currentRound.currentPlayerId=null,t.timer=null,t.phase="round_results",n?.setPhase?.("round_results");return}t.currentRound.currentPlayerId=c[0],t.timer=t.settings.playbackDuration,t.phase="guessing"}},guessing:{moves:{submitGuess:({G:t,ctx:e,playerID:n,events:s},a)=>{if(!t.currentRound||!t.currentRound.currentPlayerId||n===t.currentRound.currentPlayerId)return;const c=t.currentRound.guesses[n]??[];if(c.some(N=>N.isCorrect))return;const f=t.settings.playbackDuration-(t.timer||0),d=t.currentRound.songSelections[t.currentRound.currentPlayerId],p=!!(d&&UP(a,d.customTitle)),y={guess:a,time:f,isCorrect:p};t.currentRound.guesses[n]=[...c,y];const g=e.random,v={id:g?.UUID?g.UUID():`${t.currentRound.roundNumber}-${n}-${Date.now()}`,playerId:n,playerName:t.players[n]?.name??`Player ${n}`,guess:a,time:f,isCorrect:p,songOwnerId:t.currentRound.currentPlayerId,songOwnerName:t.currentRound.currentPlayerId&&t.players[t.currentRound.currentPlayerId]?t.players[t.currentRound.currentPlayerId].name:null,songIndex:t.currentRound.currentSongIndex};if(t.currentRound.guessLog=[...t.currentRound.guessLog,v],p){t.currentRound.correctGuessers[n]=!0;let N=!0;for(const[j,F]of Object.entries(t.currentRound.guesses))if(j!==n){for(const Z of F)if(Z.isCorrect){Z.time<f&&(N=!1);break}if(!N)break}const D=LP(!0,f,t.settings.playbackDuration,N),k=t.players[n];k&&(k.score+=D,t.currentRound.roundScores[n]=(t.currentRound.roundScores[n]||0)+D)}const S=Object.values(t.players).filter(N=>N.connected),C=t.currentRound.currentPlayerId,E=S.filter(N=>N.id!==C).length,M=Object.values(t.currentRound.correctGuessers).filter(Boolean).length;if(E===0||E>0&&M>=E){qp(t,s);return}},tickTimer:({G:t,playerID:e,events:n})=>{if(t.players[e]?.isHost&&t.timer!==null){if(t.timer<=0){t.timer=0,qp(t,n);return}t.timer-=1,t.timer<=0&&(t.timer=0,qp(t,n))}}}},song_reveal:{moves:{continueReveal:({G:t,playerID:e,events:n})=>{t.players[e]?.isHost&&o5(t,n)}},next:"guessing"},round_results:{moves:{nextRound:({G:t,playerID:e,events:n})=>{t.players[e]?.isHost&&(t.completedRounds++,t.completedRounds<t.totalRounds?(t.currentRound=null,t.timer=null,t.phase="theme_selection",n?.setPhase?.("theme_selection")):(t.timer=null,t.phase="game_over",n?.setPhase?.("game_over")))}},next:"theme_selection"},game_over:{moves:{restartLobby:({G:t,playerID:e,events:n})=>{if(t.players[e]?.isHost){for(const a of Object.values(t.players))a.score=0;t.currentRound=null,t.completedRounds=0,t.timer=null,t.totalRounds=t.settings.totalRounds,t.phase="lobby",n?.setPhase?.("lobby")}},endGame:({G:t,events:e})=>{t.phase="lobby",e?.endGame?.()}}}},turn:{activePlayers:{all:"default"}}},OE="musicshowdown.identity",cs="0",oa=1,$m=Math.max(oa,$c-1),Pc="spectator",Jc=t=>`${OE}.${t}`,tg=t=>`${OE}.${t}.used`,V1=(t,e)=>{if(t==="host")return e===cs;const n=Number(e);return Number.isInteger(n)&&n>=oa&&n<=$m},fo=t=>{if(typeof window>"u")return new Set;const e=localStorage.getItem(tg(t));if(!e)return new Set;try{const n=JSON.parse(e);return new Set(n)}catch{return new Set}},fa=(t,e)=>{typeof window>"u"||localStorage.setItem(tg(t),JSON.stringify(Array.from(e)))},xf=(t,e)=>{for(let s=oa;s<=$m;s++){const a=String(s);if(!e.has(a))return e.add(a),fa(t,e),a}const n=String(Math.min($m,Math.max(oa,e.size+oa)));return e.add(n),fa(t,e),n},l5=(t,e,n)=>{if(e==="host")return{playerID:cs,credentials:ds.generateCredentials(),role:e,playerName:n};const s=fo(t);return{playerID:xf(t,s),credentials:ds.generateCredentials(),role:e,playerName:n}};function ng(t){if(typeof window>"u")return null;const e=localStorage.getItem(Jc(t));if(!e)return null;try{return JSON.parse(e)}catch{return null}}function ME(t){return{playerID:Pc,credentials:"",role:"spectator",playerName:t}}function u5(t,e,n){if(typeof window>"u")return{playerID:n??String(oa),credentials:ds.generateCredentials(),role:"peer",playerName:e};const s=fo(t);let a=n;a&&(s.has(a)?a=void 0:(s.add(a),fa(t,s)));const c={playerID:a??xf(t,s),credentials:ds.generateCredentials(),role:"peer",playerName:e};return s.add(c.playerID),fa(t,s),localStorage.setItem(Jc(t),JSON.stringify(c)),c}function f5(t,e){if(typeof window>"u"||!e||e===cs)return;const n=fo(t);n.delete(e)&&fa(t,n)}function PE(t,e,n){const s=e==="spectator"?"peer":e;if(typeof window>"u")return{playerID:s==="host"?cs:String(oa),credentials:ds.generateCredentials(),role:s,playerName:n};const a=Jc(t),c=ng(t),u=fo(t);if(c){let d=c.playerID,p=c.credentials;V1(c.role,c.playerID)||(u.delete(c.playerID),d=c.role==="host"?cs:xf(t,u),p=ds.generateCredentials());const y=c.role==="host"?"host":s,g=y==="host"?cs:d,v={...c,role:y,playerName:n||c.playerName,playerID:g,credentials:p};return V1(v.role,v.playerID)||(u.delete(v.playerID),v.playerID=v.role==="host"?cs:xf(t,u),v.credentials=ds.generateCredentials()),localStorage.setItem(a,JSON.stringify(v)),v}const f=l5(t,s,n);if(s==="peer"){const d=fo(t);d.add(f.playerID),fa(t,d)}return localStorage.setItem(a,JSON.stringify(f)),f}function d5(t,e){const n=e.trim().slice(0,24);if(typeof window>"u")return{playerID:cs,credentials:ds.generateCredentials(),role:"host",playerName:n||e||"Player"};const s=Jc(t),a=fo(t),c=ng(t);c&&c.playerID!==cs&&(a.delete(c.playerID),fa(t,a));const u=n||c?.playerName||"Player",f={playerID:cs,credentials:ds.generateCredentials(),role:"host",playerName:u};localStorage.setItem(s,JSON.stringify(f));try{sessionStorage.setItem("musicshowdown.lastRole","host")}catch{}return f}function h5(t){typeof window>"u"||(localStorage.removeItem(Jc(t)),localStorage.removeItem(tg(t)))}function Vm(t){return[t]}function yc(t,e){const n=t&&Number.isFinite(t)&&t>0?Math.floor(t):NE;return Math.max(0,n-e)}function Cu(t,e=NE){return Number.isNaN(t)||t<0?0:Math.min(Math.floor(t),e)}function qm(t){const e=Math.max(0,Math.floor(t)),n=Math.floor(e/60),s=e%60;return n===0?`${e}s`:`${n}:${s.toString().padStart(2,"0")}`}const Qa=["1960s","1970s","1980s","1990s","2000s","2010s","2020s","Game Soundtracks","Movie Soundtracks","Alternative Rock","FIFA Soundtracks","R&B Grooves","Classic Hip-Hop","Indie Favorites","Top 40 Hits","Chill Electronic","Country Classics","Classic Rock","Modern Country","Reggae Classics","Funk Essentials"],NE=600;function p5({headerControls:t,currentRound:e,settings:n,themeValue:s,isHost:a,handleThemeChange:c,handleRandomTheme:u,mySelection:f,moves:d,effectivePlayerId:p,playerLookup:y,toast:g}){const[v,S]=T.useState(null),[C,E]=T.useState(""),[M,N]=T.useState(0),[D,k]=T.useState(!1),j=T.useRef(null),[F,Z]=T.useState(()=>yc(null,n.playbackDuration)),Y=s.trim().length>0,K=e?.songSelections??{},pe=T.useMemo(()=>Array.from(y.values()).filter(L=>L.connected),[y]),ve=T.useCallback(()=>{const L=j.current?.getDuration?.(),ee=yc(L,n.playbackDuration);Z(G=>G===ee?G:ee),N(G=>{const Re=Cu(G,ee);return Re!==G?(j.current?.seekTo?.(Re,!0),Re):G})},[n.playbackDuration]);T.useEffect(()=>{ve()},[ve]);const _e=T.useCallback(L=>{S(L),E(ef(L.title)),N(0),k(!1),j.current=null,Z(yc(null,n.playbackDuration))},[n.playbackDuration]),Ce=T.useCallback(()=>{const L=C.trim();if(!v||!L||!e)return;const ee=Object.entries(e.songSelections??{}).find(([G,Re])=>G!==p&&Re.videoId===v.id);if(ee){const[G]=ee,Ke=y.get(G)?.name??"Another player";g({title:"Song already taken",description:`${Ke} has already locked this song. Pick a different one.`,variant:"destructive"});return}j.current?.stopVideo?.(),d.selectSong?.({videoId:v.id,originalTitle:v.title,customTitle:ef(C),thumbnail:v.thumbnail,startSeconds:M}),g({title:"Song selected",description:"Waiting for other players..."}),S(null),E(""),N(0),k(!1),j.current=null,Z(yc(null,n.playbackDuration))},[C,e,p,d,y,v,n.playbackDuration,M,g]),Te=T.useCallback(()=>{const L=j.current;if(!L)return;L.getPlayerState?.()===window.YT?.PlayerState?.PLAYING?(L.pauseVideo?.(),k(!1)):(L.seekTo?.(M,!0),L.playVideo?.(),k(!0))},[M,D]),ge=T.useCallback(L=>{j.current=L;const ee=L.getDuration?.(),G=yc(ee,n.playbackDuration);Z(G),N(Re=>{const Ke=Cu(Re,G);return Ke!==Re?(L.seekTo?.(Ke,!0),Ke):Re}),L.seekTo?.(M,!0),D?L.playVideo?.():L.pauseVideo?.()},[D,n.playbackDuration,M]),Le=T.useCallback(()=>{k(!1)},[]);return b.jsxs("div",{className:"min-h-screen bg-background",children:[t,b.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:b.jsxs("div",{className:"space-y-6",children:[b.jsx(tn,{className:"bg-primary/10 border-primary",children:b.jsxs(fn,{children:[b.jsx(dn,{className:"font-heading text-2xl mb-1",children:"Pick Your Song"}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Theme:"," ",b.jsx("span",{className:"font-semibold text-foreground",children:e?.theme??"Pending"})]})]})}),!Y&&!f&&b.jsx(tn,{children:b.jsx(vn,{className:"py-8 text-center text-sm text-muted-foreground",children:a?"Set a theme to unlock song selection.":"Waiting for the host to choose a theme."})}),Y&&!f&&b.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,1.5fr)_minmax(0,1fr)]",children:[b.jsxs(tn,{className:"lg:col-span-1",children:[b.jsx(fn,{children:b.jsx(dn,{className:"font-heading",children:"Search YouTube"})}),b.jsx(vn,{children:b.jsx($N,{onSelect:_e,selectedVideoId:v?.id})})]}),b.jsxs(tn,{className:"self-start",children:[b.jsxs(fn,{children:[b.jsx(dn,{className:"font-heading",children:"Selected Song"}),b.jsx(Fr,{children:"Fine-tune the title before locking it in."})]}),b.jsx(vn,{children:v?b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("div",{className:"flex items-center justify-between gap-2",children:b.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Preview"})}),b.jsx("div",{className:"relative overflow-hidden rounded-lg border",children:b.jsx(wm,{videoId:v.id,autoplay:!1,startSeconds:M,interactive:!0,onReady:ge,onEnd:Le})})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{children:[b.jsx(na,{htmlFor:"song-title",children:"Song title to guess"}),b.jsx(Xs,{id:"song-title",value:C,onChange:L=>E(L.target.value),className:"mt-2",placeholder:"Edit the title if needed...","data-testid":"input-song-title"}),b.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"This is what other players will try to guess."})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx(na,{htmlFor:"start-seconds",children:"Start playback at"}),b.jsx("span",{className:"text-xs text-muted-foreground",children:qm(M)})]}),b.jsx(af,{id:"start-seconds",min:0,max:F,step:1,value:Vm(M),onValueChange:L=>{const ee=Cu(L[0]??0,F);N(ee),j.current?.seekTo?.(ee,!0)},"data-testid":"slider-start-seconds"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Xs,{type:"number",min:0,max:F,value:M,onChange:L=>{const ee=Cu(Number(L.target.value),F);N(ee),j.current?.seekTo?.(ee,!0)},className:"w-24","data-testid":"input-start-seconds"}),b.jsx(On,{type:"button",variant:"secondary",onClick:Te,disabled:!j.current,"data-testid":"button-preview",children:D?b.jsxs(b.Fragment,{children:[b.jsx(KO,{className:"mr-2 h-4 w-4"})," Pause Preview"]}):b.jsxs(b.Fragment,{children:[b.jsx(QO,{className:"mr-2 h-4 w-4"})," Play Preview"]})})]})]}),b.jsx(On,{onClick:Ce,className:"w-full",disabled:!C.trim(),"data-testid":"button-confirm-song",children:"Confirm Selection"})]})]}):b.jsx("div",{className:"flex min-h-[220px] items-center justify-center text-center text-sm text-muted-foreground",children:"Choose a song from the search results to review its details here."})})]})]}),f&&b.jsxs(tn,{children:[b.jsx(fn,{children:b.jsx(dn,{className:"font-heading",children:"You are all set!"})}),b.jsxs(vn,{className:"space-y-4",children:[b.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start",children:[f.thumbnail?b.jsx("div",{className:"relative w-full max-w-[200px] overflow-hidden rounded-lg border bg-muted sm:w-48",children:b.jsx("img",{src:f.thumbnail,alt:f.customTitle||f.originalTitle,className:"h-full w-full object-cover"})}):null,b.jsxs("div",{className:"space-y-1",children:[b.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Selected song"}),b.jsx("div",{className:"text-lg font-semibold leading-snug",children:f.customTitle||f.originalTitle}),(f.startSeconds??0)>0&&b.jsxs("div",{className:"text-sm text-muted-foreground",children:["Starts at ",qm(f.startSeconds??0)]}),f.customTitle&&f.originalTitle&&f.customTitle.trim()!==f.originalTitle.trim()&&b.jsxs("div",{className:"text-sm text-muted-foreground",children:["Original title: ",f.originalTitle]})]})]}),b.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-waiting-selection",children:"Waiting for other players to finish picking."}),pe.length>0&&b.jsxs("div",{className:"space-y-3",children:[b.jsx("p",{className:"text-sm font-medium text-foreground",children:"Player lock-in status"}),b.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:pe.map(L=>{const ee=!!K[L.id],G=L.name?.trim()||`Player ${L.id}`;return b.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-muted/50 px-3 py-2","data-testid":`player-lock-status-${L.id}`,children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Xa,{playerId:L.id,playerName:L.name,size:"sm"}),b.jsx("span",{className:"text-sm font-medium text-foreground",children:G})]}),ee?b.jsxs(Ac,{variant:"secondary",className:"flex items-center gap-1 text-xs",children:[b.jsx(d_,{className:"h-3 w-3"}),"Locked In"]}):b.jsxs(Ac,{variant:"outline",className:"flex items-center gap-1 text-xs",children:[b.jsx(h_,{className:"h-3 w-3"}),"Waiting"]})]},L.id)})})]})]})]}),!Y&&!f&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[b.jsx("p",{className:"text-sm text-muted-foreground",children:"Need inspiration? Pick a suggestion."}),b.jsx(On,{variant:"secondary",size:"sm",onClick:u,disabled:!a,"data-testid":"button-random-theme",children:"Surprise Me"})]}),b.jsx("div",{className:"flex flex-wrap gap-2",children:Qa.map(L=>b.jsx(On,{type:"button",variant:"outline",size:"sm",onClick:()=>c(L),disabled:!a,className:"whitespace-nowrap",children:L},L))})]})]})})]})}function m5({G:t,ctx:e,moves:n,playerID:s,matchID:a,identity:c,isHost:u,isActive:f,isConnected:d,updatePlayerName:p,promoteToHost:y,claimSeat:g,releaseSeat:v}){const{toast:S}=kS(),C=e.phase??t.phase,E=t.currentRound??null,M=t.settings,N=t.timer,D=N??0,[k,j]=T.useState(null),[F,Z]=T.useState({}),[Y,K]=T.useState(M),[pe,ve]=T.useState(!1),_e=T.useRef(0),Ce=T.useCallback(()=>{K(M)},[M]);T.useEffect(()=>{Ce()},[Ce]);const Te=T.useMemo(()=>{const se=s??c.playerID;return!se||c.role==="spectator"||se===Pc?null:se},[s,c.playerID,c.role]),ge=b.jsx("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:b.jsx(Cy,{})}),Le=T.useCallback(()=>{if(C!=="lobby")return;const se=Te;if(!se)return;const be=c.playerName.trim();if(!be)return;const nt=t.players?.[se];(!nt||nt.name!==be||!nt.connected)&&n.setPlayerName?.(be)},[t.players,c.playerName,n,C,Te]);T.useEffect(()=>{Le()},[Le]);const L=Object.values(t.players??{}).map(se=>se).sort((se,be)=>se.id.localeCompare(be.id)),ee=E?.theme??"",G=ee.trim().length>0,Re=E?.roundScores??{},Ke=E?.guesses??{},z=E?.correctGuessers??{},ie=E?.guessLog??[],le=E?.currentPlayerId??null,xe=E?.revealSongOwnerId??null,Se=E?.revealSongIndex??null,Ee=C==="song_reveal"&&Se!==null&&Se!==void 0?Se:E?.currentSongIndex??null,Pe=le?E?.songSelections?.[le]??null:null,it=xe?E?.songSelections?.[xe]??null:null,B=Te?E?.songSelections?.[Te]??null:null,J=Te?Ke[Te]??[]:[],fe=J[J.length-1]??null,Ne=!!(Te&&z[Te]),Ie=!!(C==="guessing"&&le&&Te&&le!==Te&&!Ne&&(N===null||N>0)),ze=t.lobbyOrder??[],St=t.maxPlayers??$c,gt=T.useMemo(()=>{const se=new Map;return L.forEach(be=>se.set(be.id,be)),se},[L]),hn=T.useMemo(()=>{const se=L.filter(be=>be.connected);return se.sort((be,nt)=>{const _=ze.indexOf(be.id),R=ze.indexOf(nt.id);return _===-1&&R===-1?be.id.localeCompare(nt.id):_===-1?1:R===-1?-1:_-R}),se},[ze,L]),Nt=T.useRef(new Set),mt=T.useRef(new Map);T.useEffect(()=>{if(c.role==="host"){Nt.current.clear(),mt.current.clear();return}if(c.role==="spectator"){const se=Nt.current,be=new Set(L.filter(R=>R.connected).map(R=>R.id)),nt=()=>{for(let R=1;R<St;R+=1){const A=String(R);if(!be.has(A)&&!se.has(A))return A}return null};let _=nt();!_&&se.size>0&&(se.clear(),_=nt()),_&&(se.add(_),g(_));return}c.role==="peer"&&(Nt.current.clear(),mt.current.clear())},[c.role,L,St,g]),T.useEffect(()=>{if(c.role!=="peer")return;const se=c.playerID;if(!se||se===Pc)return;if(gt.get(se)?.connected){mt.current.delete(se);return}const nt=mt.current.get(se)??0;if(nt>=St)return;const _=window.setTimeout(()=>{if(gt.get(se)?.connected){mt.current.delete(se);return}mt.current.set(se,nt+1),Nt.current.delete(se),v()},4e3);return()=>window.clearTimeout(_)},[c.role,c.playerID,gt,v,St]),T.useEffect(()=>{if(c.role!=="peer"||d)return;const se=c.playerID;if(!se||se===Pc)return;const be=window.setTimeout(()=>{Nt.current.delete(se),mt.current.delete(se),v()},3e3);return()=>window.clearTimeout(be)},[c.role,c.playerID,d,v]),T.useEffect(()=>{if(C!=="lobby"||c.role!=="peer"||!Te)return;const se=c.playerName.trim();if(!se)return;const be=()=>{try{n.setPlayerName?.(se)}catch(R){console.warn("Failed to register player name",R)}},nt=gt.get(Te);if(nt?.connected){(!nt.name||nt.name.trim()!==se)&&be();return}be();const _=window.setInterval(()=>{const R=gt.get(Te);if(R?.connected){(!R.name||R.name.trim()!==se)&&be(),window.clearInterval(_);return}be()},1e3);return()=>window.clearInterval(_)},[C,c.role,c.playerName,Te,gt,n]);const Ut=T.useMemo(()=>{const se=ze.map(R=>t.players[R]).filter(R=>!!R),be=new Set(se.map(R=>R.id)),nt=L.filter(R=>!be.has(R.id)),_=[...se,...nt];return Array.from({length:St},(R,A)=>_[A]??null)},[t.players,ze,St,L]),Xt=T.useMemo(()=>L.map(se=>({player:se,roundScore:Re[se.id]??0})).sort((se,be)=>be.roundScore-se.roundScore),[L,Re]),xn=T.useMemo(()=>[...L].sort((se,be)=>be.score-se.score),[L]),at=hn.length,ht=Math.max(St-at,0),Qt=T.useCallback(se=>{u&&n.setTheme?.(se)},[u,n]),Tn=T.useCallback(()=>{if(!u)return;const se=(E?.theme??"").trim(),be=Qa.length>1?Qa.filter(_=>_!==se):Qa,nt=be[Math.floor(Math.random()*be.length)]??Qa[0];nt&&Qt(nt)},[E?.theme,Qt,u]),Gn=T.useMemo(()=>E?Ee==null?[]:ie.filter(se=>se.songIndex===Ee).sort((se,be)=>se.time-be.time):[],[Ee,E,ie]),Pn=se=>Number.isNaN(se)||!Number.isFinite(se)?"0s":`${Math.max(0,Math.round(se))}s`,xs=se=>se.length===0?b.jsx("div",{className:"flex h-full items-center justify-center px-6 py-12",children:b.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"No guesses yet for this song."})}):b.jsx(ky,{className:"h-[360px] px-6 pb-6",children:b.jsx("div",{className:"space-y-4",children:se.map(be=>{const nt=Te&&be.playerId===Te,_=be.isCorrect&&!nt;return b.jsxs("div",{className:qt("flex flex-col gap-2",nt?"items-end":"items-start"),children:[b.jsxs("div",{className:qt("flex items-start gap-3",nt?"flex-row-reverse":"flex-row"),children:[b.jsx(Xa,{playerId:be.playerId,playerName:be.playerName,size:"sm"}),b.jsxs("div",{className:qt("space-y-1",nt?"text-right":"text-left"),children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[b.jsx("span",{children:nt?"You":be.playerName}),be.isCorrect&&b.jsx(Ac,{children:"Correct"})]}),b.jsx("div",{className:qt("max-w-xs rounded-md px-3 py-2 text-sm",nt?"bg-primary text-primary-foreground":"bg-muted/40 text-muted-foreground"),children:_?b.jsx("span",{className:"italic",children:"Correct guess locked in"}):b.jsxs(b.Fragment,{children:['"',be.guess,'"']})})]})]}),b.jsx("span",{className:"text-xs text-muted-foreground",children:Pn(be.time)})]},be.id)})})}),bs=T.useCallback(()=>{if(!u||C!=="song_picking"&&C!=="guessing"||N===null||N<=0)return;const se=window.setInterval(()=>{n.tickTimer?.()},1e3);return()=>window.clearInterval(se)},[u,n,C,N]);T.useEffect(()=>bs(),[bs]);const Qr=u?Y:M,fr=T.useMemo(()=>{if(C!=="guessing"||!E)return"inactive";const se=E.currentSongIndex??E.revealSongIndex??0;return`${E.roundNumber}:${se}`},[E,C]),Kn=F[fr]??"",pn=T.useCallback(se=>{Z(be=>({...be,[fr]:se}))},[fr]),Nn=T.useCallback(()=>{Z(se=>{if(se[fr]===void 0)return se;const be={...se};return delete be[fr],be})},[fr]),on=T.useCallback(()=>{const be=(k??c.playerName).trim().slice(0,24);be&&(p(be),C==="lobby"&&n.setPlayerName?.(be),j(null))},[c.playerName,n,C,k,p]),Ss=T.useCallback(()=>{const se=Kn.trim();!Ie||!se||(n.submitGuess?.(se),Nn())},[Ie,Kn,n,Nn]);T.useEffect(()=>{_e.current=0},[fr]),T.useEffect(()=>{if(!Te)return;const be=(Ke[Te]??[]).filter(nt=>nt.isCorrect).length;be>_e.current&&qN(),_e.current=be},[Te,Ke]);const _s=T.useCallback(()=>{u&&n.continueReveal?.()},[u,n]),ws=T.useCallback(()=>{n.nextRound?.(),Z({})},[n]),Zr=T.useCallback(()=>{n.restartLobby?.(),Z({})},[n]),Cs=T.useCallback(()=>{n.endGame?.()},[n]),ei=T.useCallback(se=>{u&&K(be=>({...be,...se}))},[u]),Ur=T.useCallback(se=>{if(!u)return;K(nt=>({...nt,...se}));const be=Object.entries(se).filter(([nt,_])=>_!==void 0&&M[nt]!==_);be.length&&n.updateSettings?.(Object.fromEntries(be))},[u,n,M]),Hn=async()=>{try{await navigator.clipboard.writeText(a),ve(!0),S({title:"Room code copied!",description:"Share it with your friends to join the game"}),setTimeout(()=>ve(!1),2e3)}catch{S({title:"Unable to copy room code",variant:"destructive"})}},Xn=()=>{if(!u){S({title:"Waiting for host",description:"Only the host can start the game"});return}if(at<2){S({title:"Need more players",description:"At least 2 players required to start",variant:"destructive"});return}n.startGame?.()},Ir=se=>be=>ei({[se]:be[0]}),Es=se=>be=>Ur({[se]:be[0]});if(C==="lobby")return b.jsxs("div",{className:"min-h-screen bg-background",children:[ge,b.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-5xl space-y-8",children:[b.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("h1",{className:"text-3xl font-heading font-bold",children:b.jsx(oy,{to:"/music-showdown",className:"inline-flex items-center text-left text-inherit transition-colors hover:text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 focus-visible:ring-offset-background",children:"Music Showdown"})}),b.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground",children:[b.jsx(Ac,{variant:"secondary",className:"uppercase",children:c.role}),b.jsxs("span",{children:["Signed in as ",c.playerName]})]})]}),b.jsxs("div",{className:"flex items-center gap-3 rounded-lg border bg-muted/40 px-4 py-3",children:[b.jsx("div",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wide",children:"Room"}),b.jsx("code",{className:"text-2xl font-mono font-semibold tracking-wider text-primary","data-testid":"text-room-code",children:a}),b.jsx(On,{variant:"ghost",size:"icon",onClick:Hn,"data-testid":"button-copy-code",children:pe?b.jsx(MO,{className:"h-5 w-5 text-secondary"}):b.jsx(zO,{className:"h-5 w-5"})})]})]}),b.jsxs("div",{className:"grid gap-6 lg:grid-cols-[2fr_1.1fr]",children:[b.jsxs(tn,{className:"h-full",children:[b.jsxs(fn,{children:[b.jsxs(dn,{className:"font-heading",children:["Players (",at,"/",St,")"]}),b.jsx(Fr,{children:at===0?"Waiting for players to join...":`${at} connected, ${ht} open slot${ht===1?"":"s"}`})]}),b.jsx(vn,{children:b.jsx("div",{className:"space-y-2",children:Ut.map((se,be)=>b.jsx("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50","data-testid":se?`player-card-${se.id}`:`player-card-empty-${be}`,children:se?b.jsxs(b.Fragment,{children:[b.jsx(Xa,{playerId:se.id,playerName:se.name}),b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"font-semibold",children:se.name}),!se.connected&&b.jsx("div",{className:"text-xs text-muted-foreground",children:"Not connected"})]}),b.jsx("div",{className:"flex items-center gap-2",children:se.isHost&&b.jsxs(Ac,{variant:"default",className:"gap-1","data-testid":"badge-host",children:[b.jsx(HO,{className:"w-3 h-3"}),"Host"]})})]}):b.jsx("div",{className:"flex items-center gap-3 w-full justify-between",children:b.jsxs("div",{className:"flex gap-3 items-center",children:[b.jsx("div",{className:"w-8 h-8 rounded-full bg-muted"}),b.jsxs("span",{className:"text-sm text-muted-foreground",children:["Waiting for player ",be+1]})]})})},se?se.id:`empty-${be}`))})})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs(tn,{children:[b.jsxs(fn,{children:[b.jsx(dn,{className:"font-heading text-lg",children:"Your Lobby Controls"}),b.jsx(Fr,{children:u?"Update your name and start the game once everyone is ready.":"Update your name while the host prepares the game."})]}),b.jsxs(vn,{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(na,{htmlFor:"player-name",children:"Display name"}),b.jsx(Xs,{id:"player-name",placeholder:"Your name",value:k??c.playerName,onChange:se=>j(se.target.value),onBlur:on,onKeyDown:se=>se.key==="Enter"&&on(),"data-testid":"input-player-name"}),b.jsx("p",{className:"text-xs text-muted-foreground",children:"Shared with other players in the lobby."})]}),b.jsx(On,{onClick:Xn,className:"w-full",size:"lg","data-testid":"button-start-game",disabled:!u||at<2,children:"Start Game"}),c.role==="spectator"&&b.jsx("p",{className:"text-center text-xs text-muted-foreground",children:"Lobby is full. We'll seat you automatically when a spot opens."}),(!u||at<2)&&b.jsx("p",{className:"text-center text-xs text-muted-foreground",children:u?"Need at least 2 players to start.":"Only the host can start the game."})]})]}),b.jsxs(tn,{children:[b.jsxs(fn,{className:"pb-3",children:[b.jsx(dn,{className:"font-heading text-lg",children:"Game Settings"}),b.jsx(Fr,{children:"Hosts can tweak settings before the game begins."})]}),b.jsxs(vn,{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx(na,{children:"Number of rounds"}),b.jsx("span",{className:"text-xs text-muted-foreground",children:Qr.totalRounds})]}),b.jsx(af,{min:1,max:10,step:1,value:Vm(Qr.totalRounds),onValueChange:Ir("totalRounds"),onValueCommit:Es("totalRounds"),disabled:!u})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx(na,{htmlFor:"playback-duration",children:"Playback duration"}),b.jsxs("span",{className:"text-xs text-muted-foreground",children:[Qr.playbackDuration,"s"]})]}),b.jsx(af,{id:"playback-duration",min:30,max:300,step:5,value:Vm(Qr.playbackDuration),onValueChange:Ir("playbackDuration"),onValueCommit:Es("playbackDuration"),disabled:!u})]})]})]})]})]})]})]});if(C==="theme_selection")return b.jsxs("div",{className:"min-h-screen bg-background",children:[ge,b.jsx("div",{className:"container mx-auto px-4 py-8 max-w-3xl",children:b.jsxs(tn,{className:"mb-6",children:[b.jsxs(fn,{children:[b.jsx(dn,{className:"font-heading text-2xl",children:"Set the Theme"}),b.jsx(Fr,{children:"Waiting on the host to set the theme for this round."})]}),b.jsxs(vn,{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx(na,{htmlFor:"theme",children:"Theme for this round"}),b.jsx(Xs,{id:"theme",placeholder:"e.g., 80s Rock, Movie Soundtracks, Summer Vibes...",value:ee,onChange:se=>u&&n.setTheme?.(se.target.value),className:"text-lg mt-2","data-testid":"input-theme",disabled:!u})]}),!G&&b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[b.jsx("p",{className:"text-sm text-muted-foreground",children:"Need inspiration? Pick a suggestion."}),b.jsx(On,{variant:"secondary",size:"sm",onClick:Tn,disabled:!u,"data-testid":"button-random-theme",children:"Surprise Me"})]}),b.jsx("div",{className:"flex flex-wrap gap-2",children:Qa.map(se=>b.jsx(On,{type:"button",variant:"outline",size:"sm",onClick:()=>Qt(se),disabled:!u,className:"whitespace-nowrap",children:se},se))})]}),u?b.jsx(On,{onClick:()=>n.confirmTheme?.(),disabled:!ee.trim(),className:"w-full","data-testid":"button-confirm-theme",children:"Confirm Theme"}):b.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-waiting-theme",children:"Waiting for the host to confirm the theme..."})]})]})})]});if(C==="song_picking")return b.jsx(p5,{headerControls:ge,currentRound:E,settings:M,themeValue:ee,isHost:u,handleThemeChange:Qt,handleRandomTheme:Tn,mySelection:B,moves:n,effectivePlayerId:Te,playerLookup:gt,toast:S});const Jr=!!(Te&&le===Te),Wr=Jr?"You selected this song.":Ne?"Correct! Waiting for next song...":"Type your guess...";if(C==="guessing"&&Pe){const se=(Pe.customTitle||Pe.originalTitle||"").trim(),be=se?Array.from(se).map(_=>/\s/.test(_)?" ":"_").join(""):"",nt=M.playbackDuration>0?1-D/M.playbackDuration:0;return b.jsxs("div",{className:"min-h-screen bg-background",children:[ge,b.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-5xl space-y-6",children:[b.jsx(tn,{className:"bg-accent/10 border-accent",children:b.jsx(fn,{children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx(dn,{className:"font-heading text-2xl",children:"Guess the Song!"}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:[L.find(_=>_.id===le)?.name??"Mystery player","'s selection"]})]}),b.jsx(EN,{timeRemaining:D,totalTime:M.playbackDuration,variant:"accent"})]})})}),b.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,0.6fr)_minmax(0,1fr)]",children:[b.jsxs("div",{className:"space-y-6",children:[b.jsxs(tn,{children:[b.jsx(fn,{className:"pb-0",children:b.jsx(dn,{className:"font-heading text-lg",children:"Now Playing"})}),b.jsx(vn,{className:"pt-4",children:b.jsx("div",{className:"rounded-lg border bg-muted/30 p-2",children:b.jsx(wm,{videoId:Pe.videoId,autoplay:!0,preventPause:!0,startSeconds:Pe.startSeconds??0,timerProgress:nt})})})]}),b.jsxs(tn,{children:[b.jsx(fn,{children:b.jsx(dn,{className:"font-heading text-lg",children:"Player Status"})}),b.jsx(vn,{children:b.jsx("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-3 xl:grid-cols-4",children:L.map(_=>{const R=Ke[_.id]??[],A=R.length>0,x=_.id===le,P=!!z[_.id],$=R[R.length-1];return b.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-lg bg-muted/50 p-3","data-testid":`player-status-${_.id}`,children:[b.jsx(Xa,{playerId:_.id,playerName:_.name,size:"sm"}),b.jsx("div",{className:"text-xs font-medium text-center",children:_.name}),x?b.jsx(m_,{className:"h-4 w-4 text-primary"}):P?b.jsx(d_,{className:"h-4 w-4 text-secondary"}):A?b.jsx(p_,{className:"h-4 w-4 text-muted-foreground"}):b.jsx(h_,{className:"h-4 w-4 text-muted-foreground"}),!x&&b.jsxs("div",{className:"text-center text-[10px] text-muted-foreground",children:[P?"Correct":A?"Guessing":"Waiting",$&&!P?` (${$.guess})`:""]})]},_.id)})})})]})]}),b.jsxs(tn,{className:"flex min-h-[520px] flex-col",children:[b.jsxs(fn,{className:"space-y-4",children:[b.jsxs(dn,{className:"flex items-center gap-2 font-heading text-lg",children:[b.jsx(kb,{className:"h-4 w-4"})," Guess Log"]}),be&&b.jsx("div",{className:"rounded-lg border border-dashed border-muted-foreground/40 bg-muted/30 px-4 py-3 text-center",children:b.jsx("div",{className:"font-mono text-lg uppercase tracking-[0.35em] text-muted-foreground",children:be})})]}),b.jsx(vn,{className:"flex-1 overflow-hidden px-0 pb-0",children:xs(Gn)}),b.jsx("div",{className:"border-t bg-muted/20 p-6",children:b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[b.jsx(Xs,{placeholder:Wr,value:Kn,onChange:_=>pn(_.target.value),onKeyDown:_=>{_.key!=="Enter"||_.nativeEvent.isComposing||(_.preventDefault(),Ss())},className:"text-lg","data-testid":"input-guess",disabled:!Ie}),b.jsx(On,{onClick:Ss,disabled:!Ie||!Kn.trim(),"data-testid":"button-submit-guess",className:"sm:w-auto",children:"Submit"})]}),!Ie&&Jr&&b.jsx("p",{className:"text-sm text-muted-foreground",children:"You can't guess your own song."}),!Ie&&Ne&&b.jsx("p",{className:"text-sm text-muted-foreground",children:"Great job! You'll rejoin next round."}),fe&&!Ne&&b.jsxs("p",{className:"text-xs text-muted-foreground",children:['Last guess: "',fe.guess,'" (',Math.max(0,Math.ceil(fe.time)),"s)"]})]})})]})]})]})]})}if(C==="song_reveal"&&it&&xe!==null){const se=L.find(nt=>nt.id===xe),be=Ee!=null&&it?1:void 0;return b.jsxs("div",{className:"min-h-screen bg-background",children:[ge,b.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl space-y-6",children:[b.jsx(tn,{className:"bg-secondary/10 border-secondary",children:b.jsx(fn,{children:b.jsxs("div",{className:"flex flex-col gap-2 text-center",children:[b.jsx(dn,{className:"font-heading text-3xl",children:"Song Revealed!"}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:[se?.name??"Mystery player","'s selection has been uncovered."]})]})})}),b.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,0.9fr)_minmax(0,1.1fr)]",children:[b.jsxs(tn,{className:"overflow-hidden",children:[b.jsx(fn,{className:"pb-0",children:b.jsx(dn,{className:"font-heading text-lg",children:"Now Revealed"})}),b.jsxs(vn,{className:"pt-4 space-y-4",children:[b.jsx("div",{className:"rounded-lg border bg-muted/30 p-2",children:b.jsx(wm,{videoId:it.videoId,autoplay:!1,startSeconds:it.startSeconds??0,timerProgress:be,interactive:!0})}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Song Title"}),b.jsx("h2",{className:"text-xl font-bold leading-tight",children:it.customTitle||it.originalTitle})]}),it.thumbnail&&b.jsx("div",{className:"relative w-full overflow-hidden rounded-lg border bg-muted",children:b.jsx("img",{src:it.thumbnail,alt:it.customTitle||it.originalTitle,className:"w-full object-cover"})}),(it.startSeconds??0)>0&&b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Playback started at ",qm(it.startSeconds??0),"."]}),it.customTitle&&it.originalTitle&&it.customTitle.trim()!==it.originalTitle.trim()&&b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Original title: ",it.originalTitle]})]})]})]}),b.jsxs(tn,{className:"flex min-h-[520px] flex-col",children:[b.jsxs(fn,{children:[b.jsxs(dn,{className:"flex items-center gap-2 font-heading text-lg",children:[b.jsx(kb,{className:"h-4 w-4"})," Guess Log"]}),b.jsx(Fr,{children:"How everyone fared on this song."})]}),b.jsx(vn,{className:"flex-1 overflow-hidden px-0 pb-0",children:xs(Gn)}),b.jsx("div",{className:"border-t bg-muted/20 p-6",children:b.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[se?b.jsxs("p",{children:["This song was selected by ",b.jsx("span",{className:"font-semibold",children:se.name}),"."]}):b.jsx("p",{children:"The song owner's identity could not be determined."}),b.jsxs("p",{children:[Gn.filter(nt=>nt.isCorrect).length," player",Gn.filter(nt=>nt.isCorrect).length===1?"":"s"," ","guessed correctly."]})]})}),u&&b.jsx("div",{className:"border-t bg-muted/30 p-6",children:b.jsx(On,{onClick:_s,className:"w-full",size:"lg","data-testid":"button-continue-reveal",children:"Continue"})})]})]})]})]})}return C==="round_results"&&E?b.jsxs("div",{className:"min-h-screen bg-background",children:[ge,b.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl space-y-6",children:b.jsxs(tn,{children:[b.jsx(fn,{children:b.jsx(dn,{className:"font-heading text-2xl text-center",children:"Round Complete!"})}),b.jsxs(vn,{className:"space-y-6",children:[b.jsxs("div",{className:"text-center space-y-4",children:[b.jsx(dm,{className:"w-16 h-16 text-primary mx-auto"}),b.jsx("h2",{className:"text-xl font-semibold",children:Xt[0]?.player?`${Xt[0]?.player.name} won this round!`:"Round complete"}),Xt[0]&&b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Earned ",Xt[0].roundScore," points this round"]})]}),b.jsx("div",{className:"space-y-3",children:Xt.map(({player:se,roundScore:be},nt)=>b.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-muted/50","data-testid":`result-player-${se.id}`,children:[b.jsxs("div",{className:"text-2xl font-bold text-muted-foreground w-8",children:["#",nt+1]}),b.jsx(Xa,{playerId:se.id,playerName:se.name}),b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"font-semibold",children:se.name}),b.jsxs("div",{className:"text-sm text-muted-foreground",children:[be," points this round"]})]}),b.jsx("div",{className:"text-2xl font-bold text-primary",children:se.score})]},se.id))}),b.jsx(On,{onClick:ws,className:"w-full",size:"lg","data-testid":"button-next-round",disabled:!u,children:t.completedRounds+1<M.totalRounds?"Next Round":"View Final Scores"})]})]})})]}):C==="game_over"?b.jsxs("div",{className:"min-h-screen bg-background",children:[ge,b.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl space-y-6",children:b.jsxs(tn,{children:[b.jsx(fn,{children:b.jsx(dn,{className:"font-heading text-3xl text-center",children:"Game Over!"})}),b.jsxs(vn,{className:"space-y-8",children:[b.jsxs("div",{className:"text-center space-y-4",children:[b.jsx(dm,{className:"w-24 h-24 text-primary mx-auto"}),b.jsx("h2",{className:"text-2xl font-bold",children:xn[0]?`${xn[0].name} Wins!`:"Thanks for playing!"}),b.jsx("p",{className:"text-muted-foreground",children:"Final standings"})]}),b.jsx("div",{className:"space-y-3",children:xn.map((se,be)=>b.jsxs("div",{className:`flex items-center gap-4 p-6 rounded-lg ${be===0?"bg-primary/20 border-2 border-primary":be===1?"bg-secondary/20 border-2 border-secondary":"bg-muted/50"}`,"data-testid":`final-player-${se.id}`,children:[b.jsx("div",{className:"text-3xl font-bold w-12",children:be===0?"":be===1?"":be===2?"":`#${be+1}`}),b.jsx(Xa,{playerId:se.id,playerName:se.name,size:"lg"}),b.jsx("div",{className:"flex-1",children:b.jsx("div",{className:"text-xl font-bold",children:se.name})}),b.jsx("div",{className:"text-3xl font-bold text-primary",children:se.score})]},se.id))}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx(On,{variant:"outline",className:"flex-1","data-testid":"button-new-game",onClick:Zr,disabled:!u,children:"Restart Lobby"}),b.jsx(On,{className:"flex-1","data-testid":"button-back-home",onClick:Cs,disabled:!u,children:"End Session"})]})]})]})})]}):b.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-gradient-to-br from-primary/10 via-background to-secondary/10",children:[ge,b.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_top,_theme(colors.primary/15),transparent_60%)]"}),b.jsx("div",{className:"relative flex min-h-screen flex-col items-center justify-center px-6 py-16",children:b.jsxs("div",{className:"w-full max-w-md space-y-6 rounded-3xl border border-border/50 bg-background/90 p-10 text-center shadow-xl backdrop-blur",children:[b.jsx("div",{className:"flex items-center justify-center",children:b.jsx(py,{className:"h-12 w-12 animate-spin text-primary"})}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h2",{className:"text-2xl font-heading",children:"Connecting to your room"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Setting the stage and syncing players. Hang tightthis should only take a moment."})]}),a?b.jsx("div",{className:"flex justify-center",children:b.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-border/70 bg-muted/40 px-4 py-2 font-mono text-xs uppercase tracking-[0.3em] text-muted-foreground",children:["Room",b.jsx("span",{className:"text-foreground",children:a})]})}):null]})})]})}function y5(){return b.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:b.jsx(tn,{className:"w-full max-w-md mx-4",children:b.jsxs(vn,{className:"pt-6",children:[b.jsxs("div",{className:"flex mb-4 gap-2",children:[b.jsx(NO,{className:"h-8 w-8 text-red-500"}),b.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),b.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}let g5="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",v5=(t=21)=>{let e="",n=t|0;for(;n--;)e+=g5[Math.random()*64|0];return e};var Fp={},q1;function x5(){return q1||(q1=1,(function(t,e){if(t.setImmediate)return;var n=1,s={},a=!1,c=t.document,u;function f(D){typeof D!="function"&&(D=new Function(""+D));for(var k=new Array(arguments.length-1),j=0;j<k.length;j++)k[j]=arguments[j+1];var F={callback:D,args:k};return s[n]=F,u(n),n++}function d(D){delete s[D]}function p(D){var k=D.callback,j=D.args;switch(j.length){case 0:k();break;case 1:k(j[0]);break;case 2:k(j[0],j[1]);break;case 3:k(j[0],j[1],j[2]);break;default:k.apply(e,j);break}}function y(D){if(a)setTimeout(y,0,D);else{var k=s[D];if(k){a=!0;try{p(k)}finally{d(D),a=!1}}}}function g(){u=function(D){process.nextTick(function(){y(D)})}}function v(){if(t.postMessage&&!t.importScripts){var D=!0,k=t.onmessage;return t.onmessage=function(){D=!1},t.postMessage("","*"),t.onmessage=k,D}}function S(){var D="setImmediate$"+Math.random()+"$",k=function(j){j.source===t&&typeof j.data=="string"&&j.data.indexOf(D)===0&&y(+j.data.slice(D.length))};t.addEventListener?t.addEventListener("message",k,!1):t.attachEvent("onmessage",k),u=function(j){t.postMessage(D+j,"*")}}function C(){var D=new MessageChannel;D.port1.onmessage=function(k){var j=k.data;y(j)},u=function(k){D.port2.postMessage(k)}}function E(){var D=c.documentElement;u=function(k){var j=c.createElement("script");j.onreadystatechange=function(){y(k),j.onreadystatechange=null,D.removeChild(j),j=null},D.appendChild(j)}}function M(){u=function(D){setTimeout(y,0,D)}}var N=Object.getPrototypeOf&&Object.getPrototypeOf(t);N=N&&N.setTimeout?N:t,{}.toString.call(t.process)==="[object process]"?g():v()?S():t.MessageChannel?C():c&&"onreadystatechange"in c.createElement("script")?E():M(),N.setImmediate=f,N.clearImmediate=d})(typeof self>"u"?typeof Hx>"u"?Fp:Hx:self)),Fp}x5();class b5{constructor({enumerate:e,seed:n}){this.enumerateFn=e,this.seed=n,this.iterationCounter=0,this._opts={}}addOpt({key:e,range:n,initial:s}){this._opts[e]={range:n,value:s}}getOpt(e){return this._opts[e].value}setOpt(e,n){e in this._opts&&(this._opts[e].value=n)}opts(){return this._opts}enumerate(e,n,s){return this.enumerateFn(e,n,s).map(c=>{if("payload"in c)return c;if("move"in c)return sE(c.move,c.args,s);if("event"in c)return Mc(c.event,c.args,s)})}random(e){let n;if(this.seed!==void 0){const s=this.prngstate?"":this.seed,a=nE(s,this.prngstate);n=a(),this.prngstate=a.state()}else n=Math.random();if(e)if(Array.isArray(e)){const s=Math.floor(n*e.length);return e[s]}else return Math.floor(n*e);return n}}const S5=25;class _5 extends b5{constructor({enumerate:e,seed:n,objectives:s,game:a,iterations:c,playoutDepth:u,iterationCallback:f}){super({enumerate:e,seed:n}),s===void 0&&(s=()=>({})),this.objectives=s,this.iterationCallback=f||(()=>{}),this.reducer=Kf({game:a}),this.iterations=c,this.playoutDepth=u,this.addOpt({key:"async",initial:!1}),this.addOpt({key:"iterations",initial:typeof c=="number"?c:1e3,range:{min:1,max:2e3}}),this.addOpt({key:"playoutDepth",initial:typeof u=="number"?u:50,range:{min:1,max:100}})}createNode({state:e,parentAction:n,parent:s,playerID:a}){const{G:c,ctx:u}=e;let f=[],d=[];if(a!==void 0)f=this.enumerate(c,u,a),d=this.objectives(c,u,a);else if(u.activePlayers)for(const p in u.activePlayers)f.push(...this.enumerate(c,u,p)),d.push(this.objectives(c,u,p));else f=this.enumerate(c,u,u.currentPlayer),d=this.objectives(c,u,u.currentPlayer);return{state:e,parent:s,parentAction:n,actions:f,objectives:d,children:[],visits:0,value:0}}select(e){if(e.actions.length>0||e.children.length===0)return e;let n=null,s=0;for(const a of e.children){const c=a.visits+Number.EPSILON,u=a.value/c+Math.sqrt(2*Math.log(e.visits)/c);(n==null||u>s)&&(s=u,n=a)}return this.select(n)}expand(e){const n=e.actions;if(n.length===0||e.state.ctx.gameover!==void 0)return e;const s=this.random(n.length),a=n[s];e.actions.splice(s,1);const c=this.reducer(e.state,a),u=this.createNode({state:c,parentAction:a,parent:e});return e.children.push(u),u}playout({state:e}){let n=this.getOpt("playoutDepth");typeof this.playoutDepth=="function"&&(n=this.playoutDepth(e.G,e.ctx));for(let s=0;s<n&&e.ctx.gameover===void 0;s++){const{G:a,ctx:c}=e;let u=c.currentPlayer;c.activePlayers&&(u=Object.keys(c.activePlayers)[0]);const f=this.enumerate(a,c,u),d=this.objectives(a,c,u),p=Object.keys(d).reduce((v,S)=>{const C=d[S];return C.checker(a,c)?v+C.weight:v},0);if(p>0)return{score:p};if(!f||f.length===0)return;const y=this.random(f.length);e=this.reducer(e,f[y])}return e.ctx.gameover}backpropagate(e,n={}){e.visits++,n.score!==void 0&&(e.value+=n.score),n.draw===!0&&(e.value+=.5),e.parentAction&&n.winner===e.parentAction.payload.playerID&&e.value++,e.parent&&this.backpropagate(e.parent,n)}play(e,n){const s=this.createNode({state:e,playerID:n});let a=this.getOpt("iterations");typeof this.iterations=="function"&&(a=this.iterations(e.G,e.ctx));const c=()=>{let u=null;for(const p of s.children)(u==null||p.visits>u.visits)&&(u=p);return{action:u&&u.parentAction,metadata:s}};return new Promise(u=>{const f=()=>{for(let d=0;d<S5&&this.iterationCounter<a;d++){const p=this.select(s),y=this.expand(p),g=this.playout(y);this.backpropagate(y,g),this.iterationCounter++}this.iterationCallback({iterationCounter:this.iterationCounter,numIterations:a,metadata:s})};if(this.iterationCounter=0,this.getOpt("async")){const d=()=>{this.iterationCounter<a?(f(),setImmediate(d)):u(c())};d()}else{for(;this.iterationCounter<a;)f();u(c())}})}}class w5 extends Xf{connect(){}disconnect(){}sendAction(){}sendChatMessage(){}requestSync(){}updateCredentials(){}updateMatchID(){}updatePlayerID(){}}const C5=t=>new w5(t);class E5{constructor(){this.debugPanel=null,this.currentClient=null,this.clients=new Map,this.subscribers=new Map}register(e){this.clients.set(e,e),this.mountDebug(e),this.notifySubscribers()}unregister(e){if(this.clients.delete(e),this.currentClient===e){this.unmountDebug();for(const[n]of this.clients){if(this.debugPanel)break;this.mountDebug(n)}}this.notifySubscribers()}subscribe(e){const n=Symbol();return this.subscribers.set(n,e),e(this.getState()),()=>{this.subscribers.delete(n)}}switchPlayerID(e){if(this.currentClient.multiplayer){for(const[n]of this.clients)if(n.playerID===e&&n.debugOpt!==!1&&n.multiplayer===this.currentClient.multiplayer){this.switchToClient(n);return}}this.currentClient.updatePlayerID(e),this.notifySubscribers()}switchToClient(e){e!==this.currentClient&&(this.unmountDebug(),this.mountDebug(e),this.notifySubscribers())}notifySubscribers(){const e=this.getState();this.subscribers.forEach(n=>{n(e)})}getState(){return{client:this.currentClient,debuggableClients:this.getDebuggableClients()}}getDebuggableClients(){return[...this.clients.values()].filter(e=>e.debugOpt!==!1)}mountDebug(e){if(e.debugOpt===!1||this.debugPanel!==null||typeof document>"u")return;let n,s=document.body;e.debugOpt&&e.debugOpt!==!0&&(n=e.debugOpt.impl||n,s=e.debugOpt.target||s),n&&(this.currentClient=e,this.debugPanel=new n({target:s,props:{clientManager:this}}))}unmountDebug(){this.debugPanel.$destroy(),this.debugPanel=null,this.currentClient=null}}const T5=new E5;function Fm(t,e,n){return!n&&t==null&&(t=e.getState().ctx.currentPlayer),t}function rg(t,e,n,s,a,c){const u={};for(const f of e)u[f]=(...d)=>{const p=A4[t](f,d,Fm(s,n,c),a);n.dispatch(p)};return u}const R5=rg.bind(null,"makeMove"),A5=rg.bind(null,"gameEvent"),O5=rg.bind(null,"plugin");class M5{constructor({game:e,debug:n,numPlayers:s,multiplayer:a,matchID:c,playerID:u,credentials:f,enhancer:d}){this.game=Zc(e),this.playerID=u,this.matchID=c||"default",this.credentials=f,this.multiplayer=a,this.debugOpt=n,this.manager=T5,this.gameStateOverride=null,this.subscribers={},this._running=!1,this.reducer=Kf({game:this.game,isClient:a!==void 0}),this.initialState=null,a||(this.initialState=Jy({game:this.game,numPlayers:s})),this.reset=()=>{this.store.dispatch(lE(this.initialState))},this.undo=()=>{const S=uE(Fm(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(S)},this.redo=()=>{const S=fE(Fm(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(S)},this.log=[];const v=RE(_E,()=>S=>C=>{const E=S(C);return this.notifySubscribers(),E},S=>C=>E=>{const M=S.getState(),N=C(E);return!("clientOnly"in E)&&E.type!==Gf&&this.transport.sendAction(M,E),N},S=>C=>E=>{const M=C(E),N=S.getState();switch(E.type){case zc:case qf:case Yf:case Ff:{const D=N.deltalog;this.log=[...this.log,...D];break}case Yy:{this.log=[];break}case Xy:case Ky:{let D=-1;this.log.length>0&&(D=this.log[this.log.length-1]._stateID);let k=E.deltalog||[];k=k.filter(j=>j._stateID>D),this.log=[...this.log,...k];break}case Gy:{this.initialState=E.initialState,this.log=E.log||[];break}}return M});d=d!==void 0?TE(v,d):v,this.store=eg(this.reducer,this.initialState,d),a||(a=C5),this.transport=a({transportDataCallback:S=>this.receiveTransportData(S),gameKey:e,game:this.game,matchID:c,playerID:u,credentials:f,gameName:this.game.name,numPlayers:s}),this.createDispatchers(),this.chatMessages=[],this.sendChatMessage=S=>{this.transport.sendChatMessage(this.matchID,{id:v5(7),sender:this.playerID,payload:S})}}receiveMatchData(e){this.matchData=e,this.notifySubscribers()}receiveChatMessage(e){this.chatMessages=[...this.chatMessages,e],this.notifySubscribers()}receiveTransportData(e){const[n]=e.args;if(n===this.matchID)switch(e.type){case"sync":{const[,s]=e.args,a=aE(s);this.receiveMatchData(s.filteredMetadata),this.store.dispatch(a);break}case"update":{const[,s,a]=e.args,c=this.store.getState();if(s._stateID>=c._stateID){const u=cE(s,a);this.store.dispatch(u)}break}case"patch":{const[,s,a,c,u]=e.args,f=this.store.getState()._stateID;if(s!==f)break;const d=oE(s,a,c,u);this.store.dispatch(d),this.store.getState()._stateID===f&&this.transport.requestSync();break}case"matchData":{const[,s]=e.args;this.receiveMatchData(s);break}case"chat":{const[,s]=e.args;this.receiveChatMessage(s);break}}}notifySubscribers(){Object.values(this.subscribers).forEach(e=>e(this.getState()))}overrideGameState(e){this.gameStateOverride=e,this.notifySubscribers()}start(){this.transport.connect(),this._running=!0,this.manager.register(this)}stop(){this.transport.disconnect(),this._running=!1,this.manager.unregister(this)}subscribe(e){const n=Object.keys(this.subscribers).length;return this.subscribers[n]=e,this.transport.subscribeToConnectionStatus(()=>this.notifySubscribers()),(this._running||!this.multiplayer)&&e(this.getState()),()=>{delete this.subscribers[n]}}getInitialState(){return this.initialState}getState(){let e=this.store.getState();if(this.gameStateOverride!==null&&(e=this.gameStateOverride),e===null)return e;let n=!0;const s=this.game.flow.isPlayerActive(e.G,e.ctx,this.playerID);return this.multiplayer&&!s&&(n=!1),!this.multiplayer&&this.playerID!==null&&this.playerID!==void 0&&!s&&(n=!1),e.ctx.gameover!==void 0&&(n=!1),this.multiplayer||(e={...e,G:this.game.playerView({G:e.G,ctx:e.ctx,playerID:this.playerID}),plugins:mE(e,this)}),{...e,log:this.log,isActive:n,isConnected:this.transport.isConnected}}createDispatchers(){this.moves=R5(this.game.moveNames,this.store,this.playerID,this.credentials,this.multiplayer),this.events=A5(this.game.flow.enabledEventNames,this.store,this.playerID,this.credentials,this.multiplayer),this.plugins=O5(this.game.pluginNames,this.store,this.playerID,this.credentials,this.multiplayer)}updatePlayerID(e){this.playerID=e,this.createDispatchers(),this.transport.updatePlayerID(e),this.notifySubscribers()}updateMatchID(e){this.matchID=e,this.createDispatchers(),this.transport.updateMatchID(e),this.notifySubscribers()}updateCredentials(e){this.credentials=e,this.createDispatchers(),this.transport.updateCredentials(e),this.notifySubscribers()}}function P5(t){return new M5(t)}const DE=(t,e)=>{if(!t||typeof t!="string")throw new Error(`Expected ${e} string, got "${t}".`)},Wi=t=>DE(t,"game name"),gc=t=>DE(t,"match ID"),vc=(t,e)=>{if(!t)throw new Error(`Expected body, got ${t}.`);for(const n in e){const s=e[n],a=Array.isArray(s)?s:[s],c=t[n];if(!a.includes(typeof c)){const u=a.join("|");throw new TypeError(`Expected body.${n} to be of type ${u}, got ${c}.`)}}};class N5 extends Error{constructor(e,n){super(e),this.details=n}}class D5{constructor({server:e=""}={}){this.server=e.replace(/\/$/,"")}async request(e,n){const s=await fetch(this.server+e,n);if(!s.ok){let a;try{a=await s.clone().json()}catch{try{a=await s.text()}catch(c){a=c.message}}throw new N5(`HTTP status ${s.status}`,a)}return s.json()}async post(e,n){let s={method:"post",body:JSON.stringify(n.body),headers:{"Content-Type":"application/json"}};return n.init&&(s={...s,...n.init,headers:{...s.headers,...n.init.headers}}),this.request(e,s)}async listGames(e){return this.request("/games",e)}async listMatches(e,n,s){Wi(e);let a="";if(n){const c=[],{isGameover:u,updatedBefore:f,updatedAfter:d}=n;u!==void 0&&c.push(`isGameover=${u}`),f&&c.push(`updatedBefore=${f}`),d&&c.push(`updatedAfter=${d}`),c.length>0&&(a="?"+c.join("&"))}return this.request(`/games/${e}${a}`,s)}async getMatch(e,n,s){return Wi(e),gc(n),this.request(`/games/${e}/${n}`,s)}async createMatch(e,n,s){return Wi(e),vc(n,{numPlayers:"number"}),this.post(`/games/${e}/create`,{body:n,init:s})}async joinMatch(e,n,s,a){return Wi(e),gc(n),vc(s,{playerID:["string","undefined"],playerName:"string"}),this.post(`/games/${e}/${n}/join`,{body:s,init:a})}async leaveMatch(e,n,s,a){Wi(e),gc(n),vc(s,{playerID:"string",credentials:"string"}),await this.post(`/games/${e}/${n}/leave`,{body:s,init:a})}async updatePlayer(e,n,s,a){Wi(e),gc(n),vc(s,{playerID:"string",credentials:"string"}),await this.post(`/games/${e}/${n}/update`,{body:s,init:a})}async playAgain(e,n,s,a){return Wi(e),gc(n),vc(s,{playerID:"string",credentials:"string"}),this.post(`/games/${e}/${n}/playAgain`,{body:s,init:a})}}var Yp={exports:{}},Gp,F1;function k5(){if(F1)return Gp;F1=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Gp=t,Gp}var Kp,Y1;function j5(){if(Y1)return Kp;Y1=1;var t=k5();function e(){}function n(){}return n.resetWarningCache=e,Kp=function(){function s(u,f,d,p,y,g){if(g!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}s.isRequired=s;function a(){return s}var c={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return c.PropTypes=c,c},Kp}var G1;function L5(){return G1||(G1=1,Yp.exports=j5()()),Yp.exports}var U5=L5();const is=Vc(U5);var $r={},Eu={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var K1;function I5(){if(K1)return Eu;K1=1,Eu.parse=a,Eu.serialize=c;var t=decodeURIComponent,e=encodeURIComponent,n=/; */,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function a(f,d){if(typeof f!="string")throw new TypeError("argument str must be a string");for(var p={},y=d||{},g=f.split(n),v=y.decode||t,S=0;S<g.length;S++){var C=g[S],E=C.indexOf("=");if(!(E<0)){var M=C.substr(0,E).trim(),N=C.substr(++E,C.length).trim();N[0]=='"'&&(N=N.slice(1,-1)),p[M]==null&&(p[M]=u(N,v))}}return p}function c(f,d,p){var y=p||{},g=y.encode||e;if(typeof g!="function")throw new TypeError("option encode is invalid");if(!s.test(f))throw new TypeError("argument name is invalid");var v=g(d);if(v&&!s.test(v))throw new TypeError("argument val is invalid");var S=f+"="+v;if(y.maxAge!=null){var C=y.maxAge-0;if(isNaN(C))throw new Error("maxAge should be a Number");S+="; Max-Age="+Math.floor(C)}if(y.domain){if(!s.test(y.domain))throw new TypeError("option domain is invalid");S+="; Domain="+y.domain}if(y.path){if(!s.test(y.path))throw new TypeError("option path is invalid");S+="; Path="+y.path}if(y.expires){if(typeof y.expires.toUTCString!="function")throw new TypeError("option expires is invalid");S+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(S+="; HttpOnly"),y.secure&&(S+="; Secure"),y.sameSite){var E=typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite;switch(E){case!0:S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"strict":S+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return S}function u(f,d){try{return d(f)}catch{return f}}return Eu}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Xp,X1;function z5(){if(X1)return Xp;X1=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function s(c){if(c==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(c)}function a(){try{if(!Object.assign)return!1;var c=new String("abc");if(c[5]="de",Object.getOwnPropertyNames(c)[0]==="5")return!1;for(var u={},f=0;f<10;f++)u["_"+String.fromCharCode(f)]=f;var d=Object.getOwnPropertyNames(u).map(function(y){return u[y]});if(d.join("")!=="0123456789")return!1;var p={};return"abcdefghijklmnopqrst".split("").forEach(function(y){p[y]=y}),Object.keys(Object.assign({},p)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Xp=a()?Object.assign:function(c,u){for(var f,d=s(c),p,y=1;y<arguments.length;y++){f=Object(arguments[y]);for(var g in f)e.call(f,g)&&(d[g]=f[g]);if(t){p=t(f);for(var v=0;v<p.length;v++)n.call(f,p[v])&&(d[p[v]]=f[p[v]])}}return d},Xp}var Q1;function B5(){if(Q1)return $r;Q1=1;var t={};Object.defineProperty($r,"__esModule",{value:!0});var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D};$r.load=g,$r.loadAll=v,$r.select=S,$r.save=C,$r.remove=E,$r.setRawCookie=M,$r.plugToRequest=N;var n=I5(),s=u(n),a=z5(),c=u(a);function u(D){return D&&D.__esModule?D:{default:D}}var f=typeof document>"u"||typeof process<"u"&&t&&!1,d={},p=void 0;function y(){return p&&!p.headersSent}function g(D,k){var j=f?d:s.default.parse(document.cookie),F=j&&j[D];if(typeof k>"u"&&(k=!F||F[0]!=="{"&&F[0]!=="["),!k)try{F=JSON.parse(F)}catch{}return F}function v(D){var k=f?d:s.default.parse(document.cookie),j=k;if(typeof D>"u"&&(D=!j||j[0]!=="{"&&j[0]!=="["),!D)try{j=JSON.parse(j)}catch{}return j}function S(D){var k=f?d:s.default.parse(document.cookie);return k?D?Object.keys(k).reduce(function(j,F){if(!D.test(F))return j;var Z={};return Z[F]=k[F],(0,c.default)({},j,Z)},{}):k:{}}function C(D,k,j){d[D]=k,(typeof k>"u"?"undefined":e(k))==="object"&&(d[D]=JSON.stringify(k)),f||(document.cookie=s.default.serialize(D,d[D],j)),y()&&p.cookie&&p.cookie(D,k,j)}function E(D,k){delete d[D],typeof k>"u"?k={}:typeof k=="string"?k={path:k}:k=(0,c.default)({},k),typeof document<"u"&&(k.expires=new Date(1970,1,1,0,0,1),k.maxAge=0,document.cookie=s.default.serialize(D,"",k)),y()&&p.clearCookie&&p.clearCookie(D,k)}function M(D){D?d=s.default.parse(D):d={}}function N(D,k){return D.cookie?d=D.cookie:D.cookies?d=D.cookies:D.headers&&D.headers.cookie?M(D.headers.cookie):d={},p=k,function(){p=null,d={}}}return $r.default={setRawCookie:M,load:g,loadAll:v,select:S,save:C,remove:E,plugToRequest:N},$r}var H5=B5();const Z1=Vc(H5),ys=Object.create(null);ys.open="0";ys.close="1";ys.ping="2";ys.pong="3";ys.message="4";ys.upgrade="5";ys.noop="6";const Hu=Object.create(null);Object.keys(ys).forEach(t=>{Hu[ys[t]]=t});const Ym={type:"error",data:"parser error"},kE=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",jE=typeof ArrayBuffer=="function",LE=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,sg=({type:t,data:e},n,s)=>kE&&e instanceof Blob?n?s(e):J1(e,s):jE&&(e instanceof ArrayBuffer||LE(e))?n?s(e):J1(new Blob([e]),s):s(ys[t]+(e||"")),J1=(t,e)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];e("b"+(s||""))},n.readAsDataURL(t)};function W1(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Qp;function $5(t,e){if(kE&&t.data instanceof Blob)return t.data.arrayBuffer().then(W1).then(e);if(jE&&(t.data instanceof ArrayBuffer||LE(t.data)))return e(W1(t.data));sg(t,!1,n=>{Qp||(Qp=new TextEncoder),e(Qp.encode(n))})}const eS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<eS.length;t++)wc[eS.charCodeAt(t)]=t;const V5=t=>{let e=t.length*.75,n=t.length,s,a=0,c,u,f,d;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const p=new ArrayBuffer(e),y=new Uint8Array(p);for(s=0;s<n;s+=4)c=wc[t.charCodeAt(s)],u=wc[t.charCodeAt(s+1)],f=wc[t.charCodeAt(s+2)],d=wc[t.charCodeAt(s+3)],y[a++]=c<<2|u>>4,y[a++]=(u&15)<<4|f>>2,y[a++]=(f&3)<<6|d&63;return p},q5=typeof ArrayBuffer=="function",ig=(t,e)=>{if(typeof t!="string")return{type:"message",data:UE(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:F5(t.substring(1),e)}:Hu[n]?t.length>1?{type:Hu[n],data:t.substring(1)}:{type:Hu[n]}:Ym},F5=(t,e)=>{if(q5){const n=V5(t);return UE(n,e)}else return{base64:!0,data:t}},UE=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},IE="",Y5=(t,e)=>{const n=t.length,s=new Array(n);let a=0;t.forEach((c,u)=>{sg(c,!1,f=>{s[u]=f,++a===n&&e(s.join(IE))})})},G5=(t,e)=>{const n=t.split(IE),s=[];for(let a=0;a<n.length;a++){const c=ig(n[a],e);if(s.push(c),c.type==="error")break}return s};function K5(){return new TransformStream({transform(t,e){$5(t,n=>{const s=n.length;let a;if(s<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,s);else if(s<65536){a=new Uint8Array(3);const c=new DataView(a.buffer);c.setUint8(0,126),c.setUint16(1,s)}else{a=new Uint8Array(9);const c=new DataView(a.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(s))}t.data&&typeof t.data!="string"&&(a[0]|=128),e.enqueue(a),e.enqueue(n)})}})}let Zp;function Tu(t){return t.reduce((e,n)=>e+n.length,0)}function Ru(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let s=0;for(let a=0;a<e;a++)n[a]=t[0][s++],s===t[0].length&&(t.shift(),s=0);return t.length&&s<t[0].length&&(t[0]=t[0].slice(s)),n}function X5(t,e){Zp||(Zp=new TextDecoder);const n=[];let s=0,a=-1,c=!1;return new TransformStream({transform(u,f){for(n.push(u);;){if(s===0){if(Tu(n)<1)break;const d=Ru(n,1);c=(d[0]&128)===128,a=d[0]&127,a<126?s=3:a===126?s=1:s=2}else if(s===1){if(Tu(n)<2)break;const d=Ru(n,2);a=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),s=3}else if(s===2){if(Tu(n)<8)break;const d=Ru(n,8),p=new DataView(d.buffer,d.byteOffset,d.length),y=p.getUint32(0);if(y>Math.pow(2,21)-1){f.enqueue(Ym);break}a=y*Math.pow(2,32)+p.getUint32(4),s=3}else{if(Tu(n)<a)break;const d=Ru(n,a);f.enqueue(ig(c?d:Zp.decode(d),e)),s=0}if(a===0||a>t){f.enqueue(Ym);break}}}})}const zE=4;function En(t){if(t)return Q5(t)}function Q5(t){for(var e in En.prototype)t[e]=En.prototype[e];return t}En.prototype.on=En.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};En.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};En.prototype.off=En.prototype.removeListener=En.prototype.removeAllListeners=En.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s,a=0;a<n.length;a++)if(s=n[a],s===e||s.fn===e){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+t],this};En.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,a=n.length;s<a;++s)n[s].apply(this,e)}return this};En.prototype.emitReserved=En.prototype.emit;En.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};En.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Qf=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),kr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Z5="arraybuffer";function BE(t,...e){return e.reduce((n,s)=>(t.hasOwnProperty(s)&&(n[s]=t[s]),n),{})}const J5=kr.setTimeout,W5=kr.clearTimeout;function Zf(t,e){e.useNativeTimers?(t.setTimeoutFn=J5.bind(kr),t.clearTimeoutFn=W5.bind(kr)):(t.setTimeoutFn=kr.setTimeout.bind(kr),t.clearTimeoutFn=kr.clearTimeout.bind(kr))}const ek=1.33;function tk(t){return typeof t=="string"?nk(t):Math.ceil((t.byteLength||t.size)*ek)}function nk(t){let e=0,n=0;for(let s=0,a=t.length;s<a;s++)e=t.charCodeAt(s),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(s++,n+=4);return n}function HE(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function rk(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function sk(t){let e={},n=t.split("&");for(let s=0,a=n.length;s<a;s++){let c=n[s].split("=");e[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return e}class ik extends Error{constructor(e,n,s){super(e),this.description=n,this.context=s,this.type="TransportError"}}class ag extends En{constructor(e){super(),this.writable=!1,Zf(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,s){return super.emitReserved("error",new ik(e,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=ig(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=rk(e);return n.length?"?"+n:""}}class ak extends ag{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};G5(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Y5(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=HE()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let $E=!1;try{$E=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ok=$E;function ck(){}class lk extends ak{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,n){const s=this.request({method:"POST",data:e});s.on("success",n),s.on("error",(a,c)=>{this.onError("xhr post error",a,c)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=e}}class hs extends En{constructor(e,n,s){super(),this.createRequest=e,Zf(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const n=BE(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&s.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var a;s.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=hs.requestsCount++,hs.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=ck,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete hs.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}hs.requestsCount=0;hs.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",tS);else if(typeof addEventListener=="function"){const t="onpagehide"in kr?"pagehide":"unload";addEventListener(t,tS,!1)}}function tS(){for(let t in hs.requests)hs.requests.hasOwnProperty(t)&&hs.requests[t].abort()}const uk=(function(){const t=VE({xdomain:!1});return t&&t.responseType!==null})();class fk extends lk{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=uk&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new hs(VE,this.uri(),e)}}function VE(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||ok))return new XMLHttpRequest}catch{}if(!e)try{return new kr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const qE=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class dk extends ag{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,s=qE?{}:BE(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,s)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],a=n===e.length-1;sg(s,this.supportsBinary,c=>{try{this.doWrite(s,c)}catch{}a&&Qf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=HE()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Jp=kr.WebSocket||kr.MozWebSocket;class hk extends dk{createSocket(e,n,s){return qE?new Jp(e,n,s):n?new Jp(e,n):new Jp(e)}doWrite(e,n){this.ws.send(n)}}class pk extends ag{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=X5(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(n).getReader(),a=K5();a.readable.pipeTo(e.writable),this._writer=a.writable.getWriter();const c=()=>{s.read().then(({done:f,value:d})=>{f||(this.onPacket(d),c())}).catch(f=>{})};c();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this._writer.write(u).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],a=n===e.length-1;this._writer.write(s).then(()=>{a&&Qf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const mk={websocket:hk,webtransport:pk,polling:fk},yk=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,gk=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Gm(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),s=t.indexOf("]");n!=-1&&s!=-1&&(t=t.substring(0,n)+t.substring(n,s).replace(/:/g,";")+t.substring(s,t.length));let a=yk.exec(t||""),c={},u=14;for(;u--;)c[gk[u]]=a[u]||"";return n!=-1&&s!=-1&&(c.source=e,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=vk(c,c.path),c.queryKey=xk(c,c.query),c}function vk(t,e){const n=/\/{2,9}/g,s=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function xk(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,c){a&&(n[a]=c)}),n}const Km=typeof addEventListener=="function"&&typeof removeEventListener=="function",$u=[];Km&&addEventListener("offline",()=>{$u.forEach(t=>t())},!1);class Oi extends En{constructor(e,n){if(super(),this.binaryType=Z5,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const s=Gm(e);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=Gm(n.host).host);Zf(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const a=s.prototype.name;this.transports.push(a),this._transportsByName[a]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=sk(this.opts.query)),Km&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},$u.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=zE,n.transport=e,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Oi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Oi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const a=this.writeBuffer[s].data;if(a&&(n+=tk(a)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Qf(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,s){return this._sendPacket("message",e,n,s),this}send(e,n,s){return this._sendPacket("message",e,n,s),this}_sendPacket(e,n,s,a){if(typeof n=="function"&&(a=n,n=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const c={type:e,data:n,options:s};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(Oi.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Km&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=$u.indexOf(this._offlineEventListener);s!==-1&&$u.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Oi.protocol=zE;class bk extends Oi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),s=!1;Oi.priorWebsocketSuccess=!1;const a=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!s)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Oi.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(y(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=n.name,this.emitReserved("upgradeError",v)}}))};function c(){s||(s=!0,y(),n.close(),n=null)}const u=g=>{const v=new Error("probe error: "+g);v.transport=n.name,c(),this.emitReserved("upgradeError",v)};function f(){u("transport closed")}function d(){u("socket closed")}function p(g){n&&g.name!==n.name&&c()}const y=()=>{n.removeListener("open",a),n.removeListener("error",u),n.removeListener("close",f),this.off("close",d),this.off("upgrading",p)};n.once("open",a),n.once("error",u),n.once("close",f),this.once("close",d),this.once("upgrading",p),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&n.push(e[s]);return n}}let Sk=class extends bk{constructor(e,n={}){const s=typeof e=="object"?e:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(a=>mk[a]).filter(a=>!!a)),super(e,s)}};function _k(t,e="",n){let s=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),s=Gm(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const c=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+c+":"+s.port+e,s.href=s.protocol+"://"+c+(n&&n.port===s.port?"":":"+s.port),s}const wk=typeof ArrayBuffer=="function",Ck=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,FE=Object.prototype.toString,Ek=typeof Blob=="function"||typeof Blob<"u"&&FE.call(Blob)==="[object BlobConstructor]",Tk=typeof File=="function"||typeof File<"u"&&FE.call(File)==="[object FileConstructor]";function og(t){return wk&&(t instanceof ArrayBuffer||Ck(t))||Ek&&t instanceof Blob||Tk&&t instanceof File}function Vu(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,s=t.length;n<s;n++)if(Vu(t[n]))return!0;return!1}if(og(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Vu(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Vu(t[n]))return!0;return!1}function Rk(t){const e=[],n=t.data,s=t;return s.data=Xm(n,e),s.attachments=e.length,{packet:s,buffers:e}}function Xm(t,e){if(!t)return t;if(og(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let s=0;s<t.length;s++)n[s]=Xm(t[s],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=Xm(t[s],e));return n}return t}function Ak(t,e){return t.data=Qm(t.data,e),delete t.attachments,t}function Qm(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Qm(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Qm(t[n],e));return t}const Ok=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Mk=5;var Pt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Pt||(Pt={}));class Pk{constructor(e){this.replacer=e}encode(e){return(e.type===Pt.EVENT||e.type===Pt.ACK)&&Vu(e)?this.encodeAsBinary({type:e.type===Pt.EVENT?Pt.BINARY_EVENT:Pt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Pt.BINARY_EVENT||e.type===Pt.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=Rk(e),s=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(s),a}}function nS(t){return Object.prototype.toString.call(t)==="[object Object]"}class cg extends En{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const s=n.type===Pt.BINARY_EVENT;s||n.type===Pt.BINARY_ACK?(n.type=s?Pt.EVENT:Pt.ACK,this.reconstructor=new Nk(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(og(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const s={type:Number(e.charAt(0))};if(Pt[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Pt.BINARY_EVENT||s.type===Pt.BINARY_ACK){const c=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const u=e.substring(c,n);if(u!=Number(u)||e.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(u)}if(e.charAt(n+1)==="/"){const c=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););s.nsp=e.substring(c,n)}else s.nsp="/";const a=e.charAt(n+1);if(a!==""&&Number(a)==a){const c=n+1;for(;++n;){const u=e.charAt(n);if(u==null||Number(u)!=u){--n;break}if(n===e.length)break}s.id=Number(e.substring(c,n+1))}if(e.charAt(++n)){const c=this.tryParse(e.substr(n));if(cg.isPayloadValid(s.type,c))s.data=c;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Pt.CONNECT:return nS(n);case Pt.DISCONNECT:return n===void 0;case Pt.CONNECT_ERROR:return typeof n=="string"||nS(n);case Pt.EVENT:case Pt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Ok.indexOf(n[0])===-1);case Pt.ACK:case Pt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Nk{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=Ak(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Dk=Object.freeze(Object.defineProperty({__proto__:null,Decoder:cg,Encoder:Pk,get PacketType(){return Pt},protocol:Mk},Symbol.toStringTag,{value:"Module"}));function qr(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const kk=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class YE extends En{constructor(e,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[qr(e,"open",this.onopen.bind(this)),qr(e,"packet",this.onpacket.bind(this)),qr(e,"error",this.onerror.bind(this)),qr(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var s,a,c;if(kk.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const u={type:Pt.EVENT,data:n};if(u.options={},u.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const y=this.ids++,g=n.pop();this._registerAckCallback(y,g),u.id=y}const f=(a=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||a===void 0?void 0:a.writable,d=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!f||(d?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u)),this.flags={},this}_registerAckCallback(e,n){var s;const a=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(a===void 0){this.acks[e]=n;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let f=0;f<this.sendBuffer.length;f++)this.sendBuffer[f].id===e&&this.sendBuffer.splice(f,1);n.call(this,new Error("operation has timed out"))},a),u=(...f)=>{this.io.clearTimeoutFn(c),n.apply(this,f)};u.withError=!0,this.acks[e]=u}emitWithAck(e,...n){return new Promise((s,a)=>{const c=(u,f)=>u?a(u):s(f);c.withError=!0,n.push(c),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((a,...c)=>s!==this._queue[0]?void 0:(a!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...c)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Pt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Pt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Pt.EVENT:case Pt.BINARY_EVENT:this.onevent(e);break;case Pt.ACK:case Pt.BINARY_ACK:this.onack(e);break;case Pt.DISCONNECT:this.ondisconnect();break;case Pt.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let s=!1;return function(...a){s||(s=!0,n.packet({type:Pt.ACK,id:e,data:a}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Pt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,e.data)}}}function xo(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}xo.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};xo.prototype.reset=function(){this.attempts=0};xo.prototype.setMin=function(t){this.ms=t};xo.prototype.setMax=function(t){this.max=t};xo.prototype.setJitter=function(t){this.jitter=t};class Zm extends En{constructor(e,n){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Zf(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new xo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const a=n.parser||Dk;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Sk(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=qr(n,"open",function(){s.onopen(),e&&e()}),c=f=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",f),e?e(f):this.maybeReconnectOnOpen()},u=qr(n,"error",c);if(this._timeout!==!1){const f=this._timeout,d=this.setTimeoutFn(()=>{a(),c(new Error("timeout")),n.close()},f);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(a),this.subs.push(u),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(qr(e,"ping",this.onping.bind(this)),qr(e,"data",this.ondata.bind(this)),qr(e,"error",this.onerror.bind(this)),qr(e,"close",this.onclose.bind(this)),qr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Qf(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new YE(this,e,n),this.nsps[e]=s),s}_destroy(e){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let s=0;s<n.length;s++)this.engine.write(n[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(a=>{a?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",a)):e.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const xc={};function qu(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=_k(t,e.path||"/socket.io"),s=n.source,a=n.id,c=n.path,u=xc[a]&&c in xc[a].nsps,f=e.forceNew||e["force new connection"]||e.multiplex===!1||u;let d;return f?d=new Zm(s,e):(xc[a]||(xc[a]=new Zm(s,e)),d=xc[a]),n.query&&!e.query&&(e.query=n.queryKey),d.socket(n.path,e)}Object.assign(qu,{Manager:Zm,Socket:YE,io:qu,connect:qu});class GE extends wE{constructor(){super(),this.state=new Map,this.initial=new Map,this.metadata=new Map,this.log=new Map}createMatch(e,n){this.initial.set(e,n.initialState),this.setState(e,n.initialState),this.setMetadata(e,n.metadata)}setMetadata(e,n){this.metadata.set(e,n)}setState(e,n,s){if(s&&s.length>0){const a=this.log.get(e)||[];this.log.set(e,[...a,...s])}this.state.set(e,n)}fetch(e,n){const s={};return n.state&&(s.state=this.state.get(e)),n.metadata&&(s.metadata=this.metadata.get(e)),n.log&&(s.log=this.log.get(e)||[]),n.initialState&&(s.initialState=this.initial.get(e)),s}wipe(e){this.state.delete(e),this.metadata.delete(e)}listMatches(e){return[...this.metadata.entries()].filter(([,n])=>e?!(e.gameName!==void 0&&n.gameName!==e.gameName||e.where!==void 0&&(e.where.isGameover!==void 0&&n.gameover!==void 0!==e.where.isGameover||e.where.updatedBefore!==void 0&&n.updatedAt>=e.where.updatedBefore||e.where.updatedAfter!==void 0&&n.updatedAt<=e.where.updatedAfter)):!0).map(([n])=>n)}}class jk extends Map{constructor(e){super(),this.key=e,(JSON.parse(localStorage.getItem(this.key))||[]).forEach(s=>this.set(...s))}sync(){const e=[...this.entries()];localStorage.setItem(this.key,JSON.stringify(e))}set(e,n){return super.set(e,n),this.sync(),this}delete(e){const n=super.delete(e);return this.sync(),n}}class Lk extends GE{constructor(e="bgio"){super();const n=s=>new jk(`${e}_${s}`);this.state=n("state"),this.initial=n("initial"),this.metadata=n("metadata"),this.log=n("log")}}function Uk(t,e){if(t.ctx.gameover!==void 0)return null;if(t.ctx.activePlayers){for(const n of Object.keys(e))if(n in t.ctx.activePlayers)return n}else if(t.ctx.currentPlayer in e)return t.ctx.currentPlayer;return null}class Ik extends AE{constructor({game:e,bots:n,storageKey:s,persist:a}){const c={},u={};if(e&&e.ai&&n)for(const g in n){const v=n[g];u[g]=new v({game:e,enumerate:e.ai.enumerate,seed:e.seed})}const f=({playerID:g,...v})=>{const S=c[g];S!==void 0&&S(d(g,v))},d=EE(e),p={send:f,sendAll:g=>{for(const v in c)f({playerID:v,...g})}},y=a?new Lk(s):new GE;super(e,y,p),this.connect=(g,v)=>{c[g]=v},this.subscribe(({state:g,matchID:v})=>{if(!n)return;const S=Uk(g,u);S!==null&&setTimeout(async()=>{const C=await u[S].play(g,S);await this.onUpdate(C.action,g._stateID,v,C.action.payload.playerID)},100)})}}class zk extends Xf{constructor({master:e,...n}){super(n),this.master=e}sendChatMessage(e,n){const s=[e,n,this.credentials];this.master.onChatMessage(...s)}sendAction(e,n){this.master.onUpdate(n,e._stateID,this.matchID,this.playerID)}requestSync(){this.master.onSync(this.matchID,this.playerID,this.credentials,this.numPlayers)}connect(){this.setConnectionStatus(!0),this.master.connect(this.playerID,e=>this.notifyClient(e)),this.requestSync()}disconnect(){this.setConnectionStatus(!1)}updateMatchID(e){this.matchID=e,this.connect()}updatePlayerID(e){this.playerID=e,this.connect()}updateCredentials(e){this.credentials=e,this.connect()}}const rS=new Map;function Bk({bots:t,persist:e,storageKey:n}={}){return s=>{const{gameKey:a,game:c}=s;let u;const f=rS.get(a);return f&&f.bots===t&&f.storageKey===n&&f.persist===e&&(u=f.master),u||(u=new Ik({game:c,bots:t,persist:e,storageKey:n}),rS.set(a,{master:u,bots:t,persist:e,storageKey:n})),new zk({master:u,...s})}}const sS=qu;class Hk extends Xf{constructor({socket:e,socketOpts:n,server:s,...a}){super(a),this.server=s,this.socket=e,this.socketOpts=n}sendAction(e,n){const s=[n,e._stateID,this.matchID,this.playerID];this.socket.emit("update",...s)}sendChatMessage(e,n){const s=[e,n,this.credentials];this.socket.emit("chat",...s)}connect(){if(!this.socket)if(this.server){let e=this.server;e.search(/^https?:\/\//)==-1&&(e="http://"+this.server),e.slice(-1)!="/"&&(e=e+"/"),this.socket=sS(e+this.gameName,this.socketOpts)}else this.socket=sS("/"+this.gameName,this.socketOpts);this.socket.on("patch",(e,n,s,a,c)=>{this.notifyClient({type:"patch",args:[e,n,s,a,c]})}),this.socket.on("update",(e,n,s)=>{this.notifyClient({type:"update",args:[e,n,s]})}),this.socket.on("sync",(e,n)=>{this.notifyClient({type:"sync",args:[e,n]})}),this.socket.on("matchData",(e,n)=>{this.notifyClient({type:"matchData",args:[e,n]})}),this.socket.on("chat",(e,n)=>{this.notifyClient({type:"chat",args:[e,n]})}),this.socket.on("connect",()=>{this.requestSync(),this.setConnectionStatus(!0)}),this.socket.on("disconnect",()=>{this.setConnectionStatus(!1)})}disconnect(){this.socket.close(),this.socket=null,this.setConnectionStatus(!1)}requestSync(){if(this.socket){const e=[this.matchID,this.playerID,this.credentials,this.numPlayers];this.socket.emit("sync",...e)}}updateMatchID(e){this.matchID=e,this.requestSync()}updatePlayerID(e){this.playerID=e,this.requestSync()}updateCredentials(e){this.credentials=e,this.requestSync()}}function iS({server:t,socketOpts:e}={}){return n=>new Hk({server:t,socketOpts:e,...n})}function KE(t){var e;const{game:n,numPlayers:s,board:a,multiplayer:c,enhancer:u}=t;let{loading:f,debug:d}=t;return f===void 0&&(f=()=>je.createElement("div",{className:"bgio-loading"},"connecting...")),e=class extends je.Component{constructor(y){super(y),d===void 0&&(d=y.debug),this.client=P5({game:n,debug:d,numPlayers:s,multiplayer:c,matchID:y.matchID,playerID:y.playerID,credentials:y.credentials,enhancer:u})}componentDidMount(){this.unsubscribe=this.client.subscribe(()=>this.forceUpdate()),this.client.start()}componentWillUnmount(){this.client.stop(),this.unsubscribe()}componentDidUpdate(y){this.props.matchID!=y.matchID&&this.client.updateMatchID(this.props.matchID),this.props.playerID!=y.playerID&&this.client.updatePlayerID(this.props.playerID),this.props.credentials!=y.credentials&&this.client.updateCredentials(this.props.credentials)}render(){const y=this.client.getState();if(y===null)return je.createElement(f);let g=null;return a&&(g=je.createElement(a,{...y,...this.props,isMultiplayer:!!c,moves:this.client.moves,events:this.client.events,matchID:this.client.matchID,playerID:this.client.playerID,reset:this.client.reset,undo:this.client.undo,redo:this.client.redo,log:this.client.log,matchData:this.client.matchData,sendChatMessage:this.client.sendChatMessage,chatMessages:this.client.chatMessages})),je.createElement("div",{className:"bgio-client"},g)}},e.propTypes={matchID:is.string,playerID:is.string,credentials:is.string,debug:is.any},e.defaultProps={matchID:"default",playerID:null,credentials:null,debug:!0},e}class $k{constructor({server:e,gameComponents:n,playerName:s,playerCredentials:a}){this.client=new D5({server:e}),this.gameComponents=n,this.playerName=s||"Visitor",this.playerCredentials=a,this.matches=[]}async refresh(){try{this.matches=[];const e=await this.client.listGames();for(const n of e){if(!this._getGameComponents(n))continue;const{matches:s}=await this.client.listMatches(n);this.matches.push(...s)}}catch(e){throw new Error("failed to retrieve list of matches ("+e+")")}}_getMatchInstance(e){for(const n of this.matches)if(n.matchID===e)return n}_getGameComponents(e){for(const n of this.gameComponents)if(n.game.name===e)return n}_findPlayer(e){for(const n of this.matches)if(n.players.some(s=>s.name===e))return n}async join(e,n,s){try{let a=this._findPlayer(this.playerName);if(a)throw new Error("player has already joined "+a.matchID);if(a=this._getMatchInstance(n),!a)throw new Error("game instance "+n+" not found");const c=await this.client.joinMatch(e,n,{playerID:s,playerName:this.playerName});a.players[Number.parseInt(s)].name=this.playerName,this.playerCredentials=c.playerCredentials}catch(a){throw new Error("failed to join match "+n+" ("+a+")")}}async leave(e,n){try{const s=this._getMatchInstance(n);if(!s)throw new Error("match instance not found");for(const a of s.players)if(a.name===this.playerName){await this.client.leaveMatch(e,n,{playerID:a.id.toString(),credentials:this.playerCredentials}),delete a.name,delete this.playerCredentials;return}throw new Error("player not found in match")}catch(s){throw new Error("failed to leave match "+n+" ("+s+")")}}async disconnect(){const e=this._findPlayer(this.playerName);e&&await this.leave(e.gameName,e.matchID),this.matches=[],this.playerName="Visitor"}async create(e,n){try{const s=this._getGameComponents(e);if(!s)throw new Error("game not found");if(n<s.game.minPlayers||n>s.game.maxPlayers)throw new Error("invalid number of players "+n);await this.client.createMatch(e,{numPlayers:n})}catch(s){throw new Error("failed to create match for "+e+" ("+s+")")}}}function Vk(t){return new $k(t)}class XE extends je.Component{constructor(){super(...arguments),this.state={playerName:this.props.playerName,nameErrorMsg:""},this.onClickEnter=()=>{this.state.playerName!==""&&this.props.onEnter(this.state.playerName)},this.onKeyPress=e=>{e.key==="Enter"&&this.onClickEnter()},this.onChangePlayerName=e=>{const n=e.target.value.trim();this.setState({playerName:n,nameErrorMsg:n.length>0?"":"empty player name"})}}render(){return je.createElement("div",null,je.createElement("p",{className:"phase-title"},"Choose a player name:"),je.createElement("input",{type:"text",value:this.state.playerName,onChange:this.onChangePlayerName,onKeyPress:this.onKeyPress}),je.createElement("span",{className:"buttons"},je.createElement("button",{className:"buttons",onClick:this.onClickEnter},"Enter")),je.createElement("br",null),je.createElement("span",{className:"error-msg"},this.state.nameErrorMsg,je.createElement("br",null)))}}XE.defaultProps={playerName:""};class qk extends je.Component{constructor(){super(...arguments),this._createSeat=e=>e.name||"[free]",this._createButtonJoin=(e,n)=>je.createElement("button",{key:"button-join-"+e.matchID,onClick:()=>this.props.onClickJoin(e.gameName,e.matchID,""+n)},"Join"),this._createButtonLeave=e=>je.createElement("button",{key:"button-leave-"+e.matchID,onClick:()=>this.props.onClickLeave(e.gameName,e.matchID)},"Leave"),this._createButtonPlay=(e,n)=>je.createElement("button",{key:"button-play-"+e.matchID,onClick:()=>this.props.onClickPlay(e.gameName,{matchID:e.matchID,playerID:""+n,numPlayers:e.players.length})},"Play"),this._createButtonSpectate=e=>je.createElement("button",{key:"button-spectate-"+e.matchID,onClick:()=>this.props.onClickPlay(e.gameName,{matchID:e.matchID,numPlayers:e.players.length})},"Spectate"),this._createInstanceButtons=e=>{const n=e.players.find(a=>a.name===this.props.playerName),s=e.players.find(a=>!a.name);return n&&s?this._createButtonLeave(e):s?this._createButtonJoin(e,s.id):n?je.createElement("div",null,[this._createButtonPlay(e,n.id),this._createButtonLeave(e)]):this._createButtonSpectate(e)}}render(){const e=this.props.match;let n="OPEN";return e.players.some(s=>!s.name)||(n="RUNNING"),je.createElement("tr",{key:"line-"+e.matchID},je.createElement("td",{key:"cell-name-"+e.matchID},e.gameName),je.createElement("td",{key:"cell-status-"+e.matchID},n),je.createElement("td",{key:"cell-seats-"+e.matchID},e.players.map(s=>this._createSeat(s)).join(", ")),je.createElement("td",{key:"cell-buttons-"+e.matchID},this._createInstanceButtons(e)))}}class Fk extends je.Component{constructor(e){super(e),this.state={selectedGame:0,numPlayers:2},this._createGameNameOption=(n,s)=>je.createElement("option",{key:"name-option-"+s,value:s},n.game.name),this._createNumPlayersOption=n=>je.createElement("option",{key:"num-option-"+n,value:n},n),this._createNumPlayersRange=n=>Array.from({length:n.maxPlayers+1}).map((s,a)=>a).slice(n.minPlayers),this.onChangeNumPlayers=n=>{this.setState({numPlayers:Number.parseInt(n.target.value)})},this.onChangeSelectedGame=n=>{const s=Number.parseInt(n.target.value);this.setState({selectedGame:s,numPlayers:this.props.games[s].game.minPlayers})},this.onClickCreate=()=>{this.props.createMatch(this.props.games[this.state.selectedGame].game.name,this.state.numPlayers)};for(const n of e.games){const s=n.game;s.minPlayers||(s.minPlayers=1),s.maxPlayers||(s.maxPlayers=4),console.assert(s.maxPlayers>=s.minPlayers)}this.state={selectedGame:0,numPlayers:e.games[0].game.minPlayers}}render(){return je.createElement("div",null,je.createElement("select",{value:this.state.selectedGame,onChange:e=>this.onChangeSelectedGame(e)},this.props.games.map((e,n)=>this._createGameNameOption(e,n))),je.createElement("span",null,"Players:"),je.createElement("select",{value:this.state.numPlayers,onChange:this.onChangeNumPlayers},this._createNumPlayersRange(this.props.games[this.state.selectedGame].game).map(e=>this._createNumPlayersOption(e))),je.createElement("span",{className:"buttons"},je.createElement("button",{onClick:this.onClickCreate},"Create")))}}var cr;(function(t){t.ENTER="enter",t.PLAY="play",t.LIST="list"})(cr||(cr={}));class QE extends je.Component{constructor(e){super(e),this.state={phase:cr.ENTER,playerName:"Visitor",runningMatch:null,errorMsg:"",credentialStore:{}},this._createConnection=n=>{const s=this.state.playerName;this.connection=Vk({server:n.lobbyServer,gameComponents:n.gameComponents,playerName:s,playerCredentials:this.state.credentialStore[s]})},this._updateCredentials=(n,s)=>{this.setState(a=>{const c=Object.assign({},a.credentialStore);return c[n]=s,{credentialStore:c}})},this._updateConnection=async()=>{await this.connection.refresh(),this.forceUpdate()},this._enterLobby=n=>{this._startRefreshInterval(),this.setState({playerName:n,phase:cr.LIST})},this._exitLobby=async()=>{this._clearRefreshInterval(),await this.connection.disconnect(),this.setState({phase:cr.ENTER,errorMsg:""})},this._createMatch=async(n,s)=>{try{await this.connection.create(n,s),await this.connection.refresh(),this.setState({})}catch(a){this.setState({errorMsg:a.message})}},this._joinMatch=async(n,s,a)=>{try{await this.connection.join(n,s,a),await this.connection.refresh(),this._updateCredentials(this.connection.playerName,this.connection.playerCredentials)}catch(c){this.setState({errorMsg:c.message})}},this._leaveMatch=async(n,s)=>{try{await this.connection.leave(n,s),await this.connection.refresh(),this._updateCredentials(this.connection.playerName,this.connection.playerCredentials)}catch(a){this.setState({errorMsg:a.message})}},this._startMatch=(n,s)=>{const a=this.connection._getGameComponents(n);if(!a){this.setState({errorMsg:"game "+n+" not supported"});return}let c;if(s.numPlayers>1&&(c=this.props.gameServer?iS({server:this.props.gameServer}):iS()),s.numPlayers==1){const d=a.game.maxPlayers,p={};for(let y=1;y<d;y++)p[y+""]=_5;c=Bk({bots:p})}const f={app:this.props.clientFactory({game:a.game,board:a.board,debug:this.props.debug,multiplayer:c}),matchID:s.matchID,playerID:s.numPlayers>1?s.playerID:"0",credentials:this.connection.playerCredentials};this._clearRefreshInterval(),this.setState({phase:cr.PLAY,runningMatch:f})},this._exitMatch=()=>{this._startRefreshInterval(),this.setState({phase:cr.LIST,runningMatch:null})},this._getPhaseVisibility=n=>this.state.phase!==n?"hidden":"phase",this.renderMatches=(n,s)=>n.map(a=>{const{matchID:c,gameName:u,players:f}=a;return je.createElement(qk,{key:"instance-"+c,match:{matchID:c,gameName:u,players:Object.values(f)},playerName:s,onClickJoin:this._joinMatch,onClickLeave:this._leaveMatch,onClickPlay:this._startMatch})}),this._createConnection(this.props)}componentDidMount(){const e=Z1.load("lobbyState")||{};e.phase&&e.phase===cr.PLAY&&(e.phase=cr.LIST),e.phase&&e.phase!==cr.ENTER&&this._startRefreshInterval(),this.setState({phase:e.phase||cr.ENTER,playerName:e.playerName||"Visitor",credentialStore:e.credentialStore||{}})}componentDidUpdate(e,n){const s=this.state.playerName,a=this.state.credentialStore[s];if(n.phase!==this.state.phase||n.credentialStore[s]!==a||n.playerName!==s){this._createConnection(this.props),this._updateConnection();const c={phase:this.state.phase,playerName:s,credentialStore:this.state.credentialStore};Z1.save("lobbyState",c,{path:"/"})}e.refreshInterval!==this.props.refreshInterval&&this._startRefreshInterval()}componentWillUnmount(){this._clearRefreshInterval()}_startRefreshInterval(){this._clearRefreshInterval(),this._currentInterval=setInterval(this._updateConnection,this.props.refreshInterval)}_clearRefreshInterval(){clearInterval(this._currentInterval)}render(){const{gameComponents:e,renderer:n}=this.props,{errorMsg:s,playerName:a,phase:c,runningMatch:u}=this.state;return n?n({errorMsg:s,gameComponents:e,matches:this.connection.matches,phase:c,playerName:a,runningMatch:u,handleEnterLobby:this._enterLobby,handleExitLobby:this._exitLobby,handleCreateMatch:this._createMatch,handleJoinMatch:this._joinMatch,handleLeaveMatch:this._leaveMatch,handleExitMatch:this._exitMatch,handleRefreshMatches:this._updateConnection,handleStartMatch:this._startMatch}):je.createElement("div",{id:"lobby-view",style:{padding:50}},je.createElement("div",{className:this._getPhaseVisibility(cr.ENTER)},je.createElement(XE,{key:a,playerName:a,onEnter:this._enterLobby})),je.createElement("div",{className:this._getPhaseVisibility(cr.LIST)},je.createElement("p",null,"Welcome, ",a),je.createElement("div",{className:"phase-title",id:"match-creation"},je.createElement("span",null,"Create a match:"),je.createElement(Fk,{games:e,createMatch:this._createMatch})),je.createElement("p",{className:"phase-title"},"Join a match:"),je.createElement("div",{id:"instances"},je.createElement("table",null,je.createElement("tbody",null,this.renderMatches(this.connection.matches,a))),je.createElement("span",{className:"error-msg"},s,je.createElement("br",null))),je.createElement("p",{className:"phase-title"},"Matches that become empty are automatically deleted.")),je.createElement("div",{className:this._getPhaseVisibility(cr.PLAY)},u&&je.createElement(u.app,{matchID:u.matchID,playerID:u.playerID,credentials:u.credentials}),je.createElement("div",{className:"buttons",id:"match-exit"},je.createElement("button",{onClick:this._exitMatch},"Exit match"))),je.createElement("div",{className:"buttons",id:"lobby-exit"},je.createElement("button",{onClick:this._exitLobby},"Exit lobby")))}}QE.propTypes={gameComponents:is.array.isRequired,lobbyServer:is.string,gameServer:is.string,debug:is.bool,clientFactory:is.func,refreshInterval:is.number};QE.defaultProps={debug:!1,clientFactory:KE,refreshInterval:2e3};function Yk({title:t="Connecting",description:e="Hang tight while we get everything ready.",roomCode:n,topRightSlot:s}){return b.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-gradient-to-br from-primary/10 via-background to-secondary/10",children:[s,b.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_top,_theme(colors.primary/15),transparent_60%)]"}),b.jsx("div",{className:"relative flex min-h-screen flex-col items-center justify-center px-6 py-16",children:b.jsxs("div",{className:"w-full max-w-md space-y-6 rounded-3xl border border-border/50 bg-background/90 p-10 text-center shadow-xl backdrop-blur",children:[b.jsx("div",{className:"flex items-center justify-center",children:b.jsx(py,{className:"h-12 w-12 animate-spin text-primary"})}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h2",{className:"text-2xl font-heading",children:t}),e?b.jsx("p",{className:"text-sm text-muted-foreground",children:e}):null]}),n?b.jsx("div",{className:"flex justify-center",children:b.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-border/70 bg-muted/40 px-4 py-2 font-mono text-xs uppercase tracking-[0.3em] text-muted-foreground",children:["Room",b.jsx("span",{className:"text-foreground",children:n})]})}):null]})})]})}const Jm=()=>typeof window>"u"?"Player":localStorage.getItem("playerName")||"Player",Gk=t=>{if(typeof window>"u")return t;const e=sessionStorage.getItem("musicshowdown.pendingRole");if(e==="host"||e==="peer")return sessionStorage.removeItem("musicshowdown.pendingRole"),e;const n=sessionStorage.getItem("musicshowdown.lastRole");return n==="host"||n==="peer"?n:t},Kk=t=>{typeof window<"u"&&sessionStorage.setItem("musicshowdown.lastRole",t)},Xk=(t,e)=>{const n=typeof window<"u"?sessionStorage.getItem("musicshowdown.pendingRole"):null,s=ng(t);if(s&&!n)return typeof window<"u"&&sessionStorage.setItem("musicshowdown.lastRole",s.role),s;s&&n&&h5(t);const a=Gk(e);if(a==="peer")return ME(Jm());const c=PE(t,a,Jm());return typeof window<"u"&&sessionStorage.setItem("musicshowdown.lastRole",c.role),c};function Qk({roomCode:t,defaultRole:e,board:n}){const[s,a]=T.useState(()=>Xk(t,e)),c=T.useCallback(v=>{a(S=>{const C=typeof v=="function"?v(S):v;return Kk(C.role),C})},[]),u=T.useCallback(v=>{const S=v.trim().slice(0,24);S&&(typeof window<"u"&&localStorage.setItem("playerName",S),c(C=>C.role==="spectator"?{...C,playerName:S}:PE(t,C.role,S)))},[t,c]),f=T.useCallback(v=>{c(S=>{const C=v?.trim().slice(0,24)||S.playerName;return d5(t,C)})},[t,c]),d=T.useCallback(v=>{c(S=>{if(S.role==="host")return S;const C=S.playerName.trim()||Jm();return{...u5(t,C,v),role:"peer"}})},[t,c]),p=T.useCallback(()=>{c(v=>v.role!=="peer"||v.playerID===Pc?v:(f5(t,v.playerID),ME(v.playerName)))},[t,c]),y=T.useMemo(()=>{const v=n;return function(C){return b.jsx(v,{...C,identity:s,isHost:s.role==="host",updatePlayerName:u,promoteToHost:f,claimSeat:d,releaseSeat:p})}},[n,s,f,u,d,p]),g=T.useMemo(()=>KE({game:c5,board:y,multiplayer:ds.P2P({isHost:s.role==="host"}),numPlayers:$c,debug:!1,loading:()=>b.jsx(Yk,{title:"Connecting to your room",description:"Setting the stage and syncing players. Hang tightthis should only take a moment.",roomCode:t,topRightSlot:b.jsx("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:b.jsx(Cy,{})})})}),[y,s.role]);return b.jsx(g,{matchID:t,playerID:s.role==="spectator"?void 0:s.playerID,credentials:s.role==="spectator"?void 0:s.credentials},`${t}:${s.playerID}:${s.credentials}:${s.role}`)}const Jf=IA({component:DP}),Zk=Tf({getParentRoute:()=>Jf,path:"/music-showdown/",component:HP}),ZE=Tf({getParentRoute:()=>Jf,path:"/music-showdown/game/$roomCode",component:()=>{const{roomCode:t}=ZE.useParams();return typeof window<"u"&&(sessionStorage.getItem("musicshowdown.pendingRole")||sessionStorage.setItem("musicshowdown.pendingRole","peer")),b.jsx(Qk,{roomCode:t,defaultRole:"peer",board:m5})}}),Jk=Tf({getParentRoute:()=>Jf,path:"*",component:y5}),Wk=Jf.addChildren([Zk,ZE,Jk]),e8=GA({routeTree:Wk});c2.createRoot(document.getElementById("root")).render(b.jsx(QA,{router:e8}));
