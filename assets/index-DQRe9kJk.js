function aS(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in t)){const c=Object.getOwnPropertyDescriptor(s,a);c&&Object.defineProperty(t,a,c.get?c:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var Bx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function xf(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function s(){var a=!1;try{a=this instanceof s}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var a=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return t[s]}})}),n}var tp={exports:{}},oc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx;function e2(){if(Hx)return oc;Hx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,c){var u=null;if(c!==void 0&&(u=""+c),a.key!==void 0&&(u=""+a.key),"key"in a){c={};for(var f in a)f!=="key"&&(c[f]=a[f])}else c=a;return a=c.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:c}}return oc.Fragment=e,oc.jsx=n,oc.jsxs=n,oc}var $x;function t2(){return $x||($x=1,tp.exports=e2()),tp.exports}var b=t2(),np={exports:{}},cc={},rp={exports:{}},sp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx;function n2(){return Vx||(Vx=1,(function(t){function e(B,ie){var $=B.length;B.push(ie);e:for(;0<$;){var Ee=$-1>>>1,ke=B[Ee];if(0<a(ke,ie))B[Ee]=ie,B[$]=ke,$=Ee;else break e}}function n(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var ie=B[0],$=B.pop();if($!==ie){B[0]=$;e:for(var Ee=0,ke=B.length,I=ke>>>1;Ee<I;){var re=2*(Ee+1)-1,le=B[re],ve=re+1,be=B[ve];if(0>a(le,$))ve<ke&&0>a(be,le)?(B[Ee]=be,B[ve]=$,Ee=ve):(B[Ee]=le,B[re]=$,Ee=re);else if(ve<ke&&0>a(be,$))B[Ee]=be,B[ve]=$,Ee=ve;else break e}}return ie}function a(B,ie){var $=B.sortIndex-ie.sortIndex;return $!==0?$:B.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var d=[],p=[],y=1,g=null,v=3,S=!1,C=!1,E=!1,M=!1,P=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function j(B){for(var ie=n(p);ie!==null;){if(ie.callback===null)s(p);else if(ie.startTime<=B)s(p),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=n(p)}}function G(B){if(E=!1,j(B),!C)if(n(d)!==null)C=!0,X||(X=!0,Ce());else{var ie=n(p);ie!==null&&Ue(G,ie.startTime-B)}}var X=!1,Y=-1,K=5,pe=-1;function xe(){return M?!0:!(t.unstable_now()-pe<K)}function _e(){if(M=!1,X){var B=t.unstable_now();pe=B;var ie=!0;try{e:{C=!1,E&&(E=!1,D(Y),Y=-1),S=!0;var $=v;try{t:{for(j(B),g=n(d);g!==null&&!(g.expirationTime>B&&xe());){var Ee=g.callback;if(typeof Ee=="function"){g.callback=null,v=g.priorityLevel;var ke=Ee(g.expirationTime<=B);if(B=t.unstable_now(),typeof ke=="function"){g.callback=ke,j(B),ie=!0;break t}g===n(d)&&s(d),j(B)}else s(d);g=n(d)}if(g!==null)ie=!0;else{var I=n(p);I!==null&&Ue(G,I.startTime-B),ie=!1}}break e}finally{g=null,v=$,S=!1}ie=void 0}}finally{ie?Ce():X=!1}}}var Ce;if(typeof k=="function")Ce=function(){k(_e)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,ge=Re.port2;Re.port1.onmessage=_e,Ce=function(){ge.postMessage(null)}}else Ce=function(){P(_e,0)};function Ue(B,ie){Y=P(function(){B(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(B){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var $=v;v=ie;try{return B()}finally{v=$}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(B,ie){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var $=v;v=B;try{return ie()}finally{v=$}},t.unstable_scheduleCallback=function(B,ie,$){var Ee=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Ee+$:Ee):$=Ee,B){case 1:var ke=-1;break;case 2:ke=250;break;case 5:ke=1073741823;break;case 4:ke=1e4;break;default:ke=5e3}return ke=$+ke,B={id:y++,callback:ie,priorityLevel:B,startTime:$,expirationTime:ke,sortIndex:-1},$>Ee?(B.sortIndex=$,e(p,B),n(d)===null&&B===n(p)&&(E?(D(Y),Y=-1):E=!0,Ue(G,$-Ee))):(B.sortIndex=ke,e(d,B),C||S||(C=!0,X||(X=!0,Ce()))),B},t.unstable_shouldYield=xe,t.unstable_wrapCallback=function(B){var ie=v;return function(){var $=v;v=ie;try{return B.apply(this,arguments)}finally{v=$}}}})(sp)),sp}var qx;function r2(){return qx||(qx=1,rp.exports=n2()),rp.exports}var ip={exports:{}},dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fx;function s2(){if(Fx)return dt;Fx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function S(I){return I===null||typeof I!="object"?null:(I=v&&I[v]||I["@@iterator"],typeof I=="function"?I:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,M={};function P(I,re,le){this.props=I,this.context=re,this.refs=M,this.updater=le||C}P.prototype.isReactComponent={},P.prototype.setState=function(I,re){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,re,"setState")},P.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function D(){}D.prototype=P.prototype;function k(I,re,le){this.props=I,this.context=re,this.refs=M,this.updater=le||C}var j=k.prototype=new D;j.constructor=k,E(j,P.prototype),j.isPureReactComponent=!0;var G=Array.isArray;function X(){}var Y={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function pe(I,re,le){var ve=le.ref;return{$$typeof:t,type:I,key:re,ref:ve!==void 0?ve:null,props:le}}function xe(I,re){return pe(I.type,re,I.props)}function _e(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function Ce(I){var re={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(le){return re[le]})}var Re=/\/+/g;function ge(I,re){return typeof I=="object"&&I!==null&&I.key!=null?Ce(""+I.key):re.toString(36)}function Ue(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(X,X):(I.status="pending",I.then(function(re){I.status==="pending"&&(I.status="fulfilled",I.value=re)},function(re){I.status==="pending"&&(I.status="rejected",I.reason=re)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function B(I,re,le,ve,be){var Te=typeof I;(Te==="undefined"||Te==="boolean")&&(I=null);var Ne=!1;if(I===null)Ne=!0;else switch(Te){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(I.$$typeof){case t:case e:Ne=!0;break;case y:return Ne=I._init,B(Ne(I._payload),re,le,ve,be)}}if(Ne)return be=be(I),Ne=ve===""?"."+ge(I,0):ve,G(be)?(le="",Ne!=null&&(le=Ne.replace(Re,"$&/")+"/"),B(be,re,le,"",function(J){return J})):be!=null&&(_e(be)&&(be=xe(be,le+(be.key==null||I&&I.key===be.key?"":(""+be.key).replace(Re,"$&/")+"/")+Ne)),re.push(be)),1;Ne=0;var it=ve===""?".":ve+":";if(G(I))for(var z=0;z<I.length;z++)ve=I[z],Te=it+ge(ve,z),Ne+=B(ve,re,le,Te,be);else if(z=S(I),typeof z=="function")for(I=z.call(I),z=0;!(ve=I.next()).done;)ve=ve.value,Te=it+ge(ve,z++),Ne+=B(ve,re,le,Te,be);else if(Te==="object"){if(typeof I.then=="function")return B(Ue(I),re,le,ve,be);throw re=String(I),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function ie(I,re,le){if(I==null)return I;var ve=[],be=0;return B(I,ve,"","",function(Te){return re.call(le,Te,be++)}),ve}function $(I){if(I._status===-1){var re=I._result;re=re(),re.then(function(le){(I._status===0||I._status===-1)&&(I._status=1,I._result=le)},function(le){(I._status===0||I._status===-1)&&(I._status=2,I._result=le)}),I._status===-1&&(I._status=0,I._result=re)}if(I._status===1)return I._result.default;throw I._result}var Ee=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},ke={map:ie,forEach:function(I,re,le){ie(I,function(){re.apply(this,arguments)},le)},count:function(I){var re=0;return ie(I,function(){re++}),re},toArray:function(I){return ie(I,function(re){return re})||[]},only:function(I){if(!_e(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return dt.Activity=g,dt.Children=ke,dt.Component=P,dt.Fragment=n,dt.Profiler=a,dt.PureComponent=k,dt.StrictMode=s,dt.Suspense=d,dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,dt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return Y.H.useMemoCache(I)}},dt.cache=function(I){return function(){return I.apply(null,arguments)}},dt.cacheSignal=function(){return null},dt.cloneElement=function(I,re,le){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ve=E({},I.props),be=I.key;if(re!=null)for(Te in re.key!==void 0&&(be=""+re.key),re)!K.call(re,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&re.ref===void 0||(ve[Te]=re[Te]);var Te=arguments.length-2;if(Te===1)ve.children=le;else if(1<Te){for(var Ne=Array(Te),it=0;it<Te;it++)Ne[it]=arguments[it+2];ve.children=Ne}return pe(I.type,be,ve)},dt.createContext=function(I){return I={$$typeof:u,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},dt.createElement=function(I,re,le){var ve,be={},Te=null;if(re!=null)for(ve in re.key!==void 0&&(Te=""+re.key),re)K.call(re,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(be[ve]=re[ve]);var Ne=arguments.length-2;if(Ne===1)be.children=le;else if(1<Ne){for(var it=Array(Ne),z=0;z<Ne;z++)it[z]=arguments[z+2];be.children=it}if(I&&I.defaultProps)for(ve in Ne=I.defaultProps,Ne)be[ve]===void 0&&(be[ve]=Ne[ve]);return pe(I,Te,be)},dt.createRef=function(){return{current:null}},dt.forwardRef=function(I){return{$$typeof:f,render:I}},dt.isValidElement=_e,dt.lazy=function(I){return{$$typeof:y,_payload:{_status:-1,_result:I},_init:$}},dt.memo=function(I,re){return{$$typeof:p,type:I,compare:re===void 0?null:re}},dt.startTransition=function(I){var re=Y.T,le={};Y.T=le;try{var ve=I(),be=Y.S;be!==null&&be(le,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(X,Ee)}catch(Te){Ee(Te)}finally{re!==null&&le.types!==null&&(re.types=le.types),Y.T=re}},dt.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},dt.use=function(I){return Y.H.use(I)},dt.useActionState=function(I,re,le){return Y.H.useActionState(I,re,le)},dt.useCallback=function(I,re){return Y.H.useCallback(I,re)},dt.useContext=function(I){return Y.H.useContext(I)},dt.useDebugValue=function(){},dt.useDeferredValue=function(I,re){return Y.H.useDeferredValue(I,re)},dt.useEffect=function(I,re){return Y.H.useEffect(I,re)},dt.useEffectEvent=function(I){return Y.H.useEffectEvent(I)},dt.useId=function(){return Y.H.useId()},dt.useImperativeHandle=function(I,re,le){return Y.H.useImperativeHandle(I,re,le)},dt.useInsertionEffect=function(I,re){return Y.H.useInsertionEffect(I,re)},dt.useLayoutEffect=function(I,re){return Y.H.useLayoutEffect(I,re)},dt.useMemo=function(I,re){return Y.H.useMemo(I,re)},dt.useOptimistic=function(I,re){return Y.H.useOptimistic(I,re)},dt.useReducer=function(I,re,le){return Y.H.useReducer(I,re,le)},dt.useRef=function(I){return Y.H.useRef(I)},dt.useState=function(I){return Y.H.useState(I)},dt.useSyncExternalStore=function(I,re,le){return Y.H.useSyncExternalStore(I,re,le)},dt.useTransition=function(){return Y.H.useTransition()},dt.version="19.2.0",dt}var Yx;function qc(){return Yx||(Yx=1,ip.exports=s2()),ip.exports}var ap={exports:{}},$n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx;function i2(){if(Gx)return $n;Gx=1;var t=qc();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function c(d,p,y){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:d,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return $n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$n.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(d,p,null,y)},$n.flushSync=function(d){var p=u.T,y=s.p;try{if(u.T=null,s.p=2,d)return d()}finally{u.T=p,s.p=y,s.d.f()}},$n.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(d,p))},$n.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},$n.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,g=f(y,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:S}):y==="script"&&s.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},$n.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);s.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(d)},$n.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,g=f(y,p.crossOrigin);s.d.L(d,y,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},$n.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=f(p.as,p.crossOrigin);s.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(d)},$n.requestFormReset=function(d){s.d.r(d)},$n.unstable_batchedUpdates=function(d,p){return d(p)},$n.useFormState=function(d,p,y){return u.H.useFormState(d,p,y)},$n.useFormStatus=function(){return u.H.useHostTransitionStatus()},$n.version="19.2.0",$n}var Kx;function oS(){if(Kx)return ap.exports;Kx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ap.exports=i2(),ap.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xx;function a2(){if(Xx)return cc;Xx=1;var t=r2(),e=qc(),n=oS();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function c(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function u(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function f(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(c(r)!==r)throw Error(s(188))}function p(r){var i=r.alternate;if(!i){if(i=c(r),i===null)throw Error(s(188));return i!==r?null:r}for(var o=r,l=i;;){var h=o.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){o=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===o)return d(h),r;if(m===l)return d(h),i;m=m.sibling}throw Error(s(188))}if(o.return!==l.return)o=h,l=m;else{for(var _=!1,O=h.child;O;){if(O===o){_=!0,o=h,l=m;break}if(O===l){_=!0,l=h,o=m;break}O=O.sibling}if(!_){for(O=m.child;O;){if(O===o){_=!0,o=m,l=h;break}if(O===l){_=!0,l=m,o=h;break}O=O.sibling}if(!_)throw Error(s(189))}}if(o.alternate!==l)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:i}function y(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=y(r),i!==null)return i;r=r.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),k=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),xe=Symbol.for("react.memo_cache_sentinel"),_e=Symbol.iterator;function Ce(r){return r===null||typeof r!="object"?null:(r=_e&&r[_e]||r["@@iterator"],typeof r=="function"?r:null)}var Re=Symbol.for("react.client.reference");function ge(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===Re?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case P:return"Profiler";case M:return"StrictMode";case G:return"Suspense";case X:return"SuspenseList";case pe:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case k:return r.displayName||"Context";case D:return(r._context.displayName||"Context")+".Consumer";case j:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Y:return i=r.displayName||null,i!==null?i:ge(r.type)||"Memo";case K:i=r._payload,r=r._init;try{return ge(r(i))}catch{}}return null}var Ue=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},Ee=[],ke=-1;function I(r){return{current:r}}function re(r){0>ke||(r.current=Ee[ke],Ee[ke]=null,ke--)}function le(r,i){ke++,Ee[ke]=r.current,r.current=i}var ve=I(null),be=I(null),Te=I(null),Ne=I(null);function it(r,i){switch(le(Te,i),le(be,r),le(ve,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?lx(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=lx(i),r=ux(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}re(ve),le(ve,r)}function z(){re(ve),re(be),re(Te)}function J(r){r.memoizedState!==null&&le(Ne,r);var i=ve.current,o=ux(i,r.type);i!==o&&(le(be,r),le(ve,o))}function fe(r){be.current===r&&(re(ve),re(be)),Ne.current===r&&(re(Ne),rc._currentValue=$)}var Pe,ze;function Be(r){if(Pe===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Pe=i&&i[1]||"",ze=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pe+r+ze}var St=!1;function gt(r,i){if(!r||St)return"";St=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ne){var W=ne}Reflect.construct(r,[],he)}else{try{he.call()}catch(ne){W=ne}r.call(he.prototype)}}else{try{throw Error()}catch(ne){W=ne}(he=r())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ne){if(ne&&W&&typeof ne.stack=="string")return[ne.stack,W.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),_=m[0],O=m[1];if(_&&O){var U=_.split(`
`),Z=O.split(`
`);for(h=l=0;l<U.length&&!U[l].includes("DetermineComponentFrameRoot");)l++;for(;h<Z.length&&!Z[h].includes("DetermineComponentFrameRoot");)h++;if(l===U.length||h===Z.length)for(l=U.length-1,h=Z.length-1;1<=l&&0<=h&&U[l]!==Z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(U[l]!==Z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||U[l]!==Z[h]){var oe=`
`+U[l].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=l&&0<=h);break}}}finally{St=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Be(o):""}function hn(r,i){switch(r.tag){case 26:case 27:case 5:return Be(r.type);case 16:return Be("Lazy");case 13:return r.child!==i&&i!==null?Be("Suspense Fallback"):Be("Suspense");case 19:return Be("SuspenseList");case 0:case 15:return gt(r.type,!1);case 11:return gt(r.type.render,!1);case 1:return gt(r.type,!0);case 31:return Be("Activity");default:return""}}function Pt(r){try{var i="",o=null;do i+=hn(r,o),o=r,r=r.return;while(r);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var mt=Object.prototype.hasOwnProperty,Ut=t.unstable_scheduleCallback,Xt=t.unstable_cancelCallback,xn=t.unstable_shouldYield,at=t.unstable_requestPaint,ht=t.unstable_now,Qt=t.unstable_getCurrentPriorityLevel,An=t.unstable_ImmediatePriority,Gn=t.unstable_UserBlockingPriority,Nn=t.unstable_NormalPriority,xs=t.unstable_LowPriority,bs=t.unstable_IdlePriority,Qr=t.log,fr=t.unstable_setDisableYieldValue,Kn=null,pn=null;function Pn(r){if(typeof Qr=="function"&&fr(r),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(Kn,r)}catch{}}var on=Math.clz32?Math.clz32:ws,Ss=Math.log,_s=Math.LN2;function ws(r){return r>>>=0,r===0?32:31-(Ss(r)/_s|0)|0}var Zr=256,Cs=262144,ei=4194304;function Ur(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Hn(r,i,o){var l=r.pendingLanes;if(l===0)return 0;var h=0,m=r.suspendedLanes,_=r.pingedLanes;r=r.warmLanes;var O=l&134217727;return O!==0?(l=O&~m,l!==0?h=Ur(l):(_&=O,_!==0?h=Ur(_):o||(o=O&~r,o!==0&&(h=Ur(o))))):(O=l&~m,O!==0?h=Ur(O):_!==0?h=Ur(_):o||(o=l&~r,o!==0&&(h=Ur(o)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,o=i&-i,m>=o||m===32&&(o&4194048)!==0)?i:h}function Xn(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Ir(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Es(){var r=ei;return ei<<=1,(ei&62914560)===0&&(ei=4194304),r}function Jr(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function Wr(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function se(r,i,o,l,h,m){var _=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var O=r.entanglements,U=r.expirationTimes,Z=r.hiddenUpdates;for(o=_&~o;0<o;){var oe=31-on(o),he=1<<oe;O[oe]=0,U[oe]=-1;var W=Z[oe];if(W!==null)for(Z[oe]=null,oe=0;oe<W.length;oe++){var ne=W[oe];ne!==null&&(ne.lane&=-536870913)}o&=~he}l!==0&&Se(r,l,0),m!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=m&~(_&~i))}function Se(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var l=31-on(i);r.entangledLanes|=i,r.entanglements[l]=r.entanglements[l]|1073741824|o&261930}function tt(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var l=31-on(o),h=1<<l;h&i|r[l]&i&&(r[l]|=i),o&=~h}}function w(r,i){var o=i&-i;return o=(o&42)!==0?1:T(o),(o&(r.suspendedLanes|i))!==0?0:o}function T(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function A(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function x(){var r=ie.p;return r!==0?r:(r=window.event,r===void 0?32:Dx(r.type))}function N(r,i){var o=ie.p;try{return ie.p=r,i()}finally{ie.p=o}}var V=Math.random().toString(36).slice(2),q="__reactFiber$"+V,ae="__reactProps$"+V,we="__reactContainer$"+V,He="__reactEvents$"+V,Me="__reactListeners$"+V,Ot="__reactHandles$"+V,je="__reactResources$"+V,Je="__reactMarker$"+V;function rt(r){delete r[q],delete r[ae],delete r[He],delete r[Me],delete r[Ot]}function ot(r){var i=r[q];if(i)return i;for(var o=r.parentNode;o;){if(i=o[we]||o[q]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=gx(r);r!==null;){if(o=r[q])return o;r=gx(r)}return i}r=o,o=r.parentNode}return null}function st(r){if(r=r[q]||r[we]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function We(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function et(r){var i=r[je];return i||(i=r[je]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function $e(r){r[Je]=!0}var Ie=new Set,Xe={};function Ae(r,i){De(r,i),De(r+"Capture",i)}function De(r,i){for(Xe[r]=i,r=0;r<i.length;r++)Ie.add(i[r])}var qe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oe={},ee={};function te(r){return mt.call(ee,r)?!0:mt.call(Oe,r)?!1:qe.test(r)?ee[r]=!0:(Oe[r]=!0,!1)}function ye(r,i,o){if(te(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function de(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function ce(r,i,o,l){if(l===null)r.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+l)}}function me(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Qe(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ft(r,i,o){var l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,m=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){o=""+_,m.call(this,_)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function lt(r){if(!r._valueTracker){var i=Qe(r)?"checked":"value";r._valueTracker=ft(r,i,""+r[i])}}function ut(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),l="";return r&&(l=Qe(r)?r.checked?"true":"false":r.value),r=l,r!==o?(i.setValue(r),!0):!1}function L(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var vt=/[\n"\\]/g;function ct(r){return r.replace(vt,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ct(r,i,o,l,h,m,_,O){r.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?r.type=_:r.removeAttribute("type"),i!=null?_==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+me(i)):r.value!==""+me(i)&&(r.value=""+me(i)):_!=="submit"&&_!=="reset"||r.removeAttribute("value"),i!=null?wt(r,_,me(i)):o!=null?wt(r,_,me(o)):l!=null&&r.removeAttribute("value"),h==null&&m!=null&&(r.defaultChecked=!!m),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.name=""+me(O):r.removeAttribute("name")}function pt(r,i,o,l,h,m,_,O){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),i!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){lt(r);return}o=o!=null?""+me(o):"",i=i!=null?""+me(i):o,O||i===r.value||(r.value=i),r.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,r.checked=O?r.checked:!!l,r.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.name=_),lt(r)}function wt(r,i,o){i==="number"&&L(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function xt(r,i,o,l){if(r=r.options,i){i={};for(var h=0;h<o.length;h++)i["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=i.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&l&&(r[o].defaultSelected=!0)}else{for(o=""+me(o),i=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,l&&(r[h].defaultSelected=!0);return}i!==null||r[h].disabled||(i=r[h])}i!==null&&(i.selected=!0)}}function tn(r,i,o){if(i!=null&&(i=""+me(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+me(o):""}function Dt(r,i,o,l){if(i==null){if(l!=null){if(o!=null)throw Error(s(92));if(Ue(l)){if(1<l.length)throw Error(s(93));l=l[0]}o=l}o==null&&(o=""),i=o}o=me(i),r.defaultValue=o,l=r.textContent,l===o&&l!==""&&l!==null&&(r.value=l),lt(r)}function Ht(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var nn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zt(r,i,o){var l=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?l?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":l?r.setProperty(i,o):typeof o!="number"||o===0||nn.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function cn(r,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,o!=null){for(var l in o)!o.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&o[h]!==l&&Zt(r,h,l)}else for(var m in i)i.hasOwnProperty(m)&&Zt(r,m,i[m])}function bn(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wc(r){return kn.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Ts(){}var Jf=null;function Wf(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ya=null,ga=null;function cg(r){var i=st(r);if(i&&(r=i.stateNode)){var o=r[ae]||null;e:switch(r=i.stateNode,i.type){case"input":if(Ct(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ct(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var l=o[i];if(l!==r&&l.form===r.form){var h=l[ae]||null;if(!h)throw Error(s(90));Ct(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<o.length;i++)l=o[i],l.form===r.form&&ut(l)}break e;case"textarea":tn(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&xt(r,!!o.multiple,i,!1)}}}var ed=!1;function lg(r,i,o){if(ed)return r(i,o);ed=!0;try{var l=r(i);return l}finally{if(ed=!1,(ya!==null||ga!==null)&&(Bl(),ya&&(i=ya,r=ga,ga=ya=null,cg(i),r)))for(i=0;i<r.length;i++)cg(r[i])}}function bo(r,i){var o=r.stateNode;if(o===null)return null;var l=o[ae]||null;if(l===null)return null;o=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(r=r.type,l=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!l;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var Rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),td=!1;if(Rs)try{var So={};Object.defineProperty(So,"passive",{get:function(){td=!0}}),window.addEventListener("test",So,So),window.removeEventListener("test",So,So)}catch{td=!1}var ti=null,nd=null,el=null;function ug(){if(el)return el;var r,i=nd,o=i.length,l,h="value"in ti?ti.value:ti.textContent,m=h.length;for(r=0;r<o&&i[r]===h[r];r++);var _=o-r;for(l=1;l<=_&&i[o-l]===h[m-l];l++);return el=h.slice(r,1<l?1-l:void 0)}function tl(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function nl(){return!0}function fg(){return!1}function nr(r){function i(o,l,h,m,_){this._reactName=o,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var O in r)r.hasOwnProperty(O)&&(o=r[O],this[O]=o?o(m):m[O]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?nl:fg,this.isPropagationStopped=fg,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),i}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rl=nr(Di),_o=g({},Di,{view:0,detail:0}),JE=nr(_o),rd,sd,wo,sl=g({},_o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ad,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==wo&&(wo&&r.type==="mousemove"?(rd=r.screenX-wo.screenX,sd=r.screenY-wo.screenY):sd=rd=0,wo=r),rd)},movementY:function(r){return"movementY"in r?r.movementY:sd}}),dg=nr(sl),WE=g({},sl,{dataTransfer:0}),eT=nr(WE),tT=g({},_o,{relatedTarget:0}),id=nr(tT),nT=g({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),rT=nr(nT),sT=g({},Di,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),iT=nr(sT),aT=g({},Di,{data:0}),hg=nr(aT),oT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uT(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=lT[r])?!!i[r]:!1}function ad(){return uT}var fT=g({},_o,{key:function(r){if(r.key){var i=oT[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=tl(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?cT[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ad,charCode:function(r){return r.type==="keypress"?tl(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?tl(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),dT=nr(fT),hT=g({},sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pg=nr(hT),pT=g({},_o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ad}),mT=nr(pT),yT=g({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),gT=nr(yT),vT=g({},sl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),xT=nr(vT),bT=g({},Di,{newState:0,oldState:0}),ST=nr(bT),_T=[9,13,27,32],od=Rs&&"CompositionEvent"in window,Co=null;Rs&&"documentMode"in document&&(Co=document.documentMode);var wT=Rs&&"TextEvent"in window&&!Co,mg=Rs&&(!od||Co&&8<Co&&11>=Co),yg=" ",gg=!1;function vg(r,i){switch(r){case"keyup":return _T.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var va=!1;function CT(r,i){switch(r){case"compositionend":return xg(i);case"keypress":return i.which!==32?null:(gg=!0,yg);case"textInput":return r=i.data,r===yg&&gg?null:r;default:return null}}function ET(r,i){if(va)return r==="compositionend"||!od&&vg(r,i)?(r=ug(),el=nd=ti=null,va=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return mg&&i.locale!=="ko"?null:i.data;default:return null}}var TT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bg(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!TT[r.type]:i==="textarea"}function Sg(r,i,o,l){ya?ga?ga.push(l):ga=[l]:ya=l,i=Gl(i,"onChange"),0<i.length&&(o=new rl("onChange","change",null,o,l),r.push({event:o,listeners:i}))}var Eo=null,To=null;function RT(r){rx(r,0)}function il(r){var i=We(r);if(ut(i))return r}function _g(r,i){if(r==="change")return i}var wg=!1;if(Rs){var cd;if(Rs){var ld="oninput"in document;if(!ld){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),ld=typeof Cg.oninput=="function"}cd=ld}else cd=!1;wg=cd&&(!document.documentMode||9<document.documentMode)}function Eg(){Eo&&(Eo.detachEvent("onpropertychange",Tg),To=Eo=null)}function Tg(r){if(r.propertyName==="value"&&il(To)){var i=[];Sg(i,To,r,Wf(r)),lg(RT,i)}}function AT(r,i,o){r==="focusin"?(Eg(),Eo=i,To=o,Eo.attachEvent("onpropertychange",Tg)):r==="focusout"&&Eg()}function OT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return il(To)}function MT(r,i){if(r==="click")return il(i)}function NT(r,i){if(r==="input"||r==="change")return il(i)}function PT(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var dr=typeof Object.is=="function"?Object.is:PT;function Ro(r,i){if(dr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),l=Object.keys(i);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var h=o[l];if(!mt.call(i,h)||!dr(r[h],i[h]))return!1}return!0}function Rg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ag(r,i){var o=Rg(r);r=0;for(var l;o;){if(o.nodeType===3){if(l=r+o.textContent.length,r<=i&&l>=i)return{node:o,offset:i-r};r=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Rg(o)}}function Og(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Og(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Mg(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=L(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=L(r.document)}return i}function ud(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var DT=Rs&&"documentMode"in document&&11>=document.documentMode,xa=null,fd=null,Ao=null,dd=!1;function Ng(r,i,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;dd||xa==null||xa!==L(l)||(l=xa,"selectionStart"in l&&ud(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ao&&Ro(Ao,l)||(Ao=l,l=Gl(fd,"onSelect"),0<l.length&&(i=new rl("onSelect","select",null,i,o),r.push({event:i,listeners:l}),i.target=xa)))}function ki(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var ba={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionrun:ki("Transition","TransitionRun"),transitionstart:ki("Transition","TransitionStart"),transitioncancel:ki("Transition","TransitionCancel"),transitionend:ki("Transition","TransitionEnd")},hd={},Pg={};Rs&&(Pg=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function ji(r){if(hd[r])return hd[r];if(!ba[r])return r;var i=ba[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in Pg)return hd[r]=i[o];return r}var Dg=ji("animationend"),kg=ji("animationiteration"),jg=ji("animationstart"),kT=ji("transitionrun"),jT=ji("transitionstart"),LT=ji("transitioncancel"),Lg=ji("transitionend"),Ug=new Map,pd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pd.push("scrollEnd");function zr(r,i){Ug.set(r,i),Ae(i,[r])}var al=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Er=[],Sa=0,md=0;function ol(){for(var r=Sa,i=md=Sa=0;i<r;){var o=Er[i];Er[i++]=null;var l=Er[i];Er[i++]=null;var h=Er[i];Er[i++]=null;var m=Er[i];if(Er[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}m!==0&&Ig(o,h,m)}}function cl(r,i,o,l){Er[Sa++]=r,Er[Sa++]=i,Er[Sa++]=o,Er[Sa++]=l,md|=l,r.lanes|=l,r=r.alternate,r!==null&&(r.lanes|=l)}function yd(r,i,o,l){return cl(r,i,o,l),ll(r)}function Li(r,i){return cl(r,null,null,i),ll(r)}function Ig(r,i,o){r.lanes|=o;var l=r.alternate;l!==null&&(l.lanes|=o);for(var h=!1,m=r.return;m!==null;)m.childLanes|=o,l=m.alternate,l!==null&&(l.childLanes|=o),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(h=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,h&&i!==null&&(h=31-on(o),r=m.hiddenUpdates,l=r[h],l===null?r[h]=[i]:l.push(i),i.lane=o|536870912),m):null}function ll(r){if(50<Qo)throw Qo=0,Eh=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var _a={};function UT(r,i,o,l){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(r,i,o,l){return new UT(r,i,o,l)}function gd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function As(r,i){var o=r.alternate;return o===null?(o=hr(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function zg(r,i){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function ul(r,i,o,l,h,m){var _=0;if(l=r,typeof r=="function")gd(r)&&(_=1);else if(typeof r=="string")_=$R(r,o,ve.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case pe:return r=hr(31,o,i,h),r.elementType=pe,r.lanes=m,r;case E:return Ui(o.children,h,m,i);case M:_=8,h|=24;break;case P:return r=hr(12,o,i,h|2),r.elementType=P,r.lanes=m,r;case G:return r=hr(13,o,i,h),r.elementType=G,r.lanes=m,r;case X:return r=hr(19,o,i,h),r.elementType=X,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:_=10;break e;case D:_=9;break e;case j:_=11;break e;case Y:_=14;break e;case K:_=16,l=null;break e}_=29,o=Error(s(130,r===null?"null":typeof r,"")),l=null}return i=hr(_,o,i,h),i.elementType=r,i.type=l,i.lanes=m,i}function Ui(r,i,o,l){return r=hr(7,r,l,i),r.lanes=o,r}function vd(r,i,o){return r=hr(6,r,null,i),r.lanes=o,r}function Bg(r){var i=hr(18,null,null,0);return i.stateNode=r,i}function xd(r,i,o){return i=hr(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var Hg=new WeakMap;function Tr(r,i){if(typeof r=="object"&&r!==null){var o=Hg.get(r);return o!==void 0?o:(i={value:r,source:i,stack:Pt(i)},Hg.set(r,i),i)}return{value:r,source:i,stack:Pt(i)}}var wa=[],Ca=0,fl=null,Oo=0,Rr=[],Ar=0,ni=null,es=1,ts="";function Os(r,i){wa[Ca++]=Oo,wa[Ca++]=fl,fl=r,Oo=i}function $g(r,i,o){Rr[Ar++]=es,Rr[Ar++]=ts,Rr[Ar++]=ni,ni=r;var l=es;r=ts;var h=32-on(l)-1;l&=~(1<<h),o+=1;var m=32-on(i)+h;if(30<m){var _=h-h%5;m=(l&(1<<_)-1).toString(32),l>>=_,h-=_,es=1<<32-on(i)+h|o<<h|l,ts=m+r}else es=1<<m|o<<h|l,ts=r}function bd(r){r.return!==null&&(Os(r,1),$g(r,1,0))}function Sd(r){for(;r===fl;)fl=wa[--Ca],wa[Ca]=null,Oo=wa[--Ca],wa[Ca]=null;for(;r===ni;)ni=Rr[--Ar],Rr[Ar]=null,ts=Rr[--Ar],Rr[Ar]=null,es=Rr[--Ar],Rr[Ar]=null}function Vg(r,i){Rr[Ar++]=es,Rr[Ar++]=ts,Rr[Ar++]=ni,es=i.id,ts=i.overflow,ni=r}var Ln=null,Jt=null,Mt=!1,ri=null,Or=!1,_d=Error(s(519));function si(r){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mo(Tr(i,r)),_d}function qg(r){var i=r.stateNode,o=r.type,l=r.memoizedProps;switch(i[q]=r,i[ae]=l,o){case"dialog":Tt("cancel",i),Tt("close",i);break;case"iframe":case"object":case"embed":Tt("load",i);break;case"video":case"audio":for(o=0;o<Jo.length;o++)Tt(Jo[o],i);break;case"source":Tt("error",i);break;case"img":case"image":case"link":Tt("error",i),Tt("load",i);break;case"details":Tt("toggle",i);break;case"input":Tt("invalid",i),pt(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Tt("invalid",i);break;case"textarea":Tt("invalid",i),Dt(i,l.value,l.defaultValue,l.children)}o=l.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||l.suppressHydrationWarning===!0||ox(i.textContent,o)?(l.popover!=null&&(Tt("beforetoggle",i),Tt("toggle",i)),l.onScroll!=null&&Tt("scroll",i),l.onScrollEnd!=null&&Tt("scrollend",i),l.onClick!=null&&(i.onclick=Ts),i=!0):i=!1,i||si(r,!0)}function Fg(r){for(Ln=r.return;Ln;)switch(Ln.tag){case 5:case 31:case 13:Or=!1;return;case 27:case 3:Or=!0;return;default:Ln=Ln.return}}function Ea(r){if(r!==Ln)return!1;if(!Mt)return Fg(r),Mt=!0,!1;var i=r.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Bh(r.type,r.memoizedProps)),o=!o),o&&Jt&&si(r),Fg(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));Jt=yx(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));Jt=yx(r)}else i===27?(i=Jt,vi(r.type)?(r=Fh,Fh=null,Jt=r):Jt=i):Jt=Ln?Nr(r.stateNode.nextSibling):null;return!0}function Ii(){Jt=Ln=null,Mt=!1}function wd(){var r=ri;return r!==null&&(ar===null?ar=r:ar.push.apply(ar,r),ri=null),r}function Mo(r){ri===null?ri=[r]:ri.push(r)}var Cd=I(null),zi=null,Ms=null;function ii(r,i,o){le(Cd,i._currentValue),i._currentValue=o}function Ns(r){r._currentValue=Cd.current,re(Cd)}function Ed(r,i,o){for(;r!==null;){var l=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),r===o)break;r=r.return}}function Td(r,i,o,l){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var m=h.dependencies;if(m!==null){var _=h.child;m=m.firstContext;e:for(;m!==null;){var O=m;m=h;for(var U=0;U<i.length;U++)if(O.context===i[U]){m.lanes|=o,O=m.alternate,O!==null&&(O.lanes|=o),Ed(m.return,o,r),l||(_=null);break e}m=O.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=o,m=_.alternate,m!==null&&(m.lanes|=o),Ed(_,o,r),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===r){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ta(r,i,o,l){r=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var O=h.type;dr(h.pendingProps.value,_.value)||(r!==null?r.push(O):r=[O])}}else if(h===Ne.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(rc):r=[rc])}h=h.return}r!==null&&Td(i,r,o,l),i.flags|=262144}function dl(r){for(r=r.firstContext;r!==null;){if(!dr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Bi(r){zi=r,Ms=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Un(r){return Yg(zi,r)}function hl(r,i){return zi===null&&Bi(r),Yg(r,i)}function Yg(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Ms===null){if(r===null)throw Error(s(308));Ms=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Ms=Ms.next=i;return o}var IT=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,l){r.push(l)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},zT=t.unstable_scheduleCallback,BT=t.unstable_NormalPriority,Sn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rd(){return{controller:new IT,data:new Map,refCount:0}}function No(r){r.refCount--,r.refCount===0&&zT(BT,function(){r.controller.abort()})}var Po=null,Ad=0,Ra=0,Aa=null;function HT(r,i){if(Po===null){var o=Po=[];Ad=0,Ra=Nh(),Aa={status:"pending",value:void 0,then:function(l){o.push(l)}}}return Ad++,i.then(Gg,Gg),i}function Gg(){if(--Ad===0&&Po!==null){Aa!==null&&(Aa.status="fulfilled");var r=Po;Po=null,Ra=0,Aa=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function $T(r,i){var o=[],l={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<o.length;h++)(0,o[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),l}var Kg=B.S;B.S=function(r,i){Nv=ht(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&HT(r,i),Kg!==null&&Kg(r,i)};var Hi=I(null);function Od(){var r=Hi.current;return r!==null?r:Kt.pooledCache}function pl(r,i){i===null?le(Hi,Hi.current):le(Hi,i.pool)}function Xg(){var r=Od();return r===null?null:{parent:Sn._currentValue,pool:r}}var Oa=Error(s(460)),Md=Error(s(474)),ml=Error(s(542)),yl={then:function(){}};function Qg(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Zg(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(Ts,Ts),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Wg(r),r;default:if(typeof i.status=="string")i.then(Ts,Ts);else{if(r=Kt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Wg(r),r}throw Vi=i,Oa}}function $i(r){try{var i=r._init;return i(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Vi=o,Oa):o}}var Vi=null;function Jg(){if(Vi===null)throw Error(s(459));var r=Vi;return Vi=null,r}function Wg(r){if(r===Oa||r===ml)throw Error(s(483))}var Ma=null,Do=0;function gl(r){var i=Do;return Do+=1,Ma===null&&(Ma=[]),Zg(Ma,r,i)}function ko(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function vl(r,i){throw i.$$typeof===v?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function e0(r){function i(F,H){if(r){var Q=F.deletions;Q===null?(F.deletions=[H],F.flags|=16):Q.push(H)}}function o(F,H){if(!r)return null;for(;H!==null;)i(F,H),H=H.sibling;return null}function l(F){for(var H=new Map;F!==null;)F.key!==null?H.set(F.key,F):H.set(F.index,F),F=F.sibling;return H}function h(F,H){return F=As(F,H),F.index=0,F.sibling=null,F}function m(F,H,Q){return F.index=Q,r?(Q=F.alternate,Q!==null?(Q=Q.index,Q<H?(F.flags|=67108866,H):Q):(F.flags|=67108866,H)):(F.flags|=1048576,H)}function _(F){return r&&F.alternate===null&&(F.flags|=67108866),F}function O(F,H,Q,ue){return H===null||H.tag!==6?(H=vd(Q,F.mode,ue),H.return=F,H):(H=h(H,Q),H.return=F,H)}function U(F,H,Q,ue){var Ze=Q.type;return Ze===E?oe(F,H,Q.props.children,ue,Q.key):H!==null&&(H.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===K&&$i(Ze)===H.type)?(H=h(H,Q.props),ko(H,Q),H.return=F,H):(H=ul(Q.type,Q.key,Q.props,null,F.mode,ue),ko(H,Q),H.return=F,H)}function Z(F,H,Q,ue){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=xd(Q,F.mode,ue),H.return=F,H):(H=h(H,Q.children||[]),H.return=F,H)}function oe(F,H,Q,ue,Ze){return H===null||H.tag!==7?(H=Ui(Q,F.mode,ue,Ze),H.return=F,H):(H=h(H,Q),H.return=F,H)}function he(F,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=vd(""+H,F.mode,Q),H.return=F,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return Q=ul(H.type,H.key,H.props,null,F.mode,Q),ko(Q,H),Q.return=F,Q;case C:return H=xd(H,F.mode,Q),H.return=F,H;case K:return H=$i(H),he(F,H,Q)}if(Ue(H)||Ce(H))return H=Ui(H,F.mode,Q,null),H.return=F,H;if(typeof H.then=="function")return he(F,gl(H),Q);if(H.$$typeof===k)return he(F,hl(F,H),Q);vl(F,H)}return null}function W(F,H,Q,ue){var Ze=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ze!==null?null:O(F,H,""+Q,ue);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:return Q.key===Ze?U(F,H,Q,ue):null;case C:return Q.key===Ze?Z(F,H,Q,ue):null;case K:return Q=$i(Q),W(F,H,Q,ue)}if(Ue(Q)||Ce(Q))return Ze!==null?null:oe(F,H,Q,ue,null);if(typeof Q.then=="function")return W(F,H,gl(Q),ue);if(Q.$$typeof===k)return W(F,H,hl(F,Q),ue);vl(F,Q)}return null}function ne(F,H,Q,ue,Ze){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return F=F.get(Q)||null,O(H,F,""+ue,Ze);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case S:return F=F.get(ue.key===null?Q:ue.key)||null,U(H,F,ue,Ze);case C:return F=F.get(ue.key===null?Q:ue.key)||null,Z(H,F,ue,Ze);case K:return ue=$i(ue),ne(F,H,Q,ue,Ze)}if(Ue(ue)||Ce(ue))return F=F.get(Q)||null,oe(H,F,ue,Ze,null);if(typeof ue.then=="function")return ne(F,H,Q,gl(ue),Ze);if(ue.$$typeof===k)return ne(F,H,Q,hl(H,ue),Ze);vl(H,ue)}return null}function Ve(F,H,Q,ue){for(var Ze=null,kt=null,Ke=H,bt=H=0,At=null;Ke!==null&&bt<Q.length;bt++){Ke.index>bt?(At=Ke,Ke=null):At=Ke.sibling;var jt=W(F,Ke,Q[bt],ue);if(jt===null){Ke===null&&(Ke=At);break}r&&Ke&&jt.alternate===null&&i(F,Ke),H=m(jt,H,bt),kt===null?Ze=jt:kt.sibling=jt,kt=jt,Ke=At}if(bt===Q.length)return o(F,Ke),Mt&&Os(F,bt),Ze;if(Ke===null){for(;bt<Q.length;bt++)Ke=he(F,Q[bt],ue),Ke!==null&&(H=m(Ke,H,bt),kt===null?Ze=Ke:kt.sibling=Ke,kt=Ke);return Mt&&Os(F,bt),Ze}for(Ke=l(Ke);bt<Q.length;bt++)At=ne(Ke,F,bt,Q[bt],ue),At!==null&&(r&&At.alternate!==null&&Ke.delete(At.key===null?bt:At.key),H=m(At,H,bt),kt===null?Ze=At:kt.sibling=At,kt=At);return r&&Ke.forEach(function(wi){return i(F,wi)}),Mt&&Os(F,bt),Ze}function nt(F,H,Q,ue){if(Q==null)throw Error(s(151));for(var Ze=null,kt=null,Ke=H,bt=H=0,At=null,jt=Q.next();Ke!==null&&!jt.done;bt++,jt=Q.next()){Ke.index>bt?(At=Ke,Ke=null):At=Ke.sibling;var wi=W(F,Ke,jt.value,ue);if(wi===null){Ke===null&&(Ke=At);break}r&&Ke&&wi.alternate===null&&i(F,Ke),H=m(wi,H,bt),kt===null?Ze=wi:kt.sibling=wi,kt=wi,Ke=At}if(jt.done)return o(F,Ke),Mt&&Os(F,bt),Ze;if(Ke===null){for(;!jt.done;bt++,jt=Q.next())jt=he(F,jt.value,ue),jt!==null&&(H=m(jt,H,bt),kt===null?Ze=jt:kt.sibling=jt,kt=jt);return Mt&&Os(F,bt),Ze}for(Ke=l(Ke);!jt.done;bt++,jt=Q.next())jt=ne(Ke,F,bt,jt.value,ue),jt!==null&&(r&&jt.alternate!==null&&Ke.delete(jt.key===null?bt:jt.key),H=m(jt,H,bt),kt===null?Ze=jt:kt.sibling=jt,kt=jt);return r&&Ke.forEach(function(WR){return i(F,WR)}),Mt&&Os(F,bt),Ze}function Gt(F,H,Q,ue){if(typeof Q=="object"&&Q!==null&&Q.type===E&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:e:{for(var Ze=Q.key;H!==null;){if(H.key===Ze){if(Ze=Q.type,Ze===E){if(H.tag===7){o(F,H.sibling),ue=h(H,Q.props.children),ue.return=F,F=ue;break e}}else if(H.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===K&&$i(Ze)===H.type){o(F,H.sibling),ue=h(H,Q.props),ko(ue,Q),ue.return=F,F=ue;break e}o(F,H);break}else i(F,H);H=H.sibling}Q.type===E?(ue=Ui(Q.props.children,F.mode,ue,Q.key),ue.return=F,F=ue):(ue=ul(Q.type,Q.key,Q.props,null,F.mode,ue),ko(ue,Q),ue.return=F,F=ue)}return _(F);case C:e:{for(Ze=Q.key;H!==null;){if(H.key===Ze)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){o(F,H.sibling),ue=h(H,Q.children||[]),ue.return=F,F=ue;break e}else{o(F,H);break}else i(F,H);H=H.sibling}ue=xd(Q,F.mode,ue),ue.return=F,F=ue}return _(F);case K:return Q=$i(Q),Gt(F,H,Q,ue)}if(Ue(Q))return Ve(F,H,Q,ue);if(Ce(Q)){if(Ze=Ce(Q),typeof Ze!="function")throw Error(s(150));return Q=Ze.call(Q),nt(F,H,Q,ue)}if(typeof Q.then=="function")return Gt(F,H,gl(Q),ue);if(Q.$$typeof===k)return Gt(F,H,hl(F,Q),ue);vl(F,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,H!==null&&H.tag===6?(o(F,H.sibling),ue=h(H,Q),ue.return=F,F=ue):(o(F,H),ue=vd(Q,F.mode,ue),ue.return=F,F=ue),_(F)):o(F,H)}return function(F,H,Q,ue){try{Do=0;var Ze=Gt(F,H,Q,ue);return Ma=null,Ze}catch(Ke){if(Ke===Oa||Ke===ml)throw Ke;var kt=hr(29,Ke,null,F.mode);return kt.lanes=ue,kt.return=F,kt}finally{}}}var qi=e0(!0),t0=e0(!1),ai=!1;function Nd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pd(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function oi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ci(r,i,o){var l=r.updateQueue;if(l===null)return null;if(l=l.shared,(It&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ll(r),Ig(r,null,o),i}return cl(r,l,i,o),ll(r)}function jo(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var l=i.lanes;l&=r.pendingLanes,o|=l,i.lanes=o,tt(r,o)}}function Dd(r,i){var o=r.updateQueue,l=r.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var h=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?h=m=_:m=m.next=_,o=o.next}while(o!==null);m===null?h=m=i:m=m.next=i}else h=m=i;o={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var kd=!1;function Lo(){if(kd){var r=Aa;if(r!==null)throw r}}function Uo(r,i,o,l){kd=!1;var h=r.updateQueue;ai=!1;var m=h.firstBaseUpdate,_=h.lastBaseUpdate,O=h.shared.pending;if(O!==null){h.shared.pending=null;var U=O,Z=U.next;U.next=null,_===null?m=Z:_.next=Z,_=U;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,O=oe.lastBaseUpdate,O!==_&&(O===null?oe.firstBaseUpdate=Z:O.next=Z,oe.lastBaseUpdate=U))}if(m!==null){var he=h.baseState;_=0,oe=Z=U=null,O=m;do{var W=O.lane&-536870913,ne=W!==O.lane;if(ne?(Rt&W)===W:(l&W)===W){W!==0&&W===Ra&&(kd=!0),oe!==null&&(oe=oe.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Ve=r,nt=O;W=i;var Gt=o;switch(nt.tag){case 1:if(Ve=nt.payload,typeof Ve=="function"){he=Ve.call(Gt,he,W);break e}he=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=nt.payload,W=typeof Ve=="function"?Ve.call(Gt,he,W):Ve,W==null)break e;he=g({},he,W);break e;case 2:ai=!0}}W=O.callback,W!==null&&(r.flags|=64,ne&&(r.flags|=8192),ne=h.callbacks,ne===null?h.callbacks=[W]:ne.push(W))}else ne={lane:W,tag:O.tag,payload:O.payload,callback:O.callback,next:null},oe===null?(Z=oe=ne,U=he):oe=oe.next=ne,_|=W;if(O=O.next,O===null){if(O=h.shared.pending,O===null)break;ne=O,O=ne.next,ne.next=null,h.lastBaseUpdate=ne,h.shared.pending=null}}while(!0);oe===null&&(U=he),h.baseState=U,h.firstBaseUpdate=Z,h.lastBaseUpdate=oe,m===null&&(h.shared.lanes=0),hi|=_,r.lanes=_,r.memoizedState=he}}function n0(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function r0(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)n0(o[r],i)}var Na=I(null),xl=I(0);function s0(r,i){r=Bs,le(xl,r),le(Na,i),Bs=r|i.baseLanes}function jd(){le(xl,Bs),le(Na,Na.current)}function Ld(){Bs=xl.current,re(Na),re(xl)}var pr=I(null),Mr=null;function li(r){var i=r.alternate;le(mn,mn.current&1),le(pr,r),Mr===null&&(i===null||Na.current!==null||i.memoizedState!==null)&&(Mr=r)}function Ud(r){le(mn,mn.current),le(pr,r),Mr===null&&(Mr=r)}function i0(r){r.tag===22?(le(mn,mn.current),le(pr,r),Mr===null&&(Mr=r)):ui()}function ui(){le(mn,mn.current),le(pr,pr.current)}function mr(r){re(pr),Mr===r&&(Mr=null),re(mn)}var mn=I(0);function bl(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Vh(o)||qh(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ps=0,yt=null,Ft=null,_n=null,Sl=!1,Pa=!1,Fi=!1,_l=0,Io=0,Da=null,VT=0;function ln(){throw Error(s(321))}function Id(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!dr(r[o],i[o]))return!1;return!0}function zd(r,i,o,l,h,m){return Ps=m,yt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=r===null||r.memoizedState===null?$0:eh,Fi=!1,m=o(l,h),Fi=!1,Pa&&(m=o0(i,o,l,h)),a0(r),m}function a0(r){B.H=Ho;var i=Ft!==null&&Ft.next!==null;if(Ps=0,_n=Ft=yt=null,Sl=!1,Io=0,Da=null,i)throw Error(s(300));r===null||wn||(r=r.dependencies,r!==null&&dl(r)&&(wn=!0))}function o0(r,i,o,l){yt=r;var h=0;do{if(Pa&&(Da=null),Io=0,Pa=!1,25<=h)throw Error(s(301));if(h+=1,_n=Ft=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}B.H=V0,m=i(o,l)}while(Pa);return m}function qT(){var r=B.H,i=r.useState()[0];return i=typeof i.then=="function"?zo(i):i,r=r.useState()[0],(Ft!==null?Ft.memoizedState:null)!==r&&(yt.flags|=1024),i}function Bd(){var r=_l!==0;return _l=0,r}function Hd(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function $d(r){if(Sl){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Sl=!1}Ps=0,_n=Ft=yt=null,Pa=!1,Io=_l=0,Da=null}function Qn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?yt.memoizedState=_n=r:_n=_n.next=r,_n}function yn(){if(Ft===null){var r=yt.alternate;r=r!==null?r.memoizedState:null}else r=Ft.next;var i=_n===null?yt.memoizedState:_n.next;if(i!==null)_n=i,Ft=r;else{if(r===null)throw yt.alternate===null?Error(s(467)):Error(s(310));Ft=r,r={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},_n===null?yt.memoizedState=_n=r:_n=_n.next=r}return _n}function wl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zo(r){var i=Io;return Io+=1,Da===null&&(Da=[]),r=Zg(Da,r,i),i=yt,(_n===null?i.memoizedState:_n.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?$0:eh),r}function Cl(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return zo(r);if(r.$$typeof===k)return Un(r)}throw Error(s(438,String(r)))}function Vd(r){var i=null,o=yt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var l=yt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=wl(),yt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),l=0;l<r;l++)o[l]=xe;return i.index++,o}function Ds(r,i){return typeof i=="function"?i(r):i}function El(r){var i=yn();return qd(i,Ft,r)}function qd(r,i,o){var l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=o;var h=r.baseQueue,m=l.pending;if(m!==null){if(h!==null){var _=h.next;h.next=m.next,m.next=_}i.baseQueue=h=m,l.pending=null}if(m=r.baseState,h===null)r.memoizedState=m;else{i=h.next;var O=_=null,U=null,Z=i,oe=!1;do{var he=Z.lane&-536870913;if(he!==Z.lane?(Rt&he)===he:(Ps&he)===he){var W=Z.revertLane;if(W===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),he===Ra&&(oe=!0);else if((Ps&W)===W){Z=Z.next,W===Ra&&(oe=!0);continue}else he={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(O=U=he,_=m):U=U.next=he,yt.lanes|=W,hi|=W;he=Z.action,Fi&&o(m,he),m=Z.hasEagerState?Z.eagerState:o(m,he)}else W={lane:he,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(O=U=W,_=m):U=U.next=W,yt.lanes|=he,hi|=he;Z=Z.next}while(Z!==null&&Z!==i);if(U===null?_=m:U.next=O,!dr(m,r.memoizedState)&&(wn=!0,oe&&(o=Aa,o!==null)))throw o;r.memoizedState=m,r.baseState=_,r.baseQueue=U,l.lastRenderedState=m}return h===null&&(l.lanes=0),[r.memoizedState,l.dispatch]}function Fd(r){var i=yn(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var l=o.dispatch,h=o.pending,m=i.memoizedState;if(h!==null){o.pending=null;var _=h=h.next;do m=r(m,_.action),_=_.next;while(_!==h);dr(m,i.memoizedState)||(wn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),o.lastRenderedState=m}return[m,l]}function c0(r,i,o){var l=yt,h=yn(),m=Mt;if(m){if(o===void 0)throw Error(s(407));o=o()}else o=i();var _=!dr((Ft||h).memoizedState,o);if(_&&(h.memoizedState=o,wn=!0),h=h.queue,Kd(f0.bind(null,l,h,r),[r]),h.getSnapshot!==i||_||_n!==null&&_n.memoizedState.tag&1){if(l.flags|=2048,ka(9,{destroy:void 0},u0.bind(null,l,h,o,i),null),Kt===null)throw Error(s(349));m||(Ps&127)!==0||l0(l,i,o)}return o}function l0(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=yt.updateQueue,i===null?(i=wl(),yt.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function u0(r,i,o,l){i.value=o,i.getSnapshot=l,d0(i)&&h0(r)}function f0(r,i,o){return o(function(){d0(i)&&h0(r)})}function d0(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!dr(r,o)}catch{return!0}}function h0(r){var i=Li(r,2);i!==null&&or(i,r,2)}function Yd(r){var i=Qn();if(typeof r=="function"){var o=r;if(r=o(),Fi){Pn(!0);try{o()}finally{Pn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:r},i}function p0(r,i,o,l){return r.baseState=o,qd(r,Ft,typeof l=="function"?l:Ds)}function FT(r,i,o,l,h){if(Al(r))throw Error(s(485));if(r=i.action,r!==null){var m={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};B.T!==null?o(!0):m.isTransition=!1,l(m),o=i.pending,o===null?(m.next=i.pending=m,m0(i,m)):(m.next=o.next,i.pending=o.next=m)}}function m0(r,i){var o=i.action,l=i.payload,h=r.state;if(i.isTransition){var m=B.T,_={};B.T=_;try{var O=o(h,l),U=B.S;U!==null&&U(_,O),y0(r,i,O)}catch(Z){Gd(r,i,Z)}finally{m!==null&&_.types!==null&&(m.types=_.types),B.T=m}}else try{m=o(h,l),y0(r,i,m)}catch(Z){Gd(r,i,Z)}}function y0(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(l){g0(r,i,l)},function(l){return Gd(r,i,l)}):g0(r,i,o)}function g0(r,i,o){i.status="fulfilled",i.value=o,v0(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,m0(r,o)))}function Gd(r,i,o){var l=r.pending;if(r.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=o,v0(i),i=i.next;while(i!==l)}r.action=null}function v0(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function x0(r,i){return i}function b0(r,i){if(Mt){var o=Kt.formState;if(o!==null){e:{var l=yt;if(Mt){if(Jt){t:{for(var h=Jt,m=Or;h.nodeType!==8;){if(!m){h=null;break t}if(h=Nr(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Jt=Nr(h.nextSibling),l=h.data==="F!";break e}}si(l)}l=!1}l&&(i=o[0])}}return o=Qn(),o.memoizedState=o.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:x0,lastRenderedState:i},o.queue=l,o=z0.bind(null,yt,l),l.dispatch=o,l=Yd(!1),m=Wd.bind(null,yt,!1,l.queue),l=Qn(),h={state:i,dispatch:null,action:r,pending:null},l.queue=h,o=FT.bind(null,yt,h,m,o),h.dispatch=o,l.memoizedState=r,[i,o,!1]}function S0(r){var i=yn();return _0(i,Ft,r)}function _0(r,i,o){if(i=qd(r,i,x0)[0],r=El(Ds)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=zo(i)}catch(_){throw _===Oa?ml:_}else l=i;i=yn();var h=i.queue,m=h.dispatch;return o!==i.memoizedState&&(yt.flags|=2048,ka(9,{destroy:void 0},YT.bind(null,h,o),null)),[l,m,r]}function YT(r,i){r.action=i}function w0(r){var i=yn(),o=Ft;if(o!==null)return _0(i,o,r);yn(),i=i.memoizedState,o=yn();var l=o.queue.dispatch;return o.memoizedState=r,[i,l,!1]}function ka(r,i,o,l){return r={tag:r,create:o,deps:l,inst:i,next:null},i=yt.updateQueue,i===null&&(i=wl(),yt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(l=o.next,o.next=r,r.next=l,i.lastEffect=r),r}function C0(){return yn().memoizedState}function Tl(r,i,o,l){var h=Qn();yt.flags|=r,h.memoizedState=ka(1|i,{destroy:void 0},o,l===void 0?null:l)}function Rl(r,i,o,l){var h=yn();l=l===void 0?null:l;var m=h.memoizedState.inst;Ft!==null&&l!==null&&Id(l,Ft.memoizedState.deps)?h.memoizedState=ka(i,m,o,l):(yt.flags|=r,h.memoizedState=ka(1|i,m,o,l))}function E0(r,i){Tl(8390656,8,r,i)}function Kd(r,i){Rl(2048,8,r,i)}function GT(r){yt.flags|=4;var i=yt.updateQueue;if(i===null)i=wl(),yt.updateQueue=i,i.events=[r];else{var o=i.events;o===null?i.events=[r]:o.push(r)}}function T0(r){var i=yn().memoizedState;return GT({ref:i,nextImpl:r}),function(){if((It&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function R0(r,i){return Rl(4,2,r,i)}function A0(r,i){return Rl(4,4,r,i)}function O0(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function M0(r,i,o){o=o!=null?o.concat([r]):null,Rl(4,4,O0.bind(null,i,r),o)}function Xd(){}function N0(r,i){var o=yn();i=i===void 0?null:i;var l=o.memoizedState;return i!==null&&Id(i,l[1])?l[0]:(o.memoizedState=[r,i],r)}function P0(r,i){var o=yn();i=i===void 0?null:i;var l=o.memoizedState;if(i!==null&&Id(i,l[1]))return l[0];if(l=r(),Fi){Pn(!0);try{r()}finally{Pn(!1)}}return o.memoizedState=[l,i],l}function Qd(r,i,o){return o===void 0||(Ps&1073741824)!==0&&(Rt&261930)===0?r.memoizedState=i:(r.memoizedState=o,r=Dv(),yt.lanes|=r,hi|=r,o)}function D0(r,i,o,l){return dr(o,i)?o:Na.current!==null?(r=Qd(r,o,l),dr(r,i)||(wn=!0),r):(Ps&42)===0||(Ps&1073741824)!==0&&(Rt&261930)===0?(wn=!0,r.memoizedState=o):(r=Dv(),yt.lanes|=r,hi|=r,i)}function k0(r,i,o,l,h){var m=ie.p;ie.p=m!==0&&8>m?m:8;var _=B.T,O={};B.T=O,Wd(r,!1,i,o);try{var U=h(),Z=B.S;if(Z!==null&&Z(O,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var oe=$T(U,l);Bo(r,i,oe,vr(r))}else Bo(r,i,l,vr(r))}catch(he){Bo(r,i,{then:function(){},status:"rejected",reason:he},vr())}finally{ie.p=m,_!==null&&O.types!==null&&(_.types=O.types),B.T=_}}function KT(){}function Zd(r,i,o,l){if(r.tag!==5)throw Error(s(476));var h=j0(r).queue;k0(r,h,i,$,o===null?KT:function(){return L0(r),o(l)})}function j0(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:$},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function L0(r){var i=j0(r);i.next===null&&(i=r.alternate.memoizedState),Bo(r,i.next.queue,{},vr())}function Jd(){return Un(rc)}function U0(){return yn().memoizedState}function I0(){return yn().memoizedState}function XT(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=vr();r=oi(o);var l=ci(i,r,o);l!==null&&(or(l,i,o),jo(l,i,o)),i={cache:Rd()},r.payload=i;return}i=i.return}}function QT(r,i,o){var l=vr();o={lane:l,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Al(r)?B0(i,o):(o=yd(r,i,o,l),o!==null&&(or(o,r,l),H0(o,i,l)))}function z0(r,i,o){var l=vr();Bo(r,i,o,l)}function Bo(r,i,o,l){var h={lane:l,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Al(r))B0(i,h);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,O=m(_,o);if(h.hasEagerState=!0,h.eagerState=O,dr(O,_))return cl(r,i,h,0),Kt===null&&ol(),!1}catch{}finally{}if(o=yd(r,i,h,l),o!==null)return or(o,r,l),H0(o,i,l),!0}return!1}function Wd(r,i,o,l){if(l={lane:2,revertLane:Nh(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Al(r)){if(i)throw Error(s(479))}else i=yd(r,o,l,2),i!==null&&or(i,r,2)}function Al(r){var i=r.alternate;return r===yt||i!==null&&i===yt}function B0(r,i){Pa=Sl=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function H0(r,i,o){if((o&4194048)!==0){var l=i.lanes;l&=r.pendingLanes,o|=l,i.lanes=o,tt(r,o)}}var Ho={readContext:Un,use:Cl,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useLayoutEffect:ln,useInsertionEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useSyncExternalStore:ln,useId:ln,useHostTransitionStatus:ln,useFormState:ln,useActionState:ln,useOptimistic:ln,useMemoCache:ln,useCacheRefresh:ln};Ho.useEffectEvent=ln;var $0={readContext:Un,use:Cl,useCallback:function(r,i){return Qn().memoizedState=[r,i===void 0?null:i],r},useContext:Un,useEffect:E0,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,Tl(4194308,4,O0.bind(null,i,r),o)},useLayoutEffect:function(r,i){return Tl(4194308,4,r,i)},useInsertionEffect:function(r,i){Tl(4,2,r,i)},useMemo:function(r,i){var o=Qn();i=i===void 0?null:i;var l=r();if(Fi){Pn(!0);try{r()}finally{Pn(!1)}}return o.memoizedState=[l,i],l},useReducer:function(r,i,o){var l=Qn();if(o!==void 0){var h=o(i);if(Fi){Pn(!0);try{o(i)}finally{Pn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},l.queue=r,r=r.dispatch=QT.bind(null,yt,r),[l.memoizedState,r]},useRef:function(r){var i=Qn();return r={current:r},i.memoizedState=r},useState:function(r){r=Yd(r);var i=r.queue,o=z0.bind(null,yt,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:Xd,useDeferredValue:function(r,i){var o=Qn();return Qd(o,r,i)},useTransition:function(){var r=Yd(!1);return r=k0.bind(null,yt,r.queue,!0,!1),Qn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var l=yt,h=Qn();if(Mt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),Kt===null)throw Error(s(349));(Rt&127)!==0||l0(l,i,o)}h.memoizedState=o;var m={value:o,getSnapshot:i};return h.queue=m,E0(f0.bind(null,l,m,r),[r]),l.flags|=2048,ka(9,{destroy:void 0},u0.bind(null,l,m,o,i),null),o},useId:function(){var r=Qn(),i=Kt.identifierPrefix;if(Mt){var o=ts,l=es;o=(l&~(1<<32-on(l)-1)).toString(32)+o,i="_"+i+"R_"+o,o=_l++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=VT++,i="_"+i+"r_"+o.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:Jd,useFormState:b0,useActionState:b0,useOptimistic:function(r){var i=Qn();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Wd.bind(null,yt,!0,o),o.dispatch=i,[r,i]},useMemoCache:Vd,useCacheRefresh:function(){return Qn().memoizedState=XT.bind(null,yt)},useEffectEvent:function(r){var i=Qn(),o={impl:r};return i.memoizedState=o,function(){if((It&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},eh={readContext:Un,use:Cl,useCallback:N0,useContext:Un,useEffect:Kd,useImperativeHandle:M0,useInsertionEffect:R0,useLayoutEffect:A0,useMemo:P0,useReducer:El,useRef:C0,useState:function(){return El(Ds)},useDebugValue:Xd,useDeferredValue:function(r,i){var o=yn();return D0(o,Ft.memoizedState,r,i)},useTransition:function(){var r=El(Ds)[0],i=yn().memoizedState;return[typeof r=="boolean"?r:zo(r),i]},useSyncExternalStore:c0,useId:U0,useHostTransitionStatus:Jd,useFormState:S0,useActionState:S0,useOptimistic:function(r,i){var o=yn();return p0(o,Ft,r,i)},useMemoCache:Vd,useCacheRefresh:I0};eh.useEffectEvent=T0;var V0={readContext:Un,use:Cl,useCallback:N0,useContext:Un,useEffect:Kd,useImperativeHandle:M0,useInsertionEffect:R0,useLayoutEffect:A0,useMemo:P0,useReducer:Fd,useRef:C0,useState:function(){return Fd(Ds)},useDebugValue:Xd,useDeferredValue:function(r,i){var o=yn();return Ft===null?Qd(o,r,i):D0(o,Ft.memoizedState,r,i)},useTransition:function(){var r=Fd(Ds)[0],i=yn().memoizedState;return[typeof r=="boolean"?r:zo(r),i]},useSyncExternalStore:c0,useId:U0,useHostTransitionStatus:Jd,useFormState:w0,useActionState:w0,useOptimistic:function(r,i){var o=yn();return Ft!==null?p0(o,Ft,r,i):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Vd,useCacheRefresh:I0};V0.useEffectEvent=T0;function th(r,i,o,l){i=r.memoizedState,o=o(l,i),o=o==null?i:g({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var nh={enqueueSetState:function(r,i,o){r=r._reactInternals;var l=vr(),h=oi(l);h.payload=i,o!=null&&(h.callback=o),i=ci(r,h,l),i!==null&&(or(i,r,l),jo(i,r,l))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var l=vr(),h=oi(l);h.tag=1,h.payload=i,o!=null&&(h.callback=o),i=ci(r,h,l),i!==null&&(or(i,r,l),jo(i,r,l))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=vr(),l=oi(o);l.tag=2,i!=null&&(l.callback=i),i=ci(r,l,o),i!==null&&(or(i,r,o),jo(i,r,o))}};function q0(r,i,o,l,h,m,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(l,m,_):i.prototype&&i.prototype.isPureReactComponent?!Ro(o,l)||!Ro(h,m):!0}function F0(r,i,o,l){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,l),i.state!==r&&nh.enqueueReplaceState(i,i.state,null)}function Yi(r,i){var o=i;if("ref"in i){o={};for(var l in i)l!=="ref"&&(o[l]=i[l])}if(r=r.defaultProps){o===i&&(o=g({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}function Y0(r){al(r)}function G0(r){console.error(r)}function K0(r){al(r)}function Ol(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function X0(r,i,o){try{var l=r.onCaughtError;l(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function rh(r,i,o){return o=oi(o),o.tag=3,o.payload={element:null},o.callback=function(){Ol(r,i)},o}function Q0(r){return r=oi(r),r.tag=3,r}function Z0(r,i,o,l){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;r.payload=function(){return h(m)},r.callback=function(){X0(i,o,l)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(r.callback=function(){X0(i,o,l),typeof h!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var O=l.stack;this.componentDidCatch(l.value,{componentStack:O!==null?O:""})})}function ZT(r,i,o,l,h){if(o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=o.alternate,i!==null&&Ta(i,o,h,!0),o=pr.current,o!==null){switch(o.tag){case 31:case 13:return Mr===null?Hl():o.alternate===null&&un===0&&(un=3),o.flags&=-257,o.flags|=65536,o.lanes=h,l===yl?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([l]):i.add(l),Ah(r,l,h)),!1;case 22:return o.flags|=65536,l===yl?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([l]):o.add(l)),Ah(r,l,h)),!1}throw Error(s(435,o.tag))}return Ah(r,l,h),Hl(),!1}if(Mt)return i=pr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==_d&&(r=Error(s(422),{cause:l}),Mo(Tr(r,o)))):(l!==_d&&(i=Error(s(423),{cause:l}),Mo(Tr(i,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,l=Tr(l,o),h=rh(r.stateNode,l,h),Dd(r,h),un!==4&&(un=2)),!1;var m=Error(s(520),{cause:l});if(m=Tr(m,o),Xo===null?Xo=[m]:Xo.push(m),un!==4&&(un=2),i===null)return!0;l=Tr(l,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=rh(o.stateNode,l,r),Dd(o,r),!1;case 1:if(i=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(pi===null||!pi.has(m))))return o.flags|=65536,h&=-h,o.lanes|=h,h=Q0(h),Z0(h,r,o,l),Dd(o,h),!1}o=o.return}while(o!==null);return!1}var sh=Error(s(461)),wn=!1;function In(r,i,o,l){i.child=r===null?t0(i,null,o,l):qi(i,r.child,o,l)}function J0(r,i,o,l,h){o=o.render;var m=i.ref;if("ref"in l){var _={};for(var O in l)O!=="ref"&&(_[O]=l[O])}else _=l;return Bi(i),l=zd(r,i,o,_,m,h),O=Bd(),r!==null&&!wn?(Hd(r,i,h),ks(r,i,h)):(Mt&&O&&bd(i),i.flags|=1,In(r,i,l,h),i.child)}function W0(r,i,o,l,h){if(r===null){var m=o.type;return typeof m=="function"&&!gd(m)&&m.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=m,ev(r,i,m,l,h)):(r=ul(o.type,null,l,i,i.mode,h),r.ref=i.ref,r.return=i,i.child=r)}if(m=r.child,!dh(r,h)){var _=m.memoizedProps;if(o=o.compare,o=o!==null?o:Ro,o(_,l)&&r.ref===i.ref)return ks(r,i,h)}return i.flags|=1,r=As(m,l),r.ref=i.ref,r.return=i,i.child=r}function ev(r,i,o,l,h){if(r!==null){var m=r.memoizedProps;if(Ro(m,l)&&r.ref===i.ref)if(wn=!1,i.pendingProps=l=m,dh(r,h))(r.flags&131072)!==0&&(wn=!0);else return i.lanes=r.lanes,ks(r,i,h)}return ih(r,i,o,l,h)}function tv(r,i,o,l){var h=l.children,m=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,r!==null){for(l=i.child=r.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~m}else l=0,i.child=null;return nv(r,i,m,o,l)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&pl(i,m!==null?m.cachePool:null),m!==null?s0(i,m):jd(),i0(i);else return l=i.lanes=536870912,nv(r,i,m!==null?m.baseLanes|o:o,o,l)}else m!==null?(pl(i,m.cachePool),s0(i,m),ui(),i.memoizedState=null):(r!==null&&pl(i,null),jd(),ui());return In(r,i,h,o),i.child}function $o(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function nv(r,i,o,l,h){var m=Od();return m=m===null?null:{parent:Sn._currentValue,pool:m},i.memoizedState={baseLanes:o,cachePool:m},r!==null&&pl(i,null),jd(),i0(i),r!==null&&Ta(r,i,l,!0),i.childLanes=h,null}function Ml(r,i){return i=Pl({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function rv(r,i,o){return qi(i,r.child,null,o),r=Ml(i,i.pendingProps),r.flags|=2,mr(i),i.memoizedState=null,r}function JT(r,i,o){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(Mt){if(l.mode==="hidden")return r=Ml(i,l),i.lanes=536870912,$o(null,r);if(Ud(i),(r=Jt)?(r=mx(r,Or),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:ni!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},o=Bg(r),o.return=i,i.child=o,Ln=i,Jt=null)):r=null,r===null)throw si(i);return i.lanes=536870912,null}return Ml(i,l)}var m=r.memoizedState;if(m!==null){var _=m.dehydrated;if(Ud(i),h)if(i.flags&256)i.flags&=-257,i=rv(r,i,o);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(s(558));else if(wn||Ta(r,i,o,!1),h=(o&r.childLanes)!==0,wn||h){if(l=Kt,l!==null&&(_=w(l,o),_!==0&&_!==m.retryLane))throw m.retryLane=_,Li(r,_),or(l,r,_),sh;Hl(),i=rv(r,i,o)}else r=m.treeContext,Jt=Nr(_.nextSibling),Ln=i,Mt=!0,ri=null,Or=!1,r!==null&&Vg(i,r),i=Ml(i,l),i.flags|=4096;return i}return r=As(r.child,{mode:l.mode,children:l.children}),r.ref=i.ref,i.child=r,r.return=i,r}function Nl(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(r===null||r.ref!==o)&&(i.flags|=4194816)}}function ih(r,i,o,l,h){return Bi(i),o=zd(r,i,o,l,void 0,h),l=Bd(),r!==null&&!wn?(Hd(r,i,h),ks(r,i,h)):(Mt&&l&&bd(i),i.flags|=1,In(r,i,o,h),i.child)}function sv(r,i,o,l,h,m){return Bi(i),i.updateQueue=null,o=o0(i,l,o,h),a0(r),l=Bd(),r!==null&&!wn?(Hd(r,i,m),ks(r,i,m)):(Mt&&l&&bd(i),i.flags|=1,In(r,i,o,m),i.child)}function iv(r,i,o,l,h){if(Bi(i),i.stateNode===null){var m=_a,_=o.contextType;typeof _=="object"&&_!==null&&(m=Un(_)),m=new o(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=nh,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},Nd(i),_=o.contextType,m.context=typeof _=="object"&&_!==null?Un(_):_a,m.state=i.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(th(i,o,_,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&nh.enqueueReplaceState(m,m.state,null),Uo(i,l,m,h),Lo(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(r===null){m=i.stateNode;var O=i.memoizedProps,U=Yi(o,O);m.props=U;var Z=m.context,oe=o.contextType;_=_a,typeof oe=="object"&&oe!==null&&(_=Un(oe));var he=o.getDerivedStateFromProps;oe=typeof he=="function"||typeof m.getSnapshotBeforeUpdate=="function",O=i.pendingProps!==O,oe||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(O||Z!==_)&&F0(i,m,l,_),ai=!1;var W=i.memoizedState;m.state=W,Uo(i,l,m,h),Lo(),Z=i.memoizedState,O||W!==Z||ai?(typeof he=="function"&&(th(i,o,he,l),Z=i.memoizedState),(U=ai||q0(i,o,U,l,W,Z,_))?(oe||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=Z),m.props=l,m.state=Z,m.context=_,l=U):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,Pd(r,i),_=i.memoizedProps,oe=Yi(o,_),m.props=oe,he=i.pendingProps,W=m.context,Z=o.contextType,U=_a,typeof Z=="object"&&Z!==null&&(U=Un(Z)),O=o.getDerivedStateFromProps,(Z=typeof O=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==he||W!==U)&&F0(i,m,l,U),ai=!1,W=i.memoizedState,m.state=W,Uo(i,l,m,h),Lo();var ne=i.memoizedState;_!==he||W!==ne||ai||r!==null&&r.dependencies!==null&&dl(r.dependencies)?(typeof O=="function"&&(th(i,o,O,l),ne=i.memoizedState),(oe=ai||q0(i,o,oe,l,W,ne,U)||r!==null&&r.dependencies!==null&&dl(r.dependencies))?(Z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,ne,U),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,ne,U)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===r.memoizedProps&&W===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&W===r.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=ne),m.props=l,m.state=ne,m.context=U,l=oe):(typeof m.componentDidUpdate!="function"||_===r.memoizedProps&&W===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&W===r.memoizedState||(i.flags|=1024),l=!1)}return m=l,Nl(r,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,o=l&&typeof o.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,r!==null&&l?(i.child=qi(i,r.child,null,h),i.child=qi(i,null,o,h)):In(r,i,o,h),i.memoizedState=m.state,r=i.child):r=ks(r,i,h),r}function av(r,i,o,l){return Ii(),i.flags|=256,In(r,i,o,l),i.child}var ah={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function oh(r){return{baseLanes:r,cachePool:Xg()}}function ch(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=gr),r}function ov(r,i,o){var l=i.pendingProps,h=!1,m=(i.flags&128)!==0,_;if((_=m)||(_=r!==null&&r.memoizedState===null?!1:(mn.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,r===null){if(Mt){if(h?li(i):ui(),(r=Jt)?(r=mx(r,Or),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:ni!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},o=Bg(r),o.return=i,i.child=o,Ln=i,Jt=null)):r=null,r===null)throw si(i);return qh(r)?i.lanes=32:i.lanes=536870912,null}var O=l.children;return l=l.fallback,h?(ui(),h=i.mode,O=Pl({mode:"hidden",children:O},h),l=Ui(l,h,o,null),O.return=i,l.return=i,O.sibling=l,i.child=O,l=i.child,l.memoizedState=oh(o),l.childLanes=ch(r,_,o),i.memoizedState=ah,$o(null,l)):(li(i),lh(i,O))}var U=r.memoizedState;if(U!==null&&(O=U.dehydrated,O!==null)){if(m)i.flags&256?(li(i),i.flags&=-257,i=uh(r,i,o)):i.memoizedState!==null?(ui(),i.child=r.child,i.flags|=128,i=null):(ui(),O=l.fallback,h=i.mode,l=Pl({mode:"visible",children:l.children},h),O=Ui(O,h,o,null),O.flags|=2,l.return=i,O.return=i,l.sibling=O,i.child=l,qi(i,r.child,null,o),l=i.child,l.memoizedState=oh(o),l.childLanes=ch(r,_,o),i.memoizedState=ah,i=$o(null,l));else if(li(i),qh(O)){if(_=O.nextSibling&&O.nextSibling.dataset,_)var Z=_.dgst;_=Z,l=Error(s(419)),l.stack="",l.digest=_,Mo({value:l,source:null,stack:null}),i=uh(r,i,o)}else if(wn||Ta(r,i,o,!1),_=(o&r.childLanes)!==0,wn||_){if(_=Kt,_!==null&&(l=w(_,o),l!==0&&l!==U.retryLane))throw U.retryLane=l,Li(r,l),or(_,r,l),sh;Vh(O)||Hl(),i=uh(r,i,o)}else Vh(O)?(i.flags|=192,i.child=r.child,i=null):(r=U.treeContext,Jt=Nr(O.nextSibling),Ln=i,Mt=!0,ri=null,Or=!1,r!==null&&Vg(i,r),i=lh(i,l.children),i.flags|=4096);return i}return h?(ui(),O=l.fallback,h=i.mode,U=r.child,Z=U.sibling,l=As(U,{mode:"hidden",children:l.children}),l.subtreeFlags=U.subtreeFlags&65011712,Z!==null?O=As(Z,O):(O=Ui(O,h,o,null),O.flags|=2),O.return=i,l.return=i,l.sibling=O,i.child=l,$o(null,l),l=i.child,O=r.child.memoizedState,O===null?O=oh(o):(h=O.cachePool,h!==null?(U=Sn._currentValue,h=h.parent!==U?{parent:U,pool:U}:h):h=Xg(),O={baseLanes:O.baseLanes|o,cachePool:h}),l.memoizedState=O,l.childLanes=ch(r,_,o),i.memoizedState=ah,$o(r.child,l)):(li(i),o=r.child,r=o.sibling,o=As(o,{mode:"visible",children:l.children}),o.return=i,o.sibling=null,r!==null&&(_=i.deletions,_===null?(i.deletions=[r],i.flags|=16):_.push(r)),i.child=o,i.memoizedState=null,o)}function lh(r,i){return i=Pl({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Pl(r,i){return r=hr(22,r,null,i),r.lanes=0,r}function uh(r,i,o){return qi(i,r.child,null,o),r=lh(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function cv(r,i,o){r.lanes|=i;var l=r.alternate;l!==null&&(l.lanes|=i),Ed(r.return,i,o)}function fh(r,i,o,l,h,m){var _=r.memoizedState;_===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:h,treeForkCount:m}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=o,_.tailMode=h,_.treeForkCount=m)}function lv(r,i,o){var l=i.pendingProps,h=l.revealOrder,m=l.tail;l=l.children;var _=mn.current,O=(_&2)!==0;if(O?(_=_&1|2,i.flags|=128):_&=1,le(mn,_),In(r,i,l,o),l=Mt?Oo:0,!O&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&cv(r,o,i);else if(r.tag===19)cv(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(h){case"forwards":for(o=i.child,h=null;o!==null;)r=o.alternate,r!==null&&bl(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=i.child,i.child=null):(h=o.sibling,o.sibling=null),fh(i,!1,h,o,m,l);break;case"backwards":case"unstable_legacy-backwards":for(o=null,h=i.child,i.child=null;h!==null;){if(r=h.alternate,r!==null&&bl(r)===null){i.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}fh(i,!0,o,null,m,l);break;case"together":fh(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ks(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),hi|=i.lanes,(o&i.childLanes)===0)if(r!==null){if(Ta(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,o=As(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=As(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function dh(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&dl(r)))}function WT(r,i,o){switch(i.tag){case 3:it(i,i.stateNode.containerInfo),ii(i,Sn,r.memoizedState.cache),Ii();break;case 27:case 5:J(i);break;case 4:it(i,i.stateNode.containerInfo);break;case 10:ii(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Ud(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(li(i),i.flags|=128,null):(o&i.child.childLanes)!==0?ov(r,i,o):(li(i),r=ks(r,i,o),r!==null?r.sibling:null);li(i);break;case 19:var h=(r.flags&128)!==0;if(l=(o&i.childLanes)!==0,l||(Ta(r,i,o,!1),l=(o&i.childLanes)!==0),h){if(l)return lv(r,i,o);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(mn,mn.current),l)break;return null;case 22:return i.lanes=0,tv(r,i,o,i.pendingProps);case 24:ii(i,Sn,r.memoizedState.cache)}return ks(r,i,o)}function uv(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)wn=!0;else{if(!dh(r,o)&&(i.flags&128)===0)return wn=!1,WT(r,i,o);wn=(r.flags&131072)!==0}else wn=!1,Mt&&(i.flags&1048576)!==0&&$g(i,Oo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(r=$i(i.elementType),i.type=r,typeof r=="function")gd(r)?(l=Yi(r,l),i.tag=1,i=iv(null,i,r,l,o)):(i.tag=0,i=ih(null,i,r,l,o));else{if(r!=null){var h=r.$$typeof;if(h===j){i.tag=11,i=J0(null,i,r,l,o);break e}else if(h===Y){i.tag=14,i=W0(null,i,r,l,o);break e}}throw i=ge(r)||r,Error(s(306,i,""))}}return i;case 0:return ih(r,i,i.type,i.pendingProps,o);case 1:return l=i.type,h=Yi(l,i.pendingProps),iv(r,i,l,h,o);case 3:e:{if(it(i,i.stateNode.containerInfo),r===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;h=m.element,Pd(r,i),Uo(i,l,null,o);var _=i.memoizedState;if(l=_.cache,ii(i,Sn,l),l!==m.cache&&Td(i,[Sn],o,!0),Lo(),l=_.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=av(r,i,l,o);break e}else if(l!==h){h=Tr(Error(s(424)),i),Mo(h),i=av(r,i,l,o);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Jt=Nr(r.firstChild),Ln=i,Mt=!0,ri=null,Or=!0,o=t0(i,null,l,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ii(),l===h){i=ks(r,i,o);break e}In(r,i,l,o)}i=i.child}return i;case 26:return Nl(r,i),r===null?(o=Sx(i.type,null,i.pendingProps,null))?i.memoizedState=o:Mt||(o=i.type,r=i.pendingProps,l=Kl(Te.current).createElement(o),l[q]=i,l[ae]=r,zn(l,o,r),$e(l),i.stateNode=l):i.memoizedState=Sx(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return J(i),r===null&&Mt&&(l=i.stateNode=vx(i.type,i.pendingProps,Te.current),Ln=i,Or=!0,h=Jt,vi(i.type)?(Fh=h,Jt=Nr(l.firstChild)):Jt=h),In(r,i,i.pendingProps.children,o),Nl(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Mt&&((h=l=Jt)&&(l=OR(l,i.type,i.pendingProps,Or),l!==null?(i.stateNode=l,Ln=i,Jt=Nr(l.firstChild),Or=!1,h=!0):h=!1),h||si(i)),J(i),h=i.type,m=i.pendingProps,_=r!==null?r.memoizedProps:null,l=m.children,Bh(h,m)?l=null:_!==null&&Bh(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=zd(r,i,qT,null,null,o),rc._currentValue=h),Nl(r,i),In(r,i,l,o),i.child;case 6:return r===null&&Mt&&((r=o=Jt)&&(o=MR(o,i.pendingProps,Or),o!==null?(i.stateNode=o,Ln=i,Jt=null,r=!0):r=!1),r||si(i)),null;case 13:return ov(r,i,o);case 4:return it(i,i.stateNode.containerInfo),l=i.pendingProps,r===null?i.child=qi(i,null,l,o):In(r,i,l,o),i.child;case 11:return J0(r,i,i.type,i.pendingProps,o);case 7:return In(r,i,i.pendingProps,o),i.child;case 8:return In(r,i,i.pendingProps.children,o),i.child;case 12:return In(r,i,i.pendingProps.children,o),i.child;case 10:return l=i.pendingProps,ii(i,i.type,l.value),In(r,i,l.children,o),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Bi(i),h=Un(h),l=l(h),i.flags|=1,In(r,i,l,o),i.child;case 14:return W0(r,i,i.type,i.pendingProps,o);case 15:return ev(r,i,i.type,i.pendingProps,o);case 19:return lv(r,i,o);case 31:return JT(r,i,o);case 22:return tv(r,i,o,i.pendingProps);case 24:return Bi(i),l=Un(Sn),r===null?(h=Od(),h===null&&(h=Kt,m=Rd(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=o),h=m),i.memoizedState={parent:l,cache:h},Nd(i),ii(i,Sn,h)):((r.lanes&o)!==0&&(Pd(r,i),Uo(i,null,null,o),Lo()),h=r.memoizedState,m=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ii(i,Sn,l)):(l=m.cache,ii(i,Sn,l),l!==h.cache&&Td(i,[Sn],o,!0))),In(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function js(r){r.flags|=4}function hh(r,i,o,l,h){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(h&335544128)===h)if(r.stateNode.complete)r.flags|=8192;else if(Uv())r.flags|=8192;else throw Vi=yl,Md}else r.flags&=-16777217}function fv(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Tx(i))if(Uv())r.flags|=8192;else throw Vi=yl,Md}function Dl(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Es():536870912,r.lanes|=i,Ia|=i)}function Vo(r,i){if(!Mt)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:l.sibling=null}}function Wt(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,l=0;if(i)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=l,r.childLanes=o,i}function eR(r,i,o){var l=i.pendingProps;switch(Sd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(i),null;case 1:return Wt(i),null;case 3:return o=i.stateNode,l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ns(Sn),z(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Ea(i)?js(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wd())),Wt(i),null;case 26:var h=i.type,m=i.memoizedState;return r===null?(js(i),m!==null?(Wt(i),fv(i,m)):(Wt(i),hh(i,h,null,l,o))):m?m!==r.memoizedState?(js(i),Wt(i),fv(i,m)):(Wt(i),i.flags&=-16777217):(r=r.memoizedProps,r!==l&&js(i),Wt(i),hh(i,h,r,l,o)),null;case 27:if(fe(i),o=Te.current,h=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==l&&js(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Wt(i),null}r=ve.current,Ea(i)?qg(i):(r=vx(h,l,o),i.stateNode=r,js(i))}return Wt(i),null;case 5:if(fe(i),h=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==l&&js(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Wt(i),null}if(m=ve.current,Ea(i))qg(i);else{var _=Kl(Te.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}m[q]=i,m[ae]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=m;e:switch(zn(m,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&js(i)}}return Wt(i),hh(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,o),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==l&&js(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(r=Te.current,Ea(i)){if(r=i.stateNode,o=i.memoizedProps,l=null,h=Ln,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}r[q]=i,r=!!(r.nodeValue===o||l!==null&&l.suppressHydrationWarning===!0||ox(r.nodeValue,o)),r||si(i,!0)}else r=Kl(r).createTextNode(l),r[q]=i,i.stateNode=r}return Wt(i),null;case 31:if(o=i.memoizedState,r===null||r.memoizedState!==null){if(l=Ea(i),o!==null){if(r===null){if(!l)throw Error(s(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(557));r[q]=i}else Ii(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Wt(i),r=!1}else o=wd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return i.flags&256?(mr(i),i):(mr(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Wt(i),null;case 13:if(l=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=Ea(i),l!==null&&l.dehydrated!==null){if(r===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[q]=i}else Ii(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Wt(i),h=!1}else h=wd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(mr(i),i):(mr(i),null)}return mr(i),(i.flags&128)!==0?(i.lanes=o,i):(o=l!==null,r=r!==null&&r.memoizedState!==null,o&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)),o!==r&&o&&(i.child.flags|=8192),Dl(i,i.updateQueue),Wt(i),null);case 4:return z(),r===null&&jh(i.stateNode.containerInfo),Wt(i),null;case 10:return Ns(i.type),Wt(i),null;case 19:if(re(mn),l=i.memoizedState,l===null)return Wt(i),null;if(h=(i.flags&128)!==0,m=l.rendering,m===null)if(h)Vo(l,!1);else{if(un!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(m=bl(r),m!==null){for(i.flags|=128,Vo(l,!1),r=m.updateQueue,i.updateQueue=r,Dl(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)zg(o,r),o=o.sibling;return le(mn,mn.current&1|2),Mt&&Os(i,l.treeForkCount),i.child}r=r.sibling}l.tail!==null&&ht()>Il&&(i.flags|=128,h=!0,Vo(l,!1),i.lanes=4194304)}else{if(!h)if(r=bl(m),r!==null){if(i.flags|=128,h=!0,r=r.updateQueue,i.updateQueue=r,Dl(i,r),Vo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Mt)return Wt(i),null}else 2*ht()-l.renderingStartTime>Il&&o!==536870912&&(i.flags|=128,h=!0,Vo(l,!1),i.lanes=4194304);l.isBackwards?(m.sibling=i.child,i.child=m):(r=l.last,r!==null?r.sibling=m:i.child=m,l.last=m)}return l.tail!==null?(r=l.tail,l.rendering=r,l.tail=r.sibling,l.renderingStartTime=ht(),r.sibling=null,o=mn.current,le(mn,h?o&1|2:o&1),Mt&&Os(i,l.treeForkCount),r):(Wt(i),null);case 22:case 23:return mr(i),Ld(),l=i.memoizedState!==null,r!==null?r.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(o&536870912)!==0&&(i.flags&128)===0&&(Wt(i),i.subtreeFlags&6&&(i.flags|=8192)):Wt(i),o=i.updateQueue,o!==null&&Dl(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==o&&(i.flags|=2048),r!==null&&re(Hi),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ns(Sn),Wt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function tR(r,i){switch(Sd(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Ns(Sn),z(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return fe(i),null;case 31:if(i.memoizedState!==null){if(mr(i),i.alternate===null)throw Error(s(340));Ii()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(mr(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ii()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return re(mn),null;case 4:return z(),null;case 10:return Ns(i.type),null;case 22:case 23:return mr(i),Ld(),r!==null&&re(Hi),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Ns(Sn),null;case 25:return null;default:return null}}function dv(r,i){switch(Sd(i),i.tag){case 3:Ns(Sn),z();break;case 26:case 27:case 5:fe(i);break;case 4:z();break;case 31:i.memoizedState!==null&&mr(i);break;case 13:mr(i);break;case 19:re(mn);break;case 10:Ns(i.type);break;case 22:case 23:mr(i),Ld(),r!==null&&re(Hi);break;case 24:Ns(Sn)}}function qo(r,i){try{var o=i.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var h=l.next;o=h;do{if((o.tag&r)===r){l=void 0;var m=o.create,_=o.inst;l=m(),_.destroy=l}o=o.next}while(o!==h)}}catch(O){Vt(i,i.return,O)}}function fi(r,i,o){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&r)===r){var _=l.inst,O=_.destroy;if(O!==void 0){_.destroy=void 0,h=i;var U=o,Z=O;try{Z()}catch(oe){Vt(h,U,oe)}}}l=l.next}while(l!==m)}}catch(oe){Vt(i,i.return,oe)}}function hv(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{r0(i,o)}catch(l){Vt(r,r.return,l)}}}function pv(r,i,o){o.props=Yi(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(l){Vt(r,i,l)}}function Fo(r,i){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var l=r.stateNode;break;case 30:l=r.stateNode;break;default:l=r.stateNode}typeof o=="function"?r.refCleanup=o(l):o.current=l}}catch(h){Vt(r,i,h)}}function ns(r,i){var o=r.ref,l=r.refCleanup;if(o!==null)if(typeof l=="function")try{l()}catch(h){Vt(r,i,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){Vt(r,i,h)}else o.current=null}function mv(r){var i=r.type,o=r.memoizedProps,l=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&l.focus();break e;case"img":o.src?l.src=o.src:o.srcSet&&(l.srcset=o.srcSet)}}catch(h){Vt(r,r.return,h)}}function ph(r,i,o){try{var l=r.stateNode;wR(l,r.type,o,i),l[ae]=i}catch(h){Vt(r,r.return,h)}}function yv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&vi(r.type)||r.tag===4}function mh(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||yv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&vi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function yh(r,i,o){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(r),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Ts));else if(l!==4&&(l===27&&vi(r.type)&&(o=r.stateNode,i=null),r=r.child,r!==null))for(yh(r,i,o),r=r.sibling;r!==null;)yh(r,i,o),r=r.sibling}function kl(r,i,o){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(l!==4&&(l===27&&vi(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(kl(r,i,o),r=r.sibling;r!==null;)kl(r,i,o),r=r.sibling}function gv(r){var i=r.stateNode,o=r.memoizedProps;try{for(var l=r.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);zn(i,l,o),i[q]=r,i[ae]=o}catch(m){Vt(r,r.return,m)}}var Ls=!1,Cn=!1,gh=!1,vv=typeof WeakSet=="function"?WeakSet:Set,jn=null;function nR(r,i){if(r=r.containerInfo,Ih=tu,r=Mg(r),ud(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var _=0,O=-1,U=-1,Z=0,oe=0,he=r,W=null;t:for(;;){for(var ne;he!==o||h!==0&&he.nodeType!==3||(O=_+h),he!==m||l!==0&&he.nodeType!==3||(U=_+l),he.nodeType===3&&(_+=he.nodeValue.length),(ne=he.firstChild)!==null;)W=he,he=ne;for(;;){if(he===r)break t;if(W===o&&++Z===h&&(O=_),W===m&&++oe===l&&(U=_),(ne=he.nextSibling)!==null)break;he=W,W=he.parentNode}he=ne}o=O===-1||U===-1?null:{start:O,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(zh={focusedElem:r,selectionRange:o},tu=!1,jn=i;jn!==null;)if(i=jn,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,jn=r;else for(;jn!==null;){switch(i=jn,m=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)h=r[o],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,o=i,h=m.memoizedProps,m=m.memoizedState,l=o.stateNode;try{var Ve=Yi(o.type,h);r=l.getSnapshotBeforeUpdate(Ve,m),l.__reactInternalSnapshotBeforeUpdate=r}catch(nt){Vt(o,o.return,nt)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)$h(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":$h(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,jn=r;break}jn=i.return}}function xv(r,i,o){var l=o.flags;switch(o.tag){case 0:case 11:case 15:Is(r,o),l&4&&qo(5,o);break;case 1:if(Is(r,o),l&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(_){Vt(o,o.return,_)}else{var h=Yi(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(h,i,r.__reactInternalSnapshotBeforeUpdate)}catch(_){Vt(o,o.return,_)}}l&64&&hv(o),l&512&&Fo(o,o.return);break;case 3:if(Is(r,o),l&64&&(r=o.updateQueue,r!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{r0(r,i)}catch(_){Vt(o,o.return,_)}}break;case 27:i===null&&l&4&&gv(o);case 26:case 5:Is(r,o),i===null&&l&4&&mv(o),l&512&&Fo(o,o.return);break;case 12:Is(r,o);break;case 31:Is(r,o),l&4&&_v(r,o);break;case 13:Is(r,o),l&4&&wv(r,o),l&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=fR.bind(null,o),NR(r,o))));break;case 22:if(l=o.memoizedState!==null||Ls,!l){i=i!==null&&i.memoizedState!==null||Cn,h=Ls;var m=Cn;Ls=l,(Cn=i)&&!m?zs(r,o,(o.subtreeFlags&8772)!==0):Is(r,o),Ls=h,Cn=m}break;case 30:break;default:Is(r,o)}}function bv(r){var i=r.alternate;i!==null&&(r.alternate=null,bv(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&rt(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var rn=null,rr=!1;function Us(r,i,o){for(o=o.child;o!==null;)Sv(r,i,o),o=o.sibling}function Sv(r,i,o){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Kn,o)}catch{}switch(o.tag){case 26:Cn||ns(o,i),Us(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Cn||ns(o,i);var l=rn,h=rr;vi(o.type)&&(rn=o.stateNode,rr=!1),Us(r,i,o),ec(o.stateNode),rn=l,rr=h;break;case 5:Cn||ns(o,i);case 6:if(l=rn,h=rr,rn=null,Us(r,i,o),rn=l,rr=h,rn!==null)if(rr)try{(rn.nodeType===9?rn.body:rn.nodeName==="HTML"?rn.ownerDocument.body:rn).removeChild(o.stateNode)}catch(m){Vt(o,i,m)}else try{rn.removeChild(o.stateNode)}catch(m){Vt(o,i,m)}break;case 18:rn!==null&&(rr?(r=rn,hx(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Ya(r)):hx(rn,o.stateNode));break;case 4:l=rn,h=rr,rn=o.stateNode.containerInfo,rr=!0,Us(r,i,o),rn=l,rr=h;break;case 0:case 11:case 14:case 15:fi(2,o,i),Cn||fi(4,o,i),Us(r,i,o);break;case 1:Cn||(ns(o,i),l=o.stateNode,typeof l.componentWillUnmount=="function"&&pv(o,i,l)),Us(r,i,o);break;case 21:Us(r,i,o);break;case 22:Cn=(l=Cn)||o.memoizedState!==null,Us(r,i,o),Cn=l;break;default:Us(r,i,o)}}function _v(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Ya(r)}catch(o){Vt(i,i.return,o)}}}function wv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ya(r)}catch(o){Vt(i,i.return,o)}}function rR(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new vv),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new vv),i;default:throw Error(s(435,r.tag))}}function jl(r,i){var o=rR(r);i.forEach(function(l){if(!o.has(l)){o.add(l);var h=dR.bind(null,r,l);l.then(h,h)}})}function sr(r,i){var o=i.deletions;if(o!==null)for(var l=0;l<o.length;l++){var h=o[l],m=r,_=i,O=_;e:for(;O!==null;){switch(O.tag){case 27:if(vi(O.type)){rn=O.stateNode,rr=!1;break e}break;case 5:rn=O.stateNode,rr=!1;break e;case 3:case 4:rn=O.stateNode.containerInfo,rr=!0;break e}O=O.return}if(rn===null)throw Error(s(160));Sv(m,_,h),rn=null,rr=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Cv(i,r),i=i.sibling}var Br=null;function Cv(r,i){var o=r.alternate,l=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:sr(i,r),ir(r),l&4&&(fi(3,r,r.return),qo(3,r),fi(5,r,r.return));break;case 1:sr(i,r),ir(r),l&512&&(Cn||o===null||ns(o,o.return)),l&64&&Ls&&(r=r.updateQueue,r!==null&&(l=r.callbacks,l!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?l:o.concat(l))));break;case 26:var h=Br;if(sr(i,r),ir(r),l&512&&(Cn||o===null||ns(o,o.return)),l&4){var m=o!==null?o.memoizedState:null;if(l=r.memoizedState,o===null)if(l===null)if(r.stateNode===null){e:{l=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Je]||m[q]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),zn(m,l,o),m[q]=r,$e(m),l=m;break e;case"link":var _=Cx("link","href",h).get(l+(o.href||""));if(_){for(var O=0;O<_.length;O++)if(m=_[O],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(O,1);break t}}m=h.createElement(l),zn(m,l,o),h.head.appendChild(m);break;case"meta":if(_=Cx("meta","content",h).get(l+(o.content||""))){for(O=0;O<_.length;O++)if(m=_[O],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(O,1);break t}}m=h.createElement(l),zn(m,l,o),h.head.appendChild(m);break;default:throw Error(s(468,l))}m[q]=r,$e(m),l=m}r.stateNode=l}else Ex(h,r.type,r.stateNode);else r.stateNode=wx(h,l,r.memoizedProps);else m!==l?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,l===null?Ex(h,r.type,r.stateNode):wx(h,l,r.memoizedProps)):l===null&&r.stateNode!==null&&ph(r,r.memoizedProps,o.memoizedProps)}break;case 27:sr(i,r),ir(r),l&512&&(Cn||o===null||ns(o,o.return)),o!==null&&l&4&&ph(r,r.memoizedProps,o.memoizedProps);break;case 5:if(sr(i,r),ir(r),l&512&&(Cn||o===null||ns(o,o.return)),r.flags&32){h=r.stateNode;try{Ht(h,"")}catch(Ve){Vt(r,r.return,Ve)}}l&4&&r.stateNode!=null&&(h=r.memoizedProps,ph(r,h,o!==null?o.memoizedProps:h)),l&1024&&(gh=!0);break;case 6:if(sr(i,r),ir(r),l&4){if(r.stateNode===null)throw Error(s(162));l=r.memoizedProps,o=r.stateNode;try{o.nodeValue=l}catch(Ve){Vt(r,r.return,Ve)}}break;case 3:if(Zl=null,h=Br,Br=Xl(i.containerInfo),sr(i,r),Br=h,ir(r),l&4&&o!==null&&o.memoizedState.isDehydrated)try{Ya(i.containerInfo)}catch(Ve){Vt(r,r.return,Ve)}gh&&(gh=!1,Ev(r));break;case 4:l=Br,Br=Xl(r.stateNode.containerInfo),sr(i,r),ir(r),Br=l;break;case 12:sr(i,r),ir(r);break;case 31:sr(i,r),ir(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,jl(r,l)));break;case 13:sr(i,r),ir(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ul=ht()),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,jl(r,l)));break;case 22:h=r.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,Z=Ls,oe=Cn;if(Ls=Z||h,Cn=oe||U,sr(i,r),Cn=oe,Ls=Z,ir(r),l&8192)e:for(i=r.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(o===null||U||Ls||Cn||Gi(r)),o=null,i=r;;){if(i.tag===5||i.tag===26){if(o===null){U=o=i;try{if(m=U.stateNode,h)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{O=U.stateNode;var he=U.memoizedProps.style,W=he!=null&&he.hasOwnProperty("display")?he.display:null;O.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Ve){Vt(U,U.return,Ve)}}}else if(i.tag===6){if(o===null){U=i;try{U.stateNode.nodeValue=h?"":U.memoizedProps}catch(Ve){Vt(U,U.return,Ve)}}}else if(i.tag===18){if(o===null){U=i;try{var ne=U.stateNode;h?px(ne,!0):px(U.stateNode,!1)}catch(Ve){Vt(U,U.return,Ve)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=r.updateQueue,l!==null&&(o=l.retryQueue,o!==null&&(l.retryQueue=null,jl(r,o))));break;case 19:sr(i,r),ir(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,jl(r,l)));break;case 30:break;case 21:break;default:sr(i,r),ir(r)}}function ir(r){var i=r.flags;if(i&2){try{for(var o,l=r.return;l!==null;){if(yv(l)){o=l;break}l=l.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var h=o.stateNode,m=mh(r);kl(r,m,h);break;case 5:var _=o.stateNode;o.flags&32&&(Ht(_,""),o.flags&=-33);var O=mh(r);kl(r,O,_);break;case 3:case 4:var U=o.stateNode.containerInfo,Z=mh(r);yh(r,Z,U);break;default:throw Error(s(161))}}catch(oe){Vt(r,r.return,oe)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Ev(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Ev(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function Is(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)xv(r,i.alternate,i),i=i.sibling}function Gi(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:fi(4,i,i.return),Gi(i);break;case 1:ns(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&pv(i,i.return,o),Gi(i);break;case 27:ec(i.stateNode);case 26:case 5:ns(i,i.return),Gi(i);break;case 22:i.memoizedState===null&&Gi(i);break;case 30:Gi(i);break;default:Gi(i)}r=r.sibling}}function zs(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=r,m=i,_=m.flags;switch(m.tag){case 0:case 11:case 15:zs(h,m,o),qo(4,m);break;case 1:if(zs(h,m,o),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Z){Vt(l,l.return,Z)}if(l=m,h=l.updateQueue,h!==null){var O=l.stateNode;try{var U=h.shared.hiddenCallbacks;if(U!==null)for(h.shared.hiddenCallbacks=null,h=0;h<U.length;h++)n0(U[h],O)}catch(Z){Vt(l,l.return,Z)}}o&&_&64&&hv(m),Fo(m,m.return);break;case 27:gv(m);case 26:case 5:zs(h,m,o),o&&l===null&&_&4&&mv(m),Fo(m,m.return);break;case 12:zs(h,m,o);break;case 31:zs(h,m,o),o&&_&4&&_v(h,m);break;case 13:zs(h,m,o),o&&_&4&&wv(h,m);break;case 22:m.memoizedState===null&&zs(h,m,o),Fo(m,m.return);break;case 30:break;default:zs(h,m,o)}i=i.sibling}}function vh(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&No(o))}function xh(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&No(r))}function Hr(r,i,o,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Tv(r,i,o,l),i=i.sibling}function Tv(r,i,o,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Hr(r,i,o,l),h&2048&&qo(9,i);break;case 1:Hr(r,i,o,l);break;case 3:Hr(r,i,o,l),h&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&No(r)));break;case 12:if(h&2048){Hr(r,i,o,l),r=i.stateNode;try{var m=i.memoizedProps,_=m.id,O=m.onPostCommit;typeof O=="function"&&O(_,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(U){Vt(i,i.return,U)}}else Hr(r,i,o,l);break;case 31:Hr(r,i,o,l);break;case 13:Hr(r,i,o,l);break;case 23:break;case 22:m=i.stateNode,_=i.alternate,i.memoizedState!==null?m._visibility&2?Hr(r,i,o,l):Yo(r,i):m._visibility&2?Hr(r,i,o,l):(m._visibility|=2,ja(r,i,o,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&vh(_,i);break;case 24:Hr(r,i,o,l),h&2048&&xh(i.alternate,i);break;default:Hr(r,i,o,l)}}function ja(r,i,o,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=r,_=i,O=o,U=l,Z=_.flags;switch(_.tag){case 0:case 11:case 15:ja(m,_,O,U,h),qo(8,_);break;case 23:break;case 22:var oe=_.stateNode;_.memoizedState!==null?oe._visibility&2?ja(m,_,O,U,h):Yo(m,_):(oe._visibility|=2,ja(m,_,O,U,h)),h&&Z&2048&&vh(_.alternate,_);break;case 24:ja(m,_,O,U,h),h&&Z&2048&&xh(_.alternate,_);break;default:ja(m,_,O,U,h)}i=i.sibling}}function Yo(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,l=i,h=l.flags;switch(l.tag){case 22:Yo(o,l),h&2048&&vh(l.alternate,l);break;case 24:Yo(o,l),h&2048&&xh(l.alternate,l);break;default:Yo(o,l)}i=i.sibling}}var Go=8192;function La(r,i,o){if(r.subtreeFlags&Go)for(r=r.child;r!==null;)Rv(r,i,o),r=r.sibling}function Rv(r,i,o){switch(r.tag){case 26:La(r,i,o),r.flags&Go&&r.memoizedState!==null&&VR(o,Br,r.memoizedState,r.memoizedProps);break;case 5:La(r,i,o);break;case 3:case 4:var l=Br;Br=Xl(r.stateNode.containerInfo),La(r,i,o),Br=l;break;case 22:r.memoizedState===null&&(l=r.alternate,l!==null&&l.memoizedState!==null?(l=Go,Go=16777216,La(r,i,o),Go=l):La(r,i,o));break;default:La(r,i,o)}}function Av(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Ko(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var l=i[o];jn=l,Mv(l,r)}Av(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ov(r),r=r.sibling}function Ov(r){switch(r.tag){case 0:case 11:case 15:Ko(r),r.flags&2048&&fi(9,r,r.return);break;case 3:Ko(r);break;case 12:Ko(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Ll(r)):Ko(r);break;default:Ko(r)}}function Ll(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var l=i[o];jn=l,Mv(l,r)}Av(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:fi(8,i,i.return),Ll(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Ll(i));break;default:Ll(i)}r=r.sibling}}function Mv(r,i){for(;jn!==null;){var o=jn;switch(o.tag){case 0:case 11:case 15:fi(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var l=o.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:No(o.memoizedState.cache)}if(l=o.child,l!==null)l.return=o,jn=l;else e:for(o=r;jn!==null;){l=jn;var h=l.sibling,m=l.return;if(bv(l),l===o){jn=null;break e}if(h!==null){h.return=m,jn=h;break e}jn=m}}}var sR={getCacheForType:function(r){var i=Un(Sn),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o},cacheSignal:function(){return Un(Sn).controller.signal}},iR=typeof WeakMap=="function"?WeakMap:Map,It=0,Kt=null,Et=null,Rt=0,$t=0,yr=null,di=!1,Ua=!1,bh=!1,Bs=0,un=0,hi=0,Ki=0,Sh=0,gr=0,Ia=0,Xo=null,ar=null,_h=!1,Ul=0,Nv=0,Il=1/0,zl=null,pi=null,On=0,mi=null,za=null,Hs=0,wh=0,Ch=null,Pv=null,Qo=0,Eh=null;function vr(){return(It&2)!==0&&Rt!==0?Rt&-Rt:B.T!==null?Nh():x()}function Dv(){if(gr===0)if((Rt&536870912)===0||Mt){var r=Cs;Cs<<=1,(Cs&3932160)===0&&(Cs=262144),gr=r}else gr=536870912;return r=pr.current,r!==null&&(r.flags|=32),gr}function or(r,i,o){(r===Kt&&($t===2||$t===9)||r.cancelPendingCommit!==null)&&(Ba(r,0),yi(r,Rt,gr,!1)),Wr(r,o),((It&2)===0||r!==Kt)&&(r===Kt&&((It&2)===0&&(Ki|=o),un===4&&yi(r,Rt,gr,!1)),rs(r))}function kv(r,i,o){if((It&6)!==0)throw Error(s(327));var l=!o&&(i&127)===0&&(i&r.expiredLanes)===0||Xn(r,i),h=l?cR(r,i):Rh(r,i,!0),m=l;do{if(h===0){Ua&&!l&&yi(r,i,0,!1);break}else{if(o=r.current.alternate,m&&!aR(o)){h=Rh(r,i,!1),m=!1;continue}if(h===2){if(m=i,r.errorRecoveryDisabledLanes&m)var _=0;else _=r.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var O=r;h=Xo;var U=O.current.memoizedState.isDehydrated;if(U&&(Ba(O,_).flags|=256),_=Rh(O,_,!1),_!==2){if(bh&&!U){O.errorRecoveryDisabledLanes|=m,Ki|=m,h=4;break e}m=ar,ar=h,m!==null&&(ar===null?ar=m:ar.push.apply(ar,m))}h=_}if(m=!1,h!==2)continue}}if(h===1){Ba(r,0),yi(r,i,0,!0);break}e:{switch(l=r,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:yi(l,i,gr,!di);break e;case 2:ar=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ul+300-ht(),10<h)){if(yi(l,i,gr,!di),Hn(l,0,!0)!==0)break e;Hs=i,l.timeoutHandle=fx(jv.bind(null,l,o,ar,zl,_h,i,gr,Ki,Ia,di,m,"Throttled",-0,0),h);break e}jv(l,o,ar,zl,_h,i,gr,Ki,Ia,di,m,null,-0,0)}}break}while(!0);rs(r)}function jv(r,i,o,l,h,m,_,O,U,Z,oe,he,W,ne){if(r.timeoutHandle=-1,he=i.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ts},Rv(i,m,he);var Ve=(m&62914560)===m?Ul-ht():(m&4194048)===m?Nv-ht():0;if(Ve=qR(he,Ve),Ve!==null){Hs=m,r.cancelPendingCommit=Ve(Vv.bind(null,r,i,m,o,l,h,_,O,U,oe,he,null,W,ne)),yi(r,m,_,!Z);return}}Vv(r,i,m,o,l,h,_,O,U)}function aR(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var l=0;l<o.length;l++){var h=o[l],m=h.getSnapshot;h=h.value;try{if(!dr(m(),h))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function yi(r,i,o,l){i&=~Sh,i&=~Ki,r.suspendedLanes|=i,r.pingedLanes&=~i,l&&(r.warmLanes|=i),l=r.expirationTimes;for(var h=i;0<h;){var m=31-on(h),_=1<<m;l[m]=-1,h&=~_}o!==0&&Se(r,o,i)}function Bl(){return(It&6)===0?(Zo(0),!1):!0}function Th(){if(Et!==null){if($t===0)var r=Et.return;else r=Et,Ms=zi=null,$d(r),Ma=null,Do=0,r=Et;for(;r!==null;)dv(r.alternate,r),r=r.return;Et=null}}function Ba(r,i){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,TR(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Hs=0,Th(),Kt=r,Et=o=As(r.current,null),Rt=i,$t=0,yr=null,di=!1,Ua=Xn(r,i),bh=!1,Ia=gr=Sh=Ki=hi=un=0,ar=Xo=null,_h=!1,(i&8)!==0&&(i|=i&32);var l=r.entangledLanes;if(l!==0)for(r=r.entanglements,l&=i;0<l;){var h=31-on(l),m=1<<h;i|=r[h],l&=~m}return Bs=i,ol(),o}function Lv(r,i){yt=null,B.H=Ho,i===Oa||i===ml?(i=Jg(),$t=3):i===Md?(i=Jg(),$t=4):$t=i===sh?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yr=i,Et===null&&(un=1,Ol(r,Tr(i,r.current)))}function Uv(){var r=pr.current;return r===null?!0:(Rt&4194048)===Rt?Mr===null:(Rt&62914560)===Rt||(Rt&536870912)!==0?r===Mr:!1}function Iv(){var r=B.H;return B.H=Ho,r===null?Ho:r}function zv(){var r=B.A;return B.A=sR,r}function Hl(){un=4,di||(Rt&4194048)!==Rt&&pr.current!==null||(Ua=!0),(hi&134217727)===0&&(Ki&134217727)===0||Kt===null||yi(Kt,Rt,gr,!1)}function Rh(r,i,o){var l=It;It|=2;var h=Iv(),m=zv();(Kt!==r||Rt!==i)&&(zl=null,Ba(r,i)),i=!1;var _=un;e:do try{if($t!==0&&Et!==null){var O=Et,U=yr;switch($t){case 8:Th(),_=6;break e;case 3:case 2:case 9:case 6:pr.current===null&&(i=!0);var Z=$t;if($t=0,yr=null,Ha(r,O,U,Z),o&&Ua){_=0;break e}break;default:Z=$t,$t=0,yr=null,Ha(r,O,U,Z)}}oR(),_=un;break}catch(oe){Lv(r,oe)}while(!0);return i&&r.shellSuspendCounter++,Ms=zi=null,It=l,B.H=h,B.A=m,Et===null&&(Kt=null,Rt=0,ol()),_}function oR(){for(;Et!==null;)Bv(Et)}function cR(r,i){var o=It;It|=2;var l=Iv(),h=zv();Kt!==r||Rt!==i?(zl=null,Il=ht()+500,Ba(r,i)):Ua=Xn(r,i);e:do try{if($t!==0&&Et!==null){i=Et;var m=yr;t:switch($t){case 1:$t=0,yr=null,Ha(r,i,m,1);break;case 2:case 9:if(Qg(m)){$t=0,yr=null,Hv(i);break}i=function(){$t!==2&&$t!==9||Kt!==r||($t=7),rs(r)},m.then(i,i);break e;case 3:$t=7;break e;case 4:$t=5;break e;case 7:Qg(m)?($t=0,yr=null,Hv(i)):($t=0,yr=null,Ha(r,i,m,7));break;case 5:var _=null;switch(Et.tag){case 26:_=Et.memoizedState;case 5:case 27:var O=Et;if(_?Tx(_):O.stateNode.complete){$t=0,yr=null;var U=O.sibling;if(U!==null)Et=U;else{var Z=O.return;Z!==null?(Et=Z,$l(Z)):Et=null}break t}}$t=0,yr=null,Ha(r,i,m,5);break;case 6:$t=0,yr=null,Ha(r,i,m,6);break;case 8:Th(),un=6;break e;default:throw Error(s(462))}}lR();break}catch(oe){Lv(r,oe)}while(!0);return Ms=zi=null,B.H=l,B.A=h,It=o,Et!==null?0:(Kt=null,Rt=0,ol(),un)}function lR(){for(;Et!==null&&!xn();)Bv(Et)}function Bv(r){var i=uv(r.alternate,r,Bs);r.memoizedProps=r.pendingProps,i===null?$l(r):Et=i}function Hv(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=sv(o,i,i.pendingProps,i.type,void 0,Rt);break;case 11:i=sv(o,i,i.pendingProps,i.type.render,i.ref,Rt);break;case 5:$d(i);default:dv(o,i),i=Et=zg(i,Bs),i=uv(o,i,Bs)}r.memoizedProps=r.pendingProps,i===null?$l(r):Et=i}function Ha(r,i,o,l){Ms=zi=null,$d(i),Ma=null,Do=0;var h=i.return;try{if(ZT(r,h,i,o,Rt)){un=1,Ol(r,Tr(o,r.current)),Et=null;return}}catch(m){if(h!==null)throw Et=h,m;un=1,Ol(r,Tr(o,r.current)),Et=null;return}i.flags&32768?(Mt||l===1?r=!0:Ua||(Rt&536870912)!==0?r=!1:(di=r=!0,(l===2||l===9||l===3||l===6)&&(l=pr.current,l!==null&&l.tag===13&&(l.flags|=16384))),$v(i,r)):$l(i)}function $l(r){var i=r;do{if((i.flags&32768)!==0){$v(i,di);return}r=i.return;var o=eR(i.alternate,i,Bs);if(o!==null){Et=o;return}if(i=i.sibling,i!==null){Et=i;return}Et=i=r}while(i!==null);un===0&&(un=5)}function $v(r,i){do{var o=tR(r.alternate,r);if(o!==null){o.flags&=32767,Et=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){Et=r;return}Et=r=o}while(r!==null);un=6,Et=null}function Vv(r,i,o,l,h,m,_,O,U){r.cancelPendingCommit=null;do Vl();while(On!==0);if((It&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=md,se(r,o,m,_,O,U),r===Kt&&(Et=Kt=null,Rt=0),za=i,mi=r,Hs=o,wh=m,Ch=h,Pv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,hR(Nn,function(){return Kv(),null})):(r.callbackNode=null,r.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,h=ie.p,ie.p=2,_=It,It|=4;try{nR(r,i,o)}finally{It=_,ie.p=h,B.T=l}}On=1,qv(),Fv(),Yv()}}function qv(){if(On===1){On=0;var r=mi,i=za,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=B.T,B.T=null;var l=ie.p;ie.p=2;var h=It;It|=4;try{Cv(i,r);var m=zh,_=Mg(r.containerInfo),O=m.focusedElem,U=m.selectionRange;if(_!==O&&O&&O.ownerDocument&&Og(O.ownerDocument.documentElement,O)){if(U!==null&&ud(O)){var Z=U.start,oe=U.end;if(oe===void 0&&(oe=Z),"selectionStart"in O)O.selectionStart=Z,O.selectionEnd=Math.min(oe,O.value.length);else{var he=O.ownerDocument||document,W=he&&he.defaultView||window;if(W.getSelection){var ne=W.getSelection(),Ve=O.textContent.length,nt=Math.min(U.start,Ve),Gt=U.end===void 0?nt:Math.min(U.end,Ve);!ne.extend&&nt>Gt&&(_=Gt,Gt=nt,nt=_);var F=Ag(O,nt),H=Ag(O,Gt);if(F&&H&&(ne.rangeCount!==1||ne.anchorNode!==F.node||ne.anchorOffset!==F.offset||ne.focusNode!==H.node||ne.focusOffset!==H.offset)){var Q=he.createRange();Q.setStart(F.node,F.offset),ne.removeAllRanges(),nt>Gt?(ne.addRange(Q),ne.extend(H.node,H.offset)):(Q.setEnd(H.node,H.offset),ne.addRange(Q))}}}}for(he=[],ne=O;ne=ne.parentNode;)ne.nodeType===1&&he.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<he.length;O++){var ue=he[O];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}tu=!!Ih,zh=Ih=null}finally{It=h,ie.p=l,B.T=o}}r.current=i,On=2}}function Fv(){if(On===2){On=0;var r=mi,i=za,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=B.T,B.T=null;var l=ie.p;ie.p=2;var h=It;It|=4;try{xv(r,i.alternate,i)}finally{It=h,ie.p=l,B.T=o}}On=3}}function Yv(){if(On===4||On===3){On=0,at();var r=mi,i=za,o=Hs,l=Pv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?On=5:(On=0,za=mi=null,Gv(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(pi=null),A(o),i=i.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Kn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=B.T,h=ie.p,ie.p=2,B.T=null;try{for(var m=r.onRecoverableError,_=0;_<l.length;_++){var O=l[_];m(O.value,{componentStack:O.stack})}}finally{B.T=i,ie.p=h}}(Hs&3)!==0&&Vl(),rs(r),h=r.pendingLanes,(o&261930)!==0&&(h&42)!==0?r===Eh?Qo++:(Qo=0,Eh=r):Qo=0,Zo(0)}}function Gv(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,No(i)))}function Vl(){return qv(),Fv(),Yv(),Kv()}function Kv(){if(On!==5)return!1;var r=mi,i=wh;wh=0;var o=A(Hs),l=B.T,h=ie.p;try{ie.p=32>o?32:o,B.T=null,o=Ch,Ch=null;var m=mi,_=Hs;if(On=0,za=mi=null,Hs=0,(It&6)!==0)throw Error(s(331));var O=It;if(It|=4,Ov(m.current),Tv(m,m.current,_,o),It=O,Zo(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Kn,m)}catch{}return!0}finally{ie.p=h,B.T=l,Gv(r,i)}}function Xv(r,i,o){i=Tr(o,i),i=rh(r.stateNode,i,2),r=ci(r,i,2),r!==null&&(Wr(r,2),rs(r))}function Vt(r,i,o){if(r.tag===3)Xv(r,r,o);else for(;i!==null;){if(i.tag===3){Xv(i,r,o);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(pi===null||!pi.has(l))){r=Tr(o,r),o=Q0(2),l=ci(i,o,2),l!==null&&(Z0(o,l,i,r),Wr(l,2),rs(l));break}}i=i.return}}function Ah(r,i,o){var l=r.pingCache;if(l===null){l=r.pingCache=new iR;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(o)||(bh=!0,h.add(o),r=uR.bind(null,r,i,o),i.then(r,r))}function uR(r,i,o){var l=r.pingCache;l!==null&&l.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Kt===r&&(Rt&o)===o&&(un===4||un===3&&(Rt&62914560)===Rt&&300>ht()-Ul?(It&2)===0&&Ba(r,0):Sh|=o,Ia===Rt&&(Ia=0)),rs(r)}function Qv(r,i){i===0&&(i=Es()),r=Li(r,i),r!==null&&(Wr(r,i),rs(r))}function fR(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),Qv(r,o)}function dR(r,i){var o=0;switch(r.tag){case 31:case 13:var l=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:l=r.stateNode;break;case 22:l=r.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Qv(r,o)}function hR(r,i){return Ut(r,i)}var ql=null,$a=null,Oh=!1,Fl=!1,Mh=!1,gi=0;function rs(r){r!==$a&&r.next===null&&($a===null?ql=$a=r:$a=$a.next=r),Fl=!0,Oh||(Oh=!0,mR())}function Zo(r,i){if(!Mh&&Fl){Mh=!0;do for(var o=!1,l=ql;l!==null;){if(r!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var _=l.suspendedLanes,O=l.pingedLanes;m=(1<<31-on(42|r)+1)-1,m&=h&~(_&~O),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,ex(l,m))}else m=Rt,m=Hn(l,l===Kt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Xn(l,m)||(o=!0,ex(l,m));l=l.next}while(o);Mh=!1}}function pR(){Zv()}function Zv(){Fl=Oh=!1;var r=0;gi!==0&&ER()&&(r=gi);for(var i=ht(),o=null,l=ql;l!==null;){var h=l.next,m=Jv(l,i);m===0?(l.next=null,o===null?ql=h:o.next=h,h===null&&($a=o)):(o=l,(r!==0||(m&3)!==0)&&(Fl=!0)),l=h}On!==0&&On!==5||Zo(r),gi!==0&&(gi=0)}function Jv(r,i){for(var o=r.suspendedLanes,l=r.pingedLanes,h=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var _=31-on(m),O=1<<_,U=h[_];U===-1?((O&o)===0||(O&l)!==0)&&(h[_]=Ir(O,i)):U<=i&&(r.expiredLanes|=O),m&=~O}if(i=Kt,o=Rt,o=Hn(r,r===i?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l=r.callbackNode,o===0||r===i&&($t===2||$t===9)||r.cancelPendingCommit!==null)return l!==null&&l!==null&&Xt(l),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Xn(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(l!==null&&Xt(l),A(o)){case 2:case 8:o=Gn;break;case 32:o=Nn;break;case 268435456:o=bs;break;default:o=Nn}return l=Wv.bind(null,r),o=Ut(o,l),r.callbackPriority=i,r.callbackNode=o,i}return l!==null&&l!==null&&Xt(l),r.callbackPriority=2,r.callbackNode=null,2}function Wv(r,i){if(On!==0&&On!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Vl()&&r.callbackNode!==o)return null;var l=Rt;return l=Hn(r,r===Kt?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l===0?null:(kv(r,l,i),Jv(r,ht()),r.callbackNode!=null&&r.callbackNode===o?Wv.bind(null,r):null)}function ex(r,i){if(Vl())return null;kv(r,i,!0)}function mR(){RR(function(){(It&6)!==0?Ut(An,pR):Zv()})}function Nh(){if(gi===0){var r=Ra;r===0&&(r=Zr,Zr<<=1,(Zr&261888)===0&&(Zr=256)),gi=r}return gi}function tx(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Wc(""+r)}function nx(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function yR(r,i,o,l,h){if(i==="submit"&&o&&o.stateNode===h){var m=tx((h[ae]||null).action),_=l.submitter;_&&(i=(i=_[ae]||null)?tx(i.formAction):_.getAttribute("formAction"),i!==null&&(m=i,_=null));var O=new rl("action","action",null,l,h);r.push({event:O,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(gi!==0){var U=_?nx(h,_):new FormData(h);Zd(o,{pending:!0,data:U,method:h.method,action:m},null,U)}}else typeof m=="function"&&(O.preventDefault(),U=_?nx(h,_):new FormData(h),Zd(o,{pending:!0,data:U,method:h.method,action:m},m,U))},currentTarget:h}]})}}for(var Ph=0;Ph<pd.length;Ph++){var Dh=pd[Ph],gR=Dh.toLowerCase(),vR=Dh[0].toUpperCase()+Dh.slice(1);zr(gR,"on"+vR)}zr(Dg,"onAnimationEnd"),zr(kg,"onAnimationIteration"),zr(jg,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(kT,"onTransitionRun"),zr(jT,"onTransitionStart"),zr(LT,"onTransitionCancel"),zr(Lg,"onTransitionEnd"),De("onMouseEnter",["mouseout","mouseover"]),De("onMouseLeave",["mouseout","mouseover"]),De("onPointerEnter",["pointerout","pointerover"]),De("onPointerLeave",["pointerout","pointerover"]),Ae("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ae("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ae("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ae("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ae("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ae("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jo));function rx(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var l=r[o],h=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var _=l.length-1;0<=_;_--){var O=l[_],U=O.instance,Z=O.currentTarget;if(O=O.listener,U!==m&&h.isPropagationStopped())break e;m=O,h.currentTarget=Z;try{m(h)}catch(oe){al(oe)}h.currentTarget=null,m=U}else for(_=0;_<l.length;_++){if(O=l[_],U=O.instance,Z=O.currentTarget,O=O.listener,U!==m&&h.isPropagationStopped())break e;m=O,h.currentTarget=Z;try{m(h)}catch(oe){al(oe)}h.currentTarget=null,m=U}}}}function Tt(r,i){var o=i[He];o===void 0&&(o=i[He]=new Set);var l=r+"__bubble";o.has(l)||(sx(i,r,2,!1),o.add(l))}function kh(r,i,o){var l=0;i&&(l|=4),sx(o,r,l,i)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function jh(r){if(!r[Yl]){r[Yl]=!0,Ie.forEach(function(o){o!=="selectionchange"&&(xR.has(o)||kh(o,!1,r),kh(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Yl]||(i[Yl]=!0,kh("selectionchange",!1,i))}}function sx(r,i,o,l){switch(Dx(i)){case 2:var h=GR;break;case 8:h=KR;break;default:h=Qh}o=h.bind(null,i,o,r),h=void 0,!td||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?r.addEventListener(i,o,{capture:!0,passive:h}):r.addEventListener(i,o,!0):h!==void 0?r.addEventListener(i,o,{passive:h}):r.addEventListener(i,o,!1)}function Lh(r,i,o,l,h){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var O=l.stateNode.containerInfo;if(O===h)break;if(_===4)for(_=l.return;_!==null;){var U=_.tag;if((U===3||U===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;O!==null;){if(_=ot(O),_===null)return;if(U=_.tag,U===5||U===6||U===26||U===27){l=m=_;continue e}O=O.parentNode}}l=l.return}lg(function(){var Z=m,oe=Wf(o),he=[];e:{var W=Ug.get(r);if(W!==void 0){var ne=rl,Ve=r;switch(r){case"keypress":if(tl(o)===0)break e;case"keydown":case"keyup":ne=dT;break;case"focusin":Ve="focus",ne=id;break;case"focusout":Ve="blur",ne=id;break;case"beforeblur":case"afterblur":ne=id;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=dg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=eT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=mT;break;case Dg:case kg:case jg:ne=rT;break;case Lg:ne=gT;break;case"scroll":case"scrollend":ne=JE;break;case"wheel":ne=xT;break;case"copy":case"cut":case"paste":ne=iT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=pg;break;case"toggle":case"beforetoggle":ne=ST}var nt=(i&4)!==0,Gt=!nt&&(r==="scroll"||r==="scrollend"),F=nt?W!==null?W+"Capture":null:W;nt=[];for(var H=Z,Q;H!==null;){var ue=H;if(Q=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Q===null||F===null||(ue=bo(H,F),ue!=null&&nt.push(Wo(H,ue,Q))),Gt)break;H=H.return}0<nt.length&&(W=new ne(W,Ve,null,o,oe),he.push({event:W,listeners:nt}))}}if((i&7)===0){e:{if(W=r==="mouseover"||r==="pointerover",ne=r==="mouseout"||r==="pointerout",W&&o!==Jf&&(Ve=o.relatedTarget||o.fromElement)&&(ot(Ve)||Ve[we]))break e;if((ne||W)&&(W=oe.window===oe?oe:(W=oe.ownerDocument)?W.defaultView||W.parentWindow:window,ne?(Ve=o.relatedTarget||o.toElement,ne=Z,Ve=Ve?ot(Ve):null,Ve!==null&&(Gt=c(Ve),nt=Ve.tag,Ve!==Gt||nt!==5&&nt!==27&&nt!==6)&&(Ve=null)):(ne=null,Ve=Z),ne!==Ve)){if(nt=dg,ue="onMouseLeave",F="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(nt=pg,ue="onPointerLeave",F="onPointerEnter",H="pointer"),Gt=ne==null?W:We(ne),Q=Ve==null?W:We(Ve),W=new nt(ue,H+"leave",ne,o,oe),W.target=Gt,W.relatedTarget=Q,ue=null,ot(oe)===Z&&(nt=new nt(F,H+"enter",Ve,o,oe),nt.target=Q,nt.relatedTarget=Gt,ue=nt),Gt=ue,ne&&Ve)t:{for(nt=bR,F=ne,H=Ve,Q=0,ue=F;ue;ue=nt(ue))Q++;ue=0;for(var Ze=H;Ze;Ze=nt(Ze))ue++;for(;0<Q-ue;)F=nt(F),Q--;for(;0<ue-Q;)H=nt(H),ue--;for(;Q--;){if(F===H||H!==null&&F===H.alternate){nt=F;break t}F=nt(F),H=nt(H)}nt=null}else nt=null;ne!==null&&ix(he,W,ne,nt,!1),Ve!==null&&Gt!==null&&ix(he,Gt,Ve,nt,!0)}}e:{if(W=Z?We(Z):window,ne=W.nodeName&&W.nodeName.toLowerCase(),ne==="select"||ne==="input"&&W.type==="file")var kt=_g;else if(bg(W))if(wg)kt=NT;else{kt=OT;var Ke=AT}else ne=W.nodeName,!ne||ne.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Z&&bn(Z.elementType)&&(kt=_g):kt=MT;if(kt&&(kt=kt(r,Z))){Sg(he,kt,o,oe);break e}Ke&&Ke(r,W,Z),r==="focusout"&&Z&&W.type==="number"&&Z.memoizedProps.value!=null&&wt(W,"number",W.value)}switch(Ke=Z?We(Z):window,r){case"focusin":(bg(Ke)||Ke.contentEditable==="true")&&(xa=Ke,fd=Z,Ao=null);break;case"focusout":Ao=fd=xa=null;break;case"mousedown":dd=!0;break;case"contextmenu":case"mouseup":case"dragend":dd=!1,Ng(he,o,oe);break;case"selectionchange":if(DT)break;case"keydown":case"keyup":Ng(he,o,oe)}var bt;if(od)e:{switch(r){case"compositionstart":var At="onCompositionStart";break e;case"compositionend":At="onCompositionEnd";break e;case"compositionupdate":At="onCompositionUpdate";break e}At=void 0}else va?vg(r,o)&&(At="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(At="onCompositionStart");At&&(mg&&o.locale!=="ko"&&(va||At!=="onCompositionStart"?At==="onCompositionEnd"&&va&&(bt=ug()):(ti=oe,nd="value"in ti?ti.value:ti.textContent,va=!0)),Ke=Gl(Z,At),0<Ke.length&&(At=new hg(At,r,null,o,oe),he.push({event:At,listeners:Ke}),bt?At.data=bt:(bt=xg(o),bt!==null&&(At.data=bt)))),(bt=wT?CT(r,o):ET(r,o))&&(At=Gl(Z,"onBeforeInput"),0<At.length&&(Ke=new hg("onBeforeInput","beforeinput",null,o,oe),he.push({event:Ke,listeners:At}),Ke.data=bt)),yR(he,r,Z,o,oe)}rx(he,i)})}function Wo(r,i,o){return{instance:r,listener:i,currentTarget:o}}function Gl(r,i){for(var o=i+"Capture",l=[];r!==null;){var h=r,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=bo(r,o),h!=null&&l.unshift(Wo(r,h,m)),h=bo(r,i),h!=null&&l.push(Wo(r,h,m))),r.tag===3)return l;r=r.return}return[]}function bR(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function ix(r,i,o,l,h){for(var m=i._reactName,_=[];o!==null&&o!==l;){var O=o,U=O.alternate,Z=O.stateNode;if(O=O.tag,U!==null&&U===l)break;O!==5&&O!==26&&O!==27||Z===null||(U=Z,h?(Z=bo(o,m),Z!=null&&_.unshift(Wo(o,Z,U))):h||(Z=bo(o,m),Z!=null&&_.push(Wo(o,Z,U)))),o=o.return}_.length!==0&&r.push({event:i,listeners:_})}var SR=/\r\n?/g,_R=/\u0000|\uFFFD/g;function ax(r){return(typeof r=="string"?r:""+r).replace(SR,`
`).replace(_R,"")}function ox(r,i){return i=ax(i),ax(r)===i}function Yt(r,i,o,l,h,m){switch(o){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Ht(r,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Ht(r,""+l);break;case"className":de(r,"class",l);break;case"tabIndex":de(r,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":de(r,o,l);break;case"style":cn(r,l,m);break;case"data":if(i!=="object"){de(r,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(o);break}l=Wc(""+l),r.setAttribute(o,l);break;case"action":case"formAction":if(typeof l=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(i!=="input"&&Yt(r,i,"name",h.name,h,null),Yt(r,i,"formEncType",h.formEncType,h,null),Yt(r,i,"formMethod",h.formMethod,h,null),Yt(r,i,"formTarget",h.formTarget,h,null)):(Yt(r,i,"encType",h.encType,h,null),Yt(r,i,"method",h.method,h,null),Yt(r,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(o);break}l=Wc(""+l),r.setAttribute(o,l);break;case"onClick":l!=null&&(r.onclick=Ts);break;case"onScroll":l!=null&&Tt("scroll",r);break;case"onScrollEnd":l!=null&&Tt("scrollend",r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(o=l.__html,o!=null){if(h.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"multiple":r.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":r.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){r.removeAttribute("xlink:href");break}o=Wc(""+l),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,""+l):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":l===!0?r.setAttribute(o,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,l):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?r.setAttribute(o,l):r.removeAttribute(o);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?r.removeAttribute(o):r.setAttribute(o,l);break;case"popover":Tt("beforetoggle",r),Tt("toggle",r),ye(r,"popover",l);break;case"xlinkActuate":ce(r,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ce(r,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ce(r,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ce(r,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ce(r,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ce(r,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ce(r,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ce(r,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ce(r,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ye(r,"is",l);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Dn.get(o)||o,ye(r,o,l))}}function Uh(r,i,o,l,h,m){switch(o){case"style":cn(r,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(o=l.__html,o!=null){if(h.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"children":typeof l=="string"?Ht(r,l):(typeof l=="number"||typeof l=="bigint")&&Ht(r,""+l);break;case"onScroll":l!=null&&Tt("scroll",r);break;case"onScrollEnd":l!=null&&Tt("scrollend",r);break;case"onClick":l!=null&&(r.onclick=Ts);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xe.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),i=o.slice(2,h?o.length-7:void 0),m=r[ae]||null,m=m!=null?m[o]:null,typeof m=="function"&&r.removeEventListener(i,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,l,h);break e}o in r?r[o]=l:l===!0?r.setAttribute(o,""):ye(r,o,l)}}}function zn(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tt("error",r),Tt("load",r);var l=!1,h=!1,m;for(m in o)if(o.hasOwnProperty(m)){var _=o[m];if(_!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(r,i,m,_,o,null)}}h&&Yt(r,i,"srcSet",o.srcSet,o,null),l&&Yt(r,i,"src",o.src,o,null);return;case"input":Tt("invalid",r);var O=m=_=h=null,U=null,Z=null;for(l in o)if(o.hasOwnProperty(l)){var oe=o[l];if(oe!=null)switch(l){case"name":h=oe;break;case"type":_=oe;break;case"checked":U=oe;break;case"defaultChecked":Z=oe;break;case"value":m=oe;break;case"defaultValue":O=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,i));break;default:Yt(r,i,l,oe,o,null)}}pt(r,m,O,U,Z,_,h,!1);return;case"select":Tt("invalid",r),l=_=m=null;for(h in o)if(o.hasOwnProperty(h)&&(O=o[h],O!=null))switch(h){case"value":m=O;break;case"defaultValue":_=O;break;case"multiple":l=O;default:Yt(r,i,h,O,o,null)}i=m,o=_,r.multiple=!!l,i!=null?xt(r,!!l,i,!1):o!=null&&xt(r,!!l,o,!0);return;case"textarea":Tt("invalid",r),m=h=l=null;for(_ in o)if(o.hasOwnProperty(_)&&(O=o[_],O!=null))switch(_){case"value":l=O;break;case"defaultValue":h=O;break;case"children":m=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(91));break;default:Yt(r,i,_,O,o,null)}Dt(r,l,h,m);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(l=o[U],l!=null))switch(U){case"selected":r.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(r,i,U,l,o,null)}return;case"dialog":Tt("beforetoggle",r),Tt("toggle",r),Tt("cancel",r),Tt("close",r);break;case"iframe":case"object":Tt("load",r);break;case"video":case"audio":for(l=0;l<Jo.length;l++)Tt(Jo[l],r);break;case"image":Tt("error",r),Tt("load",r);break;case"details":Tt("toggle",r);break;case"embed":case"source":case"link":Tt("error",r),Tt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in o)if(o.hasOwnProperty(Z)&&(l=o[Z],l!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(r,i,Z,l,o,null)}return;default:if(bn(i)){for(oe in o)o.hasOwnProperty(oe)&&(l=o[oe],l!==void 0&&Uh(r,i,oe,l,o,void 0));return}}for(O in o)o.hasOwnProperty(O)&&(l=o[O],l!=null&&Yt(r,i,O,l,o,null))}function wR(r,i,o,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,_=null,O=null,U=null,Z=null,oe=null;for(ne in o){var he=o[ne];if(o.hasOwnProperty(ne)&&he!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":U=he;default:l.hasOwnProperty(ne)||Yt(r,i,ne,null,l,he)}}for(var W in l){var ne=l[W];if(he=o[W],l.hasOwnProperty(W)&&(ne!=null||he!=null))switch(W){case"type":m=ne;break;case"name":h=ne;break;case"checked":Z=ne;break;case"defaultChecked":oe=ne;break;case"value":_=ne;break;case"defaultValue":O=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,i));break;default:ne!==he&&Yt(r,i,W,ne,l,he)}}Ct(r,_,O,U,Z,oe,m,h);return;case"select":ne=_=O=W=null;for(m in o)if(U=o[m],o.hasOwnProperty(m)&&U!=null)switch(m){case"value":break;case"multiple":ne=U;default:l.hasOwnProperty(m)||Yt(r,i,m,null,l,U)}for(h in l)if(m=l[h],U=o[h],l.hasOwnProperty(h)&&(m!=null||U!=null))switch(h){case"value":W=m;break;case"defaultValue":O=m;break;case"multiple":_=m;default:m!==U&&Yt(r,i,h,m,l,U)}i=O,o=_,l=ne,W!=null?xt(r,!!o,W,!1):!!l!=!!o&&(i!=null?xt(r,!!o,i,!0):xt(r,!!o,o?[]:"",!1));return;case"textarea":ne=W=null;for(O in o)if(h=o[O],o.hasOwnProperty(O)&&h!=null&&!l.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Yt(r,i,O,null,l,h)}for(_ in l)if(h=l[_],m=o[_],l.hasOwnProperty(_)&&(h!=null||m!=null))switch(_){case"value":W=h;break;case"defaultValue":ne=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&Yt(r,i,_,h,l,m)}tn(r,W,ne);return;case"option":for(var Ve in o)if(W=o[Ve],o.hasOwnProperty(Ve)&&W!=null&&!l.hasOwnProperty(Ve))switch(Ve){case"selected":r.selected=!1;break;default:Yt(r,i,Ve,null,l,W)}for(U in l)if(W=l[U],ne=o[U],l.hasOwnProperty(U)&&W!==ne&&(W!=null||ne!=null))switch(U){case"selected":r.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:Yt(r,i,U,W,l,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nt in o)W=o[nt],o.hasOwnProperty(nt)&&W!=null&&!l.hasOwnProperty(nt)&&Yt(r,i,nt,null,l,W);for(Z in l)if(W=l[Z],ne=o[Z],l.hasOwnProperty(Z)&&W!==ne&&(W!=null||ne!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:Yt(r,i,Z,W,l,ne)}return;default:if(bn(i)){for(var Gt in o)W=o[Gt],o.hasOwnProperty(Gt)&&W!==void 0&&!l.hasOwnProperty(Gt)&&Uh(r,i,Gt,void 0,l,W);for(oe in l)W=l[oe],ne=o[oe],!l.hasOwnProperty(oe)||W===ne||W===void 0&&ne===void 0||Uh(r,i,oe,W,l,ne);return}}for(var F in o)W=o[F],o.hasOwnProperty(F)&&W!=null&&!l.hasOwnProperty(F)&&Yt(r,i,F,null,l,W);for(he in l)W=l[he],ne=o[he],!l.hasOwnProperty(he)||W===ne||W==null&&ne==null||Yt(r,i,he,W,l,ne)}function cx(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CR(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,o=performance.getEntriesByType("resource"),l=0;l<o.length;l++){var h=o[l],m=h.transferSize,_=h.initiatorType,O=h.duration;if(m&&O&&cx(_)){for(_=0,O=h.responseEnd,l+=1;l<o.length;l++){var U=o[l],Z=U.startTime;if(Z>O)break;var oe=U.transferSize,he=U.initiatorType;oe&&cx(he)&&(U=U.responseEnd,_+=oe*(U<O?1:(O-Z)/(U-Z)))}if(--l,i+=8*(m+_)/(h.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Ih=null,zh=null;function Kl(r){return r.nodeType===9?r:r.ownerDocument}function lx(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ux(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Bh(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Hh=null;function ER(){var r=window.event;return r&&r.type==="popstate"?r===Hh?!1:(Hh=r,!0):(Hh=null,!1)}var fx=typeof setTimeout=="function"?setTimeout:void 0,TR=typeof clearTimeout=="function"?clearTimeout:void 0,dx=typeof Promise=="function"?Promise:void 0,RR=typeof queueMicrotask=="function"?queueMicrotask:typeof dx<"u"?function(r){return dx.resolve(null).then(r).catch(AR)}:fx;function AR(r){setTimeout(function(){throw r})}function vi(r){return r==="head"}function hx(r,i){var o=i,l=0;do{var h=o.nextSibling;if(r.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"||o==="/&"){if(l===0){r.removeChild(h),Ya(i);return}l--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")l++;else if(o==="html")ec(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,ec(o);for(var m=o.firstChild;m;){var _=m.nextSibling,O=m.nodeName;m[Je]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=_}}else o==="body"&&ec(r.ownerDocument.body);o=h}while(o);Ya(i)}function px(r,i){var o=r;r=0;do{var l=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),l&&l.nodeType===8)if(o=l.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=l}while(o)}function $h(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":$h(o),rt(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function OR(r,i,o,l){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(l){if(!r[Je])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=Nr(r.nextSibling),r===null)break}return null}function MR(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Nr(r.nextSibling),r===null))return null;return r}function mx(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=Nr(r.nextSibling),r===null))return null;return r}function Vh(r){return r.data==="$?"||r.data==="$~"}function qh(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function NR(r,i){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||o.readyState!=="loading")i();else{var l=function(){i(),o.removeEventListener("DOMContentLoaded",l)};o.addEventListener("DOMContentLoaded",l),r._reactRetry=l}}function Nr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var Fh=null;function yx(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(i===0)return Nr(r.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}r=r.nextSibling}return null}function gx(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return r;i--}else o!=="/$"&&o!=="/&"||i++}r=r.previousSibling}return null}function vx(r,i,o){switch(i=Kl(o),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function ec(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);rt(r)}var Pr=new Map,xx=new Set;function Xl(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var $s=ie.d;ie.d={f:PR,r:DR,D:kR,C:jR,L:LR,m:UR,X:zR,S:IR,M:BR};function PR(){var r=$s.f(),i=Bl();return r||i}function DR(r){var i=st(r);i!==null&&i.tag===5&&i.type==="form"?L0(i):$s.r(r)}var Va=typeof document>"u"?null:document;function bx(r,i,o){var l=Va;if(l&&typeof i=="string"&&i){var h=ct(i);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),xx.has(h)||(xx.add(h),r={rel:r,crossOrigin:o,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),zn(i,"link",r),$e(i),l.head.appendChild(i)))}}function kR(r){$s.D(r),bx("dns-prefetch",r,null)}function jR(r,i){$s.C(r,i),bx("preconnect",r,i)}function LR(r,i,o){$s.L(r,i,o);var l=Va;if(l&&r&&i){var h='link[rel="preload"][as="'+ct(i)+'"]';i==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+ct(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+ct(o.imageSizes)+'"]')):h+='[href="'+ct(r)+'"]';var m=h;switch(i){case"style":m=qa(r);break;case"script":m=Fa(r)}Pr.has(m)||(r=g({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),Pr.set(m,r),l.querySelector(h)!==null||i==="style"&&l.querySelector(tc(m))||i==="script"&&l.querySelector(nc(m))||(i=l.createElement("link"),zn(i,"link",r),$e(i),l.head.appendChild(i)))}}function UR(r,i){$s.m(r,i);var o=Va;if(o&&r){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ct(l)+'"][href="'+ct(r)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Fa(r)}if(!Pr.has(m)&&(r=g({rel:"modulepreload",href:r},i),Pr.set(m,r),o.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(nc(m)))return}l=o.createElement("link"),zn(l,"link",r),$e(l),o.head.appendChild(l)}}}function IR(r,i,o){$s.S(r,i,o);var l=Va;if(l&&r){var h=et(l).hoistableStyles,m=qa(r);i=i||"default";var _=h.get(m);if(!_){var O={loading:0,preload:null};if(_=l.querySelector(tc(m)))O.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":i},o),(o=Pr.get(m))&&Yh(r,o);var U=_=l.createElement("link");$e(U),zn(U,"link",r),U._p=new Promise(function(Z,oe){U.onload=Z,U.onerror=oe}),U.addEventListener("load",function(){O.loading|=1}),U.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Ql(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:O},h.set(m,_)}}}function zR(r,i){$s.X(r,i);var o=Va;if(o&&r){var l=et(o).hoistableScripts,h=Fa(r),m=l.get(h);m||(m=o.querySelector(nc(h)),m||(r=g({src:r,async:!0},i),(i=Pr.get(h))&&Gh(r,i),m=o.createElement("script"),$e(m),zn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function BR(r,i){$s.M(r,i);var o=Va;if(o&&r){var l=et(o).hoistableScripts,h=Fa(r),m=l.get(h);m||(m=o.querySelector(nc(h)),m||(r=g({src:r,async:!0,type:"module"},i),(i=Pr.get(h))&&Gh(r,i),m=o.createElement("script"),$e(m),zn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function Sx(r,i,o,l){var h=(h=Te.current)?Xl(h):null;if(!h)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=qa(o.href),o=et(h).hoistableStyles,l=o.get(i),l||(l={type:"style",instance:null,count:0,state:null},o.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=qa(o.href);var m=et(h).hoistableStyles,_=m.get(r);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,_),(m=h.querySelector(tc(r)))&&!m._p&&(_.instance=m,_.state.loading=5),Pr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Pr.set(r,o),m||HR(h,r,o,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Fa(o),o=et(h).hoistableScripts,l=o.get(i),l||(l={type:"script",instance:null,count:0,state:null},o.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function qa(r){return'href="'+ct(r)+'"'}function tc(r){return'link[rel="stylesheet"]['+r+"]"}function _x(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function HR(r,i,o,l){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=r.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),zn(i,"link",o),$e(i),r.head.appendChild(i))}function Fa(r){return'[src="'+ct(r)+'"]'}function nc(r){return"script[async]"+r}function wx(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var l=r.querySelector('style[data-href~="'+ct(o.href)+'"]');if(l)return i.instance=l,$e(l),l;var h=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return l=(r.ownerDocument||r).createElement("style"),$e(l),zn(l,"style",h),Ql(l,o.precedence,r),i.instance=l;case"stylesheet":h=qa(o.href);var m=r.querySelector(tc(h));if(m)return i.state.loading|=4,i.instance=m,$e(m),m;l=_x(o),(h=Pr.get(h))&&Yh(l,h),m=(r.ownerDocument||r).createElement("link"),$e(m);var _=m;return _._p=new Promise(function(O,U){_.onload=O,_.onerror=U}),zn(m,"link",l),i.state.loading|=4,Ql(m,o.precedence,r),i.instance=m;case"script":return m=Fa(o.src),(h=r.querySelector(nc(m)))?(i.instance=h,$e(h),h):(l=o,(h=Pr.get(m))&&(l=g({},o),Gh(l,h)),r=r.ownerDocument||r,h=r.createElement("script"),$e(h),zn(h,"link",l),r.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ql(l,o.precedence,r));return i.instance}function Ql(r,i,o){for(var l=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,_=0;_<l.length;_++){var O=l[_];if(O.dataset.precedence===i)m=O;else if(m!==h)break}m?m.parentNode.insertBefore(r,m.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function Yh(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Gh(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Zl=null;function Cx(r,i,o){if(Zl===null){var l=new Map,h=Zl=new Map;h.set(o,l)}else h=Zl,l=h.get(o),l||(l=new Map,h.set(o,l));if(l.has(r))return l;for(l.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var m=o[h];if(!(m[Je]||m[q]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(i)||"";_=r+_;var O=l.get(_);O?O.push(m):l.set(_,[m])}}return l}function Ex(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function $R(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Tx(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function VR(r,i,o,l){if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var h=qa(l.href),m=i.querySelector(tc(h));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=Jl.bind(r),i.then(r,r)),o.state.loading|=4,o.instance=m,$e(m);return}m=i.ownerDocument||i,l=_x(l),(h=Pr.get(h))&&Yh(l,h),m=m.createElement("link"),$e(m);var _=m;_._p=new Promise(function(O,U){_.onload=O,_.onerror=U}),zn(m,"link",l),o.instance=m}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=Jl.bind(r),i.addEventListener("load",o),i.addEventListener("error",o))}}var Kh=0;function qR(r,i){return r.stylesheets&&r.count===0&&eu(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var l=setTimeout(function(){if(r.stylesheets&&eu(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4+i);0<r.imgBytes&&Kh===0&&(Kh=62500*CR());var h=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&eu(r,r.stylesheets),r.unsuspend)){var m=r.unsuspend;r.unsuspend=null,m()}},(r.imgBytes>Kh?50:800)+i);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Jl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)eu(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Wl=null;function eu(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Wl=new Map,i.forEach(FR,r),Wl=null,Jl.call(r))}function FR(r,i){if(!(i.state.loading&4)){var o=Wl.get(r);if(o)var l=o.get(null);else{o=new Map,Wl.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var _=h[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),l=_)}l&&o.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),m=o.get(_)||l,m===l&&o.set(null,h),o.set(_,h),this.count++,l=Jl.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),i.state.loading|=4}}var rc={$$typeof:k,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function YR(r,i,o,l,h,m,_,O,U){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jr(0),this.hiddenUpdates=Jr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Rx(r,i,o,l,h,m,_,O,U,Z,oe,he){return r=new YR(r,i,o,_,U,Z,oe,he,O),i=1,m===!0&&(i|=24),m=hr(3,null,null,i),r.current=m,m.stateNode=r,i=Rd(),i.refCount++,r.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:o,cache:i},Nd(m),r}function Ax(r){return r?(r=_a,r):_a}function Ox(r,i,o,l,h,m){h=Ax(h),l.context===null?l.context=h:l.pendingContext=h,l=oi(i),l.payload={element:o},m=m===void 0?null:m,m!==null&&(l.callback=m),o=ci(r,l,i),o!==null&&(or(o,r,i),jo(o,r,i))}function Mx(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function Xh(r,i){Mx(r,i),(r=r.alternate)&&Mx(r,i)}function Nx(r){if(r.tag===13||r.tag===31){var i=Li(r,67108864);i!==null&&or(i,r,67108864),Xh(r,67108864)}}function Px(r){if(r.tag===13||r.tag===31){var i=vr();i=T(i);var o=Li(r,i);o!==null&&or(o,r,i),Xh(r,i)}}var tu=!0;function GR(r,i,o,l){var h=B.T;B.T=null;var m=ie.p;try{ie.p=2,Qh(r,i,o,l)}finally{ie.p=m,B.T=h}}function KR(r,i,o,l){var h=B.T;B.T=null;var m=ie.p;try{ie.p=8,Qh(r,i,o,l)}finally{ie.p=m,B.T=h}}function Qh(r,i,o,l){if(tu){var h=Zh(l);if(h===null)Lh(r,i,l,nu,o),kx(r,l);else if(QR(h,r,i,o,l))l.stopPropagation();else if(kx(r,l),i&4&&-1<XR.indexOf(r)){for(;h!==null;){var m=st(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Ur(m.pendingLanes);if(_!==0){var O=m;for(O.pendingLanes|=2,O.entangledLanes|=2;_;){var U=1<<31-on(_);O.entanglements[1]|=U,_&=~U}rs(m),(It&6)===0&&(Il=ht()+500,Zo(0))}}break;case 31:case 13:O=Li(m,2),O!==null&&or(O,m,2),Bl(),Xh(m,2)}if(m=Zh(l),m===null&&Lh(r,i,l,nu,o),m===h)break;h=m}h!==null&&l.stopPropagation()}else Lh(r,i,l,null,o)}}function Zh(r){return r=Wf(r),Jh(r)}var nu=null;function Jh(r){if(nu=null,r=ot(r),r!==null){var i=c(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=u(i),r!==null)return r;r=null}else if(o===31){if(r=f(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return nu=r,null}function Dx(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qt()){case An:return 2;case Gn:return 8;case Nn:case xs:return 32;case bs:return 268435456;default:return 32}default:return 32}}var Wh=!1,xi=null,bi=null,Si=null,sc=new Map,ic=new Map,_i=[],XR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kx(r,i){switch(r){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":sc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ic.delete(i.pointerId)}}function ac(r,i,o,l,h,m){return r===null||r.nativeEvent!==m?(r={blockedOn:i,domEventName:o,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},i!==null&&(i=st(i),i!==null&&Nx(i)),r):(r.eventSystemFlags|=l,i=r.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),r)}function QR(r,i,o,l,h){switch(i){case"focusin":return xi=ac(xi,r,i,o,l,h),!0;case"dragenter":return bi=ac(bi,r,i,o,l,h),!0;case"mouseover":return Si=ac(Si,r,i,o,l,h),!0;case"pointerover":var m=h.pointerId;return sc.set(m,ac(sc.get(m)||null,r,i,o,l,h)),!0;case"gotpointercapture":return m=h.pointerId,ic.set(m,ac(ic.get(m)||null,r,i,o,l,h)),!0}return!1}function jx(r){var i=ot(r.target);if(i!==null){var o=c(i);if(o!==null){if(i=o.tag,i===13){if(i=u(o),i!==null){r.blockedOn=i,N(r.priority,function(){Px(o)});return}}else if(i===31){if(i=f(o),i!==null){r.blockedOn=i,N(r.priority,function(){Px(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ru(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=Zh(r.nativeEvent);if(o===null){o=r.nativeEvent;var l=new o.constructor(o.type,o);Jf=l,o.target.dispatchEvent(l),Jf=null}else return i=st(o),i!==null&&Nx(i),r.blockedOn=o,!1;i.shift()}return!0}function Lx(r,i,o){ru(r)&&o.delete(i)}function ZR(){Wh=!1,xi!==null&&ru(xi)&&(xi=null),bi!==null&&ru(bi)&&(bi=null),Si!==null&&ru(Si)&&(Si=null),sc.forEach(Lx),ic.forEach(Lx)}function su(r,i){r.blockedOn===i&&(r.blockedOn=null,Wh||(Wh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ZR)))}var iu=null;function Ux(r){iu!==r&&(iu=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){iu===r&&(iu=null);for(var i=0;i<r.length;i+=3){var o=r[i],l=r[i+1],h=r[i+2];if(typeof l!="function"){if(Jh(l||o)===null)continue;break}var m=st(o);m!==null&&(r.splice(i,3),i-=3,Zd(m,{pending:!0,data:h,method:o.method,action:l},l,h))}}))}function Ya(r){function i(U){return su(U,r)}xi!==null&&su(xi,r),bi!==null&&su(bi,r),Si!==null&&su(Si,r),sc.forEach(i),ic.forEach(i);for(var o=0;o<_i.length;o++){var l=_i[o];l.blockedOn===r&&(l.blockedOn=null)}for(;0<_i.length&&(o=_i[0],o.blockedOn===null);)jx(o),o.blockedOn===null&&_i.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(l=0;l<o.length;l+=3){var h=o[l],m=o[l+1],_=h[ae]||null;if(typeof m=="function")_||Ux(o);else if(_){var O=null;if(m&&m.hasAttribute("formAction")){if(h=m,_=m[ae]||null)O=_.formAction;else if(Jh(h)!==null)continue}else O=_.action;typeof O=="function"?o[l+1]=O:(o.splice(l,3),l-=3),Ux(o)}}}function Ix(){function r(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(o,20)}function o(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){l=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function ep(r){this._internalRoot=r}au.prototype.render=ep.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,l=vr();Ox(o,l,r,i,null,null)},au.prototype.unmount=ep.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Ox(r.current,2,null,r,null,null),Bl(),i[we]=null}};function au(r){this._internalRoot=r}au.prototype.unstable_scheduleHydration=function(r){if(r){var i=x();r={blockedOn:null,target:r,priority:i};for(var o=0;o<_i.length&&i!==0&&i<_i[o].priority;o++);_i.splice(o,0,r),o===0&&jx(r)}};var zx=e.version;if(zx!=="19.2.0")throw Error(s(527,zx,"19.2.0"));ie.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=p(i),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var JR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{Kn=ou.inject(JR),pn=ou}catch{}}return cc.createRoot=function(r,i){if(!a(r))throw Error(s(299));var o=!1,l="",h=Y0,m=G0,_=K0;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Rx(r,1,!1,null,null,o,l,null,h,m,_,Ix),r[we]=i.current,jh(r),new ep(i)},cc.hydrateRoot=function(r,i,o){if(!a(r))throw Error(s(299));var l=!1,h="",m=Y0,_=G0,O=K0,U=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),i=Rx(r,1,!0,i,o??null,l,h,U,m,_,O,Ix),i.context=Ax(null),o=i.current,l=vr(),l=T(l),h=oi(l),h.callback=null,ci(o,h,l),o=l,i.current.lanes=o,Wr(i,o),rs(i),r[we]=i.current,jh(r),new au(i)},cc.version="19.2.0",cc}var Qx;function o2(){if(Qx)return np.exports;Qx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),np.exports=a2(),np.exports}var c2=o2();const Za=new WeakMap,Au=new WeakMap,Fu={current:[]};let op=!1,Cc=0;const bc=new Set,cu=new Map;function cS(t){const e=Array.from(t).sort((n,s)=>n instanceof Ja&&n.options.deps.includes(s)?1:s instanceof Ja&&s.options.deps.includes(n)?-1:0);for(const n of e){if(Fu.current.includes(n))continue;Fu.current.push(n),n.recompute();const s=Au.get(n);if(s)for(const a of s){const c=Za.get(a);c&&cS(c)}}}function l2(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function u2(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function lS(t){if(Cc>0&&!cu.has(t)&&cu.set(t,t.prevState),bc.add(t),!(Cc>0)&&!op)try{for(op=!0;bc.size>0;){const e=Array.from(bc);bc.clear();for(const n of e){const s=cu.get(n)??n.prevState;n.prevState=s,l2(n)}for(const n of e){const s=Za.get(n);s&&(Fu.current.push(n),cS(s))}for(const n of e){const s=Za.get(n);if(s)for(const a of s)u2(a)}}}finally{op=!1,Fu.current=[],cu.clear()}}function Ec(t){Cc++;try{t()}finally{if(Cc--,Cc===0){const e=bc.values().next().value;e&&lS(e)}}}function f2(t){return typeof t=="function"}class Jp{constructor(e,n){this.listeners=new Set,this.subscribe=s=>{var a,c;this.listeners.add(s);const u=(c=(a=this.options)==null?void 0:a.onSubscribe)==null?void 0:c.call(a,s,this);return()=>{this.listeners.delete(s),u?.()}},this.prevState=e,this.state=e,this.options=n}setState(e){var n,s,a;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(e):f2(e)?this.state=e(this.prevState):this.state=e,(a=(s=this.options)==null?void 0:s.onUpdate)==null||a.call(s),lS(this)}}class Ja{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=this.options.deps.length,s=new Array(n),a=new Array(n);for(let c=0;c<n;c++){const u=this.options.deps[c];s[c]=u.prevState,a[c]=u.state}return this.lastSeenDepValues=a,{prevDepVals:s,currDepVals:a,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,s;this.prevState=this.state;const a=this.getDepVals();this.state=this.options.fn(a),(s=(n=this.options).onUpdate)==null||s.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const c of this.options.deps)c instanceof Ja&&c.checkIfRecalculationNeededDeeply();let n=!1;const s=this.lastSeenDepValues,{currDepVals:a}=this.getDepVals();for(let c=0;c<a.length;c++)if(a[c]!==s[c]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var s,a;this.listeners.add(n);const c=(a=(s=this.options).onSubscribe)==null?void 0:a.call(s,n,this);return()=>{this.listeners.delete(n),c?.()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const n of e)if(n instanceof Ja)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof Jp){let s=Za.get(n);s||(s=new Set,Za.set(n,s)),s.add(this);let a=Au.get(this);a||(a=new Set,Au.set(this,a)),a.add(n)}}unregisterFromGraph(e=this.options.deps){for(const n of e)if(n instanceof Ja)this.unregisterFromGraph(n.options.deps);else if(n instanceof Jp){const s=Za.get(n);s&&s.delete(this);const a=Au.get(this);a&&a.delete(n)}}}const Ti="__TSR_index",Zx="popstate",Jx="beforeunload";function d2(t){let e=t.getLocation();const n=new Set,s=u=>{e=t.getLocation(),n.forEach(f=>f({location:e,action:u}))},a=u=>{t.notifyOnIndexChange??!0?s(u):e=t.getLocation()},c=async({task:u,navigateOpts:f,...d})=>{if(f?.ignoreBlocker??!1){u();return}const y=t.getBlockers?.()??[],g=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&y.length&&g)for(const v of y){const S=Yu(d.path,d.state);if(await v.blockerFn({currentLocation:e,nextLocation:S,action:d.type})){t.onBlocked?.();return}}u()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:u=>(n.add(u),()=>{n.delete(u)}),push:(u,f,d)=>{const p=e.state[Ti];f=Wx(p+1,f),c({task:()=>{t.pushState(u,f),s({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:u,state:f})},replace:(u,f,d)=>{const p=e.state[Ti];f=Wx(p,f),c({task:()=>{t.replaceState(u,f),s({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:u,state:f})},go:(u,f)=>{c({task:()=>{t.go(u),a({type:"GO",index:u})},navigateOpts:f,type:"GO"})},back:u=>{c({task:()=>{t.back(u?.ignoreBlocker??!1),a({type:"BACK"})},navigateOpts:u,type:"BACK"})},forward:u=>{c({task:()=>{t.forward(u?.ignoreBlocker??!1),a({type:"FORWARD"})},navigateOpts:u,type:"FORWARD"})},canGoBack:()=>e.state[Ti]!==0,createHref:u=>t.createHref(u),block:u=>{if(!t.setBlockers)return()=>{};const f=t.getBlockers?.()??[];return t.setBlockers([...f,u]),()=>{const d=t.getBlockers?.()??[];t.setBlockers?.(d.filter(p=>p!==u))}},flush:()=>t.flush?.(),destroy:()=>t.destroy?.(),notify:s}}function Wx(t,e){e||(e={});const n=Jm();return{...e,key:n,__TSR_key:n,[Ti]:t}}function h2(t){const e=typeof document<"u"?window:void 0,n=e.history.pushState,s=e.history.replaceState;let a=[];const c=()=>a,u=K=>a=K,f=(K=>K),d=(()=>Yu(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state));if(!e.history.state?.__TSR_key&&!e.history.state?.key){const K=Jm();e.history.replaceState({[Ti]:0,key:K,__TSR_key:K},"")}let p=d(),y,g=!1,v=!1,S=!1,C=!1;const E=()=>p;let M,P;const D=()=>{M&&(Y._ignoreSubscribers=!0,(M.isPush?e.history.pushState:e.history.replaceState)(M.state,"",M.href),Y._ignoreSubscribers=!1,M=void 0,P=void 0,y=void 0)},k=(K,pe,xe)=>{const _e=f(pe);P||(y=p),p=Yu(pe,xe),M={href:_e,state:xe,isPush:M?.isPush||K==="push"},P||(P=Promise.resolve().then(()=>D()))},j=K=>{p=d(),Y.notify({type:K})},G=async()=>{if(v){v=!1;return}const K=d(),pe=K.state[Ti]-p.state[Ti],xe=pe===1,_e=pe===-1,Ce=!xe&&!_e||g;g=!1;const Re=Ce?"GO":_e?"BACK":"FORWARD",ge=Ce?{type:"GO",index:pe}:{type:_e?"BACK":"FORWARD"};if(S)S=!1;else{const Ue=c();if(typeof document<"u"&&Ue.length){for(const B of Ue)if(await B.blockerFn({currentLocation:p,nextLocation:K,action:Re})){v=!0,e.history.go(1),Y.notify(ge);return}}}p=d(),Y.notify(ge)},X=K=>{if(C){C=!1;return}let pe=!1;const xe=c();if(typeof document<"u"&&xe.length)for(const _e of xe){const Ce=_e.enableBeforeUnload??!0;if(Ce===!0){pe=!0;break}if(typeof Ce=="function"&&Ce()===!0){pe=!0;break}}if(pe)return K.preventDefault(),K.returnValue=""},Y=d2({getLocation:E,getLength:()=>e.history.length,pushState:(K,pe)=>k("push",K,pe),replaceState:(K,pe)=>k("replace",K,pe),back:K=>(K&&(S=!0),C=!0,e.history.back()),forward:K=>{K&&(S=!0),C=!0,e.history.forward()},go:K=>{g=!0,e.history.go(K)},createHref:K=>f(K),flush:D,destroy:()=>{e.history.pushState=n,e.history.replaceState=s,e.removeEventListener(Jx,X,{capture:!0}),e.removeEventListener(Zx,G)},onBlocked:()=>{y&&p!==y&&(p=y)},getBlockers:c,setBlockers:u,notifyOnIndexChange:!1});return e.addEventListener(Jx,X,{capture:!0}),e.addEventListener(Zx,G),e.history.pushState=function(...K){const pe=n.apply(e.history,K);return Y._ignoreSubscribers||j("PUSH"),pe},e.history.replaceState=function(...K){const pe=s.apply(e.history,K);return Y._ignoreSubscribers||j("REPLACE"),pe},Y}function Yu(t,e){const n=t.indexOf("#"),s=t.indexOf("?"),a=Jm();return{href:t,pathname:t.substring(0,n>0?s>0?Math.min(n,s):n:s>0?s:t.length),hash:n>-1?t.substring(n):"",search:s>-1?t.slice(s,n===-1?void 0:n):"",state:e||{[Ti]:0,key:a,__TSR_key:a}}}function Jm(){return(Math.random()+1).toString(36).substring(7)}function Wp(t){return t[t.length-1]}function p2(t){return typeof t=="function"}function ra(t,e){return p2(t)?t(e):t}const m2=Object.prototype.hasOwnProperty;function Dr(t,e){if(t===e)return t;const n=e,s=nb(t)&&nb(n);if(!s&&!(Gu(t)&&Gu(n)))return n;const a=s?t:eb(t);if(!a)return n;const c=s?n:eb(n);if(!c)return n;const u=a.length,f=c.length,d=s?new Array(f):{};let p=0;for(let y=0;y<f;y++){const g=s?y:c[y],v=t[g],S=n[g];if(v===S){d[g]=v,(s?y<u:m2.call(t,g))&&p++;continue}if(v===null||S===null||typeof v!="object"||typeof S!="object"){d[g]=S;continue}const C=Dr(v,S);d[g]=C,C===v&&p++}return u===f&&p===u?t:d}function eb(t){const e=[],n=Object.getOwnPropertyNames(t);for(const a of n){if(!Object.prototype.propertyIsEnumerable.call(t,a))return!1;e.push(a)}const s=Object.getOwnPropertySymbols(t);for(const a of s){if(!Object.prototype.propertyIsEnumerable.call(t,a))return!1;e.push(a)}return e}function Gu(t){if(!tb(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!tb(n)||!n.hasOwnProperty("isPrototypeOf"))}function tb(t){return Object.prototype.toString.call(t)==="[object Object]"}function nb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function sa(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let s=0,a=t.length;s<a;s++)if(!sa(t[s],e[s],n))return!1;return!0}if(Gu(t)&&Gu(e)){const s=n?.ignoreUndefined??!0;if(n?.partial){for(const u in e)if((!s||e[u]!==void 0)&&!sa(t[u],e[u],n))return!1;return!0}let a=0;if(!s)a=Object.keys(t).length;else for(const u in t)t[u]!==void 0&&a++;let c=0;for(const u in e)if((!s||e[u]!==void 0)&&(c++,c>a||!sa(t[u],e[u],n)))return!1;return a===c}return!1}function ro(t){let e,n;const s=new Promise((a,c)=>{e=a,n=c});return s.status="pending",s.resolve=a=>{s.status="resolved",s.value=a,e(a),t?.(a)},s.reject=a=>{s.status="rejected",n(a)},s}function Ri(t){return!!(t&&typeof t=="object"&&typeof t.then=="function")}var y2="Invariant failed";function Zs(t,e){if(!t)throw new Error(y2)}const lr="__root__",ls=0,ca=1,so=2,io=3;function Ks(t){return Wm(t.filter(e=>e!==void 0).join("/"))}function Wm(t){return t.replace(/\/{2,}/g,"/")}function ey(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Ai(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function Ou(t){return Ai(ey(t))}function Ku(t,e){return t?.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function g2(t,e,n){return Ku(t,n)===Ku(e,n)}function v2(t){const{type:e,value:n}=t;if(e===ls)return n;const{prefixSegment:s,suffixSegment:a}=t;if(e===ca){const c=n.substring(1);if(s&&a)return`${s}{$${c}}${a}`;if(s)return`${s}{$${c}}`;if(a)return`{$${c}}${a}`}if(e===io){const c=n.substring(1);return s&&a?`${s}{-$${c}}${a}`:s?`${s}{-$${c}}`:a?`{-$${c}}${a}`:`{-$${c}}`}if(e===so){if(s&&a)return`${s}{$}${a}`;if(s)return`${s}{$}`;if(a)return`{$}${a}`}return n}function x2({base:t,to:e,trailingSlash:n="never",parseCache:s}){let a=uS(t,s).slice();const c=bf(e,s);a.length>1&&Wp(a)?.value==="/"&&a.pop();for(let d=0,p=c.length;d<p;d++){const y=c[d],g=y.value;g==="/"?d?d===p-1&&a.push(y):a=[y]:g===".."?a.pop():g==="."||a.push(y)}a.length>1&&(Wp(a).value==="/"?n==="never"&&a.pop():n==="always"&&a.push({type:ls,value:"/"}));const u=a.map(v2);return Ks(u)}const uS=(t,e)=>fS(t,e,!0),bf=(t,e)=>fS(t,e,!1),fS=(t,e,n)=>{if(!t)return[];const s=e?.get(t);if(s)return s;const a=E2(t,n);return e?.set(t,a),a},b2=/^\$.{1,}$/,S2=/^(.*?)\{(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,_2=/^(.*?)\{-(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,w2=/^\$$/,C2=/^(.*?)\{\$\}(.*)$/;function E2(t,e){t=Wm(t);const n=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),n.push({type:ls,value:"/"})),!t)return n;const s=t.split("/").filter(Boolean);return n.push(...s.map(a=>{const c=!e&&a!==lr&&a.slice(-1)==="_"?a.slice(0,-1):a,u=c.match(C2);if(u){const p=u[1],y=u[2];return{type:so,value:"$",prefixSegment:p||void 0,suffixSegment:y||void 0}}const f=c.match(_2);if(f){const p=f[1],y=f[2],g=f[3];return{type:io,value:y,prefixSegment:p||void 0,suffixSegment:g||void 0}}const d=c.match(S2);if(d){const p=d[1],y=d[2],g=d[3];return{type:ca,value:""+y,prefixSegment:p||void 0,suffixSegment:g||void 0}}if(b2.test(c)){const p=c.substring(1);return{type:ca,value:"$"+p,prefixSegment:void 0,suffixSegment:void 0}}return w2.test(c)?{type:so,value:"$",prefixSegment:void 0,suffixSegment:void 0}:{type:ls,value:c.includes("%25")?c.split("%25").map(p=>decodeURI(p)).join("%25"):decodeURI(c)}})),t.slice(-1)==="/"&&(t=t.substring(1),n.push({type:ls,value:"/"})),n}function lu({path:t,params:e,leaveWildcards:n,leaveParams:s,decodeCharMap:a,parseCache:c}){const u=bf(t,c);function f(g){const v=e[g],S=typeof v=="string";return g==="*"||g==="_splat"?S?encodeURI(v):v:S?T2(v,a):v}let d=!1;const p={},y=Ks(u.map(g=>{if(g.type===ls)return g.value;if(g.type===so){p._splat=e._splat,p["*"]=e._splat;const v=g.prefixSegment||"",S=g.suffixSegment||"";if(!e._splat)return d=!0,n?`${v}${g.value}${S}`:v||S?`${v}${S}`:void 0;const C=f("_splat");return n?`${v}${g.value}${C??""}${S}`:`${v}${C}${S}`}if(g.type===ca){const v=g.value.substring(1);!d&&!(v in e)&&(d=!0),p[v]=e[v];const S=g.prefixSegment||"",C=g.suffixSegment||"";if(s){const E=f(g.value);return`${S}${g.value}${E??""}${C}`}return`${S}${f(v)??"undefined"}${C}`}if(g.type===io){const v=g.value.substring(1),S=g.prefixSegment||"",C=g.suffixSegment||"";if(!(v in e)||e[v]==null)return n?`${S}${v}${C}`:S||C?`${S}${C}`:void 0;if(p[v]=e[v],s){const E=f(g.value);return`${S}${g.value}${E??""}${C}`}return n?`${S}${v}${f(v)??""}${C}`:`${S}${f(v)??""}${C}`}return g.value}));return{usedParams:p,interpolatedPath:y,isMissingParams:d}}function T2(t,e){let n=encodeURIComponent(t);if(e)for(const[s,a]of e)n=n.replaceAll(s,a);return n}function em(t,e,n){const s=R2(t,e,n);if(!(e.to&&!s))return s??{}}function R2(t,{to:e,fuzzy:n,caseSensitive:s},a){const c=e,u=uS(t.startsWith("/")?t:`/${t}`,a),f=bf(c.startsWith("/")?c:`/${c}`,a),d={};return A2(u,f,d,n,s)?d:void 0}function A2(t,e,n,s,a){let c=0,u=0;for(;c<t.length||u<e.length;){const f=t[c],d=e[u];if(d){if(d.type===so){const p=t.slice(c);let y;if(d.prefixSegment||d.suffixSegment){if(!f)return!1;const g=d.prefixSegment||"",v=d.suffixSegment||"",S=f.value;if("prefixSegment"in d&&!S.startsWith(g)||"suffixSegment"in d&&!t[t.length-1]?.value.endsWith(v))return!1;let C=decodeURI(Ks(p.map(E=>E.value)));g&&C.startsWith(g)&&(C=C.slice(g.length)),v&&C.endsWith(v)&&(C=C.slice(0,C.length-v.length)),y=C}else y=decodeURI(Ks(p.map(g=>g.value)));return n["*"]=y,n._splat=y,!0}if(d.type===ls){if(d.value==="/"&&!f?.value){u++;continue}if(f){if(a){if(d.value!==f.value)return!1}else if(d.value.toLowerCase()!==f.value.toLowerCase())return!1;c++,u++;continue}else return!1}if(d.type===ca){if(!f||f.value==="/")return!1;let p="",y=!1;if(d.prefixSegment||d.suffixSegment){const g=d.prefixSegment||"",v=d.suffixSegment||"",S=f.value;if(g&&!S.startsWith(g)||v&&!S.endsWith(v))return!1;let C=S;g&&C.startsWith(g)&&(C=C.slice(g.length)),v&&C.endsWith(v)&&(C=C.slice(0,C.length-v.length)),p=decodeURIComponent(C),y=!0}else p=decodeURIComponent(f.value),y=!0;y&&(n[d.value.substring(1)]=p,c++),u++;continue}if(d.type===io){if(!f){u++;continue}if(f.value==="/"){u++;continue}let p="",y=!1;if(d.prefixSegment||d.suffixSegment){const g=d.prefixSegment||"",v=d.suffixSegment||"",S=f.value;if((!g||S.startsWith(g))&&(!v||S.endsWith(v))){let C=S;g&&C.startsWith(g)&&(C=C.slice(g.length)),v&&C.endsWith(v)&&(C=C.slice(0,C.length-v.length)),p=decodeURIComponent(C),y=!0}}else{let g=!0;for(let v=u+1;v<e.length;v++){const S=e[v];if(S?.type===ls&&S.value===f.value){g=!1;break}if(S?.type===ca||S?.type===so){t.length<e.length&&(g=!1);break}}g&&(p=decodeURIComponent(f.value),y=!0)}y&&(n[d.value.substring(1)]=p,c++),u++;continue}}if(c<t.length&&u>=e.length)return n["**"]=Ks(t.slice(c).map(p=>p.value)),!!s&&e[e.length-1]?.value!=="/";if(u<e.length&&c>=t.length){for(let p=u;p<e.length;p++)if(e[p]?.type!==io)return!1;break}break}return!0}const O2=.75,M2=1,N2=.5,P2=.4,D2=.25,k2=.2,j2=.05,L2=.02,U2=.01,rb=2e-4,sb=1e-4;function ib(t,e){return t.prefixSegment&&t.suffixSegment?e+j2+rb*t.prefixSegment.length+sb*t.suffixSegment.length:t.prefixSegment?e+L2+rb*t.prefixSegment.length:t.suffixSegment?e+U2+sb*t.suffixSegment.length:e}function I2(t){const e=[];return t.forEach((s,a)=>{if(s.isRoot||!s.path)return;const c=ey(s.fullPath);let u=bf(c),f=0;for(;u.length>f+1&&u[f]?.value==="/";)f++;f>0&&(u=u.slice(f));let d=0,p=!1;const y=u.map((g,v)=>{if(g.value==="/")return O2;if(g.type===ls)return M2;let S;g.type===ca?S=N2:g.type===io?(S=P2,d++):S=D2;for(let C=v+1;C<u.length;C++){const E=u[C];if(E.type===ls&&E.value!=="/")return p=!0,ib(g,S+k2)}return ib(g,S)});e.push({child:s,trimmed:c,parsed:u,index:a,scores:y,optionalParamCount:d,hasStaticAfter:p})}),e.sort((s,a)=>{const c=Math.min(s.scores.length,a.scores.length);for(let u=0;u<c;u++)if(s.scores[u]!==a.scores[u])return a.scores[u]-s.scores[u];if(s.scores.length!==a.scores.length){if(s.optionalParamCount!==a.optionalParamCount){if(s.hasStaticAfter===a.hasStaticAfter)return s.optionalParamCount-a.optionalParamCount;if(s.hasStaticAfter&&!a.hasStaticAfter)return-1;if(!s.hasStaticAfter&&a.hasStaticAfter)return 1}return a.scores.length-s.scores.length}for(let u=0;u<c;u++)if(s.parsed[u].value!==a.parsed[u].value)return s.parsed[u].value>a.parsed[u].value?1:-1;return s.index-a.index}).map((s,a)=>(s.child.rank=a,s.child))}function z2({routeTree:t,initRoute:e}){const n={},s={},a=u=>{u.forEach((f,d)=>{e?.(f,d);const p=n[f.id];if(Zs(!p,`Duplicate routes found with id: ${String(f.id)}`),n[f.id]=f,!f.isRoot&&f.path){const g=Ai(f.fullPath);(!s[g]||f.fullPath.endsWith("/"))&&(s[g]=f)}const y=f.children;y?.length&&a(y)})};a([t]);const c=I2(Object.values(n));return{routesById:n,routesByPath:s,flatRoutes:c}}function Gr(t){return!!t?.isNotFound}function B2(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const Xu="tsr-scroll-restoration-v1_3",H2=(t,e)=>{let n;return(...s)=>{n||(n=setTimeout(()=>{t(...s),n=null},e))}};function $2(){const t=B2();if(!t)return null;const e=t.getItem(Xu);let n=e?JSON.parse(e):{};return{state:n,set:s=>(n=ra(s,n)||n,t.setItem(Xu,JSON.stringify(n)))}}const uu=$2(),tm=t=>t.state.__TSR_key||t.href;function V2(t){const e=[];let n;for(;n=t.parentNode;)e.push(`${t.tagName}:nth-child(${Array.prototype.indexOf.call(n.children,t)+1})`),t=n;return`${e.reverse().join(" > ")}`.toLowerCase()}let Qu=!1;function dS({storageKey:t,key:e,behavior:n,shouldScrollRestoration:s,scrollToTopSelectors:a,location:c}){let u;try{u=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(p){console.error(p);return}const f=e||window.history.state?.__TSR_key,d=u[f];Qu=!0;e:{if(s&&d&&Object.keys(d).length>0){for(const g in d){const v=d[g];if(g==="window")window.scrollTo({top:v.scrollY,left:v.scrollX,behavior:n});else if(g){const S=document.querySelector(g);S&&(S.scrollLeft=v.scrollX,S.scrollTop=v.scrollY)}}break e}const p=(c??window.location).hash.split("#",2)[1];if(p){const g=window.history.state?.__hashScrollIntoViewOptions??!0;if(g){const v=document.getElementById(p);v&&v.scrollIntoView(g)}break e}const y={top:0,left:0,behavior:n};if(window.scrollTo(y),a)for(const g of a){if(g==="window")continue;const v=typeof g=="function"?g():document.querySelector(g);v&&v.scrollTo(y)}}Qu=!1}function q2(t,e){if(!uu&&!t.isServer||((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),t.isServer||t.isScrollRestorationSetup||!uu))return;t.isScrollRestorationSetup=!0,Qu=!1;const s=t.options.getScrollRestorationKey||tm;window.history.scrollRestoration="manual";const a=c=>{if(Qu||!t.isScrollRestoring)return;let u="";if(c.target===document||c.target===window)u="window";else{const d=c.target.getAttribute("data-scroll-restoration-id");d?u=`[data-scroll-restoration-id="${d}"]`:u=V2(c.target)}const f=s(t.state.location);uu.set(d=>{const p=d[f]||={},y=p[u]||={};if(u==="window")y.scrollX=window.scrollX||0,y.scrollY=window.scrollY||0;else if(u){const g=document.querySelector(u);g&&(y.scrollX=g.scrollLeft||0,y.scrollY=g.scrollTop||0)}return d})};typeof document<"u"&&document.addEventListener("scroll",H2(a,100),!0),t.subscribe("onRendered",c=>{const u=s(c.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation})||(dS({storageKey:Xu,key:u,behavior:t.options.scrollRestorationBehavior,shouldScrollRestoration:t.isScrollRestoring,scrollToTopSelectors:t.options.scrollToTopSelectors,location:t.history.location}),t.isScrollRestoring&&uu.set(f=>(f[u]||={},f)))})}function F2(t){if(typeof document<"u"&&document.querySelector){const e=t.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&t.state.location.hash!==""){const n=document.getElementById(t.state.location.hash);n&&n.scrollIntoView(e)}}}function Y2(t,e=String){const n=new URLSearchParams;for(const s in t){const a=t[s];a!==void 0&&n.set(s,e(a))}return n.toString()}function cp(t){return t?t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t:""}function G2(t){const e=new URLSearchParams(t),n={};for(const[s,a]of e.entries()){const c=n[s];c==null?n[s]=cp(a):Array.isArray(c)?c.push(cp(a)):n[s]=[c,cp(a)]}return n}const K2=Q2(JSON.parse),X2=Z2(JSON.stringify,JSON.parse);function Q2(t){return e=>{e[0]==="?"&&(e=e.substring(1));const n=G2(e);for(const s in n){const a=n[s];if(typeof a=="string")try{n[s]=t(a)}catch{}}return n}}function Z2(t,e){const n=typeof e=="function";function s(a){if(typeof a=="object"&&a!==null)try{return t(a)}catch{}else if(n&&typeof a=="string")try{return e(a),t(a)}catch{}return a}return a=>{const c=Y2(a,s);return c?`?${c}`:""}}function J2(t){if(t.statusCode=t.statusCode||t.code||307,!t.reloadDocument&&typeof t.href=="string")try{new URL(t.href),t.reloadDocument=!0}catch{}const e=new Headers(t.headers);t.href&&e.get("Location")===null&&e.set("Location",t.href);const n=new Response(null,{status:t.statusCode,headers:e});if(n.options=t,t.throw)throw n;return n}function as(t){return t instanceof Response&&!!t.options}function W2(t){const e=new Map;let n,s;const a=c=>{c.next&&(c.prev?(c.prev.next=c.next,c.next.prev=c.prev,c.next=void 0,s&&(s.next=c,c.prev=s)):(c.next.prev=void 0,n=c.next,c.next=void 0,s&&(c.prev=s,s.next=c)),s=c)};return{get(c){const u=e.get(c);if(u)return a(u),u.value},set(c,u){if(e.size>=t&&n){const d=n;e.delete(d.key),d.next&&(n=d.next,d.next.prev=void 0),d===s&&(s=void 0)}const f=e.get(c);if(f)f.value=u,a(f);else{const d={key:c,value:u,prev:s};s&&(s.next=d),s=d,n||(n=d),e.set(c,d)}}}}const Mu=t=>{if(!t.rendered)return t.rendered=!0,t.onReady?.()},Sf=(t,e)=>!!(t.preload&&!t.router.state.matches.some(n=>n.id===e)),hS=(t,e)=>{const n=t.router.routesById[e.routeId??""]??t.router.routeTree;!n.options.notFoundComponent&&t.router.options?.defaultNotFoundComponent&&(n.options.notFoundComponent=t.router.options.defaultNotFoundComponent),Zs(n.options.notFoundComponent);const s=t.matches.find(a=>a.routeId===n.id);Zs(s,"Could not find match for route: "+n.id),t.updateMatch(s.id,a=>({...a,status:"notFound",error:e,isFetching:!1})),e.routerCode==="BEFORE_LOAD"&&n.parentRoute&&(e.routeId=n.parentRoute.id,hS(t,e))},Ei=(t,e,n)=>{if(!(!as(n)&&!Gr(n))){if(as(n)&&n.redirectHandled&&!n.options.reloadDocument)throw n;if(e){e._nonReactive.beforeLoadPromise?.resolve(),e._nonReactive.loaderPromise?.resolve(),e._nonReactive.beforeLoadPromise=void 0,e._nonReactive.loaderPromise=void 0;const s=as(n)?"redirected":"notFound";t.updateMatch(e.id,a=>({...a,status:s,isFetching:!1,error:n})),Gr(n)&&!n.routeId&&(n.routeId=e.routeId),e._nonReactive.loadPromise?.resolve()}throw as(n)?(t.rendered=!0,n.options._fromLocation=t.location,n.redirectHandled=!0,n=t.router.resolveRedirect(n),n):(hS(t,n),n)}},pS=(t,e)=>{const n=t.router.getMatch(e);return!!(!t.router.isServer&&n._nonReactive.dehydrated||t.router.isServer&&n.ssr===!1)},lc=(t,e,n,s)=>{const{id:a,routeId:c}=t.matches[e],u=t.router.looseRoutesById[c];if(n instanceof Promise)throw n;n.routerCode=s,t.firstBadMatchIndex??=e,Ei(t,t.router.getMatch(a),n);try{u.options.onError?.(n)}catch(f){n=f,Ei(t,t.router.getMatch(a),n)}t.updateMatch(a,f=>(f._nonReactive.beforeLoadPromise?.resolve(),f._nonReactive.beforeLoadPromise=void 0,f._nonReactive.loadPromise?.resolve(),{...f,error:n,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},eA=(t,e,n,s)=>{const a=t.router.getMatch(e),c=t.matches[n-1]?.id,u=c?t.router.getMatch(c):void 0;if(t.router.isShell()){a.ssr=e===lr;return}if(u?.ssr===!1){a.ssr=!1;return}const f=S=>S===!0&&u?.ssr==="data-only"?"data-only":S,d=t.router.options.defaultSsr??!0;if(s.options.ssr===void 0){a.ssr=f(d);return}if(typeof s.options.ssr!="function"){a.ssr=f(s.options.ssr);return}const{search:p,params:y}=a,g={search:fu(p,a.searchError),params:fu(y,a.paramsError),location:t.location,matches:t.matches.map(S=>({index:S.index,pathname:S.pathname,fullPath:S.fullPath,staticData:S.staticData,id:S.id,routeId:S.routeId,search:fu(S.search,S.searchError),params:fu(S.params,S.paramsError),ssr:S.ssr}))},v=s.options.ssr(g);if(Ri(v))return v.then(S=>{a.ssr=f(S??d)});a.ssr=f(v??d)},mS=(t,e,n,s)=>{if(s._nonReactive.pendingTimeout!==void 0)return;const a=n.options.pendingMs??t.router.options.defaultPendingMs;if(!!(t.onReady&&!t.router.isServer&&!Sf(t,e)&&(n.options.loader||n.options.beforeLoad||vS(n))&&typeof a=="number"&&a!==1/0&&(n.options.pendingComponent??t.router.options?.defaultPendingComponent))){const u=setTimeout(()=>{Mu(t)},a);s._nonReactive.pendingTimeout=u}},tA=(t,e,n)=>{const s=t.router.getMatch(e);if(!s._nonReactive.beforeLoadPromise&&!s._nonReactive.loaderPromise)return;mS(t,e,n,s);const a=()=>{const c=t.router.getMatch(e);c.preload&&(c.status==="redirected"||c.status==="notFound")&&Ei(t,c,c.error)};return s._nonReactive.beforeLoadPromise?s._nonReactive.beforeLoadPromise.then(a):a()},nA=(t,e,n,s)=>{const a=t.router.getMatch(e),c=a._nonReactive.loadPromise;a._nonReactive.loadPromise=ro(()=>{c?.resolve()});const{paramsError:u,searchError:f}=a;u&&lc(t,n,u,"PARSE_PARAMS"),f&&lc(t,n,f,"VALIDATE_SEARCH"),mS(t,e,s,a);const d=new AbortController,p=t.matches[n-1]?.id,v={...(p?t.router.getMatch(p):void 0)?.context??t.router.options.context??void 0,...a.__routeContext};let S=!1;const C=()=>{S||(S=!0,t.updateMatch(e,Y=>({...Y,isFetching:"beforeLoad",fetchCount:Y.fetchCount+1,abortController:d,context:v})))},E=()=>{a._nonReactive.beforeLoadPromise?.resolve(),a._nonReactive.beforeLoadPromise=void 0,t.updateMatch(e,Y=>({...Y,isFetching:!1}))};if(!s.options.beforeLoad){Ec(()=>{C(),E()});return}a._nonReactive.beforeLoadPromise=ro();const{search:M,params:P,cause:D}=a,k=Sf(t,e),j={search:M,abortController:d,params:P,preload:k,context:v,location:t.location,navigate:Y=>t.router.navigate({...Y,_fromLocation:t.location}),buildLocation:t.router.buildLocation,cause:k?"preload":D,matches:t.matches,...t.router.options.additionalContext},G=Y=>{if(Y===void 0){Ec(()=>{C(),E()});return}(as(Y)||Gr(Y))&&(C(),lc(t,n,Y,"BEFORE_LOAD")),Ec(()=>{C(),t.updateMatch(e,K=>({...K,__beforeLoadContext:Y,context:{...K.context,...Y}})),E()})};let X;try{if(X=s.options.beforeLoad(j),Ri(X))return C(),X.catch(Y=>{lc(t,n,Y,"BEFORE_LOAD")}).then(G)}catch(Y){C(),lc(t,n,Y,"BEFORE_LOAD")}G(X)},rA=(t,e)=>{const{id:n,routeId:s}=t.matches[e],a=t.router.looseRoutesById[s],c=()=>{if(t.router.isServer){const d=eA(t,n,e,a);if(Ri(d))return d.then(f)}return f()},u=()=>nA(t,n,e,a),f=()=>{if(pS(t,n))return;const d=tA(t,n,a);return Ri(d)?d.then(u):u()};return c()},Tc=(t,e,n)=>{const s=t.router.getMatch(e);if(!s||!n.options.head&&!n.options.scripts&&!n.options.headers)return;const a={matches:t.matches,match:s,params:s.params,loaderData:s.loaderData};return Promise.all([n.options.head?.(a),n.options.scripts?.(a),n.options.headers?.(a)]).then(([c,u,f])=>{const d=c?.meta,p=c?.links,y=c?.scripts,g=c?.styles;return{meta:d,links:p,headScripts:y,headers:f,scripts:u,styles:g}})},yS=(t,e,n,s)=>{const a=t.matchPromises[n-1],{params:c,loaderDeps:u,abortController:f,context:d,cause:p}=t.router.getMatch(e),y=Sf(t,e);return{params:c,deps:u,preload:!!y,parentMatchPromise:a,abortController:f,context:d,location:t.location,navigate:g=>t.router.navigate({...g,_fromLocation:t.location}),cause:y?"preload":p,route:s,...t.router.options.additionalContext}},ab=async(t,e,n,s)=>{try{const a=t.router.getMatch(e);try{(!t.router.isServer||a.ssr===!0)&&gS(s);const c=s.options.loader?.(yS(t,e,n,s)),u=s.options.loader&&Ri(c);if(!!(u||s._lazyPromise||s._componentsPromise||s.options.head||s.options.scripts||s.options.headers||a._nonReactive.minPendingPromise)&&t.updateMatch(e,g=>({...g,isFetching:"loader"})),s.options.loader){const g=u?await c:c;Ei(t,t.router.getMatch(e),g),g!==void 0&&t.updateMatch(e,v=>({...v,loaderData:g}))}s._lazyPromise&&await s._lazyPromise;const d=Tc(t,e,s),p=d?await d:void 0,y=a._nonReactive.minPendingPromise;y&&await y,s._componentsPromise&&await s._componentsPromise,t.updateMatch(e,g=>({...g,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),...p}))}catch(c){let u=c;const f=a._nonReactive.minPendingPromise;f&&await f,Gr(c)&&await s.options.notFoundComponent?.preload?.(),Ei(t,t.router.getMatch(e),c);try{s.options.onError?.(c)}catch(y){u=y,Ei(t,t.router.getMatch(e),y)}const d=Tc(t,e,s),p=d?await d:void 0;t.updateMatch(e,y=>({...y,error:u,status:"error",isFetching:!1,...p}))}}catch(a){const c=t.router.getMatch(e);if(c){const u=Tc(t,e,s);if(u){const f=await u;t.updateMatch(e,d=>({...d,...f}))}c._nonReactive.loaderPromise=void 0}Ei(t,c,a)}},sA=async(t,e)=>{const{id:n,routeId:s}=t.matches[e];let a=!1,c=!1;const u=t.router.looseRoutesById[s];if(pS(t,n)){if(t.router.isServer){const p=Tc(t,n,u);if(p){const y=await p;t.updateMatch(n,g=>({...g,...y}))}return t.router.getMatch(n)}}else{const p=t.router.getMatch(n);if(p._nonReactive.loaderPromise){if(p.status==="success"&&!t.sync&&!p.preload)return p;await p._nonReactive.loaderPromise;const y=t.router.getMatch(n);y.error&&Ei(t,y,y.error)}else{const y=Date.now()-p.updatedAt,g=Sf(t,n),v=g?u.options.preloadStaleTime??t.router.options.defaultPreloadStaleTime??3e4:u.options.staleTime??t.router.options.defaultStaleTime??0,S=u.options.shouldReload,C=typeof S=="function"?S(yS(t,n,e,u)):S,E=!!g&&!t.router.state.matches.some(k=>k.id===n),M=t.router.getMatch(n);M._nonReactive.loaderPromise=ro(),E!==M.preload&&t.updateMatch(n,k=>({...k,preload:E}));const{status:P,invalid:D}=M;if(a=P==="success"&&(D||(C??y>v)),!(g&&u.options.preload===!1))if(a&&!t.sync)c=!0,(async()=>{try{await ab(t,n,e,u);const k=t.router.getMatch(n);k._nonReactive.loaderPromise?.resolve(),k._nonReactive.loadPromise?.resolve(),k._nonReactive.loaderPromise=void 0}catch(k){as(k)&&await t.router.navigate(k.options)}})();else if(P!=="success"||a&&t.sync)await ab(t,n,e,u);else{const k=Tc(t,n,u);if(k){const j=await k;t.updateMatch(n,G=>({...G,...j}))}}}}const f=t.router.getMatch(n);c||(f._nonReactive.loaderPromise?.resolve(),f._nonReactive.loadPromise?.resolve()),clearTimeout(f._nonReactive.pendingTimeout),f._nonReactive.pendingTimeout=void 0,c||(f._nonReactive.loaderPromise=void 0),f._nonReactive.dehydrated=void 0;const d=c?f.isFetching:!1;return d!==f.isFetching||f.invalid!==!1?(t.updateMatch(n,p=>({...p,isFetching:d,invalid:!1})),t.router.getMatch(n)):f};async function ob(t){const e=Object.assign(t,{matchPromises:[]});!e.router.isServer&&e.router.state.matches.some(n=>n._forcePending)&&Mu(e);try{for(let a=0;a<e.matches.length;a++){const c=rA(e,a);Ri(c)&&await c}const n=e.firstBadMatchIndex??e.matches.length;for(let a=0;a<n;a++)e.matchPromises.push(sA(e,a));await Promise.all(e.matchPromises);const s=Mu(e);Ri(s)&&await s}catch(n){if(Gr(n)&&!e.preload){const s=Mu(e);throw Ri(s)&&await s,n}if(as(n))throw n}return e.matches}async function gS(t){if(!t._lazyLoaded&&t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(e=>{const{id:n,...s}=e.options;Object.assign(t.options,s),t._lazyLoaded=!0,t._lazyPromise=void 0}):t._lazyLoaded=!0),!t._componentsLoaded&&t._componentsPromise===void 0){const e=()=>{const n=[];for(const s of xS){const a=t.options[s]?.preload;a&&n.push(a())}if(n.length)return Promise.all(n).then(()=>{t._componentsLoaded=!0,t._componentsPromise=void 0});t._componentsLoaded=!0,t._componentsPromise=void 0};t._componentsPromise=t._lazyPromise?t._lazyPromise.then(e):e()}return t._componentsPromise}function fu(t,e){return e?{status:"error",error:e}:{status:"success",value:t}}function vS(t){for(const e of xS)if(t.options[e]?.preload)return!0;return!1}const xS=["component","errorComponent","pendingComponent","notFoundComponent"];function iA(t){return{input:({url:e})=>{for(const n of t)e=bS(n,e);return e},output:({url:e})=>{for(let n=t.length-1;n>=0;n--)e=SS(t[n],e);return e}}}function aA(t){const e=Ou(t.basepath),n=`/${e}`,s=`${n}/`,a=t.caseSensitive?n:n.toLowerCase(),c=t.caseSensitive?s:s.toLowerCase();return{input:({url:u})=>{const f=t.caseSensitive?u.pathname:u.pathname.toLowerCase();return f===a?u.pathname="/":f.startsWith(c)&&(u.pathname=u.pathname.slice(n.length)),u},output:({url:u})=>(u.pathname=Ks(["/",e,u.pathname]),u)}}function bS(t,e){const n=t?.input?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function SS(t,e){const n=t?.output?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function ia(t){const e=t.resolvedLocation,n=t.location,s=e?.pathname!==n.pathname,a=e?.href!==n.href,c=e?.hash!==n.hash;return{fromLocation:e,toLocation:n,pathChanged:s,hrefChanged:a,hashChanged:c}}class oA{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const s=this.options,a=this.basepath??s?.basepath??"/",c=this.basepath===void 0,u=s?.rewrite;this.options={...s,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(v=>[encodeURIComponent(v),v])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=h2())),this.origin=this.options.origin,this.origin||(!this.isServer&&window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new Jp(lA(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(v=>!["redirected"].includes(v.status))}}}),q2(this));let f=!1;const d=this.options.basepath??"/",p=this.options.rewrite;if(c||a!==d||u!==p){this.basepath=d;const v=[];Ou(d)!==""&&v.push(aA({basepath:d})),p&&v.push(p),this.rewrite=v.length===0?void 0:v.length===1?v[0]:iA(v),this.history&&this.updateLatestLocation(),f=!0}f&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:n,routesByPath:s,flatRoutes:a}=z2({routeTree:this.routeTree,initRoute:(u,f)=>{u.init({originalIndex:f})}});this.routesById=n,this.routesByPath=s,this.flatRoutes=a;const c=this.options.notFoundRoute;c&&(c.init({originalIndex:99999999999}),this.routesById[c.id]=c)},this.subscribe=(n,s)=>{const a={eventType:n,fn:s};return this.subscribers.add(a),()=>{this.subscribers.delete(a)}},this.emit=n=>{this.subscribers.forEach(s=>{s.eventType===n.type&&s.fn(n)})},this.parseLocation=(n,s)=>{const a=({href:d,state:p})=>{const y=new URL(d,this.origin),g=bS(this.rewrite,y),v=this.options.parseSearch(g.search),S=this.options.stringifySearch(v);g.search=S;const C=g.href.replace(g.origin,""),{pathname:E,hash:M}=g;return{href:C,publicHref:d,url:g.href,pathname:E,searchStr:S,search:Dr(s?.search,v),hash:M.split("#").reverse()[0]??"",state:Dr(s?.state,p)}},c=a(n),{__tempLocation:u,__tempKey:f}=c.state;if(u&&(!f||f===this.tempLocationKey)){const d=a(u);return d.state.key=c.state.key,d.state.__TSR_key=c.state.__TSR_key,delete d.state.__tempLocation,{...d,maskedLocation:c}}return c},this.resolvePathWithBase=(n,s)=>x2({base:n,to:Wm(s),trailingSlash:this.options.trailingSlash,parseCache:this.parsePathnameCache}),this.matchRoutes=(n,s,a)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:s},a):this.matchRoutesInternal(n,s),this.parsePathnameCache=W2(1e3),this.getMatchedRoutes=(n,s)=>uA({pathname:n,routePathname:s,caseSensitive:this.options.caseSensitive,routesByPath:this.routesByPath,routesById:this.routesById,flatRoutes:this.flatRoutes,parseCache:this.parsePathnameCache}),this.cancelMatch=n=>{const s=this.getMatch(n);s&&(s.abortController.abort(),clearTimeout(s._nonReactive.pendingTimeout),s._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{this.state.pendingMatches?.forEach(n=>{this.cancelMatch(n.id)})},this.buildLocation=n=>{const s=(c={})=>{const u=c._fromLocation||this.latestLocation,f=this.matchRoutes(u,{_buildLocation:!0}),d=Wp(f);c.from;const p=c.unsafeRelative==="path"?u.pathname:c.from??d.fullPath,y=this.resolvePathWithBase(p,"."),g=d.search,v={...d.params},S=c.to?this.resolvePathWithBase(y,`${c.to}`):this.resolvePathWithBase(y,"."),C=c.params===!1||c.params===null?{}:(c.params??!0)===!0?v:Object.assign(v,ra(c.params,v)),E=lu({path:S,params:C,parseCache:this.parsePathnameCache}).interpolatedPath,M=this.matchRoutes(E,void 0,{_buildLocation:!0}).map(xe=>this.looseRoutesById[xe.routeId]);if(Object.keys(C).length>0)for(const xe of M){const _e=xe.options.params?.stringify??xe.options.stringifyParams;_e&&Object.assign(C,_e(C))}const P=lu({path:S,params:C,leaveWildcards:!1,leaveParams:n.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath;let D=g;if(n._includeValidateSearch&&this.options.search?.strict){const xe={};M.forEach(_e=>{if(_e.options.validateSearch)try{Object.assign(xe,nm(_e.options.validateSearch,{...xe,...D}))}catch{}}),D=xe}D=fA({search:D,dest:c,destRoutes:M,_includeValidateSearch:n._includeValidateSearch}),D=Dr(g,D);const k=this.options.stringifySearch(D),j=c.hash===!0?u.hash:c.hash?ra(c.hash,u.hash):void 0,G=j?`#${j}`:"";let X=c.state===!0?u.state:c.state?ra(c.state,u.state):{};X=Dr(u.state,X);const Y=`${P}${k}${G}`,K=new URL(Y,this.origin),pe=SS(this.rewrite,K);return{publicHref:pe.pathname+pe.search+pe.hash,href:Y,url:pe.href,pathname:P,search:D,searchStr:k,state:X,hash:j??"",unmaskOnReload:c.unmaskOnReload}},a=(c={},u)=>{const f=s(c);let d=u?s(u):void 0;if(!d){let p={};const y=this.options.routeMasks?.find(g=>{const v=em(f.pathname,{to:g.from,caseSensitive:!1,fuzzy:!1},this.parsePathnameCache);return v?(p=v,!0):!1});if(y){const{from:g,...v}=y;u={from:n.from,...v,params:p},d=s(u)}}return d&&(f.maskedLocation=d),f};return n.mask?a(n,{from:n.from,...n.mask}):a(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:s,...a})=>{const c=()=>{const d=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];d.forEach(y=>{a.state[y]=this.latestLocation.state[y]});const p=sa(a.state,this.latestLocation.state);return d.forEach(y=>{delete a.state[y]}),p},u=Ai(this.latestLocation.href)===Ai(a.href),f=this.commitLocationPromise;if(this.commitLocationPromise=ro(()=>{f?.resolve()}),u&&c())this.load();else{let{maskedLocation:d,hashScrollIntoView:p,...y}=a;d&&(y={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...y,search:y.searchStr,state:{...y.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(y.unmaskOnReload??this.options.unmaskOnReload??!1)&&(y.state.__tempKey=this.tempLocationKey)),y.state.__hashScrollIntoViewOptions=p??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[a.replace?"replace":"push"](y.publicHref,y.state,{ignoreBlocker:s})}return this.resetNextScroll=a.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:s,hashScrollIntoView:a,viewTransition:c,ignoreBlocker:u,href:f,...d}={})=>{if(f){const y=this.history.location.state.__TSR_index,g=Yu(f,{__TSR_index:n?y:y+1});d.to=g.pathname,d.search=this.options.parseSearch(g.search),d.hash=g.hash.slice(1)}const p=this.buildLocation({...d,_includeValidateSearch:!0});return this.commitLocation({...p,viewTransition:c,replace:n,resetScroll:s,hashScrollIntoView:a,ignoreBlocker:u})},this.navigate=({to:n,reloadDocument:s,href:a,...c})=>{if(!s&&a)try{new URL(`${a}`),s=!0}catch{}return s?(a||(a=this.buildLocation({to:n,...c}).url),c.replace?window.location.replace(a):window.location.href=a,Promise.resolve()):this.buildAndCommitLocation({...c,href:a,to:n,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.updateLatestLocation(),this.isServer){const s=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0}),a=c=>{try{return encodeURI(decodeURI(c))}catch{return c}};if(Ou(a(this.latestLocation.href))!==Ou(a(s.href))){let c=s.url;throw this.origin&&c.startsWith(this.origin)&&(c=c.replace(this.origin,"")||"/"),J2({href:c})}}const n=this.matchRoutes(this.latestLocation);this.__store.setState(s=>({...s,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:n,cachedMatches:s.cachedMatches.filter(a=>!n.some(c=>c.id===a.id))}))},this.load=async n=>{let s,a,c;for(c=new Promise(f=>{this.startTransition(async()=>{try{this.beforeLoad();const d=this.latestLocation,p=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...ia({resolvedLocation:p,location:d})}),this.emit({type:"onBeforeLoad",...ia({resolvedLocation:p,location:d})}),await ob({router:this,sync:n?.sync,matches:this.state.pendingMatches,location:d,updateMatch:this.updateMatch,onReady:async()=>{this.startViewTransition(async()=>{let y,g,v;Ec(()=>{this.__store.setState(S=>{const C=S.matches,E=S.pendingMatches||S.matches;return y=C.filter(M=>!E.some(P=>P.id===M.id)),g=E.filter(M=>!C.some(P=>P.id===M.id)),v=C.filter(M=>E.some(P=>P.id===M.id)),{...S,isLoading:!1,loadedAt:Date.now(),matches:E,pendingMatches:void 0,cachedMatches:[...S.cachedMatches,...y.filter(M=>M.status!=="error")]}}),this.clearExpiredCache()}),[[y,"onLeave"],[g,"onEnter"],[v,"onStay"]].forEach(([S,C])=>{S.forEach(E=>{this.looseRoutesById[E.routeId].options[C]?.(E)})})})}})}catch(d){as(d)?(s=d,this.isServer||this.navigate({...s.options,replace:!0,ignoreBlocker:!0})):Gr(d)&&(a=d),this.__store.setState(p=>({...p,statusCode:s?s.status:a?404:p.matches.some(y=>y.status==="error")?500:200,redirect:s}))}this.latestLoadPromise===c&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),f()})}),this.latestLoadPromise=c,await c;this.latestLoadPromise&&c!==this.latestLoadPromise;)await this.latestLoadPromise;let u;this.hasNotFoundMatch()?u=404:this.__store.state.matches.some(f=>f.status==="error")&&(u=500),u!==void 0&&this.__store.setState(f=>({...f,statusCode:u}))},this.startViewTransition=n=>{const s=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,s&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let a;if(typeof s=="object"&&this.isViewTransitionTypesSupported){const c=this.latestLocation,u=this.state.resolvedLocation,f=typeof s.types=="function"?s.types(ia({resolvedLocation:u,location:c})):s.types;if(f===!1){n();return}a={update:n,types:f}}else a=n;document.startViewTransition(a)}else n()},this.updateMatch=(n,s)=>{const a=this.state.pendingMatches?.some(c=>c.id===n)?"pendingMatches":this.state.matches.some(c=>c.id===n)?"matches":this.state.cachedMatches.some(c=>c.id===n)?"cachedMatches":"";a&&this.__store.setState(c=>({...c,[a]:c[a]?.map(u=>u.id===n?s(u):u)}))},this.getMatch=n=>{const s=a=>a.id===n;return this.state.cachedMatches.find(s)??this.state.pendingMatches?.find(s)??this.state.matches.find(s)},this.invalidate=n=>{const s=a=>n?.filter?.(a)??!0?{...a,invalid:!0,...n?.forcePending||a.status==="error"?{status:"pending",error:void 0}:void 0}:a;return this.__store.setState(a=>({...a,matches:a.matches.map(s),cachedMatches:a.cachedMatches.map(s),pendingMatches:a.pendingMatches?.map(s)})),this.shouldViewTransition=!1,this.load({sync:n?.sync})},this.resolveRedirect=n=>{if(!n.options.href){const s=this.buildLocation(n.options);let a=s.url;this.origin&&a.startsWith(this.origin)&&(a=a.replace(this.origin,"")||"/"),n.options.href=s.href,n.headers.set("Location",a)}return n.headers.get("Location")||n.headers.set("Location",n.options.href),n},this.clearCache=n=>{const s=n?.filter;s!==void 0?this.__store.setState(a=>({...a,cachedMatches:a.cachedMatches.filter(c=>!s(c))})):this.__store.setState(a=>({...a,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=s=>{const a=this.looseRoutesById[s.routeId];if(!a.options.loader)return!0;const c=(s.preload?a.options.preloadGcTime??this.options.defaultPreloadGcTime:a.options.gcTime??this.options.defaultGcTime)??300*1e3;return s.status==="error"?!0:Date.now()-s.updatedAt>=c};this.clearCache({filter:n})},this.loadRouteChunk=gS,this.preloadRoute=async n=>{const s=this.buildLocation(n);let a=this.matchRoutes(s,{throwOnError:!0,preload:!0,dest:n});const c=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(f=>f.id)),u=new Set([...c,...this.state.cachedMatches.map(f=>f.id)]);Ec(()=>{a.forEach(f=>{u.has(f.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,f]}))})});try{return a=await ob({router:this,matches:a,location:s,preload:!0,updateMatch:(f,d)=>{c.has(f)?a=a.map(p=>p.id===f?d(p):p):this.updateMatch(f,d)}}),a}catch(f){if(as(f))return f.options.reloadDocument?void 0:await this.preloadRoute({...f.options,_fromLocation:s});Gr(f)||console.error(f);return}},this.matchRoute=(n,s)=>{const a={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},c=this.buildLocation(a);if(s?.pending&&this.state.status!=="pending")return!1;const f=(s?.pending===void 0?!this.state.isLoading:s.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,d=em(f.pathname,{...s,to:c.pathname},this.parsePathnameCache);return!d||n.params&&!sa(d,n.params,{partial:!0})?!1:d&&(s?.includeSearch??!0)?sa(f.search,c.search,{partial:!0})?d:!1:d},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??X2,parseSearch:e.parseSearch??K2}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(e,n){const{foundRoute:s,matchedRoutes:a,routeParams:c}=this.getMatchedRoutes(e.pathname,n?.dest?.to);let u=!1;(s?s.path!=="/"&&c["**"]:Ai(e.pathname))&&(this.options.notFoundRoute?a.push(this.options.notFoundRoute):u=!0);const f=(()=>{if(u){if(this.options.notFoundMode!=="root")for(let y=a.length-1;y>=0;y--){const g=a[y];if(g.children)return g.id}return lr}})(),d=[],p=y=>y?.id?y.context??this.options.context??void 0:this.options.context??void 0;return a.forEach((y,g)=>{const v=d[g-1],[S,C,E]=(()=>{const Ce=v?.search??e.search,Re=v?._strictSearch??void 0;try{const ge=nm(y.options.validateSearch,{...Ce})??void 0;return[{...Ce,...ge},{...Re,...ge},void 0]}catch(ge){let Ue=ge;if(ge instanceof Zu||(Ue=new Zu(ge.message,{cause:ge})),n?.throwOnError)throw Ue;return[Ce,{},Ue]}})(),M=y.options.loaderDeps?.({search:S})??"",P=M?JSON.stringify(M):"",{interpolatedPath:D,usedParams:k}=lu({path:y.fullPath,params:c,decodeCharMap:this.pathParamsDecodeCharMap}),j=lu({path:y.id,params:c,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath+P,G=this.getMatch(j),X=this.state.matches.find(Ce=>Ce.routeId===y.id),Y=G?._strictParams??k;let K;if(!G){const Ce=y.options.params?.parse??y.options.parseParams;if(Ce)try{Object.assign(Y,Ce(Y))}catch(Re){if(K=new cA(Re.message,{cause:Re}),n?.throwOnError)throw K}}Object.assign(c,Y);const pe=X?"stay":"enter";let xe;if(G)xe={...G,cause:pe,params:X?Dr(X.params,c):c,_strictParams:Y,search:Dr(X?X.search:G.search,S),_strictSearch:C};else{const Ce=y.options.loader||y.options.beforeLoad||y.lazyFn||vS(y)?"pending":"success";xe={id:j,index:g,routeId:y.id,params:X?Dr(X.params,c):c,_strictParams:Y,pathname:D,updatedAt:Date.now(),search:X?Dr(X.search,S):S,_strictSearch:C,searchError:void 0,status:Ce,isFetching:!1,error:void 0,paramsError:K,__routeContext:void 0,_nonReactive:{loadPromise:ro()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:pe,loaderDeps:X?Dr(X.loaderDeps,M):M,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:y.options.staticData||{},fullPath:y.fullPath}}n?.preload||(xe.globalNotFound=f===y.id),xe.searchError=E;const _e=p(v);xe.context={..._e,...xe.__routeContext,...xe.__beforeLoadContext},d.push(xe)}),d.forEach((y,g)=>{const v=this.looseRoutesById[y.routeId];if(!this.getMatch(y.id)&&n?._buildLocation!==!0){const C=d[g-1],E=p(C);if(v.options.context){const M={deps:y.loaderDeps,params:y.params,context:E??{},location:e,navigate:P=>this.navigate({...P,_fromLocation:e}),buildLocation:this.buildLocation,cause:y.cause,abortController:y.abortController,preload:!!y.preload,matches:d};y.__routeContext=v.options.context(M)??void 0}y.context={...E,...y.__routeContext,...y.__beforeLoadContext}}}),d}}class Zu extends Error{}class cA extends Error{}function lA(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function nm(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new Zu("Async validation not supported");if(n.issues)throw new Zu(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function uA({pathname:t,routePathname:e,caseSensitive:n,routesByPath:s,routesById:a,flatRoutes:c,parseCache:u}){let f={};const d=Ai(t),p=S=>em(d,{to:S.fullPath,caseSensitive:S.options?.caseSensitive??n,fuzzy:!0},u);let y=e!==void 0?s[e]:void 0;if(y)f=p(y);else{let S;for(const C of c){const E=p(C);if(E)if(C.path!=="/"&&E["**"])S||(S={foundRoute:C,routeParams:E});else{y=C,f=E;break}}!y&&S&&(y=S.foundRoute,f=S.routeParams)}let g=y||a[lr];const v=[g];for(;g.parentRoute;)g=g.parentRoute,v.push(g);return v.reverse(),{matchedRoutes:v,routeParams:f,foundRoute:y}}function fA({search:t,dest:e,destRoutes:n,_includeValidateSearch:s}){const a=n.reduce((f,d)=>{const p=[];if("search"in d.options)d.options.search?.middlewares&&p.push(...d.options.search.middlewares);else if(d.options.preSearchFilters||d.options.postSearchFilters){const y=({search:g,next:v})=>{let S=g;"preSearchFilters"in d.options&&d.options.preSearchFilters&&(S=d.options.preSearchFilters.reduce((E,M)=>M(E),g));const C=v(S);return"postSearchFilters"in d.options&&d.options.postSearchFilters?d.options.postSearchFilters.reduce((E,M)=>M(E),C):C};p.push(y)}if(s&&d.options.validateSearch){const y=({search:g,next:v})=>{const S=v(g);try{return{...S,...nm(d.options.validateSearch,S)??void 0}}catch{return S}};p.push(y)}return f.concat(p)},[])??[],c=({search:f})=>e.search?e.search===!0?f:ra(e.search,f):{};a.push(c);const u=(f,d)=>{if(f>=a.length)return d;const p=a[f];return p({search:d,next:g=>u(f+1,g)})};return u(0,t)}const dA="Error preloading route! ";class _S{constructor(e){if(this.init=n=>{this.originalIndex=n.originalIndex;const s=this.options,a=!s?.path&&!s?.id;this.parentRoute=this.options.getParentRoute?.(),a?this._path=lr:this.parentRoute||Zs(!1);let c=a?lr:s?.path;c&&c!=="/"&&(c=ey(c));const u=s?.id||c;let f=a?lr:Ks([this.parentRoute.id===lr?"":this.parentRoute.id,u]);c===lr&&(c="/"),f!==lr&&(f=Ks(["/",f]));const d=f===lr?"/":Ks([this.parentRoute.fullPath,c]);this._path=c,this._id=f,this._fullPath=d,this._to=d},this.clone=n=>{this._path=n._path,this._id=n._id,this._fullPath=n._fullPath,this._to=n._to,this.options.getParentRoute=n.options.getParentRoute,this.children=n.children},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.options=e||{},this.isRoot=!e?.getParentRoute,e?.id&&e?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class hA extends _S{constructor(e){super(e)}}var R=qc();const Le=Vc(R),pA=aS({__proto__:null,default:Le},[R]);function ty(t){const e=t.errorComponent??_f;return b.jsx(mA,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:s})=>n?R.createElement(e,{error:n,reset:s}):t.children})}class mA extends R.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function _f({error:t}){const[e,n]=R.useState(!1);return b.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[b.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),b.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(s=>!s),children:e?"Hide Error":"Show Error"})]}),b.jsx("div",{style:{height:".25rem"}}),e?b.jsx("div",{children:b.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?b.jsx("code",{children:t.message}):null})}):null]})}function yA({children:t,fallback:e=null}){return gA()?b.jsx(Le.Fragment,{children:t}):b.jsx(Le.Fragment,{children:e})}function gA(){return Le.useSyncExternalStore(vA,()=>!0,()=>!1)}function vA(){return()=>{}}var lp={exports:{}},up={},fp={exports:{}},dp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cb;function xA(){if(cb)return dp;cb=1;var t=qc();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:e,s=t.useState,a=t.useEffect,c=t.useLayoutEffect,u=t.useDebugValue;function f(g,v){var S=v(),C=s({inst:{value:S,getSnapshot:v}}),E=C[0].inst,M=C[1];return c(function(){E.value=S,E.getSnapshot=v,d(E)&&M({inst:E})},[g,S,v]),a(function(){return d(E)&&M({inst:E}),g(function(){d(E)&&M({inst:E})})},[g]),u(S),S}function d(g){var v=g.getSnapshot;g=g.value;try{var S=v();return!n(g,S)}catch{return!0}}function p(g,v){return v()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:f;return dp.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:y,dp}var lb;function wS(){return lb||(lb=1,fp.exports=xA()),fp.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub;function bA(){if(ub)return up;ub=1;var t=qc(),e=wS();function n(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var s=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,c=t.useRef,u=t.useEffect,f=t.useMemo,d=t.useDebugValue;return up.useSyncExternalStoreWithSelector=function(p,y,g,v,S){var C=c(null);if(C.current===null){var E={hasValue:!1,value:null};C.current=E}else E=C.current;C=f(function(){function P(X){if(!D){if(D=!0,k=X,X=v(X),S!==void 0&&E.hasValue){var Y=E.value;if(S(Y,X))return j=Y}return j=X}if(Y=j,s(k,X))return Y;var K=v(X);return S!==void 0&&S(Y,K)?(k=X,Y):(k=X,j=K)}var D=!1,k,j,G=g===void 0?null:g;return[function(){return P(y())},G===null?void 0:function(){return P(G())}]},[y,g,v,S]);var M=a(p,C[0],C[1]);return u(function(){E.hasValue=!0,E.value=M},[M]),d(M),M},up}var fb;function SA(){return fb||(fb=1,lp.exports=bA()),lp.exports}var _A=SA();function wA(t,e=n=>n){return _A.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,CA)}function CA(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[s,a]of t)if(!e.has(s)||!Object.is(a,e.get(s)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0}if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();const n=db(t);if(n.length!==db(e).length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(e,n[s])||!Object.is(t[n[s]],e[n[s]]))return!1;return!0}function db(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}const hp=R.createContext(null);function CS(){return typeof document>"u"?hp:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=hp,hp)}function Cr(t){const e=R.useContext(CS());return t?.warn,e}function ur(t){const e=Cr({warn:t?.router===void 0}),n=t?.router||e,s=R.useRef(void 0);return wA(n.__store,a=>{if(t?.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const c=Dr(s.current,t.select(a));return s.current=c,c}return t.select(a)}return a})}const wf=R.createContext(void 0),EA=R.createContext(void 0);function ps(t){const e=R.useContext(t.from?EA:wf);return ur({select:s=>{const a=s.matches.find(c=>t.from?t.from===c.routeId:c.id===e);if(Zs(!((t.shouldThrow??!0)&&!a),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),a!==void 0)return t.select?t.select(a):a},structuralSharing:t.structuralSharing})}function ny(t){return ps({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function ry(t){const{select:e,...n}=t;return ps({...n,select:s=>e?e(s.loaderDeps):s.loaderDeps})}function sy(t){return ps({from:t.from,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,strict:t.strict,select:e=>{const n=t.strict===!1?e.params:e._strictParams;return t.select?t.select(n):n}})}function iy(t){return ps({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function Cf(t){const e=Cr();return R.useCallback(n=>e.navigate({...n,from:n.from??t?.from}),[t?.from,e])}var Fc=oS();const TA=Vc(Fc),du=typeof window<"u"?R.useLayoutEffect:R.useEffect;function pp(t){const e=R.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function RA(t,e,n={},s={}){R.useEffect(()=>{if(!t.current||s.disabled||typeof IntersectionObserver!="function")return;const a=new IntersectionObserver(([c])=>{e(c)},n);return a.observe(t.current),()=>{a.disconnect()}},[e,n,s.disabled,t])}function AA(t){const e=R.useRef(null);return R.useImperativeHandle(t,()=>e.current,[]),e}function OA(t,e){const n=Cr(),[s,a]=R.useState(!1),c=R.useRef(!1),u=AA(e),{activeProps:f,inactiveProps:d,activeOptions:p,to:y,preload:g,preloadDelay:v,hashScrollIntoView:S,replace:C,startTransition:E,resetScroll:M,viewTransition:P,children:D,target:k,disabled:j,style:G,className:X,onClick:Y,onFocus:K,onMouseEnter:pe,onMouseLeave:xe,onTouchStart:_e,ignoreBlocker:Ce,params:Re,search:ge,hash:Ue,state:B,mask:ie,reloadDocument:$,unsafeRelative:Ee,from:ke,_fromLocation:I,...re}=t,le=ur({select:at=>at.location.search,structuralSharing:!0}),ve=t.from,be=R.useMemo(()=>({...t,from:ve}),[n,le,ve,t._fromLocation,t.hash,t.to,t.search,t.params,t.state,t.mask,t.unsafeRelative]),Te=R.useMemo(()=>n.buildLocation({...be}),[n,be]),Ne=R.useMemo(()=>{if(j)return;let at=Te.maskedLocation?Te.maskedLocation.url:Te.url,ht=!1;return n.origin&&(at.startsWith(n.origin)?at=n.history.createHref(at.replace(n.origin,""))||"/":ht=!0),{href:at,external:ht}},[j,Te.maskedLocation,Te.url,n.origin,n.history]),it=R.useMemo(()=>{if(Ne?.external)return Ne.href;try{return new URL(y),y}catch{}},[y,Ne]),z=t.reloadDocument||it?!1:g??n.options.defaultPreload,J=v??n.options.defaultPreloadDelay??0,fe=ur({select:at=>{if(it)return!1;if(p?.exact){if(!g2(at.location.pathname,Te.pathname,n.basepath))return!1}else{const ht=Ku(at.location.pathname,n.basepath),Qt=Ku(Te.pathname,n.basepath);if(!(ht.startsWith(Qt)&&(ht.length===Qt.length||ht[Qt.length]==="/")))return!1}return(p?.includeSearch??!0)&&!sa(at.location.search,Te.search,{partial:!p?.exact,ignoreUndefined:!p?.explicitUndefined})?!1:p?.includeHash?at.location.hash===Te.hash:!0}}),Pe=R.useCallback(()=>{n.preloadRoute({...be}).catch(at=>{console.warn(at),console.warn(dA)})},[n,be]),ze=R.useCallback(at=>{at?.isIntersecting&&Pe()},[Pe]);RA(u,ze,kA,{disabled:!!j||z!=="viewport"}),R.useEffect(()=>{c.current||!j&&z==="render"&&(Pe(),c.current=!0)},[j,Pe,z]);const Be=at=>{const ht=at.currentTarget.target,Qt=k!==void 0?k:ht;if(!j&&!jA(at)&&!at.defaultPrevented&&(!Qt||Qt==="_self")&&at.button===0){at.preventDefault(),Fc.flushSync(()=>{a(!0)});const An=n.subscribe("onResolved",()=>{An(),a(!1)});n.navigate({...be,replace:C,resetScroll:M,hashScrollIntoView:S,startTransition:E,viewTransition:P,ignoreBlocker:Ce})}};if(it)return{...re,ref:u,href:it,...D&&{children:D},...k&&{target:k},...j&&{disabled:j},...G&&{style:G},...X&&{className:X},...Y&&{onClick:Y},...K&&{onFocus:K},...pe&&{onMouseEnter:pe},...xe&&{onMouseLeave:xe},..._e&&{onTouchStart:_e}};const St=at=>{j||z&&Pe()},gt=St,hn=at=>{if(!(j||!z))if(!J)Pe();else{const ht=at.target;if(uc.has(ht))return;const Qt=setTimeout(()=>{uc.delete(ht),Pe()},J);uc.set(ht,Qt)}},Pt=at=>{if(j||!z||!J)return;const ht=at.target,Qt=uc.get(ht);Qt&&(clearTimeout(Qt),uc.delete(ht))},mt=fe?ra(f,{})??MA:mp,Ut=fe?mp:ra(d,{})??mp,Xt=[X,mt.className,Ut.className].filter(Boolean).join(" "),xn=(G||mt.style||Ut.style)&&{...G,...mt.style,...Ut.style};return{...re,...mt,...Ut,href:Ne?.href,ref:u,onClick:fc([Y,Be]),onFocus:fc([K,St]),onMouseEnter:fc([pe,hn]),onMouseLeave:fc([xe,Pt]),onTouchStart:fc([_e,gt]),disabled:!!j,target:k,...xn&&{style:xn},...Xt&&{className:Xt},...j&&NA,...fe&&PA,...s&&DA}}const mp={},MA={className:"active"},NA={role:"link","aria-disabled":!0},PA={"data-status":"active","aria-current":"page"},DA={"data-transitioning":"transitioning"},uc=new WeakMap,kA={rootMargin:"100px"},fc=t=>e=>{for(const n of t)if(n){if(e.defaultPrevented)return;n(e)}},ay=R.forwardRef((t,e)=>{const{_asChild:n,...s}=t,{type:a,ref:c,...u}=OA(s,e),f=typeof s.children=="function"?s.children({isActive:u["data-status"]==="active"}):s.children;return n===void 0&&delete u.disabled,R.createElement(n||"a",{...u,ref:c},f)});function jA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}class LA extends _S{constructor(e){super(e),this.useMatch=n=>ps({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>ps({...n,from:this.id,select:s=>n?.select?n.select(s.context):s.context}),this.useSearch=n=>iy({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>sy({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>ry({...n,from:this.id}),this.useLoaderData=n=>ny({...n,from:this.id}),this.useNavigate=()=>Cf({from:this.fullPath}),this.Link=Le.forwardRef((n,s)=>b.jsx(ay,{ref:s,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function Ef(t){return new LA(t)}class UA extends hA{constructor(e){super(e),this.useMatch=n=>ps({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>ps({...n,from:this.id,select:s=>n?.select?n.select(s.context):s.context}),this.useSearch=n=>iy({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>sy({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>ry({...n,from:this.id}),this.useLoaderData=n=>ny({...n,from:this.id}),this.useNavigate=()=>Cf({from:this.fullPath}),this.Link=Le.forwardRef((n,s)=>b.jsx(ay,{ref:s,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function IA(t){return new UA(t)}function hb(t){return typeof t=="object"?new pb(t,{silent:!0}).createRoute(t):new pb(t,{silent:!0}).createRoute}class pb{constructor(e,n){this.path=e,this.createRoute=s=>{this.silent;const a=Ef(s);return a.isRoot=!1,a},this.silent=n?.silent}}class mb{constructor(e){this.useMatch=n=>ps({select:n?.select,from:this.options.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>ps({from:this.options.id,select:s=>n?.select?n.select(s.context):s.context}),this.useSearch=n=>iy({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useParams=n=>sy({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>ry({...n,from:this.options.id}),this.useLoaderData=n=>ny({...n,from:this.options.id}),this.useNavigate=()=>{const n=Cr();return Cf({from:n.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function yb(t){return typeof t=="object"?new mb(t):e=>new mb({id:t,...e})}function zA(){const t=Cr(),e=R.useRef({router:t,mounted:!1}),[n,s]=R.useState(!1),{hasPendingMatches:a,isLoading:c}=ur({select:g=>({isLoading:g.isLoading,hasPendingMatches:g.matches.some(v=>v.status==="pending")}),structuralSharing:!0}),u=pp(c),f=c||n||a,d=pp(f),p=c||a,y=pp(p);return t.startTransition=g=>{s(!0),R.startTransition(()=>{g(),s(!1)})},R.useEffect(()=>{const g=t.history.subscribe(t.load),v=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Ai(t.latestLocation.href)!==Ai(v.href)&&t.commitLocation({...v,replace:!0}),()=>{g()}},[t,t.history]),du(()=>{if(typeof window<"u"&&t.ssr||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(v){console.error(v)}})()},[t]),du(()=>{u&&!c&&t.emit({type:"onLoad",...ia(t.state)})},[u,t,c]),du(()=>{y&&!p&&t.emit({type:"onBeforeRouteMount",...ia(t.state)})},[p,y,t]),du(()=>{d&&!f&&(t.emit({type:"onResolved",...ia(t.state)}),t.__store.setState(g=>({...g,status:"idle",resolvedLocation:g.location})),F2(t))},[f,d,t]),null}function BA(t){const e=ur({select:n=>`not-found-${n.location.pathname}-${n.status}`});return b.jsx(ty,{getResetKey:()=>e,onCatch:(n,s)=>{if(Gr(n))t.onCatch?.(n,s);else throw n},errorComponent:({error:n})=>{if(Gr(n))return t.fallback?.(n);throw n},children:t.children})}function HA(){return b.jsx("p",{children:"Not Found"})}function Ka(t){return b.jsx(b.Fragment,{children:t.children})}function ES(t,e,n){return e.options.notFoundComponent?b.jsx(e.options.notFoundComponent,{data:n}):t.options.defaultNotFoundComponent?b.jsx(t.options.defaultNotFoundComponent,{data:n}):b.jsx(HA,{})}function $A({children:t}){const e=Cr();return e.isServer?b.jsx("script",{nonce:e.options.ssr?.nonce,className:"$tsr",dangerouslySetInnerHTML:{__html:[t].filter(Boolean).join(`
`)+";$_TSR.c()"}}):null}function VA(){const t=Cr();if(!t.isScrollRestoring||!t.isServer||typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation}))return null;const n=(t.options.getScrollRestorationKey||tm)(t.latestLocation),s=n!==tm(t.latestLocation)?n:void 0,a={storageKey:Xu,shouldScrollRestoration:!0};return s&&(a.key=s),b.jsx($A,{children:`(${dS.toString()})(${JSON.stringify(a)})`})}const TS=R.memo(function({matchId:e}){const n=Cr(),s=ur({select:P=>{const D=P.matches.find(k=>k.id===e);return Zs(D),{routeId:D.routeId,ssr:D.ssr,_displayPending:D._displayPending}},structuralSharing:!0}),a=n.routesById[s.routeId],c=a.options.pendingComponent??n.options.defaultPendingComponent,u=c?b.jsx(c,{}):null,f=a.options.errorComponent??n.options.defaultErrorComponent,d=a.options.onCatch??n.options.defaultOnCatch,p=a.isRoot?a.options.notFoundComponent??n.options.notFoundRoute?.options.component:a.options.notFoundComponent,y=s.ssr===!1||s.ssr==="data-only",g=(!a.isRoot||a.options.wrapInSuspense||y)&&(a.options.wrapInSuspense??c??(a.options.errorComponent?.preload||y))?R.Suspense:Ka,v=f?ty:Ka,S=p?BA:Ka,C=ur({select:P=>P.loadedAt}),E=ur({select:P=>{const D=P.matches.findIndex(k=>k.id===e);return P.matches[D-1]?.routeId}}),M=a.isRoot?a.options.shellComponent??Ka:Ka;return b.jsxs(M,{children:[b.jsx(wf.Provider,{value:e,children:b.jsx(g,{fallback:u,children:b.jsx(v,{getResetKey:()=>C,errorComponent:f||_f,onCatch:(P,D)=>{if(Gr(P))throw P;d?.(P,D)},children:b.jsx(S,{fallback:P=>{if(!p||P.routeId&&P.routeId!==s.routeId||!P.routeId&&!a.isRoot)throw P;return R.createElement(p,P)},children:y||s._displayPending?b.jsx(yA,{fallback:u,children:b.jsx(gb,{matchId:e})}):b.jsx(gb,{matchId:e})})})})}),E===lr&&n.options.scrollRestoration?b.jsxs(b.Fragment,{children:[b.jsx(qA,{}),b.jsx(VA,{})]}):null]})});function qA(){const t=Cr(),e=R.useRef(void 0);return b.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(e.current===void 0||e.current.href!==t.latestLocation.href)&&(t.emit({type:"onRendered",...ia(t.state)}),e.current=t.latestLocation)}},t.latestLocation.state.__TSR_key)}const gb=R.memo(function({matchId:e}){const n=Cr(),{match:s,key:a,routeId:c}=ur({select:d=>{const p=d.matches.find(C=>C.id===e),y=p.routeId,v=(n.routesById[y].options.remountDeps??n.options.defaultRemountDeps)?.({routeId:y,loaderDeps:p.loaderDeps,params:p._strictParams,search:p._strictSearch});return{key:v?JSON.stringify(v):void 0,routeId:y,match:{id:p.id,status:p.status,error:p.error,_forcePending:p._forcePending,_displayPending:p._displayPending}}},structuralSharing:!0}),u=n.routesById[c],f=R.useMemo(()=>{const d=u.options.component??n.options.defaultComponent;return d?b.jsx(d,{},a):b.jsx(RS,{})},[a,u.options.component,n.options.defaultComponent]);if(s._displayPending)throw n.getMatch(s.id)?._nonReactive.displayPendingPromise;if(s._forcePending)throw n.getMatch(s.id)?._nonReactive.minPendingPromise;if(s.status==="pending"){const d=u.options.pendingMinMs??n.options.defaultPendingMinMs;if(d){const p=n.getMatch(s.id);if(p&&!p._nonReactive.minPendingPromise&&!n.isServer){const y=ro();p._nonReactive.minPendingPromise=y,setTimeout(()=>{y.resolve(),p._nonReactive.minPendingPromise=void 0},d)}}throw n.getMatch(s.id)?._nonReactive.loadPromise}if(s.status==="notFound")return Zs(Gr(s.error)),ES(n,u,s.error);if(s.status==="redirected")throw Zs(as(s.error)),n.getMatch(s.id)?._nonReactive.loadPromise;if(s.status==="error"){if(n.isServer){const d=(u.options.errorComponent??n.options.defaultErrorComponent)||_f;return b.jsx(d,{error:s.error,reset:void 0,info:{componentStack:""}})}throw s.error}return f}),RS=R.memo(function(){const e=Cr(),n=R.useContext(wf),s=ur({select:p=>p.matches.find(y=>y.id===n)?.routeId}),a=e.routesById[s],c=ur({select:p=>{const g=p.matches.find(v=>v.id===n);return Zs(g),g.globalNotFound}}),u=ur({select:p=>{const y=p.matches,g=y.findIndex(v=>v.id===n);return y[g+1]?.id}}),f=e.options.defaultPendingComponent?b.jsx(e.options.defaultPendingComponent,{}):null;if(c)return ES(e,a,void 0);if(!u)return null;const d=b.jsx(TS,{matchId:u});return n===lr?b.jsx(R.Suspense,{fallback:f,children:d}):d});function FA(){const t=Cr(),n=t.routesById[lr].options.pendingComponent??t.options.defaultPendingComponent,s=n?b.jsx(n,{}):null,a=t.isServer||typeof document<"u"&&t.ssr?Ka:R.Suspense,c=b.jsxs(a,{fallback:s,children:[!t.isServer&&b.jsx(zA,{}),b.jsx(YA,{})]});return t.options.InnerWrap?b.jsx(t.options.InnerWrap,{children:c}):c}function YA(){const t=Cr(),e=ur({select:a=>a.matches[0]?.id}),n=ur({select:a=>a.loadedAt}),s=e?b.jsx(TS,{matchId:e}):null;return b.jsx(wf.Provider,{value:e,children:t.options.disableGlobalCatchBoundary?s:b.jsx(ty,{getResetKey:()=>n,errorComponent:_f,onCatch:a=>{a.message||a.toString()},children:s})})}const GA=t=>new KA(t);class KA extends oA{constructor(e){super(e)}}typeof globalThis<"u"?(globalThis.createFileRoute=hb,globalThis.createLazyFileRoute=yb):typeof window<"u"&&(window.createFileRoute=hb,window.createLazyFileRoute=yb);function XA({router:t,children:e,...n}){Object.keys(n).length>0&&t.update({...t.options,...n,context:{...t.options.context,...n.context}});const s=CS(),a=b.jsx(s.Provider,{value:t,children:e});return t.options.Wrap?b.jsx(t.options.Wrap,{children:a}):a}function QA({router:t,...e}){return b.jsx(XA,{router:t,...e,children:b.jsx(FA,{})})}var Tf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ZA={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},JA=class{#e=ZA;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},rm=new JA;function WA(t){setTimeout(t,0)}var Rf=typeof window>"u"||"Deno"in globalThis;function Vr(){}function e6(t,e){return typeof t=="function"?t(e):t}function t6(t){return typeof t=="number"&&t>=0&&t!==1/0}function n6(t,e){return Math.max(t+(e||0)-Date.now(),0)}function sm(t,e){return typeof t=="function"?t(e):t}function r6(t,e){return typeof t=="function"?t(e):t}function vb(t,e){const{type:n="all",exact:s,fetchStatus:a,predicate:c,queryKey:u,stale:f}=t;if(u){if(s){if(e.queryHash!==oy(u,e.options))return!1}else if(!Dc(e.queryKey,u))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||a&&a!==e.state.fetchStatus||c&&!c(e))}function xb(t,e){const{exact:n,status:s,predicate:a,mutationKey:c}=t;if(c){if(!e.options.mutationKey)return!1;if(n){if(Pc(e.options.mutationKey)!==Pc(c))return!1}else if(!Dc(e.options.mutationKey,c))return!1}return!(s&&e.state.status!==s||a&&!a(e))}function oy(t,e){return(e?.queryKeyHashFn||Pc)(t)}function Pc(t){return JSON.stringify(t,(e,n)=>im(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function Dc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Dc(t[n],e[n])):!1}var s6=Object.prototype.hasOwnProperty;function AS(t,e){if(t===e)return t;const n=bb(t)&&bb(e);if(!n&&!(im(t)&&im(e)))return e;const a=(n?t:Object.keys(t)).length,c=n?e:Object.keys(e),u=c.length,f=n?new Array(u):{};let d=0;for(let p=0;p<u;p++){const y=n?p:c[p],g=t[y],v=e[y];if(g===v){f[y]=g,(n?p<a:s6.call(t,y))&&d++;continue}if(g===null||v===null||typeof g!="object"||typeof v!="object"){f[y]=v;continue}const S=AS(g,v);f[y]=S,S===g&&d++}return a===u&&d===a?t:f}function bb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function im(t){if(!Sb(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Sb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Sb(t){return Object.prototype.toString.call(t)==="[object Object]"}function i6(t){return new Promise(e=>{rm.setTimeout(e,t)})}function a6(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?AS(t,e):e}function o6(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function c6(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var cy=Symbol();function OS(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===cy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var l6=class extends Tf{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Rf&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},MS=new l6;function u6(){let t,e;const n=new Promise((a,c)=>{t=a,e=c});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),t(a)},n.reject=a=>{s({status:"rejected",reason:a}),e(a)},n}var f6=WA;function d6(){let t=[],e=0,n=f=>{f()},s=f=>{f()},a=f6;const c=f=>{e?t.push(f):a(()=>{n(f)})},u=()=>{const f=t;t=[],f.length&&a(()=>{s(()=>{f.forEach(d=>{n(d)})})})};return{batch:f=>{let d;e++;try{d=f()}finally{e--,e||u()}return d},batchCalls:f=>(...d)=>{c(()=>{f(...d)})},schedule:c,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{s=f},setScheduler:f=>{a=f}}}var er=d6(),h6=class extends Tf{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Rf&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Ju=new h6;function p6(t){return Math.min(1e3*2**t,3e4)}function NS(t){return(t??"online")==="online"?Ju.isOnline():!0}var am=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function PS(t){let e=!1,n=0,s;const a=u6(),c=()=>a.status!=="pending",u=E=>{if(!c()){const M=new am(E);v(M),t.onCancel?.(M)}},f=()=>{e=!0},d=()=>{e=!1},p=()=>MS.isFocused()&&(t.networkMode==="always"||Ju.isOnline())&&t.canRun(),y=()=>NS(t.networkMode)&&t.canRun(),g=E=>{c()||(s?.(),a.resolve(E))},v=E=>{c()||(s?.(),a.reject(E))},S=()=>new Promise(E=>{s=M=>{(c()||p())&&E(M)},t.onPause?.()}).then(()=>{s=void 0,c()||t.onContinue?.()}),C=()=>{if(c())return;let E;const M=n===0?t.initialPromise:void 0;try{E=M??t.fn()}catch(P){E=Promise.reject(P)}Promise.resolve(E).then(g).catch(P=>{if(c())return;const D=t.retry??(Rf?0:3),k=t.retryDelay??p6,j=typeof k=="function"?k(n,P):k,G=D===!0||typeof D=="number"&&n<D||typeof D=="function"&&D(n,P);if(e||!G){v(P);return}n++,t.onFail?.(n,P),i6(j).then(()=>p()?void 0:S()).then(()=>{e?v(P):C()})})};return{promise:a,status:()=>a.status,cancel:u,continue:()=>(s?.(),a),cancelRetry:f,continueRetry:d,canStart:y,start:()=>(y()?C():S().then(C),a)}}var DS=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),t6(this.gcTime)&&(this.#e=rm.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Rf?1/0:300*1e3))}clearGcTimeout(){this.#e&&(rm.clearTimeout(this.#e),this.#e=void 0)}},m6=class extends DS{#e;#t;#n;#s;#r;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#n=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=_b(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=_b(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=a6(this.state.data,t,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(Vr).catch(Vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>r6(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>sm(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!n6(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(d=>d.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},a=()=>{const f=OS(this.options,e),p=(()=>{const y={client:this.#s,queryKey:this.queryKey,meta:this.meta};return s(y),y})();return this.#o=!1,this.options.persister?this.options.persister(f,p,this):f(p)},u=(()=>{const f={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:a};return s(f),f})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#i({type:"fetch",meta:u.fetchOptions?.meta}),this.#r=PS({initialPromise:e?.initialPromise,fn:u.fetchFn,onCancel:f=>{f instanceof am&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(f,d)=>{this.#i({type:"failed",failureCount:f,error:d})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const f=await this.#r.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof am){if(f.silent)return this.#r.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#i({type:"error",error:f}),this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...y6(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?s:void 0,s;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),er.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function y6(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:NS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function _b(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function wb(t){return{onFetch:(e,n)=>{const s=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,c=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let f={pages:[],pageParams:[]},d=0;const p=async()=>{let y=!1;const g=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},v=OS(e.options,e.fetchOptions),S=async(C,E,M)=>{if(y)return Promise.reject();if(E==null&&C.pages.length)return Promise.resolve(C);const D=(()=>{const X={client:e.client,queryKey:e.queryKey,pageParam:E,direction:M?"backward":"forward",meta:e.options.meta};return g(X),X})(),k=await v(D),{maxPages:j}=e.options,G=M?c6:o6;return{pages:G(C.pages,k,j),pageParams:G(C.pageParams,E,j)}};if(a&&c.length){const C=a==="backward",E=C?g6:Cb,M={pages:c,pageParams:u},P=E(s,M);f=await S(M,P,C)}else{const C=t??c.length;do{const E=d===0?u[0]??s.initialPageParam:Cb(s,f);if(d>0&&E==null)break;f=await S(f,E),d++}while(d<C)}return f};e.options.persister?e.fetchFn=()=>e.options.persister?.(p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=p}}}function Cb(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function g6(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var v6=class extends DS{#e;#t;#n;#s;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||x6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=PS({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(c,u)=>{this.#r({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const s=this.state.status==="pending",a=!this.#s.canStart();try{if(s)e();else{this.#r({type:"pending",variables:t,isPaused:a}),await this.#n.config.onMutate?.(t,this,n);const u=await this.options.onMutate?.(t,n);u!==this.state.context&&this.#r({type:"pending",context:u,variables:t,isPaused:a})}const c=await this.#s.start();return await this.#n.config.onSuccess?.(c,t,this.state.context,this,n),await this.options.onSuccess?.(c,t,this.state.context,n),await this.#n.config.onSettled?.(c,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(c,null,t,this.state.context,n),this.#r({type:"success",data:c}),c}catch(c){try{throw await this.#n.config.onError?.(c,t,this.state.context,this,n),await this.options.onError?.(c,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,c,t,this.state.context,n),c}finally{this.#r({type:"error",error:c})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),er.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function x6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var b6=class extends Tf{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const s=new v6({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(s),s}add(t){this.#e.add(t);const e=hu(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=hu(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=hu(t);if(typeof e=="string"){const s=this.#t.get(e)?.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){const e=hu(t);return typeof e=="string"?this.#t.get(e)?.find(s=>s!==t&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){er.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>xb(e,n))}findAll(t={}){return this.getAll().filter(e=>xb(t,e))}notify(t){er.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return er.batch(()=>Promise.all(t.map(e=>e.continue().catch(Vr))))}};function hu(t){return t.options.scope?.id}var S6=class extends Tf{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const s=e.queryKey,a=e.queryHash??oy(s,e);let c=this.get(a);return c||(c=new m6({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(c)),c}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){er.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>vb(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>vb(t,n)):e}notify(t){er.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){er.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){er.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},_6=class{#e;#t;#n;#s;#r;#a;#o;#i;constructor(t={}){this.#e=t.queryCache||new S6,this.#t=t.mutationCache||new b6,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=MS.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Ju.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(sm(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),c=this.#e.get(s.queryHash)?.state.data,u=e6(e,c);if(u!==void 0)return this.#e.build(this,s).setData(u,{...n,manual:!0})}setQueriesData(t,e,n){return er.batch(()=>this.#e.findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;er.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return er.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=er.batch(()=>this.#e.findAll(t).map(a=>a.cancel(n)));return Promise.all(s).then(Vr).catch(Vr)}invalidateQueries(t,e={}){return er.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=er.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let c=a.fetch(void 0,n);return n.throwOnError||(c=c.catch(Vr)),a.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(s).then(Vr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(sm(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Vr).catch(Vr)}fetchInfiniteQuery(t){return t.behavior=wb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Vr).catch(Vr)}ensureInfiniteQueryData(t){return t.behavior=wb(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ju.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(Pc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(s=>{Dc(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Pc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(s=>{Dc(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=oy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===cy&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},w6=R.createContext(void 0),C6=({client:t,children:e})=>(R.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),b.jsx(w6.Provider,{value:t,children:e}));async function E6(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const T6=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return await E6(n),await n.json()},R6=new _6({defaultOptions:{queries:{queryFn:T6({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),A6=1,O6=1e3;let yp=0;function M6(){return yp=(yp+1)%Number.MAX_SAFE_INTEGER,yp.toString()}const gp=new Map,Eb=t=>{if(gp.has(t))return;const e=setTimeout(()=>{gp.delete(t),Rc({type:"REMOVE_TOAST",toastId:t})},O6);gp.set(t,e)},N6=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,A6)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Eb(n):t.toasts.forEach(s=>{Eb(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Nu=[];let Pu={toasts:[]};function Rc(t){Pu=N6(Pu,t),Nu.forEach(e=>{e(Pu)})}function P6({...t}){const e=M6(),n=a=>Rc({type:"UPDATE_TOAST",toast:{...a,id:e}}),s=()=>Rc({type:"DISMISS_TOAST",toastId:e});return Rc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:a=>{a||s()}}}),{id:e,dismiss:s,update:n}}function kS(){const[t,e]=R.useState(Pu);return R.useEffect(()=>(Nu.push(e),()=>{const n=Nu.indexOf(e);n>-1&&Nu.splice(n,1)}),[t]),{...t,toast:P6,dismiss:n=>Rc({type:"DISMISS_TOAST",toastId:n})}}function Lt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t?.(a),n===!1||!a.defaultPrevented)return e?.(a)}}function Tb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function jS(...t){return e=>{let n=!1;const s=t.map(a=>{const c=Tb(a,e);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let a=0;a<s.length;a++){const c=s[a];typeof c=="function"?c():Tb(t[a],null)}}}}function an(...t){return R.useCallback(jS(...t),t)}function Pi(t,e=[]){let n=[];function s(c,u){const f=R.createContext(u),d=n.length;n=[...n,u];const p=g=>{const{scope:v,children:S,...C}=g,E=v?.[t]?.[d]||f,M=R.useMemo(()=>C,Object.values(C));return b.jsx(E.Provider,{value:M,children:S})};p.displayName=c+"Provider";function y(g,v){const S=v?.[t]?.[d]||f,C=R.useContext(S);if(C)return C;if(u!==void 0)return u;throw new Error(`\`${g}\` must be used within \`${c}\``)}return[p,y]}const a=()=>{const c=n.map(u=>R.createContext(u));return function(f){const d=f?.[t]||c;return R.useMemo(()=>({[`__scope${t}`]:{...f,[t]:d}}),[f,d])}};return a.scopeName=t,[s,D6(a,...e)]}function D6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const u=s.reduce((f,{useScope:d,scopeName:p})=>{const g=d(c)[`__scope${p}`];return{...f,...g}},{});return R.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function Wu(t){const e=j6(t),n=R.forwardRef((s,a)=>{const{children:c,...u}=s,f=R.Children.toArray(c),d=f.find(U6);if(d){const p=d.props.children,y=f.map(g=>g===d?R.Children.count(p)>1?R.Children.only(null):R.isValidElement(p)?p.props.children:null:g);return b.jsx(e,{...u,ref:a,children:R.isValidElement(p)?R.cloneElement(p,void 0,y):null})}return b.jsx(e,{...u,ref:a,children:c})});return n.displayName=`${t}.Slot`,n}var k6=Wu("Slot");function j6(t){const e=R.forwardRef((n,s)=>{const{children:a,...c}=n;if(R.isValidElement(a)){const u=z6(a),f=I6(c,a.props);return a.type!==R.Fragment&&(f.ref=s?jS(s,u):u),R.cloneElement(a,f)}return R.Children.count(a)>1?R.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var LS=Symbol("radix.slottable");function L6(t){const e=({children:n})=>b.jsx(b.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=LS,e}function U6(t){return R.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===LS}function I6(t,e){const n={...e};for(const s in e){const a=t[s],c=e[s];/^on[A-Z]/.test(s)?a&&c?n[s]=(...f)=>{const d=c(...f);return a(...f),d}:a&&(n[s]=a):s==="style"?n[s]={...a,...c}:s==="className"&&(n[s]=[a,c].filter(Boolean).join(" "))}return{...t,...n}}function z6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function US(t){const e=t+"CollectionProvider",[n,s]=Pi(e),[a,c]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=E=>{const{scope:M,children:P}=E,D=Le.useRef(null),k=Le.useRef(new Map).current;return b.jsx(a,{scope:M,itemMap:k,collectionRef:D,children:P})};u.displayName=e;const f=t+"CollectionSlot",d=Wu(f),p=Le.forwardRef((E,M)=>{const{scope:P,children:D}=E,k=c(f,P),j=an(M,k.collectionRef);return b.jsx(d,{ref:j,children:D})});p.displayName=f;const y=t+"CollectionItemSlot",g="data-radix-collection-item",v=Wu(y),S=Le.forwardRef((E,M)=>{const{scope:P,children:D,...k}=E,j=Le.useRef(null),G=an(M,j),X=c(y,P);return Le.useEffect(()=>(X.itemMap.set(j,{ref:j,...k}),()=>void X.itemMap.delete(j))),b.jsx(v,{[g]:"",ref:G,children:D})});S.displayName=y;function C(E){const M=c(t+"CollectionConsumer",E);return Le.useCallback(()=>{const D=M.collectionRef.current;if(!D)return[];const k=Array.from(D.querySelectorAll(`[${g}]`));return Array.from(M.itemMap.values()).sort((X,Y)=>k.indexOf(X.ref.current)-k.indexOf(Y.ref.current))},[M.collectionRef,M.itemMap])}return[{Provider:u,Slot:p,ItemSlot:S},C,s]}var B6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bt=B6.reduce((t,e)=>{const n=Wu(`Primitive.${e}`),s=R.forwardRef((a,c)=>{const{asChild:u,...f}=a,d=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(d,{...f,ref:c})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function IS(t,e){t&&Fc.flushSync(()=>t.dispatchEvent(e))}function Fn(t){const e=R.useRef(t);return R.useEffect(()=>{e.current=t}),R.useMemo(()=>(...n)=>e.current?.(...n),[])}function H6(t,e=globalThis?.document){const n=Fn(t);R.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var $6="DismissableLayer",om="dismissableLayer.update",V6="dismissableLayer.pointerDownOutside",q6="dismissableLayer.focusOutside",Rb,zS=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ly=R.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...d}=t,p=R.useContext(zS),[y,g]=R.useState(null),v=y?.ownerDocument??globalThis?.document,[,S]=R.useState({}),C=an(e,Y=>g(Y)),E=Array.from(p.layers),[M]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),P=E.indexOf(M),D=y?E.indexOf(y):-1,k=p.layersWithOutsidePointerEventsDisabled.size>0,j=D>=P,G=Y6(Y=>{const K=Y.target,pe=[...p.branches].some(xe=>xe.contains(K));!j||pe||(a?.(Y),u?.(Y),Y.defaultPrevented||f?.())},v),X=G6(Y=>{const K=Y.target;[...p.branches].some(xe=>xe.contains(K))||(c?.(Y),u?.(Y),Y.defaultPrevented||f?.())},v);return H6(Y=>{D===p.layers.size-1&&(s?.(Y),!Y.defaultPrevented&&f&&(Y.preventDefault(),f()))},v),R.useEffect(()=>{if(y)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Rb=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),Ab(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Rb)}},[y,v,n,p]),R.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),Ab())},[y,p]),R.useEffect(()=>{const Y=()=>S({});return document.addEventListener(om,Y),()=>document.removeEventListener(om,Y)},[]),b.jsx(Bt.div,{...d,ref:C,style:{pointerEvents:k?j?"auto":"none":void 0,...t.style},onFocusCapture:Lt(t.onFocusCapture,X.onFocusCapture),onBlurCapture:Lt(t.onBlurCapture,X.onBlurCapture),onPointerDownCapture:Lt(t.onPointerDownCapture,G.onPointerDownCapture)})});ly.displayName=$6;var F6="DismissableLayerBranch",BS=R.forwardRef((t,e)=>{const n=R.useContext(zS),s=R.useRef(null),a=an(e,s);return R.useEffect(()=>{const c=s.current;if(c)return n.branches.add(c),()=>{n.branches.delete(c)}},[n.branches]),b.jsx(Bt.div,{...t,ref:a})});BS.displayName=F6;function Y6(t,e=globalThis?.document){const n=Fn(t),s=R.useRef(!1),a=R.useRef(()=>{});return R.useEffect(()=>{const c=f=>{if(f.target&&!s.current){let d=function(){HS(V6,n,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=d,e.addEventListener("click",a.current,{once:!0})):d()}else e.removeEventListener("click",a.current);s.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",c),e.removeEventListener("click",a.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function G6(t,e=globalThis?.document){const n=Fn(t),s=R.useRef(!1);return R.useEffect(()=>{const a=c=>{c.target&&!s.current&&HS(q6,n,{originalEvent:c},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Ab(){const t=new CustomEvent(om);document.dispatchEvent(t)}function HS(t,e,n,{discrete:s}){const a=n.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&a.addEventListener(t,e,{once:!0}),s?IS(a,c):a.dispatchEvent(c)}var K6=ly,X6=BS,jr=globalThis?.document?R.useLayoutEffect:()=>{},Q6="Portal",$S=R.forwardRef((t,e)=>{const{container:n,...s}=t,[a,c]=R.useState(!1);jr(()=>c(!0),[]);const u=n||a&&globalThis?.document?.body;return u?TA.createPortal(b.jsx(Bt.div,{...s,ref:e}),u):null});$S.displayName=Q6;function Z6(t,e){return R.useReducer((n,s)=>e[n][s]??n,t)}var da=t=>{const{present:e,children:n}=t,s=J6(e),a=typeof n=="function"?n({present:s.isPresent}):R.Children.only(n),c=an(s.ref,W6(a));return typeof n=="function"||s.isPresent?R.cloneElement(a,{ref:c}):null};da.displayName="Presence";function J6(t){const[e,n]=R.useState(),s=R.useRef(null),a=R.useRef(t),c=R.useRef("none"),u=t?"mounted":"unmounted",[f,d]=Z6(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const p=pu(s.current);c.current=f==="mounted"?p:"none"},[f]),jr(()=>{const p=s.current,y=a.current;if(y!==t){const v=c.current,S=pu(p);t?d("MOUNT"):S==="none"||p?.display==="none"?d("UNMOUNT"):d(y&&v!==S?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,d]),jr(()=>{if(e){let p;const y=e.ownerDocument.defaultView??window,g=S=>{const E=pu(s.current).includes(CSS.escape(S.animationName));if(S.target===e&&E&&(d("ANIMATION_END"),!a.current)){const M=e.style.animationFillMode;e.style.animationFillMode="forwards",p=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=M)})}},v=S=>{S.target===e&&(c.current=pu(s.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{y.clearTimeout(p),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:R.useCallback(p=>{s.current=p?getComputedStyle(p):null,n(p)},[])}}function pu(t){return t?.animationName||"none"}function W6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var eO=pA[" useInsertionEffect ".trim().toString()]||jr;function VS({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[a,c,u]=tO({defaultProp:e,onChange:n}),f=t!==void 0,d=f?t:a;{const y=R.useRef(t!==void 0);R.useEffect(()=>{const g=y.current;g!==f&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=f},[f,s])}const p=R.useCallback(y=>{if(f){const g=nO(y)?y(t):y;g!==t&&u.current?.(g)}else c(y)},[f,t,c,u]);return[d,p]}function tO({defaultProp:t,onChange:e}){const[n,s]=R.useState(t),a=R.useRef(n),c=R.useRef(e);return eO(()=>{c.current=e},[e]),R.useEffect(()=>{a.current!==n&&(c.current?.(n),a.current=n)},[n,a]),[n,s,c]}function nO(t){return typeof t=="function"}var rO=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),sO="VisuallyHidden",Af=R.forwardRef((t,e)=>b.jsx(Bt.span,{...t,ref:e,style:{...rO,...t.style}}));Af.displayName=sO;var iO=Af,uy="ToastProvider",[fy,aO,oO]=US("Toast"),[qS]=Pi("Toast",[oO]),[cO,Of]=qS(uy),FS=t=>{const{__scopeToast:e,label:n="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:c=50,children:u}=t,[f,d]=R.useState(null),[p,y]=R.useState(0),g=R.useRef(!1),v=R.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${uy}\`. Expected non-empty \`string\`.`),b.jsx(fy.Provider,{scope:e,children:b.jsx(cO,{scope:e,label:n,duration:s,swipeDirection:a,swipeThreshold:c,toastCount:p,viewport:f,onViewportChange:d,onToastAdd:R.useCallback(()=>y(S=>S+1),[]),onToastRemove:R.useCallback(()=>y(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:v,children:u})})};FS.displayName=uy;var YS="ToastViewport",lO=["F8"],cm="toast.viewportPause",lm="toast.viewportResume",GS=R.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:s=lO,label:a="Notifications ({hotkey})",...c}=t,u=Of(YS,n),f=aO(n),d=R.useRef(null),p=R.useRef(null),y=R.useRef(null),g=R.useRef(null),v=an(e,g,u.onViewportChange),S=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=u.toastCount>0;R.useEffect(()=>{const M=P=>{s.length!==0&&s.every(k=>P[k]||P.code===k)&&g.current?.focus()};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[s]),R.useEffect(()=>{const M=d.current,P=g.current;if(C&&M&&P){const D=()=>{if(!u.isClosePausedRef.current){const X=new CustomEvent(cm);P.dispatchEvent(X),u.isClosePausedRef.current=!0}},k=()=>{if(u.isClosePausedRef.current){const X=new CustomEvent(lm);P.dispatchEvent(X),u.isClosePausedRef.current=!1}},j=X=>{!M.contains(X.relatedTarget)&&k()},G=()=>{M.contains(document.activeElement)||k()};return M.addEventListener("focusin",D),M.addEventListener("focusout",j),M.addEventListener("pointermove",D),M.addEventListener("pointerleave",G),window.addEventListener("blur",D),window.addEventListener("focus",k),()=>{M.removeEventListener("focusin",D),M.removeEventListener("focusout",j),M.removeEventListener("pointermove",D),M.removeEventListener("pointerleave",G),window.removeEventListener("blur",D),window.removeEventListener("focus",k)}}},[C,u.isClosePausedRef]);const E=R.useCallback(({tabbingDirection:M})=>{const D=f().map(k=>{const j=k.ref.current,G=[j,..._O(j)];return M==="forwards"?G:G.reverse()});return(M==="forwards"?D.reverse():D).flat()},[f]);return R.useEffect(()=>{const M=g.current;if(M){const P=D=>{const k=D.altKey||D.ctrlKey||D.metaKey;if(D.key==="Tab"&&!k){const G=document.activeElement,X=D.shiftKey;if(D.target===M&&X){p.current?.focus();return}const pe=E({tabbingDirection:X?"backwards":"forwards"}),xe=pe.findIndex(_e=>_e===G);vp(pe.slice(xe+1))?D.preventDefault():X?p.current?.focus():y.current?.focus()}};return M.addEventListener("keydown",P),()=>M.removeEventListener("keydown",P)}},[f,E]),b.jsxs(X6,{ref:d,role:"region","aria-label":a.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&b.jsx(um,{ref:p,onFocusFromOutsideViewport:()=>{const M=E({tabbingDirection:"forwards"});vp(M)}}),b.jsx(fy.Slot,{scope:n,children:b.jsx(Bt.ol,{tabIndex:-1,...c,ref:v})}),C&&b.jsx(um,{ref:y,onFocusFromOutsideViewport:()=>{const M=E({tabbingDirection:"backwards"});vp(M)}})]})});GS.displayName=YS;var KS="ToastFocusProxy",um=R.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...a}=t,c=Of(KS,n);return b.jsx(Af,{tabIndex:0,...a,ref:e,style:{position:"fixed"},onFocus:u=>{const f=u.relatedTarget;!c.viewport?.contains(f)&&s()}})});um.displayName=KS;var Yc="Toast",uO="toast.swipeStart",fO="toast.swipeMove",dO="toast.swipeCancel",hO="toast.swipeEnd",XS=R.forwardRef((t,e)=>{const{forceMount:n,open:s,defaultOpen:a,onOpenChange:c,...u}=t,[f,d]=VS({prop:s,defaultProp:a??!0,onChange:c,caller:Yc});return b.jsx(da,{present:n||f,children:b.jsx(yO,{open:f,...u,ref:e,onClose:()=>d(!1),onPause:Fn(t.onPause),onResume:Fn(t.onResume),onSwipeStart:Lt(t.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Lt(t.onSwipeMove,p=>{const{x:y,y:g}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:Lt(t.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Lt(t.onSwipeEnd,p=>{const{x:y,y:g}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),d(!1)})})})});XS.displayName=Yc;var[pO,mO]=qS(Yc,{onClose(){}}),yO=R.forwardRef((t,e)=>{const{__scopeToast:n,type:s="foreground",duration:a,open:c,onClose:u,onEscapeKeyDown:f,onPause:d,onResume:p,onSwipeStart:y,onSwipeMove:g,onSwipeCancel:v,onSwipeEnd:S,...C}=t,E=Of(Yc,n),[M,P]=R.useState(null),D=an(e,ge=>P(ge)),k=R.useRef(null),j=R.useRef(null),G=a||E.duration,X=R.useRef(0),Y=R.useRef(G),K=R.useRef(0),{onToastAdd:pe,onToastRemove:xe}=E,_e=Fn(()=>{M?.contains(document.activeElement)&&E.viewport?.focus(),u()}),Ce=R.useCallback(ge=>{!ge||ge===1/0||(window.clearTimeout(K.current),X.current=new Date().getTime(),K.current=window.setTimeout(_e,ge))},[_e]);R.useEffect(()=>{const ge=E.viewport;if(ge){const Ue=()=>{Ce(Y.current),p?.()},B=()=>{const ie=new Date().getTime()-X.current;Y.current=Y.current-ie,window.clearTimeout(K.current),d?.()};return ge.addEventListener(cm,B),ge.addEventListener(lm,Ue),()=>{ge.removeEventListener(cm,B),ge.removeEventListener(lm,Ue)}}},[E.viewport,G,d,p,Ce]),R.useEffect(()=>{c&&!E.isClosePausedRef.current&&Ce(G)},[c,G,E.isClosePausedRef,Ce]),R.useEffect(()=>(pe(),()=>xe()),[pe,xe]);const Re=R.useMemo(()=>M?n_(M):null,[M]);return E.viewport?b.jsxs(b.Fragment,{children:[Re&&b.jsx(gO,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite",children:Re}),b.jsx(pO,{scope:n,onClose:_e,children:Fc.createPortal(b.jsx(fy.ItemSlot,{scope:n,children:b.jsx(K6,{asChild:!0,onEscapeKeyDown:Lt(f,()=>{E.isFocusedToastEscapeKeyDownRef.current||_e(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:b.jsx(Bt.li,{tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":E.swipeDirection,...C,ref:D,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Lt(t.onKeyDown,ge=>{ge.key==="Escape"&&(f?.(ge.nativeEvent),ge.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,_e()))}),onPointerDown:Lt(t.onPointerDown,ge=>{ge.button===0&&(k.current={x:ge.clientX,y:ge.clientY})}),onPointerMove:Lt(t.onPointerMove,ge=>{if(!k.current)return;const Ue=ge.clientX-k.current.x,B=ge.clientY-k.current.y,ie=!!j.current,$=["left","right"].includes(E.swipeDirection),Ee=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,ke=$?Ee(0,Ue):0,I=$?0:Ee(0,B),re=ge.pointerType==="touch"?10:2,le={x:ke,y:I},ve={originalEvent:ge,delta:le};ie?(j.current=le,mu(fO,g,ve,{discrete:!1})):Ob(le,E.swipeDirection,re)?(j.current=le,mu(uO,y,ve,{discrete:!1}),ge.target.setPointerCapture(ge.pointerId)):(Math.abs(Ue)>re||Math.abs(B)>re)&&(k.current=null)}),onPointerUp:Lt(t.onPointerUp,ge=>{const Ue=j.current,B=ge.target;if(B.hasPointerCapture(ge.pointerId)&&B.releasePointerCapture(ge.pointerId),j.current=null,k.current=null,Ue){const ie=ge.currentTarget,$={originalEvent:ge,delta:Ue};Ob(Ue,E.swipeDirection,E.swipeThreshold)?mu(hO,S,$,{discrete:!0}):mu(dO,v,$,{discrete:!0}),ie.addEventListener("click",Ee=>Ee.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),gO=t=>{const{__scopeToast:e,children:n,...s}=t,a=Of(Yc,e),[c,u]=R.useState(!1),[f,d]=R.useState(!1);return bO(()=>u(!0)),R.useEffect(()=>{const p=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(p)},[]),f?null:b.jsx($S,{asChild:!0,children:b.jsx(Af,{...s,children:c&&b.jsxs(b.Fragment,{children:[a.label," ",n]})})})},vO="ToastTitle",QS=R.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return b.jsx(Bt.div,{...s,ref:e})});QS.displayName=vO;var xO="ToastDescription",ZS=R.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return b.jsx(Bt.div,{...s,ref:e})});ZS.displayName=xO;var JS="ToastAction",WS=R.forwardRef((t,e)=>{const{altText:n,...s}=t;return n.trim()?b.jsx(t_,{altText:n,asChild:!0,children:b.jsx(dy,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${JS}\`. Expected non-empty \`string\`.`),null)});WS.displayName=JS;var e_="ToastClose",dy=R.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t,a=mO(e_,n);return b.jsx(t_,{asChild:!0,children:b.jsx(Bt.button,{type:"button",...s,ref:e,onClick:Lt(t.onClick,a.onClose)})})});dy.displayName=e_;var t_=R.forwardRef((t,e)=>{const{__scopeToast:n,altText:s,...a}=t;return b.jsx(Bt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:e})});function n_(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),SO(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",c=s.dataset.radixToastAnnounceExclude==="";if(!a)if(c){const u=s.dataset.radixToastAnnounceAlt;u&&e.push(u)}else e.push(...n_(s))}}),e}function mu(t,e,n,{discrete:s}){const a=n.originalEvent.currentTarget,c=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&a.addEventListener(t,e,{once:!0}),s?IS(a,c):a.dispatchEvent(c)}var Ob=(t,e,n=0)=>{const s=Math.abs(t.x),a=Math.abs(t.y),c=s>a;return e==="left"||e==="right"?c&&s>n:!c&&a>n};function bO(t=()=>{}){const e=Fn(t);jr(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[e])}function SO(t){return t.nodeType===t.ELEMENT_NODE}function _O(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function vp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var wO=FS,r_=GS,s_=XS,i_=QS,a_=ZS,o_=WS,c_=dy;function l_(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=l_(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function u_(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=l_(t))&&(s&&(s+=" "),s+=e);return s}const Mb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Nb=u_,Mf=(t,e)=>n=>{var s;if(e?.variants==null)return Nb(t,n?.class,n?.className);const{variants:a,defaultVariants:c}=e,u=Object.keys(a).map(p=>{const y=n?.[p],g=c?.[p];if(y===null)return null;const v=Mb(y)||Mb(g);return a[p][v]}),f=n&&Object.entries(n).reduce((p,y)=>{let[g,v]=y;return v===void 0||(p[g]=v),p},{}),d=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((p,y)=>{let{class:g,className:v,...S}=y;return Object.entries(S).every(C=>{let[E,M]=C;return Array.isArray(M)?M.includes({...c,...f}[E]):{...c,...f}[E]===M})?[...p,g,v]:p},[]);return Nb(t,u,d,n?.class,n?.className)};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Pb=t=>{const e=EO(t);return e.charAt(0).toUpperCase()+e.slice(1)},f_=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),TO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:c,iconNode:u,...f},d)=>R.createElement("svg",{ref:d,...RO,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:f_("lucide",a),...!c&&!TO(f)&&{"aria-hidden":"true"},...f},[...u.map(([p,y])=>R.createElement(p,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=(t,e)=>{const n=R.forwardRef(({className:s,...a},c)=>R.createElement(AO,{ref:c,iconNode:e,className:f_(`lucide-${CO(Pb(t))}`,`lucide-${t}`,s),...a}));return n.displayName=Pb(t),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],MO=vn("check",OO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],PO=vn("circle-alert",NO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],d_=vn("circle-check-big",DO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],jO=vn("circle-check",kO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],h_=vn("circle",LO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],p_=vn("clock",UO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],zO=vn("copy",IO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],HO=vn("crown",BO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],VO=vn("eye-off",$O);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],FO=vn("eye",qO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],hy=vn("loader-circle",YO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Db=vn("message-square",GO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],XO=vn("moon",KO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],m_=vn("music",QO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],JO=vn("pause",ZO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],e3=vn("play",WO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],y_=vn("search",t3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],r3=vn("sun",n3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],fm=vn("trophy",s3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],a3=vn("users",i3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],c3=vn("x",o3),py="-",l3=t=>{const e=f3(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:u=>{const f=u.split(py);return f[0]===""&&f.length!==1&&f.shift(),g_(f,e)||u3(u)},getConflictingClassGroupIds:(u,f)=>{const d=n[u]||[];return f&&s[u]?[...d,...s[u]]:d}}},g_=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),a=s?g_(t.slice(1),s):void 0;if(a)return a;if(e.validators.length===0)return;const c=t.join(py);return e.validators.find(({validator:u})=>u(c))?.classGroupId},kb=/^\[(.+)\]$/,u3=t=>{if(kb.test(t)){const e=kb.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},f3=t=>{const{theme:e,classGroups:n}=t,s={nextPart:new Map,validators:[]};for(const a in n)dm(n[a],s,a,e);return s},dm=(t,e,n,s)=>{t.forEach(a=>{if(typeof a=="string"){const c=a===""?e:jb(e,a);c.classGroupId=n;return}if(typeof a=="function"){if(d3(a)){dm(a(s),e,n,s);return}e.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([c,u])=>{dm(u,jb(e,c),n,s)})})},jb=(t,e)=>{let n=t;return e.split(py).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},d3=t=>t.isThemeGetter,h3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const a=(c,u)=>{n.set(c,u),e++,e>t&&(e=0,s=n,n=new Map)};return{get(c){let u=n.get(c);if(u!==void 0)return u;if((u=s.get(c))!==void 0)return a(c,u),u},set(c,u){n.has(c)?n.set(c,u):a(c,u)}}},hm="!",pm=":",p3=pm.length,m3=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=a=>{const c=[];let u=0,f=0,d=0,p;for(let C=0;C<a.length;C++){let E=a[C];if(u===0&&f===0){if(E===pm){c.push(a.slice(d,C)),d=C+p3;continue}if(E==="/"){p=C;continue}}E==="["?u++:E==="]"?u--:E==="("?f++:E===")"&&f--}const y=c.length===0?a:a.substring(d),g=y3(y),v=g!==y,S=p&&p>d?p-d:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:S}};if(e){const a=e+pm,c=s;s=u=>u.startsWith(a)?c(u.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const a=s;s=c=>n({className:c,parseClassName:a})}return s},y3=t=>t.endsWith(hm)?t.substring(0,t.length-1):t.startsWith(hm)?t.substring(1):t,g3=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let c=[];return s.forEach(u=>{u[0]==="["||e[u]?(a.push(...c.sort(),u),c=[]):c.push(u)}),a.push(...c.sort()),a}},v3=t=>({cache:h3(t.cacheSize),parseClassName:m3(t),sortModifiers:g3(t),...l3(t)}),x3=/\s+/,b3=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:c}=e,u=[],f=t.trim().split(x3);let d="";for(let p=f.length-1;p>=0;p-=1){const y=f[p],{isExternal:g,modifiers:v,hasImportantModifier:S,baseClassName:C,maybePostfixModifierPosition:E}=n(y);if(g){d=y+(d.length>0?" "+d:d);continue}let M=!!E,P=s(M?C.substring(0,E):C);if(!P){if(!M){d=y+(d.length>0?" "+d:d);continue}if(P=s(C),!P){d=y+(d.length>0?" "+d:d);continue}M=!1}const D=c(v).join(":"),k=S?D+hm:D,j=k+P;if(u.includes(j))continue;u.push(j);const G=a(P,M);for(let X=0;X<G.length;++X){const Y=G[X];u.push(k+Y)}d=y+(d.length>0?" "+d:d)}return d};function S3(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=v_(e))&&(s&&(s+=" "),s+=n);return s}const v_=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=v_(t[s]))&&(n&&(n+=" "),n+=e);return n};function _3(t,...e){let n,s,a,c=u;function u(d){const p=e.reduce((y,g)=>g(y),t());return n=v3(p),s=n.cache.get,a=n.cache.set,c=f,f(d)}function f(d){const p=s(d);if(p)return p;const y=b3(d,n);return a(d,y),y}return function(){return c(S3.apply(null,arguments))}}const Mn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},x_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,b_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,w3=/^\d+\/\d+$/,C3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,E3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,T3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,R3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,A3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ga=t=>w3.test(t),_t=t=>!!t&&!Number.isNaN(Number(t)),Ci=t=>!!t&&Number.isInteger(Number(t)),xp=t=>t.endsWith("%")&&_t(t.slice(0,-1)),Vs=t=>C3.test(t),O3=()=>!0,M3=t=>E3.test(t)&&!T3.test(t),S_=()=>!1,N3=t=>R3.test(t),P3=t=>A3.test(t),D3=t=>!Fe(t)&&!Ye(t),k3=t=>ho(t,C_,S_),Fe=t=>x_.test(t),Xi=t=>ho(t,E_,M3),bp=t=>ho(t,z3,_t),Lb=t=>ho(t,__,S_),j3=t=>ho(t,w_,P3),yu=t=>ho(t,T_,N3),Ye=t=>b_.test(t),dc=t=>po(t,E_),L3=t=>po(t,B3),Ub=t=>po(t,__),U3=t=>po(t,C_),I3=t=>po(t,w_),gu=t=>po(t,T_,!0),ho=(t,e,n)=>{const s=x_.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},po=(t,e,n=!1)=>{const s=b_.exec(t);return s?s[1]?e(s[1]):n:!1},__=t=>t==="position"||t==="percentage",w_=t=>t==="image"||t==="url",C_=t=>t==="length"||t==="size"||t==="bg-size",E_=t=>t==="length",z3=t=>t==="number",B3=t=>t==="family-name",T_=t=>t==="shadow",H3=()=>{const t=Mn("color"),e=Mn("font"),n=Mn("text"),s=Mn("font-weight"),a=Mn("tracking"),c=Mn("leading"),u=Mn("breakpoint"),f=Mn("container"),d=Mn("spacing"),p=Mn("radius"),y=Mn("shadow"),g=Mn("inset-shadow"),v=Mn("text-shadow"),S=Mn("drop-shadow"),C=Mn("blur"),E=Mn("perspective"),M=Mn("aspect"),P=Mn("ease"),D=Mn("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],G=()=>[...j(),Ye,Fe],X=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto","contain","none"],K=()=>[Ye,Fe,d],pe=()=>[Ga,"full","auto",...K()],xe=()=>[Ci,"none","subgrid",Ye,Fe],_e=()=>["auto",{span:["full",Ci,Ye,Fe]},Ci,Ye,Fe],Ce=()=>[Ci,"auto",Ye,Fe],Re=()=>["auto","min","max","fr",Ye,Fe],ge=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ue=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...K()],ie=()=>[Ga,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...K()],$=()=>[t,Ye,Fe],Ee=()=>[...j(),Ub,Lb,{position:[Ye,Fe]}],ke=()=>["no-repeat",{repeat:["","x","y","space","round"]}],I=()=>["auto","cover","contain",U3,k3,{size:[Ye,Fe]}],re=()=>[xp,dc,Xi],le=()=>["","none","full",p,Ye,Fe],ve=()=>["",_t,dc,Xi],be=()=>["solid","dashed","dotted","double"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ne=()=>[_t,xp,Ub,Lb],it=()=>["","none",C,Ye,Fe],z=()=>["none",_t,Ye,Fe],J=()=>["none",_t,Ye,Fe],fe=()=>[_t,Ye,Fe],Pe=()=>[Ga,"full",...K()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Vs],breakpoint:[Vs],color:[O3],container:[Vs],"drop-shadow":[Vs],ease:["in","out","in-out"],font:[D3],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Vs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Vs],shadow:[Vs],spacing:["px",_t],text:[Vs],"text-shadow":[Vs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ga,Fe,Ye,M]}],container:["container"],columns:[{columns:[_t,Fe,Ye,f]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:G()}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:Y()}],"overscroll-x":[{"overscroll-x":Y()}],"overscroll-y":[{"overscroll-y":Y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:pe()}],"inset-x":[{"inset-x":pe()}],"inset-y":[{"inset-y":pe()}],start:[{start:pe()}],end:[{end:pe()}],top:[{top:pe()}],right:[{right:pe()}],bottom:[{bottom:pe()}],left:[{left:pe()}],visibility:["visible","invisible","collapse"],z:[{z:[Ci,"auto",Ye,Fe]}],basis:[{basis:[Ga,"full","auto",f,...K()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[_t,Ga,"auto","initial","none",Fe]}],grow:[{grow:["",_t,Ye,Fe]}],shrink:[{shrink:["",_t,Ye,Fe]}],order:[{order:[Ci,"first","last","none",Ye,Fe]}],"grid-cols":[{"grid-cols":xe()}],"col-start-end":[{col:_e()}],"col-start":[{"col-start":Ce()}],"col-end":[{"col-end":Ce()}],"grid-rows":[{"grid-rows":xe()}],"row-start-end":[{row:_e()}],"row-start":[{"row-start":Ce()}],"row-end":[{"row-end":Ce()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Re()}],"auto-rows":[{"auto-rows":Re()}],gap:[{gap:K()}],"gap-x":[{"gap-x":K()}],"gap-y":[{"gap-y":K()}],"justify-content":[{justify:[...ge(),"normal"]}],"justify-items":[{"justify-items":[...Ue(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ue()]}],"align-content":[{content:["normal",...ge()]}],"align-items":[{items:[...Ue(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ue(),{baseline:["","last"]}]}],"place-content":[{"place-content":ge()}],"place-items":[{"place-items":[...Ue(),"baseline"]}],"place-self":[{"place-self":["auto",...Ue()]}],p:[{p:K()}],px:[{px:K()}],py:[{py:K()}],ps:[{ps:K()}],pe:[{pe:K()}],pt:[{pt:K()}],pr:[{pr:K()}],pb:[{pb:K()}],pl:[{pl:K()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":K()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":K()}],"space-y-reverse":["space-y-reverse"],size:[{size:ie()}],w:[{w:[f,"screen",...ie()]}],"min-w":[{"min-w":[f,"screen","none",...ie()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...ie()]}],h:[{h:["screen","lh",...ie()]}],"min-h":[{"min-h":["screen","lh","none",...ie()]}],"max-h":[{"max-h":["screen","lh",...ie()]}],"font-size":[{text:["base",n,dc,Xi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Ye,bp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",xp,Fe]}],"font-family":[{font:[L3,Fe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ye,Fe]}],"line-clamp":[{"line-clamp":[_t,"none",Ye,bp]}],leading:[{leading:[c,...K()]}],"list-image":[{"list-image":["none",Ye,Fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ye,Fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[_t,"from-font","auto",Ye,Xi]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[_t,"auto",Ye,Fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:K()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye,Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye,Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ee()}],"bg-repeat":[{bg:ke()}],"bg-size":[{bg:I()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ci,Ye,Fe],radial:["",Ye,Fe],conic:[Ci,Ye,Fe]},I3,j3]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:re()}],"gradient-via-pos":[{via:re()}],"gradient-to-pos":[{to:re()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:ve()}],"border-w-x":[{"border-x":ve()}],"border-w-y":[{"border-y":ve()}],"border-w-s":[{"border-s":ve()}],"border-w-e":[{"border-e":ve()}],"border-w-t":[{"border-t":ve()}],"border-w-r":[{"border-r":ve()}],"border-w-b":[{"border-b":ve()}],"border-w-l":[{"border-l":ve()}],"divide-x":[{"divide-x":ve()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ve()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[_t,Ye,Fe]}],"outline-w":[{outline:["",_t,dc,Xi]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",y,gu,yu]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",g,gu,yu]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:ve()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[_t,Xi]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":ve()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",v,gu,yu]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[_t,Ye,Fe]}],"mix-blend":[{"mix-blend":[...Te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[_t]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ne()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":Ne()}],"mask-image-t-to-pos":[{"mask-t-to":Ne()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":Ne()}],"mask-image-r-to-pos":[{"mask-r-to":Ne()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":Ne()}],"mask-image-b-to-pos":[{"mask-b-to":Ne()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":Ne()}],"mask-image-l-to-pos":[{"mask-l-to":Ne()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":Ne()}],"mask-image-x-to-pos":[{"mask-x-to":Ne()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":Ne()}],"mask-image-y-to-pos":[{"mask-y-to":Ne()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[Ye,Fe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ne()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[_t]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ne()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ee()}],"mask-repeat":[{mask:ke()}],"mask-size":[{mask:I()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ye,Fe]}],filter:[{filter:["","none",Ye,Fe]}],blur:[{blur:it()}],brightness:[{brightness:[_t,Ye,Fe]}],contrast:[{contrast:[_t,Ye,Fe]}],"drop-shadow":[{"drop-shadow":["","none",S,gu,yu]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",_t,Ye,Fe]}],"hue-rotate":[{"hue-rotate":[_t,Ye,Fe]}],invert:[{invert:["",_t,Ye,Fe]}],saturate:[{saturate:[_t,Ye,Fe]}],sepia:[{sepia:["",_t,Ye,Fe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ye,Fe]}],"backdrop-blur":[{"backdrop-blur":it()}],"backdrop-brightness":[{"backdrop-brightness":[_t,Ye,Fe]}],"backdrop-contrast":[{"backdrop-contrast":[_t,Ye,Fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",_t,Ye,Fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_t,Ye,Fe]}],"backdrop-invert":[{"backdrop-invert":["",_t,Ye,Fe]}],"backdrop-opacity":[{"backdrop-opacity":[_t,Ye,Fe]}],"backdrop-saturate":[{"backdrop-saturate":[_t,Ye,Fe]}],"backdrop-sepia":[{"backdrop-sepia":["",_t,Ye,Fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":K()}],"border-spacing-x":[{"border-spacing-x":K()}],"border-spacing-y":[{"border-spacing-y":K()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ye,Fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[_t,"initial",Ye,Fe]}],ease:[{ease:["linear","initial",P,Ye,Fe]}],delay:[{delay:[_t,Ye,Fe]}],animate:[{animate:["none",D,Ye,Fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,Ye,Fe]}],"perspective-origin":[{"perspective-origin":G()}],rotate:[{rotate:z()}],"rotate-x":[{"rotate-x":z()}],"rotate-y":[{"rotate-y":z()}],"rotate-z":[{"rotate-z":z()}],scale:[{scale:J()}],"scale-x":[{"scale-x":J()}],"scale-y":[{"scale-y":J()}],"scale-z":[{"scale-z":J()}],"scale-3d":["scale-3d"],skew:[{skew:fe()}],"skew-x":[{"skew-x":fe()}],"skew-y":[{"skew-y":fe()}],transform:[{transform:[Ye,Fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:G()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Pe()}],"translate-x":[{"translate-x":Pe()}],"translate-y":[{"translate-y":Pe()}],"translate-z":[{"translate-z":Pe()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye,Fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye,Fe]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[_t,dc,Xi,bp]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},$3=_3(H3);function qt(...t){return $3(u_(t))}const V3={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},q3=/&(amp|lt|gt|quot|#39);/g;let Ib=null;function zb(t){if(!t)return"";if(typeof DOMParser<"u"){Ib??=new DOMParser;const n=Ib.parseFromString(t,"text/html").documentElement.textContent;if(n!==null)return n}return t.replace(q3,e=>V3[e]??e)}const F3=wO,R_=R.forwardRef(({className:t,...e},n)=>b.jsx(r_,{ref:n,className:qt("fixed top-0 z-100 flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));R_.displayName=r_.displayName;const Y3=Mf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-(--radix-toast-swipe-end-x) data-[swipe=move]:translate-x-(--radix-toast-swipe-move-x) data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),A_=R.forwardRef(({className:t,variant:e,...n},s)=>b.jsx(s_,{ref:s,className:qt(Y3({variant:e}),t),...n}));A_.displayName=s_.displayName;const G3=R.forwardRef(({className:t,...e},n)=>b.jsx(o_,{ref:n,className:qt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));G3.displayName=o_.displayName;const O_=R.forwardRef(({className:t,...e},n)=>b.jsx(c_,{ref:n,className:qt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:b.jsx(c3,{className:"h-4 w-4"})}));O_.displayName=c_.displayName;const M_=R.forwardRef(({className:t,...e},n)=>b.jsx(i_,{ref:n,className:qt("text-sm font-semibold",t),...e}));M_.displayName=i_.displayName;const N_=R.forwardRef(({className:t,...e},n)=>b.jsx(a_,{ref:n,className:qt("text-sm opacity-90",t),...e}));N_.displayName=a_.displayName;function K3(){const{toasts:t}=kS();return b.jsxs(F3,{children:[t.map(({id:e,title:n,description:s,action:a,...c})=>b.jsxs(A_,{...c,children:[b.jsxs("div",{className:"grid gap-1",children:[n&&b.jsx(M_,{children:n}),s&&b.jsx(N_,{children:s})]}),a,b.jsx(O_,{})]},e)),b.jsx(R_,{})]})}const X3=["top","right","bottom","left"],Mi=Math.min,br=Math.max,ef=Math.round,vu=Math.floor,us=t=>({x:t,y:t}),Q3={left:"right",right:"left",bottom:"top",top:"bottom"},Z3={start:"end",end:"start"};function mm(t,e,n){return br(t,Mi(e,n))}function Js(t,e){return typeof t=="function"?t(e):t}function Ws(t){return t.split("-")[0]}function mo(t){return t.split("-")[1]}function my(t){return t==="x"?"y":"x"}function yy(t){return t==="y"?"height":"width"}const J3=new Set(["top","bottom"]);function os(t){return J3.has(Ws(t))?"y":"x"}function gy(t){return my(os(t))}function W3(t,e,n){n===void 0&&(n=!1);const s=mo(t),a=gy(t),c=yy(a);let u=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[c]>e.floating[c]&&(u=tf(u)),[u,tf(u)]}function eM(t){const e=tf(t);return[ym(t),e,ym(e)]}function ym(t){return t.replace(/start|end/g,e=>Z3[e])}const Bb=["left","right"],Hb=["right","left"],tM=["top","bottom"],nM=["bottom","top"];function rM(t,e,n){switch(t){case"top":case"bottom":return n?e?Hb:Bb:e?Bb:Hb;case"left":case"right":return e?tM:nM;default:return[]}}function sM(t,e,n,s){const a=mo(t);let c=rM(Ws(t),n==="start",s);return a&&(c=c.map(u=>u+"-"+a),e&&(c=c.concat(c.map(ym)))),c}function tf(t){return t.replace(/left|right|bottom|top/g,e=>Q3[e])}function iM(t){return{top:0,right:0,bottom:0,left:0,...t}}function P_(t){return typeof t!="number"?iM(t):{top:t,right:t,bottom:t,left:t}}function nf(t){const{x:e,y:n,width:s,height:a}=t;return{width:s,height:a,top:n,left:e,right:e+s,bottom:n+a,x:e,y:n}}function $b(t,e,n){let{reference:s,floating:a}=t;const c=os(e),u=gy(e),f=yy(u),d=Ws(e),p=c==="y",y=s.x+s.width/2-a.width/2,g=s.y+s.height/2-a.height/2,v=s[f]/2-a[f]/2;let S;switch(d){case"top":S={x:y,y:s.y-a.height};break;case"bottom":S={x:y,y:s.y+s.height};break;case"right":S={x:s.x+s.width,y:g};break;case"left":S={x:s.x-a.width,y:g};break;default:S={x:s.x,y:s.y}}switch(mo(e)){case"start":S[u]-=v*(n&&p?-1:1);break;case"end":S[u]+=v*(n&&p?-1:1);break}return S}const aM=async(t,e,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:c=[],platform:u}=n,f=c.filter(Boolean),d=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:t,floating:e,strategy:a}),{x:y,y:g}=$b(p,s,d),v=s,S={},C=0;for(let E=0;E<f.length;E++){const{name:M,fn:P}=f[E],{x:D,y:k,data:j,reset:G}=await P({x:y,y:g,initialPlacement:s,placement:v,strategy:a,middlewareData:S,rects:p,platform:u,elements:{reference:t,floating:e}});y=D??y,g=k??g,S={...S,[M]:{...S[M],...j}},G&&C<=50&&(C++,typeof G=="object"&&(G.placement&&(v=G.placement),G.rects&&(p=G.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:a}):G.rects),{x:y,y:g}=$b(p,v,d)),E=-1)}return{x:y,y:g,placement:v,strategy:a,middlewareData:S}};async function kc(t,e){var n;e===void 0&&(e={});const{x:s,y:a,platform:c,rects:u,elements:f,strategy:d}=t,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:g="floating",altBoundary:v=!1,padding:S=0}=Js(e,t),C=P_(S),M=f[v?g==="floating"?"reference":"floating":g],P=nf(await c.getClippingRect({element:(n=await(c.isElement==null?void 0:c.isElement(M)))==null||n?M:M.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:p,rootBoundary:y,strategy:d})),D=g==="floating"?{x:s,y:a,width:u.floating.width,height:u.floating.height}:u.reference,k=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),j=await(c.isElement==null?void 0:c.isElement(k))?await(c.getScale==null?void 0:c.getScale(k))||{x:1,y:1}:{x:1,y:1},G=nf(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:D,offsetParent:k,strategy:d}):D);return{top:(P.top-G.top+C.top)/j.y,bottom:(G.bottom-P.bottom+C.bottom)/j.y,left:(P.left-G.left+C.left)/j.x,right:(G.right-P.right+C.right)/j.x}}const oM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:a,rects:c,platform:u,elements:f,middlewareData:d}=e,{element:p,padding:y=0}=Js(t,e)||{};if(p==null)return{};const g=P_(y),v={x:n,y:s},S=gy(a),C=yy(S),E=await u.getDimensions(p),M=S==="y",P=M?"top":"left",D=M?"bottom":"right",k=M?"clientHeight":"clientWidth",j=c.reference[C]+c.reference[S]-v[S]-c.floating[C],G=v[S]-c.reference[S],X=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let Y=X?X[k]:0;(!Y||!await(u.isElement==null?void 0:u.isElement(X)))&&(Y=f.floating[k]||c.floating[C]);const K=j/2-G/2,pe=Y/2-E[C]/2-1,xe=Mi(g[P],pe),_e=Mi(g[D],pe),Ce=xe,Re=Y-E[C]-_e,ge=Y/2-E[C]/2+K,Ue=mm(Ce,ge,Re),B=!d.arrow&&mo(a)!=null&&ge!==Ue&&c.reference[C]/2-(ge<Ce?xe:_e)-E[C]/2<0,ie=B?ge<Ce?ge-Ce:ge-Re:0;return{[S]:v[S]+ie,data:{[S]:Ue,centerOffset:ge-Ue-ie,...B&&{alignmentOffset:ie}},reset:B}}}),cM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:a,middlewareData:c,rects:u,initialPlacement:f,platform:d,elements:p}=e,{mainAxis:y=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:E=!0,...M}=Js(t,e);if((n=c.arrow)!=null&&n.alignmentOffset)return{};const P=Ws(a),D=os(f),k=Ws(f)===f,j=await(d.isRTL==null?void 0:d.isRTL(p.floating)),G=v||(k||!E?[tf(f)]:eM(f)),X=C!=="none";!v&&X&&G.push(...sM(f,E,C,j));const Y=[f,...G],K=await kc(e,M),pe=[];let xe=((s=c.flip)==null?void 0:s.overflows)||[];if(y&&pe.push(K[P]),g){const ge=W3(a,u,j);pe.push(K[ge[0]],K[ge[1]])}if(xe=[...xe,{placement:a,overflows:pe}],!pe.every(ge=>ge<=0)){var _e,Ce;const ge=(((_e=c.flip)==null?void 0:_e.index)||0)+1,Ue=Y[ge];if(Ue&&(!(g==="alignment"?D!==os(Ue):!1)||xe.every($=>os($.placement)===D?$.overflows[0]>0:!0)))return{data:{index:ge,overflows:xe},reset:{placement:Ue}};let B=(Ce=xe.filter(ie=>ie.overflows[0]<=0).sort((ie,$)=>ie.overflows[1]-$.overflows[1])[0])==null?void 0:Ce.placement;if(!B)switch(S){case"bestFit":{var Re;const ie=(Re=xe.filter($=>{if(X){const Ee=os($.placement);return Ee===D||Ee==="y"}return!0}).map($=>[$.placement,$.overflows.filter(Ee=>Ee>0).reduce((Ee,ke)=>Ee+ke,0)]).sort(($,Ee)=>$[1]-Ee[1])[0])==null?void 0:Re[0];ie&&(B=ie);break}case"initialPlacement":B=f;break}if(a!==B)return{reset:{placement:B}}}return{}}}};function Vb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function qb(t){return X3.some(e=>t[e]>=0)}const lM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...a}=Js(t,e);switch(s){case"referenceHidden":{const c=await kc(e,{...a,elementContext:"reference"}),u=Vb(c,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:qb(u)}}}case"escaped":{const c=await kc(e,{...a,altBoundary:!0}),u=Vb(c,n.floating);return{data:{escapedOffsets:u,escaped:qb(u)}}}default:return{}}}}},D_=new Set(["left","top"]);async function uM(t,e){const{placement:n,platform:s,elements:a}=t,c=await(s.isRTL==null?void 0:s.isRTL(a.floating)),u=Ws(n),f=mo(n),d=os(n)==="y",p=D_.has(u)?-1:1,y=c&&d?-1:1,g=Js(e,t);let{mainAxis:v,crossAxis:S,alignmentAxis:C}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return f&&typeof C=="number"&&(S=f==="end"?C*-1:C),d?{x:S*y,y:v*p}:{x:v*p,y:S*y}}const fM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:a,y:c,placement:u,middlewareData:f}=e,d=await uM(e,t);return u===((n=f.offset)==null?void 0:n.placement)&&(s=f.arrow)!=null&&s.alignmentOffset?{}:{x:a+d.x,y:c+d.y,data:{...d,placement:u}}}}},dM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:a}=e,{mainAxis:c=!0,crossAxis:u=!1,limiter:f={fn:M=>{let{x:P,y:D}=M;return{x:P,y:D}}},...d}=Js(t,e),p={x:n,y:s},y=await kc(e,d),g=os(Ws(a)),v=my(g);let S=p[v],C=p[g];if(c){const M=v==="y"?"top":"left",P=v==="y"?"bottom":"right",D=S+y[M],k=S-y[P];S=mm(D,S,k)}if(u){const M=g==="y"?"top":"left",P=g==="y"?"bottom":"right",D=C+y[M],k=C-y[P];C=mm(D,C,k)}const E=f.fn({...e,[v]:S,[g]:C});return{...E,data:{x:E.x-n,y:E.y-s,enabled:{[v]:c,[g]:u}}}}}},hM=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:a,rects:c,middlewareData:u}=e,{offset:f=0,mainAxis:d=!0,crossAxis:p=!0}=Js(t,e),y={x:n,y:s},g=os(a),v=my(g);let S=y[v],C=y[g];const E=Js(f,e),M=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(d){const k=v==="y"?"height":"width",j=c.reference[v]-c.floating[k]+M.mainAxis,G=c.reference[v]+c.reference[k]-M.mainAxis;S<j?S=j:S>G&&(S=G)}if(p){var P,D;const k=v==="y"?"width":"height",j=D_.has(Ws(a)),G=c.reference[g]-c.floating[k]+(j&&((P=u.offset)==null?void 0:P[g])||0)+(j?0:M.crossAxis),X=c.reference[g]+c.reference[k]+(j?0:((D=u.offset)==null?void 0:D[g])||0)-(j?M.crossAxis:0);C<G?C=G:C>X&&(C=X)}return{[v]:S,[g]:C}}}},pM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:a,rects:c,platform:u,elements:f}=e,{apply:d=()=>{},...p}=Js(t,e),y=await kc(e,p),g=Ws(a),v=mo(a),S=os(a)==="y",{width:C,height:E}=c.floating;let M,P;g==="top"||g==="bottom"?(M=g,P=v===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(P=g,M=v==="end"?"top":"bottom");const D=E-y.top-y.bottom,k=C-y.left-y.right,j=Mi(E-y[M],D),G=Mi(C-y[P],k),X=!e.middlewareData.shift;let Y=j,K=G;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(K=k),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(Y=D),X&&!v){const xe=br(y.left,0),_e=br(y.right,0),Ce=br(y.top,0),Re=br(y.bottom,0);S?K=C-2*(xe!==0||_e!==0?xe+_e:br(y.left,y.right)):Y=E-2*(Ce!==0||Re!==0?Ce+Re:br(y.top,y.bottom))}await d({...e,availableWidth:K,availableHeight:Y});const pe=await u.getDimensions(f.floating);return C!==pe.width||E!==pe.height?{reset:{rects:!0}}:{}}}};function Nf(){return typeof window<"u"}function yo(t){return k_(t)?(t.nodeName||"").toLowerCase():"#document"}function Sr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function gs(t){var e;return(e=(k_(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function k_(t){return Nf()?t instanceof Node||t instanceof Sr(t).Node:!1}function Kr(t){return Nf()?t instanceof Element||t instanceof Sr(t).Element:!1}function ms(t){return Nf()?t instanceof HTMLElement||t instanceof Sr(t).HTMLElement:!1}function Fb(t){return!Nf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Sr(t).ShadowRoot}const mM=new Set(["inline","contents"]);function Gc(t){const{overflow:e,overflowX:n,overflowY:s,display:a}=Xr(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!mM.has(a)}const yM=new Set(["table","td","th"]);function gM(t){return yM.has(yo(t))}const vM=[":popover-open",":modal"];function Pf(t){return vM.some(e=>{try{return t.matches(e)}catch{return!1}})}const xM=["transform","translate","scale","rotate","perspective"],bM=["transform","translate","scale","rotate","perspective","filter"],SM=["paint","layout","strict","content"];function vy(t){const e=xy(),n=Kr(t)?Xr(t):t;return xM.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||bM.some(s=>(n.willChange||"").includes(s))||SM.some(s=>(n.contain||"").includes(s))}function _M(t){let e=Ni(t);for(;ms(e)&&!ao(e);){if(vy(e))return e;if(Pf(e))return null;e=Ni(e)}return null}function xy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wM=new Set(["html","body","#document"]);function ao(t){return wM.has(yo(t))}function Xr(t){return Sr(t).getComputedStyle(t)}function Df(t){return Kr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ni(t){if(yo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Fb(t)&&t.host||gs(t);return Fb(e)?e.host:e}function j_(t){const e=Ni(t);return ao(e)?t.ownerDocument?t.ownerDocument.body:t.body:ms(e)&&Gc(e)?e:j_(e)}function jc(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const a=j_(t),c=a===((s=t.ownerDocument)==null?void 0:s.body),u=Sr(a);if(c){const f=gm(u);return e.concat(u,u.visualViewport||[],Gc(a)?a:[],f&&n?jc(f):[])}return e.concat(a,jc(a,[],n))}function gm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function L_(t){const e=Xr(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const a=ms(t),c=a?t.offsetWidth:n,u=a?t.offsetHeight:s,f=ef(n)!==c||ef(s)!==u;return f&&(n=c,s=u),{width:n,height:s,$:f}}function by(t){return Kr(t)?t:t.contextElement}function Wa(t){const e=by(t);if(!ms(e))return us(1);const n=e.getBoundingClientRect(),{width:s,height:a,$:c}=L_(e);let u=(c?ef(n.width):n.width)/s,f=(c?ef(n.height):n.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const CM=us(0);function U_(t){const e=Sr(t);return!xy()||!e.visualViewport?CM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function EM(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Sr(t)?!1:e}function la(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),c=by(t);let u=us(1);e&&(s?Kr(s)&&(u=Wa(s)):u=Wa(t));const f=EM(c,n,s)?U_(c):us(0);let d=(a.left+f.x)/u.x,p=(a.top+f.y)/u.y,y=a.width/u.x,g=a.height/u.y;if(c){const v=Sr(c),S=s&&Kr(s)?Sr(s):s;let C=v,E=gm(C);for(;E&&s&&S!==C;){const M=Wa(E),P=E.getBoundingClientRect(),D=Xr(E),k=P.left+(E.clientLeft+parseFloat(D.paddingLeft))*M.x,j=P.top+(E.clientTop+parseFloat(D.paddingTop))*M.y;d*=M.x,p*=M.y,y*=M.x,g*=M.y,d+=k,p+=j,C=Sr(E),E=gm(C)}}return nf({width:y,height:g,x:d,y:p})}function kf(t,e){const n=Df(t).scrollLeft;return e?e.left+n:la(gs(t)).left+n}function I_(t,e){const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-kf(t,n),a=n.top+e.scrollTop;return{x:s,y:a}}function TM(t){let{elements:e,rect:n,offsetParent:s,strategy:a}=t;const c=a==="fixed",u=gs(s),f=e?Pf(e.floating):!1;if(s===u||f&&c)return n;let d={scrollLeft:0,scrollTop:0},p=us(1);const y=us(0),g=ms(s);if((g||!g&&!c)&&((yo(s)!=="body"||Gc(u))&&(d=Df(s)),ms(s))){const S=la(s);p=Wa(s),y.x=S.x+s.clientLeft,y.y=S.y+s.clientTop}const v=u&&!g&&!c?I_(u,d):us(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-d.scrollLeft*p.x+y.x+v.x,y:n.y*p.y-d.scrollTop*p.y+y.y+v.y}}function RM(t){return Array.from(t.getClientRects())}function AM(t){const e=gs(t),n=Df(t),s=t.ownerDocument.body,a=br(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),c=br(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let u=-n.scrollLeft+kf(t);const f=-n.scrollTop;return Xr(s).direction==="rtl"&&(u+=br(e.clientWidth,s.clientWidth)-a),{width:a,height:c,x:u,y:f}}const Yb=25;function OM(t,e){const n=Sr(t),s=gs(t),a=n.visualViewport;let c=s.clientWidth,u=s.clientHeight,f=0,d=0;if(a){c=a.width,u=a.height;const y=xy();(!y||y&&e==="fixed")&&(f=a.offsetLeft,d=a.offsetTop)}const p=kf(s);if(p<=0){const y=s.ownerDocument,g=y.body,v=getComputedStyle(g),S=y.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,C=Math.abs(s.clientWidth-g.clientWidth-S);C<=Yb&&(c-=C)}else p<=Yb&&(c+=p);return{width:c,height:u,x:f,y:d}}const MM=new Set(["absolute","fixed"]);function NM(t,e){const n=la(t,!0,e==="fixed"),s=n.top+t.clientTop,a=n.left+t.clientLeft,c=ms(t)?Wa(t):us(1),u=t.clientWidth*c.x,f=t.clientHeight*c.y,d=a*c.x,p=s*c.y;return{width:u,height:f,x:d,y:p}}function Gb(t,e,n){let s;if(e==="viewport")s=OM(t,n);else if(e==="document")s=AM(gs(t));else if(Kr(e))s=NM(e,n);else{const a=U_(t);s={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return nf(s)}function z_(t,e){const n=Ni(t);return n===e||!Kr(n)||ao(n)?!1:Xr(n).position==="fixed"||z_(n,e)}function PM(t,e){const n=e.get(t);if(n)return n;let s=jc(t,[],!1).filter(f=>Kr(f)&&yo(f)!=="body"),a=null;const c=Xr(t).position==="fixed";let u=c?Ni(t):t;for(;Kr(u)&&!ao(u);){const f=Xr(u),d=vy(u);!d&&f.position==="fixed"&&(a=null),(c?!d&&!a:!d&&f.position==="static"&&!!a&&MM.has(a.position)||Gc(u)&&!d&&z_(t,u))?s=s.filter(y=>y!==u):a=f,u=Ni(u)}return e.set(t,s),s}function DM(t){let{element:e,boundary:n,rootBoundary:s,strategy:a}=t;const u=[...n==="clippingAncestors"?Pf(e)?[]:PM(e,this._c):[].concat(n),s],f=u[0],d=u.reduce((p,y)=>{const g=Gb(e,y,a);return p.top=br(g.top,p.top),p.right=Mi(g.right,p.right),p.bottom=Mi(g.bottom,p.bottom),p.left=br(g.left,p.left),p},Gb(e,f,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function kM(t){const{width:e,height:n}=L_(t);return{width:e,height:n}}function jM(t,e,n){const s=ms(e),a=gs(e),c=n==="fixed",u=la(t,!0,c,e);let f={scrollLeft:0,scrollTop:0};const d=us(0);function p(){d.x=kf(a)}if(s||!s&&!c)if((yo(e)!=="body"||Gc(a))&&(f=Df(e)),s){const S=la(e,!0,c,e);d.x=S.x+e.clientLeft,d.y=S.y+e.clientTop}else a&&p();c&&!s&&a&&p();const y=a&&!s&&!c?I_(a,f):us(0),g=u.left+f.scrollLeft-d.x-y.x,v=u.top+f.scrollTop-d.y-y.y;return{x:g,y:v,width:u.width,height:u.height}}function Sp(t){return Xr(t).position==="static"}function Kb(t,e){if(!ms(t)||Xr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return gs(t)===n&&(n=n.ownerDocument.body),n}function B_(t,e){const n=Sr(t);if(Pf(t))return n;if(!ms(t)){let a=Ni(t);for(;a&&!ao(a);){if(Kr(a)&&!Sp(a))return a;a=Ni(a)}return n}let s=Kb(t,e);for(;s&&gM(s)&&Sp(s);)s=Kb(s,e);return s&&ao(s)&&Sp(s)&&!vy(s)?n:s||_M(t)||n}const LM=async function(t){const e=this.getOffsetParent||B_,n=this.getDimensions,s=await n(t.floating);return{reference:jM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function UM(t){return Xr(t).direction==="rtl"}const IM={convertOffsetParentRelativeRectToViewportRelativeRect:TM,getDocumentElement:gs,getClippingRect:DM,getOffsetParent:B_,getElementRects:LM,getClientRects:RM,getDimensions:kM,getScale:Wa,isElement:Kr,isRTL:UM};function H_(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function zM(t,e){let n=null,s;const a=gs(t);function c(){var f;clearTimeout(s),(f=n)==null||f.disconnect(),n=null}function u(f,d){f===void 0&&(f=!1),d===void 0&&(d=1),c();const p=t.getBoundingClientRect(),{left:y,top:g,width:v,height:S}=p;if(f||e(),!v||!S)return;const C=vu(g),E=vu(a.clientWidth-(y+v)),M=vu(a.clientHeight-(g+S)),P=vu(y),k={rootMargin:-C+"px "+-E+"px "+-M+"px "+-P+"px",threshold:br(0,Mi(1,d))||1};let j=!0;function G(X){const Y=X[0].intersectionRatio;if(Y!==d){if(!j)return u();Y?u(!1,Y):s=setTimeout(()=>{u(!1,1e-7)},1e3)}Y===1&&!H_(p,t.getBoundingClientRect())&&u(),j=!1}try{n=new IntersectionObserver(G,{...k,root:a.ownerDocument})}catch{n=new IntersectionObserver(G,k)}n.observe(t)}return u(!0),c}function BM(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,p=by(t),y=a||c?[...p?jc(p):[],...jc(e)]:[];y.forEach(P=>{a&&P.addEventListener("scroll",n,{passive:!0}),c&&P.addEventListener("resize",n)});const g=p&&f?zM(p,n):null;let v=-1,S=null;u&&(S=new ResizeObserver(P=>{let[D]=P;D&&D.target===p&&S&&(S.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var k;(k=S)==null||k.observe(e)})),n()}),p&&!d&&S.observe(p),S.observe(e));let C,E=d?la(t):null;d&&M();function M(){const P=la(t);E&&!H_(E,P)&&n(),E=P,C=requestAnimationFrame(M)}return n(),()=>{var P;y.forEach(D=>{a&&D.removeEventListener("scroll",n),c&&D.removeEventListener("resize",n)}),g?.(),(P=S)==null||P.disconnect(),S=null,d&&cancelAnimationFrame(C)}}const HM=fM,$M=dM,VM=cM,qM=pM,FM=lM,Xb=oM,YM=hM,GM=(t,e,n)=>{const s=new Map,a={platform:IM,...n},c={...a.platform,_c:s};return aM(t,e,{...a,platform:c})};var KM=typeof document<"u",XM=function(){},Du=KM?R.useLayoutEffect:XM;function rf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!rf(t[s],e[s]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,a[s]))return!1;for(s=n;s--!==0;){const c=a[s];if(!(c==="_owner"&&t.$$typeof)&&!rf(t[c],e[c]))return!1}return!0}return t!==t&&e!==e}function $_(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Qb(t,e){const n=$_(t);return Math.round(e*n)/n}function _p(t){const e=R.useRef(t);return Du(()=>{e.current=t}),e}function QM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:c,floating:u}={},transform:f=!0,whileElementsMounted:d,open:p}=t,[y,g]=R.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,S]=R.useState(s);rf(v,s)||S(s);const[C,E]=R.useState(null),[M,P]=R.useState(null),D=R.useCallback($=>{$!==X.current&&(X.current=$,E($))},[]),k=R.useCallback($=>{$!==Y.current&&(Y.current=$,P($))},[]),j=c||C,G=u||M,X=R.useRef(null),Y=R.useRef(null),K=R.useRef(y),pe=d!=null,xe=_p(d),_e=_p(a),Ce=_p(p),Re=R.useCallback(()=>{if(!X.current||!Y.current)return;const $={placement:e,strategy:n,middleware:v};_e.current&&($.platform=_e.current),GM(X.current,Y.current,$).then(Ee=>{const ke={...Ee,isPositioned:Ce.current!==!1};ge.current&&!rf(K.current,ke)&&(K.current=ke,Fc.flushSync(()=>{g(ke)}))})},[v,e,n,_e,Ce]);Du(()=>{p===!1&&K.current.isPositioned&&(K.current.isPositioned=!1,g($=>({...$,isPositioned:!1})))},[p]);const ge=R.useRef(!1);Du(()=>(ge.current=!0,()=>{ge.current=!1}),[]),Du(()=>{if(j&&(X.current=j),G&&(Y.current=G),j&&G){if(xe.current)return xe.current(j,G,Re);Re()}},[j,G,Re,xe,pe]);const Ue=R.useMemo(()=>({reference:X,floating:Y,setReference:D,setFloating:k}),[D,k]),B=R.useMemo(()=>({reference:j,floating:G}),[j,G]),ie=R.useMemo(()=>{const $={position:n,left:0,top:0};if(!B.floating)return $;const Ee=Qb(B.floating,y.x),ke=Qb(B.floating,y.y);return f?{...$,transform:"translate("+Ee+"px, "+ke+"px)",...$_(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Ee,top:ke}},[n,f,B.floating,y.x,y.y]);return R.useMemo(()=>({...y,update:Re,refs:Ue,elements:B,floatingStyles:ie}),[y,Re,Ue,B,ie])}const ZM=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:a}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?Xb({element:s.current,padding:a}).fn(n):{}:s?Xb({element:s,padding:a}).fn(n):{}}}},JM=(t,e)=>({...HM(t),options:[t,e]}),WM=(t,e)=>({...$M(t),options:[t,e]}),eN=(t,e)=>({...YM(t),options:[t,e]}),tN=(t,e)=>({...VM(t),options:[t,e]}),nN=(t,e)=>({...qM(t),options:[t,e]}),rN=(t,e)=>({...FM(t),options:[t,e]}),sN=(t,e)=>({...ZM(t),options:[t,e]});var iN="Arrow",V_=R.forwardRef((t,e)=>{const{children:n,width:s=10,height:a=5,...c}=t;return b.jsx(Bt.svg,{...c,ref:e,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:b.jsx("polygon",{points:"0,0 30,0 15,10"})})});V_.displayName=iN;var aN=V_;function q_(t){const[e,n]=R.useState(void 0);return jr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const c=a[0];let u,f;if("borderBoxSize"in c){const d=c.borderBoxSize,p=Array.isArray(d)?d[0]:d;u=p.inlineSize,f=p.blockSize}else u=t.offsetWidth,f=t.offsetHeight;n({width:u,height:f})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var F_="Popper",[Y_,G_]=Pi(F_),[i8,K_]=Y_(F_),X_="PopperAnchor",Q_=R.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...a}=t,c=K_(X_,n),u=R.useRef(null),f=an(e,u),d=R.useRef(null);return R.useEffect(()=>{const p=d.current;d.current=s?.current||u.current,p!==d.current&&c.onAnchorChange(d.current)}),s?null:b.jsx(Bt.div,{...a,ref:f})});Q_.displayName=X_;var Sy="PopperContent",[oN,cN]=Y_(Sy),Z_=R.forwardRef((t,e)=>{const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:c="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:d=!0,collisionBoundary:p=[],collisionPadding:y=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:S="optimized",onPlaced:C,...E}=t,M=K_(Sy,n),[P,D]=R.useState(null),k=an(e,Ne=>D(Ne)),[j,G]=R.useState(null),X=q_(j),Y=X?.width??0,K=X?.height??0,pe=s+(c!=="center"?"-"+c:""),xe=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},_e=Array.isArray(p)?p:[p],Ce=_e.length>0,Re={padding:xe,boundary:_e.filter(uN),altBoundary:Ce},{refs:ge,floatingStyles:Ue,placement:B,isPositioned:ie,middlewareData:$}=QM({strategy:"fixed",placement:pe,whileElementsMounted:(...Ne)=>BM(...Ne,{animationFrame:S==="always"}),elements:{reference:M.anchor},middleware:[JM({mainAxis:a+K,alignmentAxis:u}),d&&WM({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?eN():void 0,...Re}),d&&tN({...Re}),nN({...Re,apply:({elements:Ne,rects:it,availableWidth:z,availableHeight:J})=>{const{width:fe,height:Pe}=it.reference,ze=Ne.floating.style;ze.setProperty("--radix-popper-available-width",`${z}px`),ze.setProperty("--radix-popper-available-height",`${J}px`),ze.setProperty("--radix-popper-anchor-width",`${fe}px`),ze.setProperty("--radix-popper-anchor-height",`${Pe}px`)}}),j&&sN({element:j,padding:f}),fN({arrowWidth:Y,arrowHeight:K}),v&&rN({strategy:"referenceHidden",...Re})]}),[Ee,ke]=ew(B),I=Fn(C);jr(()=>{ie&&I?.()},[ie,I]);const re=$.arrow?.x,le=$.arrow?.y,ve=$.arrow?.centerOffset!==0,[be,Te]=R.useState();return jr(()=>{P&&Te(window.getComputedStyle(P).zIndex)},[P]),b.jsx("div",{ref:ge.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ue,transform:ie?Ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:b.jsx(oN,{scope:n,placedSide:Ee,onArrowChange:G,arrowX:re,arrowY:le,shouldHideArrow:ve,children:b.jsx(Bt.div,{"data-side":Ee,"data-align":ke,...E,ref:k,style:{...E.style,animation:ie?void 0:"none"}})})})});Z_.displayName=Sy;var J_="PopperArrow",lN={top:"bottom",right:"left",bottom:"top",left:"right"},W_=R.forwardRef(function(e,n){const{__scopePopper:s,...a}=e,c=cN(J_,s),u=lN[c.placedSide];return b.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:b.jsx(aN,{...a,ref:n,style:{...a.style,display:"block"}})})});W_.displayName=J_;function uN(t){return t!==null}var fN=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:s,middlewareData:a}=e,u=a.arrow?.centerOffset!==0,f=u?0:t.arrowWidth,d=u?0:t.arrowHeight,[p,y]=ew(n),g={start:"0%",center:"50%",end:"100%"}[y],v=(a.arrow?.x??0)+f/2,S=(a.arrow?.y??0)+d/2;let C="",E="";return p==="bottom"?(C=u?g:`${v}px`,E=`${-d}px`):p==="top"?(C=u?g:`${v}px`,E=`${s.floating.height+d}px`):p==="right"?(C=`${-d}px`,E=u?g:`${S}px`):p==="left"&&(C=`${s.floating.width+d}px`,E=u?g:`${S}px`),{data:{x:C,y:E}}}});function ew(t){const[e,n="center"]=t.split("-");return[e,n]}var dN=Q_,hN=Z_,pN=W_,[jf]=Pi("Tooltip",[G_]),_y=G_(),tw="TooltipProvider",mN=700,Zb="tooltip.open",[yN,nw]=jf(tw),rw=t=>{const{__scopeTooltip:e,delayDuration:n=mN,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:c}=t,u=R.useRef(!0),f=R.useRef(!1),d=R.useRef(0);return R.useEffect(()=>{const p=d.current;return()=>window.clearTimeout(p)},[]),b.jsx(yN,{scope:e,isOpenDelayedRef:u,delayDuration:n,onOpen:R.useCallback(()=>{window.clearTimeout(d.current),u.current=!1},[]),onClose:R.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>u.current=!0,s)},[s]),isPointerInTransitRef:f,onPointerInTransitChange:R.useCallback(p=>{f.current=p},[]),disableHoverableContent:a,children:c})};rw.displayName=tw;var sw="Tooltip",[a8,Lf]=jf(sw),vm="TooltipTrigger",gN=R.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,a=Lf(vm,n),c=nw(vm,n),u=_y(n),f=R.useRef(null),d=an(e,f,a.onTriggerChange),p=R.useRef(!1),y=R.useRef(!1),g=R.useCallback(()=>p.current=!1,[]);return R.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),b.jsx(dN,{asChild:!0,...u,children:b.jsx(Bt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:d,onPointerMove:Lt(t.onPointerMove,v=>{v.pointerType!=="touch"&&!y.current&&!c.isPointerInTransitRef.current&&(a.onTriggerEnter(),y.current=!0)}),onPointerLeave:Lt(t.onPointerLeave,()=>{a.onTriggerLeave(),y.current=!1}),onPointerDown:Lt(t.onPointerDown,()=>{a.open&&a.onClose(),p.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Lt(t.onFocus,()=>{p.current||a.onOpen()}),onBlur:Lt(t.onBlur,a.onClose),onClick:Lt(t.onClick,a.onClose)})})});gN.displayName=vm;var vN="TooltipPortal",[o8,xN]=jf(vN,{forceMount:void 0}),oo="TooltipContent",iw=R.forwardRef((t,e)=>{const n=xN(oo,t.__scopeTooltip),{forceMount:s=n.forceMount,side:a="top",...c}=t,u=Lf(oo,t.__scopeTooltip);return b.jsx(da,{present:s||u.open,children:u.disableHoverableContent?b.jsx(aw,{side:a,...c,ref:e}):b.jsx(bN,{side:a,...c,ref:e})})}),bN=R.forwardRef((t,e)=>{const n=Lf(oo,t.__scopeTooltip),s=nw(oo,t.__scopeTooltip),a=R.useRef(null),c=an(e,a),[u,f]=R.useState(null),{trigger:d,onClose:p}=n,y=a.current,{onPointerInTransitChange:g}=s,v=R.useCallback(()=>{f(null),g(!1)},[g]),S=R.useCallback((C,E)=>{const M=C.currentTarget,P={x:C.clientX,y:C.clientY},D=EN(P,M.getBoundingClientRect()),k=TN(P,D),j=RN(E.getBoundingClientRect()),G=ON([...k,...j]);f(G),g(!0)},[g]);return R.useEffect(()=>()=>v(),[v]),R.useEffect(()=>{if(d&&y){const C=M=>S(M,y),E=M=>S(M,d);return d.addEventListener("pointerleave",C),y.addEventListener("pointerleave",E),()=>{d.removeEventListener("pointerleave",C),y.removeEventListener("pointerleave",E)}}},[d,y,S,v]),R.useEffect(()=>{if(u){const C=E=>{const M=E.target,P={x:E.clientX,y:E.clientY},D=d?.contains(M)||y?.contains(M),k=!AN(P,u);D?v():k&&(v(),p())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[d,y,u,p,v]),b.jsx(aw,{...t,ref:c})}),[SN,_N]=jf(sw,{isInside:!1}),wN=L6("TooltipContent"),aw=R.forwardRef((t,e)=>{const{__scopeTooltip:n,children:s,"aria-label":a,onEscapeKeyDown:c,onPointerDownOutside:u,...f}=t,d=Lf(oo,n),p=_y(n),{onClose:y}=d;return R.useEffect(()=>(document.addEventListener(Zb,y),()=>document.removeEventListener(Zb,y)),[y]),R.useEffect(()=>{if(d.trigger){const g=v=>{v.target?.contains(d.trigger)&&y()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[d.trigger,y]),b.jsx(ly,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:g=>g.preventDefault(),onDismiss:y,children:b.jsxs(hN,{"data-state":d.stateAttribute,...p,...f,ref:e,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[b.jsx(wN,{children:s}),b.jsx(SN,{scope:n,isInside:!0,children:b.jsx(iO,{id:d.contentId,role:"tooltip",children:a||s})})]})})});iw.displayName=oo;var ow="TooltipArrow",CN=R.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,a=_y(n);return _N(ow,n).isInside?null:b.jsx(pN,{...a,...s,ref:e})});CN.displayName=ow;function EN(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),a=Math.abs(e.right-t.x),c=Math.abs(e.left-t.x);switch(Math.min(n,s,a,c)){case c:return"left";case a:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function TN(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function RN(t){const{top:e,right:n,bottom:s,left:a}=t;return[{x:a,y:e},{x:n,y:e},{x:n,y:s},{x:a,y:s}]}function AN(t,e){const{x:n,y:s}=t;let a=!1;for(let c=0,u=e.length-1;c<e.length;u=c++){const f=e[c],d=e[u],p=f.x,y=f.y,g=d.x,v=d.y;y>s!=v>s&&n<(g-p)*(s-y)/(v-y)+p&&(a=!a)}return a}function ON(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),MN(e)}function MN(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const a=t[s];for(;e.length>=2;){const c=e[e.length-1],u=e[e.length-2];if((c.x-u.x)*(a.y-u.y)>=(c.y-u.y)*(a.x-u.x))e.pop();else break}e.push(a)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const a=t[s];for(;n.length>=2;){const c=n[n.length-1],u=n[n.length-2];if((c.x-u.x)*(a.y-u.y)>=(c.y-u.y)*(a.x-u.x))n.pop();else break}n.push(a)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var NN=rw,cw=iw;const PN=NN,DN=R.forwardRef(({className:t,sideOffset:e=4,...n},s)=>b.jsx(cw,{ref:s,sideOffset:e,className:qt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--radix-tooltip-content-transform-origin)",t),...n}));DN.displayName=cw.displayName;const kN={theme:"dark",setTheme:()=>null},lw=R.createContext(kN);function jN({children:t,defaultTheme:e="dark",...n}){const[s,a]=R.useState(()=>localStorage.getItem("theme")||e);R.useEffect(()=>{const u=window.document.documentElement;u.classList.remove("light","dark"),u.classList.add(s)},[s]);const c={theme:s,setTheme:u=>{localStorage.setItem("theme",u),a(u)}};return b.jsx(lw.Provider,{...n,value:c,children:t})}const LN=()=>{const t=R.useContext(lw);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function UN(){return b.jsxs(C6,{client:R6,children:[b.jsx(jN,{defaultTheme:"dark",children:b.jsxs(PN,{children:[b.jsx(K3,{}),b.jsx(RS,{})]})}),null]})}const IN=Mf("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Tn=R.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...a},c)=>{const u=s?k6:"button";return b.jsx(u,{className:qt(IN({variant:e,size:n,className:t})),ref:c,...a})});Tn.displayName="Button";const Xs=R.forwardRef(({className:t,type:e,...n},s)=>b.jsx("input",{type:e,className:qt("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n}));Xs.displayName="Input";const sn=R.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:qt("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));sn.displayName="Card";const fn=R.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:qt("flex flex-col space-y-1.5 p-6",t),...e}));fn.displayName="CardHeader";const dn=R.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:qt("text-2xl font-semibold leading-none tracking-tight",t),...e}));dn.displayName="CardTitle";const Fr=R.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:qt("text-sm text-muted-foreground",t),...e}));Fr.displayName="CardDescription";const En=R.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:qt("p-6 pt-0",t),...e}));En.displayName="CardContent";const zN=R.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:qt("flex items-center p-6 pt-0",t),...e}));zN.displayName="CardFooter";function wy(){const{theme:t,setTheme:e}=LN();return b.jsxs(Tn,{variant:"ghost",size:"icon",onClick:()=>e(t==="light"?"dark":"light"),"data-testid":"button-theme-toggle",children:[b.jsx(r3,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),b.jsx(XO,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),b.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}function BN(t,e,n,s){const c=s?50:0,u=1-e/n,f=Math.floor(u*50);return 100+c+f}function HN(t,e){const n=t.toLowerCase().trim(),s=e.toLowerCase().trim();if(n===s)return!0;const a=n.replace(/[^\w\s]/g,"").replace(/\s+/g," "),c=s.replace(/[^\w\s]/g,"").replace(/\s+/g," ");return a===c}function $N(){const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let n=0;n<6;n++)e+=t[Math.floor(Math.random()*t.length)];return e}function VN(t){const e=["from-purple-500 to-pink-500","from-blue-500 to-cyan-500","from-green-500 to-emerald-500","from-orange-500 to-red-500","from-yellow-500 to-amber-500","from-indigo-500 to-purple-500","from-pink-500 to-rose-500","from-teal-500 to-green-500"];let n=0;for(let s=0;s<t.length;s++)n=t.charCodeAt(s)+((n<<5)-n);return e[Math.abs(n)%e.length]}function qN(t){const e=t.trim().split(" ");return e.length>=2?(e[0][0]+e[e.length-1][0]).toUpperCase():t.slice(0,2).toUpperCase()}function FN(){const t=Cf(),[e,n]=R.useState(""),[s,a]=R.useState(""),c=d=>{const p=d.trim();return p.length<2?(alert("Name must be at least 2 characters long"),null):p.length>24?(alert("Name must be 24 characters or fewer"),null):/^[\w\s'-]+$/.test(p)?p:(alert("Name can only contain letters, numbers, spaces, apostrophes, and hyphens"),null)},u=()=>{const d=c(s);if(!d)return;const p=$N();localStorage.setItem("playerName",d),typeof window<"u"&&(sessionStorage.setItem("musicshowdown.pendingRole","host"),sessionStorage.setItem("musicshowdown.lastRole","host")),t({to:"/music-showdown/game/$roomCode",params:{roomCode:p}})},f=()=>{const d=c(s);if(d){if(!e.trim()){alert("Please enter a room code");return}if(e.length!==6){alert("Room code must be 6 characters");return}localStorage.setItem("playerName",d),typeof window<"u"&&(sessionStorage.setItem("musicshowdown.pendingRole","peer"),sessionStorage.setItem("musicshowdown.lastRole","peer")),t({to:"/music-showdown/game/$roomCode",params:{roomCode:e.toUpperCase()}})}};return b.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-gradient-to-br from-emerald-50 via-emerald-100 to-emerald-200 text-foreground transition-colors dark:from-emerald-950 dark:via-emerald-900 dark:to-emerald-950",children:[b.jsx("div",{className:"absolute top-4 right-4 z-10",children:b.jsx(wy,{})}),b.jsx("div",{className:"relative z-10",children:b.jsxs("div",{className:"container mx-auto px-4 py-16",children:[b.jsxs("header",{className:"mx-auto max-w-3xl text-center",children:[b.jsx("h1",{className:"mb-4 text-5xl font-heading font-bold tracking-tight md:text-6xl",children:"Music Showdown"}),b.jsx("p",{className:"text-lg text-muted-foreground md:text-xl",children:"Pick a name, create or join a room, and start guessing songs with friends."})]}),b.jsx("section",{className:"mx-auto mt-12 max-w-4xl",children:b.jsxs(sn,{className:"w-full border border-emerald-200/60 bg-background/90 shadow-sm backdrop-blur-sm dark:border-emerald-800/60 dark:bg-card/90",children:[b.jsxs(fn,{children:[b.jsx(dn,{className:"text-2xl font-heading",children:"1. Choose your display name"}),b.jsx(Fr,{children:"Everyone in the room will see you by this name."})]}),b.jsx(En,{children:b.jsx(Xs,{placeholder:"Your name",value:s,onChange:d=>a(d.target.value),onKeyDown:d=>d.key==="Enter"&&u(),className:"text-lg","data-testid":"input-player-name"})})]})}),b.jsx("section",{className:"mx-auto mt-10 max-w-4xl",children:b.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[b.jsxs(sn,{className:"border border-emerald-200/60 bg-background/90 shadow-sm backdrop-blur-sm dark:border-emerald-800/60 dark:bg-card/90",children:[b.jsxs(fn,{children:[b.jsx(dn,{className:"text-xl font-heading",children:"2A. Host a new room"}),b.jsx(Fr,{children:"Create a room and share the code with your friends."})]}),b.jsx(En,{children:b.jsx(Tn,{onClick:u,size:"lg",className:"w-full text-lg font-semibold",disabled:!s.trim(),"data-testid":"button-create-room",children:"Create Room"})})]}),b.jsxs(sn,{className:"border border-emerald-200/60 bg-background/90 shadow-sm backdrop-blur-sm dark:border-emerald-800/60 dark:bg-card/90",children:[b.jsxs(fn,{children:[b.jsx(dn,{className:"text-xl font-heading",children:"2B. Join an existing room"}),b.jsx(Fr,{children:"Enter the room code shared by the host."})]}),b.jsxs(En,{className:"space-y-4",children:[b.jsx(Xs,{placeholder:"Room code",value:e,onChange:d=>n(d.target.value.toUpperCase()),onKeyDown:d=>d.key==="Enter"&&f(),className:"font-mono uppercase text-lg",maxLength:6,"data-testid":"input-room-code"}),b.jsx(Tn,{onClick:f,variant:"secondary",disabled:!s.trim()||!e.trim(),"data-testid":"button-join-room",children:"Join Room"})]})]})]})}),b.jsxs("section",{className:"mx-auto mt-16 max-w-5xl",children:[b.jsx("h2",{className:"mb-8 text-center text-3xl font-heading font-bold",children:"How to Play"}),b.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[{icon:a3,title:"1. Create Room",description:"Host creates a room and shares the code with friends"},{icon:m_,title:"2. Pick Songs",description:"Host sets a theme, players search YouTube for matching songs"},{icon:y_,title:"3. Guess Away",description:"Listen to each song and try to guess the title quickly"},{icon:fm,title:"4. Win Points",description:"First and fastest correct guesses earn the most points"}].map((d,p)=>b.jsx(sn,{className:"border border-emerald-200/60 bg-background/90 text-center shadow-sm backdrop-blur-sm dark:border-emerald-800/60 dark:bg-card/90",children:b.jsxs(fn,{className:"text-center",children:[b.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-emerald-200/60 dark:bg-emerald-900/40",children:b.jsx(d.icon,{className:"h-8 w-8 text-emerald-700 dark:text-emerald-300"})}),b.jsx(dn,{className:"text-lg font-heading",children:d.title}),b.jsx(Fr,{className:"text-sm",children:d.description})]})},p))})]})]})}),b.jsx("a",{className:"block px-4 pb-6 text-center text-xs text-muted-foreground/80",href:"https://www.flaticon.com/free-icons/music-note",title:"music note icons",children:"Music note icons created by Freepik - Flaticon"})]})}const YN=Mf("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border border-(--badge-outline) shadow-xs"}},defaultVariants:{variant:"default"}});function Ac({className:t,variant:e,...n}){return b.jsx("div",{className:qt(YN({variant:e}),t),...n})}function Cy(t,[e,n]){return Math.min(n,Math.max(e,t))}var GN=R.createContext(void 0);function uw(t){const e=R.useContext(GN);return t||e||"ltr"}function KN(t){const e=R.useRef({value:t,previous:t});return R.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var fw=["PageUp","PageDown"],dw=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],hw={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},go="Slider",[xm,XN,QN]=US(go),[pw]=Pi(go,[QN]),[ZN,Uf]=pw(go),mw=R.forwardRef((t,e)=>{const{name:n,min:s=0,max:a=100,step:c=1,orientation:u="horizontal",disabled:f=!1,minStepsBetweenThumbs:d=0,defaultValue:p=[s],value:y,onValueChange:g=()=>{},onValueCommit:v=()=>{},inverted:S=!1,form:C,...E}=t,M=R.useRef(new Set),P=R.useRef(0),k=u==="horizontal"?JN:WN,[j=[],G]=VS({prop:y,defaultProp:p,onChange:_e=>{[...M.current][P.current]?.focus(),g(_e)}}),X=R.useRef(j);function Y(_e){const Ce=sP(j,_e);xe(_e,Ce)}function K(_e){xe(_e,P.current)}function pe(){const _e=X.current[P.current];j[P.current]!==_e&&v(j)}function xe(_e,Ce,{commit:Re}={commit:!1}){const ge=cP(c),Ue=lP(Math.round((_e-s)/c)*c+s,ge),B=Cy(Ue,[s,a]);G((ie=[])=>{const $=nP(ie,B,Ce);if(oP($,d*c)){P.current=$.indexOf(B);const Ee=String($)!==String(ie);return Ee&&Re&&v($),Ee?$:ie}else return ie})}return b.jsx(ZN,{scope:t.__scopeSlider,name:n,disabled:f,min:s,max:a,valueIndexToChangeRef:P,thumbs:M.current,values:j,orientation:u,form:C,children:b.jsx(xm.Provider,{scope:t.__scopeSlider,children:b.jsx(xm.Slot,{scope:t.__scopeSlider,children:b.jsx(k,{"aria-disabled":f,"data-disabled":f?"":void 0,...E,ref:e,onPointerDown:Lt(E.onPointerDown,()=>{f||(X.current=j)}),min:s,max:a,inverted:S,onSlideStart:f?void 0:Y,onSlideMove:f?void 0:K,onSlideEnd:f?void 0:pe,onHomeKeyDown:()=>!f&&xe(s,0,{commit:!0}),onEndKeyDown:()=>!f&&xe(a,j.length-1,{commit:!0}),onStepKeyDown:({event:_e,direction:Ce})=>{if(!f){const Ue=fw.includes(_e.key)||_e.shiftKey&&dw.includes(_e.key)?10:1,B=P.current,ie=j[B],$=c*Ue*Ce;xe(ie+$,B,{commit:!0})}}})})})})});mw.displayName=go;var[yw,gw]=pw(go,{startEdge:"left",endEdge:"right",size:"width",direction:1}),JN=R.forwardRef((t,e)=>{const{min:n,max:s,dir:a,inverted:c,onSlideStart:u,onSlideMove:f,onSlideEnd:d,onStepKeyDown:p,...y}=t,[g,v]=R.useState(null),S=an(e,k=>v(k)),C=R.useRef(void 0),E=uw(a),M=E==="ltr",P=M&&!c||!M&&c;function D(k){const j=C.current||g.getBoundingClientRect(),G=[0,j.width],Y=Ey(G,P?[n,s]:[s,n]);return C.current=j,Y(k-j.left)}return b.jsx(yw,{scope:t.__scopeSlider,startEdge:P?"left":"right",endEdge:P?"right":"left",direction:P?1:-1,size:"width",children:b.jsx(vw,{dir:E,"data-orientation":"horizontal",...y,ref:S,style:{...y.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:k=>{const j=D(k.clientX);u?.(j)},onSlideMove:k=>{const j=D(k.clientX);f?.(j)},onSlideEnd:()=>{C.current=void 0,d?.()},onStepKeyDown:k=>{const G=hw[P?"from-left":"from-right"].includes(k.key);p?.({event:k,direction:G?-1:1})}})})}),WN=R.forwardRef((t,e)=>{const{min:n,max:s,inverted:a,onSlideStart:c,onSlideMove:u,onSlideEnd:f,onStepKeyDown:d,...p}=t,y=R.useRef(null),g=an(e,y),v=R.useRef(void 0),S=!a;function C(E){const M=v.current||y.current.getBoundingClientRect(),P=[0,M.height],k=Ey(P,S?[s,n]:[n,s]);return v.current=M,k(E-M.top)}return b.jsx(yw,{scope:t.__scopeSlider,startEdge:S?"bottom":"top",endEdge:S?"top":"bottom",size:"height",direction:S?1:-1,children:b.jsx(vw,{"data-orientation":"vertical",...p,ref:g,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:E=>{const M=C(E.clientY);c?.(M)},onSlideMove:E=>{const M=C(E.clientY);u?.(M)},onSlideEnd:()=>{v.current=void 0,f?.()},onStepKeyDown:E=>{const P=hw[S?"from-bottom":"from-top"].includes(E.key);d?.({event:E,direction:P?-1:1})}})})}),vw=R.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:a,onSlideEnd:c,onHomeKeyDown:u,onEndKeyDown:f,onStepKeyDown:d,...p}=t,y=Uf(go,n);return b.jsx(Bt.span,{...p,ref:e,onKeyDown:Lt(t.onKeyDown,g=>{g.key==="Home"?(u(g),g.preventDefault()):g.key==="End"?(f(g),g.preventDefault()):fw.concat(dw).includes(g.key)&&(d(g),g.preventDefault())}),onPointerDown:Lt(t.onPointerDown,g=>{const v=g.target;v.setPointerCapture(g.pointerId),g.preventDefault(),y.thumbs.has(v)?v.focus():s(g)}),onPointerMove:Lt(t.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&a(g)}),onPointerUp:Lt(t.onPointerUp,g=>{const v=g.target;v.hasPointerCapture(g.pointerId)&&(v.releasePointerCapture(g.pointerId),c(g))})})}),xw="SliderTrack",bw=R.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,a=Uf(xw,n);return b.jsx(Bt.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...s,ref:e})});bw.displayName=xw;var bm="SliderRange",Sw=R.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,a=Uf(bm,n),c=gw(bm,n),u=R.useRef(null),f=an(e,u),d=a.values.length,p=a.values.map(v=>Cw(v,a.min,a.max)),y=d>1?Math.min(...p):0,g=100-Math.max(...p);return b.jsx(Bt.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...s,ref:f,style:{...t.style,[c.startEdge]:y+"%",[c.endEdge]:g+"%"}})});Sw.displayName=bm;var Sm="SliderThumb",_w=R.forwardRef((t,e)=>{const n=XN(t.__scopeSlider),[s,a]=R.useState(null),c=an(e,f=>a(f)),u=R.useMemo(()=>s?n().findIndex(f=>f.ref.current===s):-1,[n,s]);return b.jsx(eP,{...t,ref:c,index:u})}),eP=R.forwardRef((t,e)=>{const{__scopeSlider:n,index:s,name:a,...c}=t,u=Uf(Sm,n),f=gw(Sm,n),[d,p]=R.useState(null),y=an(e,D=>p(D)),g=d?u.form||!!d.closest("form"):!0,v=q_(d),S=u.values[s],C=S===void 0?0:Cw(S,u.min,u.max),E=rP(s,u.values.length),M=v?.[f.size],P=M?iP(M,C,f.direction):0;return R.useEffect(()=>{if(d)return u.thumbs.add(d),()=>{u.thumbs.delete(d)}},[d,u.thumbs]),b.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[f.startEdge]:`calc(${C}% + ${P}px)`},children:[b.jsx(xm.ItemSlot,{scope:t.__scopeSlider,children:b.jsx(Bt.span,{role:"slider","aria-label":t["aria-label"]||E,"aria-valuemin":u.min,"aria-valuenow":S,"aria-valuemax":u.max,"aria-orientation":u.orientation,"data-orientation":u.orientation,"data-disabled":u.disabled?"":void 0,tabIndex:u.disabled?void 0:0,...c,ref:y,style:S===void 0?{display:"none"}:t.style,onFocus:Lt(t.onFocus,()=>{u.valueIndexToChangeRef.current=s})})}),g&&b.jsx(ww,{name:a??(u.name?u.name+(u.values.length>1?"[]":""):void 0),form:u.form,value:S},s)]})});_w.displayName=Sm;var tP="RadioBubbleInput",ww=R.forwardRef(({__scopeSlider:t,value:e,...n},s)=>{const a=R.useRef(null),c=an(a,s),u=KN(e);return R.useEffect(()=>{const f=a.current;if(!f)return;const d=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(d,"value").set;if(u!==e&&y){const g=new Event("input",{bubbles:!0});y.call(f,e),f.dispatchEvent(g)}},[u,e]),b.jsx(Bt.input,{style:{display:"none"},...n,ref:c,defaultValue:e})});ww.displayName=tP;function nP(t=[],e,n){const s=[...t];return s[n]=e,s.sort((a,c)=>a-c)}function Cw(t,e,n){const c=100/(n-e)*(t-e);return Cy(c,[0,100])}function rP(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function sP(t,e){if(t.length===1)return 0;const n=t.map(a=>Math.abs(a-e)),s=Math.min(...n);return n.indexOf(s)}function iP(t,e,n){const s=t/2,c=Ey([0,50],[0,s]);return(s-c(e)*n)*n}function aP(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function oP(t,e){if(e>0){const n=aP(t);return Math.min(...n)>=e}return!0}function Ey(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function cP(t){return(String(t).split(".")[1]||"").length}function lP(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var Ew=mw,uP=bw,fP=Sw,dP=_w;const sf=R.forwardRef(({className:t,...e},n)=>b.jsxs(Ew,{ref:n,className:qt("relative flex w-full touch-none select-none items-center",t),...e,children:[b.jsx(uP,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:b.jsx(fP,{className:"absolute h-full bg-primary"})}),b.jsx(dP,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));sf.displayName=Ew.displayName;var hP="Label",Tw=R.forwardRef((t,e)=>b.jsx(Bt.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Tw.displayName=hP;var Rw=Tw;const pP=Mf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),na=R.forwardRef(({className:t,...e},n)=>b.jsx(Rw,{ref:n,className:qt(pP(),t),...e}));na.displayName=Rw.displayName;var mP=wS();function yP(){return mP.useSyncExternalStore(gP,()=>!0,()=>!1)}function gP(){return()=>{}}var Ty="Avatar",[vP]=Pi(Ty),[xP,Aw]=vP(Ty),Ow=R.forwardRef((t,e)=>{const{__scopeAvatar:n,...s}=t,[a,c]=R.useState("idle");return b.jsx(xP,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:c,children:b.jsx(Bt.span,{...s,ref:e})})});Ow.displayName=Ty;var Mw="AvatarImage",Nw=R.forwardRef((t,e)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:a=()=>{},...c}=t,u=Aw(Mw,n),f=bP(s,c),d=Fn(p=>{a(p),u.onImageLoadingStatusChange(p)});return jr(()=>{f!=="idle"&&d(f)},[f,d]),f==="loaded"?b.jsx(Bt.img,{...c,ref:e,src:s}):null});Nw.displayName=Mw;var Pw="AvatarFallback",Dw=R.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:s,...a}=t,c=Aw(Pw,n),[u,f]=R.useState(s===void 0);return R.useEffect(()=>{if(s!==void 0){const d=window.setTimeout(()=>f(!0),s);return()=>window.clearTimeout(d)}},[s]),u&&c.imageLoadingStatus!=="loaded"?b.jsx(Bt.span,{...a,ref:e}):null});Dw.displayName=Pw;function Jb(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function bP(t,{referrerPolicy:e,crossOrigin:n}){const s=yP(),a=R.useRef(null),c=s?(a.current||(a.current=new window.Image),a.current):null,[u,f]=R.useState(()=>Jb(c,t));return jr(()=>{f(Jb(c,t))},[c,t]),jr(()=>{const d=g=>()=>{f(g)};if(!c)return;const p=d("loaded"),y=d("error");return c.addEventListener("load",p),c.addEventListener("error",y),e&&(c.referrerPolicy=e),typeof n=="string"&&(c.crossOrigin=n),()=>{c.removeEventListener("load",p),c.removeEventListener("error",y)}},[c,n,e]),u}var kw=Ow,jw=Nw,Lw=Dw;const Uw=R.forwardRef(({className:t,...e},n)=>b.jsx(kw,{ref:n,className:qt(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));Uw.displayName=kw.displayName;const SP=R.forwardRef(({className:t,...e},n)=>b.jsx(jw,{ref:n,className:qt("aspect-square h-full w-full",t),...e}));SP.displayName=jw.displayName;const Iw=R.forwardRef(({className:t,...e},n)=>b.jsx(Lw,{ref:n,className:qt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Iw.displayName=Lw.displayName;function Xa({playerId:t,playerName:e,size:n="md"}){const s={sm:"h-8 w-8 text-xs",md:"h-12 w-12 text-sm",lg:"h-16 w-16 text-base"};return b.jsx(Uw,{className:s[n],children:b.jsx(Iw,{className:`bg-linear-to-br ${VN(t)} text-white font-semibold`,children:qN(e)})})}var Ry="Progress",Ay=100,[_P]=Pi(Ry),[wP,CP]=_P(Ry),zw=R.forwardRef((t,e)=>{const{__scopeProgress:n,value:s=null,max:a,getValueLabel:c=EP,...u}=t;(a||a===0)&&!Wb(a)&&console.error(TP(`${a}`,"Progress"));const f=Wb(a)?a:Ay;s!==null&&!e1(s,f)&&console.error(RP(`${s}`,"Progress"));const d=e1(s,f)?s:null,p=af(d)?c(d,f):void 0;return b.jsx(wP,{scope:n,value:d,max:f,children:b.jsx(Bt.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":af(d)?d:void 0,"aria-valuetext":p,role:"progressbar","data-state":$w(d,f),"data-value":d??void 0,"data-max":f,...u,ref:e})})});zw.displayName=Ry;var Bw="ProgressIndicator",Hw=R.forwardRef((t,e)=>{const{__scopeProgress:n,...s}=t,a=CP(Bw,n);return b.jsx(Bt.div,{"data-state":$w(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:e})});Hw.displayName=Bw;function EP(t,e){return`${Math.round(t/e*100)}%`}function $w(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function af(t){return typeof t=="number"}function Wb(t){return af(t)&&!isNaN(t)&&t>0}function e1(t,e){return af(t)&&!isNaN(t)&&t<=e&&t>=0}function TP(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ay}\`.`}function RP(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ay} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Vw=zw,AP=Hw;const qw=R.forwardRef(({className:t,value:e,...n},s)=>b.jsx(Vw,{ref:s,className:qt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:b.jsx(AP,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));qw.displayName=Vw.displayName;function OP({timeRemaining:t,totalTime:e,variant:n="default"}){const s=t/e*100,a=s<25;return b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[b.jsx(p_,{className:`w-4 h-4 ${a?"text-accent animate-pulse":"text-muted-foreground"}`}),b.jsxs("span",{className:a?"text-accent font-bold":"",children:[Math.max(0,Math.ceil(t)),"s"]})]}),b.jsxs("span",{className:"text-xs text-muted-foreground",children:["/ ",e,"s"]})]}),b.jsx(qw,{value:s,className:`h-2 ${a?"animate-pulse":""}`,"data-testid":"progress-timer"})]})}const MP={BASE_URL:"/music-showdown/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};async function NP(){const t="AIzaSyBo_-vy2fUDR_isXL4llWGOJJImxvsmYbU";return console.log("@@@ import.meta.env",MP),t}let xu=null;async function PP(t){if(xu===null&&(xu=await NP()),!xu)throw console.error("YouTube API key not configured"),new Error("YouTube API key not configured. Please add VITE_YOUTUBE_API_KEY to your environment.");const e=new URLSearchParams({part:"snippet",q:t,type:"video",maxResults:"12",videoEmbeddable:"true",videoCategoryId:"10",key:xu}),n=await fetch(`https://www.googleapis.com/youtube/v3/search?${e.toString()}`);if(!n.ok)throw new Error("Failed to search YouTube");return(await n.json()).items?.map(a=>({id:a.id?.videoId||"",title:a.snippet?.title||"",thumbnail:a.snippet?.thumbnails?.medium?.url||"",channelTitle:a.snippet?.channelTitle||""}))||[]}function DP(t,e){return R.useReducer((n,s)=>e[n][s]??n,t)}var Oy="ScrollArea",[Fw]=Pi(Oy),[kP,Lr]=Fw(Oy),Yw=R.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:s="hover",dir:a,scrollHideDelay:c=600,...u}=t,[f,d]=R.useState(null),[p,y]=R.useState(null),[g,v]=R.useState(null),[S,C]=R.useState(null),[E,M]=R.useState(null),[P,D]=R.useState(0),[k,j]=R.useState(0),[G,X]=R.useState(!1),[Y,K]=R.useState(!1),pe=an(e,_e=>d(_e)),xe=uw(a);return b.jsx(kP,{scope:n,type:s,dir:xe,scrollHideDelay:c,scrollArea:f,viewport:p,onViewportChange:y,content:g,onContentChange:v,scrollbarX:S,onScrollbarXChange:C,scrollbarXEnabled:G,onScrollbarXEnabledChange:X,scrollbarY:E,onScrollbarYChange:M,scrollbarYEnabled:Y,onScrollbarYEnabledChange:K,onCornerWidthChange:D,onCornerHeightChange:j,children:b.jsx(Bt.div,{dir:xe,...u,ref:pe,style:{position:"relative","--radix-scroll-area-corner-width":P+"px","--radix-scroll-area-corner-height":k+"px",...t.style}})})});Yw.displayName=Oy;var Gw="ScrollAreaViewport",Kw=R.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:s,nonce:a,...c}=t,u=Lr(Gw,n),f=R.useRef(null),d=an(e,f,u.onViewportChange);return b.jsxs(b.Fragment,{children:[b.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),b.jsx(Bt.div,{"data-radix-scroll-area-viewport":"",...c,ref:d,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...t.style},children:b.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});Kw.displayName=Gw;var vs="ScrollAreaScrollbar",My=R.forwardRef((t,e)=>{const{forceMount:n,...s}=t,a=Lr(vs,t.__scopeScrollArea),{onScrollbarXEnabledChange:c,onScrollbarYEnabledChange:u}=a,f=t.orientation==="horizontal";return R.useEffect(()=>(f?c(!0):u(!0),()=>{f?c(!1):u(!1)}),[f,c,u]),a.type==="hover"?b.jsx(jP,{...s,ref:e,forceMount:n}):a.type==="scroll"?b.jsx(LP,{...s,ref:e,forceMount:n}):a.type==="auto"?b.jsx(Xw,{...s,ref:e,forceMount:n}):a.type==="always"?b.jsx(Ny,{...s,ref:e}):null});My.displayName=vs;var jP=R.forwardRef((t,e)=>{const{forceMount:n,...s}=t,a=Lr(vs,t.__scopeScrollArea),[c,u]=R.useState(!1);return R.useEffect(()=>{const f=a.scrollArea;let d=0;if(f){const p=()=>{window.clearTimeout(d),u(!0)},y=()=>{d=window.setTimeout(()=>u(!1),a.scrollHideDelay)};return f.addEventListener("pointerenter",p),f.addEventListener("pointerleave",y),()=>{window.clearTimeout(d),f.removeEventListener("pointerenter",p),f.removeEventListener("pointerleave",y)}}},[a.scrollArea,a.scrollHideDelay]),b.jsx(da,{present:n||c,children:b.jsx(Xw,{"data-state":c?"visible":"hidden",...s,ref:e})})}),LP=R.forwardRef((t,e)=>{const{forceMount:n,...s}=t,a=Lr(vs,t.__scopeScrollArea),c=t.orientation==="horizontal",u=zf(()=>d("SCROLL_END"),100),[f,d]=DP("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return R.useEffect(()=>{if(f==="idle"){const p=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(p)}},[f,a.scrollHideDelay,d]),R.useEffect(()=>{const p=a.viewport,y=c?"scrollLeft":"scrollTop";if(p){let g=p[y];const v=()=>{const S=p[y];g!==S&&(d("SCROLL"),u()),g=S};return p.addEventListener("scroll",v),()=>p.removeEventListener("scroll",v)}},[a.viewport,c,d,u]),b.jsx(da,{present:n||f!=="hidden",children:b.jsx(Ny,{"data-state":f==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:Lt(t.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Lt(t.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),Xw=R.forwardRef((t,e)=>{const n=Lr(vs,t.__scopeScrollArea),{forceMount:s,...a}=t,[c,u]=R.useState(!1),f=t.orientation==="horizontal",d=zf(()=>{if(n.viewport){const p=n.viewport.offsetWidth<n.viewport.scrollWidth,y=n.viewport.offsetHeight<n.viewport.scrollHeight;u(f?p:y)}},10);return co(n.viewport,d),co(n.content,d),b.jsx(da,{present:s||c,children:b.jsx(Ny,{"data-state":c?"visible":"hidden",...a,ref:e})})}),Ny=R.forwardRef((t,e)=>{const{orientation:n="vertical",...s}=t,a=Lr(vs,t.__scopeScrollArea),c=R.useRef(null),u=R.useRef(0),[f,d]=R.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=eC(f.viewport,f.content),y={...s,sizes:f,onSizesChange:d,hasThumb:p>0&&p<1,onThumbChange:v=>c.current=v,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:v=>u.current=v};function g(v,S){return $P(v,u.current,f,S)}return n==="horizontal"?b.jsx(UP,{...y,ref:e,onThumbPositionChange:()=>{if(a.viewport&&c.current){const v=a.viewport.scrollLeft,S=t1(v,f,a.dir);c.current.style.transform=`translate3d(${S}px, 0, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollLeft=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollLeft=g(v,a.dir))}}):n==="vertical"?b.jsx(IP,{...y,ref:e,onThumbPositionChange:()=>{if(a.viewport&&c.current){const v=a.viewport.scrollTop,S=t1(v,f);c.current.style.transform=`translate3d(0, ${S}px, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollTop=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollTop=g(v))}}):null}),UP=R.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...a}=t,c=Lr(vs,t.__scopeScrollArea),[u,f]=R.useState(),d=R.useRef(null),p=an(e,d,c.onScrollbarXChange);return R.useEffect(()=>{d.current&&f(getComputedStyle(d.current))},[d]),b.jsx(Zw,{"data-orientation":"horizontal",...a,ref:p,sizes:n,style:{bottom:0,left:c.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:c.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":If(n)+"px",...t.style},onThumbPointerDown:y=>t.onThumbPointerDown(y.x),onDragScroll:y=>t.onDragScroll(y.x),onWheelScroll:(y,g)=>{if(c.viewport){const v=c.viewport.scrollLeft+y.deltaX;t.onWheelScroll(v),nC(v,g)&&y.preventDefault()}},onResize:()=>{d.current&&c.viewport&&u&&s({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:cf(u.paddingLeft),paddingEnd:cf(u.paddingRight)}})}})}),IP=R.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...a}=t,c=Lr(vs,t.__scopeScrollArea),[u,f]=R.useState(),d=R.useRef(null),p=an(e,d,c.onScrollbarYChange);return R.useEffect(()=>{d.current&&f(getComputedStyle(d.current))},[d]),b.jsx(Zw,{"data-orientation":"vertical",...a,ref:p,sizes:n,style:{top:0,right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":If(n)+"px",...t.style},onThumbPointerDown:y=>t.onThumbPointerDown(y.y),onDragScroll:y=>t.onDragScroll(y.y),onWheelScroll:(y,g)=>{if(c.viewport){const v=c.viewport.scrollTop+y.deltaY;t.onWheelScroll(v),nC(v,g)&&y.preventDefault()}},onResize:()=>{d.current&&c.viewport&&u&&s({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:cf(u.paddingTop),paddingEnd:cf(u.paddingBottom)}})}})}),[zP,Qw]=Fw(vs),Zw=R.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:a,onThumbChange:c,onThumbPointerUp:u,onThumbPointerDown:f,onThumbPositionChange:d,onDragScroll:p,onWheelScroll:y,onResize:g,...v}=t,S=Lr(vs,n),[C,E]=R.useState(null),M=an(e,pe=>E(pe)),P=R.useRef(null),D=R.useRef(""),k=S.viewport,j=s.content-s.viewport,G=Fn(y),X=Fn(d),Y=zf(g,10);function K(pe){if(P.current){const xe=pe.clientX-P.current.left,_e=pe.clientY-P.current.top;p({x:xe,y:_e})}}return R.useEffect(()=>{const pe=xe=>{const _e=xe.target;C?.contains(_e)&&G(xe,j)};return document.addEventListener("wheel",pe,{passive:!1}),()=>document.removeEventListener("wheel",pe,{passive:!1})},[k,C,j,G]),R.useEffect(X,[s,X]),co(C,Y),co(S.content,Y),b.jsx(zP,{scope:n,scrollbar:C,hasThumb:a,onThumbChange:Fn(c),onThumbPointerUp:Fn(u),onThumbPositionChange:X,onThumbPointerDown:Fn(f),children:b.jsx(Bt.div,{...v,ref:M,style:{position:"absolute",...v.style},onPointerDown:Lt(t.onPointerDown,pe=>{pe.button===0&&(pe.target.setPointerCapture(pe.pointerId),P.current=C.getBoundingClientRect(),D.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",S.viewport&&(S.viewport.style.scrollBehavior="auto"),K(pe))}),onPointerMove:Lt(t.onPointerMove,K),onPointerUp:Lt(t.onPointerUp,pe=>{const xe=pe.target;xe.hasPointerCapture(pe.pointerId)&&xe.releasePointerCapture(pe.pointerId),document.body.style.webkitUserSelect=D.current,S.viewport&&(S.viewport.style.scrollBehavior=""),P.current=null})})})}),of="ScrollAreaThumb",Jw=R.forwardRef((t,e)=>{const{forceMount:n,...s}=t,a=Qw(of,t.__scopeScrollArea);return b.jsx(da,{present:n||a.hasThumb,children:b.jsx(BP,{ref:e,...s})})}),BP=R.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:s,...a}=t,c=Lr(of,n),u=Qw(of,n),{onThumbPositionChange:f}=u,d=an(e,g=>u.onThumbChange(g)),p=R.useRef(void 0),y=zf(()=>{p.current&&(p.current(),p.current=void 0)},100);return R.useEffect(()=>{const g=c.viewport;if(g){const v=()=>{if(y(),!p.current){const S=VP(g,f);p.current=S,f()}};return f(),g.addEventListener("scroll",v),()=>g.removeEventListener("scroll",v)}},[c.viewport,y,f]),b.jsx(Bt.div,{"data-state":u.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Lt(t.onPointerDownCapture,g=>{const S=g.target.getBoundingClientRect(),C=g.clientX-S.left,E=g.clientY-S.top;u.onThumbPointerDown({x:C,y:E})}),onPointerUp:Lt(t.onPointerUp,u.onThumbPointerUp)})});Jw.displayName=of;var Py="ScrollAreaCorner",Ww=R.forwardRef((t,e)=>{const n=Lr(Py,t.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?b.jsx(HP,{...t,ref:e}):null});Ww.displayName=Py;var HP=R.forwardRef((t,e)=>{const{__scopeScrollArea:n,...s}=t,a=Lr(Py,n),[c,u]=R.useState(0),[f,d]=R.useState(0),p=!!(c&&f);return co(a.scrollbarX,()=>{const y=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(y),d(y)}),co(a.scrollbarY,()=>{const y=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(y),u(y)}),p?b.jsx(Bt.div,{...s,ref:e,style:{width:c,height:f,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function cf(t){return t?parseInt(t,10):0}function eC(t,e){const n=t/e;return isNaN(n)?0:n}function If(t){const e=eC(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-n)*e;return Math.max(s,18)}function $P(t,e,n,s="ltr"){const a=If(n),c=a/2,u=e||c,f=a-u,d=n.scrollbar.paddingStart+u,p=n.scrollbar.size-n.scrollbar.paddingEnd-f,y=n.content-n.viewport,g=s==="ltr"?[0,y]:[y*-1,0];return tC([d,p],g)(t)}function t1(t,e,n="ltr"){const s=If(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,c=e.scrollbar.size-a,u=e.content-e.viewport,f=c-s,d=n==="ltr"?[0,u]:[u*-1,0],p=Cy(t,d);return tC([0,u],[0,f])(p)}function tC(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function nC(t,e){return t>0&&t<e}var VP=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},s=0;return(function a(){const c={left:t.scrollLeft,top:t.scrollTop},u=n.left!==c.left,f=n.top!==c.top;(u||f)&&e(),n=c,s=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(s)};function zf(t,e){const n=Fn(t),s=R.useRef(0);return R.useEffect(()=>()=>window.clearTimeout(s.current),[]),R.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,e)},[n,e])}function co(t,e){const n=Fn(e);jr(()=>{let s=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return a.observe(t),()=>{window.cancelAnimationFrame(s),a.unobserve(t)}}},[t,n])}var rC=Yw,qP=Kw,FP=Ww;const Dy=R.forwardRef(({className:t,children:e,...n},s)=>b.jsxs(rC,{ref:s,className:qt("relative overflow-hidden",t),...n,children:[b.jsx(qP,{className:"h-full w-full rounded-[inherit]",children:e}),b.jsx(sC,{}),b.jsx(FP,{})]}));Dy.displayName=rC.displayName;const sC=R.forwardRef(({className:t,orientation:e="vertical",...n},s)=>b.jsx(My,{ref:s,orientation:e,className:qt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-px",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-px",t),...n,children:b.jsx(Jw,{className:"relative flex-1 rounded-full bg-border"})}));sC.displayName=My.displayName;function YP({onSelect:t,selectedVideoId:e}){const[n,s]=R.useState(""),[a,c]=R.useState([]),[u,f]=R.useState(!1),d=async()=>{if(n.trim()){f(!0);try{const p=await PP(n);c(p)}catch(p){console.error("Search failed:",p)}finally{f(!1)}}};return b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("div",{className:"relative flex-1",children:[b.jsx(y_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),b.jsx(Xs,{placeholder:"Search for a song...",value:n,onChange:p=>s(p.target.value),onKeyDown:p=>p.key==="Enter"&&d(),className:"pl-10","data-testid":"input-youtube-search"})]}),b.jsx(Tn,{onClick:d,disabled:u||!n.trim(),"data-testid":"button-search",children:u?b.jsx(hy,{className:"w-4 h-4 animate-spin"}):"Search"})]}),a.length>0&&b.jsx(Dy,{className:"h-[420px] rounded-lg border p-5",children:b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:a.map(p=>b.jsx(sn,{className:qt("group cursor-pointer border transition-all hover:border-primary/40 hover:shadow-md",e===p.id?"border-primary bg-primary/10 shadow-sm ring-2 ring-primary":"border-border"),onClick:()=>t(p),"data-testid":`card-video-${p.id}`,children:b.jsxs(En,{className:"relative space-y-3 p-3",children:[b.jsx("img",{src:p.thumbnail,alt:p.title,className:"w-full aspect-video object-cover rounded-md mb-2"}),b.jsx("h3",{className:"font-semibold text-sm line-clamp-2 mb-1",children:p.title}),b.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:p.channelTitle}),e===p.id&&b.jsxs("div",{className:"absolute right-3 top-3 flex items-center gap-1 rounded-full bg-primary/90 px-2 py-1 text-xs font-semibold text-primary-foreground",children:[b.jsx(jO,{className:"h-4 w-4"}),"Selected"]})]})},p.id))})})]})}function _m({videoId:t,onReady:e,onEnd:n,autoplay:s=!0,startSeconds:a=0,endSeconds:c,preventPause:u=!1,timerProgress:f,interactive:d=!1}){const p=R.useRef(null),y=R.useRef(null);return R.useEffect(()=>{if(!window.YT){const v=document.createElement("script");v.src="https://www.youtube.com/iframe_api";const S=document.getElementsByTagName("script")[0];S.parentNode?.insertBefore(v,S)}const g=()=>{p.current&&window.YT&&window.YT.Player&&(y.current=new window.YT.Player(p.current,{videoId:t,playerVars:{autoplay:s?1:0,start:a,end:c,controls:d?1:0,disablekb:d?0:1,fs:0,modestbranding:1,rel:0,iv_load_policy:3},events:{onReady:v=>{s&&v.target.playVideo(),e?.(v.target)},onStateChange:v=>{if(u&&v.data===window.YT.PlayerState.PAUSED){v.target.playVideo();return}v.data===window.YT.PlayerState.ENDED&&n?.()}}}))};return window.YT&&window.YT.Player?g():window.onYouTubeIframeAPIReady=g,()=>{y.current&&y.current.destroy()}},[t,s,a,c,e,n,u,d]),b.jsxs("div",{className:"relative aspect-video w-full bg-black rounded-lg overflow-hidden",children:[b.jsx("div",{ref:p,className:d?"w-full h-full":"pointer-events-none w-full h-full","data-testid":"youtube-player"}),b.jsx("div",{className:"pointer-events-none absolute left-0 right-0 top-0",style:{height:"200px",backgroundColor:"black"}}),f!==void 0&&b.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-lg",style:{backgroundColor:`rgba(0,0,0,${1-.75*f})`}})]})}let wp=null;function GP(){if(typeof window>"u")return null;const t=window,e=window.AudioContext??t.webkitAudioContext;return e?(wp||(wp=new e),wp):null}function KP(){try{const t=GP();if(!t)return;t.state==="suspended"&&t.resume();const e=t.currentTime,n=t.createOscillator(),s=t.createGain();n.type="sine",n.frequency.setValueAtTime(880,e),s.gain.setValueAtTime(1e-4,e),s.gain.exponentialRampToValueAtTime(.18,e+.02),s.gain.exponentialRampToValueAtTime(1e-4,e+.32),n.connect(s),s.connect(t.destination),n.start(e),n.stop(e+.35)}catch(t){console.error("Failed to play correct guess sound",t)}}var Qi={};class XP{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const n of this._parts)e.push(n);return QP(e).buffer}}function QP(t){let e=0;for(const a of t)e+=a.byteLength;const n=new Uint8Array(e);let s=0;for(const a of t){const c=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);n.set(c,s),s+=a.byteLength}return n}function iC(t){return new ZP(t).unpack()}function aC(t){const e=new JP,n=e.pack(t);return n instanceof Promise?n.then(()=>e.getBuffer()):e.getBuffer()}class ZP{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let n;if((n=e^160)<=15)return this.unpack_raw(n);if((n=e^176)<=15)return this.unpack_string(n);if((n=e^144)<=15)return this.unpack_array(n);if((n=e^128)<=15)return this.unpack_map(n);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),n=(e[0]&255)*256+(e[1]&255);return this.index+=2,n}unpack_uint32(){const e=this.read(4),n=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,n}unpack_uint64(){const e=this.read(8),n=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,n}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,n}unpack_string(e){const n=this.read(e);let s=0,a="",c,u;for(;s<e;)c=n[s],c<160?(u=c,s++):(c^192)<32?(u=(c&31)<<6|n[s+1]&63,s+=2):(c^224)<16?(u=(c&15)<<12|(n[s+1]&63)<<6|n[s+2]&63,s+=3):(u=(c&7)<<18|(n[s+1]&63)<<12|(n[s+2]&63)<<6|n[s+3]&63,s+=4),a+=String.fromCodePoint(u);return this.index+=e,a}unpack_array(e){const n=new Array(e);for(let s=0;s<e;s++)n[s]=this.unpack();return n}unpack_map(e){const n={};for(let s=0;s<e;s++){const a=this.unpack();n[a]=this.unpack()}return n}unpack_float(){const e=this.unpack_uint32(),n=e>>31,s=(e>>23&255)-127,a=e&8388607|8388608;return(n===0?1:-1)*a*2**(s-23)}unpack_double(){const e=this.unpack_uint32(),n=this.unpack_uint32(),s=e>>31,a=(e>>20&2047)-1023,u=(e&1048575|1048576)*2**(a-20)+n*2**(a-52);return(s===0?1:-1)*u}read(e){const n=this.index;if(n+e<=this.length)return this.dataView.subarray(n,n+e);throw new Error("BinaryPackFailure: read index out of range")}}class JP{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const n=e.constructor;if(e instanceof Array){const s=this.pack_array(e);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const s=e;this.pack_bin(new Uint8Array(s.buffer,s.byteOffset,s.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(s=>{this.pack_bin(new Uint8Array(s)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const s=this.pack_object(e);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const n=e.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const n=this._textEncoder.encode(e),s=n.length;if(s<=15)this.pack_uint8(176+s);else if(s<=65535)this._bufferBuilder.append(216),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(s);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(e){const n=e.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const s=a=>{if(a<n){const c=this.pack(e[a]);return c instanceof Promise?c.then(()=>s(a+1)):s(a+1)}};return s(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let n=0;e<0&&(n=1,e=-e);const s=Math.floor(Math.log(e)/Math.LN2),a=e/2**s-1,c=Math.floor(a*2**52),u=2**32,f=n<<31|s+1023<<20|c/u&1048575,d=c%u;this._bufferBuilder.append(203),this.pack_int32(f),this.pack_int32(d)}pack_object(e){const n=Object.keys(e),s=n.length;if(s<=15)this.pack_uint8(128+s);else if(s<=65535)this._bufferBuilder.append(222),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(s);else throw new Error("Invalid length");const a=c=>{if(c<n.length){const u=n[c];if(e.hasOwnProperty(u)){this.pack(u);const f=this.pack(e[u]);if(f instanceof Promise)return f.then(()=>a(c+1))}return a(c+1)}};return a(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const n=e&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(e){const n=e/4294967296,s=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const n=Math.floor(e/4294967296),s=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}constructor(){this._bufferBuilder=new XP,this._textEncoder=new TextEncoder}}let oC=!0,cC=!0;function Sc(t,e,n){const s=t.match(e);return s&&s.length>=n&&parseFloat(s[n],10)}function ha(t,e,n){if(!t.RTCPeerConnection)return;const s=t.RTCPeerConnection.prototype,a=s.addEventListener;s.addEventListener=function(u,f){if(u!==e)return a.apply(this,arguments);const d=p=>{const y=n(p);y&&(f.handleEvent?f.handleEvent(y):f(y))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(f,d),a.apply(this,[u,d])};const c=s.removeEventListener;s.removeEventListener=function(u,f){if(u!==e||!this._eventMap||!this._eventMap[e])return c.apply(this,arguments);if(!this._eventMap[e].has(f))return c.apply(this,arguments);const d=this._eventMap[e].get(f);return this._eventMap[e].delete(f),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,c.apply(this,[u,d])},Object.defineProperty(s,"on"+e,{get(){return this["_on"+e]},set(u){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),u&&this.addEventListener(e,this["_on"+e]=u)},enumerable:!0,configurable:!0})}function WP(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(oC=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function eD(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(cC=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function lC(){if(typeof window=="object"){if(oC)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function ky(t,e){cC&&console.warn(t+" is deprecated, please use "+e+" instead.")}function tD(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.userAgentData&&n.userAgentData.brands){const s=n.userAgentData.brands.find(a=>a.brand==="Chromium");if(s)return{browser:"chrome",version:parseInt(s.version,10)}}if(n.mozGetUserMedia)e.browser="firefox",e.version=parseInt(Sc(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(Sc(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(Sc(n.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype,e._safariVersion=Sc(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function n1(t){return Object.prototype.toString.call(t)==="[object Object]"}function uC(t){return n1(t)?Object.keys(t).reduce(function(e,n){const s=n1(t[n]),a=s?uC(t[n]):t[n],c=s&&!Object.keys(a).length;return a===void 0||c?e:Object.assign(e,{[n]:a})},{}):t}function wm(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(s=>{s.endsWith("Id")?wm(t,t.get(e[s]),n):s.endsWith("Ids")&&e[s].forEach(a=>{wm(t,t.get(a),n)})}))}function r1(t,e,n){const s=n?"outbound-rtp":"inbound-rtp",a=new Map;if(e===null)return a;const c=[];return t.forEach(u=>{u.type==="track"&&u.trackIdentifier===e.id&&c.push(u)}),c.forEach(u=>{t.forEach(f=>{f.type===s&&f.trackId===u.id&&wm(t,f,a)})}),a}const s1=lC;function fC(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const s=function(f){if(typeof f!="object"||f.mandatory||f.optional)return f;const d={};return Object.keys(f).forEach(p=>{if(p==="require"||p==="advanced"||p==="mediaSource")return;const y=typeof f[p]=="object"?f[p]:{ideal:f[p]};y.exact!==void 0&&typeof y.exact=="number"&&(y.min=y.max=y.exact);const g=function(v,S){return v?v+S.charAt(0).toUpperCase()+S.slice(1):S==="deviceId"?"sourceId":S};if(y.ideal!==void 0){d.optional=d.optional||[];let v={};typeof y.ideal=="number"?(v[g("min",p)]=y.ideal,d.optional.push(v),v={},v[g("max",p)]=y.ideal,d.optional.push(v)):(v[g("",p)]=y.ideal,d.optional.push(v))}y.exact!==void 0&&typeof y.exact!="number"?(d.mandatory=d.mandatory||{},d.mandatory[g("",p)]=y.exact):["min","max"].forEach(v=>{y[v]!==void 0&&(d.mandatory=d.mandatory||{},d.mandatory[g(v,p)]=y[v])})}),f.advanced&&(d.optional=(d.optional||[]).concat(f.advanced)),d},a=function(f,d){if(e.version>=61)return d(f);if(f=JSON.parse(JSON.stringify(f)),f&&typeof f.audio=="object"){const p=function(y,g,v){g in y&&!(v in y)&&(y[v]=y[g],delete y[g])};f=JSON.parse(JSON.stringify(f)),p(f.audio,"autoGainControl","googAutoGainControl"),p(f.audio,"noiseSuppression","googNoiseSuppression"),f.audio=s(f.audio)}if(f&&typeof f.video=="object"){let p=f.video.facingMode;p=p&&(typeof p=="object"?p:{ideal:p});const y=e.version<66;if(p&&(p.exact==="user"||p.exact==="environment"||p.ideal==="user"||p.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!y)){delete f.video.facingMode;let g;if(p.exact==="environment"||p.ideal==="environment"?g=["back","rear"]:(p.exact==="user"||p.ideal==="user")&&(g=["front"]),g)return n.mediaDevices.enumerateDevices().then(v=>{v=v.filter(C=>C.kind==="videoinput");let S=v.find(C=>g.some(E=>C.label.toLowerCase().includes(E)));return!S&&v.length&&g.includes("back")&&(S=v[v.length-1]),S&&(f.video.deviceId=p.exact?{exact:S.deviceId}:{ideal:S.deviceId}),f.video=s(f.video),s1("chrome: "+JSON.stringify(f)),d(f)})}f.video=s(f.video)}return s1("chrome: "+JSON.stringify(f)),d(f)},c=function(f){return e.version>=64?f:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[f.name]||f.name,message:f.message,constraint:f.constraint||f.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},u=function(f,d,p){a(f,y=>{n.webkitGetUserMedia(y,d,g=>{p&&p(c(g))})})};if(n.getUserMedia=u.bind(n),n.mediaDevices.getUserMedia){const f=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(d){return a(d,p=>f(p).then(y=>{if(p.audio&&!y.getAudioTracks().length||p.video&&!y.getVideoTracks().length)throw y.getTracks().forEach(g=>{g.stop()}),new DOMException("","NotFoundError");return y},y=>Promise.reject(c(y))))}}}function dC(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function hC(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=s=>{s.stream.addEventListener("addtrack",a=>{let c;t.RTCPeerConnection.prototype.getReceivers?c=this.getReceivers().find(f=>f.track&&f.track.id===a.track.id):c={track:a.track};const u=new Event("track");u.track=a.track,u.receiver=c,u.transceiver={receiver:c},u.streams=[s.stream],this.dispatchEvent(u)}),s.stream.getTracks().forEach(a=>{let c;t.RTCPeerConnection.prototype.getReceivers?c=this.getReceivers().find(f=>f.track&&f.track.id===a.id):c={track:a};const u=new Event("track");u.track=a,u.receiver=c,u.transceiver={receiver:c},u.streams=[s.stream],this.dispatchEvent(u)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else ha(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function pC(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(a,c){return{track:c,get dtmf(){return this._dtmf===void 0&&(c.kind==="audio"?this._dtmf=a.createDTMFSender(c):this._dtmf=null),this._dtmf},_pc:a}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const a=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(f,d){let p=a.apply(this,arguments);return p||(p=e(this,f),this._senders.push(p)),p};const c=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(f){c.apply(this,arguments);const d=this._senders.indexOf(f);d!==-1&&this._senders.splice(d,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(c){this._senders=this._senders||[],n.apply(this,[c]),c.getTracks().forEach(u=>{this._senders.push(e(this,u))})};const s=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(c){this._senders=this._senders||[],s.apply(this,[c]),c.getTracks().forEach(u=>{const f=this._senders.find(d=>d.track===u);f&&this._senders.splice(this._senders.indexOf(f),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const s=e.apply(this,[]);return s.forEach(a=>a._pc=this),s},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function mC(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const c=n.apply(this,[]);return c.forEach(u=>u._pc=this),c});const s=t.RTCPeerConnection.prototype.addTrack;s&&(t.RTCPeerConnection.prototype.addTrack=function(){const c=s.apply(this,arguments);return c._pc=this,c}),t.RTCRtpSender.prototype.getStats=function(){const c=this;return this._pc.getStats().then(u=>r1(u,c.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const a=n.apply(this,[]);return a.forEach(c=>c._pc=this),a}),ha(t,"track",s=>(s.receiver._pc=s.srcElement,s)),t.RTCRtpReceiver.prototype.getStats=function(){const a=this;return this._pc.getStats().then(c=>r1(c,a.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const s=arguments[0];let a,c,u;return this.getSenders().forEach(f=>{f.track===s&&(a?u=!0:a=f)}),this.getReceivers().forEach(f=>(f.track===s&&(c?u=!0:c=f),f.track===s)),u||a&&c?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):a?a.getStats():c?c.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function yC(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(u=>this._shimmedLocalStreams[u][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(u,f){if(!f)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const d=e.apply(this,arguments);return this._shimmedLocalStreams[f.id]?this._shimmedLocalStreams[f.id].indexOf(d)===-1&&this._shimmedLocalStreams[f.id].push(d):this._shimmedLocalStreams[f.id]=[f,d],d};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(u){this._shimmedLocalStreams=this._shimmedLocalStreams||{},u.getTracks().forEach(p=>{if(this.getSenders().find(g=>g.track===p))throw new DOMException("Track already exists.","InvalidAccessError")});const f=this.getSenders();n.apply(this,arguments);const d=this.getSenders().filter(p=>f.indexOf(p)===-1);this._shimmedLocalStreams[u.id]=[u].concat(d)};const s=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(u){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[u.id],s.apply(this,arguments)};const a=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(u){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},u&&Object.keys(this._shimmedLocalStreams).forEach(f=>{const d=this._shimmedLocalStreams[f].indexOf(u);d!==-1&&this._shimmedLocalStreams[f].splice(d,1),this._shimmedLocalStreams[f].length===1&&delete this._shimmedLocalStreams[f]}),a.apply(this,arguments)}}function gC(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return yC(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const y=n.apply(this);return this._reverseStreams=this._reverseStreams||{},y.map(g=>this._reverseStreams[g.id])};const s=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(y){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},y.getTracks().forEach(g=>{if(this.getSenders().find(S=>S.track===g))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[y.id]){const g=new t.MediaStream(y.getTracks());this._streams[y.id]=g,this._reverseStreams[g.id]=y,y=g}s.apply(this,[y])};const a=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(y){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},a.apply(this,[this._streams[y.id]||y]),delete this._reverseStreams[this._streams[y.id]?this._streams[y.id].id:y.id],delete this._streams[y.id]},t.RTCPeerConnection.prototype.addTrack=function(y,g){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const v=[].slice.call(arguments,1);if(v.length!==1||!v[0].getTracks().find(E=>E===y))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(E=>E.track===y))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const C=this._streams[g.id];if(C)C.addTrack(y),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const E=new t.MediaStream([y]);this._streams[g.id]=E,this._reverseStreams[E.id]=g,this.addStream(E)}return this.getSenders().find(E=>E.track===y)};function c(p,y){let g=y.sdp;return Object.keys(p._reverseStreams||[]).forEach(v=>{const S=p._reverseStreams[v],C=p._streams[S.id];g=g.replace(new RegExp(C.id,"g"),S.id)}),new RTCSessionDescription({type:y.type,sdp:g})}function u(p,y){let g=y.sdp;return Object.keys(p._reverseStreams||[]).forEach(v=>{const S=p._reverseStreams[v],C=p._streams[S.id];g=g.replace(new RegExp(S.id,"g"),C.id)}),new RTCSessionDescription({type:y.type,sdp:g})}["createOffer","createAnswer"].forEach(function(p){const y=t.RTCPeerConnection.prototype[p],g={[p](){const v=arguments;return arguments.length&&typeof arguments[0]=="function"?y.apply(this,[C=>{const E=c(this,C);v[0].apply(null,[E])},C=>{v[1]&&v[1].apply(null,C)},arguments[2]]):y.apply(this,arguments).then(C=>c(this,C))}};t.RTCPeerConnection.prototype[p]=g[p]});const f=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?f.apply(this,arguments):(arguments[0]=u(this,arguments[0]),f.apply(this,arguments))};const d=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const p=d.get.apply(this);return p.type===""?p:c(this,p)}}),t.RTCPeerConnection.prototype.removeTrack=function(y){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!y._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(y._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let v;Object.keys(this._streams).forEach(S=>{this._streams[S].getTracks().find(E=>y.track===E)&&(v=this._streams[S])}),v&&(v.getTracks().length===1?this.removeStream(this._reverseStreams[v.id]):v.removeTrack(y.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Cm(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const s=t.RTCPeerConnection.prototype[n],a={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=a[n]})}function vC(t,e){ha(t,"negotiationneeded",n=>{const s=n.target;if(!((e.version<72||s.getConfiguration&&s.getConfiguration().sdpSemantics==="plan-b")&&s.signalingState!=="stable"))return n})}const i1=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:vC,shimAddTrackRemoveTrack:gC,shimAddTrackRemoveTrackWithNative:yC,shimGetSendersWithDtmf:pC,shimGetUserMedia:fC,shimMediaStream:dC,shimOnTrack:hC,shimPeerConnection:Cm,shimSenderReceiverGetStats:mC},Symbol.toStringTag,{value:"Module"}));function xC(t,e){const n=t&&t.navigator,s=t&&t.MediaStreamTrack;if(n.getUserMedia=function(a,c,u){ky("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(a).then(c,u)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const a=function(u,f,d){f in u&&!(d in u)&&(u[d]=u[f],delete u[f])},c=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(u){return typeof u=="object"&&typeof u.audio=="object"&&(u=JSON.parse(JSON.stringify(u)),a(u.audio,"autoGainControl","mozAutoGainControl"),a(u.audio,"noiseSuppression","mozNoiseSuppression")),c(u)},s&&s.prototype.getSettings){const u=s.prototype.getSettings;s.prototype.getSettings=function(){const f=u.apply(this,arguments);return a(f,"mozAutoGainControl","autoGainControl"),a(f,"mozNoiseSuppression","noiseSuppression"),f}}if(s&&s.prototype.applyConstraints){const u=s.prototype.applyConstraints;s.prototype.applyConstraints=function(f){return this.kind==="audio"&&typeof f=="object"&&(f=JSON.parse(JSON.stringify(f)),a(f,"autoGainControl","mozAutoGainControl"),a(f,"noiseSuppression","mozNoiseSuppression")),u.apply(this,[f])}}}}function nD(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(s){if(!(s&&s.video)){const a=new DOMException("getDisplayMedia without video constraints is undefined");return a.name="NotFoundError",a.code=8,Promise.reject(a)}return s.video===!0?s.video={mediaSource:e}:s.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(s)})}function bC(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Em(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(a){const c=t.RTCPeerConnection.prototype[a],u={[a](){return arguments[0]=new(a==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),c.apply(this,arguments)}};t.RTCPeerConnection.prototype[a]=u[a]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},s=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[c,u,f]=arguments;return s.apply(this,[c||null]).then(d=>{if(e.version<53&&!u)try{d.forEach(p=>{p.type=n[p.type]||p.type})}catch(p){if(p.name!=="TypeError")throw p;d.forEach((y,g)=>{d.set(g,Object.assign({},y,{type:n[y.type]||y.type}))})}return d}).then(u,f)}}function SC(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const a=e.apply(this,[]);return a.forEach(c=>c._pc=this),a});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const a=n.apply(this,arguments);return a._pc=this,a}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function _C(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const s=e.apply(this,[]);return s.forEach(a=>a._pc=this),s}),ha(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function wC(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){ky("removeStream","removeTrack"),this.getSenders().forEach(s=>{s.track&&n.getTracks().includes(s.track)&&this.removeTrack(s)})})}function CC(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function EC(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let s=arguments[1]&&arguments[1].sendEncodings;s===void 0&&(s=[]),s=[...s];const a=s.length>0;a&&s.forEach(u=>{if("rid"in u&&!/^[a-z0-9]{0,16}$/i.test(u.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in u&&!(parseFloat(u.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in u&&!(parseFloat(u.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const c=e.apply(this,arguments);if(a){const{sender:u}=c,f=u.getParameters();(!("encodings"in f)||f.encodings.length===1&&Object.keys(f.encodings[0]).length===0)&&(f.encodings=s,u.sendEncodings=s,this.setParametersPromises.push(u.setParameters(f).then(()=>{delete u.sendEncodings}).catch(()=>{delete u.sendEncodings})))}return c})}function TC(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const s=e.apply(this,arguments);return"encodings"in s||(s.encodings=[].concat(this.sendEncodings||[{}])),s})}function RC(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function AC(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const a1=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:EC,shimCreateAnswer:AC,shimCreateOffer:RC,shimGetDisplayMedia:nD,shimGetParameters:TC,shimGetUserMedia:xC,shimOnTrack:bC,shimPeerConnection:Em,shimRTCDataChannel:CC,shimReceiverGetStats:_C,shimRemoveStream:wC,shimSenderGetStats:SC},Symbol.toStringTag,{value:"Module"}));function OC(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(s){this._localStreams||(this._localStreams=[]),this._localStreams.includes(s)||this._localStreams.push(s),s.getAudioTracks().forEach(a=>e.call(this,a,s)),s.getVideoTracks().forEach(a=>e.call(this,a,s))},t.RTCPeerConnection.prototype.addTrack=function(s,...a){return a&&a.forEach(c=>{this._localStreams?this._localStreams.includes(c)||this._localStreams.push(c):this._localStreams=[c]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const s=this._localStreams.indexOf(n);if(s===-1)return;this._localStreams.splice(s,1);const a=n.getTracks();this.getSenders().forEach(c=>{a.includes(c.track)&&this.removeTrack(c)})})}}function MC(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=s=>{s.streams.forEach(a=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(a))return;this._remoteStreams.push(a);const c=new Event("addstream");c.stream=a,this.dispatchEvent(c)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const s=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(a){a.streams.forEach(c=>{if(s._remoteStreams||(s._remoteStreams=[]),s._remoteStreams.indexOf(c)>=0)return;s._remoteStreams.push(c);const u=new Event("addstream");u.stream=c,s.dispatchEvent(u)})}),e.apply(s,arguments)}}}function NC(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,s=e.createAnswer,a=e.setLocalDescription,c=e.setRemoteDescription,u=e.addIceCandidate;e.createOffer=function(p,y){const g=arguments.length>=2?arguments[2]:arguments[0],v=n.apply(this,[g]);return y?(v.then(p,y),Promise.resolve()):v},e.createAnswer=function(p,y){const g=arguments.length>=2?arguments[2]:arguments[0],v=s.apply(this,[g]);return y?(v.then(p,y),Promise.resolve()):v};let f=function(d,p,y){const g=a.apply(this,[d]);return y?(g.then(p,y),Promise.resolve()):g};e.setLocalDescription=f,f=function(d,p,y){const g=c.apply(this,[d]);return y?(g.then(p,y),Promise.resolve()):g},e.setRemoteDescription=f,f=function(d,p,y){const g=u.apply(this,[d]);return y?(g.then(p,y),Promise.resolve()):g},e.addIceCandidate=f}function PC(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,s=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=a=>s(DC(a))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(s,a,c){e.mediaDevices.getUserMedia(s).then(a,c)}).bind(e))}function DC(t){return t&&t.video!==void 0?Object.assign({},t,{video:uC(t.video)}):t}function kC(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(s,a){if(s&&s.iceServers){const c=[];for(let u=0;u<s.iceServers.length;u++){let f=s.iceServers[u];f.urls===void 0&&f.url?(ky("RTCIceServer.url","RTCIceServer.urls"),f=JSON.parse(JSON.stringify(f)),f.urls=f.url,delete f.url,c.push(f)):c.push(s.iceServers[u])}s.iceServers=c}return new e(s,a)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function jC(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function LC(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(s){if(s){typeof s.offerToReceiveAudio<"u"&&(s.offerToReceiveAudio=!!s.offerToReceiveAudio);const a=this.getTransceivers().find(u=>u.receiver.track.kind==="audio");s.offerToReceiveAudio===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):s.offerToReceiveAudio===!0&&!a&&this.addTransceiver("audio",{direction:"recvonly"}),typeof s.offerToReceiveVideo<"u"&&(s.offerToReceiveVideo=!!s.offerToReceiveVideo);const c=this.getTransceivers().find(u=>u.receiver.track.kind==="video");s.offerToReceiveVideo===!1&&c?c.direction==="sendrecv"?c.setDirection?c.setDirection("sendonly"):c.direction="sendonly":c.direction==="recvonly"&&(c.setDirection?c.setDirection("inactive"):c.direction="inactive"):s.offerToReceiveVideo===!0&&!c&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function UC(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const o1=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:UC,shimCallbacksAPI:NC,shimConstraints:DC,shimCreateOfferLegacy:LC,shimGetUserMedia:PC,shimLocalStreamsAPI:OC,shimRTCIceServerUrls:kC,shimRemoteStreamsAPI:MC,shimTrackEventTransceiver:jC},Symbol.toStringTag,{value:"Module"}));var Cp={exports:{}},c1;function rD(){return c1||(c1=1,(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(s=>s.trim())},e.splitSections=function(n){return n.split(`
m=`).map((a,c)=>(c>0?"m="+a:a).trim()+`\r
`)},e.getDescription=function(n){const s=e.splitSections(n);return s&&s[0]},e.getMediaSections=function(n){const s=e.splitSections(n);return s.shift(),s},e.matchPrefix=function(n,s){return e.splitLines(n).filter(a=>a.indexOf(s)===0)},e.parseCandidate=function(n){let s;n.indexOf("a=candidate:")===0?s=n.substring(12).split(" "):s=n.substring(10).split(" ");const a={foundation:s[0],component:{1:"rtp",2:"rtcp"}[s[1]]||s[1],protocol:s[2].toLowerCase(),priority:parseInt(s[3],10),ip:s[4],address:s[4],port:parseInt(s[5],10),type:s[7]};for(let c=8;c<s.length;c+=2)switch(s[c]){case"raddr":a.relatedAddress=s[c+1];break;case"rport":a.relatedPort=parseInt(s[c+1],10);break;case"tcptype":a.tcpType=s[c+1];break;case"ufrag":a.ufrag=s[c+1],a.usernameFragment=s[c+1];break;default:a[s[c]]===void 0&&(a[s[c]]=s[c+1]);break}return a},e.writeCandidate=function(n){const s=[];s.push(n.foundation);const a=n.component;a==="rtp"?s.push(1):a==="rtcp"?s.push(2):s.push(a),s.push(n.protocol.toUpperCase()),s.push(n.priority),s.push(n.address||n.ip),s.push(n.port);const c=n.type;return s.push("typ"),s.push(c),c!=="host"&&n.relatedAddress&&n.relatedPort&&(s.push("raddr"),s.push(n.relatedAddress),s.push("rport"),s.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(s.push("tcptype"),s.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(s.push("ufrag"),s.push(n.usernameFragment||n.ufrag)),"candidate:"+s.join(" ")},e.parseIceOptions=function(n){return n.substring(14).split(" ")},e.parseRtpMap=function(n){let s=n.substring(9).split(" ");const a={payloadType:parseInt(s.shift(),10)};return s=s[0].split("/"),a.name=s[0],a.clockRate=parseInt(s[1],10),a.channels=s.length===3?parseInt(s[2],10):1,a.numChannels=a.channels,a},e.writeRtpMap=function(n){let s=n.payloadType;n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType);const a=n.channels||n.numChannels||1;return"a=rtpmap:"+s+" "+n.name+"/"+n.clockRate+(a!==1?"/"+a:"")+`\r
`},e.parseExtmap=function(n){const s=n.substring(9).split(" ");return{id:parseInt(s[0],10),direction:s[0].indexOf("/")>0?s[0].split("/")[1]:"sendrecv",uri:s[1],attributes:s.slice(2).join(" ")}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},e.parseFmtp=function(n){const s={};let a;const c=n.substring(n.indexOf(" ")+1).split(";");for(let u=0;u<c.length;u++)a=c[u].trim().split("="),s[a[0].trim()]=a[1];return s},e.writeFmtp=function(n){let s="",a=n.payloadType;if(n.preferredPayloadType!==void 0&&(a=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const c=[];Object.keys(n.parameters).forEach(u=>{n.parameters[u]!==void 0?c.push(u+"="+n.parameters[u]):c.push(u)}),s+="a=fmtp:"+a+" "+c.join(";")+`\r
`}return s},e.parseRtcpFb=function(n){const s=n.substring(n.indexOf(" ")+1).split(" ");return{type:s.shift(),parameter:s.join(" ")}},e.writeRtcpFb=function(n){let s="",a=n.payloadType;return n.preferredPayloadType!==void 0&&(a=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(c=>{s+="a=rtcp-fb:"+a+" "+c.type+(c.parameter&&c.parameter.length?" "+c.parameter:"")+`\r
`}),s},e.parseSsrcMedia=function(n){const s=n.indexOf(" "),a={ssrc:parseInt(n.substring(7,s),10)},c=n.indexOf(":",s);return c>-1?(a.attribute=n.substring(s+1,c),a.value=n.substring(c+1)):a.attribute=n.substring(s+1),a},e.parseSsrcGroup=function(n){const s=n.substring(13).split(" ");return{semantics:s.shift(),ssrcs:s.map(a=>parseInt(a,10))}},e.getMid=function(n){const s=e.matchPrefix(n,"a=mid:")[0];if(s)return s.substring(6)},e.parseFingerprint=function(n){const s=n.substring(14).split(" ");return{algorithm:s[0].toLowerCase(),value:s[1].toUpperCase()}},e.getDtlsParameters=function(n,s){return{role:"auto",fingerprints:e.matchPrefix(n+s,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,s){let a="a=setup:"+s+`\r
`;return n.fingerprints.forEach(c=>{a+="a=fingerprint:"+c.algorithm+" "+c.value+`\r
`}),a},e.parseCryptoLine=function(n){const s=n.substring(9).split(" ");return{tag:parseInt(s[0],10),cryptoSuite:s[1],keyParams:s[2],sessionParams:s.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const s=n.substring(7).split("|");return{keyMethod:"inline",keySalt:s[0],lifeTime:s[1],mkiValue:s[2]?s[2].split(":")[0]:void 0,mkiLength:s[2]?s[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,s){return e.matchPrefix(n+s,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,s){const a=e.matchPrefix(n+s,"a=ice-ufrag:")[0],c=e.matchPrefix(n+s,"a=ice-pwd:")[0];return a&&c?{usernameFragment:a.substring(12),password:c.substring(10)}:null},e.writeIceParameters=function(n){let s="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(s+=`a=ice-lite\r
`),s},e.parseRtpParameters=function(n){const s={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},c=e.splitLines(n)[0].split(" ");s.profile=c[2];for(let f=3;f<c.length;f++){const d=c[f],p=e.matchPrefix(n,"a=rtpmap:"+d+" ")[0];if(p){const y=e.parseRtpMap(p),g=e.matchPrefix(n,"a=fmtp:"+d+" ");switch(y.parameters=g.length?e.parseFmtp(g[0]):{},y.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+d+" ").map(e.parseRtcpFb),s.codecs.push(y),y.name.toUpperCase()){case"RED":case"ULPFEC":s.fecMechanisms.push(y.name.toUpperCase());break}}}e.matchPrefix(n,"a=extmap:").forEach(f=>{s.headerExtensions.push(e.parseExtmap(f))});const u=e.matchPrefix(n,"a=rtcp-fb:* ").map(e.parseRtcpFb);return s.codecs.forEach(f=>{u.forEach(d=>{f.rtcpFeedback.find(y=>y.type===d.type&&y.parameter===d.parameter)||f.rtcpFeedback.push(d)})}),s},e.writeRtpDescription=function(n,s){let a="";a+="m="+n+" ",a+=s.codecs.length>0?"9":"0",a+=" "+(s.profile||"UDP/TLS/RTP/SAVPF")+" ",a+=s.codecs.map(u=>u.preferredPayloadType!==void 0?u.preferredPayloadType:u.payloadType).join(" ")+`\r
`,a+=`c=IN IP4 0.0.0.0\r
`,a+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,s.codecs.forEach(u=>{a+=e.writeRtpMap(u),a+=e.writeFmtp(u),a+=e.writeRtcpFb(u)});let c=0;return s.codecs.forEach(u=>{u.maxptime>c&&(c=u.maxptime)}),c>0&&(a+="a=maxptime:"+c+`\r
`),s.headerExtensions&&s.headerExtensions.forEach(u=>{a+=e.writeExtmap(u)}),a},e.parseRtpEncodingParameters=function(n){const s=[],a=e.parseRtpParameters(n),c=a.fecMechanisms.indexOf("RED")!==-1,u=a.fecMechanisms.indexOf("ULPFEC")!==-1,f=e.matchPrefix(n,"a=ssrc:").map(v=>e.parseSsrcMedia(v)).filter(v=>v.attribute==="cname"),d=f.length>0&&f[0].ssrc;let p;const y=e.matchPrefix(n,"a=ssrc-group:FID").map(v=>v.substring(17).split(" ").map(C=>parseInt(C,10)));y.length>0&&y[0].length>1&&y[0][0]===d&&(p=y[0][1]),a.codecs.forEach(v=>{if(v.name.toUpperCase()==="RTX"&&v.parameters.apt){let S={ssrc:d,codecPayloadType:parseInt(v.parameters.apt,10)};d&&p&&(S.rtx={ssrc:p}),s.push(S),c&&(S=JSON.parse(JSON.stringify(S)),S.fec={ssrc:d,mechanism:u?"red+ulpfec":"red"},s.push(S))}}),s.length===0&&d&&s.push({ssrc:d});let g=e.matchPrefix(n,"b=");return g.length&&(g[0].indexOf("b=TIAS:")===0?g=parseInt(g[0].substring(7),10):g[0].indexOf("b=AS:")===0?g=parseInt(g[0].substring(5),10)*1e3*.95-2e3*8:g=void 0,s.forEach(v=>{v.maxBitrate=g})),s},e.parseRtcpParameters=function(n){const s={},a=e.matchPrefix(n,"a=ssrc:").map(f=>e.parseSsrcMedia(f)).filter(f=>f.attribute==="cname")[0];a&&(s.cname=a.value,s.ssrc=a.ssrc);const c=e.matchPrefix(n,"a=rtcp-rsize");s.reducedSize=c.length>0,s.compound=c.length===0;const u=e.matchPrefix(n,"a=rtcp-mux");return s.mux=u.length>0,s},e.writeRtcpParameters=function(n){let s="";return n.reducedSize&&(s+=`a=rtcp-rsize\r
`),n.mux&&(s+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(s+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),s},e.parseMsid=function(n){let s;const a=e.matchPrefix(n,"a=msid:");if(a.length===1)return s=a[0].substring(7).split(" "),{stream:s[0],track:s[1]};const c=e.matchPrefix(n,"a=ssrc:").map(u=>e.parseSsrcMedia(u)).filter(u=>u.attribute==="msid");if(c.length>0)return s=c[0].value.split(" "),{stream:s[0],track:s[1]}},e.parseSctpDescription=function(n){const s=e.parseMLine(n),a=e.matchPrefix(n,"a=max-message-size:");let c;a.length>0&&(c=parseInt(a[0].substring(19),10)),isNaN(c)&&(c=65536);const u=e.matchPrefix(n,"a=sctp-port:");if(u.length>0)return{port:parseInt(u[0].substring(12),10),protocol:s.fmt,maxMessageSize:c};const f=e.matchPrefix(n,"a=sctpmap:");if(f.length>0){const d=f[0].substring(10).split(" ");return{port:parseInt(d[0],10),protocol:d[1],maxMessageSize:c}}},e.writeSctpDescription=function(n,s){let a=[];return n.protocol!=="DTLS/SCTP"?a=["m="+n.kind+" 9 "+n.protocol+" "+s.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+s.port+`\r
`]:a=["m="+n.kind+" 9 "+n.protocol+" "+s.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+s.port+" "+s.protocol+` 65535\r
`],s.maxMessageSize!==void 0&&a.push("a=max-message-size:"+s.maxMessageSize+`\r
`),a.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,s,a){let c;const u=s!==void 0?s:2;return n?c=n:c=e.generateSessionId(),`v=0\r
o=`+(a||"thisisadapterortc")+" "+c+" "+u+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,s){const a=e.splitLines(n);for(let c=0;c<a.length;c++)switch(a[c]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return a[c].substring(2)}return s?e.getDirection(s):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substring(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const a=e.splitLines(n)[0].substring(2).split(" ");return{kind:a[0],port:parseInt(a[1],10),protocol:a[2],fmt:a.slice(3).join(" ")}},e.parseOLine=function(n){const a=e.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:a[0],sessionId:a[1],sessionVersion:parseInt(a[2],10),netType:a[3],addressType:a[4],address:a[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const s=e.splitLines(n);for(let a=0;a<s.length;a++)if(s[a].length<2||s[a].charAt(1)!=="=")return!1;return!0},t.exports=e})(Cp)),Cp.exports}var IC=rD();const eo=Vc(IC),sD=aS({__proto__:null,default:eo},[IC]);function ku(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(s){if(typeof s=="object"&&s.candidate&&s.candidate.indexOf("a=")===0&&(s=JSON.parse(JSON.stringify(s)),s.candidate=s.candidate.substring(2)),s.candidate&&s.candidate.length){const a=new e(s),c=eo.parseCandidate(s.candidate);for(const u in c)u in a||Object.defineProperty(a,u,{value:c[u]});return a.toJSON=function(){return{candidate:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex,usernameFragment:a.usernameFragment}},a}return new e(s)},t.RTCIceCandidate.prototype=e.prototype,ha(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Tm(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||ha(t,"icecandidate",e=>{if(e.candidate){const n=eo.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function ju(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(f){if(!f||!f.sdp)return!1;const d=eo.splitSections(f.sdp);return d.shift(),d.some(p=>{const y=eo.parseMLine(p);return y&&y.kind==="application"&&y.protocol.indexOf("SCTP")!==-1})},s=function(f){const d=f.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(d===null||d.length<2)return-1;const p=parseInt(d[1],10);return p!==p?-1:p},a=function(f){let d=65536;return e.browser==="firefox"&&(e.version<57?f===-1?d=16384:d=2147483637:e.version<60?d=e.version===57?65535:65536:d=2147483637),d},c=function(f,d){let p=65536;e.browser==="firefox"&&e.version===57&&(p=65535);const y=eo.matchPrefix(f.sdp,"a=max-message-size:");return y.length>0?p=parseInt(y[0].substring(19),10):e.browser==="firefox"&&d!==-1&&(p=2147483637),p},u=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:d}=this.getConfiguration();d==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const d=s(arguments[0]),p=a(d),y=c(arguments[0],d);let g;p===0&&y===0?g=Number.POSITIVE_INFINITY:p===0||y===0?g=Math.max(p,y):g=Math.min(p,y);const v={};Object.defineProperty(v,"maxMessageSize",{get(){return g}}),this._sctp=v}return u.apply(this,arguments)}}function Lu(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(s,a){const c=s.send;s.send=function(){const f=arguments[0],d=f.length||f.size||f.byteLength;if(s.readyState==="open"&&a.sctp&&d>a.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+a.sctp.maxMessageSize+" bytes)");return c.apply(s,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const a=n.apply(this,arguments);return e(a,this),a},ha(t,"datachannel",s=>(e(s.channel,s.target),s))}function Rm(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const s=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=a=>{const c=a.target;if(c._lastConnectionState!==c.connectionState){c._lastConnectionState=c.connectionState;const u=new Event("connectionstatechange",a);c.dispatchEvent(u)}return a},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),s.apply(this,arguments)}})}function Am(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(a){if(a&&a.sdp&&a.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const c=a.sdp.split(`
`).filter(u=>u.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&a instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:a.type,sdp:c}):a.sdp=c}return n.apply(this,arguments)}}function Uu(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Iu(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let a=arguments[0]||{};if(typeof a!="object"||a.type&&a.sdp)return n.apply(this,arguments);if(a={type:a.type,sdp:a.sdp},!a.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":a.type="offer";break;default:a.type="answer";break}return a.sdp||a.type!=="offer"&&a.type!=="answer"?n.apply(this,[a]):(a.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(u=>n.apply(this,[u]))})}const iD=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Am,shimAddIceCandidateNullOrEmpty:Uu,shimConnectionState:Rm,shimMaxMessageSize:ju,shimParameterlessSetLocalDescription:Iu,shimRTCIceCandidate:ku,shimRTCIceCandidateRelayProtocol:Tm,shimSendThrowTypeError:Lu},Symbol.toStringTag,{value:"Module"}));function aD({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=lC,s=tD(t),a={browserDetails:s,commonShim:iD,extractVersion:Sc,disableLog:WP,disableWarnings:eD,sdp:sD};switch(s.browser){case"chrome":if(!i1||!Cm||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),a;if(s.version===null)return n("Chrome shim can not determine version, not shimming."),a;n("adapter.js shimming chrome."),a.browserShim=i1,Uu(t,s),Iu(t),fC(t,s),dC(t),Cm(t,s),hC(t),gC(t,s),pC(t),mC(t),vC(t,s),ku(t),Tm(t),Rm(t),ju(t,s),Lu(t),Am(t,s);break;case"firefox":if(!a1||!Em||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),a;n("adapter.js shimming firefox."),a.browserShim=a1,Uu(t,s),Iu(t),xC(t,s),Em(t,s),bC(t),wC(t),SC(t),_C(t),CC(t),EC(t),TC(t),RC(t),AC(t),ku(t),Rm(t),ju(t,s),Lu(t);break;case"safari":if(!o1||!e.shimSafari)return n("Safari shim is not included in this adapter release."),a;n("adapter.js shimming safari."),a.browserShim=o1,Uu(t,s),Iu(t),kC(t),LC(t),NC(t),OC(t),MC(t),jC(t),PC(t),UC(t),ku(t),Tm(t),ju(t,s),Lu(t),Am(t,s);break;default:n("Unsupported browser!");break}return a}const l1=aD({window:typeof window>"u"?void 0:window});var ta=4294967295;function oD(t,e,n){var s=n/4294967296,a=n;t.setUint32(e,s),t.setUint32(e+4,a)}function zC(t,e,n){var s=Math.floor(n/4294967296),a=n;t.setUint32(e,s),t.setUint32(e+4,a)}function BC(t,e){var n=t.getInt32(e),s=t.getUint32(e+4);return n*4294967296+s}function cD(t,e){var n=t.getUint32(e),s=t.getUint32(e+4);return n*4294967296+s}var jy={},Ep,Tp,Rp,Bf=(typeof process>"u"||((Ep=process==null?void 0:jy)===null||Ep===void 0?void 0:Ep.TEXT_ENCODING)!=="never")&&typeof TextEncoder<"u"&&typeof TextDecoder<"u";function u1(t){for(var e=t.length,n=0,s=0;s<e;){var a=t.charCodeAt(s++);if((a&4294967168)===0){n++;continue}else if((a&4294965248)===0)n+=2;else{if(a>=55296&&a<=56319&&s<e){var c=t.charCodeAt(s);(c&64512)===56320&&(++s,a=((a&1023)<<10)+(c&1023)+65536)}(a&4294901760)===0?n+=3:n+=4}}return n}function lD(t,e,n){for(var s=t.length,a=n,c=0;c<s;){var u=t.charCodeAt(c++);if((u&4294967168)===0){e[a++]=u;continue}else if((u&4294965248)===0)e[a++]=u>>6&31|192;else{if(u>=55296&&u<=56319&&c<s){var f=t.charCodeAt(c);(f&64512)===56320&&(++c,u=((u&1023)<<10)+(f&1023)+65536)}(u&4294901760)===0?(e[a++]=u>>12&15|224,e[a++]=u>>6&63|128):(e[a++]=u>>18&7|240,e[a++]=u>>12&63|128,e[a++]=u>>6&63|128)}e[a++]=u&63|128}}var Oc=Bf?new TextEncoder:void 0,uD=Bf?typeof process<"u"&&((Tp=process==null?void 0:jy)===null||Tp===void 0?void 0:Tp.TEXT_ENCODING)!=="force"?200:0:ta;function fD(t,e,n){e.set(Oc.encode(t),n)}function dD(t,e,n){Oc.encodeInto(t,e.subarray(n))}var hD=Oc?.encodeInto?dD:fD,pD=4096;function HC(t,e,n){for(var s=e,a=s+n,c=[],u="";s<a;){var f=t[s++];if((f&128)===0)c.push(f);else if((f&224)===192){var d=t[s++]&63;c.push((f&31)<<6|d)}else if((f&240)===224){var d=t[s++]&63,p=t[s++]&63;c.push((f&31)<<12|d<<6|p)}else if((f&248)===240){var d=t[s++]&63,p=t[s++]&63,y=t[s++]&63,g=(f&7)<<18|d<<12|p<<6|y;g>65535&&(g-=65536,c.push(g>>>10&1023|55296),g=56320|g&1023),c.push(g)}else c.push(f);c.length>=pD&&(u+=String.fromCharCode.apply(String,c),c.length=0)}return c.length>0&&(u+=String.fromCharCode.apply(String,c)),u}var mD=Bf?new TextDecoder:null,yD=Bf?typeof process<"u"&&((Rp=process==null?void 0:jy)===null||Rp===void 0?void 0:Rp.TEXT_DECODER)!=="force"?200:0:ta;function gD(t,e,n){var s=t.subarray(e,e+n);return mD.decode(s)}var bu=(function(){function t(e,n){this.type=e,this.data=n}return t})(),vD=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=a[c])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function s(){this.constructor=e}e.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}})(),ss=(function(t){vD(e,t);function e(n){var s=t.call(this,n)||this,a=Object.create(e.prototype);return Object.setPrototypeOf(s,a),Object.defineProperty(s,"name",{configurable:!0,enumerable:!1,value:e.name}),s}return e})(Error),xD=-1,bD=4294967296-1,SD=17179869184-1;function _D(t){var e=t.sec,n=t.nsec;if(e>=0&&n>=0&&e<=SD)if(n===0&&e<=bD){var s=new Uint8Array(4),a=new DataView(s.buffer);return a.setUint32(0,e),s}else{var c=e/4294967296,u=e&4294967295,s=new Uint8Array(8),a=new DataView(s.buffer);return a.setUint32(0,n<<2|c&3),a.setUint32(4,u),s}else{var s=new Uint8Array(12),a=new DataView(s.buffer);return a.setUint32(0,n),zC(a,4,e),s}}function wD(t){var e=t.getTime(),n=Math.floor(e/1e3),s=(e-n*1e3)*1e6,a=Math.floor(s/1e9);return{sec:n+a,nsec:s-a*1e9}}function CD(t){if(t instanceof Date){var e=wD(t);return _D(e)}else return null}function ED(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:{var n=e.getUint32(0),s=0;return{sec:n,nsec:s}}case 8:{var a=e.getUint32(0),c=e.getUint32(4),n=(a&3)*4294967296+c,s=a>>>2;return{sec:n,nsec:s}}case 12:{var n=BC(e,4),s=e.getUint32(0);return{sec:n,nsec:s}}default:throw new ss("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(t.length))}}function TD(t){var e=ED(t);return new Date(e.sec*1e3+e.nsec/1e6)}var RD={type:xD,encode:CD,decode:TD},$C=(function(){function t(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(RD)}return t.prototype.register=function(e){var n=e.type,s=e.encode,a=e.decode;if(n>=0)this.encoders[n]=s,this.decoders[n]=a;else{var c=1+n;this.builtInEncoders[c]=s,this.builtInDecoders[c]=a}},t.prototype.tryToEncode=function(e,n){for(var s=0;s<this.builtInEncoders.length;s++){var a=this.builtInEncoders[s];if(a!=null){var c=a(e,n);if(c!=null){var u=-1-s;return new bu(u,c)}}}for(var s=0;s<this.encoders.length;s++){var a=this.encoders[s];if(a!=null){var c=a(e,n);if(c!=null){var u=s;return new bu(u,c)}}}return e instanceof bu?e:null},t.prototype.decode=function(e,n,s){var a=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return a?a(e,n,s):new bu(n,e)},t.defaultCodec=new t,t})();function lf(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer?new Uint8Array(t):Uint8Array.from(t)}function AD(t){if(t instanceof ArrayBuffer)return new DataView(t);var e=lf(t);return new DataView(e.buffer,e.byteOffset,e.byteLength)}var OD=100,MD=2048,ND=(function(){function t(e,n,s,a,c,u,f,d){e===void 0&&(e=$C.defaultCodec),n===void 0&&(n=void 0),s===void 0&&(s=OD),a===void 0&&(a=MD),c===void 0&&(c=!1),u===void 0&&(u=!1),f===void 0&&(f=!1),d===void 0&&(d=!1),this.extensionCodec=e,this.context=n,this.maxDepth=s,this.initialBufferSize=a,this.sortKeys=c,this.forceFloat32=u,this.ignoreUndefined=f,this.forceIntegerToFloat=d,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return t.prototype.reinitializeState=function(){this.pos=0},t.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},t.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},t.prototype.doEncode=function(e,n){if(n>this.maxDepth)throw new Error("Too deep objects in depth ".concat(n));e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.encodeObject(e,n)},t.prototype.ensureBufferSizeToWrite=function(e){var n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)},t.prototype.resizeBuffer=function(e){var n=new ArrayBuffer(e),s=new Uint8Array(n),a=new DataView(n);s.set(this.bytes),this.view=a,this.bytes=s},t.prototype.encodeNil=function(){this.writeU8(192)},t.prototype.encodeBoolean=function(e){e===!1?this.writeU8(194):this.writeU8(195)},t.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},t.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error("Too long string: ".concat(e," bytes in UTF-8"))},t.prototype.encodeString=function(e){var n=5,s=e.length;if(s>uD){var a=u1(e);this.ensureBufferSizeToWrite(n+a),this.writeStringHeader(a),hD(e,this.bytes,this.pos),this.pos+=a}else{var a=u1(e);this.ensureBufferSizeToWrite(n+a),this.writeStringHeader(a),lD(e,this.bytes,this.pos),this.pos+=a}},t.prototype.encodeObject=function(e,n){var s=this.extensionCodec.tryToEncode(e,this.context);if(s!=null)this.encodeExtension(s);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)))},t.prototype.encodeBinary=function(e){var n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error("Too large binary: ".concat(n));var s=lf(e);this.writeU8a(s)},t.prototype.encodeArray=function(e,n){var s=e.length;if(s<16)this.writeU8(144+s);else if(s<65536)this.writeU8(220),this.writeU16(s);else if(s<4294967296)this.writeU8(221),this.writeU32(s);else throw new Error("Too large array: ".concat(s));for(var a=0,c=e;a<c.length;a++){var u=c[a];this.doEncode(u,n+1)}},t.prototype.countWithoutUndefined=function(e,n){for(var s=0,a=0,c=n;a<c.length;a++){var u=c[a];e[u]!==void 0&&s++}return s},t.prototype.encodeMap=function(e,n){var s=Object.keys(e);this.sortKeys&&s.sort();var a=this.ignoreUndefined?this.countWithoutUndefined(e,s):s.length;if(a<16)this.writeU8(128+a);else if(a<65536)this.writeU8(222),this.writeU16(a);else if(a<4294967296)this.writeU8(223),this.writeU32(a);else throw new Error("Too large map object: ".concat(a));for(var c=0,u=s;c<u.length;c++){var f=u[c],d=e[f];this.ignoreUndefined&&d===void 0||(this.encodeString(f),this.doEncode(d,n+1))}},t.prototype.encodeExtension=function(e){var n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error("Too large extension object: ".concat(n));this.writeI8(e.type),this.writeU8a(e.data)},t.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},t.prototype.writeU8a=function(e){var n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n},t.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},t.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},t.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},t.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},t.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},t.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},t.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},t.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),oD(this.view,this.pos,e),this.pos+=8},t.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),zC(this.view,this.pos,e),this.pos+=8},t})();function Ap(t){return"".concat(t<0?"-":"","0x").concat(Math.abs(t).toString(16).padStart(2,"0"))}var PD=16,DD=16,kD=(function(){function t(e,n){e===void 0&&(e=PD),n===void 0&&(n=DD),this.maxKeyLength=e,this.maxLengthPerKey=n,this.hit=0,this.miss=0,this.caches=[];for(var s=0;s<this.maxKeyLength;s++)this.caches.push([])}return t.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},t.prototype.find=function(e,n,s){var a=this.caches[s-1];e:for(var c=0,u=a;c<u.length;c++){for(var f=u[c],d=f.bytes,p=0;p<s;p++)if(d[p]!==e[n+p])continue e;return f.str}return null},t.prototype.store=function(e,n){var s=this.caches[e.length-1],a={bytes:e,str:n};s.length>=this.maxLengthPerKey?s[Math.random()*s.length|0]=a:s.push(a)},t.prototype.decode=function(e,n,s){var a=this.find(e,n,s);if(a!=null)return this.hit++,a;this.miss++;var c=HC(e,n,s),u=Uint8Array.prototype.slice.call(e,n,n+s);return this.store(u,c),c},t})(),jD=function(t,e,n,s){function a(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function f(y){try{p(s.next(y))}catch(g){u(g)}}function d(y){try{p(s.throw(y))}catch(g){u(g)}}function p(y){y.done?c(y.value):a(y.value).then(f,d)}p((s=s.apply(t,e||[])).next())})},Op=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,a,c,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(p){return function(y){return d([p,y])}}function d(p){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,a&&(c=p[0]&2?a.return:p[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,p[1])).done)return c;switch(a=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,a=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){n.label=p[1];break}if(p[0]===6&&n.label<c[1]){n.label=c[1],c=p;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(p);break}c[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(y){p=[6,y],a=0}finally{s=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},f1=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(c){n[c]=t[c]&&function(u){return new Promise(function(f,d){u=t[c](u),a(f,d,u.done,u.value)})}}function a(c,u,f,d){Promise.resolve(d).then(function(p){c({value:p,done:f})},u)}},to=function(t){return this instanceof to?(this.v=t,this):new to(t)},LD=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),a,c=[];return a={},u("next"),u("throw"),u("return"),a[Symbol.asyncIterator]=function(){return this},a;function u(v){s[v]&&(a[v]=function(S){return new Promise(function(C,E){c.push([v,S,C,E])>1||f(v,S)})})}function f(v,S){try{d(s[v](S))}catch(C){g(c[0][3],C)}}function d(v){v.value instanceof to?Promise.resolve(v.value.v).then(p,y):g(c[0][2],v)}function p(v){f("next",v)}function y(v){f("throw",v)}function g(v,S){v(S),c.shift(),c.length&&f(c[0][0],c[0][1])}},UD=function(t){var e=typeof t;return e==="string"||e==="number"},hc=-1,Ly=new DataView(new ArrayBuffer(0)),ID=new Uint8Array(Ly.buffer),Om=(function(){try{Ly.getInt8(0)}catch(t){return t.constructor}throw new Error("never reached")})(),d1=new Om("Insufficient data"),zD=new kD,BD=(function(){function t(e,n,s,a,c,u,f,d){e===void 0&&(e=$C.defaultCodec),n===void 0&&(n=void 0),s===void 0&&(s=ta),a===void 0&&(a=ta),c===void 0&&(c=ta),u===void 0&&(u=ta),f===void 0&&(f=ta),d===void 0&&(d=zD),this.extensionCodec=e,this.context=n,this.maxStrLength=s,this.maxBinLength=a,this.maxArrayLength=c,this.maxMapLength=u,this.maxExtLength=f,this.keyDecoder=d,this.totalPos=0,this.pos=0,this.view=Ly,this.bytes=ID,this.headByte=hc,this.stack=[]}return t.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=hc,this.stack.length=0},t.prototype.setBuffer=function(e){this.bytes=lf(e),this.view=AD(this.bytes),this.pos=0},t.prototype.appendBuffer=function(e){if(this.headByte===hc&&!this.hasRemaining(1))this.setBuffer(e);else{var n=this.bytes.subarray(this.pos),s=lf(e),a=new Uint8Array(n.length+s.length);a.set(n),a.set(s,n.length),this.setBuffer(a)}},t.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},t.prototype.createExtraByteError=function(e){var n=this,s=n.view,a=n.pos;return new RangeError("Extra ".concat(s.byteLength-a," of ").concat(s.byteLength," byte(s) found at buffer[").concat(e,"]"))},t.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n},t.prototype.decodeMulti=function(e){return Op(this,function(n){switch(n.label){case 0:this.reinitializeState(),this.setBuffer(e),n.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return n.sent(),[3,1];case 3:return[2]}})},t.prototype.decodeAsync=function(e){var n,s,a,c;return jD(this,void 0,void 0,function(){var u,f,d,p,y,g,v,S;return Op(this,function(C){switch(C.label){case 0:u=!1,C.label=1;case 1:C.trys.push([1,6,7,12]),n=f1(e),C.label=2;case 2:return[4,n.next()];case 3:if(s=C.sent(),!!s.done)return[3,5];if(d=s.value,u)throw this.createExtraByteError(this.totalPos);this.appendBuffer(d);try{f=this.doDecodeSync(),u=!0}catch(E){if(!(E instanceof Om))throw E}this.totalPos+=this.pos,C.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return p=C.sent(),a={error:p},[3,12];case 7:return C.trys.push([7,,10,11]),s&&!s.done&&(c=n.return)?[4,c.call(n)]:[3,9];case 8:C.sent(),C.label=9;case 9:return[3,11];case 10:if(a)throw a.error;return[7];case 11:return[7];case 12:if(u){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,f]}throw y=this,g=y.headByte,v=y.pos,S=y.totalPos,new RangeError("Insufficient data in parsing ".concat(Ap(g)," at ").concat(S," (").concat(v," in the current buffer)"))}})})},t.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},t.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},t.prototype.decodeMultiAsync=function(e,n){return LD(this,arguments,function(){var a,c,u,f,d,p,y,g,v;return Op(this,function(S){switch(S.label){case 0:a=n,c=-1,S.label=1;case 1:S.trys.push([1,13,14,19]),u=f1(e),S.label=2;case 2:return[4,to(u.next())];case 3:if(f=S.sent(),!!f.done)return[3,12];if(d=f.value,n&&c===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(d),a&&(c=this.readArraySize(),a=!1,this.complete()),S.label=4;case 4:S.trys.push([4,9,,10]),S.label=5;case 5:return[4,to(this.doDecodeSync())];case 6:return[4,S.sent()];case 7:return S.sent(),--c===0?[3,8]:[3,5];case 8:return[3,10];case 9:if(p=S.sent(),!(p instanceof Om))throw p;return[3,10];case 10:this.totalPos+=this.pos,S.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return y=S.sent(),g={error:y},[3,19];case 14:return S.trys.push([14,,17,18]),f&&!f.done&&(v=u.return)?[4,to(v.call(u))]:[3,16];case 15:S.sent(),S.label=16;case 16:return[3,18];case 17:if(g)throw g.error;return[7];case 18:return[7];case 19:return[2]}})})},t.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),n=void 0;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){var s=e-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e<160){var s=e-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else{var a=e-160;n=this.decodeUtf8String(a,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)n=this.readI64();else if(e===217){var a=this.lookU8();n=this.decodeUtf8String(a,1)}else if(e===218){var a=this.lookU16();n=this.decodeUtf8String(a,2)}else if(e===219){var a=this.lookU32();n=this.decodeUtf8String(a,4)}else if(e===220){var s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===221){var s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===222){var s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===223){var s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===196){var s=this.lookU8();n=this.decodeBinary(s,1)}else if(e===197){var s=this.lookU16();n=this.decodeBinary(s,2)}else if(e===198){var s=this.lookU32();n=this.decodeBinary(s,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){var s=this.lookU8();n=this.decodeExtension(s,1)}else if(e===200){var s=this.lookU16();n=this.decodeExtension(s,2)}else if(e===201){var s=this.lookU32();n=this.decodeExtension(s,4)}else throw new ss("Unrecognized type byte: ".concat(Ap(e)));this.complete();for(var c=this.stack;c.length>0;){var u=c[c.length-1];if(u.type===0)if(u.array[u.position]=n,u.position++,u.position===u.size)c.pop(),n=u.array;else continue e;else if(u.type===1){if(!UD(n))throw new ss("The type of key must be string or number but "+typeof n);if(n==="__proto__")throw new ss("The key __proto__ is not allowed");u.key=n,u.type=2;continue e}else if(u.map[u.key]=n,u.readCount++,u.readCount===u.size)c.pop(),n=u.map;else{u.key=null,u.type=1;continue e}}return n}},t.prototype.readHeadByte=function(){return this.headByte===hc&&(this.headByte=this.readU8()),this.headByte},t.prototype.complete=function(){this.headByte=hc},t.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new ss("Unrecognized array type byte: ".concat(Ap(e)))}}},t.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new ss("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},t.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new ss("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:new Array(e),position:0})},t.prototype.decodeUtf8String=function(e,n){var s;if(e>this.maxStrLength)throw new ss("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+n+e)throw d1;var a=this.pos+n,c;return this.stateIsMapKey()&&(!((s=this.keyDecoder)===null||s===void 0)&&s.canBeCached(e))?c=this.keyDecoder.decode(this.bytes,a,e):e>yD?c=gD(this.bytes,a,e):c=HC(this.bytes,a,e),this.pos+=n+e,c},t.prototype.stateIsMapKey=function(){if(this.stack.length>0){var e=this.stack[this.stack.length-1];return e.type===1}return!1},t.prototype.decodeBinary=function(e,n){if(e>this.maxBinLength)throw new ss("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+n))throw d1;var s=this.pos+n,a=this.bytes.subarray(s,s+e);return this.pos+=n+e,a},t.prototype.decodeExtension=function(e,n){if(e>this.maxExtLength)throw new ss("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var s=this.view.getInt8(this.pos+n),a=this.decodeBinary(e,n+1);return this.extensionCodec.decode(a,s,this.context)},t.prototype.lookU8=function(){return this.view.getUint8(this.pos)},t.prototype.lookU16=function(){return this.view.getUint16(this.pos)},t.prototype.lookU32=function(){return this.view.getUint32(this.pos)},t.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},t.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},t.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},t.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},t.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},t.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},t.prototype.readU64=function(){var e=cD(this.view,this.pos);return this.pos+=8,e},t.prototype.readI64=function(){var e=BC(this.view,this.pos);return this.pos+=8,e},t.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},t.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},t})(),HD={},$D=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,a,c,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(p){return function(y){return d([p,y])}}function d(p){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,a&&(c=p[0]&2?a.return:p[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,p[1])).done)return c;switch(a=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,a=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){n.label=p[1];break}if(p[0]===6&&n.label<c[1]){n.label=c[1],c=p;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(p);break}c[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(y){p=[6,y],a=0}finally{s=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},no=function(t){return this instanceof no?(this.v=t,this):new no(t)},VD=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),a,c=[];return a={},u("next"),u("throw"),u("return"),a[Symbol.asyncIterator]=function(){return this},a;function u(v){s[v]&&(a[v]=function(S){return new Promise(function(C,E){c.push([v,S,C,E])>1||f(v,S)})})}function f(v,S){try{d(s[v](S))}catch(C){g(c[0][3],C)}}function d(v){v.value instanceof no?Promise.resolve(v.value.v).then(p,y):g(c[0][2],v)}function p(v){f("next",v)}function y(v){f("throw",v)}function g(v,S){v(S),c.shift(),c.length&&f(c[0][0],c[0][1])}};function qD(t){return t[Symbol.asyncIterator]!=null}function FD(t){if(t==null)throw new Error("Assertion Failure: value must not be null nor undefined")}function YD(t){return VD(this,arguments,function(){var n,s,a,c;return $D(this,function(u){switch(u.label){case 0:n=t.getReader(),u.label=1;case 1:u.trys.push([1,,9,10]),u.label=2;case 2:return[4,no(n.read())];case 3:return s=u.sent(),a=s.done,c=s.value,a?[4,no(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return FD(c),[4,no(c)];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function GD(t){return qD(t)?t:YD(t)}function KD(t,e){e===void 0&&(e=HD);var n=GD(t),s=new BD(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength);return s.decodeStream(n)}function pa(t,e,n,s){Object.defineProperty(t,e,{get:n,set:s,enumerable:!0,configurable:!0})}class VC{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const n=[],s=e.byteLength,a=Math.ceil(s/this.chunkedMTU);let c=0,u=0;for(;u<s;){const f=Math.min(s,u+this.chunkedMTU),d=e.slice(u,f),p={__peerData:this._dataCount,n:c,data:d,total:a};n.push(p),u=f,c++}return this._dataCount++,n}}}function XD(t){let e=0;for(const a of t)e+=a.byteLength;const n=new Uint8Array(e);let s=0;for(const a of t)n.set(a,s),s+=a.byteLength;return n}const Mp=l1.default||l1,pc=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const t=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(t)?t==="chrome"?e>=this.minChromeVersion:t==="firefox"?e>=this.minFirefoxVersion:t==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return Mp.browserDetails.browser}getVersion(){return Mp.browserDetails.version||0}isUnifiedPlanSupported(){const t=this.getBrowser(),e=Mp.browserDetails.version||0;if(t==="chrome"&&e<this.minChromeVersion)return!1;if(t==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,s=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),s=!0}catch{}finally{n&&n.close()}return s}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},QD=t=>!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t),qC=()=>Math.random().toString(36).slice(2),h1={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class ZD extends VC{noop(){}blobToArrayBuffer(e,n){const s=new FileReader;return s.onload=function(a){a.target&&n(a.target.result)},s.readAsArrayBuffer(e),s}binaryStringToArrayBuffer(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=h1,this.browser=pc.getBrowser(),this.browserVersion=pc.getVersion(),this.pack=aC,this.unpack=iC,this.supports=(function(){const n={browser:pc.isBrowserSupported(),webRTC:pc.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let s;try{s=new RTCPeerConnection(h1),n.audioVideo=!0;let a;try{a=s.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!a.ordered;try{a.binaryType="blob",n.binaryBlob=!pc.isIOS}catch{}}catch{}finally{a&&a.close()}}catch{}finally{s&&s.close()}return n})(),this.validateId=QD,this.randomToken=qC}}const Wn=new ZD,JD="PeerJS: ";class WD{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...n){const s=[JD,...n];for(const a in s)s[a]instanceof Error&&(s[a]="("+s[a].name+") "+s[a].message);e>=3?console.log(...s):e>=2?console.warn("WARNING",...s):e>=1&&console.error("ERROR",...s)}constructor(){this._logLevel=0}}var Ge=new WD,Uy={},e4=Object.prototype.hasOwnProperty,tr="~";function Lc(){}Object.create&&(Lc.prototype=Object.create(null),new Lc().__proto__||(tr=!1));function t4(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function FC(t,e,n,s,a){if(typeof n!="function")throw new TypeError("The listener must be a function");var c=new t4(n,s||t,a),u=tr?tr+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],c]:t._events[u].push(c):(t._events[u]=c,t._eventsCount++),t}function zu(t,e){--t._eventsCount===0?t._events=new Lc:delete t._events[e]}function Yn(){this._events=new Lc,this._eventsCount=0}Yn.prototype.eventNames=function(){var e=[],n,s;if(this._eventsCount===0)return e;for(s in n=this._events)e4.call(n,s)&&e.push(tr?s.slice(1):s);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(n)):e};Yn.prototype.listeners=function(e){var n=tr?tr+e:e,s=this._events[n];if(!s)return[];if(s.fn)return[s.fn];for(var a=0,c=s.length,u=new Array(c);a<c;a++)u[a]=s[a].fn;return u};Yn.prototype.listenerCount=function(e){var n=tr?tr+e:e,s=this._events[n];return s?s.fn?1:s.length:0};Yn.prototype.emit=function(e,n,s,a,c,u){var f=tr?tr+e:e;if(!this._events[f])return!1;var d=this._events[f],p=arguments.length,y,g;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),p){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,n),!0;case 3:return d.fn.call(d.context,n,s),!0;case 4:return d.fn.call(d.context,n,s,a),!0;case 5:return d.fn.call(d.context,n,s,a,c),!0;case 6:return d.fn.call(d.context,n,s,a,c,u),!0}for(g=1,y=new Array(p-1);g<p;g++)y[g-1]=arguments[g];d.fn.apply(d.context,y)}else{var v=d.length,S;for(g=0;g<v;g++)switch(d[g].once&&this.removeListener(e,d[g].fn,void 0,!0),p){case 1:d[g].fn.call(d[g].context);break;case 2:d[g].fn.call(d[g].context,n);break;case 3:d[g].fn.call(d[g].context,n,s);break;case 4:d[g].fn.call(d[g].context,n,s,a);break;default:if(!y)for(S=1,y=new Array(p-1);S<p;S++)y[S-1]=arguments[S];d[g].fn.apply(d[g].context,y)}}return!0};Yn.prototype.on=function(e,n,s){return FC(this,e,n,s,!1)};Yn.prototype.once=function(e,n,s){return FC(this,e,n,s,!0)};Yn.prototype.removeListener=function(e,n,s,a){var c=tr?tr+e:e;if(!this._events[c])return this;if(!n)return zu(this,c),this;var u=this._events[c];if(u.fn)u.fn===n&&(!a||u.once)&&(!s||u.context===s)&&zu(this,c);else{for(var f=0,d=[],p=u.length;f<p;f++)(u[f].fn!==n||a&&!u[f].once||s&&u[f].context!==s)&&d.push(u[f]);d.length?this._events[c]=d.length===1?d[0]:d:zu(this,c)}return this};Yn.prototype.removeAllListeners=function(e){var n;return e?(n=tr?tr+e:e,this._events[n]&&zu(this,n)):(this._events=new Lc,this._eventsCount=0),this};Yn.prototype.off=Yn.prototype.removeListener;Yn.prototype.addListener=Yn.prototype.on;Yn.prefixed=tr;Yn.EventEmitter=Yn;Uy=Yn;var ma={};pa(ma,"ConnectionType",()=>Qs);pa(ma,"PeerErrorType",()=>gn);pa(ma,"BaseConnectionErrorType",()=>uf);pa(ma,"DataConnectionErrorType",()=>Hf);pa(ma,"SerializationType",()=>Kc);pa(ma,"SocketEventType",()=>Gs);pa(ma,"ServerMessageType",()=>Bn);var Qs=(function(t){return t.Data="data",t.Media="media",t})({}),gn=(function(t){return t.BrowserIncompatible="browser-incompatible",t.Disconnected="disconnected",t.InvalidID="invalid-id",t.InvalidKey="invalid-key",t.Network="network",t.PeerUnavailable="peer-unavailable",t.SslUnavailable="ssl-unavailable",t.ServerError="server-error",t.SocketError="socket-error",t.SocketClosed="socket-closed",t.UnavailableID="unavailable-id",t.WebRTC="webrtc",t})({}),uf=(function(t){return t.NegotiationFailed="negotiation-failed",t.ConnectionClosed="connection-closed",t})({}),Hf=(function(t){return t.NotOpenYet="not-open-yet",t.MessageToBig="message-too-big",t})({}),Kc=(function(t){return t.Binary="binary",t.BinaryUTF8="binary-utf8",t.JSON="json",t.None="raw",t})({}),Gs=(function(t){return t.Message="message",t.Disconnected="disconnected",t.Error="error",t.Close="close",t})({}),Bn=(function(t){return t.Heartbeat="HEARTBEAT",t.Candidate="CANDIDATE",t.Offer="OFFER",t.Answer="ANSWER",t.Open="OPEN",t.Error="ERROR",t.IdTaken="ID-TAKEN",t.InvalidKey="INVALID-KEY",t.Leave="LEAVE",t.Expire="EXPIRE",t})({});const YC="1.5.5";class n4 extends Uy.EventEmitter{constructor(e,n,s,a,c,u=5e3){super(),this.pingInterval=u,this._disconnected=!0,this._messagesQueue=[];const f=e?"wss://":"ws://";this._baseUrl=f+n+":"+s+a+"peerjs?key="+c}start(e,n){this._id=e;const s=`${this._baseUrl}&id=${e}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(s+"&version="+YC),this._disconnected=!1,this._socket.onmessage=a=>{let c;try{c=JSON.parse(a.data),Ge.log("Server message received:",c)}catch{Ge.log("Invalid server message",a.data);return}this.emit(Gs.Message,c)},this._socket.onclose=a=>{this._disconnected||(Ge.log("Socket closed.",a),this._cleanup(),this._disconnected=!0,this.emit(Gs.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),Ge.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){Ge.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:Bn.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const n of e)this.send(n)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(Gs.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(e);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class GC{constructor(e){this.connection=e}startConnection(e){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===Qs.Media&&e._stream&&this._addTracksToConnection(e._stream,n),e.originator){const s=this.connection,a={ordered:!!e.reliable},c=n.createDataChannel(s.label,a);s._initializeDataChannel(c),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){Ge.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const n=this.connection.peer,s=this.connection.connectionId,a=this.connection.type,c=this.connection.provider;Ge.log("Listening for ICE candidates."),e.onicecandidate=u=>{!u.candidate||!u.candidate.candidate||(Ge.log(`Received ICE candidates for ${n}:`,u.candidate),c.socket.send({type:Bn.Candidate,payload:{candidate:u.candidate,type:a,connectionId:s},dst:n}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":Ge.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(uf.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":Ge.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(uf.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":Ge.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},Ge.log("Listening for data channel"),e.ondatachannel=u=>{Ge.log("Received data channel");const f=u.channel;c.getConnection(n,s)._initializeDataChannel(f)},Ge.log("Listening for remote stream"),e.ontrack=u=>{Ge.log("Received remote stream");const f=u.streams[0],d=c.getConnection(n,s);if(d.type===Qs.Media){const p=d;this._addStreamToMediaConnection(f,p)}}}cleanup(){Ge.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const n=e.signalingState!=="closed";let s=!1;const a=this.connection.dataChannel;a&&(s=!!a.readyState&&a.readyState!=="closed"),(n||s)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const s=await e.createOffer(this.connection.options.constraints);Ge.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await e.setLocalDescription(s),Ge.log("Set localDescription:",s,`for:${this.connection.peer}`);let a={sdp:s,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===Qs.Data){const c=this.connection;a={...a,label:c.label,reliable:c.reliable,serialization:c.serialization}}n.socket.send({type:Bn.Offer,payload:a,dst:this.connection.peer})}catch(a){a!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(gn.WebRTC,a),Ge.log("Failed to setLocalDescription, ",a))}}catch(s){n.emitError(gn.WebRTC,s),Ge.log("Failed to createOffer, ",s)}}async _makeAnswer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const s=await e.createAnswer();Ge.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await e.setLocalDescription(s),Ge.log("Set localDescription:",s,`for:${this.connection.peer}`),n.socket.send({type:Bn.Answer,payload:{sdp:s,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(a){n.emitError(gn.WebRTC,a),Ge.log("Failed to setLocalDescription, ",a)}}catch(s){n.emitError(gn.WebRTC,s),Ge.log("Failed to create answer, ",s)}}async handleSDP(e,n){n=new RTCSessionDescription(n);const s=this.connection.peerConnection,a=this.connection.provider;Ge.log("Setting remote description",n);const c=this;try{await s.setRemoteDescription(n),Ge.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await c._makeAnswer()}catch(u){a.emitError(gn.WebRTC,u),Ge.log("Failed to setRemoteDescription, ",u)}}async handleCandidate(e){Ge.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),Ge.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(gn.WebRTC,n),Ge.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(e,n){if(Ge.log(`add tracks from stream ${e.id} to peer connection`),!n.addTrack)return Ge.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(s=>{n.addTrack(s,e)})}_addStreamToMediaConnection(e,n){Ge.log(`add stream ${e.id} to media connection ${n.connectionId}`),n.addStream(e)}}class KC extends Uy.EventEmitter{emitError(e,n){Ge.error("Error:",n),this.emit("error",new XC(`${e}`,n))}}class XC extends Error{constructor(e,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=e}}class QC extends KC{get open(){return this._open}constructor(e,n,s){super(),this.peer=e,this.provider=n,this.options=s,this._open=!1,this.metadata=s.metadata}}class ff extends QC{static#e=this.ID_PREFIX="mc_";get type(){return Qs.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,n,s){super(e,n,s),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||ff.ID_PREFIX+Wn.randomToken(),this._negotiator=new GC(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{Ge.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{Ge.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){Ge.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const n=e.type,s=e.payload;switch(e.type){case Bn.Answer:this._negotiator.handleSDP(n,s.sdp),this._open=!0;break;case Bn.Candidate:this._negotiator.handleCandidate(s.candidate);break;default:Ge.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(e,n={}){if(this._localStream){Ge.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const s=this.provider._getMessages(this.connectionId);for(const a of s)this.handleMessage(a);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}}class r4{constructor(e){this._options=e}_buildRequest(e){const n=this._options.secure?"https":"http",{host:s,port:a,path:c,key:u}=this._options,f=new URL(`${n}://${s}:${a}${c}${u}/${e}`);return f.searchParams.set("ts",`${Date.now()}${Math.random()}`),f.searchParams.set("version",YC),fetch(f.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){Ge.error("Error retrieving ID",e);let n="";throw this._options.path==="/"&&this._options.host!==Wn.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let n="";throw this._options.host===Wn.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw Ge.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}class aa extends QC{static#e=this.ID_PREFIX="dc_";static#t=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return Qs.Data}constructor(e,n,s){super(e,n,s),this.connectionId=this.options.connectionId||aa.ID_PREFIX+qC(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new GC(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{Ge.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{Ge.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{Ge.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,n=!1){if(!this.open){this.emitError(Hf.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,n)}async handleMessage(e){const n=e.payload;switch(e.type){case Bn.Answer:await this._negotiator.handleSDP(e.type,n.sdp);break;case Bn.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:Ge.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}}class $f extends aa{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>aa.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(n){return Ge.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class Np extends $f{close(e){super.close(e),this._chunkedData={}}constructor(e,n,s){super(e,n,s),this.chunker=new VC,this.serialization=Kc.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const n=iC(e),s=n.__peerData;if(s){if(s.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(e){const n=e.__peerData,s=this._chunkedData[n]||{data:[],count:0,total:e.total};if(s.data[e.n]=new Uint8Array(e.data),s.count++,this._chunkedData[n]=s,s.total===s.count){delete this._chunkedData[n];const a=XD(s.data);this._handleDataMessage({data:a})}}_send(e,n){const s=aC(e);if(s instanceof Promise)return this._send_blob(s);if(!n&&s.byteLength>this.chunker.chunkedMTU){this._sendChunks(s);return}this._bufferedSend(s)}async _send_blob(e){const n=await e;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(e){const n=this.chunker.chunk(e);Ge.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const s of n)this.send(s,!0)}}class s4 extends $f{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,n){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=Kc.None}}class i4 extends $f{_handleDataMessage({data:e}){const n=this.parse(this.decoder.decode(e)),s=n.__peerData;if(s&&s.type==="close"){this.close();return}this.emit("data",n)}_send(e,n){const s=this.encoder.encode(this.stringify(e));if(s.byteLength>=Wn.chunkedMTU){this.emitError(Hf.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(s)}constructor(...e){super(...e),this.serialization=Kc.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}class Xc extends KC{static#e=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[n,s]of this._connections)e[n]=s;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,n){super(),this._serializers={raw:s4,json:i4,binary:Np,"binary-utf8":Np,default:Np},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let s;if(e&&e.constructor==Object?n=e:e&&(s=e.toString()),n={debug:0,host:Wn.CLOUD_HOST,port:Wn.CLOUD_PORT,path:"/",key:Xc.DEFAULT_KEY,token:Wn.randomToken(),config:Wn.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Wn.CLOUD_HOST?this._options.secure=Wn.isSecure():this._options.host==Wn.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&Ge.setLogFunction(this._options.logFunction),Ge.logLevel=this._options.debug||0,this._api=new r4(n),this._socket=this._createServerConnection(),!Wn.supports.audioVideo&&!Wn.supports.data){this._delayedAbort(gn.BrowserIncompatible,"The current browser does not support WebRTC");return}if(s&&!Wn.validateId(s)){this._delayedAbort(gn.InvalidID,`ID "${s}" is invalid`);return}s?this._initialize(s):this._api.retrieveId().then(a=>this._initialize(a)).catch(a=>this._abort(gn.ServerError,a))}_createServerConnection(){const e=new n4(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(Gs.Message,n=>{this._handleMessage(n)}),e.on(Gs.Error,n=>{this._abort(gn.SocketError,n)}),e.on(Gs.Disconnected,()=>{this.disconnected||(this.emitError(gn.Network,"Lost connection to server."),this.disconnect())}),e.on(Gs.Close,()=>{this.disconnected||this._abort(gn.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const n=e.type,s=e.payload,a=e.src;switch(n){case Bn.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Bn.Error:this._abort(gn.ServerError,s.msg);break;case Bn.IdTaken:this._abort(gn.UnavailableID,`ID "${this.id}" is taken`);break;case Bn.InvalidKey:this._abort(gn.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Bn.Leave:Ge.log(`Received leave message from ${a}`),this._cleanupPeer(a),this._connections.delete(a);break;case Bn.Expire:this.emitError(gn.PeerUnavailable,`Could not connect to peer ${a}`);break;case Bn.Offer:{const c=s.connectionId;let u=this.getConnection(a,c);if(u&&(u.close(),Ge.warn(`Offer received for existing Connection ID:${c}`)),s.type===Qs.Media){const d=new ff(a,this,{connectionId:c,_payload:s,metadata:s.metadata});u=d,this._addConnection(a,u),this.emit("call",d)}else if(s.type===Qs.Data){const d=new this._serializers[s.serialization](a,this,{connectionId:c,_payload:s,metadata:s.metadata,label:s.label,serialization:s.serialization,reliable:s.reliable});u=d,this._addConnection(a,u),this.emit("connection",d)}else{Ge.warn(`Received malformed connection type:${s.type}`);return}const f=this._getMessages(c);for(const d of f)u.handleMessage(d);break}default:{if(!s){Ge.warn(`You received a malformed message from ${a} of type ${n}`);return}const c=s.connectionId,u=this.getConnection(a,c);u&&u.peerConnection?u.handleMessage(e):c?this._storeMessage(c,e):Ge.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,n){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(n)}_getMessages(e){const n=this._lostMessages.get(e);return n?(this._lostMessages.delete(e),n):[]}connect(e,n={}){if(n={serialization:"default",...n},this.disconnected){Ge.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(gn.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const s=new this._serializers[n.serialization](e,this,n);return this._addConnection(e,s),s}call(e,n,s={}){if(this.disconnected){Ge.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(gn.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){Ge.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const a=new ff(e,this,{...s,_stream:n});return this._addConnection(e,a),a}_addConnection(e,n){Ge.log(`add connection ${n.type}:${n.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(n)}_removeConnection(e){const n=this._connections.get(e.peer);if(n){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,n){const s=this._connections.get(e);if(!s)return null;for(const a of s)if(a.connectionId===n)return a;return null}_delayedAbort(e,n){setTimeout(()=>{this._abort(e,n)},0)}_abort(e,n){Ge.error("Aborting!"),this.emitError(e,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(Ge.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const n=this._connections.get(e);if(n)for(const s of n)s.close()}disconnect(){if(this.disconnected)return;const e=this.id;Ge.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)Ge.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)Ge.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=n=>{}){this._api.listAllPeers().then(n=>e(n)).catch(n=>this._abort(gn.ServerError,n))}}class ZC extends aa{constructor(e,n,s){super(e,n,{...s,reliable:!0}),this._CHUNK_SIZE=32768,this._splitStream=new TransformStream({transform:(a,c)=>{for(let u=0;u<a.length;u+=this._CHUNK_SIZE)c.enqueue(a.subarray(u,u+this._CHUNK_SIZE))}}),this._rawSendStream=new WritableStream({write:async(a,c)=>{const u=new Promise(f=>this.dataChannel.addEventListener("bufferedamountlow",f,{once:!0}));await(this.dataChannel.bufferedAmount<=aa.MAX_BUFFERED_AMOUNT-a.byteLength||u);try{this.dataChannel.send(a)}catch(f){Ge.error(`DC#:${this.connectionId} Error when sending:`,f),c.error(f),this.close()}}}),this.writer=this._splitStream.writable.getWriter(),this._rawReadStream=new ReadableStream({start:a=>{this.once("open",()=>{this.dataChannel.addEventListener("message",c=>{a.enqueue(c.data)})})}}),this._splitStream.readable.pipeTo(this._rawSendStream)}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.bufferedAmountLowThreshold=aa.MAX_BUFFERED_AMOUNT/2}}class Mm extends ZC{constructor(e,n,s){super(e,n,s),this.serialization="MsgPack",this._encoder=new ND,(async()=>{for await(const a of KD(this._rawReadStream)){if(a.__peerData?.type==="close"){this.close();return}this.emit("data",a)}})()}_send(e){return this.writer.write(this._encoder.encode(e))}}class a4 extends Xc{constructor(...e){super(...e),this._serializers={MsgPack:Mm,default:Mm}}}var o4=Xc;const c4=Object.freeze(Object.defineProperty({__proto__:null,BaseConnectionErrorType:uf,BufferedConnection:$f,ConnectionType:Qs,DataConnectionErrorType:Hf,MsgPack:Mm,MsgPackPeer:a4,Peer:Xc,PeerError:XC,PeerErrorType:gn,SerializationType:Kc,ServerMessageType:Bn,SocketEventType:Gs,StreamConnection:ZC,default:o4,util:Wn},Symbol.toStringTag,{value:"Module"})),l4=xf(c4);function u4(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Pp={exports:{}};const f4={},d4=Object.freeze(Object.defineProperty({__proto__:null,default:f4},Symbol.toStringTag,{value:"Module"})),h4=xf(d4);var p1;function JC(){return p1||(p1=1,(function(t){(function(e){var n=function(w){var T,A=new Float64Array(16);if(w)for(T=0;T<w.length;T++)A[T]=w[T];return A},s=function(){throw new Error("no PRNG")},a=new Uint8Array(16),c=new Uint8Array(32);c[0]=9;var u=n(),f=n([1]),d=n([56129,1]),p=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),y=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),g=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),v=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),S=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function C(w,T,A,x){w[T]=A>>24&255,w[T+1]=A>>16&255,w[T+2]=A>>8&255,w[T+3]=A&255,w[T+4]=x>>24&255,w[T+5]=x>>16&255,w[T+6]=x>>8&255,w[T+7]=x&255}function E(w,T,A,x,N){var V,q=0;for(V=0;V<N;V++)q|=w[T+V]^A[x+V];return(1&q-1>>>8)-1}function M(w,T,A,x){return E(w,T,A,x,16)}function P(w,T,A,x){return E(w,T,A,x,32)}function D(w,T,A,x){for(var N=x[0]&255|(x[1]&255)<<8|(x[2]&255)<<16|(x[3]&255)<<24,V=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,q=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,ae=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,we=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,He=x[4]&255|(x[5]&255)<<8|(x[6]&255)<<16|(x[7]&255)<<24,Me=T[0]&255|(T[1]&255)<<8|(T[2]&255)<<16|(T[3]&255)<<24,Ot=T[4]&255|(T[5]&255)<<8|(T[6]&255)<<16|(T[7]&255)<<24,je=T[8]&255|(T[9]&255)<<8|(T[10]&255)<<16|(T[11]&255)<<24,Je=T[12]&255|(T[13]&255)<<8|(T[14]&255)<<16|(T[15]&255)<<24,rt=x[8]&255|(x[9]&255)<<8|(x[10]&255)<<16|(x[11]&255)<<24,ot=A[16]&255|(A[17]&255)<<8|(A[18]&255)<<16|(A[19]&255)<<24,st=A[20]&255|(A[21]&255)<<8|(A[22]&255)<<16|(A[23]&255)<<24,We=A[24]&255|(A[25]&255)<<8|(A[26]&255)<<16|(A[27]&255)<<24,et=A[28]&255|(A[29]&255)<<8|(A[30]&255)<<16|(A[31]&255)<<24,$e=x[12]&255|(x[13]&255)<<8|(x[14]&255)<<16|(x[15]&255)<<24,Ie=N,Xe=V,Ae=q,De=ae,qe=we,Oe=He,ee=Me,te=Ot,ye=je,de=Je,ce=rt,me=ot,Qe=st,ft=We,lt=et,ut=$e,L,vt=0;vt<20;vt+=2)L=Ie+Qe|0,qe^=L<<7|L>>>25,L=qe+Ie|0,ye^=L<<9|L>>>23,L=ye+qe|0,Qe^=L<<13|L>>>19,L=Qe+ye|0,Ie^=L<<18|L>>>14,L=Oe+Xe|0,de^=L<<7|L>>>25,L=de+Oe|0,ft^=L<<9|L>>>23,L=ft+de|0,Xe^=L<<13|L>>>19,L=Xe+ft|0,Oe^=L<<18|L>>>14,L=ce+ee|0,lt^=L<<7|L>>>25,L=lt+ce|0,Ae^=L<<9|L>>>23,L=Ae+lt|0,ee^=L<<13|L>>>19,L=ee+Ae|0,ce^=L<<18|L>>>14,L=ut+me|0,De^=L<<7|L>>>25,L=De+ut|0,te^=L<<9|L>>>23,L=te+De|0,me^=L<<13|L>>>19,L=me+te|0,ut^=L<<18|L>>>14,L=Ie+De|0,Xe^=L<<7|L>>>25,L=Xe+Ie|0,Ae^=L<<9|L>>>23,L=Ae+Xe|0,De^=L<<13|L>>>19,L=De+Ae|0,Ie^=L<<18|L>>>14,L=Oe+qe|0,ee^=L<<7|L>>>25,L=ee+Oe|0,te^=L<<9|L>>>23,L=te+ee|0,qe^=L<<13|L>>>19,L=qe+te|0,Oe^=L<<18|L>>>14,L=ce+de|0,me^=L<<7|L>>>25,L=me+ce|0,ye^=L<<9|L>>>23,L=ye+me|0,de^=L<<13|L>>>19,L=de+ye|0,ce^=L<<18|L>>>14,L=ut+lt|0,Qe^=L<<7|L>>>25,L=Qe+ut|0,ft^=L<<9|L>>>23,L=ft+Qe|0,lt^=L<<13|L>>>19,L=lt+ft|0,ut^=L<<18|L>>>14;Ie=Ie+N|0,Xe=Xe+V|0,Ae=Ae+q|0,De=De+ae|0,qe=qe+we|0,Oe=Oe+He|0,ee=ee+Me|0,te=te+Ot|0,ye=ye+je|0,de=de+Je|0,ce=ce+rt|0,me=me+ot|0,Qe=Qe+st|0,ft=ft+We|0,lt=lt+et|0,ut=ut+$e|0,w[0]=Ie>>>0&255,w[1]=Ie>>>8&255,w[2]=Ie>>>16&255,w[3]=Ie>>>24&255,w[4]=Xe>>>0&255,w[5]=Xe>>>8&255,w[6]=Xe>>>16&255,w[7]=Xe>>>24&255,w[8]=Ae>>>0&255,w[9]=Ae>>>8&255,w[10]=Ae>>>16&255,w[11]=Ae>>>24&255,w[12]=De>>>0&255,w[13]=De>>>8&255,w[14]=De>>>16&255,w[15]=De>>>24&255,w[16]=qe>>>0&255,w[17]=qe>>>8&255,w[18]=qe>>>16&255,w[19]=qe>>>24&255,w[20]=Oe>>>0&255,w[21]=Oe>>>8&255,w[22]=Oe>>>16&255,w[23]=Oe>>>24&255,w[24]=ee>>>0&255,w[25]=ee>>>8&255,w[26]=ee>>>16&255,w[27]=ee>>>24&255,w[28]=te>>>0&255,w[29]=te>>>8&255,w[30]=te>>>16&255,w[31]=te>>>24&255,w[32]=ye>>>0&255,w[33]=ye>>>8&255,w[34]=ye>>>16&255,w[35]=ye>>>24&255,w[36]=de>>>0&255,w[37]=de>>>8&255,w[38]=de>>>16&255,w[39]=de>>>24&255,w[40]=ce>>>0&255,w[41]=ce>>>8&255,w[42]=ce>>>16&255,w[43]=ce>>>24&255,w[44]=me>>>0&255,w[45]=me>>>8&255,w[46]=me>>>16&255,w[47]=me>>>24&255,w[48]=Qe>>>0&255,w[49]=Qe>>>8&255,w[50]=Qe>>>16&255,w[51]=Qe>>>24&255,w[52]=ft>>>0&255,w[53]=ft>>>8&255,w[54]=ft>>>16&255,w[55]=ft>>>24&255,w[56]=lt>>>0&255,w[57]=lt>>>8&255,w[58]=lt>>>16&255,w[59]=lt>>>24&255,w[60]=ut>>>0&255,w[61]=ut>>>8&255,w[62]=ut>>>16&255,w[63]=ut>>>24&255}function k(w,T,A,x){for(var N=x[0]&255|(x[1]&255)<<8|(x[2]&255)<<16|(x[3]&255)<<24,V=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,q=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,ae=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,we=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,He=x[4]&255|(x[5]&255)<<8|(x[6]&255)<<16|(x[7]&255)<<24,Me=T[0]&255|(T[1]&255)<<8|(T[2]&255)<<16|(T[3]&255)<<24,Ot=T[4]&255|(T[5]&255)<<8|(T[6]&255)<<16|(T[7]&255)<<24,je=T[8]&255|(T[9]&255)<<8|(T[10]&255)<<16|(T[11]&255)<<24,Je=T[12]&255|(T[13]&255)<<8|(T[14]&255)<<16|(T[15]&255)<<24,rt=x[8]&255|(x[9]&255)<<8|(x[10]&255)<<16|(x[11]&255)<<24,ot=A[16]&255|(A[17]&255)<<8|(A[18]&255)<<16|(A[19]&255)<<24,st=A[20]&255|(A[21]&255)<<8|(A[22]&255)<<16|(A[23]&255)<<24,We=A[24]&255|(A[25]&255)<<8|(A[26]&255)<<16|(A[27]&255)<<24,et=A[28]&255|(A[29]&255)<<8|(A[30]&255)<<16|(A[31]&255)<<24,$e=x[12]&255|(x[13]&255)<<8|(x[14]&255)<<16|(x[15]&255)<<24,Ie=N,Xe=V,Ae=q,De=ae,qe=we,Oe=He,ee=Me,te=Ot,ye=je,de=Je,ce=rt,me=ot,Qe=st,ft=We,lt=et,ut=$e,L,vt=0;vt<20;vt+=2)L=Ie+Qe|0,qe^=L<<7|L>>>25,L=qe+Ie|0,ye^=L<<9|L>>>23,L=ye+qe|0,Qe^=L<<13|L>>>19,L=Qe+ye|0,Ie^=L<<18|L>>>14,L=Oe+Xe|0,de^=L<<7|L>>>25,L=de+Oe|0,ft^=L<<9|L>>>23,L=ft+de|0,Xe^=L<<13|L>>>19,L=Xe+ft|0,Oe^=L<<18|L>>>14,L=ce+ee|0,lt^=L<<7|L>>>25,L=lt+ce|0,Ae^=L<<9|L>>>23,L=Ae+lt|0,ee^=L<<13|L>>>19,L=ee+Ae|0,ce^=L<<18|L>>>14,L=ut+me|0,De^=L<<7|L>>>25,L=De+ut|0,te^=L<<9|L>>>23,L=te+De|0,me^=L<<13|L>>>19,L=me+te|0,ut^=L<<18|L>>>14,L=Ie+De|0,Xe^=L<<7|L>>>25,L=Xe+Ie|0,Ae^=L<<9|L>>>23,L=Ae+Xe|0,De^=L<<13|L>>>19,L=De+Ae|0,Ie^=L<<18|L>>>14,L=Oe+qe|0,ee^=L<<7|L>>>25,L=ee+Oe|0,te^=L<<9|L>>>23,L=te+ee|0,qe^=L<<13|L>>>19,L=qe+te|0,Oe^=L<<18|L>>>14,L=ce+de|0,me^=L<<7|L>>>25,L=me+ce|0,ye^=L<<9|L>>>23,L=ye+me|0,de^=L<<13|L>>>19,L=de+ye|0,ce^=L<<18|L>>>14,L=ut+lt|0,Qe^=L<<7|L>>>25,L=Qe+ut|0,ft^=L<<9|L>>>23,L=ft+Qe|0,lt^=L<<13|L>>>19,L=lt+ft|0,ut^=L<<18|L>>>14;w[0]=Ie>>>0&255,w[1]=Ie>>>8&255,w[2]=Ie>>>16&255,w[3]=Ie>>>24&255,w[4]=Oe>>>0&255,w[5]=Oe>>>8&255,w[6]=Oe>>>16&255,w[7]=Oe>>>24&255,w[8]=ce>>>0&255,w[9]=ce>>>8&255,w[10]=ce>>>16&255,w[11]=ce>>>24&255,w[12]=ut>>>0&255,w[13]=ut>>>8&255,w[14]=ut>>>16&255,w[15]=ut>>>24&255,w[16]=ee>>>0&255,w[17]=ee>>>8&255,w[18]=ee>>>16&255,w[19]=ee>>>24&255,w[20]=te>>>0&255,w[21]=te>>>8&255,w[22]=te>>>16&255,w[23]=te>>>24&255,w[24]=ye>>>0&255,w[25]=ye>>>8&255,w[26]=ye>>>16&255,w[27]=ye>>>24&255,w[28]=de>>>0&255,w[29]=de>>>8&255,w[30]=de>>>16&255,w[31]=de>>>24&255}function j(w,T,A,x){D(w,T,A,x)}function G(w,T,A,x){k(w,T,A,x)}var X=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Y(w,T,A,x,N,V,q){var ae=new Uint8Array(16),we=new Uint8Array(64),He,Me;for(Me=0;Me<16;Me++)ae[Me]=0;for(Me=0;Me<8;Me++)ae[Me]=V[Me];for(;N>=64;){for(j(we,ae,q,X),Me=0;Me<64;Me++)w[T+Me]=A[x+Me]^we[Me];for(He=1,Me=8;Me<16;Me++)He=He+(ae[Me]&255)|0,ae[Me]=He&255,He>>>=8;N-=64,T+=64,x+=64}if(N>0)for(j(we,ae,q,X),Me=0;Me<N;Me++)w[T+Me]=A[x+Me]^we[Me];return 0}function K(w,T,A,x,N){var V=new Uint8Array(16),q=new Uint8Array(64),ae,we;for(we=0;we<16;we++)V[we]=0;for(we=0;we<8;we++)V[we]=x[we];for(;A>=64;){for(j(q,V,N,X),we=0;we<64;we++)w[T+we]=q[we];for(ae=1,we=8;we<16;we++)ae=ae+(V[we]&255)|0,V[we]=ae&255,ae>>>=8;A-=64,T+=64}if(A>0)for(j(q,V,N,X),we=0;we<A;we++)w[T+we]=q[we];return 0}function pe(w,T,A,x,N){var V=new Uint8Array(32);G(V,x,N,X);for(var q=new Uint8Array(8),ae=0;ae<8;ae++)q[ae]=x[ae+16];return K(w,T,A,q,V)}function xe(w,T,A,x,N,V,q){var ae=new Uint8Array(32);G(ae,V,q,X);for(var we=new Uint8Array(8),He=0;He<8;He++)we[He]=V[He+16];return Y(w,T,A,x,N,we,ae)}var _e=function(w){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var T,A,x,N,V,q,ae,we;T=w[0]&255|(w[1]&255)<<8,this.r[0]=T&8191,A=w[2]&255|(w[3]&255)<<8,this.r[1]=(T>>>13|A<<3)&8191,x=w[4]&255|(w[5]&255)<<8,this.r[2]=(A>>>10|x<<6)&7939,N=w[6]&255|(w[7]&255)<<8,this.r[3]=(x>>>7|N<<9)&8191,V=w[8]&255|(w[9]&255)<<8,this.r[4]=(N>>>4|V<<12)&255,this.r[5]=V>>>1&8190,q=w[10]&255|(w[11]&255)<<8,this.r[6]=(V>>>14|q<<2)&8191,ae=w[12]&255|(w[13]&255)<<8,this.r[7]=(q>>>11|ae<<5)&8065,we=w[14]&255|(w[15]&255)<<8,this.r[8]=(ae>>>8|we<<8)&8191,this.r[9]=we>>>5&127,this.pad[0]=w[16]&255|(w[17]&255)<<8,this.pad[1]=w[18]&255|(w[19]&255)<<8,this.pad[2]=w[20]&255|(w[21]&255)<<8,this.pad[3]=w[22]&255|(w[23]&255)<<8,this.pad[4]=w[24]&255|(w[25]&255)<<8,this.pad[5]=w[26]&255|(w[27]&255)<<8,this.pad[6]=w[28]&255|(w[29]&255)<<8,this.pad[7]=w[30]&255|(w[31]&255)<<8};_e.prototype.blocks=function(w,T,A){for(var x=this.fin?0:2048,N,V,q,ae,we,He,Me,Ot,je,Je,rt,ot,st,We,et,$e,Ie,Xe,Ae,De=this.h[0],qe=this.h[1],Oe=this.h[2],ee=this.h[3],te=this.h[4],ye=this.h[5],de=this.h[6],ce=this.h[7],me=this.h[8],Qe=this.h[9],ft=this.r[0],lt=this.r[1],ut=this.r[2],L=this.r[3],vt=this.r[4],ct=this.r[5],Ct=this.r[6],pt=this.r[7],wt=this.r[8],xt=this.r[9];A>=16;)N=w[T+0]&255|(w[T+1]&255)<<8,De+=N&8191,V=w[T+2]&255|(w[T+3]&255)<<8,qe+=(N>>>13|V<<3)&8191,q=w[T+4]&255|(w[T+5]&255)<<8,Oe+=(V>>>10|q<<6)&8191,ae=w[T+6]&255|(w[T+7]&255)<<8,ee+=(q>>>7|ae<<9)&8191,we=w[T+8]&255|(w[T+9]&255)<<8,te+=(ae>>>4|we<<12)&8191,ye+=we>>>1&8191,He=w[T+10]&255|(w[T+11]&255)<<8,de+=(we>>>14|He<<2)&8191,Me=w[T+12]&255|(w[T+13]&255)<<8,ce+=(He>>>11|Me<<5)&8191,Ot=w[T+14]&255|(w[T+15]&255)<<8,me+=(Me>>>8|Ot<<8)&8191,Qe+=Ot>>>5|x,je=0,Je=je,Je+=De*ft,Je+=qe*(5*xt),Je+=Oe*(5*wt),Je+=ee*(5*pt),Je+=te*(5*Ct),je=Je>>>13,Je&=8191,Je+=ye*(5*ct),Je+=de*(5*vt),Je+=ce*(5*L),Je+=me*(5*ut),Je+=Qe*(5*lt),je+=Je>>>13,Je&=8191,rt=je,rt+=De*lt,rt+=qe*ft,rt+=Oe*(5*xt),rt+=ee*(5*wt),rt+=te*(5*pt),je=rt>>>13,rt&=8191,rt+=ye*(5*Ct),rt+=de*(5*ct),rt+=ce*(5*vt),rt+=me*(5*L),rt+=Qe*(5*ut),je+=rt>>>13,rt&=8191,ot=je,ot+=De*ut,ot+=qe*lt,ot+=Oe*ft,ot+=ee*(5*xt),ot+=te*(5*wt),je=ot>>>13,ot&=8191,ot+=ye*(5*pt),ot+=de*(5*Ct),ot+=ce*(5*ct),ot+=me*(5*vt),ot+=Qe*(5*L),je+=ot>>>13,ot&=8191,st=je,st+=De*L,st+=qe*ut,st+=Oe*lt,st+=ee*ft,st+=te*(5*xt),je=st>>>13,st&=8191,st+=ye*(5*wt),st+=de*(5*pt),st+=ce*(5*Ct),st+=me*(5*ct),st+=Qe*(5*vt),je+=st>>>13,st&=8191,We=je,We+=De*vt,We+=qe*L,We+=Oe*ut,We+=ee*lt,We+=te*ft,je=We>>>13,We&=8191,We+=ye*(5*xt),We+=de*(5*wt),We+=ce*(5*pt),We+=me*(5*Ct),We+=Qe*(5*ct),je+=We>>>13,We&=8191,et=je,et+=De*ct,et+=qe*vt,et+=Oe*L,et+=ee*ut,et+=te*lt,je=et>>>13,et&=8191,et+=ye*ft,et+=de*(5*xt),et+=ce*(5*wt),et+=me*(5*pt),et+=Qe*(5*Ct),je+=et>>>13,et&=8191,$e=je,$e+=De*Ct,$e+=qe*ct,$e+=Oe*vt,$e+=ee*L,$e+=te*ut,je=$e>>>13,$e&=8191,$e+=ye*lt,$e+=de*ft,$e+=ce*(5*xt),$e+=me*(5*wt),$e+=Qe*(5*pt),je+=$e>>>13,$e&=8191,Ie=je,Ie+=De*pt,Ie+=qe*Ct,Ie+=Oe*ct,Ie+=ee*vt,Ie+=te*L,je=Ie>>>13,Ie&=8191,Ie+=ye*ut,Ie+=de*lt,Ie+=ce*ft,Ie+=me*(5*xt),Ie+=Qe*(5*wt),je+=Ie>>>13,Ie&=8191,Xe=je,Xe+=De*wt,Xe+=qe*pt,Xe+=Oe*Ct,Xe+=ee*ct,Xe+=te*vt,je=Xe>>>13,Xe&=8191,Xe+=ye*L,Xe+=de*ut,Xe+=ce*lt,Xe+=me*ft,Xe+=Qe*(5*xt),je+=Xe>>>13,Xe&=8191,Ae=je,Ae+=De*xt,Ae+=qe*wt,Ae+=Oe*pt,Ae+=ee*Ct,Ae+=te*ct,je=Ae>>>13,Ae&=8191,Ae+=ye*vt,Ae+=de*L,Ae+=ce*ut,Ae+=me*lt,Ae+=Qe*ft,je+=Ae>>>13,Ae&=8191,je=(je<<2)+je|0,je=je+Je|0,Je=je&8191,je=je>>>13,rt+=je,De=Je,qe=rt,Oe=ot,ee=st,te=We,ye=et,de=$e,ce=Ie,me=Xe,Qe=Ae,T+=16,A-=16;this.h[0]=De,this.h[1]=qe,this.h[2]=Oe,this.h[3]=ee,this.h[4]=te,this.h[5]=ye,this.h[6]=de,this.h[7]=ce,this.h[8]=me,this.h[9]=Qe},_e.prototype.finish=function(w,T){var A=new Uint16Array(10),x,N,V,q;if(this.leftover){for(q=this.leftover,this.buffer[q++]=1;q<16;q++)this.buffer[q]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(x=this.h[1]>>>13,this.h[1]&=8191,q=2;q<10;q++)this.h[q]+=x,x=this.h[q]>>>13,this.h[q]&=8191;for(this.h[0]+=x*5,x=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=x,x=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=x,A[0]=this.h[0]+5,x=A[0]>>>13,A[0]&=8191,q=1;q<10;q++)A[q]=this.h[q]+x,x=A[q]>>>13,A[q]&=8191;for(A[9]-=8192,N=(x^1)-1,q=0;q<10;q++)A[q]&=N;for(N=~N,q=0;q<10;q++)this.h[q]=this.h[q]&N|A[q];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,V=this.h[0]+this.pad[0],this.h[0]=V&65535,q=1;q<8;q++)V=(this.h[q]+this.pad[q]|0)+(V>>>16)|0,this.h[q]=V&65535;w[T+0]=this.h[0]>>>0&255,w[T+1]=this.h[0]>>>8&255,w[T+2]=this.h[1]>>>0&255,w[T+3]=this.h[1]>>>8&255,w[T+4]=this.h[2]>>>0&255,w[T+5]=this.h[2]>>>8&255,w[T+6]=this.h[3]>>>0&255,w[T+7]=this.h[3]>>>8&255,w[T+8]=this.h[4]>>>0&255,w[T+9]=this.h[4]>>>8&255,w[T+10]=this.h[5]>>>0&255,w[T+11]=this.h[5]>>>8&255,w[T+12]=this.h[6]>>>0&255,w[T+13]=this.h[6]>>>8&255,w[T+14]=this.h[7]>>>0&255,w[T+15]=this.h[7]>>>8&255},_e.prototype.update=function(w,T,A){var x,N;if(this.leftover){for(N=16-this.leftover,N>A&&(N=A),x=0;x<N;x++)this.buffer[this.leftover+x]=w[T+x];if(A-=N,T+=N,this.leftover+=N,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(A>=16&&(N=A-A%16,this.blocks(w,T,N),T+=N,A-=N),A){for(x=0;x<A;x++)this.buffer[this.leftover+x]=w[T+x];this.leftover+=A}};function Ce(w,T,A,x,N,V){var q=new _e(V);return q.update(A,x,N),q.finish(w,T),0}function Re(w,T,A,x,N,V){var q=new Uint8Array(16);return Ce(q,0,A,x,N,V),M(w,T,q,0)}function ge(w,T,A,x,N){var V;if(A<32)return-1;for(xe(w,0,T,0,A,x,N),Ce(w,16,w,32,A-32,w),V=0;V<16;V++)w[V]=0;return 0}function Ue(w,T,A,x,N){var V,q=new Uint8Array(32);if(A<32||(pe(q,0,32,x,N),Re(T,16,T,32,A-32,q)!==0))return-1;for(xe(w,0,T,0,A,x,N),V=0;V<32;V++)w[V]=0;return 0}function B(w,T){var A;for(A=0;A<16;A++)w[A]=T[A]|0}function ie(w){var T,A,x=1;for(T=0;T<16;T++)A=w[T]+x+65535,x=Math.floor(A/65536),w[T]=A-x*65536;w[0]+=x-1+37*(x-1)}function $(w,T,A){for(var x,N=~(A-1),V=0;V<16;V++)x=N&(w[V]^T[V]),w[V]^=x,T[V]^=x}function Ee(w,T){var A,x,N,V=n(),q=n();for(A=0;A<16;A++)q[A]=T[A];for(ie(q),ie(q),ie(q),x=0;x<2;x++){for(V[0]=q[0]-65517,A=1;A<15;A++)V[A]=q[A]-65535-(V[A-1]>>16&1),V[A-1]&=65535;V[15]=q[15]-32767-(V[14]>>16&1),N=V[15]>>16&1,V[14]&=65535,$(q,V,1-N)}for(A=0;A<16;A++)w[2*A]=q[A]&255,w[2*A+1]=q[A]>>8}function ke(w,T){var A=new Uint8Array(32),x=new Uint8Array(32);return Ee(A,w),Ee(x,T),P(A,0,x,0)}function I(w){var T=new Uint8Array(32);return Ee(T,w),T[0]&1}function re(w,T){var A;for(A=0;A<16;A++)w[A]=T[2*A]+(T[2*A+1]<<8);w[15]&=32767}function le(w,T,A){for(var x=0;x<16;x++)w[x]=T[x]+A[x]}function ve(w,T,A){for(var x=0;x<16;x++)w[x]=T[x]-A[x]}function be(w,T,A){var x,N,V=0,q=0,ae=0,we=0,He=0,Me=0,Ot=0,je=0,Je=0,rt=0,ot=0,st=0,We=0,et=0,$e=0,Ie=0,Xe=0,Ae=0,De=0,qe=0,Oe=0,ee=0,te=0,ye=0,de=0,ce=0,me=0,Qe=0,ft=0,lt=0,ut=0,L=A[0],vt=A[1],ct=A[2],Ct=A[3],pt=A[4],wt=A[5],xt=A[6],tn=A[7],Dt=A[8],Ht=A[9],nn=A[10],Zt=A[11],cn=A[12],bn=A[13],Dn=A[14],kn=A[15];x=T[0],V+=x*L,q+=x*vt,ae+=x*ct,we+=x*Ct,He+=x*pt,Me+=x*wt,Ot+=x*xt,je+=x*tn,Je+=x*Dt,rt+=x*Ht,ot+=x*nn,st+=x*Zt,We+=x*cn,et+=x*bn,$e+=x*Dn,Ie+=x*kn,x=T[1],q+=x*L,ae+=x*vt,we+=x*ct,He+=x*Ct,Me+=x*pt,Ot+=x*wt,je+=x*xt,Je+=x*tn,rt+=x*Dt,ot+=x*Ht,st+=x*nn,We+=x*Zt,et+=x*cn,$e+=x*bn,Ie+=x*Dn,Xe+=x*kn,x=T[2],ae+=x*L,we+=x*vt,He+=x*ct,Me+=x*Ct,Ot+=x*pt,je+=x*wt,Je+=x*xt,rt+=x*tn,ot+=x*Dt,st+=x*Ht,We+=x*nn,et+=x*Zt,$e+=x*cn,Ie+=x*bn,Xe+=x*Dn,Ae+=x*kn,x=T[3],we+=x*L,He+=x*vt,Me+=x*ct,Ot+=x*Ct,je+=x*pt,Je+=x*wt,rt+=x*xt,ot+=x*tn,st+=x*Dt,We+=x*Ht,et+=x*nn,$e+=x*Zt,Ie+=x*cn,Xe+=x*bn,Ae+=x*Dn,De+=x*kn,x=T[4],He+=x*L,Me+=x*vt,Ot+=x*ct,je+=x*Ct,Je+=x*pt,rt+=x*wt,ot+=x*xt,st+=x*tn,We+=x*Dt,et+=x*Ht,$e+=x*nn,Ie+=x*Zt,Xe+=x*cn,Ae+=x*bn,De+=x*Dn,qe+=x*kn,x=T[5],Me+=x*L,Ot+=x*vt,je+=x*ct,Je+=x*Ct,rt+=x*pt,ot+=x*wt,st+=x*xt,We+=x*tn,et+=x*Dt,$e+=x*Ht,Ie+=x*nn,Xe+=x*Zt,Ae+=x*cn,De+=x*bn,qe+=x*Dn,Oe+=x*kn,x=T[6],Ot+=x*L,je+=x*vt,Je+=x*ct,rt+=x*Ct,ot+=x*pt,st+=x*wt,We+=x*xt,et+=x*tn,$e+=x*Dt,Ie+=x*Ht,Xe+=x*nn,Ae+=x*Zt,De+=x*cn,qe+=x*bn,Oe+=x*Dn,ee+=x*kn,x=T[7],je+=x*L,Je+=x*vt,rt+=x*ct,ot+=x*Ct,st+=x*pt,We+=x*wt,et+=x*xt,$e+=x*tn,Ie+=x*Dt,Xe+=x*Ht,Ae+=x*nn,De+=x*Zt,qe+=x*cn,Oe+=x*bn,ee+=x*Dn,te+=x*kn,x=T[8],Je+=x*L,rt+=x*vt,ot+=x*ct,st+=x*Ct,We+=x*pt,et+=x*wt,$e+=x*xt,Ie+=x*tn,Xe+=x*Dt,Ae+=x*Ht,De+=x*nn,qe+=x*Zt,Oe+=x*cn,ee+=x*bn,te+=x*Dn,ye+=x*kn,x=T[9],rt+=x*L,ot+=x*vt,st+=x*ct,We+=x*Ct,et+=x*pt,$e+=x*wt,Ie+=x*xt,Xe+=x*tn,Ae+=x*Dt,De+=x*Ht,qe+=x*nn,Oe+=x*Zt,ee+=x*cn,te+=x*bn,ye+=x*Dn,de+=x*kn,x=T[10],ot+=x*L,st+=x*vt,We+=x*ct,et+=x*Ct,$e+=x*pt,Ie+=x*wt,Xe+=x*xt,Ae+=x*tn,De+=x*Dt,qe+=x*Ht,Oe+=x*nn,ee+=x*Zt,te+=x*cn,ye+=x*bn,de+=x*Dn,ce+=x*kn,x=T[11],st+=x*L,We+=x*vt,et+=x*ct,$e+=x*Ct,Ie+=x*pt,Xe+=x*wt,Ae+=x*xt,De+=x*tn,qe+=x*Dt,Oe+=x*Ht,ee+=x*nn,te+=x*Zt,ye+=x*cn,de+=x*bn,ce+=x*Dn,me+=x*kn,x=T[12],We+=x*L,et+=x*vt,$e+=x*ct,Ie+=x*Ct,Xe+=x*pt,Ae+=x*wt,De+=x*xt,qe+=x*tn,Oe+=x*Dt,ee+=x*Ht,te+=x*nn,ye+=x*Zt,de+=x*cn,ce+=x*bn,me+=x*Dn,Qe+=x*kn,x=T[13],et+=x*L,$e+=x*vt,Ie+=x*ct,Xe+=x*Ct,Ae+=x*pt,De+=x*wt,qe+=x*xt,Oe+=x*tn,ee+=x*Dt,te+=x*Ht,ye+=x*nn,de+=x*Zt,ce+=x*cn,me+=x*bn,Qe+=x*Dn,ft+=x*kn,x=T[14],$e+=x*L,Ie+=x*vt,Xe+=x*ct,Ae+=x*Ct,De+=x*pt,qe+=x*wt,Oe+=x*xt,ee+=x*tn,te+=x*Dt,ye+=x*Ht,de+=x*nn,ce+=x*Zt,me+=x*cn,Qe+=x*bn,ft+=x*Dn,lt+=x*kn,x=T[15],Ie+=x*L,Xe+=x*vt,Ae+=x*ct,De+=x*Ct,qe+=x*pt,Oe+=x*wt,ee+=x*xt,te+=x*tn,ye+=x*Dt,de+=x*Ht,ce+=x*nn,me+=x*Zt,Qe+=x*cn,ft+=x*bn,lt+=x*Dn,ut+=x*kn,V+=38*Xe,q+=38*Ae,ae+=38*De,we+=38*qe,He+=38*Oe,Me+=38*ee,Ot+=38*te,je+=38*ye,Je+=38*de,rt+=38*ce,ot+=38*me,st+=38*Qe,We+=38*ft,et+=38*lt,$e+=38*ut,N=1,x=V+N+65535,N=Math.floor(x/65536),V=x-N*65536,x=q+N+65535,N=Math.floor(x/65536),q=x-N*65536,x=ae+N+65535,N=Math.floor(x/65536),ae=x-N*65536,x=we+N+65535,N=Math.floor(x/65536),we=x-N*65536,x=He+N+65535,N=Math.floor(x/65536),He=x-N*65536,x=Me+N+65535,N=Math.floor(x/65536),Me=x-N*65536,x=Ot+N+65535,N=Math.floor(x/65536),Ot=x-N*65536,x=je+N+65535,N=Math.floor(x/65536),je=x-N*65536,x=Je+N+65535,N=Math.floor(x/65536),Je=x-N*65536,x=rt+N+65535,N=Math.floor(x/65536),rt=x-N*65536,x=ot+N+65535,N=Math.floor(x/65536),ot=x-N*65536,x=st+N+65535,N=Math.floor(x/65536),st=x-N*65536,x=We+N+65535,N=Math.floor(x/65536),We=x-N*65536,x=et+N+65535,N=Math.floor(x/65536),et=x-N*65536,x=$e+N+65535,N=Math.floor(x/65536),$e=x-N*65536,x=Ie+N+65535,N=Math.floor(x/65536),Ie=x-N*65536,V+=N-1+37*(N-1),N=1,x=V+N+65535,N=Math.floor(x/65536),V=x-N*65536,x=q+N+65535,N=Math.floor(x/65536),q=x-N*65536,x=ae+N+65535,N=Math.floor(x/65536),ae=x-N*65536,x=we+N+65535,N=Math.floor(x/65536),we=x-N*65536,x=He+N+65535,N=Math.floor(x/65536),He=x-N*65536,x=Me+N+65535,N=Math.floor(x/65536),Me=x-N*65536,x=Ot+N+65535,N=Math.floor(x/65536),Ot=x-N*65536,x=je+N+65535,N=Math.floor(x/65536),je=x-N*65536,x=Je+N+65535,N=Math.floor(x/65536),Je=x-N*65536,x=rt+N+65535,N=Math.floor(x/65536),rt=x-N*65536,x=ot+N+65535,N=Math.floor(x/65536),ot=x-N*65536,x=st+N+65535,N=Math.floor(x/65536),st=x-N*65536,x=We+N+65535,N=Math.floor(x/65536),We=x-N*65536,x=et+N+65535,N=Math.floor(x/65536),et=x-N*65536,x=$e+N+65535,N=Math.floor(x/65536),$e=x-N*65536,x=Ie+N+65535,N=Math.floor(x/65536),Ie=x-N*65536,V+=N-1+37*(N-1),w[0]=V,w[1]=q,w[2]=ae,w[3]=we,w[4]=He,w[5]=Me,w[6]=Ot,w[7]=je,w[8]=Je,w[9]=rt,w[10]=ot,w[11]=st,w[12]=We,w[13]=et,w[14]=$e,w[15]=Ie}function Te(w,T){be(w,T,T)}function Ne(w,T){var A=n(),x;for(x=0;x<16;x++)A[x]=T[x];for(x=253;x>=0;x--)Te(A,A),x!==2&&x!==4&&be(A,A,T);for(x=0;x<16;x++)w[x]=A[x]}function it(w,T){var A=n(),x;for(x=0;x<16;x++)A[x]=T[x];for(x=250;x>=0;x--)Te(A,A),x!==1&&be(A,A,T);for(x=0;x<16;x++)w[x]=A[x]}function z(w,T,A){var x=new Uint8Array(32),N=new Float64Array(80),V,q,ae=n(),we=n(),He=n(),Me=n(),Ot=n(),je=n();for(q=0;q<31;q++)x[q]=T[q];for(x[31]=T[31]&127|64,x[0]&=248,re(N,A),q=0;q<16;q++)we[q]=N[q],Me[q]=ae[q]=He[q]=0;for(ae[0]=Me[0]=1,q=254;q>=0;--q)V=x[q>>>3]>>>(q&7)&1,$(ae,we,V),$(He,Me,V),le(Ot,ae,He),ve(ae,ae,He),le(He,we,Me),ve(we,we,Me),Te(Me,Ot),Te(je,ae),be(ae,He,ae),be(He,we,Ot),le(Ot,ae,He),ve(ae,ae,He),Te(we,ae),ve(He,Me,je),be(ae,He,d),le(ae,ae,Me),be(He,He,ae),be(ae,Me,je),be(Me,we,N),Te(we,Ot),$(ae,we,V),$(He,Me,V);for(q=0;q<16;q++)N[q+16]=ae[q],N[q+32]=He[q],N[q+48]=we[q],N[q+64]=Me[q];var Je=N.subarray(32),rt=N.subarray(16);return Ne(Je,Je),be(rt,rt,Je),Ee(w,rt),0}function J(w,T){return z(w,T,c)}function fe(w,T){return s(T,32),J(w,T)}function Pe(w,T,A){var x=new Uint8Array(32);return z(x,A,T),G(w,a,x,X)}var ze=ge,Be=Ue;function St(w,T,A,x,N,V){var q=new Uint8Array(32);return Pe(q,N,V),ze(w,T,A,x,q)}function gt(w,T,A,x,N,V){var q=new Uint8Array(32);return Pe(q,N,V),Be(w,T,A,x,q)}var hn=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Pt(w,T,A,x){for(var N=new Int32Array(16),V=new Int32Array(16),q,ae,we,He,Me,Ot,je,Je,rt,ot,st,We,et,$e,Ie,Xe,Ae,De,qe,Oe,ee,te,ye,de,ce,me,Qe=w[0],ft=w[1],lt=w[2],ut=w[3],L=w[4],vt=w[5],ct=w[6],Ct=w[7],pt=T[0],wt=T[1],xt=T[2],tn=T[3],Dt=T[4],Ht=T[5],nn=T[6],Zt=T[7],cn=0;x>=128;){for(qe=0;qe<16;qe++)Oe=8*qe+cn,N[qe]=A[Oe+0]<<24|A[Oe+1]<<16|A[Oe+2]<<8|A[Oe+3],V[qe]=A[Oe+4]<<24|A[Oe+5]<<16|A[Oe+6]<<8|A[Oe+7];for(qe=0;qe<80;qe++)if(q=Qe,ae=ft,we=lt,He=ut,Me=L,Ot=vt,je=ct,Je=Ct,rt=pt,ot=wt,st=xt,We=tn,et=Dt,$e=Ht,Ie=nn,Xe=Zt,ee=Ct,te=Zt,ye=te&65535,de=te>>>16,ce=ee&65535,me=ee>>>16,ee=(L>>>14|Dt<<18)^(L>>>18|Dt<<14)^(Dt>>>9|L<<23),te=(Dt>>>14|L<<18)^(Dt>>>18|L<<14)^(L>>>9|Dt<<23),ye+=te&65535,de+=te>>>16,ce+=ee&65535,me+=ee>>>16,ee=L&vt^~L&ct,te=Dt&Ht^~Dt&nn,ye+=te&65535,de+=te>>>16,ce+=ee&65535,me+=ee>>>16,ee=hn[qe*2],te=hn[qe*2+1],ye+=te&65535,de+=te>>>16,ce+=ee&65535,me+=ee>>>16,ee=N[qe%16],te=V[qe%16],ye+=te&65535,de+=te>>>16,ce+=ee&65535,me+=ee>>>16,de+=ye>>>16,ce+=de>>>16,me+=ce>>>16,Ae=ce&65535|me<<16,De=ye&65535|de<<16,ee=Ae,te=De,ye=te&65535,de=te>>>16,ce=ee&65535,me=ee>>>16,ee=(Qe>>>28|pt<<4)^(pt>>>2|Qe<<30)^(pt>>>7|Qe<<25),te=(pt>>>28|Qe<<4)^(Qe>>>2|pt<<30)^(Qe>>>7|pt<<25),ye+=te&65535,de+=te>>>16,ce+=ee&65535,me+=ee>>>16,ee=Qe&ft^Qe&lt^ft&lt,te=pt&wt^pt&xt^wt&xt,ye+=te&65535,de+=te>>>16,ce+=ee&65535,me+=ee>>>16,de+=ye>>>16,ce+=de>>>16,me+=ce>>>16,Je=ce&65535|me<<16,Xe=ye&65535|de<<16,ee=He,te=We,ye=te&65535,de=te>>>16,ce=ee&65535,me=ee>>>16,ee=Ae,te=De,ye+=te&65535,de+=te>>>16,ce+=ee&65535,me+=ee>>>16,de+=ye>>>16,ce+=de>>>16,me+=ce>>>16,He=ce&65535|me<<16,We=ye&65535|de<<16,ft=q,lt=ae,ut=we,L=He,vt=Me,ct=Ot,Ct=je,Qe=Je,wt=rt,xt=ot,tn=st,Dt=We,Ht=et,nn=$e,Zt=Ie,pt=Xe,qe%16===15)for(Oe=0;Oe<16;Oe++)ee=N[Oe],te=V[Oe],ye=te&65535,de=te>>>16,ce=ee&65535,me=ee>>>16,ee=N[(Oe+9)%16],te=V[(Oe+9)%16],ye+=te&65535,de+=te>>>16,ce+=ee&65535,me+=ee>>>16,Ae=N[(Oe+1)%16],De=V[(Oe+1)%16],ee=(Ae>>>1|De<<31)^(Ae>>>8|De<<24)^Ae>>>7,te=(De>>>1|Ae<<31)^(De>>>8|Ae<<24)^(De>>>7|Ae<<25),ye+=te&65535,de+=te>>>16,ce+=ee&65535,me+=ee>>>16,Ae=N[(Oe+14)%16],De=V[(Oe+14)%16],ee=(Ae>>>19|De<<13)^(De>>>29|Ae<<3)^Ae>>>6,te=(De>>>19|Ae<<13)^(Ae>>>29|De<<3)^(De>>>6|Ae<<26),ye+=te&65535,de+=te>>>16,ce+=ee&65535,me+=ee>>>16,de+=ye>>>16,ce+=de>>>16,me+=ce>>>16,N[Oe]=ce&65535|me<<16,V[Oe]=ye&65535|de<<16;ee=Qe,te=pt,ye=te&65535,de=te>>>16,ce=ee&65535,me=ee>>>16,ee=w[0],te=T[0],ye+=te&65535,de+=te>>>16,ce+=ee&65535,me+=ee>>>16,de+=ye>>>16,ce+=de>>>16,me+=ce>>>16,w[0]=Qe=ce&65535|me<<16,T[0]=pt=ye&65535|de<<16,ee=ft,te=wt,ye=te&65535,de=te>>>16,ce=ee&65535,me=ee>>>16,ee=w[1],te=T[1],ye+=te&65535,de+=te>>>16,ce+=ee&65535,me+=ee>>>16,de+=ye>>>16,ce+=de>>>16,me+=ce>>>16,w[1]=ft=ce&65535|me<<16,T[1]=wt=ye&65535|de<<16,ee=lt,te=xt,ye=te&65535,de=te>>>16,ce=ee&65535,me=ee>>>16,ee=w[2],te=T[2],ye+=te&65535,de+=te>>>16,ce+=ee&65535,me+=ee>>>16,de+=ye>>>16,ce+=de>>>16,me+=ce>>>16,w[2]=lt=ce&65535|me<<16,T[2]=xt=ye&65535|de<<16,ee=ut,te=tn,ye=te&65535,de=te>>>16,ce=ee&65535,me=ee>>>16,ee=w[3],te=T[3],ye+=te&65535,de+=te>>>16,ce+=ee&65535,me+=ee>>>16,de+=ye>>>16,ce+=de>>>16,me+=ce>>>16,w[3]=ut=ce&65535|me<<16,T[3]=tn=ye&65535|de<<16,ee=L,te=Dt,ye=te&65535,de=te>>>16,ce=ee&65535,me=ee>>>16,ee=w[4],te=T[4],ye+=te&65535,de+=te>>>16,ce+=ee&65535,me+=ee>>>16,de+=ye>>>16,ce+=de>>>16,me+=ce>>>16,w[4]=L=ce&65535|me<<16,T[4]=Dt=ye&65535|de<<16,ee=vt,te=Ht,ye=te&65535,de=te>>>16,ce=ee&65535,me=ee>>>16,ee=w[5],te=T[5],ye+=te&65535,de+=te>>>16,ce+=ee&65535,me+=ee>>>16,de+=ye>>>16,ce+=de>>>16,me+=ce>>>16,w[5]=vt=ce&65535|me<<16,T[5]=Ht=ye&65535|de<<16,ee=ct,te=nn,ye=te&65535,de=te>>>16,ce=ee&65535,me=ee>>>16,ee=w[6],te=T[6],ye+=te&65535,de+=te>>>16,ce+=ee&65535,me+=ee>>>16,de+=ye>>>16,ce+=de>>>16,me+=ce>>>16,w[6]=ct=ce&65535|me<<16,T[6]=nn=ye&65535|de<<16,ee=Ct,te=Zt,ye=te&65535,de=te>>>16,ce=ee&65535,me=ee>>>16,ee=w[7],te=T[7],ye+=te&65535,de+=te>>>16,ce+=ee&65535,me+=ee>>>16,de+=ye>>>16,ce+=de>>>16,me+=ce>>>16,w[7]=Ct=ce&65535|me<<16,T[7]=Zt=ye&65535|de<<16,cn+=128,x-=128}return x}function mt(w,T,A){var x=new Int32Array(8),N=new Int32Array(8),V=new Uint8Array(256),q,ae=A;for(x[0]=1779033703,x[1]=3144134277,x[2]=1013904242,x[3]=2773480762,x[4]=1359893119,x[5]=2600822924,x[6]=528734635,x[7]=1541459225,N[0]=4089235720,N[1]=2227873595,N[2]=4271175723,N[3]=1595750129,N[4]=2917565137,N[5]=725511199,N[6]=4215389547,N[7]=327033209,Pt(x,N,T,A),A%=128,q=0;q<A;q++)V[q]=T[ae-A+q];for(V[A]=128,A=256-128*(A<112?1:0),V[A-9]=0,C(V,A-8,ae/536870912|0,ae<<3),Pt(x,N,V,A),q=0;q<8;q++)C(w,8*q,x[q],N[q]);return 0}function Ut(w,T){var A=n(),x=n(),N=n(),V=n(),q=n(),ae=n(),we=n(),He=n(),Me=n();ve(A,w[1],w[0]),ve(Me,T[1],T[0]),be(A,A,Me),le(x,w[0],w[1]),le(Me,T[0],T[1]),be(x,x,Me),be(N,w[3],T[3]),be(N,N,y),be(V,w[2],T[2]),le(V,V,V),ve(q,x,A),ve(ae,V,N),le(we,V,N),le(He,x,A),be(w[0],q,ae),be(w[1],He,we),be(w[2],we,ae),be(w[3],q,He)}function Xt(w,T,A){var x;for(x=0;x<4;x++)$(w[x],T[x],A)}function xn(w,T){var A=n(),x=n(),N=n();Ne(N,T[2]),be(A,T[0],N),be(x,T[1],N),Ee(w,x),w[31]^=I(A)<<7}function at(w,T,A){var x,N;for(B(w[0],u),B(w[1],f),B(w[2],f),B(w[3],u),N=255;N>=0;--N)x=A[N/8|0]>>(N&7)&1,Xt(w,T,x),Ut(T,w),Ut(w,w),Xt(w,T,x)}function ht(w,T){var A=[n(),n(),n(),n()];B(A[0],g),B(A[1],v),B(A[2],f),be(A[3],g,v),at(w,A,T)}function Qt(w,T,A){var x=new Uint8Array(64),N=[n(),n(),n(),n()],V;for(A||s(T,32),mt(x,T,32),x[0]&=248,x[31]&=127,x[31]|=64,ht(N,x),xn(w,N),V=0;V<32;V++)T[V+32]=w[V];return 0}var An=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Gn(w,T){var A,x,N,V;for(x=63;x>=32;--x){for(A=0,N=x-32,V=x-12;N<V;++N)T[N]+=A-16*T[x]*An[N-(x-32)],A=Math.floor((T[N]+128)/256),T[N]-=A*256;T[N]+=A,T[x]=0}for(A=0,N=0;N<32;N++)T[N]+=A-(T[31]>>4)*An[N],A=T[N]>>8,T[N]&=255;for(N=0;N<32;N++)T[N]-=A*An[N];for(x=0;x<32;x++)T[x+1]+=T[x]>>8,w[x]=T[x]&255}function Nn(w){var T=new Float64Array(64),A;for(A=0;A<64;A++)T[A]=w[A];for(A=0;A<64;A++)w[A]=0;Gn(w,T)}function xs(w,T,A,x){var N=new Uint8Array(64),V=new Uint8Array(64),q=new Uint8Array(64),ae,we,He=new Float64Array(64),Me=[n(),n(),n(),n()];mt(N,x,32),N[0]&=248,N[31]&=127,N[31]|=64;var Ot=A+64;for(ae=0;ae<A;ae++)w[64+ae]=T[ae];for(ae=0;ae<32;ae++)w[32+ae]=N[32+ae];for(mt(q,w.subarray(32),A+32),Nn(q),ht(Me,q),xn(w,Me),ae=32;ae<64;ae++)w[ae]=x[ae];for(mt(V,w,A+64),Nn(V),ae=0;ae<64;ae++)He[ae]=0;for(ae=0;ae<32;ae++)He[ae]=q[ae];for(ae=0;ae<32;ae++)for(we=0;we<32;we++)He[ae+we]+=V[ae]*N[we];return Gn(w.subarray(32),He),Ot}function bs(w,T){var A=n(),x=n(),N=n(),V=n(),q=n(),ae=n(),we=n();return B(w[2],f),re(w[1],T),Te(N,w[1]),be(V,N,p),ve(N,N,w[2]),le(V,w[2],V),Te(q,V),Te(ae,q),be(we,ae,q),be(A,we,N),be(A,A,V),it(A,A),be(A,A,N),be(A,A,V),be(A,A,V),be(w[0],A,V),Te(x,w[0]),be(x,x,V),ke(x,N)&&be(w[0],w[0],S),Te(x,w[0]),be(x,x,V),ke(x,N)?-1:(I(w[0])===T[31]>>7&&ve(w[0],u,w[0]),be(w[3],w[0],w[1]),0)}function Qr(w,T,A,x){var N,V=new Uint8Array(32),q=new Uint8Array(64),ae=[n(),n(),n(),n()],we=[n(),n(),n(),n()];if(A<64||bs(we,x))return-1;for(N=0;N<A;N++)w[N]=T[N];for(N=0;N<32;N++)w[N+32]=x[N];if(mt(q,w,A),Nn(q),at(ae,we,q),ht(we,T.subarray(32)),Ut(ae,we),xn(V,ae),A-=64,P(T,0,V,0)){for(N=0;N<A;N++)w[N]=0;return-1}for(N=0;N<A;N++)w[N]=T[N+64];return A}var fr=32,Kn=24,pn=32,Pn=16,on=32,Ss=32,_s=32,ws=32,Zr=32,Cs=Kn,ei=pn,Ur=Pn,Hn=64,Xn=32,Ir=64,Es=32,Jr=64;e.lowlevel={crypto_core_hsalsa20:G,crypto_stream_xor:xe,crypto_stream:pe,crypto_stream_salsa20_xor:Y,crypto_stream_salsa20:K,crypto_onetimeauth:Ce,crypto_onetimeauth_verify:Re,crypto_verify_16:M,crypto_verify_32:P,crypto_secretbox:ge,crypto_secretbox_open:Ue,crypto_scalarmult:z,crypto_scalarmult_base:J,crypto_box_beforenm:Pe,crypto_box_afternm:ze,crypto_box:St,crypto_box_open:gt,crypto_box_keypair:fe,crypto_hash:mt,crypto_sign:xs,crypto_sign_keypair:Qt,crypto_sign_open:Qr,crypto_secretbox_KEYBYTES:fr,crypto_secretbox_NONCEBYTES:Kn,crypto_secretbox_ZEROBYTES:pn,crypto_secretbox_BOXZEROBYTES:Pn,crypto_scalarmult_BYTES:on,crypto_scalarmult_SCALARBYTES:Ss,crypto_box_PUBLICKEYBYTES:_s,crypto_box_SECRETKEYBYTES:ws,crypto_box_BEFORENMBYTES:Zr,crypto_box_NONCEBYTES:Cs,crypto_box_ZEROBYTES:ei,crypto_box_BOXZEROBYTES:Ur,crypto_sign_BYTES:Hn,crypto_sign_PUBLICKEYBYTES:Xn,crypto_sign_SECRETKEYBYTES:Ir,crypto_sign_SEEDBYTES:Es,crypto_hash_BYTES:Jr,gf:n,D:p,L:An,pack25519:Ee,unpack25519:re,M:be,A:le,S:Te,Z:ve,pow2523:it,add:Ut,set25519:B,modL:Gn,scalarmult:at,scalarbase:ht};function Wr(w,T){if(w.length!==fr)throw new Error("bad key size");if(T.length!==Kn)throw new Error("bad nonce size")}function se(w,T){if(w.length!==_s)throw new Error("bad public key size");if(T.length!==ws)throw new Error("bad secret key size")}function Se(){for(var w=0;w<arguments.length;w++)if(!(arguments[w]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function tt(w){for(var T=0;T<w.length;T++)w[T]=0}e.randomBytes=function(w){var T=new Uint8Array(w);return s(T,w),T},e.secretbox=function(w,T,A){Se(w,T,A),Wr(A,T);for(var x=new Uint8Array(pn+w.length),N=new Uint8Array(x.length),V=0;V<w.length;V++)x[V+pn]=w[V];return ge(N,x,x.length,T,A),N.subarray(Pn)},e.secretbox.open=function(w,T,A){Se(w,T,A),Wr(A,T);for(var x=new Uint8Array(Pn+w.length),N=new Uint8Array(x.length),V=0;V<w.length;V++)x[V+Pn]=w[V];return x.length<32||Ue(N,x,x.length,T,A)!==0?null:N.subarray(pn)},e.secretbox.keyLength=fr,e.secretbox.nonceLength=Kn,e.secretbox.overheadLength=Pn,e.scalarMult=function(w,T){if(Se(w,T),w.length!==Ss)throw new Error("bad n size");if(T.length!==on)throw new Error("bad p size");var A=new Uint8Array(on);return z(A,w,T),A},e.scalarMult.base=function(w){if(Se(w),w.length!==Ss)throw new Error("bad n size");var T=new Uint8Array(on);return J(T,w),T},e.scalarMult.scalarLength=Ss,e.scalarMult.groupElementLength=on,e.box=function(w,T,A,x){var N=e.box.before(A,x);return e.secretbox(w,T,N)},e.box.before=function(w,T){Se(w,T),se(w,T);var A=new Uint8Array(Zr);return Pe(A,w,T),A},e.box.after=e.secretbox,e.box.open=function(w,T,A,x){var N=e.box.before(A,x);return e.secretbox.open(w,T,N)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var w=new Uint8Array(_s),T=new Uint8Array(ws);return fe(w,T),{publicKey:w,secretKey:T}},e.box.keyPair.fromSecretKey=function(w){if(Se(w),w.length!==ws)throw new Error("bad secret key size");var T=new Uint8Array(_s);return J(T,w),{publicKey:T,secretKey:new Uint8Array(w)}},e.box.publicKeyLength=_s,e.box.secretKeyLength=ws,e.box.sharedKeyLength=Zr,e.box.nonceLength=Cs,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(w,T){if(Se(w,T),T.length!==Ir)throw new Error("bad secret key size");var A=new Uint8Array(Hn+w.length);return xs(A,w,w.length,T),A},e.sign.open=function(w,T){if(Se(w,T),T.length!==Xn)throw new Error("bad public key size");var A=new Uint8Array(w.length),x=Qr(A,w,w.length,T);if(x<0)return null;for(var N=new Uint8Array(x),V=0;V<N.length;V++)N[V]=A[V];return N},e.sign.detached=function(w,T){for(var A=e.sign(w,T),x=new Uint8Array(Hn),N=0;N<x.length;N++)x[N]=A[N];return x},e.sign.detached.verify=function(w,T,A){if(Se(w,T,A),T.length!==Hn)throw new Error("bad signature size");if(A.length!==Xn)throw new Error("bad public key size");var x=new Uint8Array(Hn+w.length),N=new Uint8Array(Hn+w.length),V;for(V=0;V<Hn;V++)x[V]=T[V];for(V=0;V<w.length;V++)x[V+Hn]=w[V];return Qr(N,x,x.length,A)>=0},e.sign.keyPair=function(){var w=new Uint8Array(Xn),T=new Uint8Array(Ir);return Qt(w,T),{publicKey:w,secretKey:T}},e.sign.keyPair.fromSecretKey=function(w){if(Se(w),w.length!==Ir)throw new Error("bad secret key size");for(var T=new Uint8Array(Xn),A=0;A<T.length;A++)T[A]=w[32+A];return{publicKey:T,secretKey:new Uint8Array(w)}},e.sign.keyPair.fromSeed=function(w){if(Se(w),w.length!==Es)throw new Error("bad seed size");for(var T=new Uint8Array(Xn),A=new Uint8Array(Ir),x=0;x<32;x++)A[x]=w[x];return Qt(T,A,!0),{publicKey:T,secretKey:A}},e.sign.publicKeyLength=Xn,e.sign.secretKeyLength=Ir,e.sign.seedLength=Es,e.sign.signatureLength=Hn,e.hash=function(w){Se(w);var T=new Uint8Array(Jr);return mt(T,w,w.length),T},e.hash.hashLength=Jr,e.verify=function(w,T){return Se(w,T),w.length===0||T.length===0||w.length!==T.length?!1:E(w,0,T,0,w.length)===0},e.setPRNG=function(w){s=w},(function(){var w=typeof self<"u"?self.crypto||self.msCrypto:null;if(w&&w.getRandomValues){var T=65536;e.setPRNG(function(A,x){var N,V=new Uint8Array(x);for(N=0;N<x;N+=T)w.getRandomValues(V.subarray(N,N+Math.min(x-N,T)));for(N=0;N<x;N++)A[N]=V[N];tt(V)})}else typeof u4<"u"&&(w=h4,w&&w.randomBytes&&e.setPRNG(function(A,x){var N,V=w.randomBytes(x);for(N=0;N<x;N++)A[N]=V[N];tt(V)}))})()})(t.exports?t.exports:self.nacl=self.nacl||{})})(Pp)),Pp.exports}var Bu={exports:{}},p4=Bu.exports,m1;function WC(){return m1||(m1=1,(function(t){(function(e,n){t.exports?t.exports=n():(e.nacl||(e.nacl={}),e.nacl.util=n())})(p4,function(){var e={};function n(s){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(s))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(s){if(typeof s!="string")throw new TypeError("expected string");var a,c=unescape(encodeURIComponent(s)),u=new Uint8Array(c.length);for(a=0;a<c.length;a++)u[a]=c.charCodeAt(a);return u},e.encodeUTF8=function(s){var a,c=[];for(a=0;a<s.length;a++)c.push(String.fromCharCode(s[a]));return decodeURIComponent(escape(c.join("")))},typeof atob>"u"?typeof Buffer.from<"u"?(e.encodeBase64=function(s){return Buffer.from(s).toString("base64")},e.decodeBase64=function(s){return n(s),new Uint8Array(Array.prototype.slice.call(Buffer.from(s,"base64"),0))}):(e.encodeBase64=function(s){return new Buffer(s).toString("base64")},e.decodeBase64=function(s){return n(s),new Uint8Array(Array.prototype.slice.call(new Buffer(s,"base64"),0))}):(e.encodeBase64=function(s){var a,c=[],u=s.length;for(a=0;a<u;a++)c.push(String.fromCharCode(s[a]));return btoa(c.join(""))},e.decodeBase64=function(s){n(s);var a,c=atob(s),u=new Uint8Array(c.length);for(a=0;a<c.length;a++)u[a]=c.charCodeAt(a);return u}),e})})(Bu)),Bu.exports}function Yr(t){for(var e=arguments.length,n=Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(a){return"'"+a+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function lo(t){return!!t&&!!t[_r]}function ua(t){var e;return!!t&&((function(n){if(!n||typeof n!="object")return!1;var s=Object.getPrototypeOf(n);if(s===null)return!0;var a=Object.hasOwnProperty.call(s,"constructor")&&s.constructor;return a===Object||typeof a=="function"&&Function.toString.call(a)===_4})(t)||Array.isArray(t)||!!t[w1]||!!(!((e=t.constructor)===null||e===void 0)&&e[w1])||Iy(t)||zy(t))}function Uc(t,e,n){n===void 0&&(n=!1),vo(t)===0?(n?Object.keys:qy)(t).forEach((function(s){n&&typeof s=="symbol"||e(s,t[s],t)})):t.forEach((function(s,a){return e(a,s,t)}))}function vo(t){var e=t[_r];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Iy(t)?2:zy(t)?3:0}function Nm(t,e){return vo(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function m4(t,e){return vo(t)===2?t.get(e):t[e]}function eE(t,e,n){var s=vo(t);s===2?t.set(e,n):s===3?t.add(n):t[e]=n}function y4(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Iy(t){return b4&&t instanceof Map}function zy(t){return S4&&t instanceof Set}function ea(t){return t.o||t.t}function By(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=w4(t);delete e[_r];for(var n=qy(e),s=0;s<n.length;s++){var a=n[s],c=e[a];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(e[a]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[a]})}return Object.create(Object.getPrototypeOf(t),e)}function Hy(t,e){return e===void 0&&(e=!1),$y(t)||lo(t)||!ua(t)||(vo(t)>1&&(t.set=t.add=t.clear=t.delete=g4),Object.freeze(t),e&&Uc(t,(function(n,s){return Hy(s,!0)}),!0)),t}function g4(){Yr(2)}function $y(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function fs(t){var e=C4[t];return e||Yr(18,t),e}function y1(){return Ic}function Dp(t,e){e&&(fs("Patches"),t.u=[],t.s=[],t.v=e)}function df(t){Pm(t),t.p.forEach(v4),t.p=null}function Pm(t){t===Ic&&(Ic=t.l)}function g1(t){return Ic={p:[],l:Ic,h:t,m:!0,_:0}}function v4(t){var e=t[_r];e.i===0||e.i===1?e.j():e.g=!0}function kp(t,e){e._=e.p.length;var n=e.p[0],s=t!==void 0&&t!==n;return e.h.O||fs("ES5").S(e,t,s),s?(n[_r].P&&(df(e),Yr(4)),ua(t)&&(t=hf(e,t),e.l||pf(e,t)),e.u&&fs("Patches").M(n[_r].t,t,e.u,e.s)):t=hf(e,n,[]),df(e),e.u&&e.v(e.u,e.s),t!==tE?t:void 0}function hf(t,e,n){if($y(e))return e;var s=e[_r];if(!s)return Uc(e,(function(f,d){return v1(t,s,e,f,d,n)}),!0),e;if(s.A!==t)return e;if(!s.P)return pf(t,s.t,!0),s.t;if(!s.I){s.I=!0,s.A._--;var a=s.i===4||s.i===5?s.o=By(s.k):s.o,c=a,u=!1;s.i===3&&(c=new Set(a),a.clear(),u=!0),Uc(c,(function(f,d){return v1(t,s,a,f,d,n,u)})),pf(t,a,!1),n&&t.u&&fs("Patches").N(s,n,t.u,t.s)}return s.o}function v1(t,e,n,s,a,c,u){if(lo(a)){var f=hf(t,a,c&&e&&e.i!==3&&!Nm(e.R,s)?c.concat(s):void 0);if(eE(n,s,f),!lo(f))return;t.m=!1}else u&&n.add(a);if(ua(a)&&!$y(a)){if(!t.h.D&&t._<1)return;hf(t,a),e&&e.A.l||pf(t,a)}}function pf(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&Hy(e,n)}function jp(t,e){var n=t[_r];return(n?ea(n):t)[e]}function x1(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var s=Object.getOwnPropertyDescriptor(n,e);if(s)return s;n=Object.getPrototypeOf(n)}}function Dm(t){t.P||(t.P=!0,t.l&&Dm(t.l))}function Lp(t){t.o||(t.o=By(t.t))}function km(t,e,n){var s=Iy(e)?fs("MapSet").F(e,n):zy(e)?fs("MapSet").T(e,n):t.O?(function(a,c){var u=Array.isArray(a),f={i:u?1:0,A:c?c.A:y1(),P:!1,I:!1,R:{},l:c,t:a,k:null,o:null,j:null,C:!1},d=f,p=jm;u&&(d=[f],p=_c);var y=Proxy.revocable(d,p),g=y.revoke,v=y.proxy;return f.k=v,f.j=g,v})(e,n):fs("ES5").J(e,n);return(n?n.A:y1()).p.push(s),s}function x4(t){return lo(t)||Yr(22,t),(function e(n){if(!ua(n))return n;var s,a=n[_r],c=vo(n);if(a){if(!a.P&&(a.i<4||!fs("ES5").K(a)))return a.t;a.I=!0,s=b1(n,c),a.I=!1}else s=b1(n,c);return Uc(s,(function(u,f){a&&m4(a.t,u)===f||eE(s,u,e(f))})),c===3?new Set(s):s})(t)}function b1(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return By(t)}var S1,Ic,Vy=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",b4=typeof Map<"u",S4=typeof Set<"u",_1=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",tE=Vy?Symbol.for("immer-nothing"):((S1={})["immer-nothing"]=!0,S1),w1=Vy?Symbol.for("immer-draftable"):"__$immer_draftable",_r=Vy?Symbol.for("immer-state"):"__$immer_state",_4=""+Object.prototype.constructor,qy=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,w4=Object.getOwnPropertyDescriptors||function(t){var e={};return qy(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},C4={},jm={get:function(t,e){if(e===_r)return t;var n=ea(t);if(!Nm(n,e))return(function(a,c,u){var f,d=x1(c,u);return d?"value"in d?d.value:(f=d.get)===null||f===void 0?void 0:f.call(a.k):void 0})(t,n,e);var s=n[e];return t.I||!ua(s)?s:s===jp(t.t,e)?(Lp(t),t.o[e]=km(t.A.h,s,t)):s},has:function(t,e){return e in ea(t)},ownKeys:function(t){return Reflect.ownKeys(ea(t))},set:function(t,e,n){var s=x1(ea(t),e);if(s?.set)return s.set.call(t.k,n),!0;if(!t.P){var a=jp(ea(t),e),c=a?.[_r];if(c&&c.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(y4(n,a)&&(n!==void 0||Nm(t.t,e)))return!0;Lp(t),Dm(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return jp(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Lp(t),Dm(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=ea(t),s=Reflect.getOwnPropertyDescriptor(n,e);return s&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:s.enumerable,value:n[e]}},defineProperty:function(){Yr(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Yr(12)}},_c={};Uc(jm,(function(t,e){_c[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),_c.deleteProperty=function(t,e){return _c.set.call(this,t,e,void 0)},_c.set=function(t,e,n){return jm.set.call(this,t[0],e,n,t[0])};var E4=(function(){function t(n){var s=this;this.O=_1,this.D=!0,this.produce=function(a,c,u){if(typeof a=="function"&&typeof c!="function"){var f=c;c=a;var d=s;return function(E){var M=this;E===void 0&&(E=f);for(var P=arguments.length,D=Array(P>1?P-1:0),k=1;k<P;k++)D[k-1]=arguments[k];return d.produce(E,(function(j){var G;return(G=c).call.apply(G,[M,j].concat(D))}))}}var p;if(typeof c!="function"&&Yr(6),u!==void 0&&typeof u!="function"&&Yr(7),ua(a)){var y=g1(s),g=km(s,a,void 0),v=!0;try{p=c(g),v=!1}finally{v?df(y):Pm(y)}return typeof Promise<"u"&&p instanceof Promise?p.then((function(E){return Dp(y,u),kp(E,y)}),(function(E){throw df(y),E})):(Dp(y,u),kp(p,y))}if(!a||typeof a!="object"){if((p=c(a))===void 0&&(p=a),p===tE&&(p=void 0),s.D&&Hy(p,!0),u){var S=[],C=[];fs("Patches").M(a,p,S,C),u(S,C)}return p}Yr(21,a)},this.produceWithPatches=function(a,c){if(typeof a=="function")return function(p){for(var y=arguments.length,g=Array(y>1?y-1:0),v=1;v<y;v++)g[v-1]=arguments[v];return s.produceWithPatches(p,(function(S){return a.apply(void 0,[S].concat(g))}))};var u,f,d=s.produce(a,c,(function(p,y){u=p,f=y}));return typeof Promise<"u"&&d instanceof Promise?d.then((function(p){return[p,u,f]})):[d,u,f]},typeof n?.useProxies=="boolean"&&this.setUseProxies(n.useProxies),typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){ua(n)||Yr(8),lo(n)&&(n=x4(n));var s=g1(this),a=km(this,n,void 0);return a[_r].C=!0,Pm(s),a},e.finishDraft=function(n,s){var a=n&&n[_r],c=a.A;return Dp(c,s),kp(void 0,c)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!_1&&Yr(20),this.O=n},e.applyPatches=function(n,s){var a;for(a=s.length-1;a>=0;a--){var c=s[a];if(c.path.length===0&&c.op==="replace"){n=c.value;break}}a>-1&&(s=s.slice(a+1));var u=fs("Patches").$;return lo(n)?u(n,s):this.produce(n,(function(f){return u(f,s)}))},t})(),wr=new E4,T4=wr.produce;wr.produceWithPatches.bind(wr);wr.setAutoFreeze.bind(wr);wr.setUseProxies.bind(wr);wr.applyPatches.bind(wr);wr.createDraft.bind(wr);wr.finishDraft.bind(wr);class R4{constructor(e){const n=A4();this.c=1,this.s0=n(" "),this.s1=n(" "),this.s2=n(" "),this.s0-=n(e),this.s0<0&&(this.s0+=1),this.s1-=n(e),this.s1<0&&(this.s1+=1),this.s2-=n(e),this.s2<0&&(this.s2+=1)}next(){const e=2091639*this.s0+this.c*23283064365386963e-26;return this.s0=this.s1,this.s1=this.s2,this.s2=e-(this.c=Math.trunc(e))}}function A4(){let t=4022871197;return function(n){const s=n.toString();for(let a=0;a<s.length;a++){t+=s.charCodeAt(a);let c=.02519603282416938*t;t=c>>>0,c-=t,c*=t,t=c>>>0,c-=t,t+=c*4294967296}return(t>>>0)*23283064365386963e-26}}function C1(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function nE(t,e){const n=new R4(t),s=n.next.bind(n);return e&&C1(e,n),s.state=()=>C1(n,{}),s}class E1{constructor(e){this.state=e||{seed:"0"},this.used=!1}static seed(){return Date.now().toString(36).slice(-10)}isUsed(){return this.used}getState(){return this.state}_random(){this.used=!0;const e=this.state,n=e.prngstate?"":e.seed,s=nE(n,e.prngstate),a=s();return this.state={...e,prngstate:s.state()},a}api(){const e=this._random.bind(this),n={D4:4,D6:6,D8:8,D10:10,D12:12,D20:20},s={};for(const c in n){const u=n[c];s[c]=f=>f===void 0?Math.floor(e()*u)+1:Array.from({length:f}).map(()=>Math.floor(e()*u)+1)}function a(c=6,u){return u===void 0?Math.floor(e()*c)+1:Array.from({length:u}).map(()=>Math.floor(e()*c)+1)}return{...s,Die:a,Number:()=>e(),Shuffle:c=>{const u=[...c];let f=c.length,d=0;const p=Array.from({length:f});for(;f;){const y=Math.trunc(f*e());p[d++]=u[y],u[y]=u[--f]}return p},_private:this}}}const O4={name:"random",noClient:({api:t})=>t._private.isUsed(),flush:({api:t})=>t._private.getState(),api:({data:t})=>new E1(t).api(),setup:({game:t})=>{let{seed:e}=t;return e===void 0&&(e=E1.seed()),{seed:e}},playerView:()=>{}};var Up,T1;function M4(){if(T1)return Up;T1=1;var t="[object Object]";function e(v){var S=!1;if(v!=null&&typeof v.toString!="function")try{S=!!(v+"")}catch{}return S}function n(v,S){return function(C){return v(S(C))}}var s=Function.prototype,a=Object.prototype,c=s.toString,u=a.hasOwnProperty,f=c.call(Object),d=a.toString,p=n(Object.getPrototypeOf,Object);function y(v){return!!v&&typeof v=="object"}function g(v){if(!y(v)||d.call(v)!=t||e(v))return!1;var S=p(v);if(S===null)return!0;var C=u.call(S,"constructor")&&S.constructor;return typeof C=="function"&&C instanceof C&&c.call(C)==f}return Up=g,Up}M4();const zc="MAKE_MOVE",Vf="GAME_EVENT",qf="REDO",Fy="RESET",Yy="SYNC",Ff="UNDO",Gy="UPDATE",Ky="PATCH",rE="PLUGIN",Yf="STRIP_TRANSIENTS",sE=(t,e,n,s)=>({type:zc,payload:{type:t,args:e,playerID:n,credentials:s}}),Mc=(t,e,n,s)=>({type:Vf,payload:{type:t,args:e,playerID:n,credentials:s}}),iE=(t,e,n,s)=>({type:Vf,payload:{type:t,args:e,playerID:n,credentials:s},automatic:!0}),aE=t=>({type:Yy,state:t.state,log:t.log,initialState:t.initialState,clientOnly:!0}),oE=(t,e,n,s)=>({type:Ky,prevStateID:t,stateID:e,patch:n,deltalog:s,clientOnly:!0}),cE=(t,e)=>({type:Gy,state:t,deltalog:e,clientOnly:!0}),lE=t=>({type:Fy,state:t,clientOnly:!0}),uE=(t,e)=>({type:Ff,payload:{type:null,args:null,playerID:t,credentials:e}}),fE=(t,e)=>({type:qf,payload:{type:null,args:null,playerID:t,credentials:e}}),N4=(t,e,n,s)=>({type:rE,payload:{type:t,args:e,playerID:n,credentials:s}}),dE=()=>({type:Yf});var P4=Object.freeze({__proto__:null,makeMove:sE,gameEvent:Mc,automaticGameEvent:iE,sync:aE,patch:oE,update:cE,reset:lE,undo:uE,redo:fE,plugin:N4,stripTransients:dE});const Lm="INVALID_MOVE",D4={name:"plugin-immer",fnWrap:t=>(e,...n)=>{let s=!1;const a=T4(e.G,c=>{const u=t({...e,G:c},...n);if(u===Lm){s=!0;return}return u});return s?Lm:a}};var qn;(function(t){t.MOVE="MOVE",t.GAME_ON_END="GAME_ON_END",t.PHASE_ON_BEGIN="PHASE_ON_BEGIN",t.PHASE_ON_END="PHASE_ON_END",t.TURN_ON_BEGIN="TURN_ON_BEGIN",t.TURN_ON_MOVE="TURN_ON_MOVE",t.TURN_ON_END="TURN_ON_END"})(qn||(qn={}));var Ys;(function(t){t.CalledOutsideHook="Events must be called from moves or the `onBegin`, `onEnd`, and `onMove` hooks.\nThis error probably means you called an event from other game code, like an `endIf` trigger or one of the `turn.order` methods.",t.EndTurnInOnEnd="`endTurn` is disallowed in `onEnd` hooks  the turn is already ending.",t.MaxTurnEndings=`Maximum number of turn endings exceeded for this update.
This likely means game code is triggering an infinite loop.`,t.PhaseEventInOnEnd="`setPhase` & `endPhase` are disallowed in a phases `onEnd` hook  the phase is already ending.\nIf youre trying to dynamically choose the next phase when a phase ends, use the phases `next` trigger.",t.StageEventInOnEnd="`setStage`, `endStage` & `setActivePlayers` are disallowed in `onEnd` hooks.",t.StageEventInPhaseBegin="`setStage`, `endStage` & `setActivePlayers` are disallowed in a phases `onBegin` hook.\nUse `setActivePlayers` in a `turn.onBegin` hook or declare stages with `turn.activePlayers` instead.",t.StageEventInTurnBegin="`setStage` & `endStage` are disallowed in `turn.onBegin`.\nUse `setActivePlayers` or declare stages with `turn.activePlayers` instead."})(Ys||(Ys={}));class k4{constructor(e,n,s){this.flow=e,this.playerID=s,this.dispatch=[],this.initialTurn=n.turn,this.updateTurnContext(n,void 0),this.maxEndedTurnsPerAction=n.numPlayers*100}api(){const e={_private:this};for(const n of this.flow.eventNames)e[n]=(...s)=>{this.dispatch.push({type:n,args:s,phase:this.currentPhase,turn:this.currentTurn,calledFrom:this.currentMethod,error:new Error("Events Plugin Error")})};return e}isUsed(){return this.dispatch.length>0}updateTurnContext(e,n){this.currentPhase=e.phase,this.currentTurn=e.turn,this.currentMethod=n}unsetCurrentMethod(){this.currentMethod=void 0}update(e){const n=e,s=({stack:a},c)=>({...n,plugins:{...n.plugins,events:{...n.plugins.events,data:{error:c+`
`+a}}}});e:for(let a=0;a<this.dispatch.length;a++){const c=this.dispatch[a],u=c.turn!==e.ctx.turn;if(this.currentTurn-this.initialTurn>=this.maxEndedTurnsPerAction)return s(c.error,Ys.MaxTurnEndings);if(c.calledFrom===void 0)return s(c.error,Ys.CalledOutsideHook);if(e.ctx.gameover)break e;switch(c.type){case"endStage":case"setStage":case"setActivePlayers":{switch(c.calledFrom){case qn.TURN_ON_END:case qn.PHASE_ON_END:return s(c.error,Ys.StageEventInOnEnd);case qn.PHASE_ON_BEGIN:return s(c.error,Ys.StageEventInPhaseBegin);case qn.TURN_ON_BEGIN:if(c.type==="setActivePlayers")break;return s(c.error,Ys.StageEventInTurnBegin)}if(u)continue e;break}case"endTurn":{if(c.calledFrom===qn.TURN_ON_END||c.calledFrom===qn.PHASE_ON_END)return s(c.error,Ys.EndTurnInOnEnd);if(u)continue e;break}case"endPhase":case"setPhase":{if(c.calledFrom===qn.PHASE_ON_END)return s(c.error,Ys.PhaseEventInOnEnd);if(c.phase!==e.ctx.phase)continue e;break}}const d=iE(c.type,c.args,this.playerID);e=this.flow.processEvent(e,d)}return e}}const Xy={name:"events",noClient:({api:t})=>t._private.isUsed(),isInvalid:({data:t})=>t.error||!1,fnWrap:(t,e)=>(n,...s)=>{const a=n.events;a&&a._private.updateTurnContext(n.ctx,e);const c=t(n,...s);return a&&a._private.unsetCurrentMethod(),c},dangerouslyFlushRawState:({state:t,api:e})=>e._private.update(t),api:({game:t,ctx:e,playerID:n})=>new k4(t.flow,e,n).api()},j4={name:"log",flush:()=>({}),api:({data:t})=>({setMetadata:e=>{t.metadata=e}}),setup:()=>({})},L4={name:"plugin-serializable",fnWrap:t=>(e,...n)=>t(e,...n)},U4=(...t)=>console.error(...t);function zt(t){U4("ERROR:",t)}const Qy=[D4,O4,j4,L4],Qc=[...Qy,Xy],I4=(t,e,n)=>(n.game.plugins.filter(s=>s.action!==void 0).filter(s=>s.name===e.payload.type).forEach(s=>{const a=s.name,c=t.plugins[a]||{data:{}},u=s.action(c.data,e.payload);t={...t,plugins:{...t.plugins,[a]:{...c,data:u}}}}),t),uo=({plugins:t})=>Object.entries(t||{}).reduce((e,[n,{api:s}])=>(e[n]=s,e),{}),hE=(t,e,n)=>[...Qy,...n,Xy].filter(s=>s.fnWrap!==void 0).reduce((s,{fnWrap:a})=>a(s,e),t),z4=(t,e)=>([...Qc,...e.game.plugins].filter(n=>n.setup!==void 0).forEach(n=>{const s=n.name,a=n.setup({G:t.G,ctx:t.ctx,game:e.game});t={...t,plugins:{...t.plugins,[s]:{data:a}}}}),t),Um=(t,e)=>([...Qc,...e.game.plugins].filter(n=>n.api!==void 0).forEach(n=>{const s=n.name,a=t.plugins[s]||{data:{}},c=n.api({G:t.G,ctx:t.ctx,data:a.data,game:e.game,playerID:e.playerID});t={...t,plugins:{...t.plugins,[s]:{...a,api:c}}}}),t),B4=(t,e)=>([...Qy,...e.game.plugins,Xy].reverse().forEach(n=>{const s=n.name,a=t.plugins[s]||{data:{}};if(n.flush){const c=n.flush({G:t.G,ctx:t.ctx,game:e.game,api:a.api,data:a.data});t={...t,plugins:{...t.plugins,[n.name]:{data:c}}}}else if(n.dangerouslyFlushRawState){t=n.dangerouslyFlushRawState({state:t,game:e.game,api:a.api,data:a.data});const c=t.plugins[s].data;t={...t,plugins:{...t.plugins,[n.name]:{data:c}}}}}),t),H4=(t,e)=>[...Qc,...e.game.plugins].filter(n=>n.noClient!==void 0).map(n=>{const s=n.name,a=t.plugins[s];return a?n.noClient({G:t.G,ctx:t.ctx,game:e.game,api:a.api,data:a.data}):!1}).includes(!0),$4=(t,e)=>[...Qc,...e.game.plugins].filter(s=>s.isInvalid!==void 0).map(s=>{const{name:a}=s,c=t.plugins[a],u=s.isInvalid({G:t.G,ctx:t.ctx,game:e.game,data:c&&c.data});return u?{plugin:a,message:u}:!1}).find(s=>s)||!1,pE=(t,e)=>{const n=B4(t,e),s=$4(n,e);if(!s)return[n];const{plugin:a,message:c}=s;return zt(`${a} plugin declared action invalid:
${c}`),[t,s]},mE=({G:t,ctx:e,plugins:n={}},{game:s,playerID:a})=>([...Qc,...s.plugins].forEach(({name:c,playerView:u})=>{if(!u)return;const{data:f}=n[c]||{data:{}},d=u({G:t,ctx:e,game:s,data:f,playerID:a});n={...n,[c]:{data:d}}}),n);function mf(t,e=!1){t.moveLimit&&(e&&(t.minMoves=t.moveLimit),t.maxMoves=t.moveLimit,delete t.moveLimit)}function yf(t,e){let n={},s=[],a=null,c={},u={};if(Array.isArray(e)){const d={};e.forEach(p=>d[p]=gf.NULL),n=d}else{if(mf(e),e.next&&(a=e.next),e.revert&&(s=[...t._prevActivePlayers,{activePlayers:t.activePlayers,_activePlayersMinMoves:t._activePlayersMinMoves,_activePlayersMaxMoves:t._activePlayersMaxMoves,_activePlayersNumMoves:t._activePlayersNumMoves}]),e.currentPlayer!==void 0&&Su(n,c,u,t.currentPlayer,e.currentPlayer),e.others!==void 0)for(let d=0;d<t.playOrder.length;d++){const p=t.playOrder[d];p!==t.currentPlayer&&Su(n,c,u,p,e.others)}if(e.all!==void 0)for(let d=0;d<t.playOrder.length;d++){const p=t.playOrder[d];Su(n,c,u,p,e.all)}if(e.value)for(const d in e.value)Su(n,c,u,d,e.value[d]);if(e.minMoves)for(const d in n)c[d]===void 0&&(c[d]=e.minMoves);if(e.maxMoves)for(const d in n)u[d]===void 0&&(u[d]=e.maxMoves)}Object.keys(n).length===0&&(n=null),Object.keys(c).length===0&&(c=null),Object.keys(u).length===0&&(u=null);const f={};for(const d in n)f[d]=0;return{...t,activePlayers:n,_activePlayersMinMoves:c,_activePlayersMaxMoves:u,_activePlayersNumMoves:f,_prevActivePlayers:s,_nextActivePlayers:a}}function V4(t){let{activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:s,_activePlayersNumMoves:a,_prevActivePlayers:c,_nextActivePlayers:u}=t;if(e&&Object.keys(e).length===0)if(u)t=yf(t,u),{activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:s,_activePlayersNumMoves:a,_prevActivePlayers:c}=t;else if(c.length>0){const f=c.length-1;({activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:s,_activePlayersNumMoves:a}=c[f]),c=c.slice(0,f)}else e=null,n=null,s=null;return{...t,activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:s,_activePlayersNumMoves:a,_prevActivePlayers:c}}function Su(t,e,n,s,a){(typeof a!="object"||a===gf.NULL)&&(a={stage:a}),a.stage!==void 0&&(mf(a),t[s]=a.stage,a.minMoves&&(e[s]=a.minMoves),a.maxMoves&&(n[s]=a.maxMoves))}function Im(t,e){return t[e]+""}function q4(t,e){let{G:n,ctx:s}=t;const{numPlayers:a}=s,u={...uo(t),G:n,ctx:s},f=e.order;let d=[...Array.from({length:a})].map((v,S)=>S+"");f.playOrder!==void 0&&(d=f.playOrder(u));const p=f.first(u),y=typeof p;y!=="number"&&zt(`invalid value returned by turn.order.first  expected number got ${y} ${p}.`);const g=Im(d,p);return s={...s,currentPlayer:g,playOrderPos:p,playOrder:d},s=yf(s,e.activePlayers||{}),s}function F4(t,e,n,s){const a=n.order;let{G:c,ctx:u}=t,f=u.playOrderPos,d=!1;if(s&&s!==!0)typeof s!="object"&&zt(`invalid argument to endTurn: ${s}`),Object.keys(s).forEach(p=>{switch(p){case"remove":e=Im(u.playOrder,f);break;case"next":f=u.playOrder.indexOf(s.next),e=s.next;break;default:zt(`invalid argument to endTurn: ${p}`)}});else{const y={...uo(t),G:c,ctx:u},g=a.next(y),v=typeof g;g!==void 0&&v!=="number"&&zt(`invalid value returned by turn.order.next  expected number or undefined got ${v} ${g}.`),g===void 0?d=!0:(f=g,e=Im(u.playOrder,f))}return u={...u,playOrderPos:f,currentPlayer:e},{endPhase:d,ctx:u}}const Y4={DEFAULT:{first:({ctx:t})=>t.turn===0?t.playOrderPos:(t.playOrderPos+1)%t.playOrder.length,next:({ctx:t})=>(t.playOrderPos+1)%t.playOrder.length}},gf={NULL:null};var Ip={},qs={},R1;function yE(){if(R1)return qs;R1=1,Object.defineProperty(qs,"__esModule",{value:!0}),qs.Pointer=qs.escapeToken=qs.unescapeToken=void 0;function t(s){return s.replace(/~1/g,"/").replace(/~0/g,"~")}qs.unescapeToken=t;function e(s){return s.replace(/~/g,"~0").replace(/\//g,"~1")}qs.escapeToken=e;var n=(function(){function s(a){a===void 0&&(a=[""]),this.tokens=a}return s.fromJSON=function(a){var c=a.split("/").map(t);if(c[0]!=="")throw new Error("Invalid JSON Pointer: ".concat(a));return new s(c)},s.prototype.toString=function(){return this.tokens.map(e).join("/")},s.prototype.evaluate=function(a){for(var c=null,u="",f=a,d=1,p=this.tokens.length;d<p;d++)c=f,u=this.tokens[d],!(u=="__proto__"||u=="constructor"||u=="prototype")&&(f=(c||{})[u]);return{parent:c,key:u,value:f}},s.prototype.get=function(a){return this.evaluate(a).value},s.prototype.set=function(a,c){var u=this.evaluate(a);u.parent&&(u.parent[u.key]=c)},s.prototype.push=function(a){this.tokens.push(a)},s.prototype.add=function(a){var c=this.tokens.concat(String(a));return new s(c)},s})();return qs.Pointer=n,qs}var en={},zp={},A1;function gE(){return A1||(A1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.clone=t.objectType=t.hasOwnProperty=void 0,t.hasOwnProperty=Object.prototype.hasOwnProperty;function e(a){return a===void 0?"undefined":a===null?"null":Array.isArray(a)?"array":typeof a}t.objectType=e;function n(a){return a!=null&&typeof a=="object"}function s(a){if(!n(a))return a;if(a.constructor==Array){for(var c=a.length,u=new Array(c),f=0;f<c;f++)u[f]=s(a[f]);return u}if(a.constructor==Date){var d=new Date(+a);return d}var p={};for(var y in a)t.hasOwnProperty.call(a,y)&&(p[y]=s(a[y]));return p}t.clone=s})(zp)),zp}var Zn={},O1;function vE(){if(O1)return Zn;O1=1,Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.diffAny=Zn.diffObjects=Zn.diffArrays=Zn.intersection=Zn.subtract=Zn.isDestructive=void 0;var t=gE();function e(y){var g=y.op;return g==="remove"||g==="replace"||g==="copy"||g==="move"}Zn.isDestructive=e;function n(y,g){var v={};for(var S in y)t.hasOwnProperty.call(y,S)&&y[S]!==void 0&&(v[S]=1);for(var C in g)t.hasOwnProperty.call(g,C)&&g[C]!==void 0&&delete v[C];return Object.keys(v)}Zn.subtract=n;function s(y){for(var g=y.length,v={},S=0;S<g;S++){var C=y[S];for(var E in C)t.hasOwnProperty.call(C,E)&&C[E]!==void 0&&(v[E]=(v[E]||0)+1)}for(var E in v)v[E]<g&&delete v[E];return Object.keys(v)}Zn.intersection=s;function a(y){return y.op==="add"}function c(y){return y.op==="remove"}function u(y,g){return{operations:y.operations.concat(g),cost:y.cost+1}}function f(y,g,v,S){S===void 0&&(S=p);var C={"0,0":{operations:[],cost:0}};function E(j,G){var X="".concat(j,",").concat(G),Y=C[X];if(Y===void 0){if(j>0&&G>0&&!S(y[j-1],g[G-1],v.add(String(j-1))).length)Y=E(j-1,G-1);else{var K=[];if(j>0){var pe=E(j-1,G),xe={op:"remove",index:j-1};K.push(u(pe,xe))}if(G>0){var _e=E(j,G-1),Ce={op:"add",index:j-1,value:g[G-1]};K.push(u(_e,Ce))}if(j>0&&G>0){var Re=E(j-1,G-1),ge={op:"replace",index:j-1,original:y[j-1],value:g[G-1]};K.push(u(Re,ge))}var Ue=K.sort(function(B,ie){return B.cost-ie.cost})[0];Y=Ue}C[X]=Y}return Y}var M=isNaN(y.length)||y.length<=0?0:y.length,P=isNaN(g.length)||g.length<=0?0:g.length,D=E(M,P).operations,k=D.reduce(function(j,G){var X=j[0],Y=j[1];if(a(G)){var K=G.index+1+Y,pe=K<M+Y?String(K):"-",xe={op:G.op,path:v.add(pe).toString(),value:G.value};return[X.concat(xe),Y+1]}else if(c(G)){var xe={op:G.op,path:v.add(String(G.index+Y)).toString()};return[X.concat(xe),Y-1]}else{var _e=v.add(String(G.index+Y)),Ce=S(G.original,G.value,_e);return[X.concat.apply(X,Ce),Y]}},[[],0])[0];return k}Zn.diffArrays=f;function d(y,g,v,S){S===void 0&&(S=p);var C=[];return n(y,g).forEach(function(E){C.push({op:"remove",path:v.add(E).toString()})}),n(g,y).forEach(function(E){C.push({op:"add",path:v.add(E).toString(),value:g[E]})}),s([y,g]).forEach(function(E){C.push.apply(C,S(y[E],g[E],v.add(E)))}),C}Zn.diffObjects=d;function p(y,g,v,S){if(S===void 0&&(S=p),y===g)return[];var C=(0,t.objectType)(y),E=(0,t.objectType)(g);return C=="array"&&E=="array"?f(y,g,v,S):C=="object"&&E=="object"?d(y,g,v,S):[{op:"replace",path:v.toString(),value:g}]}return Zn.diffAny=p,Zn}var M1;function G4(){if(M1)return en;M1=1;var t=en&&en.__extends||(function(){var M=function(P,D){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,j){k.__proto__=j}||function(k,j){for(var G in j)Object.prototype.hasOwnProperty.call(j,G)&&(k[G]=j[G])},M(P,D)};return function(P,D){if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");M(P,D);function k(){this.constructor=P}P.prototype=D===null?Object.create(D):(k.prototype=D.prototype,new k)}})();Object.defineProperty(en,"__esModule",{value:!0}),en.apply=en.InvalidOperationError=en.test=en.copy=en.move=en.replace=en.remove=en.add=en.TestError=en.MissingError=void 0;var e=yE(),n=gE(),s=vE(),a=(function(M){t(P,M);function P(D){var k=M.call(this,"Value required at path: ".concat(D))||this;return k.path=D,k.name="MissingError",k}return P})(Error);en.MissingError=a;var c=(function(M){t(P,M);function P(D,k){var j=M.call(this,"Test failed: ".concat(D," != ").concat(k))||this;return j.actual=D,j.expected=k,j.name="TestError",j}return P})(Error);en.TestError=c;function u(M,P,D){if(Array.isArray(M))if(P=="-")M.push(D);else{var k=parseInt(P,10);M.splice(k,0,D)}else M[P]=D}function f(M,P){if(Array.isArray(M)){var D=parseInt(P,10);M.splice(D,1)}else delete M[P]}function d(M,P){var D=e.Pointer.fromJSON(P.path).evaluate(M);return D.parent===void 0?new a(P.path):(u(D.parent,D.key,(0,n.clone)(P.value)),null)}en.add=d;function p(M,P){var D=e.Pointer.fromJSON(P.path).evaluate(M);return D.value===void 0?new a(P.path):(f(D.parent,D.key),null)}en.remove=p;function y(M,P){var D=e.Pointer.fromJSON(P.path).evaluate(M);if(D.parent===null)return new a(P.path);if(Array.isArray(D.parent)){if(parseInt(D.key,10)>=D.parent.length)return new a(P.path)}else if(D.value===void 0)return new a(P.path);return D.parent[D.key]=(0,n.clone)(P.value),null}en.replace=y;function g(M,P){var D=e.Pointer.fromJSON(P.from).evaluate(M);if(D.value===void 0)return new a(P.from);var k=e.Pointer.fromJSON(P.path).evaluate(M);return k.parent===void 0?new a(P.path):(f(D.parent,D.key),u(k.parent,k.key,D.value),null)}en.move=g;function v(M,P){var D=e.Pointer.fromJSON(P.from).evaluate(M);if(D.value===void 0)return new a(P.from);var k=e.Pointer.fromJSON(P.path).evaluate(M);return k.parent===void 0?new a(P.path):(u(k.parent,k.key,(0,n.clone)(D.value)),null)}en.copy=v;function S(M,P){var D=e.Pointer.fromJSON(P.path).evaluate(M);return(0,s.diffAny)(D.value,P.value,new e.Pointer).length?new c(D.value,P.value):null}en.test=S;var C=(function(M){t(P,M);function P(D){var k=M.call(this,"Invalid operation: ".concat(D.op))||this;return k.operation=D,k.name="InvalidOperationError",k}return P})(Error);en.InvalidOperationError=C;function E(M,P){switch(P.op){case"add":return d(M,P);case"remove":return p(M,P);case"replace":return y(M,P);case"move":return g(M,P);case"copy":return v(M,P);case"test":return S(M,P)}return new C(P)}return en.apply=E,en}var N1;function K4(){return N1||(N1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createTests=t.createPatch=t.applyPatch=t.Pointer=void 0;var e=yE();Object.defineProperty(t,"Pointer",{enumerable:!0,get:function(){return e.Pointer}});var n=G4(),s=vE();function a(p,y){return y.map(function(g){return(0,n.apply)(p,g)})}t.applyPatch=a;function c(p){function y(g,v,S){var C=p(g,v,S);return Array.isArray(C)?C:(0,s.diffAny)(g,v,S,y)}return y}function u(p,y,g){var v=new e.Pointer;return(g?c(g):s.diffAny)(p,y,v)}t.createPatch=u;function f(p,y){var g=e.Pointer.fromJSON(y).evaluate(p);if(g!==void 0)return{op:"test",path:y,value:g.value}}function d(p,y){var g=new Array;return y.filter(s.isDestructive).forEach(function(v){var S=f(p,v.path);if(S&&g.push(S),"from"in v){var C=f(p,v.from);C&&g.push(C)}}),g}t.createTests=d})(Ip)),Ip}var xE=K4();function X4({moves:t,phases:e,endIf:n,onEnd:s,turn:a,events:c,plugins:u}){t===void 0&&(t={}),c===void 0&&(c={}),u===void 0&&(u=[]),e===void 0&&(e={}),n||(n=()=>{}),s||(s=({G:z})=>z),a||(a={});const f={...e};""in f&&zt("cannot specify phase with empty name"),f[""]={};const d={},p=new Set;let y=null;Object.keys(t).forEach(z=>p.add(z));const g=(z,J)=>{const fe=hE(z,J,u);return Pe=>{const ze=uo(Pe);return fe({...ze,G:Pe.G,ctx:Pe.ctx,playerID:Pe.playerID})}},v=z=>J=>{const fe=uo(J);return z({...fe,G:J.G,ctx:J.ctx})},S={onEnd:g(s,qn.GAME_ON_END),endIf:v(n)};for(const z in f){const J=f[z];if(J.start===!0&&(y=z),J.moves!==void 0)for(const fe of Object.keys(J.moves))d[z+"."+fe]=J.moves[fe],p.add(fe);J.endIf===void 0&&(J.endIf=()=>{}),J.onBegin===void 0&&(J.onBegin=({G:fe})=>fe),J.onEnd===void 0&&(J.onEnd=({G:fe})=>fe),J.turn===void 0&&(J.turn=a),J.turn.order===void 0&&(J.turn.order=Y4.DEFAULT),J.turn.onBegin===void 0&&(J.turn.onBegin=({G:fe})=>fe),J.turn.onEnd===void 0&&(J.turn.onEnd=({G:fe})=>fe),J.turn.endIf===void 0&&(J.turn.endIf=()=>!1),J.turn.onMove===void 0&&(J.turn.onMove=({G:fe})=>fe),J.turn.stages===void 0&&(J.turn.stages={}),mf(J.turn,!0);for(const fe in J.turn.stages){const ze=J.turn.stages[fe].moves||{};for(const Be of Object.keys(ze)){const St=z+"."+fe+"."+Be;d[St]=ze[Be],p.add(Be)}}if(J.wrapped={onBegin:g(J.onBegin,qn.PHASE_ON_BEGIN),onEnd:g(J.onEnd,qn.PHASE_ON_END),endIf:v(J.endIf)},J.turn.wrapped={onMove:g(J.turn.onMove,qn.TURN_ON_MOVE),onBegin:g(J.turn.onBegin,qn.TURN_ON_BEGIN),onEnd:g(J.turn.onEnd,qn.TURN_ON_END),endIf:v(J.turn.endIf)},typeof J.next!="function"){const{next:fe}=J;J.next=()=>fe||null}J.wrapped.next=v(J.next)}function C(z){return z.phase?f[z.phase]:f[""]}function E(z){return z}function M(z,J){const fe=new Set,Pe=new Set;for(let ze=0;ze<J.length;ze++){const{fn:Be,arg:St,...gt}=J[ze];if(Be===Ce){Pe.clear();const Ut=z.ctx.phase;if(fe.has(Ut)){const Xt={...z.ctx,phase:null};return{...z,ctx:Xt}}fe.add(Ut)}const hn=[];if(z=Be(z,{...gt,arg:St,next:hn}),Be===_e)break;const Pt=K(z);if(Pt){J.push({fn:_e,arg:Pt,turn:z.ctx.turn,phase:z.ctx.phase,automatic:!0});continue}const mt=pe(z);if(mt){J.push({fn:Ce,arg:mt,turn:z.ctx.turn,phase:z.ctx.phase,automatic:!0});continue}if([E,X,Y].includes(Be)){const Ut=xe(z);if(Ut){J.push({fn:Re,arg:Ut,turn:z.ctx.turn,phase:z.ctx.phase,automatic:!0});continue}}J.push(...hn)}return z}function P(z,{next:J}){return J.push({fn:D}),z}function D(z,{next:J}){let{G:fe,ctx:Pe}=z;return fe=C(Pe).wrapped.onBegin(z),J.push({fn:k}),{...z,G:fe,ctx:Pe}}function k(z,{currentPlayer:J}){let{ctx:fe}=z;const Pe=C(fe);J?(fe={...fe,currentPlayer:J},Pe.turn.activePlayers&&(fe=yf(fe,Pe.turn.activePlayers))):fe=q4(z,Pe.turn);const ze=fe.turn+1;fe={...fe,turn:ze,numMoves:0,_prevActivePlayers:[]};const Be=Pe.turn.wrapped.onBegin({...z,ctx:fe});return{...z,G:Be,ctx:fe,_undo:[],_redo:[]}}function j(z,{arg:J,next:fe,phase:Pe}){const ze=C({phase:Pe});let{ctx:Be}=z;if(J&&J.next)if(J.next in f)Be={...Be,phase:J.next};else return zt("invalid phase: "+J.next),z;else Be={...Be,phase:ze.wrapped.next(z)||null};return z={...z,ctx:Be},fe.push({fn:D}),z}function G(z,{arg:J,currentPlayer:fe,next:Pe}){let{G:ze,ctx:Be}=z;const St=C(Be),{endPhase:gt,ctx:hn}=F4(z,fe,St.turn,J);return Be=hn,z={...z,G:ze,ctx:Be},gt?Pe.push({fn:Ce,turn:Be.turn,phase:Be.phase}):Pe.push({fn:k,currentPlayer:Be.currentPlayer}),z}function X(z,{arg:J,playerID:fe}){if((typeof J=="string"||J===gf.NULL)&&(J={stage:J}),typeof J!="object")return z;mf(J);let{ctx:Pe}=z,{activePlayers:ze,_activePlayersMinMoves:Be,_activePlayersMaxMoves:St,_activePlayersNumMoves:gt}=Pe;return J.stage!==void 0&&(ze===null&&(ze={}),ze[fe]=J.stage,gt[fe]=0,J.minMoves&&(Be===null&&(Be={}),Be[fe]=J.minMoves),J.maxMoves&&(St===null&&(St={}),St[fe]=J.maxMoves)),Pe={...Pe,activePlayers:ze,_activePlayersMinMoves:Be,_activePlayersMaxMoves:St,_activePlayersNumMoves:gt},{...z,ctx:Pe}}function Y(z,{arg:J}){return{...z,ctx:yf(z.ctx,J)}}function K(z){return S.endIf(z)}function pe(z){return C(z.ctx).wrapped.endIf(z)}function xe(z){const J=C(z.ctx),fe=z.ctx.numMoves||0;return J.turn.maxMoves&&fe>=J.turn.maxMoves?!0:J.turn.wrapped.endIf(z)}function _e(z,{arg:J,phase:fe}){z=Ce(z,{}),J===void 0&&(J=!0),z={...z,ctx:{...z.ctx,gameover:J}};const Pe=S.onEnd(z);return{...z,G:Pe}}function Ce(z,{arg:J,next:fe,turn:Pe,automatic:ze}){z=Re(z,{turn:Pe,force:!0,automatic:!0});const{phase:Be,turn:St}=z.ctx;if(fe&&fe.push({fn:j,arg:J,phase:Be}),Be===null)return z;const hn=C(z.ctx).wrapped.onEnd(z),Pt={...z.ctx,phase:null},mt=Mc("endPhase",J),{_stateID:Ut}=z,Xt={action:mt,_stateID:Ut,turn:St,phase:Be};ze&&(Xt.automatic=!0);const xn=[...z.deltalog||[],Xt];return{...z,G:hn,ctx:Pt,deltalog:xn}}function Re(z,{arg:J,next:fe,turn:Pe,force:ze,automatic:Be,playerID:St}){if(Pe!==z.ctx.turn)return z;const{currentPlayer:gt,numMoves:hn,phase:Pt,turn:mt}=z.ctx,Ut=C(z.ctx),Xt=hn||0;if(!ze&&Ut.turn.minMoves&&Xt<Ut.turn.minMoves)return`${Ut.turn.minMoves}`,z;const xn=Ut.turn.wrapped.onEnd(z);fe&&fe.push({fn:G,arg:J,currentPlayer:gt});let at={...z.ctx,activePlayers:null};if(J&&J.remove){St=St||gt;const Nn=at.playOrder.filter(bs=>bs!=St),xs=at.playOrderPos>Nn.length-1?0:at.playOrderPos;if(at={...at,playOrder:Nn,playOrderPos:xs},Nn.length===0)return fe.push({fn:Ce,turn:mt,phase:Pt}),z}const ht=Mc("endTurn",J),{_stateID:Qt}=z,An={action:ht,_stateID:Qt,turn:mt,phase:Pt};Be&&(An.automatic=!0);const Gn=[...z.deltalog||[],An];return{...z,G:xn,ctx:at,deltalog:Gn,_undo:[],_redo:[]}}function ge(z,{arg:J,next:fe,automatic:Pe,playerID:ze}){ze=ze||z.ctx.currentPlayer;let{ctx:Be,_stateID:St}=z,{activePlayers:gt,_activePlayersNumMoves:hn,_activePlayersMinMoves:Pt,_activePlayersMaxMoves:mt,phase:Ut,turn:Xt}=Be;const xn=gt!==null&&ze in gt,at=C(Be);if(!J&&xn){const Nn=at.turn.stages[gt[ze]];Nn&&Nn.next&&(J=Nn.next)}if(fe&&fe.push({fn:X,arg:J,playerID:ze}),!xn)return z;const ht=hn[ze]||0;if(Pt&&Pt[ze]&&ht<Pt[ze])return`${Pt[ze]}`,z;gt={...gt},delete gt[ze],Pt&&(Pt={...Pt},delete Pt[ze]),mt&&(mt={...mt},delete mt[ze]),Be=V4({...Be,activePlayers:gt,_activePlayersMinMoves:Pt,_activePlayersMaxMoves:mt});const An={action:Mc("endStage",J),_stateID:St,turn:Xt,phase:Ut};Pe&&(An.automatic=!0);const Gn=[...z.deltalog||[],An];return{...z,ctx:Be,deltalog:Gn}}function Ue(z,J,fe){const Pe=C(z),ze=Pe.turn.stages,{activePlayers:Be}=z;if(Be&&Be[fe]!==void 0&&Be[fe]!==gf.NULL&&ze[Be[fe]]!==void 0&&ze[Be[fe]].moves!==void 0){const gt=ze[Be[fe]].moves;if(J in gt)return gt[J]}else if(Pe.moves){if(J in Pe.moves)return Pe.moves[J]}else if(J in t)return t[J];return null}function B(z,J){const{playerID:fe,type:Pe}=J,{currentPlayer:ze,activePlayers:Be,_activePlayersMaxMoves:St}=z.ctx,gt=Ue(z.ctx,Pe,fe),hn=!gt||typeof gt=="function"||gt.noLimit!==!0;let{numMoves:Pt,_activePlayersNumMoves:mt}=z.ctx;hn&&(fe===ze&&Pt++,Be&&mt[fe]++),z={...z,ctx:{...z.ctx,numMoves:Pt,_activePlayersNumMoves:mt}},St&&mt[fe]>=St[fe]&&(z=ge(z,{playerID:fe,automatic:!0}));const Xt=C(z.ctx).turn.wrapped.onMove({...z,playerID:fe});return z={...z,G:Xt},M(z,[{fn:E}])}function ie(z,J,fe){return M(z,[{fn:ge,arg:fe,playerID:J}])}function $(z,J){return M(z,[{fn:ge,playerID:J}])}function Ee(z,J,fe){return M(z,[{fn:Y,arg:fe}])}function ke(z,J,fe){return M(z,[{fn:Ce,phase:z.ctx.phase,turn:z.ctx.turn,arg:{next:fe}}])}function I(z){return M(z,[{fn:Ce,phase:z.ctx.phase,turn:z.ctx.turn}])}function re(z,J,fe){return M(z,[{fn:Re,turn:z.ctx.turn,phase:z.ctx.phase,arg:fe}])}function le(z,J,fe){return M(z,[{fn:Re,turn:z.ctx.turn,phase:z.ctx.phase,force:!0,arg:fe}])}function ve(z,J,fe){return M(z,[{fn:_e,turn:z.ctx.turn,phase:z.ctx.phase,arg:fe}])}const be={endStage:$,setStage:ie,endTurn:re,pass:le,endPhase:I,setPhase:ke,endGame:ve,setActivePlayers:Ee},Te=[];c.endTurn!==!1&&Te.push("endTurn"),c.pass!==!1&&Te.push("pass"),c.endPhase!==!1&&Te.push("endPhase"),c.setPhase!==!1&&Te.push("setPhase"),c.endGame!==!1&&Te.push("endGame"),c.setActivePlayers!==!1&&Te.push("setActivePlayers"),c.endStage!==!1&&Te.push("endStage"),c.setStage!==!1&&Te.push("setStage");function Ne(z,J){const{type:fe,playerID:Pe,args:ze}=J.payload;return typeof be[fe]!="function"?z:be[fe](z,Pe,...Array.isArray(ze)?ze:[ze])}function it(z,J,fe){return J.activePlayers?fe in J.activePlayers:J.currentPlayer===fe}return{ctx:z=>({numPlayers:z,turn:0,currentPlayer:"0",playOrder:[...Array.from({length:z})].map((J,fe)=>fe+""),playOrderPos:0,phase:y,activePlayers:null}),init:z=>M(z,[{fn:P}]),isPlayerActive:it,eventHandlers:be,eventNames:Object.keys(be),enabledEventNames:Te,moveMap:d,moveNames:[...p.values()],processMove:B,processEvent:Ne,getMove:Ue}}function Q4(t){return t.processMove!==void 0}function Zc(t){if(Q4(t))return t;if(t.name===void 0&&(t.name="default"),t.deltaState===void 0&&(t.deltaState=!1),t.disableUndo===void 0&&(t.disableUndo=!1),t.setup===void 0&&(t.setup=()=>({})),t.moves===void 0&&(t.moves={}),t.playerView===void 0&&(t.playerView=({G:n})=>n),t.plugins===void 0&&(t.plugins=[]),t.plugins.forEach(n=>{if(n.name===void 0)throw new Error("Plugin missing name attribute");if(n.name.includes(" "))throw new Error(n.name+": Plugin name must not include spaces")}),t.name.includes(" "))throw new Error(t.name+": Game name must not include spaces");const e=X4(t);return{...t,flow:e,moveNames:e.moveNames,pluginNames:t.plugins.map(n=>n.name),processMove:(n,s)=>{let a=e.getMove(n.ctx,s.type,s.playerID);if(bE(a)&&(a=a.move),a instanceof Function){const c=hE(a,qn.MOVE,t.plugins);let u=[];s.args!==void 0&&(u=Array.isArray(s.args)?s.args:[s.args]);const f={...uo(n),G:n.G,ctx:n.ctx,playerID:s.playerID};return c(f,...u)}return zt(`invalid move object: ${s.type}`),n.G}}}function bE(t){return t instanceof Object&&t.move!==void 0}var zm;(function(t){t.UnauthorizedAction="update/unauthorized_action",t.MatchNotFound="update/match_not_found",t.PatchFailed="update/patch_failed"})(zm||(zm={}));var Vn;(function(t){t.StaleStateId="action/stale_state_id",t.UnavailableMove="action/unavailable_move",t.InvalidMove="action/invalid_move",t.InactivePlayer="action/inactive_player",t.GameOver="action/gameover",t.ActionDisabled="action/action_disabled",t.ActionInvalid="action/action_invalid",t.PluginActionInvalid="action/plugin_invalid"})(Vn||(Vn={}));const _u=t=>t.payload.playerID!==null&&t.payload.playerID!==void 0,Z4=(t,e,n)=>{function s(c){return c.undoable!==void 0}function a(c){return c instanceof Function}return s(n)?a(n.undoable)?n.undoable({G:t,ctx:e}):n.undoable:!0};function P1(t,e){if(e.game.disableUndo)return t;const n={G:t.G,ctx:t.ctx,plugins:t.plugins,playerID:e.action.payload.playerID||t.ctx.currentPlayer};return e.action.type==="MAKE_MOVE"&&(n.moveType=e.action.payload.type),{...t,_undo:[...t._undo,n],_redo:[]}}function Bp(t,e,n){const s={action:e,_stateID:t._stateID,turn:t.ctx.turn,phase:t.ctx.phase},a=t.plugins.log.data.metadata;return a!==void 0&&(s.metadata=a),typeof n=="object"&&n.redact===!0?s.redact=!0:typeof n=="object"&&n.redact instanceof Function&&(s.redact=n.redact({G:t.G,ctx:t.ctx})),{...t,deltalog:[s]}}function Hp(t,e,n){const[s,a]=pE(t,n);return a?[s,Jn(e,Vn.PluginActionInvalid,a)]:[s]}function SE(t){if(!t)return[null,void 0];const{transients:e,...n}=t;return[n,e]}function Jn(t,e,n){return{...t,transients:{error:{type:e,payload:n}}}}const _E=t=>e=>n=>{const s=e(n);switch(n.type){case Yf:return s;default:{const[,a]=SE(t.getState());return typeof a<"u"?(t.dispatch(dE()),{...s,transients:a}):s}}};function Gf({game:t,isClient:e}){return t=Zc(t),(n=null,s)=>{let[a]=SE(n);switch(s.type){case Yf:return a;case Vf:{if(a={...a,deltalog:[]},e)return a;if(a.ctx.gameover!==void 0)return zt("cannot call event after game end"),Jn(a,Vn.GameOver);if(_u(s)&&!t.flow.isPlayerActive(a.G,a.ctx,s.payload.playerID))return zt(`disallowed event: ${s.payload.type}`),Jn(a,Vn.InactivePlayer);a=Um(a,{game:t,playerID:s.payload.playerID});let c=t.flow.processEvent(a,s),u;return[c,u]=Hp(c,a,{game:t}),u||(c=P1(c,{game:t,action:s}),{...c,_stateID:a._stateID+1})}case zc:{const c=a={...a,deltalog:[]},u=t.flow.getMove(a.ctx,s.payload.type,s.payload.playerID||a.ctx.currentPlayer);if(u===null)return zt(`disallowed move: ${s.payload.type}`),Jn(a,Vn.UnavailableMove);if(e&&u.client===!1)return a;if(a.ctx.gameover!==void 0)return zt("cannot make move after game end"),Jn(a,Vn.GameOver);if(_u(s)&&!t.flow.isPlayerActive(a.G,a.ctx,s.payload.playerID))return zt(`disallowed move: ${s.payload.type}`),Jn(a,Vn.InactivePlayer);a=Um(a,{game:t,playerID:s.payload.playerID});const f=t.processMove(a,s.payload);if(f===Lm)return zt(`invalid move: ${s.payload.type} args: ${s.payload.args}`),Jn(a,Vn.InvalidMove);const d={...a,G:f};if(e&&H4(d,{game:t}))return a;if(a=d,e){let y;return[a,y]=Hp(a,c,{game:t}),y||{...a,_stateID:a._stateID+1}}a=Bp(a,s,u),a=t.flow.processMove(a,s.payload);let p;return[a,p]=Hp(a,c,{game:t}),p||(a=P1(a,{game:t,action:s}),{...a,_stateID:a._stateID+1})}case Fy:case Gy:case Yy:return s.state;case Ff:{if(a={...a,deltalog:[]},t.disableUndo)return zt("Undo is not enabled"),Jn(a,Vn.ActionDisabled);const{G:c,ctx:u,_undo:f,_redo:d,_stateID:p}=a;if(f.length<2)return zt("No moves to undo"),Jn(a,Vn.ActionInvalid);const y=f[f.length-1],g=f[f.length-2];if(_u(s)&&s.payload.playerID!==y.playerID)return zt("Cannot undo other players' moves"),Jn(a,Vn.ActionInvalid);if(y.moveType){const v=t.flow.getMove(g.ctx,y.moveType,y.playerID);if(!Z4(c,u,v))return zt("Move cannot be undone"),Jn(a,Vn.ActionInvalid)}return a=Bp(a,s),{...a,G:g.G,ctx:g.ctx,plugins:g.plugins,_stateID:p+1,_undo:f.slice(0,-1),_redo:[y,...d]}}case qf:{if(a={...a,deltalog:[]},t.disableUndo)return zt("Redo is not enabled"),Jn(a,Vn.ActionDisabled);const{_undo:c,_redo:u,_stateID:f}=a;if(u.length===0)return zt("No moves to redo"),Jn(a,Vn.ActionInvalid);const d=u[0];return _u(s)&&s.payload.playerID!==d.playerID?(zt("Cannot redo other players' moves"),Jn(a,Vn.ActionInvalid)):(a=Bp(a,s),{...a,G:d.G,ctx:d.ctx,plugins:d.plugins,_stateID:f+1,_undo:[...c,d],_redo:u.slice(1)})}case rE:return I4(a,s,{game:t});case Ky:{const c=a,u=JSON.parse(JSON.stringify(c)),f=xE.applyPatch(u,s.patch);return f.some(p=>p!==null)?(zt(`Patch ${JSON.stringify(s.patch)} apply failed`),Jn(c,zm.PatchFailed,f)):u}default:return a}}}function Zy({game:t,numPlayers:e,setupData:n}){t=Zc(t),e||(e=2);const s=t.flow.ctx(e);let a={G:{},ctx:s,plugins:{}};a=z4(a,{game:t}),a=Um(a,{game:t,playerID:void 0});const c=uo(a);a.G=t.setup({...c,ctx:a.ctx},n);let u={...a,_undo:[],_redo:[],_stateID:0};return u=t.flow.init(u),[u]=pE(u,{game:t}),t.disableUndo||(u._undo=[{G:u.G,ctx:u.ctx,plugins:u.plugins}]),u}let Kf=class{constructor({transportDataCallback:e,gameName:n,playerID:s,matchID:a,credentials:c,numPlayers:u}){this.connectionStatusCallback=()=>{},this.isConnected=!1,this.transportDataCallback=e,this.gameName=n||"default",this.playerID=s||null,this.matchID=a||"default",this.credentials=c,this.numPlayers=u||2}subscribeToConnectionStatus(e){this.connectionStatusCallback=e}setConnectionStatus(e){this.isConnected=e,this.connectionStatusCallback()}notifyClient(e){this.transportDataCallback(e)}};var Bc;(function(t){t[t.SYNC=0]="SYNC",t[t.ASYNC=1]="ASYNC"})(Bc||(Bc={}));function Zi(t){return t.type()===Bc.SYNC}class J4{type(){return Bc.ASYNC}async createMatch(e,n){if(this.createGame)return console.warn("The database connector does not implement a createMatch method.",`
Using the deprecated createGame method instead.`),this.createGame(e,n);console.error("The database connector does not implement a createMatch method.")}async listMatches(e){if(this.listGames)return console.warn("The database connector does not implement a listMatches method.",`
Using the deprecated listGames method instead.`),this.listGames(e);console.error("The database connector does not implement a listMatches method.")}}class wE{type(){return Bc.SYNC}connect(){}createMatch(e,n){if(this.createGame)return console.warn("The database connector does not implement a createMatch method.",`
Using the deprecated createGame method instead.`),this.createGame(e,n);console.error("The database connector does not implement a createMatch method.")}listMatches(e){if(this.listGames)return console.warn("The database connector does not implement a listMatches method.",`
Using the deprecated listGames method instead.`),this.listGames(e);console.error("The database connector does not implement a listMatches method.")}}const W4=({game:t,unlisted:e,setupData:n,numPlayers:s})=>{const a={gameName:t.name,unlisted:!!e,players:{},createdAt:Date.now(),updatedAt:Date.now()};n!==void 0&&(a.setupData=n);for(let c=0;c<s;c++)a.players[c]={id:c};return a},CE=({game:t,numPlayers:e,setupData:n,unlisted:s})=>{(!e||typeof e!="number")&&(e=2);const a=t.validateSetupData&&t.validateSetupData(n,e);if(a!==void 0)return{setupDataError:a};const c=W4({game:t,numPlayers:e,setupData:n,unlisted:s}),u=Zy({game:t,numPlayers:e,setupData:n});return{metadata:c,initialState:u}},wu=(t,e,n)=>({...n,G:t.playerView({G:n.G,ctx:n.ctx,playerID:e}),plugins:mE(n,{playerID:e,game:t}),deltalog:void 0,_undo:[],_redo:[]}),EE=t=>(e,n)=>{switch(n.type){case"patch":{const[s,a,c,u]=n.args,f=$p(u.deltalog,e),d=wu(t,e,u),p=u._stateID,y=wu(t,e,c),g=xE.createPatch(y,d);return{type:"patch",args:[s,a,p,g,f]}}case"update":{const[s,a]=n.args,c=$p(a.deltalog,e),u=wu(t,e,a);return{type:"update",args:[s,u,c]}}case"sync":{const[s,a]=n.args,c=wu(t,e,a.state),u=$p(a.log,e),f={...a,state:c,log:u};return{type:"sync",args:[s,f]}}default:return n}};function $p(t,e){return t===void 0?t:t.map(n=>{if(e!==null&&+e==+n.action.payload.playerID||n.redact!==!0)return n;const s={...n.action.payload,args:null},a={...n,action:{...n.action,payload:s}},{redact:c,...u}=a;return u})}const e5=Object.freeze(Object.defineProperty({__proto__:null,Async:J4,CreateGameReducer:Gf,InitializeGame:Zy,ProcessGameConfig:Zc,Sync:wE,Transport:Kf,createMatch:CE,getFilterPlayerView:EE},Symbol.toStringTag,{value:"Module"})),Jy=xf(e5);var Ji={};function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function t5(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(Hc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n5(t){var e=t5(t,"string");return Hc(e)=="symbol"?e:e+""}function r5(t,e,n){return(e=n5(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function k1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D1(Object(n),!0).forEach(function(s){r5(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D1(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function xr(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var j1=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),L1=function(){return Math.random().toString(36).substring(7).split("").join(".")},U1={INIT:"@@redux/INIT"+L1(),REPLACE:"@@redux/REPLACE"+L1()};function s5(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Wy(t,e,n){var s;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(xr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(xr(1));return n(Wy)(t,e)}if(typeof t!="function")throw new Error(xr(2));var a=t,c=e,u=[],f=u,d=!1;function p(){f===u&&(f=u.slice())}function y(){if(d)throw new Error(xr(3));return c}function g(E){if(typeof E!="function")throw new Error(xr(4));if(d)throw new Error(xr(5));var M=!0;return p(),f.push(E),function(){if(M){if(d)throw new Error(xr(6));M=!1,p();var D=f.indexOf(E);f.splice(D,1),u=null}}}function v(E){if(!s5(E))throw new Error(xr(7));if(typeof E.type>"u")throw new Error(xr(8));if(d)throw new Error(xr(9));try{d=!0,c=a(c,E)}finally{d=!1}for(var M=u=f,P=0;P<M.length;P++){var D=M[P];D()}return E}function S(E){if(typeof E!="function")throw new Error(xr(10));a=E,v({type:U1.REPLACE})}function C(){var E,M=g;return E={subscribe:function(D){if(typeof D!="object"||D===null)throw new Error(xr(11));function k(){D.next&&D.next(y())}k();var j=M(k);return{unsubscribe:j}}},E[j1]=function(){return this},E}return v({type:U1.INIT}),s={dispatch:v,subscribe:g,getState:y,replaceReducer:S},s[j1]=C,s}function TE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(s){return s}:e.length===1?e[0]:e.reduce(function(s,a){return function(){return s(a.apply(void 0,arguments))}})}function RE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(s){return function(){var a=s.apply(void 0,arguments),c=function(){throw new Error(xr(15))},u={getState:a.getState,dispatch:function(){return c.apply(void 0,arguments)}},f=e.map(function(d){return d(u)});return c=TE.apply(void 0,f)(a.dispatch),k1(k1({},a),{},{dispatch:c})}}}const I1=t=>Object.values(t.players).map(e=>{const{credentials:n,...s}=e;return s}),i5=t=>{const{credentials:e,...n}=t.payload;return{...t,payload:n}};class AE{constructor(e,n,s,a){this.game=Zc(e),this.storageAPI=n,this.transportAPI=s,this.subscribeCallback=()=>{},this.auth=a}subscribe(e){this.subscribeCallback=e}async onUpdate(e,n,s,a){if(!e||!e.payload)return{error:"missing action or action payload"};let c;if(Zi(this.storageAPI)?{metadata:c}=this.storageAPI.fetch(s,{metadata:!0}):{metadata:c}=await this.storageAPI.fetch(s,{metadata:!0}),this.auth&&!await this.auth.authenticateCredentials({playerID:a,credentials:e.payload.credentials,metadata:c}))return{error:"unauthorized action"};const u=i5(e),f=s;let d;if(Zi(this.storageAPI)?{state:d}=this.storageAPI.fetch(f,{state:!0}):{state:d}=await this.storageAPI.fetch(f,{state:!0}),d===void 0)return zt(`game not found, matchID=[${f}]`),{error:"game not found"};if(d.ctx.gameover!==void 0){zt(`game over - matchID=[${f}] - playerID=[${a}] - action[${u.payload.type}]`);return}const p=Gf({game:this.game}),y=RE(_E),g=Wy(p,d,y);if(u.type==Ff||u.type==qf){const P=d.ctx.activePlayers!==null,D=d.ctx.currentPlayer===a;if(!P&&!D||P&&(d.ctx.activePlayers[a]===void 0||Object.keys(d.ctx.activePlayers).length>1)){zt(`playerID=[${a}] cannot undo / redo right now`);return}}if(!this.game.flow.isPlayerActive(d.G,d.ctx,a)){zt(`player not active - playerID=[${a}] - action[${u.payload.type}]`);return}const v=u.type==zc?this.game.flow.getMove(d.ctx,u.payload.type,a):null;if(u.type==zc&&!v){zt(`move not processed - canPlayerMakeMove=false - playerID=[${a}] - action[${u.payload.type}]`);return}if(d._stateID!==n&&!(v&&bE(v)&&v.ignoreStaleStateID)){zt(`invalid stateID, was=[${n}], expected=[${d._stateID}] - playerID=[${a}] - action[${u.payload.type}]`);return}const S=g.getState();g.dispatch(u),d=g.getState(),this.subscribeCallback({state:d,action:u,matchID:s}),this.game.deltaState?this.transportAPI.sendAll({type:"patch",args:[s,n,S,d]}):this.transportAPI.sendAll({type:"update",args:[s,d]});const{deltalog:C,...E}=d;let M;if(c&&(c.gameover===void 0||c.gameover===null)&&(M={...c,updatedAt:Date.now()},d.ctx.gameover!==void 0&&(M.gameover=d.ctx.gameover)),Zi(this.storageAPI))this.storageAPI.setState(f,E,C),M&&this.storageAPI.setMetadata(f,M);else{const P=[this.storageAPI.setState(f,E,C)];M&&P.push(this.storageAPI.setMetadata(f,M)),await Promise.all(P)}}async onSync(e,n,s,a=2){const c=e,u={state:!0,metadata:!0,log:!0,initialState:!0},f=Zi(this.storageAPI)?this.storageAPI.fetch(c,u):await this.storageAPI.fetch(c,u);let{state:d,initialState:p,log:y,metadata:g}=f;if(this.auth&&n!==void 0&&n!==null&&!await this.auth.authenticateCredentials({playerID:n,credentials:s,metadata:g}))return{error:"unauthorized"};if(d===void 0){const C=CE({game:this.game,unlisted:!0,numPlayers:a,setupData:void 0});if("setupDataError"in C)return{error:"game requires setupData"};p=d=C.initialState,g=C.metadata,this.subscribeCallback({state:d,matchID:e}),Zi(this.storageAPI)?this.storageAPI.createMatch(c,{initialState:p,metadata:g}):await this.storageAPI.createMatch(c,{initialState:p,metadata:g})}const v=g?I1(g):void 0,S={state:d,log:y,filteredMetadata:v,initialState:p};this.transportAPI.send({playerID:n,type:"sync",args:[e,S]})}async onConnectionChange(e,n,s,a){const c=e;if(n==null)return;let u;if(Zi(this.storageAPI)?{metadata:u}=this.storageAPI.fetch(c,{metadata:!0}):{metadata:u}=await this.storageAPI.fetch(c,{metadata:!0}),u===void 0)return zt(`metadata not found for matchID=[${c}]`),{error:"metadata not found"};if(u.players[n]===void 0)return zt(`Player not in the match, matchID=[${c}] playerID=[${n}]`),{error:"player not in the match"};if(this.auth&&!await this.auth.authenticateCredentials({playerID:n,credentials:s,metadata:u}))return{error:"unauthorized"};u.players[n].isConnected=a;const f=I1(u);this.transportAPI.sendAll({type:"matchData",args:[e,f]}),Zi(this.storageAPI)?this.storageAPI.setMetadata(c,u):await this.storageAPI.setMetadata(c,u)}async onChatMessage(e,n,s){const a=e;if(this.auth){const{metadata:c}=await this.storageAPI.fetch(a,{metadata:!0});if(!(n&&typeof n.sender=="string"))return{error:"unauthorized"};if(!await this.auth.authenticateCredentials({playerID:n.sender,credentials:s,metadata:c}))return{error:"unauthorized"}}this.transportAPI.sendAll({type:"chat",args:[e,n]})}}const a5=Object.freeze(Object.defineProperty({__proto__:null,Master:AE},Symbol.toStringTag,{value:"Module"})),o5=xf(a5);var mc={},z1;function c5(){if(z1)return mc;z1=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.P2PDB=void 0;const t=Jy;class e extends t.Sync{constructor(){super(...arguments),this.initialState=new Map,this.state=new Map,this.log=new Map,this.metadata=new Map}connect(){}createMatch(s,a){this.initialState.set(s,a.initialState),this.state.set(s,a.initialState),this.log.set(s,[]),this.metadata.set(s,a.metadata)}setState(s,a,c){this.state.set(s,a),c&&this.log.set(s,[...this.log.get(s)||[],...c])}setMetadata(s,a){this.metadata.set(s,a)}fetch(s){return{initialState:this.initialState.get(s),state:this.state.get(s),log:this.log.get(s),metadata:this.metadata.get(s)}}wipe(s){this.initialState.delete(s),this.state.delete(s),this.log.delete(s),this.metadata.delete(s)}listMatches(){return[...this.metadata.keys()]}}return mc.P2PDB=e,mc}var Fs={},B1;function Bm(){if(B1)return Fs;B1=1,Object.defineProperty(Fs,"__esModule",{value:!0}),Fs.authenticate=Fs.signMessage=Fs.generateCredentials=void 0;const t=JC(),e=WC();function n(){return(0,e.encodeBase64)((0,t.randomBytes)(64))}Fs.generateCredentials=n;function s(u,f,d){try{const p=t.sign.open((0,e.decodeBase64)(u),(0,e.decodeBase64)(f));return p!==null&&(0,e.encodeUTF8)(p)===d}catch{return!1}}function a(u,f){return(0,e.encodeBase64)((0,t.sign)((0,e.decodeUTF8)(u),(0,e.decodeBase64)(f)))}Fs.signMessage=a;function c(u,f,d){const{playerID:p,credentials:y,message:g}=f,{metadata:v}=d.fetch(u);if(p==null||!(+p in v.players))return!0;const S=v.players[+p].credentials,C=y?!!g&&s(g,y,p):!1;return!S&&C?(d.setMetadata(u,Object.assign(Object.assign({},v),{players:Object.assign(Object.assign({},v.players),{[+p]:Object.assign(Object.assign({},v.players[+p]),{credentials:y})})})),!0):!!(!S&&!y||S&&S===y&&C)}return Fs.authenticate=c,Fs}var H1;function l5(){if(H1)return Ji;H1=1;var t=Ji&&Ji.__rest||function(u,f){var d={};for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&f.indexOf(p)<0&&(d[p]=u[p]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,p=Object.getOwnPropertySymbols(u);y<p.length;y++)f.indexOf(p[y])<0&&Object.prototype.propertyIsEnumerable.call(u,p[y])&&(d[p[y]]=u[p[y]]);return d};Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.P2PHost=void 0;const e=Jy,n=o5,s=c5(),a=Bm();class c{constructor({game:f,numPlayers:d=2,matchID:p}){this.clients=new Map,this.matchID=p,(!f.name||f.name==="default")&&console.error('Using "default" as your game name.\nPlease set the `name` property of your game definition to a unique string to help avoid peer ID conflicts.');const y=(0,e.createMatch)({game:f,numPlayers:d,unlisted:!1,setupData:void 0});if("setupDataError"in y)throw new Error("setupData Error: "+y.setupDataError);this.db=new s.P2PDB,this.db.createMatch(this.matchID,y);const g=(0,e.getFilterPlayerView)(f);this.master=new n.Master(f,this.db,{send:v=>{var{playerID:S}=v,C=t(v,["playerID"]);const E=g(S,C);for(const[M]of this.clients)M.metadata.playerID===S&&M.send(E)},sendAll:v=>{for(const[S]of this.clients){const C=g(S.metadata.playerID,v);S.send(C)}}})}registerClient(f){if(!this.authenticateClient(f))return;const{playerID:p,credentials:y}=f.metadata;this.clients.set(f,f),this.master.onConnectionChange(this.matchID,p,y,!0)}authenticateClient(f){return(0,a.authenticate)(this.matchID,f.metadata,this.db)}unregisterClient(f){const{credentials:d,playerID:p}=f.metadata;this.clients.delete(f),this.master.onConnectionChange(this.matchID,p,d,!1)}processAction(f){switch(f.type){case"update":this.master.onUpdate(...f.args);break;case"chat":this.master.onChatMessage(...f.args);break;case"sync":this.master.onSync(...f.args);break}}}return Ji.P2PHost=c,Ji}var $1;function u5(){return $1||($1=1,(function(t){var e=Qi&&Qi.__rest||function(S,C){var E={};for(var M in S)Object.prototype.hasOwnProperty.call(S,M)&&C.indexOf(M)<0&&(E[M]=S[M]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var P=0,M=Object.getOwnPropertySymbols(S);P<M.length;P++)C.indexOf(M[P])<0&&Object.prototype.propertyIsEnumerable.call(S,M[P])&&(E[M[P]]=S[M[P]]);return E},n=Qi&&Qi.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(t,"__esModule",{value:!0}),t.P2P=t.generateCredentials=void 0;const s=n(l4),a=JC(),c=WC(),u=Jy,f=l5(),d=Bm();var p=Bm();Object.defineProperty(t,"generateCredentials",{enumerable:!0,get:function(){return p.generateCredentials}});class y{constructor(){this.initialInterval=500,this.maxInterval=32e3,this.interval=this.initialInterval}cancelTask(){this.taskID&&(clearTimeout(this.taskID),delete this.taskID)}schedule(C){this.cancelTask(),this.taskID=setTimeout(()=>{this.interval<this.maxInterval&&(this.interval*=2),C()},this.interval)}clear(){this.cancelTask(),this.interval=this.initialInterval}}class g extends u.Transport{constructor(C){var{isHost:E,onError:M=()=>{},peerOptions:P={}}=C,D=e(C,["isHost","onError","peerOptions"]);super(D),this.peer=null,this.isHost=!!E,this.onError=M,this.peerOptions=P,this.game=D.game,this.retryHandler=new y,this.setCredentials(D.credentials)}get hostID(){if(!this.matchID)throw new Error("matchID must be provided");return`boardgameio-${this.gameName}-matchid-${this.matchID}`.replace(/([^A-Za-z0-9_-]|^[_-]+|[_-]+$)/g,"").replace(/([_-])[_-]+/g,"$1")}setCredentials(C){if(!C){this.privateKey=this.credentials=void 0;return}const E=(0,a.hash)((0,c.decodeUTF8)(C)).slice(0,32),{publicKey:M,secretKey:P}=a.sign.keyPair.fromSeed(E);this.credentials=(0,c.encodeBase64)(M),this.privateKey=(0,c.encodeBase64)(P)}get metadata(){return{playerID:this.playerID,credentials:this.credentials,message:this.playerID&&this.privateKey?(0,d.signMessage)(this.playerID,this.privateKey):void 0}}connect(){if(this.peer=new s.default(this.isHost?this.hostID:void 0,this.peerOptions),this.isHost){const C=new f.P2PHost({game:this.game,numPlayers:this.numPlayers,matchID:this.matchID});this.emit=E=>void C.processAction(E),C.registerClient({send:E=>void this.notifyClient(E),metadata:this.metadata}),this.peer.on("connection",E=>{C.registerClient(E),E.on("data",M=>{C.processAction(M)}),E.on("close",()=>void C.unregisterClient(E)),window&&window.addEventListener("beforeunload",()=>E.close())}),this.peer.on("error",E=>this.onError(E)),this.onConnect()}else this.peer.on("open",()=>void this.connectToHost()),this.peer.on("error",C=>{const E=C;E.type==="network"||E.type==="peer-unavailable"?this.retryHandler.schedule(()=>void this.connectToHost()):this.onError(E)})}connectToHost(){if(!this.peer)return;const C=this.peer.connect(this.hostID,{metadata:this.metadata});this.emit=E=>void C.send(E),C.on("open",()=>void this.onConnect()),C.on("data",E=>void this.notifyClient(E)),window&&window.addEventListener("beforeunload",()=>C.close())}onConnect(){this.retryHandler.clear(),this.setConnectionStatus(!0),this.requestSync()}disconnect(){this.peer&&this.peer.destroy(),this.peer=null,this.retryHandler.clear(),this.setConnectionStatus(!1)}requestSync(){this.emit&&this.emit({type:"sync",args:[this.matchID,this.playerID,this.credentials,this.numPlayers]})}sendAction(C,E){this.emit&&this.emit({type:"update",args:[E,C._stateID,this.matchID,this.playerID]})}sendChatMessage(C,E){this.emit&&this.emit({type:"chat",args:[C,E,this.credentials]})}reconnect(){this.disconnect(),this.connect()}updateMatchID(C){this.matchID=C,this.reconnect()}updatePlayerID(C){this.playerID=C,this.reconnect()}updateCredentials(C){this.setCredentials(C),this.reconnect()}}const v=(S={})=>C=>new g(Object.assign(Object.assign({},C),S));t.P2P=v})(Qi)),Qi}var ds=u5();const Vp=(t,e)=>{const n=t.currentRound;!n||n.currentPlayerId===null||t.phase==="guessing"&&(n.revealSongOwnerId=n.currentPlayerId,n.revealSongIndex=n.currentSongIndex,t.timer=null,t.phase="song_reveal",e?.setPhase?.("song_reveal"))},f5=(t,e)=>{const n=t.currentRound;if(!n)return;const s=n.playOrder.length,c=(n.revealSongIndex??n.currentSongIndex??0)+1;if(n.guesses={},n.correctGuessers={},n.revealSongOwnerId=null,n.revealSongIndex=null,n.currentSongIndex=c,c<s){const u=n.playOrder[c]??null;if(n.currentPlayerId=u??null,n.currentPlayerId){t.timer=t.settings.playbackDuration,t.phase="guessing",e?.setPhase?.("guessing");return}}n.currentPlayerId=null,t.timer=null,t.phase="round_results",e?.setPhase?.("round_results")},$c=8,d5={name:"music-showdown",minPlayers:2,maxPlayers:$c,setup:()=>({phase:"lobby",players:{},settings:{playbackDuration:30,totalRounds:3},currentRound:null,totalRounds:3,completedRounds:0,timer:null,maxPlayers:$c,lobbyOrder:[]}),phases:{lobby:{start:!0,moves:{updateSettings:({G:t,playerID:e},n)=>{t.players[e]?.isHost&&(t.settings={...t.settings,...n},t.totalRounds=n.totalRounds||t.totalRounds)},startGame:({G:t,playerID:e,events:n})=>{t.players[e]?.isHost&&(t.phase="theme_selection",n?.setPhase?.("theme_selection"))},setPlayerName:({G:t,playerID:e},n)=>{if(!e)return;const s=n.trim().slice(0,24);if(!s)return;const a=t.players[e];if(!(!a&&Object.keys(t.players).length>=t.maxPlayers)){if(a){a.name=s,a.connected=!0,t.lobbyOrder=t.lobbyOrder.filter(c=>c!==e),t.lobbyOrder.includes(e)||t.lobbyOrder.push(e);return}t.players[e]={id:e,name:s,score:0,isHost:e==="0",connected:!0},t.lobbyOrder=t.lobbyOrder.filter(c=>c!==e),t.lobbyOrder.includes(e)||t.lobbyOrder.push(e)}}},next:"theme_selection"},theme_selection:{moves:{setTheme:({G:t,playerID:e},n)=>{t.players[e]?.isHost&&(t.currentRound?t.currentRound.theme=n:t.currentRound={roundNumber:t.completedRounds+1,theme:n,songSelections:{},currentSongIndex:0,currentPlayerId:null,guesses:{},roundScores:{},playOrder:[],correctGuessers:{},guessLog:[],revealSongOwnerId:null,revealSongIndex:null})},confirmTheme:({G:t,playerID:e,events:n})=>{!t.players[e]?.isHost||!t.currentRound?.theme||(t.timer=null,t.phase="song_picking",n?.setPhase?.("song_picking"))}},next:"song_picking"},song_picking:{moves:{selectSong:({G:t,playerID:e},n)=>{const s=t.currentRound;!s||Object.entries(s.songSelections).find(([c,u])=>c!==e&&u.videoId===n.videoId)||(s.songSelections[e]=n)}},endIf:({G:t})=>{if(!t.currentRound)return!1;const n=Object.values(t.players).filter(s=>s.connected).length;return n===0?!1:Object.keys(t.currentRound.songSelections).length>=n},next:"guessing",onEnd:({G:t,ctx:e,events:n})=>{if(!t.currentRound)return;const s=Object.keys(t.currentRound.songSelections),a=e.random,c=a?.Shuffle?a.Shuffle(s):[...s].sort(()=>Math.random()-.5);if(t.currentRound.playOrder=c,t.currentRound.currentSongIndex=0,t.currentRound.guesses={},t.currentRound.correctGuessers={},t.currentRound.revealSongOwnerId=null,t.currentRound.revealSongIndex=null,c.length===0){t.currentRound.currentPlayerId=null,t.timer=null,t.phase="round_results",n?.setPhase?.("round_results");return}t.currentRound.currentPlayerId=c[0],t.timer=t.settings.playbackDuration,t.phase="guessing"}},guessing:{moves:{submitGuess:({G:t,ctx:e,playerID:n,events:s},a)=>{if(!t.currentRound||!t.currentRound.currentPlayerId||n===t.currentRound.currentPlayerId)return;const c=t.currentRound.guesses[n]??[];if(c.some(P=>P.isCorrect))return;const f=t.settings.playbackDuration-(t.timer||0),d=t.currentRound.songSelections[t.currentRound.currentPlayerId],p=!!(d&&HN(a,d.customTitle)),y={guess:a,time:f,isCorrect:p};t.currentRound.guesses[n]=[...c,y];const g=e.random,v={id:g?.UUID?g.UUID():`${t.currentRound.roundNumber}-${n}-${Date.now()}`,playerId:n,playerName:t.players[n]?.name??`Player ${n}`,guess:a,time:f,isCorrect:p,songOwnerId:t.currentRound.currentPlayerId,songOwnerName:t.currentRound.currentPlayerId&&t.players[t.currentRound.currentPlayerId]?t.players[t.currentRound.currentPlayerId].name:null,songIndex:t.currentRound.currentSongIndex};if(t.currentRound.guessLog=[...t.currentRound.guessLog,v],p){t.currentRound.correctGuessers[n]=!0;let P=!0;for(const[j,G]of Object.entries(t.currentRound.guesses))if(j!==n){for(const X of G)if(X.isCorrect){X.time<f&&(P=!1);break}if(!P)break}const D=BN(!0,f,t.settings.playbackDuration,P),k=t.players[n];k&&(k.score+=D,t.currentRound.roundScores[n]=(t.currentRound.roundScores[n]||0)+D)}const S=Object.values(t.players).filter(P=>P.connected),C=t.currentRound.currentPlayerId,E=S.filter(P=>P.id!==C).length,M=Object.values(t.currentRound.correctGuessers).filter(Boolean).length;if(E===0||E>0&&M>=E){Vp(t,s);return}},tickTimer:({G:t,playerID:e,events:n})=>{if(t.players[e]?.isHost&&t.timer!==null){if(t.timer<=0){t.timer=0,Vp(t,n);return}t.timer-=1,t.timer<=0&&(t.timer=0,Vp(t,n))}}}},song_reveal:{moves:{continueReveal:({G:t,playerID:e,events:n})=>{t.players[e]?.isHost&&f5(t,n)}},next:"guessing"},round_results:{moves:{nextRound:({G:t,playerID:e,events:n})=>{t.players[e]?.isHost&&(t.completedRounds++,t.completedRounds<t.totalRounds?(t.currentRound=null,t.timer=null,t.phase="theme_selection",n?.setPhase?.("theme_selection")):(t.timer=null,t.phase="game_over",n?.setPhase?.("game_over")))}},next:"theme_selection"},game_over:{moves:{restartLobby:({G:t,playerID:e,events:n})=>{if(t.players[e]?.isHost){for(const a of Object.values(t.players))a.score=0;t.currentRound=null,t.completedRounds=0,t.timer=null,t.totalRounds=t.settings.totalRounds,t.phase="lobby",n?.setPhase?.("lobby")}},endGame:({G:t,events:e})=>{t.phase="lobby",e?.endGame?.()}}}},turn:{activePlayers:{all:"default"}}},OE="musicshowdown.identity",cs="0",oa=1,Hm=Math.max(oa,$c-1),Nc="spectator",Jc=t=>`${OE}.${t}`,eg=t=>`${OE}.${t}.used`,V1=(t,e)=>{if(t==="host")return e===cs;const n=Number(e);return Number.isInteger(n)&&n>=oa&&n<=Hm},fo=t=>{if(typeof window>"u")return new Set;const e=localStorage.getItem(eg(t));if(!e)return new Set;try{const n=JSON.parse(e);return new Set(n)}catch{return new Set}},fa=(t,e)=>{typeof window>"u"||localStorage.setItem(eg(t),JSON.stringify(Array.from(e)))},vf=(t,e)=>{for(let s=oa;s<=Hm;s++){const a=String(s);if(!e.has(a))return e.add(a),fa(t,e),a}const n=String(Math.min(Hm,Math.max(oa,e.size+oa)));return e.add(n),fa(t,e),n},h5=(t,e,n)=>{if(e==="host")return{playerID:cs,credentials:ds.generateCredentials(),role:e,playerName:n};const s=fo(t);return{playerID:vf(t,s),credentials:ds.generateCredentials(),role:e,playerName:n}};function tg(t){if(typeof window>"u")return null;const e=localStorage.getItem(Jc(t));if(!e)return null;try{return JSON.parse(e)}catch{return null}}function ME(t){return{playerID:Nc,credentials:"",role:"spectator",playerName:t}}function p5(t,e,n){if(typeof window>"u")return{playerID:n??String(oa),credentials:ds.generateCredentials(),role:"peer",playerName:e};const s=fo(t);let a=n;a&&(s.has(a)?a=void 0:(s.add(a),fa(t,s)));const c={playerID:a??vf(t,s),credentials:ds.generateCredentials(),role:"peer",playerName:e};return s.add(c.playerID),fa(t,s),localStorage.setItem(Jc(t),JSON.stringify(c)),c}function m5(t,e){if(typeof window>"u"||!e||e===cs)return;const n=fo(t);n.delete(e)&&fa(t,n)}function NE(t,e,n){const s=e==="spectator"?"peer":e;if(typeof window>"u")return{playerID:s==="host"?cs:String(oa),credentials:ds.generateCredentials(),role:s,playerName:n};const a=Jc(t),c=tg(t),u=fo(t);if(c){let d=c.playerID,p=c.credentials;V1(c.role,c.playerID)||(u.delete(c.playerID),d=c.role==="host"?cs:vf(t,u),p=ds.generateCredentials());const y=c.role==="host"?"host":s,g=y==="host"?cs:d,v={...c,role:y,playerName:n||c.playerName,playerID:g,credentials:p};return V1(v.role,v.playerID)||(u.delete(v.playerID),v.playerID=v.role==="host"?cs:vf(t,u),v.credentials=ds.generateCredentials()),localStorage.setItem(a,JSON.stringify(v)),v}const f=h5(t,s,n);if(s==="peer"){const d=fo(t);d.add(f.playerID),fa(t,d)}return localStorage.setItem(a,JSON.stringify(f)),f}function y5(t,e){const n=e.trim().slice(0,24);if(typeof window>"u")return{playerID:cs,credentials:ds.generateCredentials(),role:"host",playerName:n||e||"Player"};const s=Jc(t),a=fo(t),c=tg(t);c&&c.playerID!==cs&&(a.delete(c.playerID),fa(t,a));const u=n||c?.playerName||"Player",f={playerID:cs,credentials:ds.generateCredentials(),role:"host",playerName:u};localStorage.setItem(s,JSON.stringify(f));try{sessionStorage.setItem("musicshowdown.lastRole","host")}catch{}return f}function g5(t){typeof window>"u"||(localStorage.removeItem(Jc(t)),localStorage.removeItem(eg(t)))}function $m(t){return[t]}function yc(t,e){const n=t&&Number.isFinite(t)&&t>0?Math.floor(t):PE;return Math.max(0,n-e)}function Cu(t,e=PE){return Number.isNaN(t)||t<0?0:Math.min(Math.floor(t),e)}function Vm(t){const e=Math.max(0,Math.floor(t)),n=Math.floor(e/60),s=e%60;return n===0?`${e}s`:`${n}:${s.toString().padStart(2,"0")}`}const Qa=["1960s","1970s","1980s","1990s","2000s","2010s","2020s","Game Soundtracks","Movie Soundtracks","Alternative Rock","FIFA Soundtracks","R&B Grooves","Classic Hip-Hop","Indie Favorites","Top 40 Hits","Chill Electronic","Country Classics","Classic Rock","Modern Country","Reggae Classics","Funk Essentials"],PE=600;function v5({headerControls:t,currentRound:e,settings:n,themeValue:s,isHost:a,handleThemeChange:c,handleRandomTheme:u,mySelection:f,moves:d,effectivePlayerId:p,playerLookup:y,toast:g}){const[v,S]=R.useState(null),[C,E]=R.useState(""),[M,P]=R.useState(0),[D,k]=R.useState(!1),[j,G]=R.useState(!1),X=R.useRef(null),[Y,K]=R.useState(()=>yc(null,n.playbackDuration)),pe=s.trim().length>0,xe=e?.songSelections??{},_e=R.useMemo(()=>Array.from(y.values()).filter($=>$.connected),[y]),Ce=R.useCallback(()=>{const $=X.current?.getDuration?.(),Ee=yc($,n.playbackDuration);K(ke=>ke===Ee?ke:Ee),P(ke=>{const I=Cu(ke,Ee);return I!==ke?(X.current?.seekTo?.(I,!0),I):ke})},[n.playbackDuration]);R.useEffect(()=>{Ce()},[Ce]);const Re=R.useCallback($=>{S($),E(zb($.title)),P(0),k(!1),G(!1),X.current=null,K(yc(null,n.playbackDuration))},[n.playbackDuration]),ge=R.useCallback(()=>{const $=C.trim();if(!v||!$||!e)return;const Ee=Object.entries(e.songSelections??{}).find(([ke,I])=>ke!==p&&I.videoId===v.id);if(Ee){const[ke]=Ee,re=y.get(ke)?.name??"Another player";g({title:"Song already taken",description:`${re} has already locked this song. Pick a different one.`,variant:"destructive"});return}X.current?.stopVideo?.(),d.selectSong?.({videoId:v.id,originalTitle:v.title,customTitle:zb(C),thumbnail:v.thumbnail,startSeconds:M}),g({title:"Song selected",description:"Waiting for other players..."}),S(null),E(""),P(0),k(!1),G(!1),X.current=null,K(yc(null,n.playbackDuration))},[C,e,p,d,y,v,n.playbackDuration,M,g]),Ue=R.useCallback(()=>{const $=X.current;if(!$)return;$.getPlayerState?.()===window.YT?.PlayerState?.PLAYING?($.pauseVideo?.(),k(!1)):($.seekTo?.(M,!0),$.playVideo?.(),k(!0))},[M,D]),B=R.useCallback($=>{X.current=$;const Ee=$.getDuration?.(),ke=yc(Ee,n.playbackDuration);K(ke),P(I=>{const re=Cu(I,ke);return re!==I?($.seekTo?.(re,!0),re):I}),$.seekTo?.(M,!0),D?$.playVideo?.():$.pauseVideo?.()},[D,n.playbackDuration,M]),ie=R.useCallback(()=>{k(!1)},[]);return b.jsxs("div",{className:"min-h-screen bg-background",children:[t,b.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:b.jsxs("div",{className:"space-y-6",children:[b.jsx(sn,{className:"bg-primary/10 border-primary",children:b.jsxs(fn,{children:[b.jsx(dn,{className:"font-heading text-2xl mb-1",children:"Pick Your Song"}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Theme:"," ",b.jsx("span",{className:"font-semibold text-foreground",children:e?.theme??"Pending"})]})]})}),!pe&&!f&&b.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,1.5fr)_minmax(0,1fr)]",children:[b.jsxs(sn,{className:"lg:col-span-1",children:[b.jsx(fn,{children:b.jsx(dn,{className:"font-heading",children:"Search YouTube"})}),b.jsx(En,{children:b.jsx(YP,{onSelect:Re,selectedVideoId:v?.id})})]}),b.jsxs(sn,{className:"self-start",children:[b.jsxs(fn,{children:[b.jsx(dn,{className:"font-heading",children:"Selected Song"}),b.jsx(Fr,{children:"Fine-tune the title before locking it in."})]}),b.jsx(En,{children:v?b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between gap-2",children:[b.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Preview"}),b.jsx(Tn,{type:"button",variant:"outline",size:"sm",onClick:()=>G($=>!$),"data-testid":"button-toggle-preview-visibility","aria-pressed":j,children:j?b.jsxs(b.Fragment,{children:[b.jsx(FO,{className:"mr-2 h-4 w-4"}),"Show Video"]}):b.jsxs(b.Fragment,{children:[b.jsx(VO,{className:"mr-2 h-4 w-4"}),"Hide Video"]})})]}),b.jsxs("div",{className:"relative overflow-hidden rounded-lg border",children:[b.jsx(_m,{videoId:v.id,autoplay:!1,startSeconds:M,interactive:!0,onReady:B,onEnd:ie}),j&&b.jsx("div",{className:"pointer-events-none absolute inset-0 z-10 rounded-lg bg-black"})]})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{children:[b.jsx(na,{htmlFor:"song-title",children:"Song title to guess"}),b.jsx(Xs,{id:"song-title",value:C,onChange:$=>E($.target.value),className:"mt-2",placeholder:"Edit the title if needed...","data-testid":"input-song-title"}),b.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"This is what other players will try to guess."})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx(na,{htmlFor:"start-seconds",children:"Start playback at"}),b.jsx("span",{className:"text-xs text-muted-foreground",children:Vm(M)})]}),b.jsx(sf,{id:"start-seconds",min:0,max:Y,step:1,value:$m(M),onValueChange:$=>{const Ee=Cu($[0]??0,Y);P(Ee),X.current?.seekTo?.(Ee,!0)},"data-testid":"slider-start-seconds"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Xs,{type:"number",min:0,max:Y,value:M,onChange:$=>{const Ee=Cu(Number($.target.value),Y);P(Ee),X.current?.seekTo?.(Ee,!0)},className:"w-24","data-testid":"input-start-seconds"}),b.jsx(Tn,{type:"button",variant:"secondary",onClick:Ue,disabled:!X.current,"data-testid":"button-preview",children:D?b.jsxs(b.Fragment,{children:[b.jsx(JO,{className:"mr-2 h-4 w-4"})," Pause Preview"]}):b.jsxs(b.Fragment,{children:[b.jsx(e3,{className:"mr-2 h-4 w-4"})," Play Preview"]})})]})]}),b.jsx(Tn,{onClick:ge,className:"w-full",disabled:!C.trim(),"data-testid":"button-confirm-song",children:"Confirm Selection"})]})]}):b.jsx("div",{className:"flex min-h-[220px] items-center justify-center text-center text-sm text-muted-foreground",children:"Choose a song from the search results to review its details here."})})]})]}),f&&b.jsxs(sn,{children:[b.jsx(fn,{children:b.jsx(dn,{className:"font-heading",children:"You are all set!"})}),b.jsxs(En,{className:"space-y-4",children:[b.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start",children:[f.thumbnail?b.jsx("div",{className:"relative w-full max-w-[200px] overflow-hidden rounded-lg border bg-muted sm:w-48",children:b.jsx("img",{src:f.thumbnail,alt:f.customTitle||f.originalTitle,className:"h-full w-full object-cover"})}):null,b.jsxs("div",{className:"space-y-1",children:[b.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Selected song"}),b.jsx("div",{className:"text-lg font-semibold leading-snug",children:f.customTitle||f.originalTitle}),(f.startSeconds??0)>0&&b.jsxs("div",{className:"text-sm text-muted-foreground",children:["Starts at ",Vm(f.startSeconds??0)]}),f.customTitle&&f.originalTitle&&f.customTitle.trim()!==f.originalTitle.trim()&&b.jsxs("div",{className:"text-sm text-muted-foreground",children:["Original title: ",f.originalTitle]})]})]}),b.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-waiting-selection",children:"Waiting for other players to finish picking."}),_e.length>0&&b.jsxs("div",{className:"space-y-3",children:[b.jsx("p",{className:"text-sm font-medium text-foreground",children:"Player lock-in status"}),b.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:_e.map($=>{const Ee=!!xe[$.id],ke=$.name?.trim()||`Player ${$.id}`;return b.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-muted/50 px-3 py-2","data-testid":`player-lock-status-${$.id}`,children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Xa,{playerId:$.id,playerName:$.name,size:"sm"}),b.jsx("span",{className:"text-sm font-medium text-foreground",children:ke})]}),Ee?b.jsxs(Ac,{variant:"secondary",className:"flex items-center gap-1 text-xs",children:[b.jsx(d_,{className:"h-3 w-3"}),"Locked In"]}):b.jsxs(Ac,{variant:"outline",className:"flex items-center gap-1 text-xs",children:[b.jsx(h_,{className:"h-3 w-3"}),"Waiting"]})]},$.id)})})]})]})]}),!pe&&!f&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[b.jsx("p",{className:"text-sm text-muted-foreground",children:"Need inspiration? Pick a suggestion."}),b.jsx(Tn,{variant:"secondary",size:"sm",onClick:u,disabled:!a,"data-testid":"button-random-theme",children:"Surprise Me"})]}),b.jsx("div",{className:"flex flex-wrap gap-2",children:Qa.map($=>b.jsx(Tn,{type:"button",variant:"outline",size:"sm",onClick:()=>c($),disabled:!a,className:"whitespace-nowrap",children:$},$))})]})]})})]})}function x5({G:t,ctx:e,moves:n,playerID:s,matchID:a,identity:c,isHost:u,isActive:f,isConnected:d,updatePlayerName:p,promoteToHost:y,claimSeat:g,releaseSeat:v}){const{toast:S}=kS(),C=e.phase??t.phase,E=t.currentRound??null,M=t.settings,P=t.timer,D=P??0,[k,j]=R.useState(null),[G,X]=R.useState({}),[Y,K]=R.useState(M),[pe,xe]=R.useState(!1),_e=R.useRef(0),Ce=R.useCallback(()=>{K(M)},[M]);R.useEffect(()=>{Ce()},[Ce]);const Re=R.useMemo(()=>{const se=s??c.playerID;return!se||c.role==="spectator"||se===Nc?null:se},[s,c.playerID,c.role]),ge=b.jsx("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:b.jsx(wy,{})}),Ue=R.useCallback(()=>{if(C!=="lobby")return;const se=Re;if(!se)return;const Se=c.playerName.trim();if(!Se)return;const tt=t.players?.[se];(!tt||tt.name!==Se||!tt.connected)&&n.setPlayerName?.(Se)},[t.players,c.playerName,n,C,Re]);R.useEffect(()=>{Ue()},[Ue]);const B=Object.values(t.players??{}).map(se=>se).sort((se,Se)=>se.id.localeCompare(Se.id)),ie=E?.theme??"",$=ie.trim().length>0,Ee=E?.roundScores??{},ke=E?.guesses??{},I=E?.correctGuessers??{},re=E?.guessLog??[],le=E?.currentPlayerId??null,ve=E?.revealSongOwnerId??null,be=E?.revealSongIndex??null,Te=C==="song_reveal"&&be!==null&&be!==void 0?be:E?.currentSongIndex??null,Ne=le?E?.songSelections?.[le]??null:null,it=ve?E?.songSelections?.[ve]??null:null,z=Re?E?.songSelections?.[Re]??null:null,J=Re?ke[Re]??[]:[],fe=J[J.length-1]??null,Pe=!!(Re&&I[Re]),ze=!!(C==="guessing"&&le&&Re&&le!==Re&&!Pe&&(P===null||P>0)),Be=t.lobbyOrder??[],St=t.maxPlayers??$c,gt=R.useMemo(()=>{const se=new Map;return B.forEach(Se=>se.set(Se.id,Se)),se},[B]),hn=R.useMemo(()=>{const se=B.filter(Se=>Se.connected);return se.sort((Se,tt)=>{const w=Be.indexOf(Se.id),T=Be.indexOf(tt.id);return w===-1&&T===-1?Se.id.localeCompare(tt.id):w===-1?1:T===-1?-1:w-T}),se},[Be,B]),Pt=R.useRef(new Set),mt=R.useRef(new Map);R.useEffect(()=>{if(c.role==="host"){Pt.current.clear(),mt.current.clear();return}if(c.role==="spectator"){const se=Pt.current,Se=new Set(B.filter(T=>T.connected).map(T=>T.id)),tt=()=>{for(let T=1;T<St;T+=1){const A=String(T);if(!Se.has(A)&&!se.has(A))return A}return null};let w=tt();!w&&se.size>0&&(se.clear(),w=tt()),w&&(se.add(w),g(w));return}c.role==="peer"&&(Pt.current.clear(),mt.current.clear())},[c.role,B,St,g]),R.useEffect(()=>{if(c.role!=="peer")return;const se=c.playerID;if(!se||se===Nc)return;if(gt.get(se)?.connected){mt.current.delete(se);return}const tt=mt.current.get(se)??0;if(tt>=St)return;const w=window.setTimeout(()=>{if(gt.get(se)?.connected){mt.current.delete(se);return}mt.current.set(se,tt+1),Pt.current.delete(se),v()},4e3);return()=>window.clearTimeout(w)},[c.role,c.playerID,gt,v,St]),R.useEffect(()=>{if(c.role!=="peer"||d)return;const se=c.playerID;if(!se||se===Nc)return;const Se=window.setTimeout(()=>{Pt.current.delete(se),mt.current.delete(se),v()},3e3);return()=>window.clearTimeout(Se)},[c.role,c.playerID,d,v]),R.useEffect(()=>{if(C!=="lobby"||c.role!=="peer"||!Re)return;const se=c.playerName.trim();if(!se)return;const Se=()=>{try{n.setPlayerName?.(se)}catch(T){console.warn("Failed to register player name",T)}},tt=gt.get(Re);if(tt?.connected){(!tt.name||tt.name.trim()!==se)&&Se();return}Se();const w=window.setInterval(()=>{const T=gt.get(Re);if(T?.connected){(!T.name||T.name.trim()!==se)&&Se(),window.clearInterval(w);return}Se()},1e3);return()=>window.clearInterval(w)},[C,c.role,c.playerName,Re,gt,n]);const Ut=R.useMemo(()=>{const se=Be.map(T=>t.players[T]).filter(T=>!!T),Se=new Set(se.map(T=>T.id)),tt=B.filter(T=>!Se.has(T.id)),w=[...se,...tt];return Array.from({length:St},(T,A)=>w[A]??null)},[t.players,Be,St,B]),Xt=R.useMemo(()=>B.map(se=>({player:se,roundScore:Ee[se.id]??0})).sort((se,Se)=>Se.roundScore-se.roundScore),[B,Ee]),xn=R.useMemo(()=>[...B].sort((se,Se)=>Se.score-se.score),[B]),at=hn.length,ht=Math.max(St-at,0),Qt=R.useCallback(se=>{u&&n.setTheme?.(se)},[u,n]),An=R.useCallback(()=>{if(!u)return;const se=(E?.theme??"").trim(),Se=Qa.length>1?Qa.filter(w=>w!==se):Qa,tt=Se[Math.floor(Math.random()*Se.length)]??Qa[0];tt&&Qt(tt)},[E?.theme,Qt,u]),Gn=R.useMemo(()=>E?Te==null?[]:re.filter(se=>se.songIndex===Te).sort((se,Se)=>se.time-Se.time):[],[Te,E,re]),Nn=se=>Number.isNaN(se)||!Number.isFinite(se)?"0s":`${Math.max(0,Math.round(se))}s`,xs=se=>se.length===0?b.jsx("div",{className:"flex h-full items-center justify-center px-6 py-12",children:b.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"No guesses yet for this song."})}):b.jsx(Dy,{className:"h-[360px] px-6 pb-6",children:b.jsx("div",{className:"space-y-4",children:se.map(Se=>{const tt=Re&&Se.playerId===Re,w=Se.isCorrect&&!tt;return b.jsxs("div",{className:qt("flex flex-col gap-2",tt?"items-end":"items-start"),children:[b.jsxs("div",{className:qt("flex items-start gap-3",tt?"flex-row-reverse":"flex-row"),children:[b.jsx(Xa,{playerId:Se.playerId,playerName:Se.playerName,size:"sm"}),b.jsxs("div",{className:qt("space-y-1",tt?"text-right":"text-left"),children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[b.jsx("span",{children:tt?"You":Se.playerName}),Se.isCorrect&&b.jsx(Ac,{children:"Correct"})]}),b.jsx("div",{className:qt("max-w-xs rounded-md px-3 py-2 text-sm",tt?"bg-primary text-primary-foreground":"bg-muted/40 text-muted-foreground"),children:w?b.jsx("span",{className:"italic",children:"Correct guess locked in"}):b.jsxs(b.Fragment,{children:['"',Se.guess,'"']})})]})]}),b.jsx("span",{className:"text-xs text-muted-foreground",children:Nn(Se.time)})]},Se.id)})})}),bs=R.useCallback(()=>{if(!u||C!=="song_picking"&&C!=="guessing"||P===null||P<=0)return;const se=window.setInterval(()=>{n.tickTimer?.()},1e3);return()=>window.clearInterval(se)},[u,n,C,P]);R.useEffect(()=>bs(),[bs]);const Qr=u?Y:M,fr=R.useMemo(()=>{if(C!=="guessing"||!E)return"inactive";const se=E.currentSongIndex??E.revealSongIndex??0;return`${E.roundNumber}:${se}`},[E,C]),Kn=G[fr]??"",pn=R.useCallback(se=>{X(Se=>({...Se,[fr]:se}))},[fr]),Pn=R.useCallback(()=>{X(se=>{if(se[fr]===void 0)return se;const Se={...se};return delete Se[fr],Se})},[fr]),on=R.useCallback(()=>{const Se=(k??c.playerName).trim().slice(0,24);Se&&(p(Se),C==="lobby"&&n.setPlayerName?.(Se),j(null))},[c.playerName,n,C,k,p]),Ss=R.useCallback(()=>{const se=Kn.trim();!ze||!se||(n.submitGuess?.(se),Pn())},[ze,Kn,n,Pn]);R.useEffect(()=>{_e.current=0},[fr]),R.useEffect(()=>{if(!Re)return;const Se=(ke[Re]??[]).filter(tt=>tt.isCorrect).length;Se>_e.current&&KP(),_e.current=Se},[Re,ke]);const _s=R.useCallback(()=>{u&&n.continueReveal?.()},[u,n]),ws=R.useCallback(()=>{n.nextRound?.(),X({})},[n]),Zr=R.useCallback(()=>{n.restartLobby?.(),X({})},[n]),Cs=R.useCallback(()=>{n.endGame?.()},[n]),ei=R.useCallback(se=>{u&&K(Se=>({...Se,...se}))},[u]),Ur=R.useCallback(se=>{if(!u)return;K(tt=>({...tt,...se}));const Se=Object.entries(se).filter(([tt,w])=>w!==void 0&&M[tt]!==w);Se.length&&n.updateSettings?.(Object.fromEntries(Se))},[u,n,M]),Hn=async()=>{try{await navigator.clipboard.writeText(a),xe(!0),S({title:"Room code copied!",description:"Share it with your friends to join the game"}),setTimeout(()=>xe(!1),2e3)}catch{S({title:"Unable to copy room code",variant:"destructive"})}},Xn=()=>{if(!u){S({title:"Waiting for host",description:"Only the host can start the game"});return}if(at<2){S({title:"Need more players",description:"At least 2 players required to start",variant:"destructive"});return}n.startGame?.()},Ir=se=>Se=>ei({[se]:Se[0]}),Es=se=>Se=>Ur({[se]:Se[0]});if(C==="lobby")return b.jsxs("div",{className:"min-h-screen bg-background",children:[ge,b.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-5xl space-y-8",children:[b.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("h1",{className:"text-3xl font-heading font-bold",children:b.jsx(ay,{to:"/music-showdown",className:"inline-flex items-center text-left text-inherit transition-colors hover:text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 focus-visible:ring-offset-background",children:"Music Showdown"})}),b.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground",children:[b.jsx(Ac,{variant:"secondary",className:"uppercase",children:c.role}),b.jsxs("span",{children:["Signed in as ",c.playerName]})]})]}),b.jsxs("div",{className:"flex items-center gap-3 rounded-lg border bg-muted/40 px-4 py-3",children:[b.jsx("div",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wide",children:"Room"}),b.jsx("code",{className:"text-2xl font-mono font-semibold tracking-wider text-primary","data-testid":"text-room-code",children:a}),b.jsx(Tn,{variant:"ghost",size:"icon",onClick:Hn,"data-testid":"button-copy-code",children:pe?b.jsx(MO,{className:"h-5 w-5 text-secondary"}):b.jsx(zO,{className:"h-5 w-5"})})]})]}),b.jsxs("div",{className:"grid gap-6 lg:grid-cols-[2fr_1.1fr]",children:[b.jsxs(sn,{className:"h-full",children:[b.jsxs(fn,{children:[b.jsxs(dn,{className:"font-heading",children:["Players (",at,"/",St,")"]}),b.jsx(Fr,{children:at===0?"Waiting for players to join...":`${at} connected, ${ht} open slot${ht===1?"":"s"}`})]}),b.jsx(En,{children:b.jsx("div",{className:"space-y-2",children:Ut.map((se,Se)=>b.jsx("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50","data-testid":se?`player-card-${se.id}`:`player-card-empty-${Se}`,children:se?b.jsxs(b.Fragment,{children:[b.jsx(Xa,{playerId:se.id,playerName:se.name}),b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"font-semibold",children:se.name}),!se.connected&&b.jsx("div",{className:"text-xs text-muted-foreground",children:"Not connected"})]}),b.jsx("div",{className:"flex items-center gap-2",children:se.isHost&&b.jsxs(Ac,{variant:"default",className:"gap-1","data-testid":"badge-host",children:[b.jsx(HO,{className:"w-3 h-3"}),"Host"]})})]}):b.jsx("div",{className:"flex items-center gap-3 w-full justify-between",children:b.jsxs("div",{className:"flex gap-3 items-center",children:[b.jsx("div",{className:"w-8 h-8 rounded-full bg-muted"}),b.jsxs("span",{className:"text-sm text-muted-foreground",children:["Waiting for player ",Se+1]})]})})},se?se.id:`empty-${Se}`))})})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs(sn,{children:[b.jsxs(fn,{children:[b.jsx(dn,{className:"font-heading text-lg",children:"Your Lobby Controls"}),b.jsx(Fr,{children:u?"Update your name and start the game once everyone is ready.":"Update your name while the host prepares the game."})]}),b.jsxs(En,{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(na,{htmlFor:"player-name",children:"Display name"}),b.jsx(Xs,{id:"player-name",placeholder:"Your name",value:k??c.playerName,onChange:se=>j(se.target.value),onBlur:on,onKeyDown:se=>se.key==="Enter"&&on(),"data-testid":"input-player-name"}),b.jsx("p",{className:"text-xs text-muted-foreground",children:"Shared with other players in the lobby."})]}),b.jsx(Tn,{onClick:Xn,className:"w-full",size:"lg","data-testid":"button-start-game",disabled:!u||at<2,children:"Start Game"}),c.role==="spectator"&&b.jsx("p",{className:"text-center text-xs text-muted-foreground",children:"Lobby is full. We'll seat you automatically when a spot opens."}),(!u||at<2)&&b.jsx("p",{className:"text-center text-xs text-muted-foreground",children:u?"Need at least 2 players to start.":"Only the host can start the game."})]})]}),b.jsxs(sn,{children:[b.jsxs(fn,{className:"pb-3",children:[b.jsx(dn,{className:"font-heading text-lg",children:"Game Settings"}),b.jsx(Fr,{children:"Hosts can tweak settings before the game begins."})]}),b.jsxs(En,{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx(na,{children:"Number of rounds"}),b.jsx("span",{className:"text-xs text-muted-foreground",children:Qr.totalRounds})]}),b.jsx(sf,{min:1,max:10,step:1,value:$m(Qr.totalRounds),onValueChange:Ir("totalRounds"),onValueCommit:Es("totalRounds"),disabled:!u})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx(na,{htmlFor:"playback-duration",children:"Playback duration"}),b.jsxs("span",{className:"text-xs text-muted-foreground",children:[Qr.playbackDuration,"s"]})]}),b.jsx(sf,{id:"playback-duration",min:30,max:300,step:5,value:$m(Qr.playbackDuration),onValueChange:Ir("playbackDuration"),onValueCommit:Es("playbackDuration"),disabled:!u})]})]})]})]})]})]})]});if(C==="theme_selection")return b.jsxs("div",{className:"min-h-screen bg-background",children:[ge,b.jsx("div",{className:"container mx-auto px-4 py-8 max-w-3xl",children:b.jsxs(sn,{className:"mb-6",children:[b.jsxs(fn,{children:[b.jsx(dn,{className:"font-heading text-2xl",children:"Set the Theme"}),b.jsx(Fr,{children:"Waiting on the host to set the theme for this round."})]}),b.jsxs(En,{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx(na,{htmlFor:"theme",children:"Theme for this round"}),b.jsx(Xs,{id:"theme",placeholder:"e.g., 80s Rock, Movie Soundtracks, Summer Vibes...",value:ie,onChange:se=>u&&n.setTheme?.(se.target.value),className:"text-lg mt-2","data-testid":"input-theme",disabled:!u})]}),!$&&b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[b.jsx("p",{className:"text-sm text-muted-foreground",children:"Need inspiration? Pick a suggestion."}),b.jsx(Tn,{variant:"secondary",size:"sm",onClick:An,disabled:!u,"data-testid":"button-random-theme",children:"Surprise Me"})]}),b.jsx("div",{className:"flex flex-wrap gap-2",children:Qa.map(se=>b.jsx(Tn,{type:"button",variant:"outline",size:"sm",onClick:()=>Qt(se),disabled:!u,className:"whitespace-nowrap",children:se},se))})]}),u?b.jsx(Tn,{onClick:()=>n.confirmTheme?.(),disabled:!ie.trim(),className:"w-full","data-testid":"button-confirm-theme",children:"Confirm Theme"}):b.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-waiting-theme",children:"Waiting for the host to confirm the theme..."})]})]})})]});if(C==="song_picking")return b.jsx(v5,{headerControls:ge,currentRound:E,settings:M,themeValue:ie,isHost:u,handleThemeChange:Qt,handleRandomTheme:An,mySelection:z,moves:n,effectivePlayerId:Re,playerLookup:gt,toast:S});const Jr=!!(Re&&le===Re),Wr=Jr?"You selected this song.":Pe?"Correct! Waiting for next song...":"Type your guess...";if(C==="guessing"&&Ne){const se=(Ne.customTitle||Ne.originalTitle||"").trim(),Se=se?se.replace(/\s+/g,"").length:0,tt=se?Array.from(se).map(T=>/\s/.test(T)?" ":"_").join(" "):"",w=M.playbackDuration>0?1-D/M.playbackDuration:0;return b.jsxs("div",{className:"min-h-screen bg-background",children:[ge,b.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-5xl space-y-6",children:[b.jsx(sn,{className:"bg-accent/10 border-accent",children:b.jsx(fn,{children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx(dn,{className:"font-heading text-2xl",children:"Guess the Song!"}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:[B.find(T=>T.id===le)?.name??"Mystery player","'s selection"]})]}),b.jsx(OP,{timeRemaining:D,totalTime:M.playbackDuration,variant:"accent"})]})})}),b.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,0.6fr)_minmax(0,1fr)]",children:[b.jsxs("div",{className:"space-y-6",children:[b.jsxs(sn,{children:[b.jsx(fn,{className:"pb-0",children:b.jsx(dn,{className:"font-heading text-lg",children:"Now Playing"})}),b.jsx(En,{className:"pt-4",children:b.jsx("div",{className:"rounded-lg border bg-muted/30 p-2",children:b.jsx(_m,{videoId:Ne.videoId,autoplay:!0,preventPause:!0,startSeconds:Ne.startSeconds??0,timerProgress:w})})})]}),b.jsxs(sn,{children:[b.jsx(fn,{children:b.jsx(dn,{className:"font-heading text-lg",children:"Player Status"})}),b.jsx(En,{children:b.jsx("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-3 xl:grid-cols-4",children:B.map(T=>{const A=ke[T.id]??[],x=A.length>0,N=T.id===le,V=!!I[T.id],q=A[A.length-1];return b.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-lg bg-muted/50 p-3","data-testid":`player-status-${T.id}`,children:[b.jsx(Xa,{playerId:T.id,playerName:T.name,size:"sm"}),b.jsx("div",{className:"text-xs font-medium text-center",children:T.name}),N?b.jsx(m_,{className:"h-4 w-4 text-primary"}):V?b.jsx(d_,{className:"h-4 w-4 text-secondary"}):x?b.jsx(p_,{className:"h-4 w-4 text-muted-foreground"}):b.jsx(h_,{className:"h-4 w-4 text-muted-foreground"}),!N&&b.jsxs("div",{className:"text-center text-[10px] text-muted-foreground",children:[V?"Correct":x?"Guessing":"Waiting",q&&!V?` (${q.guess})`:""]})]},T.id)})})})]})]}),b.jsxs(sn,{className:"flex min-h-[520px] flex-col",children:[b.jsxs(fn,{className:"space-y-4",children:[b.jsxs(dn,{className:"flex items-center gap-2 font-heading text-lg",children:[b.jsx(Db,{className:"h-4 w-4"})," Guess Log"]}),tt&&b.jsxs("div",{className:"rounded-lg border border-dashed border-muted-foreground/40 bg-muted/30 px-4 py-3 text-center",children:[b.jsx("div",{className:"font-mono text-lg uppercase tracking-[0.35em] text-muted-foreground",children:tt}),b.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:["Characters (excluding spaces): ",Se]})]})]}),b.jsx(En,{className:"flex-1 overflow-hidden px-0 pb-0",children:xs(Gn)}),b.jsx("div",{className:"border-t bg-muted/20 p-6",children:b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[b.jsx(Xs,{placeholder:Wr,value:Kn,onChange:T=>pn(T.target.value),onKeyDown:T=>{T.key!=="Enter"||T.nativeEvent.isComposing||(T.preventDefault(),Ss())},className:"text-lg","data-testid":"input-guess",disabled:!ze}),b.jsx(Tn,{onClick:Ss,disabled:!ze||!Kn.trim(),"data-testid":"button-submit-guess",className:"sm:w-auto",children:"Submit"})]}),!ze&&Jr&&b.jsx("p",{className:"text-sm text-muted-foreground",children:"You can't guess your own song."}),!ze&&Pe&&b.jsx("p",{className:"text-sm text-muted-foreground",children:"Great job! You'll rejoin next round."}),fe&&!Pe&&b.jsxs("p",{className:"text-xs text-muted-foreground",children:['Last guess: "',fe.guess,'" (',Math.max(0,Math.ceil(fe.time)),"s)"]})]})})]})]})]})]})}if(C==="song_reveal"&&it&&ve!==null){const se=B.find(tt=>tt.id===ve),Se=Te!=null&&it?1:void 0;return b.jsxs("div",{className:"min-h-screen bg-background",children:[ge,b.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl space-y-6",children:[b.jsx(sn,{className:"bg-secondary/10 border-secondary",children:b.jsx(fn,{children:b.jsxs("div",{className:"flex flex-col gap-2 text-center",children:[b.jsx(dn,{className:"font-heading text-3xl",children:"Song Revealed!"}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:[se?.name??"Mystery player","'s selection has been uncovered."]})]})})}),b.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,0.9fr)_minmax(0,1.1fr)]",children:[b.jsxs(sn,{className:"overflow-hidden",children:[b.jsx(fn,{className:"pb-0",children:b.jsx(dn,{className:"font-heading text-lg",children:"Now Revealed"})}),b.jsxs(En,{className:"pt-4 space-y-4",children:[b.jsx("div",{className:"rounded-lg border bg-muted/30 p-2",children:b.jsx(_m,{videoId:it.videoId,autoplay:!1,startSeconds:it.startSeconds??0,timerProgress:Se,interactive:!0})}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Song Title"}),b.jsx("h2",{className:"text-xl font-bold leading-tight",children:it.customTitle||it.originalTitle})]}),it.thumbnail&&b.jsx("div",{className:"relative w-full overflow-hidden rounded-lg border bg-muted",children:b.jsx("img",{src:it.thumbnail,alt:it.customTitle||it.originalTitle,className:"w-full object-cover"})}),(it.startSeconds??0)>0&&b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Playback started at ",Vm(it.startSeconds??0),"."]}),it.customTitle&&it.originalTitle&&it.customTitle.trim()!==it.originalTitle.trim()&&b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Original title: ",it.originalTitle]})]})]})]}),b.jsxs(sn,{className:"flex min-h-[520px] flex-col",children:[b.jsxs(fn,{children:[b.jsxs(dn,{className:"flex items-center gap-2 font-heading text-lg",children:[b.jsx(Db,{className:"h-4 w-4"})," Guess Log"]}),b.jsx(Fr,{children:"How everyone fared on this song."})]}),b.jsx(En,{className:"flex-1 overflow-hidden px-0 pb-0",children:xs(Gn)}),b.jsx("div",{className:"border-t bg-muted/20 p-6",children:b.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[se?b.jsxs("p",{children:["This song was selected by ",b.jsx("span",{className:"font-semibold",children:se.name}),"."]}):b.jsx("p",{children:"The song owner's identity could not be determined."}),b.jsxs("p",{children:[Gn.filter(tt=>tt.isCorrect).length," player",Gn.filter(tt=>tt.isCorrect).length===1?"":"s"," ","guessed correctly."]})]})}),u&&b.jsx("div",{className:"border-t bg-muted/30 p-6",children:b.jsx(Tn,{onClick:_s,className:"w-full",size:"lg","data-testid":"button-continue-reveal",children:"Continue"})})]})]})]})]})}return C==="round_results"&&E?b.jsxs("div",{className:"min-h-screen bg-background",children:[ge,b.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl space-y-6",children:b.jsxs(sn,{children:[b.jsx(fn,{children:b.jsx(dn,{className:"font-heading text-2xl text-center",children:"Round Complete!"})}),b.jsxs(En,{className:"space-y-6",children:[b.jsxs("div",{className:"text-center space-y-4",children:[b.jsx(fm,{className:"w-16 h-16 text-primary mx-auto"}),b.jsx("h2",{className:"text-xl font-semibold",children:Xt[0]?.player?`${Xt[0]?.player.name} won this round!`:"Round complete"}),Xt[0]&&b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Earned ",Xt[0].roundScore," points this round"]})]}),b.jsx("div",{className:"space-y-3",children:Xt.map(({player:se,roundScore:Se},tt)=>b.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-muted/50","data-testid":`result-player-${se.id}`,children:[b.jsxs("div",{className:"text-2xl font-bold text-muted-foreground w-8",children:["#",tt+1]}),b.jsx(Xa,{playerId:se.id,playerName:se.name}),b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"font-semibold",children:se.name}),b.jsxs("div",{className:"text-sm text-muted-foreground",children:[Se," points this round"]})]}),b.jsx("div",{className:"text-2xl font-bold text-primary",children:se.score})]},se.id))}),b.jsx(Tn,{onClick:ws,className:"w-full",size:"lg","data-testid":"button-next-round",disabled:!u,children:t.completedRounds+1<M.totalRounds?"Next Round":"View Final Scores"})]})]})})]}):C==="game_over"?b.jsxs("div",{className:"min-h-screen bg-background",children:[ge,b.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl space-y-6",children:b.jsxs(sn,{children:[b.jsx(fn,{children:b.jsx(dn,{className:"font-heading text-3xl text-center",children:"Game Over!"})}),b.jsxs(En,{className:"space-y-8",children:[b.jsxs("div",{className:"text-center space-y-4",children:[b.jsx(fm,{className:"w-24 h-24 text-primary mx-auto"}),b.jsx("h2",{className:"text-2xl font-bold",children:xn[0]?`${xn[0].name} Wins!`:"Thanks for playing!"}),b.jsx("p",{className:"text-muted-foreground",children:"Final standings"})]}),b.jsx("div",{className:"space-y-3",children:xn.map((se,Se)=>b.jsxs("div",{className:`flex items-center gap-4 p-6 rounded-lg ${Se===0?"bg-primary/20 border-2 border-primary":Se===1?"bg-secondary/20 border-2 border-secondary":"bg-muted/50"}`,"data-testid":`final-player-${se.id}`,children:[b.jsx("div",{className:"text-3xl font-bold w-12",children:Se===0?"":Se===1?"":Se===2?"":`#${Se+1}`}),b.jsx(Xa,{playerId:se.id,playerName:se.name,size:"lg"}),b.jsx("div",{className:"flex-1",children:b.jsx("div",{className:"text-xl font-bold",children:se.name})}),b.jsx("div",{className:"text-3xl font-bold text-primary",children:se.score})]},se.id))}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx(Tn,{variant:"outline",className:"flex-1","data-testid":"button-new-game",onClick:Zr,disabled:!u,children:"Restart Lobby"}),b.jsx(Tn,{className:"flex-1","data-testid":"button-back-home",onClick:Cs,disabled:!u,children:"End Session"})]})]})]})})]}):b.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-gradient-to-br from-primary/10 via-background to-secondary/10",children:[ge,b.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_top,_theme(colors.primary/15),transparent_60%)]"}),b.jsx("div",{className:"relative flex min-h-screen flex-col items-center justify-center px-6 py-16",children:b.jsxs("div",{className:"w-full max-w-md space-y-6 rounded-3xl border border-border/50 bg-background/90 p-10 text-center shadow-xl backdrop-blur",children:[b.jsx("div",{className:"flex items-center justify-center",children:b.jsx(hy,{className:"h-12 w-12 animate-spin text-primary"})}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h2",{className:"text-2xl font-heading",children:"Connecting to your room"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Setting the stage and syncing players. Hang tightthis should only take a moment."})]}),a?b.jsx("div",{className:"flex justify-center",children:b.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-border/70 bg-muted/40 px-4 py-2 font-mono text-xs uppercase tracking-[0.3em] text-muted-foreground",children:["Room",b.jsx("span",{className:"text-foreground",children:a})]})}):null]})})]})}function b5(){return b.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:b.jsx(sn,{className:"w-full max-w-md mx-4",children:b.jsxs(En,{className:"pt-6",children:[b.jsxs("div",{className:"flex mb-4 gap-2",children:[b.jsx(PO,{className:"h-8 w-8 text-red-500"}),b.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),b.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}let S5="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",_5=(t=21)=>{let e="",n=t|0;for(;n--;)e+=S5[Math.random()*64|0];return e};var qp={},q1;function w5(){return q1||(q1=1,(function(t,e){if(t.setImmediate)return;var n=1,s={},a=!1,c=t.document,u;function f(D){typeof D!="function"&&(D=new Function(""+D));for(var k=new Array(arguments.length-1),j=0;j<k.length;j++)k[j]=arguments[j+1];var G={callback:D,args:k};return s[n]=G,u(n),n++}function d(D){delete s[D]}function p(D){var k=D.callback,j=D.args;switch(j.length){case 0:k();break;case 1:k(j[0]);break;case 2:k(j[0],j[1]);break;case 3:k(j[0],j[1],j[2]);break;default:k.apply(e,j);break}}function y(D){if(a)setTimeout(y,0,D);else{var k=s[D];if(k){a=!0;try{p(k)}finally{d(D),a=!1}}}}function g(){u=function(D){process.nextTick(function(){y(D)})}}function v(){if(t.postMessage&&!t.importScripts){var D=!0,k=t.onmessage;return t.onmessage=function(){D=!1},t.postMessage("","*"),t.onmessage=k,D}}function S(){var D="setImmediate$"+Math.random()+"$",k=function(j){j.source===t&&typeof j.data=="string"&&j.data.indexOf(D)===0&&y(+j.data.slice(D.length))};t.addEventListener?t.addEventListener("message",k,!1):t.attachEvent("onmessage",k),u=function(j){t.postMessage(D+j,"*")}}function C(){var D=new MessageChannel;D.port1.onmessage=function(k){var j=k.data;y(j)},u=function(k){D.port2.postMessage(k)}}function E(){var D=c.documentElement;u=function(k){var j=c.createElement("script");j.onreadystatechange=function(){y(k),j.onreadystatechange=null,D.removeChild(j),j=null},D.appendChild(j)}}function M(){u=function(D){setTimeout(y,0,D)}}var P=Object.getPrototypeOf&&Object.getPrototypeOf(t);P=P&&P.setTimeout?P:t,{}.toString.call(t.process)==="[object process]"?g():v()?S():t.MessageChannel?C():c&&"onreadystatechange"in c.createElement("script")?E():M(),P.setImmediate=f,P.clearImmediate=d})(typeof self>"u"?typeof Bx>"u"?qp:Bx:self)),qp}w5();class C5{constructor({enumerate:e,seed:n}){this.enumerateFn=e,this.seed=n,this.iterationCounter=0,this._opts={}}addOpt({key:e,range:n,initial:s}){this._opts[e]={range:n,value:s}}getOpt(e){return this._opts[e].value}setOpt(e,n){e in this._opts&&(this._opts[e].value=n)}opts(){return this._opts}enumerate(e,n,s){return this.enumerateFn(e,n,s).map(c=>{if("payload"in c)return c;if("move"in c)return sE(c.move,c.args,s);if("event"in c)return Mc(c.event,c.args,s)})}random(e){let n;if(this.seed!==void 0){const s=this.prngstate?"":this.seed,a=nE(s,this.prngstate);n=a(),this.prngstate=a.state()}else n=Math.random();if(e)if(Array.isArray(e)){const s=Math.floor(n*e.length);return e[s]}else return Math.floor(n*e);return n}}const E5=25;class T5 extends C5{constructor({enumerate:e,seed:n,objectives:s,game:a,iterations:c,playoutDepth:u,iterationCallback:f}){super({enumerate:e,seed:n}),s===void 0&&(s=()=>({})),this.objectives=s,this.iterationCallback=f||(()=>{}),this.reducer=Gf({game:a}),this.iterations=c,this.playoutDepth=u,this.addOpt({key:"async",initial:!1}),this.addOpt({key:"iterations",initial:typeof c=="number"?c:1e3,range:{min:1,max:2e3}}),this.addOpt({key:"playoutDepth",initial:typeof u=="number"?u:50,range:{min:1,max:100}})}createNode({state:e,parentAction:n,parent:s,playerID:a}){const{G:c,ctx:u}=e;let f=[],d=[];if(a!==void 0)f=this.enumerate(c,u,a),d=this.objectives(c,u,a);else if(u.activePlayers)for(const p in u.activePlayers)f.push(...this.enumerate(c,u,p)),d.push(this.objectives(c,u,p));else f=this.enumerate(c,u,u.currentPlayer),d=this.objectives(c,u,u.currentPlayer);return{state:e,parent:s,parentAction:n,actions:f,objectives:d,children:[],visits:0,value:0}}select(e){if(e.actions.length>0||e.children.length===0)return e;let n=null,s=0;for(const a of e.children){const c=a.visits+Number.EPSILON,u=a.value/c+Math.sqrt(2*Math.log(e.visits)/c);(n==null||u>s)&&(s=u,n=a)}return this.select(n)}expand(e){const n=e.actions;if(n.length===0||e.state.ctx.gameover!==void 0)return e;const s=this.random(n.length),a=n[s];e.actions.splice(s,1);const c=this.reducer(e.state,a),u=this.createNode({state:c,parentAction:a,parent:e});return e.children.push(u),u}playout({state:e}){let n=this.getOpt("playoutDepth");typeof this.playoutDepth=="function"&&(n=this.playoutDepth(e.G,e.ctx));for(let s=0;s<n&&e.ctx.gameover===void 0;s++){const{G:a,ctx:c}=e;let u=c.currentPlayer;c.activePlayers&&(u=Object.keys(c.activePlayers)[0]);const f=this.enumerate(a,c,u),d=this.objectives(a,c,u),p=Object.keys(d).reduce((v,S)=>{const C=d[S];return C.checker(a,c)?v+C.weight:v},0);if(p>0)return{score:p};if(!f||f.length===0)return;const y=this.random(f.length);e=this.reducer(e,f[y])}return e.ctx.gameover}backpropagate(e,n={}){e.visits++,n.score!==void 0&&(e.value+=n.score),n.draw===!0&&(e.value+=.5),e.parentAction&&n.winner===e.parentAction.payload.playerID&&e.value++,e.parent&&this.backpropagate(e.parent,n)}play(e,n){const s=this.createNode({state:e,playerID:n});let a=this.getOpt("iterations");typeof this.iterations=="function"&&(a=this.iterations(e.G,e.ctx));const c=()=>{let u=null;for(const p of s.children)(u==null||p.visits>u.visits)&&(u=p);return{action:u&&u.parentAction,metadata:s}};return new Promise(u=>{const f=()=>{for(let d=0;d<E5&&this.iterationCounter<a;d++){const p=this.select(s),y=this.expand(p),g=this.playout(y);this.backpropagate(y,g),this.iterationCounter++}this.iterationCallback({iterationCounter:this.iterationCounter,numIterations:a,metadata:s})};if(this.iterationCounter=0,this.getOpt("async")){const d=()=>{this.iterationCounter<a?(f(),setImmediate(d)):u(c())};d()}else{for(;this.iterationCounter<a;)f();u(c())}})}}class R5 extends Kf{connect(){}disconnect(){}sendAction(){}sendChatMessage(){}requestSync(){}updateCredentials(){}updateMatchID(){}updatePlayerID(){}}const A5=t=>new R5(t);class O5{constructor(){this.debugPanel=null,this.currentClient=null,this.clients=new Map,this.subscribers=new Map}register(e){this.clients.set(e,e),this.mountDebug(e),this.notifySubscribers()}unregister(e){if(this.clients.delete(e),this.currentClient===e){this.unmountDebug();for(const[n]of this.clients){if(this.debugPanel)break;this.mountDebug(n)}}this.notifySubscribers()}subscribe(e){const n=Symbol();return this.subscribers.set(n,e),e(this.getState()),()=>{this.subscribers.delete(n)}}switchPlayerID(e){if(this.currentClient.multiplayer){for(const[n]of this.clients)if(n.playerID===e&&n.debugOpt!==!1&&n.multiplayer===this.currentClient.multiplayer){this.switchToClient(n);return}}this.currentClient.updatePlayerID(e),this.notifySubscribers()}switchToClient(e){e!==this.currentClient&&(this.unmountDebug(),this.mountDebug(e),this.notifySubscribers())}notifySubscribers(){const e=this.getState();this.subscribers.forEach(n=>{n(e)})}getState(){return{client:this.currentClient,debuggableClients:this.getDebuggableClients()}}getDebuggableClients(){return[...this.clients.values()].filter(e=>e.debugOpt!==!1)}mountDebug(e){if(e.debugOpt===!1||this.debugPanel!==null||typeof document>"u")return;let n,s=document.body;e.debugOpt&&e.debugOpt!==!0&&(n=e.debugOpt.impl||n,s=e.debugOpt.target||s),n&&(this.currentClient=e,this.debugPanel=new n({target:s,props:{clientManager:this}}))}unmountDebug(){this.debugPanel.$destroy(),this.debugPanel=null,this.currentClient=null}}const M5=new O5;function qm(t,e,n){return!n&&t==null&&(t=e.getState().ctx.currentPlayer),t}function ng(t,e,n,s,a,c){const u={};for(const f of e)u[f]=(...d)=>{const p=P4[t](f,d,qm(s,n,c),a);n.dispatch(p)};return u}const N5=ng.bind(null,"makeMove"),P5=ng.bind(null,"gameEvent"),D5=ng.bind(null,"plugin");class k5{constructor({game:e,debug:n,numPlayers:s,multiplayer:a,matchID:c,playerID:u,credentials:f,enhancer:d}){this.game=Zc(e),this.playerID=u,this.matchID=c||"default",this.credentials=f,this.multiplayer=a,this.debugOpt=n,this.manager=M5,this.gameStateOverride=null,this.subscribers={},this._running=!1,this.reducer=Gf({game:this.game,isClient:a!==void 0}),this.initialState=null,a||(this.initialState=Zy({game:this.game,numPlayers:s})),this.reset=()=>{this.store.dispatch(lE(this.initialState))},this.undo=()=>{const S=uE(qm(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(S)},this.redo=()=>{const S=fE(qm(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(S)},this.log=[];const v=RE(_E,()=>S=>C=>{const E=S(C);return this.notifySubscribers(),E},S=>C=>E=>{const M=S.getState(),P=C(E);return!("clientOnly"in E)&&E.type!==Yf&&this.transport.sendAction(M,E),P},S=>C=>E=>{const M=C(E),P=S.getState();switch(E.type){case zc:case Vf:case Ff:case qf:{const D=P.deltalog;this.log=[...this.log,...D];break}case Fy:{this.log=[];break}case Ky:case Gy:{let D=-1;this.log.length>0&&(D=this.log[this.log.length-1]._stateID);let k=E.deltalog||[];k=k.filter(j=>j._stateID>D),this.log=[...this.log,...k];break}case Yy:{this.initialState=E.initialState,this.log=E.log||[];break}}return M});d=d!==void 0?TE(v,d):v,this.store=Wy(this.reducer,this.initialState,d),a||(a=A5),this.transport=a({transportDataCallback:S=>this.receiveTransportData(S),gameKey:e,game:this.game,matchID:c,playerID:u,credentials:f,gameName:this.game.name,numPlayers:s}),this.createDispatchers(),this.chatMessages=[],this.sendChatMessage=S=>{this.transport.sendChatMessage(this.matchID,{id:_5(7),sender:this.playerID,payload:S})}}receiveMatchData(e){this.matchData=e,this.notifySubscribers()}receiveChatMessage(e){this.chatMessages=[...this.chatMessages,e],this.notifySubscribers()}receiveTransportData(e){const[n]=e.args;if(n===this.matchID)switch(e.type){case"sync":{const[,s]=e.args,a=aE(s);this.receiveMatchData(s.filteredMetadata),this.store.dispatch(a);break}case"update":{const[,s,a]=e.args,c=this.store.getState();if(s._stateID>=c._stateID){const u=cE(s,a);this.store.dispatch(u)}break}case"patch":{const[,s,a,c,u]=e.args,f=this.store.getState()._stateID;if(s!==f)break;const d=oE(s,a,c,u);this.store.dispatch(d),this.store.getState()._stateID===f&&this.transport.requestSync();break}case"matchData":{const[,s]=e.args;this.receiveMatchData(s);break}case"chat":{const[,s]=e.args;this.receiveChatMessage(s);break}}}notifySubscribers(){Object.values(this.subscribers).forEach(e=>e(this.getState()))}overrideGameState(e){this.gameStateOverride=e,this.notifySubscribers()}start(){this.transport.connect(),this._running=!0,this.manager.register(this)}stop(){this.transport.disconnect(),this._running=!1,this.manager.unregister(this)}subscribe(e){const n=Object.keys(this.subscribers).length;return this.subscribers[n]=e,this.transport.subscribeToConnectionStatus(()=>this.notifySubscribers()),(this._running||!this.multiplayer)&&e(this.getState()),()=>{delete this.subscribers[n]}}getInitialState(){return this.initialState}getState(){let e=this.store.getState();if(this.gameStateOverride!==null&&(e=this.gameStateOverride),e===null)return e;let n=!0;const s=this.game.flow.isPlayerActive(e.G,e.ctx,this.playerID);return this.multiplayer&&!s&&(n=!1),!this.multiplayer&&this.playerID!==null&&this.playerID!==void 0&&!s&&(n=!1),e.ctx.gameover!==void 0&&(n=!1),this.multiplayer||(e={...e,G:this.game.playerView({G:e.G,ctx:e.ctx,playerID:this.playerID}),plugins:mE(e,this)}),{...e,log:this.log,isActive:n,isConnected:this.transport.isConnected}}createDispatchers(){this.moves=N5(this.game.moveNames,this.store,this.playerID,this.credentials,this.multiplayer),this.events=P5(this.game.flow.enabledEventNames,this.store,this.playerID,this.credentials,this.multiplayer),this.plugins=D5(this.game.pluginNames,this.store,this.playerID,this.credentials,this.multiplayer)}updatePlayerID(e){this.playerID=e,this.createDispatchers(),this.transport.updatePlayerID(e),this.notifySubscribers()}updateMatchID(e){this.matchID=e,this.createDispatchers(),this.transport.updateMatchID(e),this.notifySubscribers()}updateCredentials(e){this.credentials=e,this.createDispatchers(),this.transport.updateCredentials(e),this.notifySubscribers()}}function j5(t){return new k5(t)}const DE=(t,e)=>{if(!t||typeof t!="string")throw new Error(`Expected ${e} string, got "${t}".`)},Wi=t=>DE(t,"game name"),gc=t=>DE(t,"match ID"),vc=(t,e)=>{if(!t)throw new Error(`Expected body, got ${t}.`);for(const n in e){const s=e[n],a=Array.isArray(s)?s:[s],c=t[n];if(!a.includes(typeof c)){const u=a.join("|");throw new TypeError(`Expected body.${n} to be of type ${u}, got ${c}.`)}}};class L5 extends Error{constructor(e,n){super(e),this.details=n}}class U5{constructor({server:e=""}={}){this.server=e.replace(/\/$/,"")}async request(e,n){const s=await fetch(this.server+e,n);if(!s.ok){let a;try{a=await s.clone().json()}catch{try{a=await s.text()}catch(c){a=c.message}}throw new L5(`HTTP status ${s.status}`,a)}return s.json()}async post(e,n){let s={method:"post",body:JSON.stringify(n.body),headers:{"Content-Type":"application/json"}};return n.init&&(s={...s,...n.init,headers:{...s.headers,...n.init.headers}}),this.request(e,s)}async listGames(e){return this.request("/games",e)}async listMatches(e,n,s){Wi(e);let a="";if(n){const c=[],{isGameover:u,updatedBefore:f,updatedAfter:d}=n;u!==void 0&&c.push(`isGameover=${u}`),f&&c.push(`updatedBefore=${f}`),d&&c.push(`updatedAfter=${d}`),c.length>0&&(a="?"+c.join("&"))}return this.request(`/games/${e}${a}`,s)}async getMatch(e,n,s){return Wi(e),gc(n),this.request(`/games/${e}/${n}`,s)}async createMatch(e,n,s){return Wi(e),vc(n,{numPlayers:"number"}),this.post(`/games/${e}/create`,{body:n,init:s})}async joinMatch(e,n,s,a){return Wi(e),gc(n),vc(s,{playerID:["string","undefined"],playerName:"string"}),this.post(`/games/${e}/${n}/join`,{body:s,init:a})}async leaveMatch(e,n,s,a){Wi(e),gc(n),vc(s,{playerID:"string",credentials:"string"}),await this.post(`/games/${e}/${n}/leave`,{body:s,init:a})}async updatePlayer(e,n,s,a){Wi(e),gc(n),vc(s,{playerID:"string",credentials:"string"}),await this.post(`/games/${e}/${n}/update`,{body:s,init:a})}async playAgain(e,n,s,a){return Wi(e),gc(n),vc(s,{playerID:"string",credentials:"string"}),this.post(`/games/${e}/${n}/playAgain`,{body:s,init:a})}}var Fp={exports:{}},Yp,F1;function I5(){if(F1)return Yp;F1=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Yp=t,Yp}var Gp,Y1;function z5(){if(Y1)return Gp;Y1=1;var t=I5();function e(){}function n(){}return n.resetWarningCache=e,Gp=function(){function s(u,f,d,p,y,g){if(g!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}s.isRequired=s;function a(){return s}var c={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return c.PropTypes=c,c},Gp}var G1;function B5(){return G1||(G1=1,Fp.exports=z5()()),Fp.exports}var H5=B5();const is=Vc(H5);var $r={},Eu={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var K1;function $5(){if(K1)return Eu;K1=1,Eu.parse=a,Eu.serialize=c;var t=decodeURIComponent,e=encodeURIComponent,n=/; */,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function a(f,d){if(typeof f!="string")throw new TypeError("argument str must be a string");for(var p={},y=d||{},g=f.split(n),v=y.decode||t,S=0;S<g.length;S++){var C=g[S],E=C.indexOf("=");if(!(E<0)){var M=C.substr(0,E).trim(),P=C.substr(++E,C.length).trim();P[0]=='"'&&(P=P.slice(1,-1)),p[M]==null&&(p[M]=u(P,v))}}return p}function c(f,d,p){var y=p||{},g=y.encode||e;if(typeof g!="function")throw new TypeError("option encode is invalid");if(!s.test(f))throw new TypeError("argument name is invalid");var v=g(d);if(v&&!s.test(v))throw new TypeError("argument val is invalid");var S=f+"="+v;if(y.maxAge!=null){var C=y.maxAge-0;if(isNaN(C))throw new Error("maxAge should be a Number");S+="; Max-Age="+Math.floor(C)}if(y.domain){if(!s.test(y.domain))throw new TypeError("option domain is invalid");S+="; Domain="+y.domain}if(y.path){if(!s.test(y.path))throw new TypeError("option path is invalid");S+="; Path="+y.path}if(y.expires){if(typeof y.expires.toUTCString!="function")throw new TypeError("option expires is invalid");S+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(S+="; HttpOnly"),y.secure&&(S+="; Secure"),y.sameSite){var E=typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite;switch(E){case!0:S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"strict":S+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return S}function u(f,d){try{return d(f)}catch{return f}}return Eu}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Kp,X1;function V5(){if(X1)return Kp;X1=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function s(c){if(c==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(c)}function a(){try{if(!Object.assign)return!1;var c=new String("abc");if(c[5]="de",Object.getOwnPropertyNames(c)[0]==="5")return!1;for(var u={},f=0;f<10;f++)u["_"+String.fromCharCode(f)]=f;var d=Object.getOwnPropertyNames(u).map(function(y){return u[y]});if(d.join("")!=="0123456789")return!1;var p={};return"abcdefghijklmnopqrst".split("").forEach(function(y){p[y]=y}),Object.keys(Object.assign({},p)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Kp=a()?Object.assign:function(c,u){for(var f,d=s(c),p,y=1;y<arguments.length;y++){f=Object(arguments[y]);for(var g in f)e.call(f,g)&&(d[g]=f[g]);if(t){p=t(f);for(var v=0;v<p.length;v++)n.call(f,p[v])&&(d[p[v]]=f[p[v]])}}return d},Kp}var Q1;function q5(){if(Q1)return $r;Q1=1;var t={};Object.defineProperty($r,"__esModule",{value:!0});var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D};$r.load=g,$r.loadAll=v,$r.select=S,$r.save=C,$r.remove=E,$r.setRawCookie=M,$r.plugToRequest=P;var n=$5(),s=u(n),a=V5(),c=u(a);function u(D){return D&&D.__esModule?D:{default:D}}var f=typeof document>"u"||typeof process<"u"&&t&&!1,d={},p=void 0;function y(){return p&&!p.headersSent}function g(D,k){var j=f?d:s.default.parse(document.cookie),G=j&&j[D];if(typeof k>"u"&&(k=!G||G[0]!=="{"&&G[0]!=="["),!k)try{G=JSON.parse(G)}catch{}return G}function v(D){var k=f?d:s.default.parse(document.cookie),j=k;if(typeof D>"u"&&(D=!j||j[0]!=="{"&&j[0]!=="["),!D)try{j=JSON.parse(j)}catch{}return j}function S(D){var k=f?d:s.default.parse(document.cookie);return k?D?Object.keys(k).reduce(function(j,G){if(!D.test(G))return j;var X={};return X[G]=k[G],(0,c.default)({},j,X)},{}):k:{}}function C(D,k,j){d[D]=k,(typeof k>"u"?"undefined":e(k))==="object"&&(d[D]=JSON.stringify(k)),f||(document.cookie=s.default.serialize(D,d[D],j)),y()&&p.cookie&&p.cookie(D,k,j)}function E(D,k){delete d[D],typeof k>"u"?k={}:typeof k=="string"?k={path:k}:k=(0,c.default)({},k),typeof document<"u"&&(k.expires=new Date(1970,1,1,0,0,1),k.maxAge=0,document.cookie=s.default.serialize(D,"",k)),y()&&p.clearCookie&&p.clearCookie(D,k)}function M(D){D?d=s.default.parse(D):d={}}function P(D,k){return D.cookie?d=D.cookie:D.cookies?d=D.cookies:D.headers&&D.headers.cookie?M(D.headers.cookie):d={},p=k,function(){p=null,d={}}}return $r.default={setRawCookie:M,load:g,loadAll:v,select:S,save:C,remove:E,plugToRequest:P},$r}var F5=q5();const Z1=Vc(F5),ys=Object.create(null);ys.open="0";ys.close="1";ys.ping="2";ys.pong="3";ys.message="4";ys.upgrade="5";ys.noop="6";const Hu=Object.create(null);Object.keys(ys).forEach(t=>{Hu[ys[t]]=t});const Fm={type:"error",data:"parser error"},kE=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",jE=typeof ArrayBuffer=="function",LE=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,rg=({type:t,data:e},n,s)=>kE&&e instanceof Blob?n?s(e):J1(e,s):jE&&(e instanceof ArrayBuffer||LE(e))?n?s(e):J1(new Blob([e]),s):s(ys[t]+(e||"")),J1=(t,e)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];e("b"+(s||""))},n.readAsDataURL(t)};function W1(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Xp;function Y5(t,e){if(kE&&t.data instanceof Blob)return t.data.arrayBuffer().then(W1).then(e);if(jE&&(t.data instanceof ArrayBuffer||LE(t.data)))return e(W1(t.data));rg(t,!1,n=>{Xp||(Xp=new TextEncoder),e(Xp.encode(n))})}const eS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<eS.length;t++)wc[eS.charCodeAt(t)]=t;const G5=t=>{let e=t.length*.75,n=t.length,s,a=0,c,u,f,d;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const p=new ArrayBuffer(e),y=new Uint8Array(p);for(s=0;s<n;s+=4)c=wc[t.charCodeAt(s)],u=wc[t.charCodeAt(s+1)],f=wc[t.charCodeAt(s+2)],d=wc[t.charCodeAt(s+3)],y[a++]=c<<2|u>>4,y[a++]=(u&15)<<4|f>>2,y[a++]=(f&3)<<6|d&63;return p},K5=typeof ArrayBuffer=="function",sg=(t,e)=>{if(typeof t!="string")return{type:"message",data:UE(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:X5(t.substring(1),e)}:Hu[n]?t.length>1?{type:Hu[n],data:t.substring(1)}:{type:Hu[n]}:Fm},X5=(t,e)=>{if(K5){const n=G5(t);return UE(n,e)}else return{base64:!0,data:t}},UE=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},IE="",Q5=(t,e)=>{const n=t.length,s=new Array(n);let a=0;t.forEach((c,u)=>{rg(c,!1,f=>{s[u]=f,++a===n&&e(s.join(IE))})})},Z5=(t,e)=>{const n=t.split(IE),s=[];for(let a=0;a<n.length;a++){const c=sg(n[a],e);if(s.push(c),c.type==="error")break}return s};function J5(){return new TransformStream({transform(t,e){Y5(t,n=>{const s=n.length;let a;if(s<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,s);else if(s<65536){a=new Uint8Array(3);const c=new DataView(a.buffer);c.setUint8(0,126),c.setUint16(1,s)}else{a=new Uint8Array(9);const c=new DataView(a.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(s))}t.data&&typeof t.data!="string"&&(a[0]|=128),e.enqueue(a),e.enqueue(n)})}})}let Qp;function Tu(t){return t.reduce((e,n)=>e+n.length,0)}function Ru(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let s=0;for(let a=0;a<e;a++)n[a]=t[0][s++],s===t[0].length&&(t.shift(),s=0);return t.length&&s<t[0].length&&(t[0]=t[0].slice(s)),n}function W5(t,e){Qp||(Qp=new TextDecoder);const n=[];let s=0,a=-1,c=!1;return new TransformStream({transform(u,f){for(n.push(u);;){if(s===0){if(Tu(n)<1)break;const d=Ru(n,1);c=(d[0]&128)===128,a=d[0]&127,a<126?s=3:a===126?s=1:s=2}else if(s===1){if(Tu(n)<2)break;const d=Ru(n,2);a=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),s=3}else if(s===2){if(Tu(n)<8)break;const d=Ru(n,8),p=new DataView(d.buffer,d.byteOffset,d.length),y=p.getUint32(0);if(y>Math.pow(2,21)-1){f.enqueue(Fm);break}a=y*Math.pow(2,32)+p.getUint32(4),s=3}else{if(Tu(n)<a)break;const d=Ru(n,a);f.enqueue(sg(c?d:Qp.decode(d),e)),s=0}if(a===0||a>t){f.enqueue(Fm);break}}}})}const zE=4;function Rn(t){if(t)return ek(t)}function ek(t){for(var e in Rn.prototype)t[e]=Rn.prototype[e];return t}Rn.prototype.on=Rn.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Rn.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Rn.prototype.off=Rn.prototype.removeListener=Rn.prototype.removeAllListeners=Rn.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s,a=0;a<n.length;a++)if(s=n[a],s===e||s.fn===e){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Rn.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,a=n.length;s<a;++s)n[s].apply(this,e)}return this};Rn.prototype.emitReserved=Rn.prototype.emit;Rn.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Rn.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Xf=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),kr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),tk="arraybuffer";function BE(t,...e){return e.reduce((n,s)=>(t.hasOwnProperty(s)&&(n[s]=t[s]),n),{})}const nk=kr.setTimeout,rk=kr.clearTimeout;function Qf(t,e){e.useNativeTimers?(t.setTimeoutFn=nk.bind(kr),t.clearTimeoutFn=rk.bind(kr)):(t.setTimeoutFn=kr.setTimeout.bind(kr),t.clearTimeoutFn=kr.clearTimeout.bind(kr))}const sk=1.33;function ik(t){return typeof t=="string"?ak(t):Math.ceil((t.byteLength||t.size)*sk)}function ak(t){let e=0,n=0;for(let s=0,a=t.length;s<a;s++)e=t.charCodeAt(s),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(s++,n+=4);return n}function HE(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function ok(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function ck(t){let e={},n=t.split("&");for(let s=0,a=n.length;s<a;s++){let c=n[s].split("=");e[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return e}class lk extends Error{constructor(e,n,s){super(e),this.description=n,this.context=s,this.type="TransportError"}}class ig extends Rn{constructor(e){super(),this.writable=!1,Qf(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,s){return super.emitReserved("error",new lk(e,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=sg(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=ok(e);return n.length?"?"+n:""}}class uk extends ig{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};Z5(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Q5(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=HE()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let $E=!1;try{$E=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const fk=$E;function dk(){}class hk extends uk{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,n){const s=this.request({method:"POST",data:e});s.on("success",n),s.on("error",(a,c)=>{this.onError("xhr post error",a,c)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=e}}class hs extends Rn{constructor(e,n,s){super(),this.createRequest=e,Qf(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const n=BE(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&s.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var a;s.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=hs.requestsCount++,hs.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=dk,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete hs.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}hs.requestsCount=0;hs.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",tS);else if(typeof addEventListener=="function"){const t="onpagehide"in kr?"pagehide":"unload";addEventListener(t,tS,!1)}}function tS(){for(let t in hs.requests)hs.requests.hasOwnProperty(t)&&hs.requests[t].abort()}const pk=(function(){const t=VE({xdomain:!1});return t&&t.responseType!==null})();class mk extends hk{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=pk&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new hs(VE,this.uri(),e)}}function VE(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||fk))return new XMLHttpRequest}catch{}if(!e)try{return new kr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const qE=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class yk extends ig{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,s=qE?{}:BE(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,s)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],a=n===e.length-1;rg(s,this.supportsBinary,c=>{try{this.doWrite(s,c)}catch{}a&&Xf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=HE()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Zp=kr.WebSocket||kr.MozWebSocket;class gk extends yk{createSocket(e,n,s){return qE?new Zp(e,n,s):n?new Zp(e,n):new Zp(e)}doWrite(e,n){this.ws.send(n)}}class vk extends ig{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=W5(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(n).getReader(),a=J5();a.readable.pipeTo(e.writable),this._writer=a.writable.getWriter();const c=()=>{s.read().then(({done:f,value:d})=>{f||(this.onPacket(d),c())}).catch(f=>{})};c();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this._writer.write(u).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],a=n===e.length-1;this._writer.write(s).then(()=>{a&&Xf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const xk={websocket:gk,webtransport:vk,polling:mk},bk=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Sk=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ym(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),s=t.indexOf("]");n!=-1&&s!=-1&&(t=t.substring(0,n)+t.substring(n,s).replace(/:/g,";")+t.substring(s,t.length));let a=bk.exec(t||""),c={},u=14;for(;u--;)c[Sk[u]]=a[u]||"";return n!=-1&&s!=-1&&(c.source=e,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=_k(c,c.path),c.queryKey=wk(c,c.query),c}function _k(t,e){const n=/\/{2,9}/g,s=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function wk(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,c){a&&(n[a]=c)}),n}const Gm=typeof addEventListener=="function"&&typeof removeEventListener=="function",$u=[];Gm&&addEventListener("offline",()=>{$u.forEach(t=>t())},!1);class Oi extends Rn{constructor(e,n){if(super(),this.binaryType=tk,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const s=Ym(e);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=Ym(n.host).host);Qf(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const a=s.prototype.name;this.transports.push(a),this._transportsByName[a]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=ck(this.opts.query)),Gm&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},$u.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=zE,n.transport=e,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Oi.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Oi.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const a=this.writeBuffer[s].data;if(a&&(n+=ik(a)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Xf(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,s){return this._sendPacket("message",e,n,s),this}send(e,n,s){return this._sendPacket("message",e,n,s),this}_sendPacket(e,n,s,a){if(typeof n=="function"&&(a=n,n=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const c={type:e,data:n,options:s};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(Oi.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Gm&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=$u.indexOf(this._offlineEventListener);s!==-1&&$u.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Oi.protocol=zE;class Ck extends Oi{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),s=!1;Oi.priorWebsocketSuccess=!1;const a=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!s)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Oi.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(y(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=n.name,this.emitReserved("upgradeError",v)}}))};function c(){s||(s=!0,y(),n.close(),n=null)}const u=g=>{const v=new Error("probe error: "+g);v.transport=n.name,c(),this.emitReserved("upgradeError",v)};function f(){u("transport closed")}function d(){u("socket closed")}function p(g){n&&g.name!==n.name&&c()}const y=()=>{n.removeListener("open",a),n.removeListener("error",u),n.removeListener("close",f),this.off("close",d),this.off("upgrading",p)};n.once("open",a),n.once("error",u),n.once("close",f),this.once("close",d),this.once("upgrading",p),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&n.push(e[s]);return n}}let Ek=class extends Ck{constructor(e,n={}){const s=typeof e=="object"?e:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(a=>xk[a]).filter(a=>!!a)),super(e,s)}};function Tk(t,e="",n){let s=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),s=Ym(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const c=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+c+":"+s.port+e,s.href=s.protocol+"://"+c+(n&&n.port===s.port?"":":"+s.port),s}const Rk=typeof ArrayBuffer=="function",Ak=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,FE=Object.prototype.toString,Ok=typeof Blob=="function"||typeof Blob<"u"&&FE.call(Blob)==="[object BlobConstructor]",Mk=typeof File=="function"||typeof File<"u"&&FE.call(File)==="[object FileConstructor]";function ag(t){return Rk&&(t instanceof ArrayBuffer||Ak(t))||Ok&&t instanceof Blob||Mk&&t instanceof File}function Vu(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,s=t.length;n<s;n++)if(Vu(t[n]))return!0;return!1}if(ag(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Vu(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Vu(t[n]))return!0;return!1}function Nk(t){const e=[],n=t.data,s=t;return s.data=Km(n,e),s.attachments=e.length,{packet:s,buffers:e}}function Km(t,e){if(!t)return t;if(ag(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let s=0;s<t.length;s++)n[s]=Km(t[s],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=Km(t[s],e));return n}return t}function Pk(t,e){return t.data=Xm(t.data,e),delete t.attachments,t}function Xm(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Xm(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Xm(t[n],e));return t}const Dk=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],kk=5;var Nt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Nt||(Nt={}));class jk{constructor(e){this.replacer=e}encode(e){return(e.type===Nt.EVENT||e.type===Nt.ACK)&&Vu(e)?this.encodeAsBinary({type:e.type===Nt.EVENT?Nt.BINARY_EVENT:Nt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Nt.BINARY_EVENT||e.type===Nt.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=Nk(e),s=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(s),a}}function nS(t){return Object.prototype.toString.call(t)==="[object Object]"}class og extends Rn{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const s=n.type===Nt.BINARY_EVENT;s||n.type===Nt.BINARY_ACK?(n.type=s?Nt.EVENT:Nt.ACK,this.reconstructor=new Lk(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(ag(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const s={type:Number(e.charAt(0))};if(Nt[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Nt.BINARY_EVENT||s.type===Nt.BINARY_ACK){const c=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const u=e.substring(c,n);if(u!=Number(u)||e.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(u)}if(e.charAt(n+1)==="/"){const c=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););s.nsp=e.substring(c,n)}else s.nsp="/";const a=e.charAt(n+1);if(a!==""&&Number(a)==a){const c=n+1;for(;++n;){const u=e.charAt(n);if(u==null||Number(u)!=u){--n;break}if(n===e.length)break}s.id=Number(e.substring(c,n+1))}if(e.charAt(++n)){const c=this.tryParse(e.substr(n));if(og.isPayloadValid(s.type,c))s.data=c;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Nt.CONNECT:return nS(n);case Nt.DISCONNECT:return n===void 0;case Nt.CONNECT_ERROR:return typeof n=="string"||nS(n);case Nt.EVENT:case Nt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Dk.indexOf(n[0])===-1);case Nt.ACK:case Nt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Lk{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=Pk(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Uk=Object.freeze(Object.defineProperty({__proto__:null,Decoder:og,Encoder:jk,get PacketType(){return Nt},protocol:kk},Symbol.toStringTag,{value:"Module"}));function qr(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const Ik=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class YE extends Rn{constructor(e,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[qr(e,"open",this.onopen.bind(this)),qr(e,"packet",this.onpacket.bind(this)),qr(e,"error",this.onerror.bind(this)),qr(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var s,a,c;if(Ik.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const u={type:Nt.EVENT,data:n};if(u.options={},u.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const y=this.ids++,g=n.pop();this._registerAckCallback(y,g),u.id=y}const f=(a=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||a===void 0?void 0:a.writable,d=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!f||(d?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u)),this.flags={},this}_registerAckCallback(e,n){var s;const a=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(a===void 0){this.acks[e]=n;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let f=0;f<this.sendBuffer.length;f++)this.sendBuffer[f].id===e&&this.sendBuffer.splice(f,1);n.call(this,new Error("operation has timed out"))},a),u=(...f)=>{this.io.clearTimeoutFn(c),n.apply(this,f)};u.withError=!0,this.acks[e]=u}emitWithAck(e,...n){return new Promise((s,a)=>{const c=(u,f)=>u?a(u):s(f);c.withError=!0,n.push(c),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((a,...c)=>s!==this._queue[0]?void 0:(a!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...c)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Nt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Nt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Nt.EVENT:case Nt.BINARY_EVENT:this.onevent(e);break;case Nt.ACK:case Nt.BINARY_ACK:this.onack(e);break;case Nt.DISCONNECT:this.ondisconnect();break;case Nt.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let s=!1;return function(...a){s||(s=!0,n.packet({type:Nt.ACK,id:e,data:a}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Nt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,e.data)}}}function xo(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}xo.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};xo.prototype.reset=function(){this.attempts=0};xo.prototype.setMin=function(t){this.ms=t};xo.prototype.setMax=function(t){this.max=t};xo.prototype.setJitter=function(t){this.jitter=t};class Qm extends Rn{constructor(e,n){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Qf(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new xo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const a=n.parser||Uk;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Ek(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=qr(n,"open",function(){s.onopen(),e&&e()}),c=f=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",f),e?e(f):this.maybeReconnectOnOpen()},u=qr(n,"error",c);if(this._timeout!==!1){const f=this._timeout,d=this.setTimeoutFn(()=>{a(),c(new Error("timeout")),n.close()},f);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(a),this.subs.push(u),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(qr(e,"ping",this.onping.bind(this)),qr(e,"data",this.ondata.bind(this)),qr(e,"error",this.onerror.bind(this)),qr(e,"close",this.onclose.bind(this)),qr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Xf(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new YE(this,e,n),this.nsps[e]=s),s}_destroy(e){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let s=0;s<n.length;s++)this.engine.write(n[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(a=>{a?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",a)):e.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const xc={};function qu(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=Tk(t,e.path||"/socket.io"),s=n.source,a=n.id,c=n.path,u=xc[a]&&c in xc[a].nsps,f=e.forceNew||e["force new connection"]||e.multiplex===!1||u;let d;return f?d=new Qm(s,e):(xc[a]||(xc[a]=new Qm(s,e)),d=xc[a]),n.query&&!e.query&&(e.query=n.queryKey),d.socket(n.path,e)}Object.assign(qu,{Manager:Qm,Socket:YE,io:qu,connect:qu});class GE extends wE{constructor(){super(),this.state=new Map,this.initial=new Map,this.metadata=new Map,this.log=new Map}createMatch(e,n){this.initial.set(e,n.initialState),this.setState(e,n.initialState),this.setMetadata(e,n.metadata)}setMetadata(e,n){this.metadata.set(e,n)}setState(e,n,s){if(s&&s.length>0){const a=this.log.get(e)||[];this.log.set(e,[...a,...s])}this.state.set(e,n)}fetch(e,n){const s={};return n.state&&(s.state=this.state.get(e)),n.metadata&&(s.metadata=this.metadata.get(e)),n.log&&(s.log=this.log.get(e)||[]),n.initialState&&(s.initialState=this.initial.get(e)),s}wipe(e){this.state.delete(e),this.metadata.delete(e)}listMatches(e){return[...this.metadata.entries()].filter(([,n])=>e?!(e.gameName!==void 0&&n.gameName!==e.gameName||e.where!==void 0&&(e.where.isGameover!==void 0&&n.gameover!==void 0!==e.where.isGameover||e.where.updatedBefore!==void 0&&n.updatedAt>=e.where.updatedBefore||e.where.updatedAfter!==void 0&&n.updatedAt<=e.where.updatedAfter)):!0).map(([n])=>n)}}class zk extends Map{constructor(e){super(),this.key=e,(JSON.parse(localStorage.getItem(this.key))||[]).forEach(s=>this.set(...s))}sync(){const e=[...this.entries()];localStorage.setItem(this.key,JSON.stringify(e))}set(e,n){return super.set(e,n),this.sync(),this}delete(e){const n=super.delete(e);return this.sync(),n}}class Bk extends GE{constructor(e="bgio"){super();const n=s=>new zk(`${e}_${s}`);this.state=n("state"),this.initial=n("initial"),this.metadata=n("metadata"),this.log=n("log")}}function Hk(t,e){if(t.ctx.gameover!==void 0)return null;if(t.ctx.activePlayers){for(const n of Object.keys(e))if(n in t.ctx.activePlayers)return n}else if(t.ctx.currentPlayer in e)return t.ctx.currentPlayer;return null}class $k extends AE{constructor({game:e,bots:n,storageKey:s,persist:a}){const c={},u={};if(e&&e.ai&&n)for(const g in n){const v=n[g];u[g]=new v({game:e,enumerate:e.ai.enumerate,seed:e.seed})}const f=({playerID:g,...v})=>{const S=c[g];S!==void 0&&S(d(g,v))},d=EE(e),p={send:f,sendAll:g=>{for(const v in c)f({playerID:v,...g})}},y=a?new Bk(s):new GE;super(e,y,p),this.connect=(g,v)=>{c[g]=v},this.subscribe(({state:g,matchID:v})=>{if(!n)return;const S=Hk(g,u);S!==null&&setTimeout(async()=>{const C=await u[S].play(g,S);await this.onUpdate(C.action,g._stateID,v,C.action.payload.playerID)},100)})}}class Vk extends Kf{constructor({master:e,...n}){super(n),this.master=e}sendChatMessage(e,n){const s=[e,n,this.credentials];this.master.onChatMessage(...s)}sendAction(e,n){this.master.onUpdate(n,e._stateID,this.matchID,this.playerID)}requestSync(){this.master.onSync(this.matchID,this.playerID,this.credentials,this.numPlayers)}connect(){this.setConnectionStatus(!0),this.master.connect(this.playerID,e=>this.notifyClient(e)),this.requestSync()}disconnect(){this.setConnectionStatus(!1)}updateMatchID(e){this.matchID=e,this.connect()}updatePlayerID(e){this.playerID=e,this.connect()}updateCredentials(e){this.credentials=e,this.connect()}}const rS=new Map;function qk({bots:t,persist:e,storageKey:n}={}){return s=>{const{gameKey:a,game:c}=s;let u;const f=rS.get(a);return f&&f.bots===t&&f.storageKey===n&&f.persist===e&&(u=f.master),u||(u=new $k({game:c,bots:t,persist:e,storageKey:n}),rS.set(a,{master:u,bots:t,persist:e,storageKey:n})),new Vk({master:u,...s})}}const sS=qu;class Fk extends Kf{constructor({socket:e,socketOpts:n,server:s,...a}){super(a),this.server=s,this.socket=e,this.socketOpts=n}sendAction(e,n){const s=[n,e._stateID,this.matchID,this.playerID];this.socket.emit("update",...s)}sendChatMessage(e,n){const s=[e,n,this.credentials];this.socket.emit("chat",...s)}connect(){if(!this.socket)if(this.server){let e=this.server;e.search(/^https?:\/\//)==-1&&(e="http://"+this.server),e.slice(-1)!="/"&&(e=e+"/"),this.socket=sS(e+this.gameName,this.socketOpts)}else this.socket=sS("/"+this.gameName,this.socketOpts);this.socket.on("patch",(e,n,s,a,c)=>{this.notifyClient({type:"patch",args:[e,n,s,a,c]})}),this.socket.on("update",(e,n,s)=>{this.notifyClient({type:"update",args:[e,n,s]})}),this.socket.on("sync",(e,n)=>{this.notifyClient({type:"sync",args:[e,n]})}),this.socket.on("matchData",(e,n)=>{this.notifyClient({type:"matchData",args:[e,n]})}),this.socket.on("chat",(e,n)=>{this.notifyClient({type:"chat",args:[e,n]})}),this.socket.on("connect",()=>{this.requestSync(),this.setConnectionStatus(!0)}),this.socket.on("disconnect",()=>{this.setConnectionStatus(!1)})}disconnect(){this.socket.close(),this.socket=null,this.setConnectionStatus(!1)}requestSync(){if(this.socket){const e=[this.matchID,this.playerID,this.credentials,this.numPlayers];this.socket.emit("sync",...e)}}updateMatchID(e){this.matchID=e,this.requestSync()}updatePlayerID(e){this.playerID=e,this.requestSync()}updateCredentials(e){this.credentials=e,this.requestSync()}}function iS({server:t,socketOpts:e}={}){return n=>new Fk({server:t,socketOpts:e,...n})}function KE(t){var e;const{game:n,numPlayers:s,board:a,multiplayer:c,enhancer:u}=t;let{loading:f,debug:d}=t;return f===void 0&&(f=()=>Le.createElement("div",{className:"bgio-loading"},"connecting...")),e=class extends Le.Component{constructor(y){super(y),d===void 0&&(d=y.debug),this.client=j5({game:n,debug:d,numPlayers:s,multiplayer:c,matchID:y.matchID,playerID:y.playerID,credentials:y.credentials,enhancer:u})}componentDidMount(){this.unsubscribe=this.client.subscribe(()=>this.forceUpdate()),this.client.start()}componentWillUnmount(){this.client.stop(),this.unsubscribe()}componentDidUpdate(y){this.props.matchID!=y.matchID&&this.client.updateMatchID(this.props.matchID),this.props.playerID!=y.playerID&&this.client.updatePlayerID(this.props.playerID),this.props.credentials!=y.credentials&&this.client.updateCredentials(this.props.credentials)}render(){const y=this.client.getState();if(y===null)return Le.createElement(f);let g=null;return a&&(g=Le.createElement(a,{...y,...this.props,isMultiplayer:!!c,moves:this.client.moves,events:this.client.events,matchID:this.client.matchID,playerID:this.client.playerID,reset:this.client.reset,undo:this.client.undo,redo:this.client.redo,log:this.client.log,matchData:this.client.matchData,sendChatMessage:this.client.sendChatMessage,chatMessages:this.client.chatMessages})),Le.createElement("div",{className:"bgio-client"},g)}},e.propTypes={matchID:is.string,playerID:is.string,credentials:is.string,debug:is.any},e.defaultProps={matchID:"default",playerID:null,credentials:null,debug:!0},e}class Yk{constructor({server:e,gameComponents:n,playerName:s,playerCredentials:a}){this.client=new U5({server:e}),this.gameComponents=n,this.playerName=s||"Visitor",this.playerCredentials=a,this.matches=[]}async refresh(){try{this.matches=[];const e=await this.client.listGames();for(const n of e){if(!this._getGameComponents(n))continue;const{matches:s}=await this.client.listMatches(n);this.matches.push(...s)}}catch(e){throw new Error("failed to retrieve list of matches ("+e+")")}}_getMatchInstance(e){for(const n of this.matches)if(n.matchID===e)return n}_getGameComponents(e){for(const n of this.gameComponents)if(n.game.name===e)return n}_findPlayer(e){for(const n of this.matches)if(n.players.some(s=>s.name===e))return n}async join(e,n,s){try{let a=this._findPlayer(this.playerName);if(a)throw new Error("player has already joined "+a.matchID);if(a=this._getMatchInstance(n),!a)throw new Error("game instance "+n+" not found");const c=await this.client.joinMatch(e,n,{playerID:s,playerName:this.playerName});a.players[Number.parseInt(s)].name=this.playerName,this.playerCredentials=c.playerCredentials}catch(a){throw new Error("failed to join match "+n+" ("+a+")")}}async leave(e,n){try{const s=this._getMatchInstance(n);if(!s)throw new Error("match instance not found");for(const a of s.players)if(a.name===this.playerName){await this.client.leaveMatch(e,n,{playerID:a.id.toString(),credentials:this.playerCredentials}),delete a.name,delete this.playerCredentials;return}throw new Error("player not found in match")}catch(s){throw new Error("failed to leave match "+n+" ("+s+")")}}async disconnect(){const e=this._findPlayer(this.playerName);e&&await this.leave(e.gameName,e.matchID),this.matches=[],this.playerName="Visitor"}async create(e,n){try{const s=this._getGameComponents(e);if(!s)throw new Error("game not found");if(n<s.game.minPlayers||n>s.game.maxPlayers)throw new Error("invalid number of players "+n);await this.client.createMatch(e,{numPlayers:n})}catch(s){throw new Error("failed to create match for "+e+" ("+s+")")}}}function Gk(t){return new Yk(t)}class XE extends Le.Component{constructor(){super(...arguments),this.state={playerName:this.props.playerName,nameErrorMsg:""},this.onClickEnter=()=>{this.state.playerName!==""&&this.props.onEnter(this.state.playerName)},this.onKeyPress=e=>{e.key==="Enter"&&this.onClickEnter()},this.onChangePlayerName=e=>{const n=e.target.value.trim();this.setState({playerName:n,nameErrorMsg:n.length>0?"":"empty player name"})}}render(){return Le.createElement("div",null,Le.createElement("p",{className:"phase-title"},"Choose a player name:"),Le.createElement("input",{type:"text",value:this.state.playerName,onChange:this.onChangePlayerName,onKeyPress:this.onKeyPress}),Le.createElement("span",{className:"buttons"},Le.createElement("button",{className:"buttons",onClick:this.onClickEnter},"Enter")),Le.createElement("br",null),Le.createElement("span",{className:"error-msg"},this.state.nameErrorMsg,Le.createElement("br",null)))}}XE.defaultProps={playerName:""};class Kk extends Le.Component{constructor(){super(...arguments),this._createSeat=e=>e.name||"[free]",this._createButtonJoin=(e,n)=>Le.createElement("button",{key:"button-join-"+e.matchID,onClick:()=>this.props.onClickJoin(e.gameName,e.matchID,""+n)},"Join"),this._createButtonLeave=e=>Le.createElement("button",{key:"button-leave-"+e.matchID,onClick:()=>this.props.onClickLeave(e.gameName,e.matchID)},"Leave"),this._createButtonPlay=(e,n)=>Le.createElement("button",{key:"button-play-"+e.matchID,onClick:()=>this.props.onClickPlay(e.gameName,{matchID:e.matchID,playerID:""+n,numPlayers:e.players.length})},"Play"),this._createButtonSpectate=e=>Le.createElement("button",{key:"button-spectate-"+e.matchID,onClick:()=>this.props.onClickPlay(e.gameName,{matchID:e.matchID,numPlayers:e.players.length})},"Spectate"),this._createInstanceButtons=e=>{const n=e.players.find(a=>a.name===this.props.playerName),s=e.players.find(a=>!a.name);return n&&s?this._createButtonLeave(e):s?this._createButtonJoin(e,s.id):n?Le.createElement("div",null,[this._createButtonPlay(e,n.id),this._createButtonLeave(e)]):this._createButtonSpectate(e)}}render(){const e=this.props.match;let n="OPEN";return e.players.some(s=>!s.name)||(n="RUNNING"),Le.createElement("tr",{key:"line-"+e.matchID},Le.createElement("td",{key:"cell-name-"+e.matchID},e.gameName),Le.createElement("td",{key:"cell-status-"+e.matchID},n),Le.createElement("td",{key:"cell-seats-"+e.matchID},e.players.map(s=>this._createSeat(s)).join(", ")),Le.createElement("td",{key:"cell-buttons-"+e.matchID},this._createInstanceButtons(e)))}}class Xk extends Le.Component{constructor(e){super(e),this.state={selectedGame:0,numPlayers:2},this._createGameNameOption=(n,s)=>Le.createElement("option",{key:"name-option-"+s,value:s},n.game.name),this._createNumPlayersOption=n=>Le.createElement("option",{key:"num-option-"+n,value:n},n),this._createNumPlayersRange=n=>Array.from({length:n.maxPlayers+1}).map((s,a)=>a).slice(n.minPlayers),this.onChangeNumPlayers=n=>{this.setState({numPlayers:Number.parseInt(n.target.value)})},this.onChangeSelectedGame=n=>{const s=Number.parseInt(n.target.value);this.setState({selectedGame:s,numPlayers:this.props.games[s].game.minPlayers})},this.onClickCreate=()=>{this.props.createMatch(this.props.games[this.state.selectedGame].game.name,this.state.numPlayers)};for(const n of e.games){const s=n.game;s.minPlayers||(s.minPlayers=1),s.maxPlayers||(s.maxPlayers=4),console.assert(s.maxPlayers>=s.minPlayers)}this.state={selectedGame:0,numPlayers:e.games[0].game.minPlayers}}render(){return Le.createElement("div",null,Le.createElement("select",{value:this.state.selectedGame,onChange:e=>this.onChangeSelectedGame(e)},this.props.games.map((e,n)=>this._createGameNameOption(e,n))),Le.createElement("span",null,"Players:"),Le.createElement("select",{value:this.state.numPlayers,onChange:this.onChangeNumPlayers},this._createNumPlayersRange(this.props.games[this.state.selectedGame].game).map(e=>this._createNumPlayersOption(e))),Le.createElement("span",{className:"buttons"},Le.createElement("button",{onClick:this.onClickCreate},"Create")))}}var cr;(function(t){t.ENTER="enter",t.PLAY="play",t.LIST="list"})(cr||(cr={}));class QE extends Le.Component{constructor(e){super(e),this.state={phase:cr.ENTER,playerName:"Visitor",runningMatch:null,errorMsg:"",credentialStore:{}},this._createConnection=n=>{const s=this.state.playerName;this.connection=Gk({server:n.lobbyServer,gameComponents:n.gameComponents,playerName:s,playerCredentials:this.state.credentialStore[s]})},this._updateCredentials=(n,s)=>{this.setState(a=>{const c=Object.assign({},a.credentialStore);return c[n]=s,{credentialStore:c}})},this._updateConnection=async()=>{await this.connection.refresh(),this.forceUpdate()},this._enterLobby=n=>{this._startRefreshInterval(),this.setState({playerName:n,phase:cr.LIST})},this._exitLobby=async()=>{this._clearRefreshInterval(),await this.connection.disconnect(),this.setState({phase:cr.ENTER,errorMsg:""})},this._createMatch=async(n,s)=>{try{await this.connection.create(n,s),await this.connection.refresh(),this.setState({})}catch(a){this.setState({errorMsg:a.message})}},this._joinMatch=async(n,s,a)=>{try{await this.connection.join(n,s,a),await this.connection.refresh(),this._updateCredentials(this.connection.playerName,this.connection.playerCredentials)}catch(c){this.setState({errorMsg:c.message})}},this._leaveMatch=async(n,s)=>{try{await this.connection.leave(n,s),await this.connection.refresh(),this._updateCredentials(this.connection.playerName,this.connection.playerCredentials)}catch(a){this.setState({errorMsg:a.message})}},this._startMatch=(n,s)=>{const a=this.connection._getGameComponents(n);if(!a){this.setState({errorMsg:"game "+n+" not supported"});return}let c;if(s.numPlayers>1&&(c=this.props.gameServer?iS({server:this.props.gameServer}):iS()),s.numPlayers==1){const d=a.game.maxPlayers,p={};for(let y=1;y<d;y++)p[y+""]=T5;c=qk({bots:p})}const f={app:this.props.clientFactory({game:a.game,board:a.board,debug:this.props.debug,multiplayer:c}),matchID:s.matchID,playerID:s.numPlayers>1?s.playerID:"0",credentials:this.connection.playerCredentials};this._clearRefreshInterval(),this.setState({phase:cr.PLAY,runningMatch:f})},this._exitMatch=()=>{this._startRefreshInterval(),this.setState({phase:cr.LIST,runningMatch:null})},this._getPhaseVisibility=n=>this.state.phase!==n?"hidden":"phase",this.renderMatches=(n,s)=>n.map(a=>{const{matchID:c,gameName:u,players:f}=a;return Le.createElement(Kk,{key:"instance-"+c,match:{matchID:c,gameName:u,players:Object.values(f)},playerName:s,onClickJoin:this._joinMatch,onClickLeave:this._leaveMatch,onClickPlay:this._startMatch})}),this._createConnection(this.props)}componentDidMount(){const e=Z1.load("lobbyState")||{};e.phase&&e.phase===cr.PLAY&&(e.phase=cr.LIST),e.phase&&e.phase!==cr.ENTER&&this._startRefreshInterval(),this.setState({phase:e.phase||cr.ENTER,playerName:e.playerName||"Visitor",credentialStore:e.credentialStore||{}})}componentDidUpdate(e,n){const s=this.state.playerName,a=this.state.credentialStore[s];if(n.phase!==this.state.phase||n.credentialStore[s]!==a||n.playerName!==s){this._createConnection(this.props),this._updateConnection();const c={phase:this.state.phase,playerName:s,credentialStore:this.state.credentialStore};Z1.save("lobbyState",c,{path:"/"})}e.refreshInterval!==this.props.refreshInterval&&this._startRefreshInterval()}componentWillUnmount(){this._clearRefreshInterval()}_startRefreshInterval(){this._clearRefreshInterval(),this._currentInterval=setInterval(this._updateConnection,this.props.refreshInterval)}_clearRefreshInterval(){clearInterval(this._currentInterval)}render(){const{gameComponents:e,renderer:n}=this.props,{errorMsg:s,playerName:a,phase:c,runningMatch:u}=this.state;return n?n({errorMsg:s,gameComponents:e,matches:this.connection.matches,phase:c,playerName:a,runningMatch:u,handleEnterLobby:this._enterLobby,handleExitLobby:this._exitLobby,handleCreateMatch:this._createMatch,handleJoinMatch:this._joinMatch,handleLeaveMatch:this._leaveMatch,handleExitMatch:this._exitMatch,handleRefreshMatches:this._updateConnection,handleStartMatch:this._startMatch}):Le.createElement("div",{id:"lobby-view",style:{padding:50}},Le.createElement("div",{className:this._getPhaseVisibility(cr.ENTER)},Le.createElement(XE,{key:a,playerName:a,onEnter:this._enterLobby})),Le.createElement("div",{className:this._getPhaseVisibility(cr.LIST)},Le.createElement("p",null,"Welcome, ",a),Le.createElement("div",{className:"phase-title",id:"match-creation"},Le.createElement("span",null,"Create a match:"),Le.createElement(Xk,{games:e,createMatch:this._createMatch})),Le.createElement("p",{className:"phase-title"},"Join a match:"),Le.createElement("div",{id:"instances"},Le.createElement("table",null,Le.createElement("tbody",null,this.renderMatches(this.connection.matches,a))),Le.createElement("span",{className:"error-msg"},s,Le.createElement("br",null))),Le.createElement("p",{className:"phase-title"},"Matches that become empty are automatically deleted.")),Le.createElement("div",{className:this._getPhaseVisibility(cr.PLAY)},u&&Le.createElement(u.app,{matchID:u.matchID,playerID:u.playerID,credentials:u.credentials}),Le.createElement("div",{className:"buttons",id:"match-exit"},Le.createElement("button",{onClick:this._exitMatch},"Exit match"))),Le.createElement("div",{className:"buttons",id:"lobby-exit"},Le.createElement("button",{onClick:this._exitLobby},"Exit lobby")))}}QE.propTypes={gameComponents:is.array.isRequired,lobbyServer:is.string,gameServer:is.string,debug:is.bool,clientFactory:is.func,refreshInterval:is.number};QE.defaultProps={debug:!1,clientFactory:KE,refreshInterval:2e3};function Qk({title:t="Connecting",description:e="Hang tight while we get everything ready.",roomCode:n,topRightSlot:s}){return b.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-gradient-to-br from-primary/10 via-background to-secondary/10",children:[s,b.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_top,_theme(colors.primary/15),transparent_60%)]"}),b.jsx("div",{className:"relative flex min-h-screen flex-col items-center justify-center px-6 py-16",children:b.jsxs("div",{className:"w-full max-w-md space-y-6 rounded-3xl border border-border/50 bg-background/90 p-10 text-center shadow-xl backdrop-blur",children:[b.jsx("div",{className:"flex items-center justify-center",children:b.jsx(hy,{className:"h-12 w-12 animate-spin text-primary"})}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h2",{className:"text-2xl font-heading",children:t}),e?b.jsx("p",{className:"text-sm text-muted-foreground",children:e}):null]}),n?b.jsx("div",{className:"flex justify-center",children:b.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-border/70 bg-muted/40 px-4 py-2 font-mono text-xs uppercase tracking-[0.3em] text-muted-foreground",children:["Room",b.jsx("span",{className:"text-foreground",children:n})]})}):null]})})]})}const Zm=()=>typeof window>"u"?"Player":localStorage.getItem("playerName")||"Player",Zk=t=>{if(typeof window>"u")return t;const e=sessionStorage.getItem("musicshowdown.pendingRole");if(e==="host"||e==="peer")return sessionStorage.removeItem("musicshowdown.pendingRole"),e;const n=sessionStorage.getItem("musicshowdown.lastRole");return n==="host"||n==="peer"?n:t},Jk=t=>{typeof window<"u"&&sessionStorage.setItem("musicshowdown.lastRole",t)},Wk=(t,e)=>{const n=typeof window<"u"?sessionStorage.getItem("musicshowdown.pendingRole"):null,s=tg(t);if(s&&!n)return typeof window<"u"&&sessionStorage.setItem("musicshowdown.lastRole",s.role),s;s&&n&&g5(t);const a=Zk(e);if(a==="peer")return ME(Zm());const c=NE(t,a,Zm());return typeof window<"u"&&sessionStorage.setItem("musicshowdown.lastRole",c.role),c};function e8({roomCode:t,defaultRole:e,board:n}){const[s,a]=R.useState(()=>Wk(t,e)),c=R.useCallback(v=>{a(S=>{const C=typeof v=="function"?v(S):v;return Jk(C.role),C})},[]),u=R.useCallback(v=>{const S=v.trim().slice(0,24);S&&(typeof window<"u"&&localStorage.setItem("playerName",S),c(C=>C.role==="spectator"?{...C,playerName:S}:NE(t,C.role,S)))},[t,c]),f=R.useCallback(v=>{c(S=>{const C=v?.trim().slice(0,24)||S.playerName;return y5(t,C)})},[t,c]),d=R.useCallback(v=>{c(S=>{if(S.role==="host")return S;const C=S.playerName.trim()||Zm();return{...p5(t,C,v),role:"peer"}})},[t,c]),p=R.useCallback(()=>{c(v=>v.role!=="peer"||v.playerID===Nc?v:(m5(t,v.playerID),ME(v.playerName)))},[t,c]),y=R.useMemo(()=>{const v=n;return function(C){return b.jsx(v,{...C,identity:s,isHost:s.role==="host",updatePlayerName:u,promoteToHost:f,claimSeat:d,releaseSeat:p})}},[n,s,f,u,d,p]),g=R.useMemo(()=>KE({game:d5,board:y,multiplayer:ds.P2P({isHost:s.role==="host"}),numPlayers:$c,debug:!1,loading:()=>b.jsx(Qk,{title:"Connecting to your room",description:"Setting the stage and syncing players. Hang tightthis should only take a moment.",roomCode:t,topRightSlot:b.jsx("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:b.jsx(wy,{})})})}),[y,s.role]);return b.jsx(g,{matchID:t,playerID:s.role==="spectator"?void 0:s.playerID,credentials:s.role==="spectator"?void 0:s.credentials},`${t}:${s.playerID}:${s.credentials}:${s.role}`)}const Zf=IA({component:UN}),t8=Ef({getParentRoute:()=>Zf,path:"/music-showdown/",component:FN}),ZE=Ef({getParentRoute:()=>Zf,path:"/music-showdown/game/$roomCode",component:()=>{const{roomCode:t}=ZE.useParams();return typeof window<"u"&&(sessionStorage.getItem("musicshowdown.pendingRole")||sessionStorage.setItem("musicshowdown.pendingRole","peer")),b.jsx(e8,{roomCode:t,defaultRole:"peer",board:x5})}}),n8=Ef({getParentRoute:()=>Zf,path:"*",component:b5}),r8=Zf.addChildren([t8,ZE,n8]),s8=GA({routeTree:r8});c2.createRoot(document.getElementById("root")).render(b.jsx(QA,{router:s8}));
