function cS(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in t)){const c=Object.getOwnPropertyDescriptor(s,a);c&&Object.defineProperty(t,a,c.get?c:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var Hx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bf(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function s(){var a=!1;try{a=this instanceof s}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var a=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return t[s]}})}),n}var np={exports:{}},oc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x;function n2(){if($x)return oc;$x=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,c){var u=null;if(c!==void 0&&(u=""+c),a.key!==void 0&&(u=""+a.key),"key"in a){c={};for(var f in a)f!=="key"&&(c[f]=a[f])}else c=a;return a=c.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:c}}return oc.Fragment=e,oc.jsx=n,oc.jsxs=n,oc}var Vx;function r2(){return Vx||(Vx=1,np.exports=n2()),np.exports}var b=r2(),rp={exports:{}},cc={},sp={exports:{}},ip={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx;function s2(){return qx||(qx=1,(function(t){function e(H,ie){var G=H.length;H.push(ie);e:for(;0<G;){var Me=G-1>>>1,Ze=H[Me];if(0<a(Ze,ie))H[Me]=ie,H[G]=Ze,G=Me;else break e}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var ie=H[0],G=H.pop();if(G!==ie){H[0]=G;e:for(var Me=0,Ze=H.length,L=Ze>>>1;Me<L;){var te=2*(Me+1)-1,ae=H[te],pe=te+1,ye=H[pe];if(0>a(ae,G))pe<Ze&&0>a(ye,ae)?(H[Me]=ye,H[pe]=G,Me=pe):(H[Me]=ae,H[te]=G,Me=te);else if(pe<Ze&&0>a(ye,G))H[Me]=ye,H[pe]=G,Me=pe;else break e}}return ie}function a(H,ie){var G=H.sortIndex-ie.sortIndex;return G!==0?G:H.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var d=[],h=[],y=1,g=null,v=3,S=!1,C=!1,E=!1,M=!1,P=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function j(H){for(var ie=n(h);ie!==null;){if(ie.callback===null)s(h);else if(ie.startTime<=H)s(h),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=n(h)}}function Y(H){if(E=!1,j(H),!C)if(n(d)!==null)C=!0,W||(W=!0,Ce());else{var ie=n(h);ie!==null&&Ne(Y,ie.startTime-H)}}var W=!1,F=-1,X=5,me=-1;function xe(){return M?!0:!(t.unstable_now()-me<X)}function Se(){if(M=!1,W){var H=t.unstable_now();me=H;var ie=!0;try{e:{C=!1,E&&(E=!1,D(F),F=-1),S=!0;var G=v;try{t:{for(j(H),g=n(d);g!==null&&!(g.expirationTime>H&&xe());){var Me=g.callback;if(typeof Me=="function"){g.callback=null,v=g.priorityLevel;var Ze=Me(g.expirationTime<=H);if(H=t.unstable_now(),typeof Ze=="function"){g.callback=Ze,j(H),ie=!0;break t}g===n(d)&&s(d),j(H)}else s(d);g=n(d)}if(g!==null)ie=!0;else{var L=n(h);L!==null&&Ne(Y,L.startTime-H),ie=!1}}break e}finally{g=null,v=G,S=!1}ie=void 0}}finally{ie?Ce():W=!1}}}var Ce;if(typeof k=="function")Ce=function(){k(Se)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,be=Ee.port2;Ee.port1.onmessage=Se,Ce=function(){be.postMessage(null)}}else Ce=function(){P(Se,0)};function Ne(H,ie){F=P(function(){H(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(H){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var G=v;v=ie;try{return H()}finally{v=G}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(H,ie){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var G=v;v=H;try{return ie()}finally{v=G}},t.unstable_scheduleCallback=function(H,ie,G){var Me=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Me+G:Me):G=Me,H){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=G+Ze,H={id:y++,callback:ie,priorityLevel:H,startTime:G,expirationTime:Ze,sortIndex:-1},G>Me?(H.sortIndex=G,e(h,H),n(d)===null&&H===n(h)&&(E?(D(F),F=-1):E=!0,Ne(Y,G-Me))):(H.sortIndex=Ze,e(d,H),C||S||(C=!0,W||(W=!0,Ce()))),H},t.unstable_shouldYield=xe,t.unstable_wrapCallback=function(H){var ie=v;return function(){var G=v;v=ie;try{return H.apply(this,arguments)}finally{v=G}}}})(ip)),ip}var Fx;function i2(){return Fx||(Fx=1,sp.exports=s2()),sp.exports}var ap={exports:{}},ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yx;function a2(){if(Yx)return ft;Yx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function S(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,M={};function P(L,te,ae){this.props=L,this.context=te,this.refs=M,this.updater=ae||C}P.prototype.isReactComponent={},P.prototype.setState=function(L,te){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,te,"setState")},P.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function D(){}D.prototype=P.prototype;function k(L,te,ae){this.props=L,this.context=te,this.refs=M,this.updater=ae||C}var j=k.prototype=new D;j.constructor=k,E(j,P.prototype),j.isPureReactComponent=!0;var Y=Array.isArray;function W(){}var F={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function me(L,te,ae){var pe=ae.ref;return{$$typeof:t,type:L,key:te,ref:pe!==void 0?pe:null,props:ae}}function xe(L,te){return me(L.type,te,L.props)}function Se(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function Ce(L){var te={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ae){return te[ae]})}var Ee=/\/+/g;function be(L,te){return typeof L=="object"&&L!==null&&L.key!=null?Ce(""+L.key):te.toString(36)}function Ne(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(W,W):(L.status="pending",L.then(function(te){L.status==="pending"&&(L.status="fulfilled",L.value=te)},function(te){L.status==="pending"&&(L.status="rejected",L.reason=te)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function H(L,te,ae,pe,ye){var Te=typeof L;(Te==="undefined"||Te==="boolean")&&(L=null);var je=!1;if(L===null)je=!0;else switch(Te){case"bigint":case"string":case"number":je=!0;break;case"object":switch(L.$$typeof){case t:case e:je=!0;break;case y:return je=L._init,H(je(L._payload),te,ae,pe,ye)}}if(je)return ye=ye(L),je=pe===""?"."+be(L,0):pe,Y(ye)?(ae="",je!=null&&(ae=je.replace(Ee,"$&/")+"/"),H(ye,te,ae,"",function(K){return K})):ye!=null&&(Se(ye)&&(ye=xe(ye,ae+(ye.key==null||L&&L.key===ye.key?"":(""+ye.key).replace(Ee,"$&/")+"/")+je)),te.push(ye)),1;je=0;var xt=pe===""?".":pe+":";if(Y(L))for(var I=0;I<L.length;I++)pe=L[I],Te=xt+be(pe,I),je+=H(pe,te,ae,Te,ye);else if(I=S(L),typeof I=="function")for(L=I.call(L),I=0;!(pe=L.next()).done;)pe=pe.value,Te=xt+be(pe,I++),je+=H(pe,te,ae,Te,ye);else if(Te==="object"){if(typeof L.then=="function")return H(Ne(L),te,ae,pe,ye);throw te=String(L),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return je}function ie(L,te,ae){if(L==null)return L;var pe=[],ye=0;return H(L,pe,"","",function(Te){return te.call(ae,Te,ye++)}),pe}function G(L){if(L._status===-1){var te=L._result;te=te(),te.then(function(ae){(L._status===0||L._status===-1)&&(L._status=1,L._result=ae)},function(ae){(L._status===0||L._status===-1)&&(L._status=2,L._result=ae)}),L._status===-1&&(L._status=0,L._result=te)}if(L._status===1)return L._result.default;throw L._result}var Me=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ze={map:ie,forEach:function(L,te,ae){ie(L,function(){te.apply(this,arguments)},ae)},count:function(L){var te=0;return ie(L,function(){te++}),te},toArray:function(L){return ie(L,function(te){return te})||[]},only:function(L){if(!Se(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return ft.Activity=g,ft.Children=Ze,ft.Component=P,ft.Fragment=n,ft.Profiler=a,ft.PureComponent=k,ft.StrictMode=s,ft.Suspense=d,ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,ft.__COMPILER_RUNTIME={__proto__:null,c:function(L){return F.H.useMemoCache(L)}},ft.cache=function(L){return function(){return L.apply(null,arguments)}},ft.cacheSignal=function(){return null},ft.cloneElement=function(L,te,ae){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var pe=E({},L.props),ye=L.key;if(te!=null)for(Te in te.key!==void 0&&(ye=""+te.key),te)!X.call(te,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&te.ref===void 0||(pe[Te]=te[Te]);var Te=arguments.length-2;if(Te===1)pe.children=ae;else if(1<Te){for(var je=Array(Te),xt=0;xt<Te;xt++)je[xt]=arguments[xt+2];pe.children=je}return me(L.type,ye,pe)},ft.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:c,_context:L},L},ft.createElement=function(L,te,ae){var pe,ye={},Te=null;if(te!=null)for(pe in te.key!==void 0&&(Te=""+te.key),te)X.call(te,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(ye[pe]=te[pe]);var je=arguments.length-2;if(je===1)ye.children=ae;else if(1<je){for(var xt=Array(je),I=0;I<je;I++)xt[I]=arguments[I+2];ye.children=xt}if(L&&L.defaultProps)for(pe in je=L.defaultProps,je)ye[pe]===void 0&&(ye[pe]=je[pe]);return me(L,Te,ye)},ft.createRef=function(){return{current:null}},ft.forwardRef=function(L){return{$$typeof:f,render:L}},ft.isValidElement=Se,ft.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:G}},ft.memo=function(L,te){return{$$typeof:h,type:L,compare:te===void 0?null:te}},ft.startTransition=function(L){var te=F.T,ae={};F.T=ae;try{var pe=L(),ye=F.S;ye!==null&&ye(ae,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(W,Me)}catch(Te){Me(Te)}finally{te!==null&&ae.types!==null&&(te.types=ae.types),F.T=te}},ft.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},ft.use=function(L){return F.H.use(L)},ft.useActionState=function(L,te,ae){return F.H.useActionState(L,te,ae)},ft.useCallback=function(L,te){return F.H.useCallback(L,te)},ft.useContext=function(L){return F.H.useContext(L)},ft.useDebugValue=function(){},ft.useDeferredValue=function(L,te){return F.H.useDeferredValue(L,te)},ft.useEffect=function(L,te){return F.H.useEffect(L,te)},ft.useEffectEvent=function(L){return F.H.useEffectEvent(L)},ft.useId=function(){return F.H.useId()},ft.useImperativeHandle=function(L,te,ae){return F.H.useImperativeHandle(L,te,ae)},ft.useInsertionEffect=function(L,te){return F.H.useInsertionEffect(L,te)},ft.useLayoutEffect=function(L,te){return F.H.useLayoutEffect(L,te)},ft.useMemo=function(L,te){return F.H.useMemo(L,te)},ft.useOptimistic=function(L,te){return F.H.useOptimistic(L,te)},ft.useReducer=function(L,te,ae){return F.H.useReducer(L,te,ae)},ft.useRef=function(L){return F.H.useRef(L)},ft.useState=function(L){return F.H.useState(L)},ft.useSyncExternalStore=function(L,te,ae){return F.H.useSyncExternalStore(L,te,ae)},ft.useTransition=function(){return F.H.useTransition()},ft.version="19.2.0",ft}var Gx;function qc(){return Gx||(Gx=1,ap.exports=a2()),ap.exports}var op={exports:{}},Hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx;function o2(){if(Kx)return Hn;Kx=1;var t=qc();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function c(d,h,y){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:d,containerInfo:h,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Hn.createPortal=function(d,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return c(d,h,null,y)},Hn.flushSync=function(d){var h=u.T,y=s.p;try{if(u.T=null,s.p=2,d)return d()}finally{u.T=h,s.p=y,s.d.f()}},Hn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(d,h))},Hn.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Hn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var y=h.as,g=f(y,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,S=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;y==="style"?s.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:S}):y==="script"&&s.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:S,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Hn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var y=f(h.as,h.crossOrigin);s.d.M(d,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(d)},Hn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var y=h.as,g=f(y,h.crossOrigin);s.d.L(d,y,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Hn.preloadModule=function(d,h){if(typeof d=="string")if(h){var y=f(h.as,h.crossOrigin);s.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(d)},Hn.requestFormReset=function(d){s.d.r(d)},Hn.unstable_batchedUpdates=function(d,h){return d(h)},Hn.useFormState=function(d,h,y){return u.H.useFormState(d,h,y)},Hn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Hn.version="19.2.0",Hn}var Xx;function lS(){if(Xx)return op.exports;Xx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),op.exports=o2(),op.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qx;function c2(){if(Qx)return cc;Qx=1;var t=i2(),e=qc(),n=lS();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function c(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function u(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function f(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(c(r)!==r)throw Error(s(188))}function h(r){var i=r.alternate;if(!i){if(i=c(r),i===null)throw Error(s(188));return i!==r?null:r}for(var o=r,l=i;;){var p=o.return;if(p===null)break;var m=p.alternate;if(m===null){if(l=p.return,l!==null){o=l;continue}break}if(p.child===m.child){for(m=p.child;m;){if(m===o)return d(p),r;if(m===l)return d(p),i;m=m.sibling}throw Error(s(188))}if(o.return!==l.return)o=p,l=m;else{for(var w=!1,O=p.child;O;){if(O===o){w=!0,o=p,l=m;break}if(O===l){w=!0,l=p,o=m;break}O=O.sibling}if(!w){for(O=m.child;O;){if(O===o){w=!0,o=m,l=p;break}if(O===l){w=!0,l=m,o=p;break}O=O.sibling}if(!w)throw Error(s(189))}}if(o.alternate!==l)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:i}function y(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=y(r),i!==null)return i;r=r.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),k=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),me=Symbol.for("react.activity"),xe=Symbol.for("react.memo_cache_sentinel"),Se=Symbol.iterator;function Ce(r){return r===null||typeof r!="object"?null:(r=Se&&r[Se]||r["@@iterator"],typeof r=="function"?r:null)}var Ee=Symbol.for("react.client.reference");function be(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===Ee?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case P:return"Profiler";case M:return"StrictMode";case Y:return"Suspense";case W:return"SuspenseList";case me:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case k:return r.displayName||"Context";case D:return(r._context.displayName||"Context")+".Consumer";case j:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case F:return i=r.displayName||null,i!==null?i:be(r.type)||"Memo";case X:i=r._payload,r=r._init;try{return be(r(i))}catch{}}return null}var Ne=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},Me=[],Ze=-1;function L(r){return{current:r}}function te(r){0>Ze||(r.current=Me[Ze],Me[Ze]=null,Ze--)}function ae(r,i){Ze++,Me[Ze]=r.current,r.current=i}var pe=L(null),ye=L(null),Te=L(null),je=L(null);function xt(r,i){switch(ae(Te,i),ae(ye,r),ae(pe,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?ux(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=ux(i),r=fx(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}te(pe),ae(pe,r)}function I(){te(pe),te(ye),te(Te)}function K(r){r.memoizedState!==null&&ae(je,r);var i=pe.current,o=fx(i,r.type);i!==o&&(ae(ye,r),ae(pe,o))}function de(r){ye.current===r&&(te(pe),te(ye)),je.current===r&&(te(je),rc._currentValue=G)}var Le,$e;function ze(r){if(Le===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Le=i&&i[1]||"",$e=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Le+r+$e}var bt=!1;function gt(r,i){if(!r||bt)return"";bt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(se){var ee=se}Reflect.construct(r,[],he)}else{try{he.call()}catch(se){ee=se}r.call(he.prototype)}}else{try{throw Error()}catch(se){ee=se}(he=r())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(se){if(se&&ee&&typeof se.stack=="string")return[se.stack,ee.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),w=m[0],O=m[1];if(w&&O){var z=w.split(`
`),J=O.split(`
`);for(p=l=0;l<z.length&&!z[l].includes("DetermineComponentFrameRoot");)l++;for(;p<J.length&&!J[p].includes("DetermineComponentFrameRoot");)p++;if(l===z.length||p===J.length)for(l=z.length-1,p=J.length-1;1<=l&&0<=p&&z[l]!==J[p];)p--;for(;1<=l&&0<=p;l--,p--)if(z[l]!==J[p]){if(l!==1||p!==1)do if(l--,p--,0>p||z[l]!==J[p]){var ce=`
`+z[l].replace(" at new "," at ");return r.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",r.displayName)),ce}while(1<=l&&0<=p);break}}}finally{bt=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?ze(o):""}function qt(r,i){switch(r.tag){case 26:case 27:case 5:return ze(r.type);case 16:return ze("Lazy");case 13:return r.child!==i&&i!==null?ze("Suspense Fallback"):ze("Suspense");case 19:return ze("SuspenseList");case 0:case 15:return gt(r.type,!1);case 11:return gt(r.type.render,!1);case 1:return gt(r.type,!0);case 31:return ze("Activity");default:return""}}function St(r){try{var i="",o=null;do i+=qt(r,o),o=r,r=r.return;while(r);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,Ot=t.unstable_scheduleCallback,Ft=t.unstable_cancelCallback,Pn=t.unstable_shouldYield,it=t.unstable_requestPaint,lt=t.unstable_now,Yt=t.unstable_getCurrentPriorityLevel,Rn=t.unstable_ImmediatePriority,Yn=t.unstable_UserBlockingPriority,An=t.unstable_NormalPriority,jr=t.unstable_LowPriority,Qs=t.unstable_IdlePriority,Zs=t.log,Js=t.unstable_setDisableYieldValue,Gn=null,Qt=null;function vn(r){if(typeof Zs=="function"&&Js(r),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Gn,r)}catch{}}var hn=Math.clz32?Math.clz32:Qr,xs=Math.log,Xr=Math.LN2;function Qr(r){return r>>>=0,r===0?32:31-(xs(r)/Xr|0)|0}var Zr=256,bs=262144,Ws=4194304;function Lr(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Bn(r,i,o){var l=r.pendingLanes;if(l===0)return 0;var p=0,m=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var O=l&134217727;return O!==0?(l=O&~m,l!==0?p=Lr(l):(w&=O,w!==0?p=Lr(w):o||(o=O&~r,o!==0&&(p=Lr(o))))):(O=l&~m,O!==0?p=Lr(O):w!==0?p=Lr(w):o||(o=l&~r,o!==0&&(p=Lr(o)))),p===0?0:i!==0&&i!==p&&(i&m)===0&&(m=p&-p,o=i&-i,m>=o||m===32&&(o&4194048)!==0)?i:p}function Kn(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Jr(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ss(){var r=Ws;return Ws<<=1,(Ws&62914560)===0&&(Ws=4194304),r}function Wr(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function Ur(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function xo(r,i,o,l,p,m){var w=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var O=r.entanglements,z=r.expirationTimes,J=r.hiddenUpdates;for(o=w&~o;0<o;){var ce=31-hn(o),he=1<<ce;O[ce]=0,z[ce]=-1;var ee=J[ce];if(ee!==null)for(J[ce]=null,ce=0;ce<ee.length;ce++){var se=ee[ce];se!==null&&(se.lane&=-536870913)}o&=~he}l!==0&&Z(r,l,0),m!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=m&~(w&~i))}function Z(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var l=31-hn(i);r.entangledLanes|=i,r.entanglements[l]=r.entanglements[l]|1073741824|o&261930}function we(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var l=31-hn(o),p=1<<l;p&i|r[l]&i&&(r[l]|=i),o&=~p}}function _(r,i){var o=i&-i;return o=(o&42)!==0?1:R(o),(o&(r.suspendedLanes|i))!==0?0:o}function R(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function A(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function x(){var r=ie.p;return r!==0?r:(r=window.event,r===void 0?32:kx(r.type))}function N(r,i){var o=ie.p;try{return ie.p=r,i()}finally{ie.p=o}}var $=Math.random().toString(36).slice(2),V="__reactFiber$"+$,oe="__reactProps$"+$,_e="__reactContainer$"+$,Ie="__reactEvents$"+$,Oe="__reactListeners$"+$,Mt="__reactHandles$"+$,De="__reactResources$"+$,Je="__reactMarker$"+$;function nt(r){delete r[V],delete r[oe],delete r[Ie],delete r[Oe],delete r[Mt]}function st(r){var i=r[V];if(i)return i;for(var o=r.parentNode;o;){if(i=o[_e]||o[V]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=vx(r);r!==null;){if(o=r[V])return o;r=vx(r)}return i}r=o,o=r.parentNode}return null}function rt(r){if(r=r[V]||r[_e]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function We(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function et(r){var i=r[De];return i||(i=r[De]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Be(r){r[Je]=!0}var Ue=new Set,Ke={};function Re(r,i){Pe(r,i),Pe(r+"Capture",i)}function Pe(r,i){for(Ke[r]=i,r=0;r<i.length;r++)Ue.add(i[r])}var Ve=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ae={},ne={};function re(r){return Tt.call(ne,r)?!0:Tt.call(Ae,r)?!1:Ve.test(r)?ne[r]=!0:(Ae[r]=!0,!1)}function ve(r,i,o){if(re(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function fe(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function le(r,i,o,l){if(l===null)r.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+l)}}function ge(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Xe(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ut(r,i,o){var l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,m=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return p.call(this)},set:function(w){o=""+w,m.call(this,w)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function ot(r){if(!r._valueTracker){var i=Xe(r)?"checked":"value";r._valueTracker=ut(r,i,""+r[i])}}function ct(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),l="";return r&&(l=Xe(r)?r.checked?"true":"false":r.value),r=l,r!==o?(i.setValue(r),!0):!1}function U(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var pt=/[\n"\\]/g;function at(r){return r.replace(pt,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function wt(r,i,o,l,p,m,w,O){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),i!=null?w==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+ge(i)):r.value!==""+ge(i)&&(r.value=""+ge(i)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),i!=null?_t(r,w,ge(i)):o!=null?_t(r,w,ge(o)):l!=null&&r.removeAttribute("value"),p==null&&m!=null&&(r.defaultChecked=!!m),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.name=""+ge(O):r.removeAttribute("name")}function dt(r,i,o,l,p,m,w,O){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),i!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){ot(r);return}o=o!=null?""+ge(o):"",i=i!=null?""+ge(i):o,O||i===r.value||(r.value=i),r.defaultValue=i}l=l??p,l=typeof l!="function"&&typeof l!="symbol"&&!!l,r.checked=O?r.checked:!!l,r.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w),ot(r)}function _t(r,i,o){i==="number"&&U(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function mt(r,i,o,l){if(r=r.options,i){i={};for(var p=0;p<o.length;p++)i["$"+o[p]]=!0;for(o=0;o<r.length;o++)p=i.hasOwnProperty("$"+r[o].value),r[o].selected!==p&&(r[o].selected=p),p&&l&&(r[o].defaultSelected=!0)}else{for(o=""+ge(o),i=null,p=0;p<r.length;p++){if(r[p].value===o){r[p].selected=!0,l&&(r[p].defaultSelected=!0);return}i!==null||r[p].disabled||(i=r[p])}i!==null&&(i.selected=!0)}}function rn(r,i,o){if(i!=null&&(i=""+ge(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+ge(o):""}function Dt(r,i,o,l){if(i==null){if(l!=null){if(o!=null)throw Error(s(92));if(Ne(l)){if(1<l.length)throw Error(s(93));l=l[0]}o=l}o==null&&(o=""),i=o}o=ge(i),r.defaultValue=o,l=r.textContent,l===o&&l!==""&&l!==null&&(r.value=l),ot(r)}function Ht(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var sn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jt(r,i,o){var l=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?l?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":l?r.setProperty(i,o):typeof o!="number"||o===0||sn.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function cn(r,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,o!=null){for(var l in o)!o.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="");for(var p in i)l=i[p],i.hasOwnProperty(p)&&o[p]!==l&&Jt(r,p,l)}else for(var m in i)i.hasOwnProperty(m)&&Jt(r,m,i[m])}function xn(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wc(r){return Dn.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function _s(){}var Wf=null;function ed(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ma=null,ya=null;function lg(r){var i=rt(r);if(i&&(r=i.stateNode)){var o=r[oe]||null;e:switch(r=i.stateNode,i.type){case"input":if(wt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+at(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var l=o[i];if(l!==r&&l.form===r.form){var p=l[oe]||null;if(!p)throw Error(s(90));wt(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<o.length;i++)l=o[i],l.form===r.form&&ct(l)}break e;case"textarea":rn(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&mt(r,!!o.multiple,i,!1)}}}var td=!1;function ug(r,i,o){if(td)return r(i,o);td=!0;try{var l=r(i);return l}finally{if(td=!1,(ma!==null||ya!==null)&&(Bl(),ma&&(i=ma,r=ya,ya=ma=null,lg(i),r)))for(i=0;i<r.length;i++)lg(r[i])}}function bo(r,i){var o=r.stateNode;if(o===null)return null;var l=o[oe]||null;if(l===null)return null;o=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(r=r.type,l=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!l;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nd=!1;if(ws)try{var So={};Object.defineProperty(So,"passive",{get:function(){nd=!0}}),window.addEventListener("test",So,So),window.removeEventListener("test",So,So)}catch{nd=!1}var ei=null,rd=null,el=null;function fg(){if(el)return el;var r,i=rd,o=i.length,l,p="value"in ei?ei.value:ei.textContent,m=p.length;for(r=0;r<o&&i[r]===p[r];r++);var w=o-r;for(l=1;l<=w&&i[o-l]===p[m-l];l++);return el=p.slice(r,1<l?1-l:void 0)}function tl(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function nl(){return!0}function dg(){return!1}function tr(r){function i(o,l,p,m,w){this._reactName=o,this._targetInst=p,this.type=l,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var O in r)r.hasOwnProperty(O)&&(o=r[O],this[O]=o?o(m):m[O]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?nl:dg,this.isPropagationStopped=dg,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),i}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rl=tr(Ni),_o=g({},Ni,{view:0,detail:0}),eT=tr(_o),sd,id,wo,sl=g({},_o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:od,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==wo&&(wo&&r.type==="mousemove"?(sd=r.screenX-wo.screenX,id=r.screenY-wo.screenY):id=sd=0,wo=r),sd)},movementY:function(r){return"movementY"in r?r.movementY:id}}),hg=tr(sl),tT=g({},sl,{dataTransfer:0}),nT=tr(tT),rT=g({},_o,{relatedTarget:0}),ad=tr(rT),sT=g({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),iT=tr(sT),aT=g({},Ni,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),oT=tr(aT),cT=g({},Ni,{data:0}),pg=tr(cT),lT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dT(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=fT[r])?!!i[r]:!1}function od(){return dT}var hT=g({},_o,{key:function(r){if(r.key){var i=lT[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=tl(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?uT[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:od,charCode:function(r){return r.type==="keypress"?tl(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?tl(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),pT=tr(hT),mT=g({},sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mg=tr(mT),yT=g({},_o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:od}),gT=tr(yT),vT=g({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),xT=tr(vT),bT=g({},sl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ST=tr(bT),_T=g({},Ni,{newState:0,oldState:0}),wT=tr(_T),CT=[9,13,27,32],cd=ws&&"CompositionEvent"in window,Co=null;ws&&"documentMode"in document&&(Co=document.documentMode);var ET=ws&&"TextEvent"in window&&!Co,yg=ws&&(!cd||Co&&8<Co&&11>=Co),gg=" ",vg=!1;function xg(r,i){switch(r){case"keyup":return CT.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ga=!1;function TT(r,i){switch(r){case"compositionend":return bg(i);case"keypress":return i.which!==32?null:(vg=!0,gg);case"textInput":return r=i.data,r===gg&&vg?null:r;default:return null}}function RT(r,i){if(ga)return r==="compositionend"||!cd&&xg(r,i)?(r=fg(),el=rd=ei=null,ga=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return yg&&i.locale!=="ko"?null:i.data;default:return null}}var AT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sg(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!AT[r.type]:i==="textarea"}function _g(r,i,o,l){ma?ya?ya.push(l):ya=[l]:ma=l,i=Gl(i,"onChange"),0<i.length&&(o=new rl("onChange","change",null,o,l),r.push({event:o,listeners:i}))}var Eo=null,To=null;function OT(r){sx(r,0)}function il(r){var i=We(r);if(ct(i))return r}function wg(r,i){if(r==="change")return i}var Cg=!1;if(ws){var ld;if(ws){var ud="oninput"in document;if(!ud){var Eg=document.createElement("div");Eg.setAttribute("oninput","return;"),ud=typeof Eg.oninput=="function"}ld=ud}else ld=!1;Cg=ld&&(!document.documentMode||9<document.documentMode)}function Tg(){Eo&&(Eo.detachEvent("onpropertychange",Rg),To=Eo=null)}function Rg(r){if(r.propertyName==="value"&&il(To)){var i=[];_g(i,To,r,ed(r)),ug(OT,i)}}function MT(r,i,o){r==="focusin"?(Tg(),Eo=i,To=o,Eo.attachEvent("onpropertychange",Rg)):r==="focusout"&&Tg()}function PT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return il(To)}function NT(r,i){if(r==="click")return il(i)}function DT(r,i){if(r==="input"||r==="change")return il(i)}function kT(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var fr=typeof Object.is=="function"?Object.is:kT;function Ro(r,i){if(fr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),l=Object.keys(i);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var p=o[l];if(!Tt.call(i,p)||!fr(r[p],i[p]))return!1}return!0}function Ag(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Og(r,i){var o=Ag(r);r=0;for(var l;o;){if(o.nodeType===3){if(l=r+o.textContent.length,r<=i&&l>=i)return{node:o,offset:i-r};r=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ag(o)}}function Mg(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Mg(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Pg(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=U(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=U(r.document)}return i}function fd(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var jT=ws&&"documentMode"in document&&11>=document.documentMode,va=null,dd=null,Ao=null,hd=!1;function Ng(r,i,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;hd||va==null||va!==U(l)||(l=va,"selectionStart"in l&&fd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ao&&Ro(Ao,l)||(Ao=l,l=Gl(dd,"onSelect"),0<l.length&&(i=new rl("onSelect","select",null,i,o),r.push({event:i,listeners:l}),i.target=va)))}function Di(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var xa={animationend:Di("Animation","AnimationEnd"),animationiteration:Di("Animation","AnimationIteration"),animationstart:Di("Animation","AnimationStart"),transitionrun:Di("Transition","TransitionRun"),transitionstart:Di("Transition","TransitionStart"),transitioncancel:Di("Transition","TransitionCancel"),transitionend:Di("Transition","TransitionEnd")},pd={},Dg={};ws&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function ki(r){if(pd[r])return pd[r];if(!xa[r])return r;var i=xa[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in Dg)return pd[r]=i[o];return r}var kg=ki("animationend"),jg=ki("animationiteration"),Lg=ki("animationstart"),LT=ki("transitionrun"),UT=ki("transitionstart"),zT=ki("transitioncancel"),Ug=ki("transitionend"),zg=new Map,md="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");md.push("scrollEnd");function zr(r,i){zg.set(r,i),Re(i,[r])}var al=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},wr=[],ba=0,yd=0;function ol(){for(var r=ba,i=yd=ba=0;i<r;){var o=wr[i];wr[i++]=null;var l=wr[i];wr[i++]=null;var p=wr[i];wr[i++]=null;var m=wr[i];if(wr[i++]=null,l!==null&&p!==null){var w=l.pending;w===null?p.next=p:(p.next=w.next,w.next=p),l.pending=p}m!==0&&Ig(o,p,m)}}function cl(r,i,o,l){wr[ba++]=r,wr[ba++]=i,wr[ba++]=o,wr[ba++]=l,yd|=l,r.lanes|=l,r=r.alternate,r!==null&&(r.lanes|=l)}function gd(r,i,o,l){return cl(r,i,o,l),ll(r)}function ji(r,i){return cl(r,null,null,i),ll(r)}function Ig(r,i,o){r.lanes|=o;var l=r.alternate;l!==null&&(l.lanes|=o);for(var p=!1,m=r.return;m!==null;)m.childLanes|=o,l=m.alternate,l!==null&&(l.childLanes|=o),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(p=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,p&&i!==null&&(p=31-hn(o),r=m.hiddenUpdates,l=r[p],l===null?r[p]=[i]:l.push(i),i.lane=o|536870912),m):null}function ll(r){if(50<Qo)throw Qo=0,Th=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Sa={};function IT(r,i,o,l){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(r,i,o,l){return new IT(r,i,o,l)}function vd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Cs(r,i){var o=r.alternate;return o===null?(o=dr(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Bg(r,i){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function ul(r,i,o,l,p,m){var w=0;if(l=r,typeof r=="function")vd(r)&&(w=1);else if(typeof r=="string")w=qR(r,o,pe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case me:return r=dr(31,o,i,p),r.elementType=me,r.lanes=m,r;case E:return Li(o.children,p,m,i);case M:w=8,p|=24;break;case P:return r=dr(12,o,i,p|2),r.elementType=P,r.lanes=m,r;case Y:return r=dr(13,o,i,p),r.elementType=Y,r.lanes=m,r;case W:return r=dr(19,o,i,p),r.elementType=W,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:w=10;break e;case D:w=9;break e;case j:w=11;break e;case F:w=14;break e;case X:w=16,l=null;break e}w=29,o=Error(s(130,r===null?"null":typeof r,"")),l=null}return i=dr(w,o,i,p),i.elementType=r,i.type=l,i.lanes=m,i}function Li(r,i,o,l){return r=dr(7,r,l,i),r.lanes=o,r}function xd(r,i,o){return r=dr(6,r,null,i),r.lanes=o,r}function Hg(r){var i=dr(18,null,null,0);return i.stateNode=r,i}function bd(r,i,o){return i=dr(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var $g=new WeakMap;function Cr(r,i){if(typeof r=="object"&&r!==null){var o=$g.get(r);return o!==void 0?o:(i={value:r,source:i,stack:St(i)},$g.set(r,i),i)}return{value:r,source:i,stack:St(i)}}var _a=[],wa=0,fl=null,Oo=0,Er=[],Tr=0,ti=null,es=1,ts="";function Es(r,i){_a[wa++]=Oo,_a[wa++]=fl,fl=r,Oo=i}function Vg(r,i,o){Er[Tr++]=es,Er[Tr++]=ts,Er[Tr++]=ti,ti=r;var l=es;r=ts;var p=32-hn(l)-1;l&=~(1<<p),o+=1;var m=32-hn(i)+p;if(30<m){var w=p-p%5;m=(l&(1<<w)-1).toString(32),l>>=w,p-=w,es=1<<32-hn(i)+p|o<<p|l,ts=m+r}else es=1<<m|o<<p|l,ts=r}function Sd(r){r.return!==null&&(Es(r,1),Vg(r,1,0))}function _d(r){for(;r===fl;)fl=_a[--wa],_a[wa]=null,Oo=_a[--wa],_a[wa]=null;for(;r===ti;)ti=Er[--Tr],Er[Tr]=null,ts=Er[--Tr],Er[Tr]=null,es=Er[--Tr],Er[Tr]=null}function qg(r,i){Er[Tr++]=es,Er[Tr++]=ts,Er[Tr++]=ti,es=i.id,ts=i.overflow,ti=r}var jn=null,Wt=null,Pt=!1,ni=null,Rr=!1,wd=Error(s(519));function ri(r){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mo(Cr(i,r)),wd}function Fg(r){var i=r.stateNode,o=r.type,l=r.memoizedProps;switch(i[V]=r,i[oe]=l,o){case"dialog":Et("cancel",i),Et("close",i);break;case"iframe":case"object":case"embed":Et("load",i);break;case"video":case"audio":for(o=0;o<Jo.length;o++)Et(Jo[o],i);break;case"source":Et("error",i);break;case"img":case"image":case"link":Et("error",i),Et("load",i);break;case"details":Et("toggle",i);break;case"input":Et("invalid",i),dt(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Et("invalid",i);break;case"textarea":Et("invalid",i),Dt(i,l.value,l.defaultValue,l.children)}o=l.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||l.suppressHydrationWarning===!0||cx(i.textContent,o)?(l.popover!=null&&(Et("beforetoggle",i),Et("toggle",i)),l.onScroll!=null&&Et("scroll",i),l.onScrollEnd!=null&&Et("scrollend",i),l.onClick!=null&&(i.onclick=_s),i=!0):i=!1,i||ri(r,!0)}function Yg(r){for(jn=r.return;jn;)switch(jn.tag){case 5:case 31:case 13:Rr=!1;return;case 27:case 3:Rr=!0;return;default:jn=jn.return}}function Ca(r){if(r!==jn)return!1;if(!Pt)return Yg(r),Pt=!0,!1;var i=r.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Hh(r.type,r.memoizedProps)),o=!o),o&&Wt&&ri(r),Yg(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));Wt=gx(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));Wt=gx(r)}else i===27?(i=Wt,gi(r.type)?(r=Yh,Yh=null,Wt=r):Wt=i):Wt=jn?Or(r.stateNode.nextSibling):null;return!0}function Ui(){Wt=jn=null,Pt=!1}function Cd(){var r=ni;return r!==null&&(ir===null?ir=r:ir.push.apply(ir,r),ni=null),r}function Mo(r){ni===null?ni=[r]:ni.push(r)}var Ed=L(null),zi=null,Ts=null;function si(r,i,o){ae(Ed,i._currentValue),i._currentValue=o}function Rs(r){r._currentValue=Ed.current,te(Ed)}function Td(r,i,o){for(;r!==null;){var l=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),r===o)break;r=r.return}}function Rd(r,i,o,l){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var m=p.dependencies;if(m!==null){var w=p.child;m=m.firstContext;e:for(;m!==null;){var O=m;m=p;for(var z=0;z<i.length;z++)if(O.context===i[z]){m.lanes|=o,O=m.alternate,O!==null&&(O.lanes|=o),Td(m.return,o,r),l||(w=null);break e}m=O.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(s(341));w.lanes|=o,m=w.alternate,m!==null&&(m.lanes|=o),Td(w,o,r),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===r){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function Ea(r,i,o,l){r=null;for(var p=i,m=!1;p!==null;){if(!m){if((p.flags&524288)!==0)m=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var O=p.type;fr(p.pendingProps.value,w.value)||(r!==null?r.push(O):r=[O])}}else if(p===je.current){if(w=p.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(rc):r=[rc])}p=p.return}r!==null&&Rd(i,r,o,l),i.flags|=262144}function dl(r){for(r=r.firstContext;r!==null;){if(!fr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ii(r){zi=r,Ts=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ln(r){return Gg(zi,r)}function hl(r,i){return zi===null&&Ii(r),Gg(r,i)}function Gg(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Ts===null){if(r===null)throw Error(s(308));Ts=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Ts=Ts.next=i;return o}var BT=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,l){r.push(l)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},HT=t.unstable_scheduleCallback,$T=t.unstable_NormalPriority,bn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ad(){return{controller:new BT,data:new Map,refCount:0}}function Po(r){r.refCount--,r.refCount===0&&HT($T,function(){r.controller.abort()})}var No=null,Od=0,Ta=0,Ra=null;function VT(r,i){if(No===null){var o=No=[];Od=0,Ta=Nh(),Ra={status:"pending",value:void 0,then:function(l){o.push(l)}}}return Od++,i.then(Kg,Kg),i}function Kg(){if(--Od===0&&No!==null){Ra!==null&&(Ra.status="fulfilled");var r=No;No=null,Ta=0,Ra=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function qT(r,i){var o=[],l={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return r.then(function(){l.status="fulfilled",l.value=i;for(var p=0;p<o.length;p++)(0,o[p])(i)},function(p){for(l.status="rejected",l.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),l}var Xg=H.S;H.S=function(r,i){Nv=lt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&VT(r,i),Xg!==null&&Xg(r,i)};var Bi=L(null);function Md(){var r=Bi.current;return r!==null?r:Zt.pooledCache}function pl(r,i){i===null?ae(Bi,Bi.current):ae(Bi,i.pool)}function Qg(){var r=Md();return r===null?null:{parent:bn._currentValue,pool:r}}var Aa=Error(s(460)),Pd=Error(s(474)),ml=Error(s(542)),yl={then:function(){}};function Zg(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Jg(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(_s,_s),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,e0(r),r;default:if(typeof i.status=="string")i.then(_s,_s);else{if(r=Zt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(l){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=l}},function(l){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,e0(r),r}throw $i=i,Aa}}function Hi(r){try{var i=r._init;return i(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?($i=o,Aa):o}}var $i=null;function Wg(){if($i===null)throw Error(s(459));var r=$i;return $i=null,r}function e0(r){if(r===Aa||r===ml)throw Error(s(483))}var Oa=null,Do=0;function gl(r){var i=Do;return Do+=1,Oa===null&&(Oa=[]),Jg(Oa,r,i)}function ko(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function vl(r,i){throw i.$$typeof===v?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function t0(r){function i(q,B){if(r){var Q=q.deletions;Q===null?(q.deletions=[B],q.flags|=16):Q.push(B)}}function o(q,B){if(!r)return null;for(;B!==null;)i(q,B),B=B.sibling;return null}function l(q){for(var B=new Map;q!==null;)q.key!==null?B.set(q.key,q):B.set(q.index,q),q=q.sibling;return B}function p(q,B){return q=Cs(q,B),q.index=0,q.sibling=null,q}function m(q,B,Q){return q.index=Q,r?(Q=q.alternate,Q!==null?(Q=Q.index,Q<B?(q.flags|=67108866,B):Q):(q.flags|=67108866,B)):(q.flags|=1048576,B)}function w(q){return r&&q.alternate===null&&(q.flags|=67108866),q}function O(q,B,Q,ue){return B===null||B.tag!==6?(B=xd(Q,q.mode,ue),B.return=q,B):(B=p(B,Q),B.return=q,B)}function z(q,B,Q,ue){var Qe=Q.type;return Qe===E?ce(q,B,Q.props.children,ue,Q.key):B!==null&&(B.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===X&&Hi(Qe)===B.type)?(B=p(B,Q.props),ko(B,Q),B.return=q,B):(B=ul(Q.type,Q.key,Q.props,null,q.mode,ue),ko(B,Q),B.return=q,B)}function J(q,B,Q,ue){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=bd(Q,q.mode,ue),B.return=q,B):(B=p(B,Q.children||[]),B.return=q,B)}function ce(q,B,Q,ue,Qe){return B===null||B.tag!==7?(B=Li(Q,q.mode,ue,Qe),B.return=q,B):(B=p(B,Q),B.return=q,B)}function he(q,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=xd(""+B,q.mode,Q),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return Q=ul(B.type,B.key,B.props,null,q.mode,Q),ko(Q,B),Q.return=q,Q;case C:return B=bd(B,q.mode,Q),B.return=q,B;case X:return B=Hi(B),he(q,B,Q)}if(Ne(B)||Ce(B))return B=Li(B,q.mode,Q,null),B.return=q,B;if(typeof B.then=="function")return he(q,gl(B),Q);if(B.$$typeof===k)return he(q,hl(q,B),Q);vl(q,B)}return null}function ee(q,B,Q,ue){var Qe=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Qe!==null?null:O(q,B,""+Q,ue);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:return Q.key===Qe?z(q,B,Q,ue):null;case C:return Q.key===Qe?J(q,B,Q,ue):null;case X:return Q=Hi(Q),ee(q,B,Q,ue)}if(Ne(Q)||Ce(Q))return Qe!==null?null:ce(q,B,Q,ue,null);if(typeof Q.then=="function")return ee(q,B,gl(Q),ue);if(Q.$$typeof===k)return ee(q,B,hl(q,Q),ue);vl(q,Q)}return null}function se(q,B,Q,ue,Qe){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return q=q.get(Q)||null,O(B,q,""+ue,Qe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case S:return q=q.get(ue.key===null?Q:ue.key)||null,z(B,q,ue,Qe);case C:return q=q.get(ue.key===null?Q:ue.key)||null,J(B,q,ue,Qe);case X:return ue=Hi(ue),se(q,B,Q,ue,Qe)}if(Ne(ue)||Ce(ue))return q=q.get(Q)||null,ce(B,q,ue,Qe,null);if(typeof ue.then=="function")return se(q,B,Q,gl(ue),Qe);if(ue.$$typeof===k)return se(q,B,Q,hl(B,ue),Qe);vl(B,ue)}return null}function He(q,B,Q,ue){for(var Qe=null,kt=null,Ge=B,yt=B=0,At=null;Ge!==null&&yt<Q.length;yt++){Ge.index>yt?(At=Ge,Ge=null):At=Ge.sibling;var jt=ee(q,Ge,Q[yt],ue);if(jt===null){Ge===null&&(Ge=At);break}r&&Ge&&jt.alternate===null&&i(q,Ge),B=m(jt,B,yt),kt===null?Qe=jt:kt.sibling=jt,kt=jt,Ge=At}if(yt===Q.length)return o(q,Ge),Pt&&Es(q,yt),Qe;if(Ge===null){for(;yt<Q.length;yt++)Ge=he(q,Q[yt],ue),Ge!==null&&(B=m(Ge,B,yt),kt===null?Qe=Ge:kt.sibling=Ge,kt=Ge);return Pt&&Es(q,yt),Qe}for(Ge=l(Ge);yt<Q.length;yt++)At=se(Ge,q,yt,Q[yt],ue),At!==null&&(r&&At.alternate!==null&&Ge.delete(At.key===null?yt:At.key),B=m(At,B,yt),kt===null?Qe=At:kt.sibling=At,kt=At);return r&&Ge.forEach(function(_i){return i(q,_i)}),Pt&&Es(q,yt),Qe}function tt(q,B,Q,ue){if(Q==null)throw Error(s(151));for(var Qe=null,kt=null,Ge=B,yt=B=0,At=null,jt=Q.next();Ge!==null&&!jt.done;yt++,jt=Q.next()){Ge.index>yt?(At=Ge,Ge=null):At=Ge.sibling;var _i=ee(q,Ge,jt.value,ue);if(_i===null){Ge===null&&(Ge=At);break}r&&Ge&&_i.alternate===null&&i(q,Ge),B=m(_i,B,yt),kt===null?Qe=_i:kt.sibling=_i,kt=_i,Ge=At}if(jt.done)return o(q,Ge),Pt&&Es(q,yt),Qe;if(Ge===null){for(;!jt.done;yt++,jt=Q.next())jt=he(q,jt.value,ue),jt!==null&&(B=m(jt,B,yt),kt===null?Qe=jt:kt.sibling=jt,kt=jt);return Pt&&Es(q,yt),Qe}for(Ge=l(Ge);!jt.done;yt++,jt=Q.next())jt=se(Ge,q,yt,jt.value,ue),jt!==null&&(r&&jt.alternate!==null&&Ge.delete(jt.key===null?yt:jt.key),B=m(jt,B,yt),kt===null?Qe=jt:kt.sibling=jt,kt=jt);return r&&Ge.forEach(function(t2){return i(q,t2)}),Pt&&Es(q,yt),Qe}function Xt(q,B,Q,ue){if(typeof Q=="object"&&Q!==null&&Q.type===E&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:e:{for(var Qe=Q.key;B!==null;){if(B.key===Qe){if(Qe=Q.type,Qe===E){if(B.tag===7){o(q,B.sibling),ue=p(B,Q.props.children),ue.return=q,q=ue;break e}}else if(B.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===X&&Hi(Qe)===B.type){o(q,B.sibling),ue=p(B,Q.props),ko(ue,Q),ue.return=q,q=ue;break e}o(q,B);break}else i(q,B);B=B.sibling}Q.type===E?(ue=Li(Q.props.children,q.mode,ue,Q.key),ue.return=q,q=ue):(ue=ul(Q.type,Q.key,Q.props,null,q.mode,ue),ko(ue,Q),ue.return=q,q=ue)}return w(q);case C:e:{for(Qe=Q.key;B!==null;){if(B.key===Qe)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){o(q,B.sibling),ue=p(B,Q.children||[]),ue.return=q,q=ue;break e}else{o(q,B);break}else i(q,B);B=B.sibling}ue=bd(Q,q.mode,ue),ue.return=q,q=ue}return w(q);case X:return Q=Hi(Q),Xt(q,B,Q,ue)}if(Ne(Q))return He(q,B,Q,ue);if(Ce(Q)){if(Qe=Ce(Q),typeof Qe!="function")throw Error(s(150));return Q=Qe.call(Q),tt(q,B,Q,ue)}if(typeof Q.then=="function")return Xt(q,B,gl(Q),ue);if(Q.$$typeof===k)return Xt(q,B,hl(q,Q),ue);vl(q,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,B!==null&&B.tag===6?(o(q,B.sibling),ue=p(B,Q),ue.return=q,q=ue):(o(q,B),ue=xd(Q,q.mode,ue),ue.return=q,q=ue),w(q)):o(q,B)}return function(q,B,Q,ue){try{Do=0;var Qe=Xt(q,B,Q,ue);return Oa=null,Qe}catch(Ge){if(Ge===Aa||Ge===ml)throw Ge;var kt=dr(29,Ge,null,q.mode);return kt.lanes=ue,kt.return=q,kt}finally{}}}var Vi=t0(!0),n0=t0(!1),ii=!1;function Nd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dd(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ai(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function oi(r,i,o){var l=r.updateQueue;if(l===null)return null;if(l=l.shared,(Ut&2)!==0){var p=l.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),l.pending=i,i=ll(r),Ig(r,null,o),i}return cl(r,l,i,o),ll(r)}function jo(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var l=i.lanes;l&=r.pendingLanes,o|=l,i.lanes=o,we(r,o)}}function kd(r,i){var o=r.updateQueue,l=r.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var p=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?p=m=w:m=m.next=w,o=o.next}while(o!==null);m===null?p=m=i:m=m.next=i}else p=m=i;o={baseState:l.baseState,firstBaseUpdate:p,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var jd=!1;function Lo(){if(jd){var r=Ra;if(r!==null)throw r}}function Uo(r,i,o,l){jd=!1;var p=r.updateQueue;ii=!1;var m=p.firstBaseUpdate,w=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var z=O,J=z.next;z.next=null,w===null?m=J:w.next=J,w=z;var ce=r.alternate;ce!==null&&(ce=ce.updateQueue,O=ce.lastBaseUpdate,O!==w&&(O===null?ce.firstBaseUpdate=J:O.next=J,ce.lastBaseUpdate=z))}if(m!==null){var he=p.baseState;w=0,ce=J=z=null,O=m;do{var ee=O.lane&-536870913,se=ee!==O.lane;if(se?(Rt&ee)===ee:(l&ee)===ee){ee!==0&&ee===Ta&&(jd=!0),ce!==null&&(ce=ce.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var He=r,tt=O;ee=i;var Xt=o;switch(tt.tag){case 1:if(He=tt.payload,typeof He=="function"){he=He.call(Xt,he,ee);break e}he=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=tt.payload,ee=typeof He=="function"?He.call(Xt,he,ee):He,ee==null)break e;he=g({},he,ee);break e;case 2:ii=!0}}ee=O.callback,ee!==null&&(r.flags|=64,se&&(r.flags|=8192),se=p.callbacks,se===null?p.callbacks=[ee]:se.push(ee))}else se={lane:ee,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ce===null?(J=ce=se,z=he):ce=ce.next=se,w|=ee;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;se=O,O=se.next,se.next=null,p.lastBaseUpdate=se,p.shared.pending=null}}while(!0);ce===null&&(z=he),p.baseState=z,p.firstBaseUpdate=J,p.lastBaseUpdate=ce,m===null&&(p.shared.lanes=0),di|=w,r.lanes=w,r.memoizedState=he}}function r0(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function s0(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)r0(o[r],i)}var Ma=L(null),xl=L(0);function i0(r,i){r=Ls,ae(xl,r),ae(Ma,i),Ls=r|i.baseLanes}function Ld(){ae(xl,Ls),ae(Ma,Ma.current)}function Ud(){Ls=xl.current,te(Ma),te(xl)}var hr=L(null),Ar=null;function ci(r){var i=r.alternate;ae(pn,pn.current&1),ae(hr,r),Ar===null&&(i===null||Ma.current!==null||i.memoizedState!==null)&&(Ar=r)}function zd(r){ae(pn,pn.current),ae(hr,r),Ar===null&&(Ar=r)}function a0(r){r.tag===22?(ae(pn,pn.current),ae(hr,r),Ar===null&&(Ar=r)):li()}function li(){ae(pn,pn.current),ae(hr,hr.current)}function pr(r){te(hr),Ar===r&&(Ar=null),te(pn)}var pn=L(0);function bl(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||qh(o)||Fh(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var As=0,ht=null,Gt=null,Sn=null,Sl=!1,Pa=!1,qi=!1,_l=0,zo=0,Na=null,FT=0;function ln(){throw Error(s(321))}function Id(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!fr(r[o],i[o]))return!1;return!0}function Bd(r,i,o,l,p,m){return As=m,ht=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=r===null||r.memoizedState===null?V0:th,qi=!1,m=o(l,p),qi=!1,Pa&&(m=c0(i,o,l,p)),o0(r),m}function o0(r){H.H=Ho;var i=Gt!==null&&Gt.next!==null;if(As=0,Sn=Gt=ht=null,Sl=!1,zo=0,Na=null,i)throw Error(s(300));r===null||_n||(r=r.dependencies,r!==null&&dl(r)&&(_n=!0))}function c0(r,i,o,l){ht=r;var p=0;do{if(Pa&&(Na=null),zo=0,Pa=!1,25<=p)throw Error(s(301));if(p+=1,Sn=Gt=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}H.H=q0,m=i(o,l)}while(Pa);return m}function YT(){var r=H.H,i=r.useState()[0];return i=typeof i.then=="function"?Io(i):i,r=r.useState()[0],(Gt!==null?Gt.memoizedState:null)!==r&&(ht.flags|=1024),i}function Hd(){var r=_l!==0;return _l=0,r}function $d(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function Vd(r){if(Sl){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Sl=!1}As=0,Sn=Gt=ht=null,Pa=!1,zo=_l=0,Na=null}function Xn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?ht.memoizedState=Sn=r:Sn=Sn.next=r,Sn}function mn(){if(Gt===null){var r=ht.alternate;r=r!==null?r.memoizedState:null}else r=Gt.next;var i=Sn===null?ht.memoizedState:Sn.next;if(i!==null)Sn=i,Gt=r;else{if(r===null)throw ht.alternate===null?Error(s(467)):Error(s(310));Gt=r,r={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},Sn===null?ht.memoizedState=Sn=r:Sn=Sn.next=r}return Sn}function wl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Io(r){var i=zo;return zo+=1,Na===null&&(Na=[]),r=Jg(Na,r,i),i=ht,(Sn===null?i.memoizedState:Sn.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?V0:th),r}function Cl(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Io(r);if(r.$$typeof===k)return Ln(r)}throw Error(s(438,String(r)))}function qd(r){var i=null,o=ht.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var l=ht.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=wl(),ht.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),l=0;l<r;l++)o[l]=xe;return i.index++,o}function Os(r,i){return typeof i=="function"?i(r):i}function El(r){var i=mn();return Fd(i,Gt,r)}function Fd(r,i,o){var l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=o;var p=r.baseQueue,m=l.pending;if(m!==null){if(p!==null){var w=p.next;p.next=m.next,m.next=w}i.baseQueue=p=m,l.pending=null}if(m=r.baseState,p===null)r.memoizedState=m;else{i=p.next;var O=w=null,z=null,J=i,ce=!1;do{var he=J.lane&-536870913;if(he!==J.lane?(Rt&he)===he:(As&he)===he){var ee=J.revertLane;if(ee===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),he===Ta&&(ce=!0);else if((As&ee)===ee){J=J.next,ee===Ta&&(ce=!0);continue}else he={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},z===null?(O=z=he,w=m):z=z.next=he,ht.lanes|=ee,di|=ee;he=J.action,qi&&o(m,he),m=J.hasEagerState?J.eagerState:o(m,he)}else ee={lane:he,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},z===null?(O=z=ee,w=m):z=z.next=ee,ht.lanes|=he,di|=he;J=J.next}while(J!==null&&J!==i);if(z===null?w=m:z.next=O,!fr(m,r.memoizedState)&&(_n=!0,ce&&(o=Ra,o!==null)))throw o;r.memoizedState=m,r.baseState=w,r.baseQueue=z,l.lastRenderedState=m}return p===null&&(l.lanes=0),[r.memoizedState,l.dispatch]}function Yd(r){var i=mn(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var l=o.dispatch,p=o.pending,m=i.memoizedState;if(p!==null){o.pending=null;var w=p=p.next;do m=r(m,w.action),w=w.next;while(w!==p);fr(m,i.memoizedState)||(_n=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),o.lastRenderedState=m}return[m,l]}function l0(r,i,o){var l=ht,p=mn(),m=Pt;if(m){if(o===void 0)throw Error(s(407));o=o()}else o=i();var w=!fr((Gt||p).memoizedState,o);if(w&&(p.memoizedState=o,_n=!0),p=p.queue,Xd(d0.bind(null,l,p,r),[r]),p.getSnapshot!==i||w||Sn!==null&&Sn.memoizedState.tag&1){if(l.flags|=2048,Da(9,{destroy:void 0},f0.bind(null,l,p,o,i),null),Zt===null)throw Error(s(349));m||(As&127)!==0||u0(l,i,o)}return o}function u0(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=ht.updateQueue,i===null?(i=wl(),ht.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function f0(r,i,o,l){i.value=o,i.getSnapshot=l,h0(i)&&p0(r)}function d0(r,i,o){return o(function(){h0(i)&&p0(r)})}function h0(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!fr(r,o)}catch{return!0}}function p0(r){var i=ji(r,2);i!==null&&ar(i,r,2)}function Gd(r){var i=Xn();if(typeof r=="function"){var o=r;if(r=o(),qi){vn(!0);try{o()}finally{vn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:r},i}function m0(r,i,o,l){return r.baseState=o,Fd(r,Gt,typeof l=="function"?l:Os)}function GT(r,i,o,l,p){if(Al(r))throw Error(s(485));if(r=i.action,r!==null){var m={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){m.listeners.push(w)}};H.T!==null?o(!0):m.isTransition=!1,l(m),o=i.pending,o===null?(m.next=i.pending=m,y0(i,m)):(m.next=o.next,i.pending=o.next=m)}}function y0(r,i){var o=i.action,l=i.payload,p=r.state;if(i.isTransition){var m=H.T,w={};H.T=w;try{var O=o(p,l),z=H.S;z!==null&&z(w,O),g0(r,i,O)}catch(J){Kd(r,i,J)}finally{m!==null&&w.types!==null&&(m.types=w.types),H.T=m}}else try{m=o(p,l),g0(r,i,m)}catch(J){Kd(r,i,J)}}function g0(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(l){v0(r,i,l)},function(l){return Kd(r,i,l)}):v0(r,i,o)}function v0(r,i,o){i.status="fulfilled",i.value=o,x0(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,y0(r,o)))}function Kd(r,i,o){var l=r.pending;if(r.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=o,x0(i),i=i.next;while(i!==l)}r.action=null}function x0(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function b0(r,i){return i}function S0(r,i){if(Pt){var o=Zt.formState;if(o!==null){e:{var l=ht;if(Pt){if(Wt){t:{for(var p=Wt,m=Rr;p.nodeType!==8;){if(!m){p=null;break t}if(p=Or(p.nextSibling),p===null){p=null;break t}}m=p.data,p=m==="F!"||m==="F"?p:null}if(p){Wt=Or(p.nextSibling),l=p.data==="F!";break e}}ri(l)}l=!1}l&&(i=o[0])}}return o=Xn(),o.memoizedState=o.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b0,lastRenderedState:i},o.queue=l,o=B0.bind(null,ht,l),l.dispatch=o,l=Gd(!1),m=eh.bind(null,ht,!1,l.queue),l=Xn(),p={state:i,dispatch:null,action:r,pending:null},l.queue=p,o=GT.bind(null,ht,p,m,o),p.dispatch=o,l.memoizedState=r,[i,o,!1]}function _0(r){var i=mn();return w0(i,Gt,r)}function w0(r,i,o){if(i=Fd(r,i,b0)[0],r=El(Os)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Io(i)}catch(w){throw w===Aa?ml:w}else l=i;i=mn();var p=i.queue,m=p.dispatch;return o!==i.memoizedState&&(ht.flags|=2048,Da(9,{destroy:void 0},KT.bind(null,p,o),null)),[l,m,r]}function KT(r,i){r.action=i}function C0(r){var i=mn(),o=Gt;if(o!==null)return w0(i,o,r);mn(),i=i.memoizedState,o=mn();var l=o.queue.dispatch;return o.memoizedState=r,[i,l,!1]}function Da(r,i,o,l){return r={tag:r,create:o,deps:l,inst:i,next:null},i=ht.updateQueue,i===null&&(i=wl(),ht.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(l=o.next,o.next=r,r.next=l,i.lastEffect=r),r}function E0(){return mn().memoizedState}function Tl(r,i,o,l){var p=Xn();ht.flags|=r,p.memoizedState=Da(1|i,{destroy:void 0},o,l===void 0?null:l)}function Rl(r,i,o,l){var p=mn();l=l===void 0?null:l;var m=p.memoizedState.inst;Gt!==null&&l!==null&&Id(l,Gt.memoizedState.deps)?p.memoizedState=Da(i,m,o,l):(ht.flags|=r,p.memoizedState=Da(1|i,m,o,l))}function T0(r,i){Tl(8390656,8,r,i)}function Xd(r,i){Rl(2048,8,r,i)}function XT(r){ht.flags|=4;var i=ht.updateQueue;if(i===null)i=wl(),ht.updateQueue=i,i.events=[r];else{var o=i.events;o===null?i.events=[r]:o.push(r)}}function R0(r){var i=mn().memoizedState;return XT({ref:i,nextImpl:r}),function(){if((Ut&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function A0(r,i){return Rl(4,2,r,i)}function O0(r,i){return Rl(4,4,r,i)}function M0(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function P0(r,i,o){o=o!=null?o.concat([r]):null,Rl(4,4,M0.bind(null,i,r),o)}function Qd(){}function N0(r,i){var o=mn();i=i===void 0?null:i;var l=o.memoizedState;return i!==null&&Id(i,l[1])?l[0]:(o.memoizedState=[r,i],r)}function D0(r,i){var o=mn();i=i===void 0?null:i;var l=o.memoizedState;if(i!==null&&Id(i,l[1]))return l[0];if(l=r(),qi){vn(!0);try{r()}finally{vn(!1)}}return o.memoizedState=[l,i],l}function Zd(r,i,o){return o===void 0||(As&1073741824)!==0&&(Rt&261930)===0?r.memoizedState=i:(r.memoizedState=o,r=kv(),ht.lanes|=r,di|=r,o)}function k0(r,i,o,l){return fr(o,i)?o:Ma.current!==null?(r=Zd(r,o,l),fr(r,i)||(_n=!0),r):(As&42)===0||(As&1073741824)!==0&&(Rt&261930)===0?(_n=!0,r.memoizedState=o):(r=kv(),ht.lanes|=r,di|=r,i)}function j0(r,i,o,l,p){var m=ie.p;ie.p=m!==0&&8>m?m:8;var w=H.T,O={};H.T=O,eh(r,!1,i,o);try{var z=p(),J=H.S;if(J!==null&&J(O,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ce=qT(z,l);Bo(r,i,ce,gr(r))}else Bo(r,i,l,gr(r))}catch(he){Bo(r,i,{then:function(){},status:"rejected",reason:he},gr())}finally{ie.p=m,w!==null&&O.types!==null&&(w.types=O.types),H.T=w}}function QT(){}function Jd(r,i,o,l){if(r.tag!==5)throw Error(s(476));var p=L0(r).queue;j0(r,p,i,G,o===null?QT:function(){return U0(r),o(l)})}function L0(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:G},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function U0(r){var i=L0(r);i.next===null&&(i=r.alternate.memoizedState),Bo(r,i.next.queue,{},gr())}function Wd(){return Ln(rc)}function z0(){return mn().memoizedState}function I0(){return mn().memoizedState}function ZT(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=gr();r=ai(o);var l=oi(i,r,o);l!==null&&(ar(l,i,o),jo(l,i,o)),i={cache:Ad()},r.payload=i;return}i=i.return}}function JT(r,i,o){var l=gr();o={lane:l,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Al(r)?H0(i,o):(o=gd(r,i,o,l),o!==null&&(ar(o,r,l),$0(o,i,l)))}function B0(r,i,o){var l=gr();Bo(r,i,o,l)}function Bo(r,i,o,l){var p={lane:l,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Al(r))H0(i,p);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var w=i.lastRenderedState,O=m(w,o);if(p.hasEagerState=!0,p.eagerState=O,fr(O,w))return cl(r,i,p,0),Zt===null&&ol(),!1}catch{}finally{}if(o=gd(r,i,p,l),o!==null)return ar(o,r,l),$0(o,i,l),!0}return!1}function eh(r,i,o,l){if(l={lane:2,revertLane:Nh(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Al(r)){if(i)throw Error(s(479))}else i=gd(r,o,l,2),i!==null&&ar(i,r,2)}function Al(r){var i=r.alternate;return r===ht||i!==null&&i===ht}function H0(r,i){Pa=Sl=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function $0(r,i,o){if((o&4194048)!==0){var l=i.lanes;l&=r.pendingLanes,o|=l,i.lanes=o,we(r,o)}}var Ho={readContext:Ln,use:Cl,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useLayoutEffect:ln,useInsertionEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useSyncExternalStore:ln,useId:ln,useHostTransitionStatus:ln,useFormState:ln,useActionState:ln,useOptimistic:ln,useMemoCache:ln,useCacheRefresh:ln};Ho.useEffectEvent=ln;var V0={readContext:Ln,use:Cl,useCallback:function(r,i){return Xn().memoizedState=[r,i===void 0?null:i],r},useContext:Ln,useEffect:T0,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,Tl(4194308,4,M0.bind(null,i,r),o)},useLayoutEffect:function(r,i){return Tl(4194308,4,r,i)},useInsertionEffect:function(r,i){Tl(4,2,r,i)},useMemo:function(r,i){var o=Xn();i=i===void 0?null:i;var l=r();if(qi){vn(!0);try{r()}finally{vn(!1)}}return o.memoizedState=[l,i],l},useReducer:function(r,i,o){var l=Xn();if(o!==void 0){var p=o(i);if(qi){vn(!0);try{o(i)}finally{vn(!1)}}}else p=i;return l.memoizedState=l.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},l.queue=r,r=r.dispatch=JT.bind(null,ht,r),[l.memoizedState,r]},useRef:function(r){var i=Xn();return r={current:r},i.memoizedState=r},useState:function(r){r=Gd(r);var i=r.queue,o=B0.bind(null,ht,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:Qd,useDeferredValue:function(r,i){var o=Xn();return Zd(o,r,i)},useTransition:function(){var r=Gd(!1);return r=j0.bind(null,ht,r.queue,!0,!1),Xn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var l=ht,p=Xn();if(Pt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),Zt===null)throw Error(s(349));(Rt&127)!==0||u0(l,i,o)}p.memoizedState=o;var m={value:o,getSnapshot:i};return p.queue=m,T0(d0.bind(null,l,m,r),[r]),l.flags|=2048,Da(9,{destroy:void 0},f0.bind(null,l,m,o,i),null),o},useId:function(){var r=Xn(),i=Zt.identifierPrefix;if(Pt){var o=ts,l=es;o=(l&~(1<<32-hn(l)-1)).toString(32)+o,i="_"+i+"R_"+o,o=_l++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=FT++,i="_"+i+"r_"+o.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:Wd,useFormState:S0,useActionState:S0,useOptimistic:function(r){var i=Xn();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=eh.bind(null,ht,!0,o),o.dispatch=i,[r,i]},useMemoCache:qd,useCacheRefresh:function(){return Xn().memoizedState=ZT.bind(null,ht)},useEffectEvent:function(r){var i=Xn(),o={impl:r};return i.memoizedState=o,function(){if((Ut&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},th={readContext:Ln,use:Cl,useCallback:N0,useContext:Ln,useEffect:Xd,useImperativeHandle:P0,useInsertionEffect:A0,useLayoutEffect:O0,useMemo:D0,useReducer:El,useRef:E0,useState:function(){return El(Os)},useDebugValue:Qd,useDeferredValue:function(r,i){var o=mn();return k0(o,Gt.memoizedState,r,i)},useTransition:function(){var r=El(Os)[0],i=mn().memoizedState;return[typeof r=="boolean"?r:Io(r),i]},useSyncExternalStore:l0,useId:z0,useHostTransitionStatus:Wd,useFormState:_0,useActionState:_0,useOptimistic:function(r,i){var o=mn();return m0(o,Gt,r,i)},useMemoCache:qd,useCacheRefresh:I0};th.useEffectEvent=R0;var q0={readContext:Ln,use:Cl,useCallback:N0,useContext:Ln,useEffect:Xd,useImperativeHandle:P0,useInsertionEffect:A0,useLayoutEffect:O0,useMemo:D0,useReducer:Yd,useRef:E0,useState:function(){return Yd(Os)},useDebugValue:Qd,useDeferredValue:function(r,i){var o=mn();return Gt===null?Zd(o,r,i):k0(o,Gt.memoizedState,r,i)},useTransition:function(){var r=Yd(Os)[0],i=mn().memoizedState;return[typeof r=="boolean"?r:Io(r),i]},useSyncExternalStore:l0,useId:z0,useHostTransitionStatus:Wd,useFormState:C0,useActionState:C0,useOptimistic:function(r,i){var o=mn();return Gt!==null?m0(o,Gt,r,i):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:qd,useCacheRefresh:I0};q0.useEffectEvent=R0;function nh(r,i,o,l){i=r.memoizedState,o=o(l,i),o=o==null?i:g({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var rh={enqueueSetState:function(r,i,o){r=r._reactInternals;var l=gr(),p=ai(l);p.payload=i,o!=null&&(p.callback=o),i=oi(r,p,l),i!==null&&(ar(i,r,l),jo(i,r,l))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var l=gr(),p=ai(l);p.tag=1,p.payload=i,o!=null&&(p.callback=o),i=oi(r,p,l),i!==null&&(ar(i,r,l),jo(i,r,l))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=gr(),l=ai(o);l.tag=2,i!=null&&(l.callback=i),i=oi(r,l,o),i!==null&&(ar(i,r,o),jo(i,r,o))}};function F0(r,i,o,l,p,m,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(l,m,w):i.prototype&&i.prototype.isPureReactComponent?!Ro(o,l)||!Ro(p,m):!0}function Y0(r,i,o,l){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,l),i.state!==r&&rh.enqueueReplaceState(i,i.state,null)}function Fi(r,i){var o=i;if("ref"in i){o={};for(var l in i)l!=="ref"&&(o[l]=i[l])}if(r=r.defaultProps){o===i&&(o=g({},o));for(var p in r)o[p]===void 0&&(o[p]=r[p])}return o}function G0(r){al(r)}function K0(r){console.error(r)}function X0(r){al(r)}function Ol(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Q0(r,i,o){try{var l=r.onCaughtError;l(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function sh(r,i,o){return o=ai(o),o.tag=3,o.payload={element:null},o.callback=function(){Ol(r,i)},o}function Z0(r){return r=ai(r),r.tag=3,r}function J0(r,i,o,l){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var m=l.value;r.payload=function(){return p(m)},r.callback=function(){Q0(i,o,l)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){Q0(i,o,l),typeof p!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var O=l.stack;this.componentDidCatch(l.value,{componentStack:O!==null?O:""})})}function WT(r,i,o,l,p){if(o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=o.alternate,i!==null&&Ea(i,o,p,!0),o=hr.current,o!==null){switch(o.tag){case 31:case 13:return Ar===null?Hl():o.alternate===null&&un===0&&(un=3),o.flags&=-257,o.flags|=65536,o.lanes=p,l===yl?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([l]):i.add(l),Oh(r,l,p)),!1;case 22:return o.flags|=65536,l===yl?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([l]):o.add(l)),Oh(r,l,p)),!1}throw Error(s(435,o.tag))}return Oh(r,l,p),Hl(),!1}if(Pt)return i=hr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,l!==wd&&(r=Error(s(422),{cause:l}),Mo(Cr(r,o)))):(l!==wd&&(i=Error(s(423),{cause:l}),Mo(Cr(i,o))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,l=Cr(l,o),p=sh(r.stateNode,l,p),kd(r,p),un!==4&&(un=2)),!1;var m=Error(s(520),{cause:l});if(m=Cr(m,o),Xo===null?Xo=[m]:Xo.push(m),un!==4&&(un=2),i===null)return!0;l=Cr(l,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=p&-p,o.lanes|=r,r=sh(o.stateNode,l,r),kd(o,r),!1;case 1:if(i=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(hi===null||!hi.has(m))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Z0(p),J0(p,r,o,l),kd(o,p),!1}o=o.return}while(o!==null);return!1}var ih=Error(s(461)),_n=!1;function Un(r,i,o,l){i.child=r===null?n0(i,null,o,l):Vi(i,r.child,o,l)}function W0(r,i,o,l,p){o=o.render;var m=i.ref;if("ref"in l){var w={};for(var O in l)O!=="ref"&&(w[O]=l[O])}else w=l;return Ii(i),l=Bd(r,i,o,w,m,p),O=Hd(),r!==null&&!_n?($d(r,i,p),Ms(r,i,p)):(Pt&&O&&Sd(i),i.flags|=1,Un(r,i,l,p),i.child)}function ev(r,i,o,l,p){if(r===null){var m=o.type;return typeof m=="function"&&!vd(m)&&m.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=m,tv(r,i,m,l,p)):(r=ul(o.type,null,l,i,i.mode,p),r.ref=i.ref,r.return=i,i.child=r)}if(m=r.child,!hh(r,p)){var w=m.memoizedProps;if(o=o.compare,o=o!==null?o:Ro,o(w,l)&&r.ref===i.ref)return Ms(r,i,p)}return i.flags|=1,r=Cs(m,l),r.ref=i.ref,r.return=i,i.child=r}function tv(r,i,o,l,p){if(r!==null){var m=r.memoizedProps;if(Ro(m,l)&&r.ref===i.ref)if(_n=!1,i.pendingProps=l=m,hh(r,p))(r.flags&131072)!==0&&(_n=!0);else return i.lanes=r.lanes,Ms(r,i,p)}return ah(r,i,o,l,p)}function nv(r,i,o,l){var p=l.children,m=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,r!==null){for(l=i.child=r.child,p=0;l!==null;)p=p|l.lanes|l.childLanes,l=l.sibling;l=p&~m}else l=0,i.child=null;return rv(r,i,m,o,l)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&pl(i,m!==null?m.cachePool:null),m!==null?i0(i,m):Ld(),a0(i);else return l=i.lanes=536870912,rv(r,i,m!==null?m.baseLanes|o:o,o,l)}else m!==null?(pl(i,m.cachePool),i0(i,m),li(),i.memoizedState=null):(r!==null&&pl(i,null),Ld(),li());return Un(r,i,p,o),i.child}function $o(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function rv(r,i,o,l,p){var m=Md();return m=m===null?null:{parent:bn._currentValue,pool:m},i.memoizedState={baseLanes:o,cachePool:m},r!==null&&pl(i,null),Ld(),a0(i),r!==null&&Ea(r,i,l,!0),i.childLanes=p,null}function Ml(r,i){return i=Nl({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function sv(r,i,o){return Vi(i,r.child,null,o),r=Ml(i,i.pendingProps),r.flags|=2,pr(i),i.memoizedState=null,r}function eR(r,i,o){var l=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(Pt){if(l.mode==="hidden")return r=Ml(i,l),i.lanes=536870912,$o(null,r);if(zd(i),(r=Wt)?(r=yx(r,Rr),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:ti!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},o=Hg(r),o.return=i,i.child=o,jn=i,Wt=null)):r=null,r===null)throw ri(i);return i.lanes=536870912,null}return Ml(i,l)}var m=r.memoizedState;if(m!==null){var w=m.dehydrated;if(zd(i),p)if(i.flags&256)i.flags&=-257,i=sv(r,i,o);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(s(558));else if(_n||Ea(r,i,o,!1),p=(o&r.childLanes)!==0,_n||p){if(l=Zt,l!==null&&(w=_(l,o),w!==0&&w!==m.retryLane))throw m.retryLane=w,ji(r,w),ar(l,r,w),ih;Hl(),i=sv(r,i,o)}else r=m.treeContext,Wt=Or(w.nextSibling),jn=i,Pt=!0,ni=null,Rr=!1,r!==null&&qg(i,r),i=Ml(i,l),i.flags|=4096;return i}return r=Cs(r.child,{mode:l.mode,children:l.children}),r.ref=i.ref,i.child=r,r.return=i,r}function Pl(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(r===null||r.ref!==o)&&(i.flags|=4194816)}}function ah(r,i,o,l,p){return Ii(i),o=Bd(r,i,o,l,void 0,p),l=Hd(),r!==null&&!_n?($d(r,i,p),Ms(r,i,p)):(Pt&&l&&Sd(i),i.flags|=1,Un(r,i,o,p),i.child)}function iv(r,i,o,l,p,m){return Ii(i),i.updateQueue=null,o=c0(i,l,o,p),o0(r),l=Hd(),r!==null&&!_n?($d(r,i,m),Ms(r,i,m)):(Pt&&l&&Sd(i),i.flags|=1,Un(r,i,o,m),i.child)}function av(r,i,o,l,p){if(Ii(i),i.stateNode===null){var m=Sa,w=o.contextType;typeof w=="object"&&w!==null&&(m=Ln(w)),m=new o(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=rh,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},Nd(i),w=o.contextType,m.context=typeof w=="object"&&w!==null?Ln(w):Sa,m.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(nh(i,o,w,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(w=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),w!==m.state&&rh.enqueueReplaceState(m,m.state,null),Uo(i,l,m,p),Lo(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(r===null){m=i.stateNode;var O=i.memoizedProps,z=Fi(o,O);m.props=z;var J=m.context,ce=o.contextType;w=Sa,typeof ce=="object"&&ce!==null&&(w=Ln(ce));var he=o.getDerivedStateFromProps;ce=typeof he=="function"||typeof m.getSnapshotBeforeUpdate=="function",O=i.pendingProps!==O,ce||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(O||J!==w)&&Y0(i,m,l,w),ii=!1;var ee=i.memoizedState;m.state=ee,Uo(i,l,m,p),Lo(),J=i.memoizedState,O||ee!==J||ii?(typeof he=="function"&&(nh(i,o,he,l),J=i.memoizedState),(z=ii||F0(i,o,z,l,ee,J,w))?(ce||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=J),m.props=l,m.state=J,m.context=w,l=z):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,Dd(r,i),w=i.memoizedProps,ce=Fi(o,w),m.props=ce,he=i.pendingProps,ee=m.context,J=o.contextType,z=Sa,typeof J=="object"&&J!==null&&(z=Ln(J)),O=o.getDerivedStateFromProps,(J=typeof O=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==he||ee!==z)&&Y0(i,m,l,z),ii=!1,ee=i.memoizedState,m.state=ee,Uo(i,l,m,p),Lo();var se=i.memoizedState;w!==he||ee!==se||ii||r!==null&&r.dependencies!==null&&dl(r.dependencies)?(typeof O=="function"&&(nh(i,o,O,l),se=i.memoizedState),(ce=ii||F0(i,o,ce,l,ee,se,z)||r!==null&&r.dependencies!==null&&dl(r.dependencies))?(J||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,se,z),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,se,z)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===r.memoizedProps&&ee===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&ee===r.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=se),m.props=l,m.state=se,m.context=z,l=ce):(typeof m.componentDidUpdate!="function"||w===r.memoizedProps&&ee===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&ee===r.memoizedState||(i.flags|=1024),l=!1)}return m=l,Pl(r,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,o=l&&typeof o.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,r!==null&&l?(i.child=Vi(i,r.child,null,p),i.child=Vi(i,null,o,p)):Un(r,i,o,p),i.memoizedState=m.state,r=i.child):r=Ms(r,i,p),r}function ov(r,i,o,l){return Ui(),i.flags|=256,Un(r,i,o,l),i.child}var oh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ch(r){return{baseLanes:r,cachePool:Qg()}}function lh(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=yr),r}function cv(r,i,o){var l=i.pendingProps,p=!1,m=(i.flags&128)!==0,w;if((w=m)||(w=r!==null&&r.memoizedState===null?!1:(pn.current&2)!==0),w&&(p=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,r===null){if(Pt){if(p?ci(i):li(),(r=Wt)?(r=yx(r,Rr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:ti!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},o=Hg(r),o.return=i,i.child=o,jn=i,Wt=null)):r=null,r===null)throw ri(i);return Fh(r)?i.lanes=32:i.lanes=536870912,null}var O=l.children;return l=l.fallback,p?(li(),p=i.mode,O=Nl({mode:"hidden",children:O},p),l=Li(l,p,o,null),O.return=i,l.return=i,O.sibling=l,i.child=O,l=i.child,l.memoizedState=ch(o),l.childLanes=lh(r,w,o),i.memoizedState=oh,$o(null,l)):(ci(i),uh(i,O))}var z=r.memoizedState;if(z!==null&&(O=z.dehydrated,O!==null)){if(m)i.flags&256?(ci(i),i.flags&=-257,i=fh(r,i,o)):i.memoizedState!==null?(li(),i.child=r.child,i.flags|=128,i=null):(li(),O=l.fallback,p=i.mode,l=Nl({mode:"visible",children:l.children},p),O=Li(O,p,o,null),O.flags|=2,l.return=i,O.return=i,l.sibling=O,i.child=l,Vi(i,r.child,null,o),l=i.child,l.memoizedState=ch(o),l.childLanes=lh(r,w,o),i.memoizedState=oh,i=$o(null,l));else if(ci(i),Fh(O)){if(w=O.nextSibling&&O.nextSibling.dataset,w)var J=w.dgst;w=J,l=Error(s(419)),l.stack="",l.digest=w,Mo({value:l,source:null,stack:null}),i=fh(r,i,o)}else if(_n||Ea(r,i,o,!1),w=(o&r.childLanes)!==0,_n||w){if(w=Zt,w!==null&&(l=_(w,o),l!==0&&l!==z.retryLane))throw z.retryLane=l,ji(r,l),ar(w,r,l),ih;qh(O)||Hl(),i=fh(r,i,o)}else qh(O)?(i.flags|=192,i.child=r.child,i=null):(r=z.treeContext,Wt=Or(O.nextSibling),jn=i,Pt=!0,ni=null,Rr=!1,r!==null&&qg(i,r),i=uh(i,l.children),i.flags|=4096);return i}return p?(li(),O=l.fallback,p=i.mode,z=r.child,J=z.sibling,l=Cs(z,{mode:"hidden",children:l.children}),l.subtreeFlags=z.subtreeFlags&65011712,J!==null?O=Cs(J,O):(O=Li(O,p,o,null),O.flags|=2),O.return=i,l.return=i,l.sibling=O,i.child=l,$o(null,l),l=i.child,O=r.child.memoizedState,O===null?O=ch(o):(p=O.cachePool,p!==null?(z=bn._currentValue,p=p.parent!==z?{parent:z,pool:z}:p):p=Qg(),O={baseLanes:O.baseLanes|o,cachePool:p}),l.memoizedState=O,l.childLanes=lh(r,w,o),i.memoizedState=oh,$o(r.child,l)):(ci(i),o=r.child,r=o.sibling,o=Cs(o,{mode:"visible",children:l.children}),o.return=i,o.sibling=null,r!==null&&(w=i.deletions,w===null?(i.deletions=[r],i.flags|=16):w.push(r)),i.child=o,i.memoizedState=null,o)}function uh(r,i){return i=Nl({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Nl(r,i){return r=dr(22,r,null,i),r.lanes=0,r}function fh(r,i,o){return Vi(i,r.child,null,o),r=uh(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function lv(r,i,o){r.lanes|=i;var l=r.alternate;l!==null&&(l.lanes|=i),Td(r.return,i,o)}function dh(r,i,o,l,p,m){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:p,treeForkCount:m}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=l,w.tail=o,w.tailMode=p,w.treeForkCount=m)}function uv(r,i,o){var l=i.pendingProps,p=l.revealOrder,m=l.tail;l=l.children;var w=pn.current,O=(w&2)!==0;if(O?(w=w&1|2,i.flags|=128):w&=1,ae(pn,w),Un(r,i,l,o),l=Pt?Oo:0,!O&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&lv(r,o,i);else if(r.tag===19)lv(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(p){case"forwards":for(o=i.child,p=null;o!==null;)r=o.alternate,r!==null&&bl(r)===null&&(p=o),o=o.sibling;o=p,o===null?(p=i.child,i.child=null):(p=o.sibling,o.sibling=null),dh(i,!1,p,o,m,l);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=i.child,i.child=null;p!==null;){if(r=p.alternate,r!==null&&bl(r)===null){i.child=p;break}r=p.sibling,p.sibling=o,o=p,p=r}dh(i,!0,o,null,m,l);break;case"together":dh(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ms(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),di|=i.lanes,(o&i.childLanes)===0)if(r!==null){if(Ea(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,o=Cs(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=Cs(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function hh(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&dl(r)))}function tR(r,i,o){switch(i.tag){case 3:xt(i,i.stateNode.containerInfo),si(i,bn,r.memoizedState.cache),Ui();break;case 27:case 5:K(i);break;case 4:xt(i,i.stateNode.containerInfo);break;case 10:si(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,zd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ci(i),i.flags|=128,null):(o&i.child.childLanes)!==0?cv(r,i,o):(ci(i),r=Ms(r,i,o),r!==null?r.sibling:null);ci(i);break;case 19:var p=(r.flags&128)!==0;if(l=(o&i.childLanes)!==0,l||(Ea(r,i,o,!1),l=(o&i.childLanes)!==0),p){if(l)return uv(r,i,o);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ae(pn,pn.current),l)break;return null;case 22:return i.lanes=0,nv(r,i,o,i.pendingProps);case 24:si(i,bn,r.memoizedState.cache)}return Ms(r,i,o)}function fv(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)_n=!0;else{if(!hh(r,o)&&(i.flags&128)===0)return _n=!1,tR(r,i,o);_n=(r.flags&131072)!==0}else _n=!1,Pt&&(i.flags&1048576)!==0&&Vg(i,Oo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(r=Hi(i.elementType),i.type=r,typeof r=="function")vd(r)?(l=Fi(r,l),i.tag=1,i=av(null,i,r,l,o)):(i.tag=0,i=ah(null,i,r,l,o));else{if(r!=null){var p=r.$$typeof;if(p===j){i.tag=11,i=W0(null,i,r,l,o);break e}else if(p===F){i.tag=14,i=ev(null,i,r,l,o);break e}}throw i=be(r)||r,Error(s(306,i,""))}}return i;case 0:return ah(r,i,i.type,i.pendingProps,o);case 1:return l=i.type,p=Fi(l,i.pendingProps),av(r,i,l,p,o);case 3:e:{if(xt(i,i.stateNode.containerInfo),r===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;p=m.element,Dd(r,i),Uo(i,l,null,o);var w=i.memoizedState;if(l=w.cache,si(i,bn,l),l!==m.cache&&Rd(i,[bn],o,!0),Lo(),l=w.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=ov(r,i,l,o);break e}else if(l!==p){p=Cr(Error(s(424)),i),Mo(p),i=ov(r,i,l,o);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Wt=Or(r.firstChild),jn=i,Pt=!0,ni=null,Rr=!0,o=n0(i,null,l,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ui(),l===p){i=Ms(r,i,o);break e}Un(r,i,l,o)}i=i.child}return i;case 26:return Pl(r,i),r===null?(o=_x(i.type,null,i.pendingProps,null))?i.memoizedState=o:Pt||(o=i.type,r=i.pendingProps,l=Kl(Te.current).createElement(o),l[V]=i,l[oe]=r,zn(l,o,r),Be(l),i.stateNode=l):i.memoizedState=_x(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return K(i),r===null&&Pt&&(l=i.stateNode=xx(i.type,i.pendingProps,Te.current),jn=i,Rr=!0,p=Wt,gi(i.type)?(Yh=p,Wt=Or(l.firstChild)):Wt=p),Un(r,i,i.pendingProps.children,o),Pl(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Pt&&((p=l=Wt)&&(l=PR(l,i.type,i.pendingProps,Rr),l!==null?(i.stateNode=l,jn=i,Wt=Or(l.firstChild),Rr=!1,p=!0):p=!1),p||ri(i)),K(i),p=i.type,m=i.pendingProps,w=r!==null?r.memoizedProps:null,l=m.children,Hh(p,m)?l=null:w!==null&&Hh(p,w)&&(i.flags|=32),i.memoizedState!==null&&(p=Bd(r,i,YT,null,null,o),rc._currentValue=p),Pl(r,i),Un(r,i,l,o),i.child;case 6:return r===null&&Pt&&((r=o=Wt)&&(o=NR(o,i.pendingProps,Rr),o!==null?(i.stateNode=o,jn=i,Wt=null,r=!0):r=!1),r||ri(i)),null;case 13:return cv(r,i,o);case 4:return xt(i,i.stateNode.containerInfo),l=i.pendingProps,r===null?i.child=Vi(i,null,l,o):Un(r,i,l,o),i.child;case 11:return W0(r,i,i.type,i.pendingProps,o);case 7:return Un(r,i,i.pendingProps,o),i.child;case 8:return Un(r,i,i.pendingProps.children,o),i.child;case 12:return Un(r,i,i.pendingProps.children,o),i.child;case 10:return l=i.pendingProps,si(i,i.type,l.value),Un(r,i,l.children,o),i.child;case 9:return p=i.type._context,l=i.pendingProps.children,Ii(i),p=Ln(p),l=l(p),i.flags|=1,Un(r,i,l,o),i.child;case 14:return ev(r,i,i.type,i.pendingProps,o);case 15:return tv(r,i,i.type,i.pendingProps,o);case 19:return uv(r,i,o);case 31:return eR(r,i,o);case 22:return nv(r,i,o,i.pendingProps);case 24:return Ii(i),l=Ln(bn),r===null?(p=Md(),p===null&&(p=Zt,m=Ad(),p.pooledCache=m,m.refCount++,m!==null&&(p.pooledCacheLanes|=o),p=m),i.memoizedState={parent:l,cache:p},Nd(i),si(i,bn,p)):((r.lanes&o)!==0&&(Dd(r,i),Uo(i,null,null,o),Lo()),p=r.memoizedState,m=i.memoizedState,p.parent!==l?(p={parent:l,cache:l},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),si(i,bn,l)):(l=m.cache,si(i,bn,l),l!==p.cache&&Rd(i,[bn],o,!0))),Un(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ps(r){r.flags|=4}function ph(r,i,o,l,p){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(p&335544128)===p)if(r.stateNode.complete)r.flags|=8192;else if(zv())r.flags|=8192;else throw $i=yl,Pd}else r.flags&=-16777217}function dv(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Rx(i))if(zv())r.flags|=8192;else throw $i=yl,Pd}function Dl(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Ss():536870912,r.lanes|=i,Ua|=i)}function Vo(r,i){if(!Pt)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:l.sibling=null}}function en(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,l=0;if(i)for(var p=r.child;p!==null;)o|=p.lanes|p.childLanes,l|=p.subtreeFlags&65011712,l|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)o|=p.lanes|p.childLanes,l|=p.subtreeFlags,l|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=l,r.childLanes=o,i}function nR(r,i,o){var l=i.pendingProps;switch(_d(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(i),null;case 1:return en(i),null;case 3:return o=i.stateNode,l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Rs(bn),I(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Ca(i)?Ps(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Cd())),en(i),null;case 26:var p=i.type,m=i.memoizedState;return r===null?(Ps(i),m!==null?(en(i),dv(i,m)):(en(i),ph(i,p,null,l,o))):m?m!==r.memoizedState?(Ps(i),en(i),dv(i,m)):(en(i),i.flags&=-16777217):(r=r.memoizedProps,r!==l&&Ps(i),en(i),ph(i,p,r,l,o)),null;case 27:if(de(i),o=Te.current,p=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==l&&Ps(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return en(i),null}r=pe.current,Ca(i)?Fg(i):(r=xx(p,l,o),i.stateNode=r,Ps(i))}return en(i),null;case 5:if(de(i),p=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==l&&Ps(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return en(i),null}if(m=pe.current,Ca(i))Fg(i);else{var w=Kl(Te.current);switch(m){case 1:m=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:m=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":m=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":m=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":m=w.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?w.createElement("select",{is:l.is}):w.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?w.createElement(p,{is:l.is}):w.createElement(p)}}m[V]=i,m[oe]=l;e:for(w=i.child;w!==null;){if(w.tag===5||w.tag===6)m.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===i)break e;for(;w.sibling===null;){if(w.return===null||w.return===i)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}i.stateNode=m;e:switch(zn(m,p,l),p){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ps(i)}}return en(i),ph(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,o),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==l&&Ps(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(r=Te.current,Ca(i)){if(r=i.stateNode,o=i.memoizedProps,l=null,p=jn,p!==null)switch(p.tag){case 27:case 5:l=p.memoizedProps}r[V]=i,r=!!(r.nodeValue===o||l!==null&&l.suppressHydrationWarning===!0||cx(r.nodeValue,o)),r||ri(i,!0)}else r=Kl(r).createTextNode(l),r[V]=i,i.stateNode=r}return en(i),null;case 31:if(o=i.memoizedState,r===null||r.memoizedState!==null){if(l=Ca(i),o!==null){if(r===null){if(!l)throw Error(s(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(557));r[V]=i}else Ui(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;en(i),r=!1}else o=Cd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return i.flags&256?(pr(i),i):(pr(i),null);if((i.flags&128)!==0)throw Error(s(558))}return en(i),null;case 13:if(l=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=Ca(i),l!==null&&l.dehydrated!==null){if(r===null){if(!p)throw Error(s(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[V]=i}else Ui(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;en(i),p=!1}else p=Cd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(pr(i),i):(pr(i),null)}return pr(i),(i.flags&128)!==0?(i.lanes=o,i):(o=l!==null,r=r!==null&&r.memoizedState!==null,o&&(l=i.child,p=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(p=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==p&&(l.flags|=2048)),o!==r&&o&&(i.child.flags|=8192),Dl(i,i.updateQueue),en(i),null);case 4:return I(),r===null&&Lh(i.stateNode.containerInfo),en(i),null;case 10:return Rs(i.type),en(i),null;case 19:if(te(pn),l=i.memoizedState,l===null)return en(i),null;if(p=(i.flags&128)!==0,m=l.rendering,m===null)if(p)Vo(l,!1);else{if(un!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(m=bl(r),m!==null){for(i.flags|=128,Vo(l,!1),r=m.updateQueue,i.updateQueue=r,Dl(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)Bg(o,r),o=o.sibling;return ae(pn,pn.current&1|2),Pt&&Es(i,l.treeForkCount),i.child}r=r.sibling}l.tail!==null&&lt()>zl&&(i.flags|=128,p=!0,Vo(l,!1),i.lanes=4194304)}else{if(!p)if(r=bl(m),r!==null){if(i.flags|=128,p=!0,r=r.updateQueue,i.updateQueue=r,Dl(i,r),Vo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Pt)return en(i),null}else 2*lt()-l.renderingStartTime>zl&&o!==536870912&&(i.flags|=128,p=!0,Vo(l,!1),i.lanes=4194304);l.isBackwards?(m.sibling=i.child,i.child=m):(r=l.last,r!==null?r.sibling=m:i.child=m,l.last=m)}return l.tail!==null?(r=l.tail,l.rendering=r,l.tail=r.sibling,l.renderingStartTime=lt(),r.sibling=null,o=pn.current,ae(pn,p?o&1|2:o&1),Pt&&Es(i,l.treeForkCount),r):(en(i),null);case 22:case 23:return pr(i),Ud(),l=i.memoizedState!==null,r!==null?r.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(o&536870912)!==0&&(i.flags&128)===0&&(en(i),i.subtreeFlags&6&&(i.flags|=8192)):en(i),o=i.updateQueue,o!==null&&Dl(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==o&&(i.flags|=2048),r!==null&&te(Bi),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Rs(bn),en(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function rR(r,i){switch(_d(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Rs(bn),I(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return de(i),null;case 31:if(i.memoizedState!==null){if(pr(i),i.alternate===null)throw Error(s(340));Ui()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(pr(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ui()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return te(pn),null;case 4:return I(),null;case 10:return Rs(i.type),null;case 22:case 23:return pr(i),Ud(),r!==null&&te(Bi),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Rs(bn),null;case 25:return null;default:return null}}function hv(r,i){switch(_d(i),i.tag){case 3:Rs(bn),I();break;case 26:case 27:case 5:de(i);break;case 4:I();break;case 31:i.memoizedState!==null&&pr(i);break;case 13:pr(i);break;case 19:te(pn);break;case 10:Rs(i.type);break;case 22:case 23:pr(i),Ud(),r!==null&&te(Bi);break;case 24:Rs(bn)}}function qo(r,i){try{var o=i.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var p=l.next;o=p;do{if((o.tag&r)===r){l=void 0;var m=o.create,w=o.inst;l=m(),w.destroy=l}o=o.next}while(o!==p)}}catch(O){Vt(i,i.return,O)}}function ui(r,i,o){try{var l=i.updateQueue,p=l!==null?l.lastEffect:null;if(p!==null){var m=p.next;l=m;do{if((l.tag&r)===r){var w=l.inst,O=w.destroy;if(O!==void 0){w.destroy=void 0,p=i;var z=o,J=O;try{J()}catch(ce){Vt(p,z,ce)}}}l=l.next}while(l!==m)}}catch(ce){Vt(i,i.return,ce)}}function pv(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{s0(i,o)}catch(l){Vt(r,r.return,l)}}}function mv(r,i,o){o.props=Fi(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(l){Vt(r,i,l)}}function Fo(r,i){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var l=r.stateNode;break;case 30:l=r.stateNode;break;default:l=r.stateNode}typeof o=="function"?r.refCleanup=o(l):o.current=l}}catch(p){Vt(r,i,p)}}function ns(r,i){var o=r.ref,l=r.refCleanup;if(o!==null)if(typeof l=="function")try{l()}catch(p){Vt(r,i,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Vt(r,i,p)}else o.current=null}function yv(r){var i=r.type,o=r.memoizedProps,l=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&l.focus();break e;case"img":o.src?l.src=o.src:o.srcSet&&(l.srcset=o.srcSet)}}catch(p){Vt(r,r.return,p)}}function mh(r,i,o){try{var l=r.stateNode;ER(l,r.type,o,i),l[oe]=i}catch(p){Vt(r,r.return,p)}}function gv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&gi(r.type)||r.tag===4}function yh(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||gv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&gi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function gh(r,i,o){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(r),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=_s));else if(l!==4&&(l===27&&gi(r.type)&&(o=r.stateNode,i=null),r=r.child,r!==null))for(gh(r,i,o),r=r.sibling;r!==null;)gh(r,i,o),r=r.sibling}function kl(r,i,o){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(l!==4&&(l===27&&gi(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(kl(r,i,o),r=r.sibling;r!==null;)kl(r,i,o),r=r.sibling}function vv(r){var i=r.stateNode,o=r.memoizedProps;try{for(var l=r.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);zn(i,l,o),i[V]=r,i[oe]=o}catch(m){Vt(r,r.return,m)}}var Ns=!1,wn=!1,vh=!1,xv=typeof WeakSet=="function"?WeakSet:Set,kn=null;function sR(r,i){if(r=r.containerInfo,Ih=tu,r=Pg(r),fd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var p=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var w=0,O=-1,z=-1,J=0,ce=0,he=r,ee=null;t:for(;;){for(var se;he!==o||p!==0&&he.nodeType!==3||(O=w+p),he!==m||l!==0&&he.nodeType!==3||(z=w+l),he.nodeType===3&&(w+=he.nodeValue.length),(se=he.firstChild)!==null;)ee=he,he=se;for(;;){if(he===r)break t;if(ee===o&&++J===p&&(O=w),ee===m&&++ce===l&&(z=w),(se=he.nextSibling)!==null)break;he=ee,ee=he.parentNode}he=se}o=O===-1||z===-1?null:{start:O,end:z}}else o=null}o=o||{start:0,end:0}}else o=null;for(Bh={focusedElem:r,selectionRange:o},tu=!1,kn=i;kn!==null;)if(i=kn,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,kn=r;else for(;kn!==null;){switch(i=kn,m=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)p=r[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,o=i,p=m.memoizedProps,m=m.memoizedState,l=o.stateNode;try{var He=Fi(o.type,p);r=l.getSnapshotBeforeUpdate(He,m),l.__reactInternalSnapshotBeforeUpdate=r}catch(tt){Vt(o,o.return,tt)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)Vh(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Vh(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,kn=r;break}kn=i.return}}function bv(r,i,o){var l=o.flags;switch(o.tag){case 0:case 11:case 15:ks(r,o),l&4&&qo(5,o);break;case 1:if(ks(r,o),l&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(w){Vt(o,o.return,w)}else{var p=Fi(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(p,i,r.__reactInternalSnapshotBeforeUpdate)}catch(w){Vt(o,o.return,w)}}l&64&&pv(o),l&512&&Fo(o,o.return);break;case 3:if(ks(r,o),l&64&&(r=o.updateQueue,r!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{s0(r,i)}catch(w){Vt(o,o.return,w)}}break;case 27:i===null&&l&4&&vv(o);case 26:case 5:ks(r,o),i===null&&l&4&&yv(o),l&512&&Fo(o,o.return);break;case 12:ks(r,o);break;case 31:ks(r,o),l&4&&wv(r,o);break;case 13:ks(r,o),l&4&&Cv(r,o),l&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=hR.bind(null,o),DR(r,o))));break;case 22:if(l=o.memoizedState!==null||Ns,!l){i=i!==null&&i.memoizedState!==null||wn,p=Ns;var m=wn;Ns=l,(wn=i)&&!m?js(r,o,(o.subtreeFlags&8772)!==0):ks(r,o),Ns=p,wn=m}break;case 30:break;default:ks(r,o)}}function Sv(r){var i=r.alternate;i!==null&&(r.alternate=null,Sv(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&nt(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var an=null,nr=!1;function Ds(r,i,o){for(o=o.child;o!==null;)_v(r,i,o),o=o.sibling}function _v(r,i,o){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Gn,o)}catch{}switch(o.tag){case 26:wn||ns(o,i),Ds(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:wn||ns(o,i);var l=an,p=nr;gi(o.type)&&(an=o.stateNode,nr=!1),Ds(r,i,o),ec(o.stateNode),an=l,nr=p;break;case 5:wn||ns(o,i);case 6:if(l=an,p=nr,an=null,Ds(r,i,o),an=l,nr=p,an!==null)if(nr)try{(an.nodeType===9?an.body:an.nodeName==="HTML"?an.ownerDocument.body:an).removeChild(o.stateNode)}catch(m){Vt(o,i,m)}else try{an.removeChild(o.stateNode)}catch(m){Vt(o,i,m)}break;case 18:an!==null&&(nr?(r=an,px(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Fa(r)):px(an,o.stateNode));break;case 4:l=an,p=nr,an=o.stateNode.containerInfo,nr=!0,Ds(r,i,o),an=l,nr=p;break;case 0:case 11:case 14:case 15:ui(2,o,i),wn||ui(4,o,i),Ds(r,i,o);break;case 1:wn||(ns(o,i),l=o.stateNode,typeof l.componentWillUnmount=="function"&&mv(o,i,l)),Ds(r,i,o);break;case 21:Ds(r,i,o);break;case 22:wn=(l=wn)||o.memoizedState!==null,Ds(r,i,o),wn=l;break;default:Ds(r,i,o)}}function wv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Fa(r)}catch(o){Vt(i,i.return,o)}}}function Cv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Fa(r)}catch(o){Vt(i,i.return,o)}}function iR(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new xv),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new xv),i;default:throw Error(s(435,r.tag))}}function jl(r,i){var o=iR(r);i.forEach(function(l){if(!o.has(l)){o.add(l);var p=pR.bind(null,r,l);l.then(p,p)}})}function rr(r,i){var o=i.deletions;if(o!==null)for(var l=0;l<o.length;l++){var p=o[l],m=r,w=i,O=w;e:for(;O!==null;){switch(O.tag){case 27:if(gi(O.type)){an=O.stateNode,nr=!1;break e}break;case 5:an=O.stateNode,nr=!1;break e;case 3:case 4:an=O.stateNode.containerInfo,nr=!0;break e}O=O.return}if(an===null)throw Error(s(160));_v(m,w,p),an=null,nr=!1,m=p.alternate,m!==null&&(m.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Ev(i,r),i=i.sibling}var Ir=null;function Ev(r,i){var o=r.alternate,l=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:rr(i,r),sr(r),l&4&&(ui(3,r,r.return),qo(3,r),ui(5,r,r.return));break;case 1:rr(i,r),sr(r),l&512&&(wn||o===null||ns(o,o.return)),l&64&&Ns&&(r=r.updateQueue,r!==null&&(l=r.callbacks,l!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?l:o.concat(l))));break;case 26:var p=Ir;if(rr(i,r),sr(r),l&512&&(wn||o===null||ns(o,o.return)),l&4){var m=o!==null?o.memoizedState:null;if(l=r.memoizedState,o===null)if(l===null)if(r.stateNode===null){e:{l=r.type,o=r.memoizedProps,p=p.ownerDocument||p;t:switch(l){case"title":m=p.getElementsByTagName("title")[0],(!m||m[Je]||m[V]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=p.createElement(l),p.head.insertBefore(m,p.querySelector("head > title"))),zn(m,l,o),m[V]=r,Be(m),l=m;break e;case"link":var w=Ex("link","href",p).get(l+(o.href||""));if(w){for(var O=0;O<w.length;O++)if(m=w[O],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(O,1);break t}}m=p.createElement(l),zn(m,l,o),p.head.appendChild(m);break;case"meta":if(w=Ex("meta","content",p).get(l+(o.content||""))){for(O=0;O<w.length;O++)if(m=w[O],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(O,1);break t}}m=p.createElement(l),zn(m,l,o),p.head.appendChild(m);break;default:throw Error(s(468,l))}m[V]=r,Be(m),l=m}r.stateNode=l}else Tx(p,r.type,r.stateNode);else r.stateNode=Cx(p,l,r.memoizedProps);else m!==l?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,l===null?Tx(p,r.type,r.stateNode):Cx(p,l,r.memoizedProps)):l===null&&r.stateNode!==null&&mh(r,r.memoizedProps,o.memoizedProps)}break;case 27:rr(i,r),sr(r),l&512&&(wn||o===null||ns(o,o.return)),o!==null&&l&4&&mh(r,r.memoizedProps,o.memoizedProps);break;case 5:if(rr(i,r),sr(r),l&512&&(wn||o===null||ns(o,o.return)),r.flags&32){p=r.stateNode;try{Ht(p,"")}catch(He){Vt(r,r.return,He)}}l&4&&r.stateNode!=null&&(p=r.memoizedProps,mh(r,p,o!==null?o.memoizedProps:p)),l&1024&&(vh=!0);break;case 6:if(rr(i,r),sr(r),l&4){if(r.stateNode===null)throw Error(s(162));l=r.memoizedProps,o=r.stateNode;try{o.nodeValue=l}catch(He){Vt(r,r.return,He)}}break;case 3:if(Zl=null,p=Ir,Ir=Xl(i.containerInfo),rr(i,r),Ir=p,sr(r),l&4&&o!==null&&o.memoizedState.isDehydrated)try{Fa(i.containerInfo)}catch(He){Vt(r,r.return,He)}vh&&(vh=!1,Tv(r));break;case 4:l=Ir,Ir=Xl(r.stateNode.containerInfo),rr(i,r),sr(r),Ir=l;break;case 12:rr(i,r),sr(r);break;case 31:rr(i,r),sr(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,jl(r,l)));break;case 13:rr(i,r),sr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ul=lt()),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,jl(r,l)));break;case 22:p=r.memoizedState!==null;var z=o!==null&&o.memoizedState!==null,J=Ns,ce=wn;if(Ns=J||p,wn=ce||z,rr(i,r),wn=ce,Ns=J,sr(r),l&8192)e:for(i=r.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(o===null||z||Ns||wn||Yi(r)),o=null,i=r;;){if(i.tag===5||i.tag===26){if(o===null){z=o=i;try{if(m=z.stateNode,p)w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{O=z.stateNode;var he=z.memoizedProps.style,ee=he!=null&&he.hasOwnProperty("display")?he.display:null;O.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(He){Vt(z,z.return,He)}}}else if(i.tag===6){if(o===null){z=i;try{z.stateNode.nodeValue=p?"":z.memoizedProps}catch(He){Vt(z,z.return,He)}}}else if(i.tag===18){if(o===null){z=i;try{var se=z.stateNode;p?mx(se,!0):mx(z.stateNode,!1)}catch(He){Vt(z,z.return,He)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=r.updateQueue,l!==null&&(o=l.retryQueue,o!==null&&(l.retryQueue=null,jl(r,o))));break;case 19:rr(i,r),sr(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,jl(r,l)));break;case 30:break;case 21:break;default:rr(i,r),sr(r)}}function sr(r){var i=r.flags;if(i&2){try{for(var o,l=r.return;l!==null;){if(gv(l)){o=l;break}l=l.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var p=o.stateNode,m=yh(r);kl(r,m,p);break;case 5:var w=o.stateNode;o.flags&32&&(Ht(w,""),o.flags&=-33);var O=yh(r);kl(r,O,w);break;case 3:case 4:var z=o.stateNode.containerInfo,J=yh(r);gh(r,J,z);break;default:throw Error(s(161))}}catch(ce){Vt(r,r.return,ce)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Tv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Tv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function ks(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)bv(r,i.alternate,i),i=i.sibling}function Yi(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:ui(4,i,i.return),Yi(i);break;case 1:ns(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&mv(i,i.return,o),Yi(i);break;case 27:ec(i.stateNode);case 26:case 5:ns(i,i.return),Yi(i);break;case 22:i.memoizedState===null&&Yi(i);break;case 30:Yi(i);break;default:Yi(i)}r=r.sibling}}function js(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,p=r,m=i,w=m.flags;switch(m.tag){case 0:case 11:case 15:js(p,m,o),qo(4,m);break;case 1:if(js(p,m,o),l=m,p=l.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(J){Vt(l,l.return,J)}if(l=m,p=l.updateQueue,p!==null){var O=l.stateNode;try{var z=p.shared.hiddenCallbacks;if(z!==null)for(p.shared.hiddenCallbacks=null,p=0;p<z.length;p++)r0(z[p],O)}catch(J){Vt(l,l.return,J)}}o&&w&64&&pv(m),Fo(m,m.return);break;case 27:vv(m);case 26:case 5:js(p,m,o),o&&l===null&&w&4&&yv(m),Fo(m,m.return);break;case 12:js(p,m,o);break;case 31:js(p,m,o),o&&w&4&&wv(p,m);break;case 13:js(p,m,o),o&&w&4&&Cv(p,m);break;case 22:m.memoizedState===null&&js(p,m,o),Fo(m,m.return);break;case 30:break;default:js(p,m,o)}i=i.sibling}}function xh(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Po(o))}function bh(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Po(r))}function Br(r,i,o,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Rv(r,i,o,l),i=i.sibling}function Rv(r,i,o,l){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Br(r,i,o,l),p&2048&&qo(9,i);break;case 1:Br(r,i,o,l);break;case 3:Br(r,i,o,l),p&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Po(r)));break;case 12:if(p&2048){Br(r,i,o,l),r=i.stateNode;try{var m=i.memoizedProps,w=m.id,O=m.onPostCommit;typeof O=="function"&&O(w,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(z){Vt(i,i.return,z)}}else Br(r,i,o,l);break;case 31:Br(r,i,o,l);break;case 13:Br(r,i,o,l);break;case 23:break;case 22:m=i.stateNode,w=i.alternate,i.memoizedState!==null?m._visibility&2?Br(r,i,o,l):Yo(r,i):m._visibility&2?Br(r,i,o,l):(m._visibility|=2,ka(r,i,o,l,(i.subtreeFlags&10256)!==0||!1)),p&2048&&xh(w,i);break;case 24:Br(r,i,o,l),p&2048&&bh(i.alternate,i);break;default:Br(r,i,o,l)}}function ka(r,i,o,l,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=r,w=i,O=o,z=l,J=w.flags;switch(w.tag){case 0:case 11:case 15:ka(m,w,O,z,p),qo(8,w);break;case 23:break;case 22:var ce=w.stateNode;w.memoizedState!==null?ce._visibility&2?ka(m,w,O,z,p):Yo(m,w):(ce._visibility|=2,ka(m,w,O,z,p)),p&&J&2048&&xh(w.alternate,w);break;case 24:ka(m,w,O,z,p),p&&J&2048&&bh(w.alternate,w);break;default:ka(m,w,O,z,p)}i=i.sibling}}function Yo(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,l=i,p=l.flags;switch(l.tag){case 22:Yo(o,l),p&2048&&xh(l.alternate,l);break;case 24:Yo(o,l),p&2048&&bh(l.alternate,l);break;default:Yo(o,l)}i=i.sibling}}var Go=8192;function ja(r,i,o){if(r.subtreeFlags&Go)for(r=r.child;r!==null;)Av(r,i,o),r=r.sibling}function Av(r,i,o){switch(r.tag){case 26:ja(r,i,o),r.flags&Go&&r.memoizedState!==null&&FR(o,Ir,r.memoizedState,r.memoizedProps);break;case 5:ja(r,i,o);break;case 3:case 4:var l=Ir;Ir=Xl(r.stateNode.containerInfo),ja(r,i,o),Ir=l;break;case 22:r.memoizedState===null&&(l=r.alternate,l!==null&&l.memoizedState!==null?(l=Go,Go=16777216,ja(r,i,o),Go=l):ja(r,i,o));break;default:ja(r,i,o)}}function Ov(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Ko(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var l=i[o];kn=l,Pv(l,r)}Ov(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Mv(r),r=r.sibling}function Mv(r){switch(r.tag){case 0:case 11:case 15:Ko(r),r.flags&2048&&ui(9,r,r.return);break;case 3:Ko(r);break;case 12:Ko(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Ll(r)):Ko(r);break;default:Ko(r)}}function Ll(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var l=i[o];kn=l,Pv(l,r)}Ov(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:ui(8,i,i.return),Ll(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Ll(i));break;default:Ll(i)}r=r.sibling}}function Pv(r,i){for(;kn!==null;){var o=kn;switch(o.tag){case 0:case 11:case 15:ui(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var l=o.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Po(o.memoizedState.cache)}if(l=o.child,l!==null)l.return=o,kn=l;else e:for(o=r;kn!==null;){l=kn;var p=l.sibling,m=l.return;if(Sv(l),l===o){kn=null;break e}if(p!==null){p.return=m,kn=p;break e}kn=m}}}var aR={getCacheForType:function(r){var i=Ln(bn),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o},cacheSignal:function(){return Ln(bn).controller.signal}},oR=typeof WeakMap=="function"?WeakMap:Map,Ut=0,Zt=null,Ct=null,Rt=0,$t=0,mr=null,fi=!1,La=!1,Sh=!1,Ls=0,un=0,di=0,Gi=0,_h=0,yr=0,Ua=0,Xo=null,ir=null,wh=!1,Ul=0,Nv=0,zl=1/0,Il=null,hi=null,On=0,pi=null,za=null,Us=0,Ch=0,Eh=null,Dv=null,Qo=0,Th=null;function gr(){return(Ut&2)!==0&&Rt!==0?Rt&-Rt:H.T!==null?Nh():x()}function kv(){if(yr===0)if((Rt&536870912)===0||Pt){var r=bs;bs<<=1,(bs&3932160)===0&&(bs=262144),yr=r}else yr=536870912;return r=hr.current,r!==null&&(r.flags|=32),yr}function ar(r,i,o){(r===Zt&&($t===2||$t===9)||r.cancelPendingCommit!==null)&&(Ia(r,0),mi(r,Rt,yr,!1)),Ur(r,o),((Ut&2)===0||r!==Zt)&&(r===Zt&&((Ut&2)===0&&(Gi|=o),un===4&&mi(r,Rt,yr,!1)),rs(r))}function jv(r,i,o){if((Ut&6)!==0)throw Error(s(327));var l=!o&&(i&127)===0&&(i&r.expiredLanes)===0||Kn(r,i),p=l?uR(r,i):Ah(r,i,!0),m=l;do{if(p===0){La&&!l&&mi(r,i,0,!1);break}else{if(o=r.current.alternate,m&&!cR(o)){p=Ah(r,i,!1),m=!1;continue}if(p===2){if(m=i,r.errorRecoveryDisabledLanes&m)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;e:{var O=r;p=Xo;var z=O.current.memoizedState.isDehydrated;if(z&&(Ia(O,w).flags|=256),w=Ah(O,w,!1),w!==2){if(Sh&&!z){O.errorRecoveryDisabledLanes|=m,Gi|=m,p=4;break e}m=ir,ir=p,m!==null&&(ir===null?ir=m:ir.push.apply(ir,m))}p=w}if(m=!1,p!==2)continue}}if(p===1){Ia(r,0),mi(r,i,0,!0);break}e:{switch(l=r,m=p,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:mi(l,i,yr,!fi);break e;case 2:ir=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(p=Ul+300-lt(),10<p)){if(mi(l,i,yr,!fi),Bn(l,0,!0)!==0)break e;Us=i,l.timeoutHandle=dx(Lv.bind(null,l,o,ir,Il,wh,i,yr,Gi,Ua,fi,m,"Throttled",-0,0),p);break e}Lv(l,o,ir,Il,wh,i,yr,Gi,Ua,fi,m,null,-0,0)}}break}while(!0);rs(r)}function Lv(r,i,o,l,p,m,w,O,z,J,ce,he,ee,se){if(r.timeoutHandle=-1,he=i.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_s},Av(i,m,he);var He=(m&62914560)===m?Ul-lt():(m&4194048)===m?Nv-lt():0;if(He=YR(he,He),He!==null){Us=m,r.cancelPendingCommit=He(qv.bind(null,r,i,m,o,l,p,w,O,z,ce,he,null,ee,se)),mi(r,m,w,!J);return}}qv(r,i,m,o,l,p,w,O,z)}function cR(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var l=0;l<o.length;l++){var p=o[l],m=p.getSnapshot;p=p.value;try{if(!fr(m(),p))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function mi(r,i,o,l){i&=~_h,i&=~Gi,r.suspendedLanes|=i,r.pingedLanes&=~i,l&&(r.warmLanes|=i),l=r.expirationTimes;for(var p=i;0<p;){var m=31-hn(p),w=1<<m;l[m]=-1,p&=~w}o!==0&&Z(r,o,i)}function Bl(){return(Ut&6)===0?(Zo(0),!1):!0}function Rh(){if(Ct!==null){if($t===0)var r=Ct.return;else r=Ct,Ts=zi=null,Vd(r),Oa=null,Do=0,r=Ct;for(;r!==null;)hv(r.alternate,r),r=r.return;Ct=null}}function Ia(r,i){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,AR(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Us=0,Rh(),Zt=r,Ct=o=Cs(r.current,null),Rt=i,$t=0,mr=null,fi=!1,La=Kn(r,i),Sh=!1,Ua=yr=_h=Gi=di=un=0,ir=Xo=null,wh=!1,(i&8)!==0&&(i|=i&32);var l=r.entangledLanes;if(l!==0)for(r=r.entanglements,l&=i;0<l;){var p=31-hn(l),m=1<<p;i|=r[p],l&=~m}return Ls=i,ol(),o}function Uv(r,i){ht=null,H.H=Ho,i===Aa||i===ml?(i=Wg(),$t=3):i===Pd?(i=Wg(),$t=4):$t=i===ih?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mr=i,Ct===null&&(un=1,Ol(r,Cr(i,r.current)))}function zv(){var r=hr.current;return r===null?!0:(Rt&4194048)===Rt?Ar===null:(Rt&62914560)===Rt||(Rt&536870912)!==0?r===Ar:!1}function Iv(){var r=H.H;return H.H=Ho,r===null?Ho:r}function Bv(){var r=H.A;return H.A=aR,r}function Hl(){un=4,fi||(Rt&4194048)!==Rt&&hr.current!==null||(La=!0),(di&134217727)===0&&(Gi&134217727)===0||Zt===null||mi(Zt,Rt,yr,!1)}function Ah(r,i,o){var l=Ut;Ut|=2;var p=Iv(),m=Bv();(Zt!==r||Rt!==i)&&(Il=null,Ia(r,i)),i=!1;var w=un;e:do try{if($t!==0&&Ct!==null){var O=Ct,z=mr;switch($t){case 8:Rh(),w=6;break e;case 3:case 2:case 9:case 6:hr.current===null&&(i=!0);var J=$t;if($t=0,mr=null,Ba(r,O,z,J),o&&La){w=0;break e}break;default:J=$t,$t=0,mr=null,Ba(r,O,z,J)}}lR(),w=un;break}catch(ce){Uv(r,ce)}while(!0);return i&&r.shellSuspendCounter++,Ts=zi=null,Ut=l,H.H=p,H.A=m,Ct===null&&(Zt=null,Rt=0,ol()),w}function lR(){for(;Ct!==null;)Hv(Ct)}function uR(r,i){var o=Ut;Ut|=2;var l=Iv(),p=Bv();Zt!==r||Rt!==i?(Il=null,zl=lt()+500,Ia(r,i)):La=Kn(r,i);e:do try{if($t!==0&&Ct!==null){i=Ct;var m=mr;t:switch($t){case 1:$t=0,mr=null,Ba(r,i,m,1);break;case 2:case 9:if(Zg(m)){$t=0,mr=null,$v(i);break}i=function(){$t!==2&&$t!==9||Zt!==r||($t=7),rs(r)},m.then(i,i);break e;case 3:$t=7;break e;case 4:$t=5;break e;case 7:Zg(m)?($t=0,mr=null,$v(i)):($t=0,mr=null,Ba(r,i,m,7));break;case 5:var w=null;switch(Ct.tag){case 26:w=Ct.memoizedState;case 5:case 27:var O=Ct;if(w?Rx(w):O.stateNode.complete){$t=0,mr=null;var z=O.sibling;if(z!==null)Ct=z;else{var J=O.return;J!==null?(Ct=J,$l(J)):Ct=null}break t}}$t=0,mr=null,Ba(r,i,m,5);break;case 6:$t=0,mr=null,Ba(r,i,m,6);break;case 8:Rh(),un=6;break e;default:throw Error(s(462))}}fR();break}catch(ce){Uv(r,ce)}while(!0);return Ts=zi=null,H.H=l,H.A=p,Ut=o,Ct!==null?0:(Zt=null,Rt=0,ol(),un)}function fR(){for(;Ct!==null&&!Pn();)Hv(Ct)}function Hv(r){var i=fv(r.alternate,r,Ls);r.memoizedProps=r.pendingProps,i===null?$l(r):Ct=i}function $v(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=iv(o,i,i.pendingProps,i.type,void 0,Rt);break;case 11:i=iv(o,i,i.pendingProps,i.type.render,i.ref,Rt);break;case 5:Vd(i);default:hv(o,i),i=Ct=Bg(i,Ls),i=fv(o,i,Ls)}r.memoizedProps=r.pendingProps,i===null?$l(r):Ct=i}function Ba(r,i,o,l){Ts=zi=null,Vd(i),Oa=null,Do=0;var p=i.return;try{if(WT(r,p,i,o,Rt)){un=1,Ol(r,Cr(o,r.current)),Ct=null;return}}catch(m){if(p!==null)throw Ct=p,m;un=1,Ol(r,Cr(o,r.current)),Ct=null;return}i.flags&32768?(Pt||l===1?r=!0:La||(Rt&536870912)!==0?r=!1:(fi=r=!0,(l===2||l===9||l===3||l===6)&&(l=hr.current,l!==null&&l.tag===13&&(l.flags|=16384))),Vv(i,r)):$l(i)}function $l(r){var i=r;do{if((i.flags&32768)!==0){Vv(i,fi);return}r=i.return;var o=nR(i.alternate,i,Ls);if(o!==null){Ct=o;return}if(i=i.sibling,i!==null){Ct=i;return}Ct=i=r}while(i!==null);un===0&&(un=5)}function Vv(r,i){do{var o=rR(r.alternate,r);if(o!==null){o.flags&=32767,Ct=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){Ct=r;return}Ct=r=o}while(r!==null);un=6,Ct=null}function qv(r,i,o,l,p,m,w,O,z){r.cancelPendingCommit=null;do Vl();while(On!==0);if((Ut&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=yd,xo(r,o,m,w,O,z),r===Zt&&(Ct=Zt=null,Rt=0),za=i,pi=r,Us=o,Ch=m,Eh=p,Dv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,mR(An,function(){return Xv(),null})):(r.callbackNode=null,r.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,p=ie.p,ie.p=2,w=Ut,Ut|=4;try{sR(r,i,o)}finally{Ut=w,ie.p=p,H.T=l}}On=1,Fv(),Yv(),Gv()}}function Fv(){if(On===1){On=0;var r=pi,i=za,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var l=ie.p;ie.p=2;var p=Ut;Ut|=4;try{Ev(i,r);var m=Bh,w=Pg(r.containerInfo),O=m.focusedElem,z=m.selectionRange;if(w!==O&&O&&O.ownerDocument&&Mg(O.ownerDocument.documentElement,O)){if(z!==null&&fd(O)){var J=z.start,ce=z.end;if(ce===void 0&&(ce=J),"selectionStart"in O)O.selectionStart=J,O.selectionEnd=Math.min(ce,O.value.length);else{var he=O.ownerDocument||document,ee=he&&he.defaultView||window;if(ee.getSelection){var se=ee.getSelection(),He=O.textContent.length,tt=Math.min(z.start,He),Xt=z.end===void 0?tt:Math.min(z.end,He);!se.extend&&tt>Xt&&(w=Xt,Xt=tt,tt=w);var q=Og(O,tt),B=Og(O,Xt);if(q&&B&&(se.rangeCount!==1||se.anchorNode!==q.node||se.anchorOffset!==q.offset||se.focusNode!==B.node||se.focusOffset!==B.offset)){var Q=he.createRange();Q.setStart(q.node,q.offset),se.removeAllRanges(),tt>Xt?(se.addRange(Q),se.extend(B.node,B.offset)):(Q.setEnd(B.node,B.offset),se.addRange(Q))}}}}for(he=[],se=O;se=se.parentNode;)se.nodeType===1&&he.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<he.length;O++){var ue=he[O];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}tu=!!Ih,Bh=Ih=null}finally{Ut=p,ie.p=l,H.T=o}}r.current=i,On=2}}function Yv(){if(On===2){On=0;var r=pi,i=za,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var l=ie.p;ie.p=2;var p=Ut;Ut|=4;try{bv(r,i.alternate,i)}finally{Ut=p,ie.p=l,H.T=o}}On=3}}function Gv(){if(On===4||On===3){On=0,it();var r=pi,i=za,o=Us,l=Dv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?On=5:(On=0,za=pi=null,Kv(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(hi=null),A(o),i=i.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Gn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=H.T,p=ie.p,ie.p=2,H.T=null;try{for(var m=r.onRecoverableError,w=0;w<l.length;w++){var O=l[w];m(O.value,{componentStack:O.stack})}}finally{H.T=i,ie.p=p}}(Us&3)!==0&&Vl(),rs(r),p=r.pendingLanes,(o&261930)!==0&&(p&42)!==0?r===Th?Qo++:(Qo=0,Th=r):Qo=0,Zo(0)}}function Kv(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Po(i)))}function Vl(){return Fv(),Yv(),Gv(),Xv()}function Xv(){if(On!==5)return!1;var r=pi,i=Ch;Ch=0;var o=A(Us),l=H.T,p=ie.p;try{ie.p=32>o?32:o,H.T=null,o=Eh,Eh=null;var m=pi,w=Us;if(On=0,za=pi=null,Us=0,(Ut&6)!==0)throw Error(s(331));var O=Ut;if(Ut|=4,Mv(m.current),Rv(m,m.current,w,o),Ut=O,Zo(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Gn,m)}catch{}return!0}finally{ie.p=p,H.T=l,Kv(r,i)}}function Qv(r,i,o){i=Cr(o,i),i=sh(r.stateNode,i,2),r=oi(r,i,2),r!==null&&(Ur(r,2),rs(r))}function Vt(r,i,o){if(r.tag===3)Qv(r,r,o);else for(;i!==null;){if(i.tag===3){Qv(i,r,o);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hi===null||!hi.has(l))){r=Cr(o,r),o=Z0(2),l=oi(i,o,2),l!==null&&(J0(o,l,i,r),Ur(l,2),rs(l));break}}i=i.return}}function Oh(r,i,o){var l=r.pingCache;if(l===null){l=r.pingCache=new oR;var p=new Set;l.set(i,p)}else p=l.get(i),p===void 0&&(p=new Set,l.set(i,p));p.has(o)||(Sh=!0,p.add(o),r=dR.bind(null,r,i,o),i.then(r,r))}function dR(r,i,o){var l=r.pingCache;l!==null&&l.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Zt===r&&(Rt&o)===o&&(un===4||un===3&&(Rt&62914560)===Rt&&300>lt()-Ul?(Ut&2)===0&&Ia(r,0):_h|=o,Ua===Rt&&(Ua=0)),rs(r)}function Zv(r,i){i===0&&(i=Ss()),r=ji(r,i),r!==null&&(Ur(r,i),rs(r))}function hR(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),Zv(r,o)}function pR(r,i){var o=0;switch(r.tag){case 31:case 13:var l=r.stateNode,p=r.memoizedState;p!==null&&(o=p.retryLane);break;case 19:l=r.stateNode;break;case 22:l=r.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Zv(r,o)}function mR(r,i){return Ot(r,i)}var ql=null,Ha=null,Mh=!1,Fl=!1,Ph=!1,yi=0;function rs(r){r!==Ha&&r.next===null&&(Ha===null?ql=Ha=r:Ha=Ha.next=r),Fl=!0,Mh||(Mh=!0,gR())}function Zo(r,i){if(!Ph&&Fl){Ph=!0;do for(var o=!1,l=ql;l!==null;){if(r!==0){var p=l.pendingLanes;if(p===0)var m=0;else{var w=l.suspendedLanes,O=l.pingedLanes;m=(1<<31-hn(42|r)+1)-1,m&=p&~(w&~O),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,tx(l,m))}else m=Rt,m=Bn(l,l===Zt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Kn(l,m)||(o=!0,tx(l,m));l=l.next}while(o);Ph=!1}}function yR(){Jv()}function Jv(){Fl=Mh=!1;var r=0;yi!==0&&RR()&&(r=yi);for(var i=lt(),o=null,l=ql;l!==null;){var p=l.next,m=Wv(l,i);m===0?(l.next=null,o===null?ql=p:o.next=p,p===null&&(Ha=o)):(o=l,(r!==0||(m&3)!==0)&&(Fl=!0)),l=p}On!==0&&On!==5||Zo(r),yi!==0&&(yi=0)}function Wv(r,i){for(var o=r.suspendedLanes,l=r.pingedLanes,p=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var w=31-hn(m),O=1<<w,z=p[w];z===-1?((O&o)===0||(O&l)!==0)&&(p[w]=Jr(O,i)):z<=i&&(r.expiredLanes|=O),m&=~O}if(i=Zt,o=Rt,o=Bn(r,r===i?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l=r.callbackNode,o===0||r===i&&($t===2||$t===9)||r.cancelPendingCommit!==null)return l!==null&&l!==null&&Ft(l),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Kn(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(l!==null&&Ft(l),A(o)){case 2:case 8:o=Yn;break;case 32:o=An;break;case 268435456:o=Qs;break;default:o=An}return l=ex.bind(null,r),o=Ot(o,l),r.callbackPriority=i,r.callbackNode=o,i}return l!==null&&l!==null&&Ft(l),r.callbackPriority=2,r.callbackNode=null,2}function ex(r,i){if(On!==0&&On!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Vl()&&r.callbackNode!==o)return null;var l=Rt;return l=Bn(r,r===Zt?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l===0?null:(jv(r,l,i),Wv(r,lt()),r.callbackNode!=null&&r.callbackNode===o?ex.bind(null,r):null)}function tx(r,i){if(Vl())return null;jv(r,i,!0)}function gR(){OR(function(){(Ut&6)!==0?Ot(Rn,yR):Jv()})}function Nh(){if(yi===0){var r=Ta;r===0&&(r=Zr,Zr<<=1,(Zr&261888)===0&&(Zr=256)),yi=r}return yi}function nx(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Wc(""+r)}function rx(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function vR(r,i,o,l,p){if(i==="submit"&&o&&o.stateNode===p){var m=nx((p[oe]||null).action),w=l.submitter;w&&(i=(i=w[oe]||null)?nx(i.formAction):w.getAttribute("formAction"),i!==null&&(m=i,w=null));var O=new rl("action","action",null,l,p);r.push({event:O,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(yi!==0){var z=w?rx(p,w):new FormData(p);Jd(o,{pending:!0,data:z,method:p.method,action:m},null,z)}}else typeof m=="function"&&(O.preventDefault(),z=w?rx(p,w):new FormData(p),Jd(o,{pending:!0,data:z,method:p.method,action:m},m,z))},currentTarget:p}]})}}for(var Dh=0;Dh<md.length;Dh++){var kh=md[Dh],xR=kh.toLowerCase(),bR=kh[0].toUpperCase()+kh.slice(1);zr(xR,"on"+bR)}zr(kg,"onAnimationEnd"),zr(jg,"onAnimationIteration"),zr(Lg,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(LT,"onTransitionRun"),zr(UT,"onTransitionStart"),zr(zT,"onTransitionCancel"),zr(Ug,"onTransitionEnd"),Pe("onMouseEnter",["mouseout","mouseover"]),Pe("onMouseLeave",["mouseout","mouseover"]),Pe("onPointerEnter",["pointerout","pointerover"]),Pe("onPointerLeave",["pointerout","pointerover"]),Re("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Re("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Re("onBeforeInput",["compositionend","keypress","textInput","paste"]),Re("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Re("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Re("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jo));function sx(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var l=r[o],p=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var w=l.length-1;0<=w;w--){var O=l[w],z=O.instance,J=O.currentTarget;if(O=O.listener,z!==m&&p.isPropagationStopped())break e;m=O,p.currentTarget=J;try{m(p)}catch(ce){al(ce)}p.currentTarget=null,m=z}else for(w=0;w<l.length;w++){if(O=l[w],z=O.instance,J=O.currentTarget,O=O.listener,z!==m&&p.isPropagationStopped())break e;m=O,p.currentTarget=J;try{m(p)}catch(ce){al(ce)}p.currentTarget=null,m=z}}}}function Et(r,i){var o=i[Ie];o===void 0&&(o=i[Ie]=new Set);var l=r+"__bubble";o.has(l)||(ix(i,r,2,!1),o.add(l))}function jh(r,i,o){var l=0;i&&(l|=4),ix(o,r,l,i)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function Lh(r){if(!r[Yl]){r[Yl]=!0,Ue.forEach(function(o){o!=="selectionchange"&&(SR.has(o)||jh(o,!1,r),jh(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Yl]||(i[Yl]=!0,jh("selectionchange",!1,i))}}function ix(r,i,o,l){switch(kx(i)){case 2:var p=XR;break;case 8:p=QR;break;default:p=Zh}o=p.bind(null,i,o,r),p=void 0,!nd||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),l?p!==void 0?r.addEventListener(i,o,{capture:!0,passive:p}):r.addEventListener(i,o,!0):p!==void 0?r.addEventListener(i,o,{passive:p}):r.addEventListener(i,o,!1)}function Uh(r,i,o,l,p){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var O=l.stateNode.containerInfo;if(O===p)break;if(w===4)for(w=l.return;w!==null;){var z=w.tag;if((z===3||z===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;O!==null;){if(w=st(O),w===null)return;if(z=w.tag,z===5||z===6||z===26||z===27){l=m=w;continue e}O=O.parentNode}}l=l.return}ug(function(){var J=m,ce=ed(o),he=[];e:{var ee=zg.get(r);if(ee!==void 0){var se=rl,He=r;switch(r){case"keypress":if(tl(o)===0)break e;case"keydown":case"keyup":se=pT;break;case"focusin":He="focus",se=ad;break;case"focusout":He="blur",se=ad;break;case"beforeblur":case"afterblur":se=ad;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=hg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=nT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=gT;break;case kg:case jg:case Lg:se=iT;break;case Ug:se=xT;break;case"scroll":case"scrollend":se=eT;break;case"wheel":se=ST;break;case"copy":case"cut":case"paste":se=oT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=mg;break;case"toggle":case"beforetoggle":se=wT}var tt=(i&4)!==0,Xt=!tt&&(r==="scroll"||r==="scrollend"),q=tt?ee!==null?ee+"Capture":null:ee;tt=[];for(var B=J,Q;B!==null;){var ue=B;if(Q=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Q===null||q===null||(ue=bo(B,q),ue!=null&&tt.push(Wo(B,ue,Q))),Xt)break;B=B.return}0<tt.length&&(ee=new se(ee,He,null,o,ce),he.push({event:ee,listeners:tt}))}}if((i&7)===0){e:{if(ee=r==="mouseover"||r==="pointerover",se=r==="mouseout"||r==="pointerout",ee&&o!==Wf&&(He=o.relatedTarget||o.fromElement)&&(st(He)||He[_e]))break e;if((se||ee)&&(ee=ce.window===ce?ce:(ee=ce.ownerDocument)?ee.defaultView||ee.parentWindow:window,se?(He=o.relatedTarget||o.toElement,se=J,He=He?st(He):null,He!==null&&(Xt=c(He),tt=He.tag,He!==Xt||tt!==5&&tt!==27&&tt!==6)&&(He=null)):(se=null,He=J),se!==He)){if(tt=hg,ue="onMouseLeave",q="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(tt=mg,ue="onPointerLeave",q="onPointerEnter",B="pointer"),Xt=se==null?ee:We(se),Q=He==null?ee:We(He),ee=new tt(ue,B+"leave",se,o,ce),ee.target=Xt,ee.relatedTarget=Q,ue=null,st(ce)===J&&(tt=new tt(q,B+"enter",He,o,ce),tt.target=Q,tt.relatedTarget=Xt,ue=tt),Xt=ue,se&&He)t:{for(tt=_R,q=se,B=He,Q=0,ue=q;ue;ue=tt(ue))Q++;ue=0;for(var Qe=B;Qe;Qe=tt(Qe))ue++;for(;0<Q-ue;)q=tt(q),Q--;for(;0<ue-Q;)B=tt(B),ue--;for(;Q--;){if(q===B||B!==null&&q===B.alternate){tt=q;break t}q=tt(q),B=tt(B)}tt=null}else tt=null;se!==null&&ax(he,ee,se,tt,!1),He!==null&&Xt!==null&&ax(he,Xt,He,tt,!0)}}e:{if(ee=J?We(J):window,se=ee.nodeName&&ee.nodeName.toLowerCase(),se==="select"||se==="input"&&ee.type==="file")var kt=wg;else if(Sg(ee))if(Cg)kt=DT;else{kt=PT;var Ge=MT}else se=ee.nodeName,!se||se.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&xn(J.elementType)&&(kt=wg):kt=NT;if(kt&&(kt=kt(r,J))){_g(he,kt,o,ce);break e}Ge&&Ge(r,ee,J),r==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&_t(ee,"number",ee.value)}switch(Ge=J?We(J):window,r){case"focusin":(Sg(Ge)||Ge.contentEditable==="true")&&(va=Ge,dd=J,Ao=null);break;case"focusout":Ao=dd=va=null;break;case"mousedown":hd=!0;break;case"contextmenu":case"mouseup":case"dragend":hd=!1,Ng(he,o,ce);break;case"selectionchange":if(jT)break;case"keydown":case"keyup":Ng(he,o,ce)}var yt;if(cd)e:{switch(r){case"compositionstart":var At="onCompositionStart";break e;case"compositionend":At="onCompositionEnd";break e;case"compositionupdate":At="onCompositionUpdate";break e}At=void 0}else ga?xg(r,o)&&(At="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(At="onCompositionStart");At&&(yg&&o.locale!=="ko"&&(ga||At!=="onCompositionStart"?At==="onCompositionEnd"&&ga&&(yt=fg()):(ei=ce,rd="value"in ei?ei.value:ei.textContent,ga=!0)),Ge=Gl(J,At),0<Ge.length&&(At=new pg(At,r,null,o,ce),he.push({event:At,listeners:Ge}),yt?At.data=yt:(yt=bg(o),yt!==null&&(At.data=yt)))),(yt=ET?TT(r,o):RT(r,o))&&(At=Gl(J,"onBeforeInput"),0<At.length&&(Ge=new pg("onBeforeInput","beforeinput",null,o,ce),he.push({event:Ge,listeners:At}),Ge.data=yt)),vR(he,r,J,o,ce)}sx(he,i)})}function Wo(r,i,o){return{instance:r,listener:i,currentTarget:o}}function Gl(r,i){for(var o=i+"Capture",l=[];r!==null;){var p=r,m=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||m===null||(p=bo(r,o),p!=null&&l.unshift(Wo(r,p,m)),p=bo(r,i),p!=null&&l.push(Wo(r,p,m))),r.tag===3)return l;r=r.return}return[]}function _R(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function ax(r,i,o,l,p){for(var m=i._reactName,w=[];o!==null&&o!==l;){var O=o,z=O.alternate,J=O.stateNode;if(O=O.tag,z!==null&&z===l)break;O!==5&&O!==26&&O!==27||J===null||(z=J,p?(J=bo(o,m),J!=null&&w.unshift(Wo(o,J,z))):p||(J=bo(o,m),J!=null&&w.push(Wo(o,J,z)))),o=o.return}w.length!==0&&r.push({event:i,listeners:w})}var wR=/\r\n?/g,CR=/\u0000|\uFFFD/g;function ox(r){return(typeof r=="string"?r:""+r).replace(wR,`
`).replace(CR,"")}function cx(r,i){return i=ox(i),ox(r)===i}function Kt(r,i,o,l,p,m){switch(o){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Ht(r,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Ht(r,""+l);break;case"className":fe(r,"class",l);break;case"tabIndex":fe(r,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fe(r,o,l);break;case"style":cn(r,l,m);break;case"data":if(i!=="object"){fe(r,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(o);break}l=Wc(""+l),r.setAttribute(o,l);break;case"action":case"formAction":if(typeof l=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(i!=="input"&&Kt(r,i,"name",p.name,p,null),Kt(r,i,"formEncType",p.formEncType,p,null),Kt(r,i,"formMethod",p.formMethod,p,null),Kt(r,i,"formTarget",p.formTarget,p,null)):(Kt(r,i,"encType",p.encType,p,null),Kt(r,i,"method",p.method,p,null),Kt(r,i,"target",p.target,p,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(o);break}l=Wc(""+l),r.setAttribute(o,l);break;case"onClick":l!=null&&(r.onclick=_s);break;case"onScroll":l!=null&&Et("scroll",r);break;case"onScrollEnd":l!=null&&Et("scrollend",r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(o=l.__html,o!=null){if(p.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"multiple":r.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":r.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){r.removeAttribute("xlink:href");break}o=Wc(""+l),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,""+l):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":l===!0?r.setAttribute(o,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,l):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?r.setAttribute(o,l):r.removeAttribute(o);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?r.removeAttribute(o):r.setAttribute(o,l);break;case"popover":Et("beforetoggle",r),Et("toggle",r),ve(r,"popover",l);break;case"xlinkActuate":le(r,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":le(r,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":le(r,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":le(r,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":le(r,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":le(r,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":le(r,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":le(r,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":le(r,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ve(r,"is",l);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Nn.get(o)||o,ve(r,o,l))}}function zh(r,i,o,l,p,m){switch(o){case"style":cn(r,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(o=l.__html,o!=null){if(p.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"children":typeof l=="string"?Ht(r,l):(typeof l=="number"||typeof l=="bigint")&&Ht(r,""+l);break;case"onScroll":l!=null&&Et("scroll",r);break;case"onScrollEnd":l!=null&&Et("scrollend",r);break;case"onClick":l!=null&&(r.onclick=_s);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ke.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),i=o.slice(2,p?o.length-7:void 0),m=r[oe]||null,m=m!=null?m[o]:null,typeof m=="function"&&r.removeEventListener(i,m,p),typeof l=="function")){typeof m!="function"&&m!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,l,p);break e}o in r?r[o]=l:l===!0?r.setAttribute(o,""):ve(r,o,l)}}}function zn(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Et("error",r),Et("load",r);var l=!1,p=!1,m;for(m in o)if(o.hasOwnProperty(m)){var w=o[m];if(w!=null)switch(m){case"src":l=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Kt(r,i,m,w,o,null)}}p&&Kt(r,i,"srcSet",o.srcSet,o,null),l&&Kt(r,i,"src",o.src,o,null);return;case"input":Et("invalid",r);var O=m=w=p=null,z=null,J=null;for(l in o)if(o.hasOwnProperty(l)){var ce=o[l];if(ce!=null)switch(l){case"name":p=ce;break;case"type":w=ce;break;case"checked":z=ce;break;case"defaultChecked":J=ce;break;case"value":m=ce;break;case"defaultValue":O=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(s(137,i));break;default:Kt(r,i,l,ce,o,null)}}dt(r,m,O,z,J,w,p,!1);return;case"select":Et("invalid",r),l=w=m=null;for(p in o)if(o.hasOwnProperty(p)&&(O=o[p],O!=null))switch(p){case"value":m=O;break;case"defaultValue":w=O;break;case"multiple":l=O;default:Kt(r,i,p,O,o,null)}i=m,o=w,r.multiple=!!l,i!=null?mt(r,!!l,i,!1):o!=null&&mt(r,!!l,o,!0);return;case"textarea":Et("invalid",r),m=p=l=null;for(w in o)if(o.hasOwnProperty(w)&&(O=o[w],O!=null))switch(w){case"value":l=O;break;case"defaultValue":p=O;break;case"children":m=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(91));break;default:Kt(r,i,w,O,o,null)}Dt(r,l,p,m);return;case"option":for(z in o)if(o.hasOwnProperty(z)&&(l=o[z],l!=null))switch(z){case"selected":r.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(r,i,z,l,o,null)}return;case"dialog":Et("beforetoggle",r),Et("toggle",r),Et("cancel",r),Et("close",r);break;case"iframe":case"object":Et("load",r);break;case"video":case"audio":for(l=0;l<Jo.length;l++)Et(Jo[l],r);break;case"image":Et("error",r),Et("load",r);break;case"details":Et("toggle",r);break;case"embed":case"source":case"link":Et("error",r),Et("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(l=o[J],l!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Kt(r,i,J,l,o,null)}return;default:if(xn(i)){for(ce in o)o.hasOwnProperty(ce)&&(l=o[ce],l!==void 0&&zh(r,i,ce,l,o,void 0));return}}for(O in o)o.hasOwnProperty(O)&&(l=o[O],l!=null&&Kt(r,i,O,l,o,null))}function ER(r,i,o,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,m=null,w=null,O=null,z=null,J=null,ce=null;for(se in o){var he=o[se];if(o.hasOwnProperty(se)&&he!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":z=he;default:l.hasOwnProperty(se)||Kt(r,i,se,null,l,he)}}for(var ee in l){var se=l[ee];if(he=o[ee],l.hasOwnProperty(ee)&&(se!=null||he!=null))switch(ee){case"type":m=se;break;case"name":p=se;break;case"checked":J=se;break;case"defaultChecked":ce=se;break;case"value":w=se;break;case"defaultValue":O=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(s(137,i));break;default:se!==he&&Kt(r,i,ee,se,l,he)}}wt(r,w,O,z,J,ce,m,p);return;case"select":se=w=O=ee=null;for(m in o)if(z=o[m],o.hasOwnProperty(m)&&z!=null)switch(m){case"value":break;case"multiple":se=z;default:l.hasOwnProperty(m)||Kt(r,i,m,null,l,z)}for(p in l)if(m=l[p],z=o[p],l.hasOwnProperty(p)&&(m!=null||z!=null))switch(p){case"value":ee=m;break;case"defaultValue":O=m;break;case"multiple":w=m;default:m!==z&&Kt(r,i,p,m,l,z)}i=O,o=w,l=se,ee!=null?mt(r,!!o,ee,!1):!!l!=!!o&&(i!=null?mt(r,!!o,i,!0):mt(r,!!o,o?[]:"",!1));return;case"textarea":se=ee=null;for(O in o)if(p=o[O],o.hasOwnProperty(O)&&p!=null&&!l.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Kt(r,i,O,null,l,p)}for(w in l)if(p=l[w],m=o[w],l.hasOwnProperty(w)&&(p!=null||m!=null))switch(w){case"value":ee=p;break;case"defaultValue":se=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==m&&Kt(r,i,w,p,l,m)}rn(r,ee,se);return;case"option":for(var He in o)if(ee=o[He],o.hasOwnProperty(He)&&ee!=null&&!l.hasOwnProperty(He))switch(He){case"selected":r.selected=!1;break;default:Kt(r,i,He,null,l,ee)}for(z in l)if(ee=l[z],se=o[z],l.hasOwnProperty(z)&&ee!==se&&(ee!=null||se!=null))switch(z){case"selected":r.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Kt(r,i,z,ee,l,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in o)ee=o[tt],o.hasOwnProperty(tt)&&ee!=null&&!l.hasOwnProperty(tt)&&Kt(r,i,tt,null,l,ee);for(J in l)if(ee=l[J],se=o[J],l.hasOwnProperty(J)&&ee!==se&&(ee!=null||se!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,i));break;default:Kt(r,i,J,ee,l,se)}return;default:if(xn(i)){for(var Xt in o)ee=o[Xt],o.hasOwnProperty(Xt)&&ee!==void 0&&!l.hasOwnProperty(Xt)&&zh(r,i,Xt,void 0,l,ee);for(ce in l)ee=l[ce],se=o[ce],!l.hasOwnProperty(ce)||ee===se||ee===void 0&&se===void 0||zh(r,i,ce,ee,l,se);return}}for(var q in o)ee=o[q],o.hasOwnProperty(q)&&ee!=null&&!l.hasOwnProperty(q)&&Kt(r,i,q,null,l,ee);for(he in l)ee=l[he],se=o[he],!l.hasOwnProperty(he)||ee===se||ee==null&&se==null||Kt(r,i,he,ee,l,se)}function lx(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function TR(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,o=performance.getEntriesByType("resource"),l=0;l<o.length;l++){var p=o[l],m=p.transferSize,w=p.initiatorType,O=p.duration;if(m&&O&&lx(w)){for(w=0,O=p.responseEnd,l+=1;l<o.length;l++){var z=o[l],J=z.startTime;if(J>O)break;var ce=z.transferSize,he=z.initiatorType;ce&&lx(he)&&(z=z.responseEnd,w+=ce*(z<O?1:(O-J)/(z-J)))}if(--l,i+=8*(m+w)/(p.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Ih=null,Bh=null;function Kl(r){return r.nodeType===9?r:r.ownerDocument}function ux(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fx(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Hh(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var $h=null;function RR(){var r=window.event;return r&&r.type==="popstate"?r===$h?!1:($h=r,!0):($h=null,!1)}var dx=typeof setTimeout=="function"?setTimeout:void 0,AR=typeof clearTimeout=="function"?clearTimeout:void 0,hx=typeof Promise=="function"?Promise:void 0,OR=typeof queueMicrotask=="function"?queueMicrotask:typeof hx<"u"?function(r){return hx.resolve(null).then(r).catch(MR)}:dx;function MR(r){setTimeout(function(){throw r})}function gi(r){return r==="head"}function px(r,i){var o=i,l=0;do{var p=o.nextSibling;if(r.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(l===0){r.removeChild(p),Fa(i);return}l--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")l++;else if(o==="html")ec(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,ec(o);for(var m=o.firstChild;m;){var w=m.nextSibling,O=m.nodeName;m[Je]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=w}}else o==="body"&&ec(r.ownerDocument.body);o=p}while(o);Fa(i)}function mx(r,i){var o=r;r=0;do{var l=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),l&&l.nodeType===8)if(o=l.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=l}while(o)}function Vh(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Vh(o),nt(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function PR(r,i,o,l){for(;r.nodeType===1;){var p=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(l){if(!r[Je])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var m=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=Or(r.nextSibling),r===null)break}return null}function NR(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Or(r.nextSibling),r===null))return null;return r}function yx(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=Or(r.nextSibling),r===null))return null;return r}function qh(r){return r.data==="$?"||r.data==="$~"}function Fh(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function DR(r,i){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||o.readyState!=="loading")i();else{var l=function(){i(),o.removeEventListener("DOMContentLoaded",l)};o.addEventListener("DOMContentLoaded",l),r._reactRetry=l}}function Or(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var Yh=null;function gx(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(i===0)return Or(r.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}r=r.nextSibling}return null}function vx(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return r;i--}else o!=="/$"&&o!=="/&"||i++}r=r.previousSibling}return null}function xx(r,i,o){switch(i=Kl(o),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function ec(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);nt(r)}var Mr=new Map,bx=new Set;function Xl(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var zs=ie.d;ie.d={f:kR,r:jR,D:LR,C:UR,L:zR,m:IR,X:HR,S:BR,M:$R};function kR(){var r=zs.f(),i=Bl();return r||i}function jR(r){var i=rt(r);i!==null&&i.tag===5&&i.type==="form"?U0(i):zs.r(r)}var $a=typeof document>"u"?null:document;function Sx(r,i,o){var l=$a;if(l&&typeof i=="string"&&i){var p=at(i);p='link[rel="'+r+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),bx.has(p)||(bx.add(p),r={rel:r,crossOrigin:o,href:i},l.querySelector(p)===null&&(i=l.createElement("link"),zn(i,"link",r),Be(i),l.head.appendChild(i)))}}function LR(r){zs.D(r),Sx("dns-prefetch",r,null)}function UR(r,i){zs.C(r,i),Sx("preconnect",r,i)}function zR(r,i,o){zs.L(r,i,o);var l=$a;if(l&&r&&i){var p='link[rel="preload"][as="'+at(i)+'"]';i==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+at(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+at(o.imageSizes)+'"]')):p+='[href="'+at(r)+'"]';var m=p;switch(i){case"style":m=Va(r);break;case"script":m=qa(r)}Mr.has(m)||(r=g({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),Mr.set(m,r),l.querySelector(p)!==null||i==="style"&&l.querySelector(tc(m))||i==="script"&&l.querySelector(nc(m))||(i=l.createElement("link"),zn(i,"link",r),Be(i),l.head.appendChild(i)))}}function IR(r,i){zs.m(r,i);var o=$a;if(o&&r){var l=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+at(l)+'"][href="'+at(r)+'"]',m=p;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=qa(r)}if(!Mr.has(m)&&(r=g({rel:"modulepreload",href:r},i),Mr.set(m,r),o.querySelector(p)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(nc(m)))return}l=o.createElement("link"),zn(l,"link",r),Be(l),o.head.appendChild(l)}}}function BR(r,i,o){zs.S(r,i,o);var l=$a;if(l&&r){var p=et(l).hoistableStyles,m=Va(r);i=i||"default";var w=p.get(m);if(!w){var O={loading:0,preload:null};if(w=l.querySelector(tc(m)))O.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":i},o),(o=Mr.get(m))&&Gh(r,o);var z=w=l.createElement("link");Be(z),zn(z,"link",r),z._p=new Promise(function(J,ce){z.onload=J,z.onerror=ce}),z.addEventListener("load",function(){O.loading|=1}),z.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Ql(w,i,l)}w={type:"stylesheet",instance:w,count:1,state:O},p.set(m,w)}}}function HR(r,i){zs.X(r,i);var o=$a;if(o&&r){var l=et(o).hoistableScripts,p=qa(r),m=l.get(p);m||(m=o.querySelector(nc(p)),m||(r=g({src:r,async:!0},i),(i=Mr.get(p))&&Kh(r,i),m=o.createElement("script"),Be(m),zn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(p,m))}}function $R(r,i){zs.M(r,i);var o=$a;if(o&&r){var l=et(o).hoistableScripts,p=qa(r),m=l.get(p);m||(m=o.querySelector(nc(p)),m||(r=g({src:r,async:!0,type:"module"},i),(i=Mr.get(p))&&Kh(r,i),m=o.createElement("script"),Be(m),zn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(p,m))}}function _x(r,i,o,l){var p=(p=Te.current)?Xl(p):null;if(!p)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Va(o.href),o=et(p).hoistableStyles,l=o.get(i),l||(l={type:"style",instance:null,count:0,state:null},o.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Va(o.href);var m=et(p).hoistableStyles,w=m.get(r);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,w),(m=p.querySelector(tc(r)))&&!m._p&&(w.instance=m,w.state.loading=5),Mr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Mr.set(r,o),m||VR(p,r,o,w.state))),i&&l===null)throw Error(s(528,""));return w}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=qa(o),o=et(p).hoistableScripts,l=o.get(i),l||(l={type:"script",instance:null,count:0,state:null},o.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Va(r){return'href="'+at(r)+'"'}function tc(r){return'link[rel="stylesheet"]['+r+"]"}function wx(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function VR(r,i,o,l){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=r.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),zn(i,"link",o),Be(i),r.head.appendChild(i))}function qa(r){return'[src="'+at(r)+'"]'}function nc(r){return"script[async]"+r}function Cx(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var l=r.querySelector('style[data-href~="'+at(o.href)+'"]');if(l)return i.instance=l,Be(l),l;var p=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return l=(r.ownerDocument||r).createElement("style"),Be(l),zn(l,"style",p),Ql(l,o.precedence,r),i.instance=l;case"stylesheet":p=Va(o.href);var m=r.querySelector(tc(p));if(m)return i.state.loading|=4,i.instance=m,Be(m),m;l=wx(o),(p=Mr.get(p))&&Gh(l,p),m=(r.ownerDocument||r).createElement("link"),Be(m);var w=m;return w._p=new Promise(function(O,z){w.onload=O,w.onerror=z}),zn(m,"link",l),i.state.loading|=4,Ql(m,o.precedence,r),i.instance=m;case"script":return m=qa(o.src),(p=r.querySelector(nc(m)))?(i.instance=p,Be(p),p):(l=o,(p=Mr.get(m))&&(l=g({},o),Kh(l,p)),r=r.ownerDocument||r,p=r.createElement("script"),Be(p),zn(p,"link",l),r.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ql(l,o.precedence,r));return i.instance}function Ql(r,i,o){for(var l=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=l.length?l[l.length-1]:null,m=p,w=0;w<l.length;w++){var O=l[w];if(O.dataset.precedence===i)m=O;else if(m!==p)break}m?m.parentNode.insertBefore(r,m.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function Gh(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Kh(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Zl=null;function Ex(r,i,o){if(Zl===null){var l=new Map,p=Zl=new Map;p.set(o,l)}else p=Zl,l=p.get(o),l||(l=new Map,p.set(o,l));if(l.has(r))return l;for(l.set(r,null),o=o.getElementsByTagName(r),p=0;p<o.length;p++){var m=o[p];if(!(m[Je]||m[V]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var w=m.getAttribute(i)||"";w=r+w;var O=l.get(w);O?O.push(m):l.set(w,[m])}}return l}function Tx(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function qR(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Rx(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function FR(r,i,o,l){if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=Va(l.href),m=i.querySelector(tc(p));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=Jl.bind(r),i.then(r,r)),o.state.loading|=4,o.instance=m,Be(m);return}m=i.ownerDocument||i,l=wx(l),(p=Mr.get(p))&&Gh(l,p),m=m.createElement("link"),Be(m);var w=m;w._p=new Promise(function(O,z){w.onload=O,w.onerror=z}),zn(m,"link",l),o.instance=m}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=Jl.bind(r),i.addEventListener("load",o),i.addEventListener("error",o))}}var Xh=0;function YR(r,i){return r.stylesheets&&r.count===0&&eu(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var l=setTimeout(function(){if(r.stylesheets&&eu(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4+i);0<r.imgBytes&&Xh===0&&(Xh=62500*TR());var p=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&eu(r,r.stylesheets),r.unsuspend)){var m=r.unsuspend;r.unsuspend=null,m()}},(r.imgBytes>Xh?50:800)+i);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(l),clearTimeout(p)}}:null}function Jl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)eu(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Wl=null;function eu(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Wl=new Map,i.forEach(GR,r),Wl=null,Jl.call(r))}function GR(r,i){if(!(i.state.loading&4)){var o=Wl.get(r);if(o)var l=o.get(null);else{o=new Map,Wl.set(r,o);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<p.length;m++){var w=p[m];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),l=w)}l&&o.set(null,l)}p=i.instance,w=p.getAttribute("data-precedence"),m=o.get(w)||l,m===l&&o.set(null,p),o.set(w,p),this.count++,l=Jl.bind(this),p.addEventListener("load",l),p.addEventListener("error",l),m?m.parentNode.insertBefore(p,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),i.state.loading|=4}}var rc={$$typeof:k,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function KR(r,i,o,l,p,m,w,O,z){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wr(0),this.hiddenUpdates=Wr(null),this.identifierPrefix=l,this.onUncaughtError=p,this.onCaughtError=m,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function Ax(r,i,o,l,p,m,w,O,z,J,ce,he){return r=new KR(r,i,o,w,z,J,ce,he,O),i=1,m===!0&&(i|=24),m=dr(3,null,null,i),r.current=m,m.stateNode=r,i=Ad(),i.refCount++,r.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:o,cache:i},Nd(m),r}function Ox(r){return r?(r=Sa,r):Sa}function Mx(r,i,o,l,p,m){p=Ox(p),l.context===null?l.context=p:l.pendingContext=p,l=ai(i),l.payload={element:o},m=m===void 0?null:m,m!==null&&(l.callback=m),o=oi(r,l,i),o!==null&&(ar(o,r,i),jo(o,r,i))}function Px(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function Qh(r,i){Px(r,i),(r=r.alternate)&&Px(r,i)}function Nx(r){if(r.tag===13||r.tag===31){var i=ji(r,67108864);i!==null&&ar(i,r,67108864),Qh(r,67108864)}}function Dx(r){if(r.tag===13||r.tag===31){var i=gr();i=R(i);var o=ji(r,i);o!==null&&ar(o,r,i),Qh(r,i)}}var tu=!0;function XR(r,i,o,l){var p=H.T;H.T=null;var m=ie.p;try{ie.p=2,Zh(r,i,o,l)}finally{ie.p=m,H.T=p}}function QR(r,i,o,l){var p=H.T;H.T=null;var m=ie.p;try{ie.p=8,Zh(r,i,o,l)}finally{ie.p=m,H.T=p}}function Zh(r,i,o,l){if(tu){var p=Jh(l);if(p===null)Uh(r,i,l,nu,o),jx(r,l);else if(JR(p,r,i,o,l))l.stopPropagation();else if(jx(r,l),i&4&&-1<ZR.indexOf(r)){for(;p!==null;){var m=rt(p);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var w=Lr(m.pendingLanes);if(w!==0){var O=m;for(O.pendingLanes|=2,O.entangledLanes|=2;w;){var z=1<<31-hn(w);O.entanglements[1]|=z,w&=~z}rs(m),(Ut&6)===0&&(zl=lt()+500,Zo(0))}}break;case 31:case 13:O=ji(m,2),O!==null&&ar(O,m,2),Bl(),Qh(m,2)}if(m=Jh(l),m===null&&Uh(r,i,l,nu,o),m===p)break;p=m}p!==null&&l.stopPropagation()}else Uh(r,i,l,null,o)}}function Jh(r){return r=ed(r),Wh(r)}var nu=null;function Wh(r){if(nu=null,r=st(r),r!==null){var i=c(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=u(i),r!==null)return r;r=null}else if(o===31){if(r=f(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return nu=r,null}function kx(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yt()){case Rn:return 2;case Yn:return 8;case An:case jr:return 32;case Qs:return 268435456;default:return 32}default:return 32}}var ep=!1,vi=null,xi=null,bi=null,sc=new Map,ic=new Map,Si=[],ZR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jx(r,i){switch(r){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":sc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ic.delete(i.pointerId)}}function ac(r,i,o,l,p,m){return r===null||r.nativeEvent!==m?(r={blockedOn:i,domEventName:o,eventSystemFlags:l,nativeEvent:m,targetContainers:[p]},i!==null&&(i=rt(i),i!==null&&Nx(i)),r):(r.eventSystemFlags|=l,i=r.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),r)}function JR(r,i,o,l,p){switch(i){case"focusin":return vi=ac(vi,r,i,o,l,p),!0;case"dragenter":return xi=ac(xi,r,i,o,l,p),!0;case"mouseover":return bi=ac(bi,r,i,o,l,p),!0;case"pointerover":var m=p.pointerId;return sc.set(m,ac(sc.get(m)||null,r,i,o,l,p)),!0;case"gotpointercapture":return m=p.pointerId,ic.set(m,ac(ic.get(m)||null,r,i,o,l,p)),!0}return!1}function Lx(r){var i=st(r.target);if(i!==null){var o=c(i);if(o!==null){if(i=o.tag,i===13){if(i=u(o),i!==null){r.blockedOn=i,N(r.priority,function(){Dx(o)});return}}else if(i===31){if(i=f(o),i!==null){r.blockedOn=i,N(r.priority,function(){Dx(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ru(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=Jh(r.nativeEvent);if(o===null){o=r.nativeEvent;var l=new o.constructor(o.type,o);Wf=l,o.target.dispatchEvent(l),Wf=null}else return i=rt(o),i!==null&&Nx(i),r.blockedOn=o,!1;i.shift()}return!0}function Ux(r,i,o){ru(r)&&o.delete(i)}function WR(){ep=!1,vi!==null&&ru(vi)&&(vi=null),xi!==null&&ru(xi)&&(xi=null),bi!==null&&ru(bi)&&(bi=null),sc.forEach(Ux),ic.forEach(Ux)}function su(r,i){r.blockedOn===i&&(r.blockedOn=null,ep||(ep=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,WR)))}var iu=null;function zx(r){iu!==r&&(iu=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){iu===r&&(iu=null);for(var i=0;i<r.length;i+=3){var o=r[i],l=r[i+1],p=r[i+2];if(typeof l!="function"){if(Wh(l||o)===null)continue;break}var m=rt(o);m!==null&&(r.splice(i,3),i-=3,Jd(m,{pending:!0,data:p,method:o.method,action:l},l,p))}}))}function Fa(r){function i(z){return su(z,r)}vi!==null&&su(vi,r),xi!==null&&su(xi,r),bi!==null&&su(bi,r),sc.forEach(i),ic.forEach(i);for(var o=0;o<Si.length;o++){var l=Si[o];l.blockedOn===r&&(l.blockedOn=null)}for(;0<Si.length&&(o=Si[0],o.blockedOn===null);)Lx(o),o.blockedOn===null&&Si.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(l=0;l<o.length;l+=3){var p=o[l],m=o[l+1],w=p[oe]||null;if(typeof m=="function")w||zx(o);else if(w){var O=null;if(m&&m.hasAttribute("formAction")){if(p=m,w=m[oe]||null)O=w.formAction;else if(Wh(p)!==null)continue}else O=w.action;typeof O=="function"?o[l+1]=O:(o.splice(l,3),l-=3),zx(o)}}}function Ix(){function r(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(w){return p=w})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),l||setTimeout(o,20)}function o(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,p=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){l=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function tp(r){this._internalRoot=r}au.prototype.render=tp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,l=gr();Mx(o,l,r,i,null,null)},au.prototype.unmount=tp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Mx(r.current,2,null,r,null,null),Bl(),i[_e]=null}};function au(r){this._internalRoot=r}au.prototype.unstable_scheduleHydration=function(r){if(r){var i=x();r={blockedOn:null,target:r,priority:i};for(var o=0;o<Si.length&&i!==0&&i<Si[o].priority;o++);Si.splice(o,0,r),o===0&&Lx(r)}};var Bx=e.version;if(Bx!=="19.2.0")throw Error(s(527,Bx,"19.2.0"));ie.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=h(i),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var e2={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{Gn=ou.inject(e2),Qt=ou}catch{}}return cc.createRoot=function(r,i){if(!a(r))throw Error(s(299));var o=!1,l="",p=G0,m=K0,w=X0;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),i=Ax(r,1,!1,null,null,o,l,null,p,m,w,Ix),r[_e]=i.current,Lh(r),new tp(i)},cc.hydrateRoot=function(r,i,o){if(!a(r))throw Error(s(299));var l=!1,p="",m=G0,w=K0,O=X0,z=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.formState!==void 0&&(z=o.formState)),i=Ax(r,1,!0,i,o??null,l,p,z,m,w,O,Ix),i.context=Ox(null),o=i.current,l=gr(),l=R(l),p=ai(l),p.callback=null,oi(o,p,l),o=l,i.current.lanes=o,Ur(i,o),rs(i),r[_e]=i.current,Lh(r),new au(i)},cc.version="19.2.0",cc}var Zx;function l2(){if(Zx)return rp.exports;Zx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rp.exports=c2(),rp.exports}var u2=l2();const Qa=new WeakMap,Au=new WeakMap,Fu={current:[]};let cp=!1,Cc=0;const bc=new Set,cu=new Map;function uS(t){const e=Array.from(t).sort((n,s)=>n instanceof Za&&n.options.deps.includes(s)?1:s instanceof Za&&s.options.deps.includes(n)?-1:0);for(const n of e){if(Fu.current.includes(n))continue;Fu.current.push(n),n.recompute();const s=Au.get(n);if(s)for(const a of s){const c=Qa.get(a);c&&uS(c)}}}function f2(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function d2(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function fS(t){if(Cc>0&&!cu.has(t)&&cu.set(t,t.prevState),bc.add(t),!(Cc>0)&&!cp)try{for(cp=!0;bc.size>0;){const e=Array.from(bc);bc.clear();for(const n of e){const s=cu.get(n)??n.prevState;n.prevState=s,f2(n)}for(const n of e){const s=Qa.get(n);s&&(Fu.current.push(n),uS(s))}for(const n of e){const s=Qa.get(n);if(s)for(const a of s)d2(a)}}}finally{cp=!1,Fu.current=[],cu.clear()}}function Ec(t){Cc++;try{t()}finally{if(Cc--,Cc===0){const e=bc.values().next().value;e&&fS(e)}}}function h2(t){return typeof t=="function"}class Wp{constructor(e,n){this.listeners=new Set,this.subscribe=s=>{var a,c;this.listeners.add(s);const u=(c=(a=this.options)==null?void 0:a.onSubscribe)==null?void 0:c.call(a,s,this);return()=>{this.listeners.delete(s),u?.()}},this.prevState=e,this.state=e,this.options=n}setState(e){var n,s,a;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(e):h2(e)?this.state=e(this.prevState):this.state=e,(a=(s=this.options)==null?void 0:s.onUpdate)==null||a.call(s),fS(this)}}class Za{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=this.options.deps.length,s=new Array(n),a=new Array(n);for(let c=0;c<n;c++){const u=this.options.deps[c];s[c]=u.prevState,a[c]=u.state}return this.lastSeenDepValues=a,{prevDepVals:s,currDepVals:a,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,s;this.prevState=this.state;const a=this.getDepVals();this.state=this.options.fn(a),(s=(n=this.options).onUpdate)==null||s.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const c of this.options.deps)c instanceof Za&&c.checkIfRecalculationNeededDeeply();let n=!1;const s=this.lastSeenDepValues,{currDepVals:a}=this.getDepVals();for(let c=0;c<a.length;c++)if(a[c]!==s[c]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var s,a;this.listeners.add(n);const c=(a=(s=this.options).onSubscribe)==null?void 0:a.call(s,n,this);return()=>{this.listeners.delete(n),c?.()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const n of e)if(n instanceof Za)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof Wp){let s=Qa.get(n);s||(s=new Set,Qa.set(n,s)),s.add(this);let a=Au.get(this);a||(a=new Set,Au.set(this,a)),a.add(n)}}unregisterFromGraph(e=this.options.deps){for(const n of e)if(n instanceof Za)this.unregisterFromGraph(n.options.deps);else if(n instanceof Wp){const s=Qa.get(n);s&&s.delete(this);const a=Au.get(this);a&&a.delete(n)}}}const Ei="__TSR_index",Jx="popstate",Wx="beforeunload";function p2(t){let e=t.getLocation();const n=new Set,s=u=>{e=t.getLocation(),n.forEach(f=>f({location:e,action:u}))},a=u=>{t.notifyOnIndexChange??!0?s(u):e=t.getLocation()},c=async({task:u,navigateOpts:f,...d})=>{if(f?.ignoreBlocker??!1){u();return}const y=t.getBlockers?.()??[],g=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&y.length&&g)for(const v of y){const S=Yu(d.path,d.state);if(await v.blockerFn({currentLocation:e,nextLocation:S,action:d.type})){t.onBlocked?.();return}}u()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:u=>(n.add(u),()=>{n.delete(u)}),push:(u,f,d)=>{const h=e.state[Ei];f=eb(h+1,f),c({task:()=>{t.pushState(u,f),s({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:u,state:f})},replace:(u,f,d)=>{const h=e.state[Ei];f=eb(h,f),c({task:()=>{t.replaceState(u,f),s({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:u,state:f})},go:(u,f)=>{c({task:()=>{t.go(u),a({type:"GO",index:u})},navigateOpts:f,type:"GO"})},back:u=>{c({task:()=>{t.back(u?.ignoreBlocker??!1),a({type:"BACK"})},navigateOpts:u,type:"BACK"})},forward:u=>{c({task:()=>{t.forward(u?.ignoreBlocker??!1),a({type:"FORWARD"})},navigateOpts:u,type:"FORWARD"})},canGoBack:()=>e.state[Ei]!==0,createHref:u=>t.createHref(u),block:u=>{if(!t.setBlockers)return()=>{};const f=t.getBlockers?.()??[];return t.setBlockers([...f,u]),()=>{const d=t.getBlockers?.()??[];t.setBlockers?.(d.filter(h=>h!==u))}},flush:()=>t.flush?.(),destroy:()=>t.destroy?.(),notify:s}}function eb(t,e){e||(e={});const n=Wm();return{...e,key:n,__TSR_key:n,[Ei]:t}}function m2(t){const e=typeof document<"u"?window:void 0,n=e.history.pushState,s=e.history.replaceState;let a=[];const c=()=>a,u=X=>a=X,f=(X=>X),d=(()=>Yu(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state));if(!e.history.state?.__TSR_key&&!e.history.state?.key){const X=Wm();e.history.replaceState({[Ei]:0,key:X,__TSR_key:X},"")}let h=d(),y,g=!1,v=!1,S=!1,C=!1;const E=()=>h;let M,P;const D=()=>{M&&(F._ignoreSubscribers=!0,(M.isPush?e.history.pushState:e.history.replaceState)(M.state,"",M.href),F._ignoreSubscribers=!1,M=void 0,P=void 0,y=void 0)},k=(X,me,xe)=>{const Se=f(me);P||(y=h),h=Yu(me,xe),M={href:Se,state:xe,isPush:M?.isPush||X==="push"},P||(P=Promise.resolve().then(()=>D()))},j=X=>{h=d(),F.notify({type:X})},Y=async()=>{if(v){v=!1;return}const X=d(),me=X.state[Ei]-h.state[Ei],xe=me===1,Se=me===-1,Ce=!xe&&!Se||g;g=!1;const Ee=Ce?"GO":Se?"BACK":"FORWARD",be=Ce?{type:"GO",index:me}:{type:Se?"BACK":"FORWARD"};if(S)S=!1;else{const Ne=c();if(typeof document<"u"&&Ne.length){for(const H of Ne)if(await H.blockerFn({currentLocation:h,nextLocation:X,action:Ee})){v=!0,e.history.go(1),F.notify(be);return}}}h=d(),F.notify(be)},W=X=>{if(C){C=!1;return}let me=!1;const xe=c();if(typeof document<"u"&&xe.length)for(const Se of xe){const Ce=Se.enableBeforeUnload??!0;if(Ce===!0){me=!0;break}if(typeof Ce=="function"&&Ce()===!0){me=!0;break}}if(me)return X.preventDefault(),X.returnValue=""},F=p2({getLocation:E,getLength:()=>e.history.length,pushState:(X,me)=>k("push",X,me),replaceState:(X,me)=>k("replace",X,me),back:X=>(X&&(S=!0),C=!0,e.history.back()),forward:X=>{X&&(S=!0),C=!0,e.history.forward()},go:X=>{g=!0,e.history.go(X)},createHref:X=>f(X),flush:D,destroy:()=>{e.history.pushState=n,e.history.replaceState=s,e.removeEventListener(Wx,W,{capture:!0}),e.removeEventListener(Jx,Y)},onBlocked:()=>{y&&h!==y&&(h=y)},getBlockers:c,setBlockers:u,notifyOnIndexChange:!1});return e.addEventListener(Wx,W,{capture:!0}),e.addEventListener(Jx,Y),e.history.pushState=function(...X){const me=n.apply(e.history,X);return F._ignoreSubscribers||j("PUSH"),me},e.history.replaceState=function(...X){const me=s.apply(e.history,X);return F._ignoreSubscribers||j("REPLACE"),me},F}function Yu(t,e){const n=t.indexOf("#"),s=t.indexOf("?"),a=Wm();return{href:t,pathname:t.substring(0,n>0?s>0?Math.min(n,s):n:s>0?s:t.length),hash:n>-1?t.substring(n):"",search:s>-1?t.slice(s,n===-1?void 0:n):"",state:e||{[Ei]:0,key:a,__TSR_key:a}}}function Wm(){return(Math.random()+1).toString(36).substring(7)}function em(t){return t[t.length-1]}function y2(t){return typeof t=="function"}function na(t,e){return y2(t)?t(e):t}const g2=Object.prototype.hasOwnProperty;function Pr(t,e){if(t===e)return t;const n=e,s=rb(t)&&rb(n);if(!s&&!(Gu(t)&&Gu(n)))return n;const a=s?t:tb(t);if(!a)return n;const c=s?n:tb(n);if(!c)return n;const u=a.length,f=c.length,d=s?new Array(f):{};let h=0;for(let y=0;y<f;y++){const g=s?y:c[y],v=t[g],S=n[g];if(v===S){d[g]=v,(s?y<u:g2.call(t,g))&&h++;continue}if(v===null||S===null||typeof v!="object"||typeof S!="object"){d[g]=S;continue}const C=Pr(v,S);d[g]=C,C===v&&h++}return u===f&&h===u?t:d}function tb(t){const e=[],n=Object.getOwnPropertyNames(t);for(const a of n){if(!Object.prototype.propertyIsEnumerable.call(t,a))return!1;e.push(a)}const s=Object.getOwnPropertySymbols(t);for(const a of s){if(!Object.prototype.propertyIsEnumerable.call(t,a))return!1;e.push(a)}return e}function Gu(t){if(!nb(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!nb(n)||!n.hasOwnProperty("isPrototypeOf"))}function nb(t){return Object.prototype.toString.call(t)==="[object Object]"}function rb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ra(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let s=0,a=t.length;s<a;s++)if(!ra(t[s],e[s],n))return!1;return!0}if(Gu(t)&&Gu(e)){const s=n?.ignoreUndefined??!0;if(n?.partial){for(const u in e)if((!s||e[u]!==void 0)&&!ra(t[u],e[u],n))return!1;return!0}let a=0;if(!s)a=Object.keys(t).length;else for(const u in t)t[u]!==void 0&&a++;let c=0;for(const u in e)if((!s||e[u]!==void 0)&&(c++,c>a||!ra(t[u],e[u],n)))return!1;return a===c}return!1}function no(t){let e,n;const s=new Promise((a,c)=>{e=a,n=c});return s.status="pending",s.resolve=a=>{s.status="resolved",s.value=a,e(a),t?.(a)},s.reject=a=>{s.status="rejected",n(a)},s}function Ti(t){return!!(t&&typeof t=="object"&&typeof t.then=="function")}var v2="Invariant failed";function Gs(t,e){if(!t)throw new Error(v2)}const cr="__root__",ls=0,oa=1,ro=2,so=3;function qs(t){return ey(t.filter(e=>e!==void 0).join("/"))}function ey(t){return t.replace(/\/{2,}/g,"/")}function ty(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Ri(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function Ou(t){return Ri(ty(t))}function Ku(t,e){return t?.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function x2(t,e,n){return Ku(t,n)===Ku(e,n)}function b2(t){const{type:e,value:n}=t;if(e===ls)return n;const{prefixSegment:s,suffixSegment:a}=t;if(e===oa){const c=n.substring(1);if(s&&a)return`${s}{$${c}}${a}`;if(s)return`${s}{$${c}}`;if(a)return`{$${c}}${a}`}if(e===so){const c=n.substring(1);return s&&a?`${s}{-$${c}}${a}`:s?`${s}{-$${c}}`:a?`{-$${c}}${a}`:`{-$${c}}`}if(e===ro){if(s&&a)return`${s}{$}${a}`;if(s)return`${s}{$}`;if(a)return`{$}${a}`}return n}function S2({base:t,to:e,trailingSlash:n="never",parseCache:s}){let a=dS(t,s).slice();const c=Sf(e,s);a.length>1&&em(a)?.value==="/"&&a.pop();for(let d=0,h=c.length;d<h;d++){const y=c[d],g=y.value;g==="/"?d?d===h-1&&a.push(y):a=[y]:g===".."?a.pop():g==="."||a.push(y)}a.length>1&&(em(a).value==="/"?n==="never"&&a.pop():n==="always"&&a.push({type:ls,value:"/"}));const u=a.map(b2);return qs(u)}const dS=(t,e)=>hS(t,e,!0),Sf=(t,e)=>hS(t,e,!1),hS=(t,e,n)=>{if(!t)return[];const s=e?.get(t);if(s)return s;const a=R2(t,n);return e?.set(t,a),a},_2=/^\$.{1,}$/,w2=/^(.*?)\{(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,C2=/^(.*?)\{-(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,E2=/^\$$/,T2=/^(.*?)\{\$\}(.*)$/;function R2(t,e){t=ey(t);const n=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),n.push({type:ls,value:"/"})),!t)return n;const s=t.split("/").filter(Boolean);return n.push(...s.map(a=>{const c=!e&&a!==cr&&a.slice(-1)==="_"?a.slice(0,-1):a,u=c.match(T2);if(u){const h=u[1],y=u[2];return{type:ro,value:"$",prefixSegment:h||void 0,suffixSegment:y||void 0}}const f=c.match(C2);if(f){const h=f[1],y=f[2],g=f[3];return{type:so,value:y,prefixSegment:h||void 0,suffixSegment:g||void 0}}const d=c.match(w2);if(d){const h=d[1],y=d[2],g=d[3];return{type:oa,value:""+y,prefixSegment:h||void 0,suffixSegment:g||void 0}}if(_2.test(c)){const h=c.substring(1);return{type:oa,value:"$"+h,prefixSegment:void 0,suffixSegment:void 0}}return E2.test(c)?{type:ro,value:"$",prefixSegment:void 0,suffixSegment:void 0}:{type:ls,value:c.includes("%25")?c.split("%25").map(h=>decodeURI(h)).join("%25"):decodeURI(c)}})),t.slice(-1)==="/"&&(t=t.substring(1),n.push({type:ls,value:"/"})),n}function lu({path:t,params:e,leaveWildcards:n,leaveParams:s,decodeCharMap:a,parseCache:c}){const u=Sf(t,c);function f(g){const v=e[g],S=typeof v=="string";return g==="*"||g==="_splat"?S?encodeURI(v):v:S?A2(v,a):v}let d=!1;const h={},y=qs(u.map(g=>{if(g.type===ls)return g.value;if(g.type===ro){h._splat=e._splat,h["*"]=e._splat;const v=g.prefixSegment||"",S=g.suffixSegment||"";if(!e._splat)return d=!0,n?`${v}${g.value}${S}`:v||S?`${v}${S}`:void 0;const C=f("_splat");return n?`${v}${g.value}${C??""}${S}`:`${v}${C}${S}`}if(g.type===oa){const v=g.value.substring(1);!d&&!(v in e)&&(d=!0),h[v]=e[v];const S=g.prefixSegment||"",C=g.suffixSegment||"";if(s){const E=f(g.value);return`${S}${g.value}${E??""}${C}`}return`${S}${f(v)??"undefined"}${C}`}if(g.type===so){const v=g.value.substring(1),S=g.prefixSegment||"",C=g.suffixSegment||"";if(!(v in e)||e[v]==null)return n?`${S}${v}${C}`:S||C?`${S}${C}`:void 0;if(h[v]=e[v],s){const E=f(g.value);return`${S}${g.value}${E??""}${C}`}return n?`${S}${v}${f(v)??""}${C}`:`${S}${f(v)??""}${C}`}return g.value}));return{usedParams:h,interpolatedPath:y,isMissingParams:d}}function A2(t,e){let n=encodeURIComponent(t);if(e)for(const[s,a]of e)n=n.replaceAll(s,a);return n}function tm(t,e,n){const s=O2(t,e,n);if(!(e.to&&!s))return s??{}}function O2(t,{to:e,fuzzy:n,caseSensitive:s},a){const c=e,u=dS(t.startsWith("/")?t:`/${t}`,a),f=Sf(c.startsWith("/")?c:`/${c}`,a),d={};return M2(u,f,d,n,s)?d:void 0}function M2(t,e,n,s,a){let c=0,u=0;for(;c<t.length||u<e.length;){const f=t[c],d=e[u];if(d){if(d.type===ro){const h=t.slice(c);let y;if(d.prefixSegment||d.suffixSegment){if(!f)return!1;const g=d.prefixSegment||"",v=d.suffixSegment||"",S=f.value;if("prefixSegment"in d&&!S.startsWith(g)||"suffixSegment"in d&&!t[t.length-1]?.value.endsWith(v))return!1;let C=decodeURI(qs(h.map(E=>E.value)));g&&C.startsWith(g)&&(C=C.slice(g.length)),v&&C.endsWith(v)&&(C=C.slice(0,C.length-v.length)),y=C}else y=decodeURI(qs(h.map(g=>g.value)));return n["*"]=y,n._splat=y,!0}if(d.type===ls){if(d.value==="/"&&!f?.value){u++;continue}if(f){if(a){if(d.value!==f.value)return!1}else if(d.value.toLowerCase()!==f.value.toLowerCase())return!1;c++,u++;continue}else return!1}if(d.type===oa){if(!f||f.value==="/")return!1;let h="",y=!1;if(d.prefixSegment||d.suffixSegment){const g=d.prefixSegment||"",v=d.suffixSegment||"",S=f.value;if(g&&!S.startsWith(g)||v&&!S.endsWith(v))return!1;let C=S;g&&C.startsWith(g)&&(C=C.slice(g.length)),v&&C.endsWith(v)&&(C=C.slice(0,C.length-v.length)),h=decodeURIComponent(C),y=!0}else h=decodeURIComponent(f.value),y=!0;y&&(n[d.value.substring(1)]=h,c++),u++;continue}if(d.type===so){if(!f){u++;continue}if(f.value==="/"){u++;continue}let h="",y=!1;if(d.prefixSegment||d.suffixSegment){const g=d.prefixSegment||"",v=d.suffixSegment||"",S=f.value;if((!g||S.startsWith(g))&&(!v||S.endsWith(v))){let C=S;g&&C.startsWith(g)&&(C=C.slice(g.length)),v&&C.endsWith(v)&&(C=C.slice(0,C.length-v.length)),h=decodeURIComponent(C),y=!0}}else{let g=!0;for(let v=u+1;v<e.length;v++){const S=e[v];if(S?.type===ls&&S.value===f.value){g=!1;break}if(S?.type===oa||S?.type===ro){t.length<e.length&&(g=!1);break}}g&&(h=decodeURIComponent(f.value),y=!0)}y&&(n[d.value.substring(1)]=h,c++),u++;continue}}if(c<t.length&&u>=e.length)return n["**"]=qs(t.slice(c).map(h=>h.value)),!!s&&e[e.length-1]?.value!=="/";if(u<e.length&&c>=t.length){for(let h=u;h<e.length;h++)if(e[h]?.type!==so)return!1;break}break}return!0}const P2=.75,N2=1,D2=.5,k2=.4,j2=.25,L2=.2,U2=.05,z2=.02,I2=.01,sb=2e-4,ib=1e-4;function ab(t,e){return t.prefixSegment&&t.suffixSegment?e+U2+sb*t.prefixSegment.length+ib*t.suffixSegment.length:t.prefixSegment?e+z2+sb*t.prefixSegment.length:t.suffixSegment?e+I2+ib*t.suffixSegment.length:e}function B2(t){const e=[];return t.forEach((s,a)=>{if(s.isRoot||!s.path)return;const c=ty(s.fullPath);let u=Sf(c),f=0;for(;u.length>f+1&&u[f]?.value==="/";)f++;f>0&&(u=u.slice(f));let d=0,h=!1;const y=u.map((g,v)=>{if(g.value==="/")return P2;if(g.type===ls)return N2;let S;g.type===oa?S=D2:g.type===so?(S=k2,d++):S=j2;for(let C=v+1;C<u.length;C++){const E=u[C];if(E.type===ls&&E.value!=="/")return h=!0,ab(g,S+L2)}return ab(g,S)});e.push({child:s,trimmed:c,parsed:u,index:a,scores:y,optionalParamCount:d,hasStaticAfter:h})}),e.sort((s,a)=>{const c=Math.min(s.scores.length,a.scores.length);for(let u=0;u<c;u++)if(s.scores[u]!==a.scores[u])return a.scores[u]-s.scores[u];if(s.scores.length!==a.scores.length){if(s.optionalParamCount!==a.optionalParamCount){if(s.hasStaticAfter===a.hasStaticAfter)return s.optionalParamCount-a.optionalParamCount;if(s.hasStaticAfter&&!a.hasStaticAfter)return-1;if(!s.hasStaticAfter&&a.hasStaticAfter)return 1}return a.scores.length-s.scores.length}for(let u=0;u<c;u++)if(s.parsed[u].value!==a.parsed[u].value)return s.parsed[u].value>a.parsed[u].value?1:-1;return s.index-a.index}).map((s,a)=>(s.child.rank=a,s.child))}function H2({routeTree:t,initRoute:e}){const n={},s={},a=u=>{u.forEach((f,d)=>{e?.(f,d);const h=n[f.id];if(Gs(!h,`Duplicate routes found with id: ${String(f.id)}`),n[f.id]=f,!f.isRoot&&f.path){const g=Ri(f.fullPath);(!s[g]||f.fullPath.endsWith("/"))&&(s[g]=f)}const y=f.children;y?.length&&a(y)})};a([t]);const c=B2(Object.values(n));return{routesById:n,routesByPath:s,flatRoutes:c}}function Yr(t){return!!t?.isNotFound}function $2(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const Xu="tsr-scroll-restoration-v1_3",V2=(t,e)=>{let n;return(...s)=>{n||(n=setTimeout(()=>{t(...s),n=null},e))}};function q2(){const t=$2();if(!t)return null;const e=t.getItem(Xu);let n=e?JSON.parse(e):{};return{state:n,set:s=>(n=na(s,n)||n,t.setItem(Xu,JSON.stringify(n)))}}const uu=q2(),nm=t=>t.state.__TSR_key||t.href;function F2(t){const e=[];let n;for(;n=t.parentNode;)e.push(`${t.tagName}:nth-child(${Array.prototype.indexOf.call(n.children,t)+1})`),t=n;return`${e.reverse().join(" > ")}`.toLowerCase()}let Qu=!1;function pS({storageKey:t,key:e,behavior:n,shouldScrollRestoration:s,scrollToTopSelectors:a,location:c}){let u;try{u=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(h){console.error(h);return}const f=e||window.history.state?.__TSR_key,d=u[f];Qu=!0;e:{if(s&&d&&Object.keys(d).length>0){for(const g in d){const v=d[g];if(g==="window")window.scrollTo({top:v.scrollY,left:v.scrollX,behavior:n});else if(g){const S=document.querySelector(g);S&&(S.scrollLeft=v.scrollX,S.scrollTop=v.scrollY)}}break e}const h=(c??window.location).hash.split("#",2)[1];if(h){const g=window.history.state?.__hashScrollIntoViewOptions??!0;if(g){const v=document.getElementById(h);v&&v.scrollIntoView(g)}break e}const y={top:0,left:0,behavior:n};if(window.scrollTo(y),a)for(const g of a){if(g==="window")continue;const v=typeof g=="function"?g():document.querySelector(g);v&&v.scrollTo(y)}}Qu=!1}function Y2(t,e){if(!uu&&!t.isServer||((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),t.isServer||t.isScrollRestorationSetup||!uu))return;t.isScrollRestorationSetup=!0,Qu=!1;const s=t.options.getScrollRestorationKey||nm;window.history.scrollRestoration="manual";const a=c=>{if(Qu||!t.isScrollRestoring)return;let u="";if(c.target===document||c.target===window)u="window";else{const d=c.target.getAttribute("data-scroll-restoration-id");d?u=`[data-scroll-restoration-id="${d}"]`:u=F2(c.target)}const f=s(t.state.location);uu.set(d=>{const h=d[f]||={},y=h[u]||={};if(u==="window")y.scrollX=window.scrollX||0,y.scrollY=window.scrollY||0;else if(u){const g=document.querySelector(u);g&&(y.scrollX=g.scrollLeft||0,y.scrollY=g.scrollTop||0)}return d})};typeof document<"u"&&document.addEventListener("scroll",V2(a,100),!0),t.subscribe("onRendered",c=>{const u=s(c.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation})||(pS({storageKey:Xu,key:u,behavior:t.options.scrollRestorationBehavior,shouldScrollRestoration:t.isScrollRestoring,scrollToTopSelectors:t.options.scrollToTopSelectors,location:t.history.location}),t.isScrollRestoring&&uu.set(f=>(f[u]||={},f)))})}function G2(t){if(typeof document<"u"&&document.querySelector){const e=t.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&t.state.location.hash!==""){const n=document.getElementById(t.state.location.hash);n&&n.scrollIntoView(e)}}}function K2(t,e=String){const n=new URLSearchParams;for(const s in t){const a=t[s];a!==void 0&&n.set(s,e(a))}return n.toString()}function lp(t){return t?t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t:""}function X2(t){const e=new URLSearchParams(t),n={};for(const[s,a]of e.entries()){const c=n[s];c==null?n[s]=lp(a):Array.isArray(c)?c.push(lp(a)):n[s]=[c,lp(a)]}return n}const Q2=J2(JSON.parse),Z2=W2(JSON.stringify,JSON.parse);function J2(t){return e=>{e[0]==="?"&&(e=e.substring(1));const n=X2(e);for(const s in n){const a=n[s];if(typeof a=="string")try{n[s]=t(a)}catch{}}return n}}function W2(t,e){const n=typeof e=="function";function s(a){if(typeof a=="object"&&a!==null)try{return t(a)}catch{}else if(n&&typeof a=="string")try{return e(a),t(a)}catch{}return a}return a=>{const c=K2(a,s);return c?`?${c}`:""}}function eA(t){if(t.statusCode=t.statusCode||t.code||307,!t.reloadDocument&&typeof t.href=="string")try{new URL(t.href),t.reloadDocument=!0}catch{}const e=new Headers(t.headers);t.href&&e.get("Location")===null&&e.set("Location",t.href);const n=new Response(null,{status:t.statusCode,headers:e});if(n.options=t,t.throw)throw n;return n}function as(t){return t instanceof Response&&!!t.options}function tA(t){const e=new Map;let n,s;const a=c=>{c.next&&(c.prev?(c.prev.next=c.next,c.next.prev=c.prev,c.next=void 0,s&&(s.next=c,c.prev=s)):(c.next.prev=void 0,n=c.next,c.next=void 0,s&&(c.prev=s,s.next=c)),s=c)};return{get(c){const u=e.get(c);if(u)return a(u),u.value},set(c,u){if(e.size>=t&&n){const d=n;e.delete(d.key),d.next&&(n=d.next,d.next.prev=void 0),d===s&&(s=void 0)}const f=e.get(c);if(f)f.value=u,a(f);else{const d={key:c,value:u,prev:s};s&&(s.next=d),s=d,n||(n=d),e.set(c,d)}}}}const Mu=t=>{if(!t.rendered)return t.rendered=!0,t.onReady?.()},_f=(t,e)=>!!(t.preload&&!t.router.state.matches.some(n=>n.id===e)),mS=(t,e)=>{const n=t.router.routesById[e.routeId??""]??t.router.routeTree;!n.options.notFoundComponent&&t.router.options?.defaultNotFoundComponent&&(n.options.notFoundComponent=t.router.options.defaultNotFoundComponent),Gs(n.options.notFoundComponent);const s=t.matches.find(a=>a.routeId===n.id);Gs(s,"Could not find match for route: "+n.id),t.updateMatch(s.id,a=>({...a,status:"notFound",error:e,isFetching:!1})),e.routerCode==="BEFORE_LOAD"&&n.parentRoute&&(e.routeId=n.parentRoute.id,mS(t,e))},Ci=(t,e,n)=>{if(!(!as(n)&&!Yr(n))){if(as(n)&&n.redirectHandled&&!n.options.reloadDocument)throw n;if(e){e._nonReactive.beforeLoadPromise?.resolve(),e._nonReactive.loaderPromise?.resolve(),e._nonReactive.beforeLoadPromise=void 0,e._nonReactive.loaderPromise=void 0;const s=as(n)?"redirected":"notFound";t.updateMatch(e.id,a=>({...a,status:s,isFetching:!1,error:n})),Yr(n)&&!n.routeId&&(n.routeId=e.routeId),e._nonReactive.loadPromise?.resolve()}throw as(n)?(t.rendered=!0,n.options._fromLocation=t.location,n.redirectHandled=!0,n=t.router.resolveRedirect(n),n):(mS(t,n),n)}},yS=(t,e)=>{const n=t.router.getMatch(e);return!!(!t.router.isServer&&n._nonReactive.dehydrated||t.router.isServer&&n.ssr===!1)},lc=(t,e,n,s)=>{const{id:a,routeId:c}=t.matches[e],u=t.router.looseRoutesById[c];if(n instanceof Promise)throw n;n.routerCode=s,t.firstBadMatchIndex??=e,Ci(t,t.router.getMatch(a),n);try{u.options.onError?.(n)}catch(f){n=f,Ci(t,t.router.getMatch(a),n)}t.updateMatch(a,f=>(f._nonReactive.beforeLoadPromise?.resolve(),f._nonReactive.beforeLoadPromise=void 0,f._nonReactive.loadPromise?.resolve(),{...f,error:n,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},nA=(t,e,n,s)=>{const a=t.router.getMatch(e),c=t.matches[n-1]?.id,u=c?t.router.getMatch(c):void 0;if(t.router.isShell()){a.ssr=e===cr;return}if(u?.ssr===!1){a.ssr=!1;return}const f=S=>S===!0&&u?.ssr==="data-only"?"data-only":S,d=t.router.options.defaultSsr??!0;if(s.options.ssr===void 0){a.ssr=f(d);return}if(typeof s.options.ssr!="function"){a.ssr=f(s.options.ssr);return}const{search:h,params:y}=a,g={search:fu(h,a.searchError),params:fu(y,a.paramsError),location:t.location,matches:t.matches.map(S=>({index:S.index,pathname:S.pathname,fullPath:S.fullPath,staticData:S.staticData,id:S.id,routeId:S.routeId,search:fu(S.search,S.searchError),params:fu(S.params,S.paramsError),ssr:S.ssr}))},v=s.options.ssr(g);if(Ti(v))return v.then(S=>{a.ssr=f(S??d)});a.ssr=f(v??d)},gS=(t,e,n,s)=>{if(s._nonReactive.pendingTimeout!==void 0)return;const a=n.options.pendingMs??t.router.options.defaultPendingMs;if(!!(t.onReady&&!t.router.isServer&&!_f(t,e)&&(n.options.loader||n.options.beforeLoad||bS(n))&&typeof a=="number"&&a!==1/0&&(n.options.pendingComponent??t.router.options?.defaultPendingComponent))){const u=setTimeout(()=>{Mu(t)},a);s._nonReactive.pendingTimeout=u}},rA=(t,e,n)=>{const s=t.router.getMatch(e);if(!s._nonReactive.beforeLoadPromise&&!s._nonReactive.loaderPromise)return;gS(t,e,n,s);const a=()=>{const c=t.router.getMatch(e);c.preload&&(c.status==="redirected"||c.status==="notFound")&&Ci(t,c,c.error)};return s._nonReactive.beforeLoadPromise?s._nonReactive.beforeLoadPromise.then(a):a()},sA=(t,e,n,s)=>{const a=t.router.getMatch(e),c=a._nonReactive.loadPromise;a._nonReactive.loadPromise=no(()=>{c?.resolve()});const{paramsError:u,searchError:f}=a;u&&lc(t,n,u,"PARSE_PARAMS"),f&&lc(t,n,f,"VALIDATE_SEARCH"),gS(t,e,s,a);const d=new AbortController,h=t.matches[n-1]?.id,v={...(h?t.router.getMatch(h):void 0)?.context??t.router.options.context??void 0,...a.__routeContext};let S=!1;const C=()=>{S||(S=!0,t.updateMatch(e,F=>({...F,isFetching:"beforeLoad",fetchCount:F.fetchCount+1,abortController:d,context:v})))},E=()=>{a._nonReactive.beforeLoadPromise?.resolve(),a._nonReactive.beforeLoadPromise=void 0,t.updateMatch(e,F=>({...F,isFetching:!1}))};if(!s.options.beforeLoad){Ec(()=>{C(),E()});return}a._nonReactive.beforeLoadPromise=no();const{search:M,params:P,cause:D}=a,k=_f(t,e),j={search:M,abortController:d,params:P,preload:k,context:v,location:t.location,navigate:F=>t.router.navigate({...F,_fromLocation:t.location}),buildLocation:t.router.buildLocation,cause:k?"preload":D,matches:t.matches,...t.router.options.additionalContext},Y=F=>{if(F===void 0){Ec(()=>{C(),E()});return}(as(F)||Yr(F))&&(C(),lc(t,n,F,"BEFORE_LOAD")),Ec(()=>{C(),t.updateMatch(e,X=>({...X,__beforeLoadContext:F,context:{...X.context,...F}})),E()})};let W;try{if(W=s.options.beforeLoad(j),Ti(W))return C(),W.catch(F=>{lc(t,n,F,"BEFORE_LOAD")}).then(Y)}catch(F){C(),lc(t,n,F,"BEFORE_LOAD")}Y(W)},iA=(t,e)=>{const{id:n,routeId:s}=t.matches[e],a=t.router.looseRoutesById[s],c=()=>{if(t.router.isServer){const d=nA(t,n,e,a);if(Ti(d))return d.then(f)}return f()},u=()=>sA(t,n,e,a),f=()=>{if(yS(t,n))return;const d=rA(t,n,a);return Ti(d)?d.then(u):u()};return c()},Tc=(t,e,n)=>{const s=t.router.getMatch(e);if(!s||!n.options.head&&!n.options.scripts&&!n.options.headers)return;const a={matches:t.matches,match:s,params:s.params,loaderData:s.loaderData};return Promise.all([n.options.head?.(a),n.options.scripts?.(a),n.options.headers?.(a)]).then(([c,u,f])=>{const d=c?.meta,h=c?.links,y=c?.scripts,g=c?.styles;return{meta:d,links:h,headScripts:y,headers:f,scripts:u,styles:g}})},vS=(t,e,n,s)=>{const a=t.matchPromises[n-1],{params:c,loaderDeps:u,abortController:f,context:d,cause:h}=t.router.getMatch(e),y=_f(t,e);return{params:c,deps:u,preload:!!y,parentMatchPromise:a,abortController:f,context:d,location:t.location,navigate:g=>t.router.navigate({...g,_fromLocation:t.location}),cause:y?"preload":h,route:s,...t.router.options.additionalContext}},ob=async(t,e,n,s)=>{try{const a=t.router.getMatch(e);try{(!t.router.isServer||a.ssr===!0)&&xS(s);const c=s.options.loader?.(vS(t,e,n,s)),u=s.options.loader&&Ti(c);if(!!(u||s._lazyPromise||s._componentsPromise||s.options.head||s.options.scripts||s.options.headers||a._nonReactive.minPendingPromise)&&t.updateMatch(e,g=>({...g,isFetching:"loader"})),s.options.loader){const g=u?await c:c;Ci(t,t.router.getMatch(e),g),g!==void 0&&t.updateMatch(e,v=>({...v,loaderData:g}))}s._lazyPromise&&await s._lazyPromise;const d=Tc(t,e,s),h=d?await d:void 0,y=a._nonReactive.minPendingPromise;y&&await y,s._componentsPromise&&await s._componentsPromise,t.updateMatch(e,g=>({...g,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),...h}))}catch(c){let u=c;const f=a._nonReactive.minPendingPromise;f&&await f,Yr(c)&&await s.options.notFoundComponent?.preload?.(),Ci(t,t.router.getMatch(e),c);try{s.options.onError?.(c)}catch(y){u=y,Ci(t,t.router.getMatch(e),y)}const d=Tc(t,e,s),h=d?await d:void 0;t.updateMatch(e,y=>({...y,error:u,status:"error",isFetching:!1,...h}))}}catch(a){const c=t.router.getMatch(e);if(c){const u=Tc(t,e,s);if(u){const f=await u;t.updateMatch(e,d=>({...d,...f}))}c._nonReactive.loaderPromise=void 0}Ci(t,c,a)}},aA=async(t,e)=>{const{id:n,routeId:s}=t.matches[e];let a=!1,c=!1;const u=t.router.looseRoutesById[s];if(yS(t,n)){if(t.router.isServer){const h=Tc(t,n,u);if(h){const y=await h;t.updateMatch(n,g=>({...g,...y}))}return t.router.getMatch(n)}}else{const h=t.router.getMatch(n);if(h._nonReactive.loaderPromise){if(h.status==="success"&&!t.sync&&!h.preload)return h;await h._nonReactive.loaderPromise;const y=t.router.getMatch(n);y.error&&Ci(t,y,y.error)}else{const y=Date.now()-h.updatedAt,g=_f(t,n),v=g?u.options.preloadStaleTime??t.router.options.defaultPreloadStaleTime??3e4:u.options.staleTime??t.router.options.defaultStaleTime??0,S=u.options.shouldReload,C=typeof S=="function"?S(vS(t,n,e,u)):S,E=!!g&&!t.router.state.matches.some(k=>k.id===n),M=t.router.getMatch(n);M._nonReactive.loaderPromise=no(),E!==M.preload&&t.updateMatch(n,k=>({...k,preload:E}));const{status:P,invalid:D}=M;if(a=P==="success"&&(D||(C??y>v)),!(g&&u.options.preload===!1))if(a&&!t.sync)c=!0,(async()=>{try{await ob(t,n,e,u);const k=t.router.getMatch(n);k._nonReactive.loaderPromise?.resolve(),k._nonReactive.loadPromise?.resolve(),k._nonReactive.loaderPromise=void 0}catch(k){as(k)&&await t.router.navigate(k.options)}})();else if(P!=="success"||a&&t.sync)await ob(t,n,e,u);else{const k=Tc(t,n,u);if(k){const j=await k;t.updateMatch(n,Y=>({...Y,...j}))}}}}const f=t.router.getMatch(n);c||(f._nonReactive.loaderPromise?.resolve(),f._nonReactive.loadPromise?.resolve()),clearTimeout(f._nonReactive.pendingTimeout),f._nonReactive.pendingTimeout=void 0,c||(f._nonReactive.loaderPromise=void 0),f._nonReactive.dehydrated=void 0;const d=c?f.isFetching:!1;return d!==f.isFetching||f.invalid!==!1?(t.updateMatch(n,h=>({...h,isFetching:d,invalid:!1})),t.router.getMatch(n)):f};async function cb(t){const e=Object.assign(t,{matchPromises:[]});!e.router.isServer&&e.router.state.matches.some(n=>n._forcePending)&&Mu(e);try{for(let a=0;a<e.matches.length;a++){const c=iA(e,a);Ti(c)&&await c}const n=e.firstBadMatchIndex??e.matches.length;for(let a=0;a<n;a++)e.matchPromises.push(aA(e,a));await Promise.all(e.matchPromises);const s=Mu(e);Ti(s)&&await s}catch(n){if(Yr(n)&&!e.preload){const s=Mu(e);throw Ti(s)&&await s,n}if(as(n))throw n}return e.matches}async function xS(t){if(!t._lazyLoaded&&t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(e=>{const{id:n,...s}=e.options;Object.assign(t.options,s),t._lazyLoaded=!0,t._lazyPromise=void 0}):t._lazyLoaded=!0),!t._componentsLoaded&&t._componentsPromise===void 0){const e=()=>{const n=[];for(const s of SS){const a=t.options[s]?.preload;a&&n.push(a())}if(n.length)return Promise.all(n).then(()=>{t._componentsLoaded=!0,t._componentsPromise=void 0});t._componentsLoaded=!0,t._componentsPromise=void 0};t._componentsPromise=t._lazyPromise?t._lazyPromise.then(e):e()}return t._componentsPromise}function fu(t,e){return e?{status:"error",error:e}:{status:"success",value:t}}function bS(t){for(const e of SS)if(t.options[e]?.preload)return!0;return!1}const SS=["component","errorComponent","pendingComponent","notFoundComponent"];function oA(t){return{input:({url:e})=>{for(const n of t)e=_S(n,e);return e},output:({url:e})=>{for(let n=t.length-1;n>=0;n--)e=wS(t[n],e);return e}}}function cA(t){const e=Ou(t.basepath),n=`/${e}`,s=`${n}/`,a=t.caseSensitive?n:n.toLowerCase(),c=t.caseSensitive?s:s.toLowerCase();return{input:({url:u})=>{const f=t.caseSensitive?u.pathname:u.pathname.toLowerCase();return f===a?u.pathname="/":f.startsWith(c)&&(u.pathname=u.pathname.slice(n.length)),u},output:({url:u})=>(u.pathname=qs(["/",e,u.pathname]),u)}}function _S(t,e){const n=t?.input?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function wS(t,e){const n=t?.output?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function sa(t){const e=t.resolvedLocation,n=t.location,s=e?.pathname!==n.pathname,a=e?.href!==n.href,c=e?.hash!==n.hash;return{fromLocation:e,toLocation:n,pathChanged:s,hrefChanged:a,hashChanged:c}}class lA{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const s=this.options,a=this.basepath??s?.basepath??"/",c=this.basepath===void 0,u=s?.rewrite;this.options={...s,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(v=>[encodeURIComponent(v),v])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=m2())),this.origin=this.options.origin,this.origin||(!this.isServer&&window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new Wp(fA(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(v=>!["redirected"].includes(v.status))}}}),Y2(this));let f=!1;const d=this.options.basepath??"/",h=this.options.rewrite;if(c||a!==d||u!==h){this.basepath=d;const v=[];Ou(d)!==""&&v.push(cA({basepath:d})),h&&v.push(h),this.rewrite=v.length===0?void 0:v.length===1?v[0]:oA(v),this.history&&this.updateLatestLocation(),f=!0}f&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:n,routesByPath:s,flatRoutes:a}=H2({routeTree:this.routeTree,initRoute:(u,f)=>{u.init({originalIndex:f})}});this.routesById=n,this.routesByPath=s,this.flatRoutes=a;const c=this.options.notFoundRoute;c&&(c.init({originalIndex:99999999999}),this.routesById[c.id]=c)},this.subscribe=(n,s)=>{const a={eventType:n,fn:s};return this.subscribers.add(a),()=>{this.subscribers.delete(a)}},this.emit=n=>{this.subscribers.forEach(s=>{s.eventType===n.type&&s.fn(n)})},this.parseLocation=(n,s)=>{const a=({href:d,state:h})=>{const y=new URL(d,this.origin),g=_S(this.rewrite,y),v=this.options.parseSearch(g.search),S=this.options.stringifySearch(v);g.search=S;const C=g.href.replace(g.origin,""),{pathname:E,hash:M}=g;return{href:C,publicHref:d,url:g.href,pathname:E,searchStr:S,search:Pr(s?.search,v),hash:M.split("#").reverse()[0]??"",state:Pr(s?.state,h)}},c=a(n),{__tempLocation:u,__tempKey:f}=c.state;if(u&&(!f||f===this.tempLocationKey)){const d=a(u);return d.state.key=c.state.key,d.state.__TSR_key=c.state.__TSR_key,delete d.state.__tempLocation,{...d,maskedLocation:c}}return c},this.resolvePathWithBase=(n,s)=>S2({base:n,to:ey(s),trailingSlash:this.options.trailingSlash,parseCache:this.parsePathnameCache}),this.matchRoutes=(n,s,a)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:s},a):this.matchRoutesInternal(n,s),this.parsePathnameCache=tA(1e3),this.getMatchedRoutes=(n,s)=>dA({pathname:n,routePathname:s,caseSensitive:this.options.caseSensitive,routesByPath:this.routesByPath,routesById:this.routesById,flatRoutes:this.flatRoutes,parseCache:this.parsePathnameCache}),this.cancelMatch=n=>{const s=this.getMatch(n);s&&(s.abortController.abort(),clearTimeout(s._nonReactive.pendingTimeout),s._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{this.state.pendingMatches?.forEach(n=>{this.cancelMatch(n.id)})},this.buildLocation=n=>{const s=(c={})=>{const u=c._fromLocation||this.latestLocation,f=this.matchRoutes(u,{_buildLocation:!0}),d=em(f);c.from;const h=c.unsafeRelative==="path"?u.pathname:c.from??d.fullPath,y=this.resolvePathWithBase(h,"."),g=d.search,v={...d.params},S=c.to?this.resolvePathWithBase(y,`${c.to}`):this.resolvePathWithBase(y,"."),C=c.params===!1||c.params===null?{}:(c.params??!0)===!0?v:Object.assign(v,na(c.params,v)),E=lu({path:S,params:C,parseCache:this.parsePathnameCache}).interpolatedPath,M=this.matchRoutes(E,void 0,{_buildLocation:!0}).map(xe=>this.looseRoutesById[xe.routeId]);if(Object.keys(C).length>0)for(const xe of M){const Se=xe.options.params?.stringify??xe.options.stringifyParams;Se&&Object.assign(C,Se(C))}const P=lu({path:S,params:C,leaveWildcards:!1,leaveParams:n.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath;let D=g;if(n._includeValidateSearch&&this.options.search?.strict){const xe={};M.forEach(Se=>{if(Se.options.validateSearch)try{Object.assign(xe,rm(Se.options.validateSearch,{...xe,...D}))}catch{}}),D=xe}D=hA({search:D,dest:c,destRoutes:M,_includeValidateSearch:n._includeValidateSearch}),D=Pr(g,D);const k=this.options.stringifySearch(D),j=c.hash===!0?u.hash:c.hash?na(c.hash,u.hash):void 0,Y=j?`#${j}`:"";let W=c.state===!0?u.state:c.state?na(c.state,u.state):{};W=Pr(u.state,W);const F=`${P}${k}${Y}`,X=new URL(F,this.origin),me=wS(this.rewrite,X);return{publicHref:me.pathname+me.search+me.hash,href:F,url:me.href,pathname:P,search:D,searchStr:k,state:W,hash:j??"",unmaskOnReload:c.unmaskOnReload}},a=(c={},u)=>{const f=s(c);let d=u?s(u):void 0;if(!d){let h={};const y=this.options.routeMasks?.find(g=>{const v=tm(f.pathname,{to:g.from,caseSensitive:!1,fuzzy:!1},this.parsePathnameCache);return v?(h=v,!0):!1});if(y){const{from:g,...v}=y;u={from:n.from,...v,params:h},d=s(u)}}return d&&(f.maskedLocation=d),f};return n.mask?a(n,{from:n.from,...n.mask}):a(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:s,...a})=>{const c=()=>{const d=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];d.forEach(y=>{a.state[y]=this.latestLocation.state[y]});const h=ra(a.state,this.latestLocation.state);return d.forEach(y=>{delete a.state[y]}),h},u=Ri(this.latestLocation.href)===Ri(a.href),f=this.commitLocationPromise;if(this.commitLocationPromise=no(()=>{f?.resolve()}),u&&c())this.load();else{let{maskedLocation:d,hashScrollIntoView:h,...y}=a;d&&(y={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...y,search:y.searchStr,state:{...y.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(y.unmaskOnReload??this.options.unmaskOnReload??!1)&&(y.state.__tempKey=this.tempLocationKey)),y.state.__hashScrollIntoViewOptions=h??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[a.replace?"replace":"push"](y.publicHref,y.state,{ignoreBlocker:s})}return this.resetNextScroll=a.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:s,hashScrollIntoView:a,viewTransition:c,ignoreBlocker:u,href:f,...d}={})=>{if(f){const y=this.history.location.state.__TSR_index,g=Yu(f,{__TSR_index:n?y:y+1});d.to=g.pathname,d.search=this.options.parseSearch(g.search),d.hash=g.hash.slice(1)}const h=this.buildLocation({...d,_includeValidateSearch:!0});return this.commitLocation({...h,viewTransition:c,replace:n,resetScroll:s,hashScrollIntoView:a,ignoreBlocker:u})},this.navigate=({to:n,reloadDocument:s,href:a,...c})=>{if(!s&&a)try{new URL(`${a}`),s=!0}catch{}return s?(a||(a=this.buildLocation({to:n,...c}).url),c.replace?window.location.replace(a):window.location.href=a,Promise.resolve()):this.buildAndCommitLocation({...c,href:a,to:n,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.updateLatestLocation(),this.isServer){const s=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0}),a=c=>{try{return encodeURI(decodeURI(c))}catch{return c}};if(Ou(a(this.latestLocation.href))!==Ou(a(s.href))){let c=s.url;throw this.origin&&c.startsWith(this.origin)&&(c=c.replace(this.origin,"")||"/"),eA({href:c})}}const n=this.matchRoutes(this.latestLocation);this.__store.setState(s=>({...s,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:n,cachedMatches:s.cachedMatches.filter(a=>!n.some(c=>c.id===a.id))}))},this.load=async n=>{let s,a,c;for(c=new Promise(f=>{this.startTransition(async()=>{try{this.beforeLoad();const d=this.latestLocation,h=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...sa({resolvedLocation:h,location:d})}),this.emit({type:"onBeforeLoad",...sa({resolvedLocation:h,location:d})}),await cb({router:this,sync:n?.sync,matches:this.state.pendingMatches,location:d,updateMatch:this.updateMatch,onReady:async()=>{this.startViewTransition(async()=>{let y,g,v;Ec(()=>{this.__store.setState(S=>{const C=S.matches,E=S.pendingMatches||S.matches;return y=C.filter(M=>!E.some(P=>P.id===M.id)),g=E.filter(M=>!C.some(P=>P.id===M.id)),v=C.filter(M=>E.some(P=>P.id===M.id)),{...S,isLoading:!1,loadedAt:Date.now(),matches:E,pendingMatches:void 0,cachedMatches:[...S.cachedMatches,...y.filter(M=>M.status!=="error")]}}),this.clearExpiredCache()}),[[y,"onLeave"],[g,"onEnter"],[v,"onStay"]].forEach(([S,C])=>{S.forEach(E=>{this.looseRoutesById[E.routeId].options[C]?.(E)})})})}})}catch(d){as(d)?(s=d,this.isServer||this.navigate({...s.options,replace:!0,ignoreBlocker:!0})):Yr(d)&&(a=d),this.__store.setState(h=>({...h,statusCode:s?s.status:a?404:h.matches.some(y=>y.status==="error")?500:200,redirect:s}))}this.latestLoadPromise===c&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),f()})}),this.latestLoadPromise=c,await c;this.latestLoadPromise&&c!==this.latestLoadPromise;)await this.latestLoadPromise;let u;this.hasNotFoundMatch()?u=404:this.__store.state.matches.some(f=>f.status==="error")&&(u=500),u!==void 0&&this.__store.setState(f=>({...f,statusCode:u}))},this.startViewTransition=n=>{const s=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,s&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let a;if(typeof s=="object"&&this.isViewTransitionTypesSupported){const c=this.latestLocation,u=this.state.resolvedLocation,f=typeof s.types=="function"?s.types(sa({resolvedLocation:u,location:c})):s.types;if(f===!1){n();return}a={update:n,types:f}}else a=n;document.startViewTransition(a)}else n()},this.updateMatch=(n,s)=>{const a=this.state.pendingMatches?.some(c=>c.id===n)?"pendingMatches":this.state.matches.some(c=>c.id===n)?"matches":this.state.cachedMatches.some(c=>c.id===n)?"cachedMatches":"";a&&this.__store.setState(c=>({...c,[a]:c[a]?.map(u=>u.id===n?s(u):u)}))},this.getMatch=n=>{const s=a=>a.id===n;return this.state.cachedMatches.find(s)??this.state.pendingMatches?.find(s)??this.state.matches.find(s)},this.invalidate=n=>{const s=a=>n?.filter?.(a)??!0?{...a,invalid:!0,...n?.forcePending||a.status==="error"?{status:"pending",error:void 0}:void 0}:a;return this.__store.setState(a=>({...a,matches:a.matches.map(s),cachedMatches:a.cachedMatches.map(s),pendingMatches:a.pendingMatches?.map(s)})),this.shouldViewTransition=!1,this.load({sync:n?.sync})},this.resolveRedirect=n=>{if(!n.options.href){const s=this.buildLocation(n.options);let a=s.url;this.origin&&a.startsWith(this.origin)&&(a=a.replace(this.origin,"")||"/"),n.options.href=s.href,n.headers.set("Location",a)}return n.headers.get("Location")||n.headers.set("Location",n.options.href),n},this.clearCache=n=>{const s=n?.filter;s!==void 0?this.__store.setState(a=>({...a,cachedMatches:a.cachedMatches.filter(c=>!s(c))})):this.__store.setState(a=>({...a,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=s=>{const a=this.looseRoutesById[s.routeId];if(!a.options.loader)return!0;const c=(s.preload?a.options.preloadGcTime??this.options.defaultPreloadGcTime:a.options.gcTime??this.options.defaultGcTime)??300*1e3;return s.status==="error"?!0:Date.now()-s.updatedAt>=c};this.clearCache({filter:n})},this.loadRouteChunk=xS,this.preloadRoute=async n=>{const s=this.buildLocation(n);let a=this.matchRoutes(s,{throwOnError:!0,preload:!0,dest:n});const c=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(f=>f.id)),u=new Set([...c,...this.state.cachedMatches.map(f=>f.id)]);Ec(()=>{a.forEach(f=>{u.has(f.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,f]}))})});try{return a=await cb({router:this,matches:a,location:s,preload:!0,updateMatch:(f,d)=>{c.has(f)?a=a.map(h=>h.id===f?d(h):h):this.updateMatch(f,d)}}),a}catch(f){if(as(f))return f.options.reloadDocument?void 0:await this.preloadRoute({...f.options,_fromLocation:s});Yr(f)||console.error(f);return}},this.matchRoute=(n,s)=>{const a={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},c=this.buildLocation(a);if(s?.pending&&this.state.status!=="pending")return!1;const f=(s?.pending===void 0?!this.state.isLoading:s.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,d=tm(f.pathname,{...s,to:c.pathname},this.parsePathnameCache);return!d||n.params&&!ra(d,n.params,{partial:!0})?!1:d&&(s?.includeSearch??!0)?ra(f.search,c.search,{partial:!0})?d:!1:d},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??Z2,parseSearch:e.parseSearch??Q2}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(e,n){const{foundRoute:s,matchedRoutes:a,routeParams:c}=this.getMatchedRoutes(e.pathname,n?.dest?.to);let u=!1;(s?s.path!=="/"&&c["**"]:Ri(e.pathname))&&(this.options.notFoundRoute?a.push(this.options.notFoundRoute):u=!0);const f=(()=>{if(u){if(this.options.notFoundMode!=="root")for(let y=a.length-1;y>=0;y--){const g=a[y];if(g.children)return g.id}return cr}})(),d=[],h=y=>y?.id?y.context??this.options.context??void 0:this.options.context??void 0;return a.forEach((y,g)=>{const v=d[g-1],[S,C,E]=(()=>{const Ce=v?.search??e.search,Ee=v?._strictSearch??void 0;try{const be=rm(y.options.validateSearch,{...Ce})??void 0;return[{...Ce,...be},{...Ee,...be},void 0]}catch(be){let Ne=be;if(be instanceof Zu||(Ne=new Zu(be.message,{cause:be})),n?.throwOnError)throw Ne;return[Ce,{},Ne]}})(),M=y.options.loaderDeps?.({search:S})??"",P=M?JSON.stringify(M):"",{interpolatedPath:D,usedParams:k}=lu({path:y.fullPath,params:c,decodeCharMap:this.pathParamsDecodeCharMap}),j=lu({path:y.id,params:c,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath+P,Y=this.getMatch(j),W=this.state.matches.find(Ce=>Ce.routeId===y.id),F=Y?._strictParams??k;let X;if(!Y){const Ce=y.options.params?.parse??y.options.parseParams;if(Ce)try{Object.assign(F,Ce(F))}catch(Ee){if(X=new uA(Ee.message,{cause:Ee}),n?.throwOnError)throw X}}Object.assign(c,F);const me=W?"stay":"enter";let xe;if(Y)xe={...Y,cause:me,params:W?Pr(W.params,c):c,_strictParams:F,search:Pr(W?W.search:Y.search,S),_strictSearch:C};else{const Ce=y.options.loader||y.options.beforeLoad||y.lazyFn||bS(y)?"pending":"success";xe={id:j,index:g,routeId:y.id,params:W?Pr(W.params,c):c,_strictParams:F,pathname:D,updatedAt:Date.now(),search:W?Pr(W.search,S):S,_strictSearch:C,searchError:void 0,status:Ce,isFetching:!1,error:void 0,paramsError:X,__routeContext:void 0,_nonReactive:{loadPromise:no()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:me,loaderDeps:W?Pr(W.loaderDeps,M):M,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:y.options.staticData||{},fullPath:y.fullPath}}n?.preload||(xe.globalNotFound=f===y.id),xe.searchError=E;const Se=h(v);xe.context={...Se,...xe.__routeContext,...xe.__beforeLoadContext},d.push(xe)}),d.forEach((y,g)=>{const v=this.looseRoutesById[y.routeId];if(!this.getMatch(y.id)&&n?._buildLocation!==!0){const C=d[g-1],E=h(C);if(v.options.context){const M={deps:y.loaderDeps,params:y.params,context:E??{},location:e,navigate:P=>this.navigate({...P,_fromLocation:e}),buildLocation:this.buildLocation,cause:y.cause,abortController:y.abortController,preload:!!y.preload,matches:d};y.__routeContext=v.options.context(M)??void 0}y.context={...E,...y.__routeContext,...y.__beforeLoadContext}}}),d}}class Zu extends Error{}class uA extends Error{}function fA(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function rm(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new Zu("Async validation not supported");if(n.issues)throw new Zu(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function dA({pathname:t,routePathname:e,caseSensitive:n,routesByPath:s,routesById:a,flatRoutes:c,parseCache:u}){let f={};const d=Ri(t),h=S=>tm(d,{to:S.fullPath,caseSensitive:S.options?.caseSensitive??n,fuzzy:!0},u);let y=e!==void 0?s[e]:void 0;if(y)f=h(y);else{let S;for(const C of c){const E=h(C);if(E)if(C.path!=="/"&&E["**"])S||(S={foundRoute:C,routeParams:E});else{y=C,f=E;break}}!y&&S&&(y=S.foundRoute,f=S.routeParams)}let g=y||a[cr];const v=[g];for(;g.parentRoute;)g=g.parentRoute,v.push(g);return v.reverse(),{matchedRoutes:v,routeParams:f,foundRoute:y}}function hA({search:t,dest:e,destRoutes:n,_includeValidateSearch:s}){const a=n.reduce((f,d)=>{const h=[];if("search"in d.options)d.options.search?.middlewares&&h.push(...d.options.search.middlewares);else if(d.options.preSearchFilters||d.options.postSearchFilters){const y=({search:g,next:v})=>{let S=g;"preSearchFilters"in d.options&&d.options.preSearchFilters&&(S=d.options.preSearchFilters.reduce((E,M)=>M(E),g));const C=v(S);return"postSearchFilters"in d.options&&d.options.postSearchFilters?d.options.postSearchFilters.reduce((E,M)=>M(E),C):C};h.push(y)}if(s&&d.options.validateSearch){const y=({search:g,next:v})=>{const S=v(g);try{return{...S,...rm(d.options.validateSearch,S)??void 0}}catch{return S}};h.push(y)}return f.concat(h)},[])??[],c=({search:f})=>e.search?e.search===!0?f:na(e.search,f):{};a.push(c);const u=(f,d)=>{if(f>=a.length)return d;const h=a[f];return h({search:d,next:g=>u(f+1,g)})};return u(0,t)}const pA="Error preloading route! ";class CS{constructor(e){if(this.init=n=>{this.originalIndex=n.originalIndex;const s=this.options,a=!s?.path&&!s?.id;this.parentRoute=this.options.getParentRoute?.(),a?this._path=cr:this.parentRoute||Gs(!1);let c=a?cr:s?.path;c&&c!=="/"&&(c=ty(c));const u=s?.id||c;let f=a?cr:qs([this.parentRoute.id===cr?"":this.parentRoute.id,u]);c===cr&&(c="/"),f!==cr&&(f=qs(["/",f]));const d=f===cr?"/":qs([this.parentRoute.fullPath,c]);this._path=c,this._id=f,this._fullPath=d,this._to=d},this.clone=n=>{this._path=n._path,this._id=n._id,this._fullPath=n._fullPath,this._to=n._to,this.options.getParentRoute=n.options.getParentRoute,this.children=n.children},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.options=e||{},this.isRoot=!e?.getParentRoute,e?.id&&e?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class mA extends CS{constructor(e){super(e)}}var T=qc();const ke=Vc(T),yA=cS({__proto__:null,default:ke},[T]);function ny(t){const e=t.errorComponent??wf;return b.jsx(gA,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:s})=>n?T.createElement(e,{error:n,reset:s}):t.children})}class gA extends T.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function wf({error:t}){const[e,n]=T.useState(!1);return b.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[b.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),b.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(s=>!s),children:e?"Hide Error":"Show Error"})]}),b.jsx("div",{style:{height:".25rem"}}),e?b.jsx("div",{children:b.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?b.jsx("code",{children:t.message}):null})}):null]})}function vA({children:t,fallback:e=null}){return xA()?b.jsx(ke.Fragment,{children:t}):b.jsx(ke.Fragment,{children:e})}function xA(){return ke.useSyncExternalStore(bA,()=>!0,()=>!1)}function bA(){return()=>{}}var up={exports:{}},fp={},dp={exports:{}},hp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lb;function SA(){if(lb)return hp;lb=1;var t=qc();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:e,s=t.useState,a=t.useEffect,c=t.useLayoutEffect,u=t.useDebugValue;function f(g,v){var S=v(),C=s({inst:{value:S,getSnapshot:v}}),E=C[0].inst,M=C[1];return c(function(){E.value=S,E.getSnapshot=v,d(E)&&M({inst:E})},[g,S,v]),a(function(){return d(E)&&M({inst:E}),g(function(){d(E)&&M({inst:E})})},[g]),u(S),S}function d(g){var v=g.getSnapshot;g=g.value;try{var S=v();return!n(g,S)}catch{return!0}}function h(g,v){return v()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:f;return hp.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:y,hp}var ub;function ES(){return ub||(ub=1,dp.exports=SA()),dp.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb;function _A(){if(fb)return fp;fb=1;var t=qc(),e=ES();function n(h,y){return h===y&&(h!==0||1/h===1/y)||h!==h&&y!==y}var s=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,c=t.useRef,u=t.useEffect,f=t.useMemo,d=t.useDebugValue;return fp.useSyncExternalStoreWithSelector=function(h,y,g,v,S){var C=c(null);if(C.current===null){var E={hasValue:!1,value:null};C.current=E}else E=C.current;C=f(function(){function P(W){if(!D){if(D=!0,k=W,W=v(W),S!==void 0&&E.hasValue){var F=E.value;if(S(F,W))return j=F}return j=W}if(F=j,s(k,W))return F;var X=v(W);return S!==void 0&&S(F,X)?(k=W,F):(k=W,j=X)}var D=!1,k,j,Y=g===void 0?null:g;return[function(){return P(y())},Y===null?void 0:function(){return P(Y())}]},[y,g,v,S]);var M=a(h,C[0],C[1]);return u(function(){E.hasValue=!0,E.value=M},[M]),d(M),M},fp}var db;function wA(){return db||(db=1,up.exports=_A()),up.exports}var CA=wA();function EA(t,e=n=>n){return CA.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,TA)}function TA(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[s,a]of t)if(!e.has(s)||!Object.is(a,e.get(s)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0}if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();const n=hb(t);if(n.length!==hb(e).length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(e,n[s])||!Object.is(t[n[s]],e[n[s]]))return!1;return!0}function hb(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}const pp=T.createContext(null);function TS(){return typeof document>"u"?pp:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=pp,pp)}function ur(t){const e=T.useContext(TS());return t?.warn,e}function lr(t){const e=ur({warn:t?.router===void 0}),n=t?.router||e,s=T.useRef(void 0);return EA(n.__store,a=>{if(t?.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const c=Pr(s.current,t.select(a));return s.current=c,c}return t.select(a)}return a})}const Cf=T.createContext(void 0),RA=T.createContext(void 0);function ps(t){const e=T.useContext(t.from?RA:Cf);return lr({select:s=>{const a=s.matches.find(c=>t.from?t.from===c.routeId:c.id===e);if(Gs(!((t.shouldThrow??!0)&&!a),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),a!==void 0)return t.select?t.select(a):a},structuralSharing:t.structuralSharing})}function ry(t){return ps({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function sy(t){const{select:e,...n}=t;return ps({...n,select:s=>e?e(s.loaderDeps):s.loaderDeps})}function iy(t){return ps({from:t.from,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,strict:t.strict,select:e=>{const n=t.strict===!1?e.params:e._strictParams;return t.select?t.select(n):n}})}function ay(t){return ps({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function Ef(t){const e=ur();return T.useCallback(n=>e.navigate({...n,from:n.from??t?.from}),[t?.from,e])}var Fc=lS();const AA=Vc(Fc),du=typeof window<"u"?T.useLayoutEffect:T.useEffect;function mp(t){const e=T.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function OA(t,e,n={},s={}){T.useEffect(()=>{if(!t.current||s.disabled||typeof IntersectionObserver!="function")return;const a=new IntersectionObserver(([c])=>{e(c)},n);return a.observe(t.current),()=>{a.disconnect()}},[e,n,s.disabled,t])}function MA(t){const e=T.useRef(null);return T.useImperativeHandle(t,()=>e.current,[]),e}function PA(t,e){const n=ur(),[s,a]=T.useState(!1),c=T.useRef(!1),u=MA(e),{activeProps:f,inactiveProps:d,activeOptions:h,to:y,preload:g,preloadDelay:v,hashScrollIntoView:S,replace:C,startTransition:E,resetScroll:M,viewTransition:P,children:D,target:k,disabled:j,style:Y,className:W,onClick:F,onFocus:X,onMouseEnter:me,onMouseLeave:xe,onTouchStart:Se,ignoreBlocker:Ce,params:Ee,search:be,hash:Ne,state:H,mask:ie,reloadDocument:G,unsafeRelative:Me,from:Ze,_fromLocation:L,...te}=t,ae=lr({select:it=>it.location.search,structuralSharing:!0}),pe=t.from,ye=T.useMemo(()=>({...t,from:pe}),[n,ae,pe,t._fromLocation,t.hash,t.to,t.search,t.params,t.state,t.mask,t.unsafeRelative]),Te=T.useMemo(()=>n.buildLocation({...ye}),[n,ye]),je=T.useMemo(()=>{if(j)return;let it=Te.maskedLocation?Te.maskedLocation.url:Te.url,lt=!1;return n.origin&&(it.startsWith(n.origin)?it=n.history.createHref(it.replace(n.origin,""))||"/":lt=!0),{href:it,external:lt}},[j,Te.maskedLocation,Te.url,n.origin,n.history]),xt=T.useMemo(()=>{if(je?.external)return je.href;try{return new URL(y),y}catch{}},[y,je]),I=t.reloadDocument||xt?!1:g??n.options.defaultPreload,K=v??n.options.defaultPreloadDelay??0,de=lr({select:it=>{if(xt)return!1;if(h?.exact){if(!x2(it.location.pathname,Te.pathname,n.basepath))return!1}else{const lt=Ku(it.location.pathname,n.basepath),Yt=Ku(Te.pathname,n.basepath);if(!(lt.startsWith(Yt)&&(lt.length===Yt.length||lt[Yt.length]==="/")))return!1}return(h?.includeSearch??!0)&&!ra(it.location.search,Te.search,{partial:!h?.exact,ignoreUndefined:!h?.explicitUndefined})?!1:h?.includeHash?it.location.hash===Te.hash:!0}}),Le=T.useCallback(()=>{n.preloadRoute({...ye}).catch(it=>{console.warn(it),console.warn(pA)})},[n,ye]),$e=T.useCallback(it=>{it?.isIntersecting&&Le()},[Le]);OA(u,$e,LA,{disabled:!!j||I!=="viewport"}),T.useEffect(()=>{c.current||!j&&I==="render"&&(Le(),c.current=!0)},[j,Le,I]);const ze=it=>{const lt=it.currentTarget.target,Yt=k!==void 0?k:lt;if(!j&&!UA(it)&&!it.defaultPrevented&&(!Yt||Yt==="_self")&&it.button===0){it.preventDefault(),Fc.flushSync(()=>{a(!0)});const Rn=n.subscribe("onResolved",()=>{Rn(),a(!1)});n.navigate({...ye,replace:C,resetScroll:M,hashScrollIntoView:S,startTransition:E,viewTransition:P,ignoreBlocker:Ce})}};if(xt)return{...te,ref:u,href:xt,...D&&{children:D},...k&&{target:k},...j&&{disabled:j},...Y&&{style:Y},...W&&{className:W},...F&&{onClick:F},...X&&{onFocus:X},...me&&{onMouseEnter:me},...xe&&{onMouseLeave:xe},...Se&&{onTouchStart:Se}};const bt=it=>{j||I&&Le()},gt=bt,qt=it=>{if(!(j||!I))if(!K)Le();else{const lt=it.target;if(uc.has(lt))return;const Yt=setTimeout(()=>{uc.delete(lt),Le()},K);uc.set(lt,Yt)}},St=it=>{if(j||!I||!K)return;const lt=it.target,Yt=uc.get(lt);Yt&&(clearTimeout(Yt),uc.delete(lt))},Tt=de?na(f,{})??NA:yp,Ot=de?yp:na(d,{})??yp,Ft=[W,Tt.className,Ot.className].filter(Boolean).join(" "),Pn=(Y||Tt.style||Ot.style)&&{...Y,...Tt.style,...Ot.style};return{...te,...Tt,...Ot,href:je?.href,ref:u,onClick:fc([F,ze]),onFocus:fc([X,bt]),onMouseEnter:fc([me,qt]),onMouseLeave:fc([xe,St]),onTouchStart:fc([Se,gt]),disabled:!!j,target:k,...Pn&&{style:Pn},...Ft&&{className:Ft},...j&&DA,...de&&kA,...s&&jA}}const yp={},NA={className:"active"},DA={role:"link","aria-disabled":!0},kA={"data-status":"active","aria-current":"page"},jA={"data-transitioning":"transitioning"},uc=new WeakMap,LA={rootMargin:"100px"},fc=t=>e=>{for(const n of t)if(n){if(e.defaultPrevented)return;n(e)}},oy=T.forwardRef((t,e)=>{const{_asChild:n,...s}=t,{type:a,ref:c,...u}=PA(s,e),f=typeof s.children=="function"?s.children({isActive:u["data-status"]==="active"}):s.children;return n===void 0&&delete u.disabled,T.createElement(n||"a",{...u,ref:c},f)});function UA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}class zA extends CS{constructor(e){super(e),this.useMatch=n=>ps({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>ps({...n,from:this.id,select:s=>n?.select?n.select(s.context):s.context}),this.useSearch=n=>ay({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>iy({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>sy({...n,from:this.id}),this.useLoaderData=n=>ry({...n,from:this.id}),this.useNavigate=()=>Ef({from:this.fullPath}),this.Link=ke.forwardRef((n,s)=>b.jsx(oy,{ref:s,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function Tf(t){return new zA(t)}class IA extends mA{constructor(e){super(e),this.useMatch=n=>ps({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>ps({...n,from:this.id,select:s=>n?.select?n.select(s.context):s.context}),this.useSearch=n=>ay({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>iy({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>sy({...n,from:this.id}),this.useLoaderData=n=>ry({...n,from:this.id}),this.useNavigate=()=>Ef({from:this.fullPath}),this.Link=ke.forwardRef((n,s)=>b.jsx(oy,{ref:s,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function BA(t){return new IA(t)}function pb(t){return typeof t=="object"?new mb(t,{silent:!0}).createRoute(t):new mb(t,{silent:!0}).createRoute}class mb{constructor(e,n){this.path=e,this.createRoute=s=>{this.silent;const a=Tf(s);return a.isRoot=!1,a},this.silent=n?.silent}}class yb{constructor(e){this.useMatch=n=>ps({select:n?.select,from:this.options.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>ps({from:this.options.id,select:s=>n?.select?n.select(s.context):s.context}),this.useSearch=n=>ay({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useParams=n=>iy({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>sy({...n,from:this.options.id}),this.useLoaderData=n=>ry({...n,from:this.options.id}),this.useNavigate=()=>{const n=ur();return Ef({from:n.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function gb(t){return typeof t=="object"?new yb(t):e=>new yb({id:t,...e})}function HA(){const t=ur(),e=T.useRef({router:t,mounted:!1}),[n,s]=T.useState(!1),{hasPendingMatches:a,isLoading:c}=lr({select:g=>({isLoading:g.isLoading,hasPendingMatches:g.matches.some(v=>v.status==="pending")}),structuralSharing:!0}),u=mp(c),f=c||n||a,d=mp(f),h=c||a,y=mp(h);return t.startTransition=g=>{s(!0),T.startTransition(()=>{g(),s(!1)})},T.useEffect(()=>{const g=t.history.subscribe(t.load),v=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Ri(t.latestLocation.href)!==Ri(v.href)&&t.commitLocation({...v,replace:!0}),()=>{g()}},[t,t.history]),du(()=>{if(typeof window<"u"&&t.ssr||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(v){console.error(v)}})()},[t]),du(()=>{u&&!c&&t.emit({type:"onLoad",...sa(t.state)})},[u,t,c]),du(()=>{y&&!h&&t.emit({type:"onBeforeRouteMount",...sa(t.state)})},[h,y,t]),du(()=>{d&&!f&&(t.emit({type:"onResolved",...sa(t.state)}),t.__store.setState(g=>({...g,status:"idle",resolvedLocation:g.location})),G2(t))},[f,d,t]),null}function $A(t){const e=lr({select:n=>`not-found-${n.location.pathname}-${n.status}`});return b.jsx(ny,{getResetKey:()=>e,onCatch:(n,s)=>{if(Yr(n))t.onCatch?.(n,s);else throw n},errorComponent:({error:n})=>{if(Yr(n))return t.fallback?.(n);throw n},children:t.children})}function VA(){return b.jsx("p",{children:"Not Found"})}function Ga(t){return b.jsx(b.Fragment,{children:t.children})}function RS(t,e,n){return e.options.notFoundComponent?b.jsx(e.options.notFoundComponent,{data:n}):t.options.defaultNotFoundComponent?b.jsx(t.options.defaultNotFoundComponent,{data:n}):b.jsx(VA,{})}function qA({children:t}){const e=ur();return e.isServer?b.jsx("script",{nonce:e.options.ssr?.nonce,className:"$tsr",dangerouslySetInnerHTML:{__html:[t].filter(Boolean).join(`
`)+";$_TSR.c()"}}):null}function FA(){const t=ur();if(!t.isScrollRestoring||!t.isServer||typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation}))return null;const n=(t.options.getScrollRestorationKey||nm)(t.latestLocation),s=n!==nm(t.latestLocation)?n:void 0,a={storageKey:Xu,shouldScrollRestoration:!0};return s&&(a.key=s),b.jsx(qA,{children:`(${pS.toString()})(${JSON.stringify(a)})`})}const AS=T.memo(function({matchId:e}){const n=ur(),s=lr({select:P=>{const D=P.matches.find(k=>k.id===e);return Gs(D),{routeId:D.routeId,ssr:D.ssr,_displayPending:D._displayPending}},structuralSharing:!0}),a=n.routesById[s.routeId],c=a.options.pendingComponent??n.options.defaultPendingComponent,u=c?b.jsx(c,{}):null,f=a.options.errorComponent??n.options.defaultErrorComponent,d=a.options.onCatch??n.options.defaultOnCatch,h=a.isRoot?a.options.notFoundComponent??n.options.notFoundRoute?.options.component:a.options.notFoundComponent,y=s.ssr===!1||s.ssr==="data-only",g=(!a.isRoot||a.options.wrapInSuspense||y)&&(a.options.wrapInSuspense??c??(a.options.errorComponent?.preload||y))?T.Suspense:Ga,v=f?ny:Ga,S=h?$A:Ga,C=lr({select:P=>P.loadedAt}),E=lr({select:P=>{const D=P.matches.findIndex(k=>k.id===e);return P.matches[D-1]?.routeId}}),M=a.isRoot?a.options.shellComponent??Ga:Ga;return b.jsxs(M,{children:[b.jsx(Cf.Provider,{value:e,children:b.jsx(g,{fallback:u,children:b.jsx(v,{getResetKey:()=>C,errorComponent:f||wf,onCatch:(P,D)=>{if(Yr(P))throw P;d?.(P,D)},children:b.jsx(S,{fallback:P=>{if(!h||P.routeId&&P.routeId!==s.routeId||!P.routeId&&!a.isRoot)throw P;return T.createElement(h,P)},children:y||s._displayPending?b.jsx(vA,{fallback:u,children:b.jsx(vb,{matchId:e})}):b.jsx(vb,{matchId:e})})})})}),E===cr&&n.options.scrollRestoration?b.jsxs(b.Fragment,{children:[b.jsx(YA,{}),b.jsx(FA,{})]}):null]})});function YA(){const t=ur(),e=T.useRef(void 0);return b.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(e.current===void 0||e.current.href!==t.latestLocation.href)&&(t.emit({type:"onRendered",...sa(t.state)}),e.current=t.latestLocation)}},t.latestLocation.state.__TSR_key)}const vb=T.memo(function({matchId:e}){const n=ur(),{match:s,key:a,routeId:c}=lr({select:d=>{const h=d.matches.find(C=>C.id===e),y=h.routeId,v=(n.routesById[y].options.remountDeps??n.options.defaultRemountDeps)?.({routeId:y,loaderDeps:h.loaderDeps,params:h._strictParams,search:h._strictSearch});return{key:v?JSON.stringify(v):void 0,routeId:y,match:{id:h.id,status:h.status,error:h.error,_forcePending:h._forcePending,_displayPending:h._displayPending}}},structuralSharing:!0}),u=n.routesById[c],f=T.useMemo(()=>{const d=u.options.component??n.options.defaultComponent;return d?b.jsx(d,{},a):b.jsx(OS,{})},[a,u.options.component,n.options.defaultComponent]);if(s._displayPending)throw n.getMatch(s.id)?._nonReactive.displayPendingPromise;if(s._forcePending)throw n.getMatch(s.id)?._nonReactive.minPendingPromise;if(s.status==="pending"){const d=u.options.pendingMinMs??n.options.defaultPendingMinMs;if(d){const h=n.getMatch(s.id);if(h&&!h._nonReactive.minPendingPromise&&!n.isServer){const y=no();h._nonReactive.minPendingPromise=y,setTimeout(()=>{y.resolve(),h._nonReactive.minPendingPromise=void 0},d)}}throw n.getMatch(s.id)?._nonReactive.loadPromise}if(s.status==="notFound")return Gs(Yr(s.error)),RS(n,u,s.error);if(s.status==="redirected")throw Gs(as(s.error)),n.getMatch(s.id)?._nonReactive.loadPromise;if(s.status==="error"){if(n.isServer){const d=(u.options.errorComponent??n.options.defaultErrorComponent)||wf;return b.jsx(d,{error:s.error,reset:void 0,info:{componentStack:""}})}throw s.error}return f}),OS=T.memo(function(){const e=ur(),n=T.useContext(Cf),s=lr({select:h=>h.matches.find(y=>y.id===n)?.routeId}),a=e.routesById[s],c=lr({select:h=>{const g=h.matches.find(v=>v.id===n);return Gs(g),g.globalNotFound}}),u=lr({select:h=>{const y=h.matches,g=y.findIndex(v=>v.id===n);return y[g+1]?.id}}),f=e.options.defaultPendingComponent?b.jsx(e.options.defaultPendingComponent,{}):null;if(c)return RS(e,a,void 0);if(!u)return null;const d=b.jsx(AS,{matchId:u});return n===cr?b.jsx(T.Suspense,{fallback:f,children:d}):d});function GA(){const t=ur(),n=t.routesById[cr].options.pendingComponent??t.options.defaultPendingComponent,s=n?b.jsx(n,{}):null,a=t.isServer||typeof document<"u"&&t.ssr?Ga:T.Suspense,c=b.jsxs(a,{fallback:s,children:[!t.isServer&&b.jsx(HA,{}),b.jsx(KA,{})]});return t.options.InnerWrap?b.jsx(t.options.InnerWrap,{children:c}):c}function KA(){const t=ur(),e=lr({select:a=>a.matches[0]?.id}),n=lr({select:a=>a.loadedAt}),s=e?b.jsx(AS,{matchId:e}):null;return b.jsx(Cf.Provider,{value:e,children:t.options.disableGlobalCatchBoundary?s:b.jsx(ny,{getResetKey:()=>n,errorComponent:wf,onCatch:a=>{a.message||a.toString()},children:s})})}const XA=t=>new QA(t);class QA extends lA{constructor(e){super(e)}}typeof globalThis<"u"?(globalThis.createFileRoute=pb,globalThis.createLazyFileRoute=gb):typeof window<"u"&&(window.createFileRoute=pb,window.createLazyFileRoute=gb);function ZA({router:t,children:e,...n}){Object.keys(n).length>0&&t.update({...t.options,...n,context:{...t.options.context,...n.context}});const s=TS(),a=b.jsx(s.Provider,{value:t,children:e});return t.options.Wrap?b.jsx(t.options.Wrap,{children:a}):a}function JA({router:t,...e}){return b.jsx(ZA,{router:t,...e,children:b.jsx(GA,{})})}function WA(t,e){if(t===void 0)return{shouldBlockFn:()=>!0,withResolver:!1};if("shouldBlockFn"in t)return t;if(typeof t=="function")return{shouldBlockFn:async()=>await t(),enableBeforeUnload:!0,withResolver:!1};const n=!!(t.condition??!0),s=t.blockerFn;return{shouldBlockFn:async()=>n&&s!==void 0?await s():n,enableBeforeUnload:n,withResolver:s===void 0}}function e6(t,e){const{shouldBlockFn:n,enableBeforeUnload:s=!0,disabled:a=!1,withResolver:c=!1}=WA(t),u=ur(),{history:f}=u,[d,h]=T.useState({status:"idle",current:void 0,next:void 0,action:void 0,proceed:void 0,reset:void 0});return T.useEffect(()=>{const y=async g=>{function v(D){const k=u.parseLocation(D),j=u.getMatchedRoutes(k.pathname,void 0);if(j.foundRoute===void 0)throw new Error(`No route found for location ${D.href}`);return{routeId:j.foundRoute.id,fullPath:j.foundRoute.fullPath,pathname:k.pathname,params:j.routeParams,search:k.search}}const S=v(g.currentLocation),C=v(g.nextLocation),E=await n({action:g.action,current:S,next:C});if(!c)return E;if(!E)return!1;const P=await new Promise(D=>{h({status:"blocked",current:S,next:C,action:g.action,proceed:()=>D(!1),reset:()=>D(!0)})});return h({status:"idle",current:void 0,next:void 0,action:void 0,proceed:void 0,reset:void 0}),P};return a?void 0:f.block({blockerFn:y,enableBeforeUnload:s})},[n,s,a,c,f,u]),d}var Rf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},t6={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},n6=class{#e=t6;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},sm=new n6;function r6(t){setTimeout(t,0)}var Af=typeof window>"u"||"Deno"in globalThis;function $r(){}function s6(t,e){return typeof t=="function"?t(e):t}function i6(t){return typeof t=="number"&&t>=0&&t!==1/0}function a6(t,e){return Math.max(t+(e||0)-Date.now(),0)}function im(t,e){return typeof t=="function"?t(e):t}function o6(t,e){return typeof t=="function"?t(e):t}function xb(t,e){const{type:n="all",exact:s,fetchStatus:a,predicate:c,queryKey:u,stale:f}=t;if(u){if(s){if(e.queryHash!==cy(u,e.options))return!1}else if(!Dc(e.queryKey,u))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||a&&a!==e.state.fetchStatus||c&&!c(e))}function bb(t,e){const{exact:n,status:s,predicate:a,mutationKey:c}=t;if(c){if(!e.options.mutationKey)return!1;if(n){if(Nc(e.options.mutationKey)!==Nc(c))return!1}else if(!Dc(e.options.mutationKey,c))return!1}return!(s&&e.state.status!==s||a&&!a(e))}function cy(t,e){return(e?.queryKeyHashFn||Nc)(t)}function Nc(t){return JSON.stringify(t,(e,n)=>am(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function Dc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Dc(t[n],e[n])):!1}var c6=Object.prototype.hasOwnProperty;function MS(t,e){if(t===e)return t;const n=Sb(t)&&Sb(e);if(!n&&!(am(t)&&am(e)))return e;const a=(n?t:Object.keys(t)).length,c=n?e:Object.keys(e),u=c.length,f=n?new Array(u):{};let d=0;for(let h=0;h<u;h++){const y=n?h:c[h],g=t[y],v=e[y];if(g===v){f[y]=g,(n?h<a:c6.call(t,y))&&d++;continue}if(g===null||v===null||typeof g!="object"||typeof v!="object"){f[y]=v;continue}const S=MS(g,v);f[y]=S,S===g&&d++}return a===u&&d===a?t:f}function Sb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function am(t){if(!_b(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!_b(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function _b(t){return Object.prototype.toString.call(t)==="[object Object]"}function l6(t){return new Promise(e=>{sm.setTimeout(e,t)})}function u6(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?MS(t,e):e}function f6(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function d6(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var ly=Symbol();function PS(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===ly?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var h6=class extends Rf{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Af&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},NS=new h6;function p6(){let t,e;const n=new Promise((a,c)=>{t=a,e=c});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),t(a)},n.reject=a=>{s({status:"rejected",reason:a}),e(a)},n}var m6=r6;function y6(){let t=[],e=0,n=f=>{f()},s=f=>{f()},a=m6;const c=f=>{e?t.push(f):a(()=>{n(f)})},u=()=>{const f=t;t=[],f.length&&a(()=>{s(()=>{f.forEach(d=>{n(d)})})})};return{batch:f=>{let d;e++;try{d=f()}finally{e--,e||u()}return d},batchCalls:f=>(...d)=>{c(()=>{f(...d)})},schedule:c,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{s=f},setScheduler:f=>{a=f}}}var Wn=y6(),g6=class extends Rf{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Af&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Ju=new g6;function v6(t){return Math.min(1e3*2**t,3e4)}function DS(t){return(t??"online")==="online"?Ju.isOnline():!0}var om=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function kS(t){let e=!1,n=0,s;const a=p6(),c=()=>a.status!=="pending",u=E=>{if(!c()){const M=new om(E);v(M),t.onCancel?.(M)}},f=()=>{e=!0},d=()=>{e=!1},h=()=>NS.isFocused()&&(t.networkMode==="always"||Ju.isOnline())&&t.canRun(),y=()=>DS(t.networkMode)&&t.canRun(),g=E=>{c()||(s?.(),a.resolve(E))},v=E=>{c()||(s?.(),a.reject(E))},S=()=>new Promise(E=>{s=M=>{(c()||h())&&E(M)},t.onPause?.()}).then(()=>{s=void 0,c()||t.onContinue?.()}),C=()=>{if(c())return;let E;const M=n===0?t.initialPromise:void 0;try{E=M??t.fn()}catch(P){E=Promise.reject(P)}Promise.resolve(E).then(g).catch(P=>{if(c())return;const D=t.retry??(Af?0:3),k=t.retryDelay??v6,j=typeof k=="function"?k(n,P):k,Y=D===!0||typeof D=="number"&&n<D||typeof D=="function"&&D(n,P);if(e||!Y){v(P);return}n++,t.onFail?.(n,P),l6(j).then(()=>h()?void 0:S()).then(()=>{e?v(P):C()})})};return{promise:a,status:()=>a.status,cancel:u,continue:()=>(s?.(),a),cancelRetry:f,continueRetry:d,canStart:y,start:()=>(y()?C():S().then(C),a)}}var jS=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),i6(this.gcTime)&&(this.#e=sm.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Af?1/0:300*1e3))}clearGcTimeout(){this.#e&&(sm.clearTimeout(this.#e),this.#e=void 0)}},x6=class extends jS{#e;#t;#n;#s;#r;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#n=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=wb(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=wb(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=u6(this.state.data,t,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then($r).catch($r):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>o6(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ly||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>im(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!a6(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(d=>d.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},a=()=>{const f=PS(this.options,e),h=(()=>{const y={client:this.#s,queryKey:this.queryKey,meta:this.meta};return s(y),y})();return this.#o=!1,this.options.persister?this.options.persister(f,h,this):f(h)},u=(()=>{const f={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:a};return s(f),f})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#i({type:"fetch",meta:u.fetchOptions?.meta}),this.#r=kS({initialPromise:e?.initialPromise,fn:u.fetchFn,onCancel:f=>{f instanceof om&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(f,d)=>{this.#i({type:"failed",failureCount:f,error:d})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const f=await this.#r.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof om){if(f.silent)return this.#r.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#i({type:"error",error:f}),this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...b6(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?s:void 0,s;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Wn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function b6(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:DS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function wb(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function Cb(t){return{onFetch:(e,n)=>{const s=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,c=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let f={pages:[],pageParams:[]},d=0;const h=async()=>{let y=!1;const g=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},v=PS(e.options,e.fetchOptions),S=async(C,E,M)=>{if(y)return Promise.reject();if(E==null&&C.pages.length)return Promise.resolve(C);const D=(()=>{const W={client:e.client,queryKey:e.queryKey,pageParam:E,direction:M?"backward":"forward",meta:e.options.meta};return g(W),W})(),k=await v(D),{maxPages:j}=e.options,Y=M?d6:f6;return{pages:Y(C.pages,k,j),pageParams:Y(C.pageParams,E,j)}};if(a&&c.length){const C=a==="backward",E=C?S6:Eb,M={pages:c,pageParams:u},P=E(s,M);f=await S(M,P,C)}else{const C=t??c.length;do{const E=d===0?u[0]??s.initialPageParam:Eb(s,f);if(d>0&&E==null)break;f=await S(f,E),d++}while(d<C)}return f};e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=h}}}function Eb(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function S6(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var _6=class extends jS{#e;#t;#n;#s;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||w6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=kS({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(c,u)=>{this.#r({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const s=this.state.status==="pending",a=!this.#s.canStart();try{if(s)e();else{this.#r({type:"pending",variables:t,isPaused:a}),await this.#n.config.onMutate?.(t,this,n);const u=await this.options.onMutate?.(t,n);u!==this.state.context&&this.#r({type:"pending",context:u,variables:t,isPaused:a})}const c=await this.#s.start();return await this.#n.config.onSuccess?.(c,t,this.state.context,this,n),await this.options.onSuccess?.(c,t,this.state.context,n),await this.#n.config.onSettled?.(c,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(c,null,t,this.state.context,n),this.#r({type:"success",data:c}),c}catch(c){try{throw await this.#n.config.onError?.(c,t,this.state.context,this,n),await this.options.onError?.(c,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,c,t,this.state.context,n),c}finally{this.#r({type:"error",error:c})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Wn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function w6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var C6=class extends Rf{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const s=new _6({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(s),s}add(t){this.#e.add(t);const e=hu(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=hu(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=hu(t);if(typeof e=="string"){const s=this.#t.get(e)?.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){const e=hu(t);return typeof e=="string"?this.#t.get(e)?.find(s=>s!==t&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Wn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>bb(e,n))}findAll(t={}){return this.getAll().filter(e=>bb(t,e))}notify(t){Wn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Wn.batch(()=>Promise.all(t.map(e=>e.continue().catch($r))))}};function hu(t){return t.options.scope?.id}var E6=class extends Rf{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const s=e.queryKey,a=e.queryHash??cy(s,e);let c=this.get(a);return c||(c=new x6({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(c)),c}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Wn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>xb(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>xb(t,n)):e}notify(t){Wn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Wn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Wn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},T6=class{#e;#t;#n;#s;#r;#a;#o;#i;constructor(t={}){this.#e=t.queryCache||new E6,this.#t=t.mutationCache||new C6,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=NS.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Ju.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(im(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),c=this.#e.get(s.queryHash)?.state.data,u=s6(e,c);if(u!==void 0)return this.#e.build(this,s).setData(u,{...n,manual:!0})}setQueriesData(t,e,n){return Wn.batch(()=>this.#e.findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Wn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Wn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=Wn.batch(()=>this.#e.findAll(t).map(a=>a.cancel(n)));return Promise.all(s).then($r).catch($r)}invalidateQueries(t,e={}){return Wn.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=Wn.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let c=a.fetch(void 0,n);return n.throwOnError||(c=c.catch($r)),a.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(s).then($r)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(im(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then($r).catch($r)}fetchInfiniteQuery(t){return t.behavior=Cb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then($r).catch($r)}ensureInfiniteQueryData(t){return t.behavior=Cb(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ju.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(Nc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(s=>{Dc(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Nc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(s=>{Dc(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=cy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ly&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},R6=T.createContext(void 0),A6=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),b.jsx(R6.Provider,{value:t,children:e}));async function O6(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const M6=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return await O6(n),await n.json()},P6=new T6({defaultOptions:{queries:{queryFn:M6({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),N6=1,D6=1e3;let gp=0;function k6(){return gp=(gp+1)%Number.MAX_SAFE_INTEGER,gp.toString()}const vp=new Map,Tb=t=>{if(vp.has(t))return;const e=setTimeout(()=>{vp.delete(t),Rc({type:"REMOVE_TOAST",toastId:t})},D6);vp.set(t,e)},j6=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,N6)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Tb(n):t.toasts.forEach(s=>{Tb(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Pu=[];let Nu={toasts:[]};function Rc(t){Nu=j6(Nu,t),Pu.forEach(e=>{e(Nu)})}function L6({...t}){const e=k6(),n=a=>Rc({type:"UPDATE_TOAST",toast:{...a,id:e}}),s=()=>Rc({type:"DISMISS_TOAST",toastId:e});return Rc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:a=>{a||s()}}}),{id:e,dismiss:s,update:n}}function LS(){const[t,e]=T.useState(Nu);return T.useEffect(()=>(Pu.push(e),()=>{const n=Pu.indexOf(e);n>-1&&Pu.splice(n,1)}),[t]),{...t,toast:L6,dismiss:n=>Rc({type:"DISMISS_TOAST",toastId:n})}}function Lt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t?.(a),n===!1||!a.defaultPrevented)return e?.(a)}}function Rb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function US(...t){return e=>{let n=!1;const s=t.map(a=>{const c=Rb(a,e);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let a=0;a<s.length;a++){const c=s[a];typeof c=="function"?c():Rb(t[a],null)}}}}function on(...t){return T.useCallback(US(...t),t)}function Pi(t,e=[]){let n=[];function s(c,u){const f=T.createContext(u),d=n.length;n=[...n,u];const h=g=>{const{scope:v,children:S,...C}=g,E=v?.[t]?.[d]||f,M=T.useMemo(()=>C,Object.values(C));return b.jsx(E.Provider,{value:M,children:S})};h.displayName=c+"Provider";function y(g,v){const S=v?.[t]?.[d]||f,C=T.useContext(S);if(C)return C;if(u!==void 0)return u;throw new Error(`\`${g}\` must be used within \`${c}\``)}return[h,y]}const a=()=>{const c=n.map(u=>T.createContext(u));return function(f){const d=f?.[t]||c;return T.useMemo(()=>({[`__scope${t}`]:{...f,[t]:d}}),[f,d])}};return a.scopeName=t,[s,U6(a,...e)]}function U6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const u=s.reduce((f,{useScope:d,scopeName:h})=>{const g=d(c)[`__scope${h}`];return{...f,...g}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function Wu(t){const e=I6(t),n=T.forwardRef((s,a)=>{const{children:c,...u}=s,f=T.Children.toArray(c),d=f.find(H6);if(d){const h=d.props.children,y=f.map(g=>g===d?T.Children.count(h)>1?T.Children.only(null):T.isValidElement(h)?h.props.children:null:g);return b.jsx(e,{...u,ref:a,children:T.isValidElement(h)?T.cloneElement(h,void 0,y):null})}return b.jsx(e,{...u,ref:a,children:c})});return n.displayName=`${t}.Slot`,n}var z6=Wu("Slot");function I6(t){const e=T.forwardRef((n,s)=>{const{children:a,...c}=n;if(T.isValidElement(a)){const u=V6(a),f=$6(c,a.props);return a.type!==T.Fragment&&(f.ref=s?US(s,u):u),T.cloneElement(a,f)}return T.Children.count(a)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var zS=Symbol("radix.slottable");function B6(t){const e=({children:n})=>b.jsx(b.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=zS,e}function H6(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===zS}function $6(t,e){const n={...e};for(const s in e){const a=t[s],c=e[s];/^on[A-Z]/.test(s)?a&&c?n[s]=(...f)=>{const d=c(...f);return a(...f),d}:a&&(n[s]=a):s==="style"?n[s]={...a,...c}:s==="className"&&(n[s]=[a,c].filter(Boolean).join(" "))}return{...t,...n}}function V6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function IS(t){const e=t+"CollectionProvider",[n,s]=Pi(e),[a,c]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=E=>{const{scope:M,children:P}=E,D=ke.useRef(null),k=ke.useRef(new Map).current;return b.jsx(a,{scope:M,itemMap:k,collectionRef:D,children:P})};u.displayName=e;const f=t+"CollectionSlot",d=Wu(f),h=ke.forwardRef((E,M)=>{const{scope:P,children:D}=E,k=c(f,P),j=on(M,k.collectionRef);return b.jsx(d,{ref:j,children:D})});h.displayName=f;const y=t+"CollectionItemSlot",g="data-radix-collection-item",v=Wu(y),S=ke.forwardRef((E,M)=>{const{scope:P,children:D,...k}=E,j=ke.useRef(null),Y=on(M,j),W=c(y,P);return ke.useEffect(()=>(W.itemMap.set(j,{ref:j,...k}),()=>void W.itemMap.delete(j))),b.jsx(v,{[g]:"",ref:Y,children:D})});S.displayName=y;function C(E){const M=c(t+"CollectionConsumer",E);return ke.useCallback(()=>{const D=M.collectionRef.current;if(!D)return[];const k=Array.from(D.querySelectorAll(`[${g}]`));return Array.from(M.itemMap.values()).sort((W,F)=>k.indexOf(W.ref.current)-k.indexOf(F.ref.current))},[M.collectionRef,M.itemMap])}return[{Provider:u,Slot:h,ItemSlot:S},C,s]}var q6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bt=q6.reduce((t,e)=>{const n=Wu(`Primitive.${e}`),s=T.forwardRef((a,c)=>{const{asChild:u,...f}=a,d=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(d,{...f,ref:c})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function BS(t,e){t&&Fc.flushSync(()=>t.dispatchEvent(e))}function qn(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>e.current?.(...n),[])}function F6(t,e=globalThis?.document){const n=qn(t);T.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var Y6="DismissableLayer",cm="dismissableLayer.update",G6="dismissableLayer.pointerDownOutside",K6="dismissableLayer.focusOutside",Ab,HS=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),uy=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...d}=t,h=T.useContext(HS),[y,g]=T.useState(null),v=y?.ownerDocument??globalThis?.document,[,S]=T.useState({}),C=on(e,F=>g(F)),E=Array.from(h.layers),[M]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),P=E.indexOf(M),D=y?E.indexOf(y):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,j=D>=P,Y=Q6(F=>{const X=F.target,me=[...h.branches].some(xe=>xe.contains(X));!j||me||(a?.(F),u?.(F),F.defaultPrevented||f?.())},v),W=Z6(F=>{const X=F.target;[...h.branches].some(xe=>xe.contains(X))||(c?.(F),u?.(F),F.defaultPrevented||f?.())},v);return F6(F=>{D===h.layers.size-1&&(s?.(F),!F.defaultPrevented&&f&&(F.preventDefault(),f()))},v),T.useEffect(()=>{if(y)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Ab=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(y)),h.layers.add(y),Ob(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Ab)}},[y,v,n,h]),T.useEffect(()=>()=>{y&&(h.layers.delete(y),h.layersWithOutsidePointerEventsDisabled.delete(y),Ob())},[y,h]),T.useEffect(()=>{const F=()=>S({});return document.addEventListener(cm,F),()=>document.removeEventListener(cm,F)},[]),b.jsx(Bt.div,{...d,ref:C,style:{pointerEvents:k?j?"auto":"none":void 0,...t.style},onFocusCapture:Lt(t.onFocusCapture,W.onFocusCapture),onBlurCapture:Lt(t.onBlurCapture,W.onBlurCapture),onPointerDownCapture:Lt(t.onPointerDownCapture,Y.onPointerDownCapture)})});uy.displayName=Y6;var X6="DismissableLayerBranch",$S=T.forwardRef((t,e)=>{const n=T.useContext(HS),s=T.useRef(null),a=on(e,s);return T.useEffect(()=>{const c=s.current;if(c)return n.branches.add(c),()=>{n.branches.delete(c)}},[n.branches]),b.jsx(Bt.div,{...t,ref:a})});$S.displayName=X6;function Q6(t,e=globalThis?.document){const n=qn(t),s=T.useRef(!1),a=T.useRef(()=>{});return T.useEffect(()=>{const c=f=>{if(f.target&&!s.current){let d=function(){VS(G6,n,h,{discrete:!0})};const h={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=d,e.addEventListener("click",a.current,{once:!0})):d()}else e.removeEventListener("click",a.current);s.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",c),e.removeEventListener("click",a.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function Z6(t,e=globalThis?.document){const n=qn(t),s=T.useRef(!1);return T.useEffect(()=>{const a=c=>{c.target&&!s.current&&VS(K6,n,{originalEvent:c},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Ob(){const t=new CustomEvent(cm);document.dispatchEvent(t)}function VS(t,e,n,{discrete:s}){const a=n.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&a.addEventListener(t,e,{once:!0}),s?BS(a,c):a.dispatchEvent(c)}var J6=uy,W6=$S,Dr=globalThis?.document?T.useLayoutEffect:()=>{},eO="Portal",qS=T.forwardRef((t,e)=>{const{container:n,...s}=t,[a,c]=T.useState(!1);Dr(()=>c(!0),[]);const u=n||a&&globalThis?.document?.body;return u?AA.createPortal(b.jsx(Bt.div,{...s,ref:e}),u):null});qS.displayName=eO;function tO(t,e){return T.useReducer((n,s)=>e[n][s]??n,t)}var fa=t=>{const{present:e,children:n}=t,s=nO(e),a=typeof n=="function"?n({present:s.isPresent}):T.Children.only(n),c=on(s.ref,rO(a));return typeof n=="function"||s.isPresent?T.cloneElement(a,{ref:c}):null};fa.displayName="Presence";function nO(t){const[e,n]=T.useState(),s=T.useRef(null),a=T.useRef(t),c=T.useRef("none"),u=t?"mounted":"unmounted",[f,d]=tO(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const h=pu(s.current);c.current=f==="mounted"?h:"none"},[f]),Dr(()=>{const h=s.current,y=a.current;if(y!==t){const v=c.current,S=pu(h);t?d("MOUNT"):S==="none"||h?.display==="none"?d("UNMOUNT"):d(y&&v!==S?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,d]),Dr(()=>{if(e){let h;const y=e.ownerDocument.defaultView??window,g=S=>{const E=pu(s.current).includes(CSS.escape(S.animationName));if(S.target===e&&E&&(d("ANIMATION_END"),!a.current)){const M=e.style.animationFillMode;e.style.animationFillMode="forwards",h=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=M)})}},v=S=>{S.target===e&&(c.current=pu(s.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{y.clearTimeout(h),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:T.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function pu(t){return t?.animationName||"none"}function rO(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var sO=yA[" useInsertionEffect ".trim().toString()]||Dr;function FS({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[a,c,u]=iO({defaultProp:e,onChange:n}),f=t!==void 0,d=f?t:a;{const y=T.useRef(t!==void 0);T.useEffect(()=>{const g=y.current;g!==f&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=f},[f,s])}const h=T.useCallback(y=>{if(f){const g=aO(y)?y(t):y;g!==t&&u.current?.(g)}else c(y)},[f,t,c,u]);return[d,h]}function iO({defaultProp:t,onChange:e}){const[n,s]=T.useState(t),a=T.useRef(n),c=T.useRef(e);return sO(()=>{c.current=e},[e]),T.useEffect(()=>{a.current!==n&&(c.current?.(n),a.current=n)},[n,a]),[n,s,c]}function aO(t){return typeof t=="function"}var oO=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),cO="VisuallyHidden",Of=T.forwardRef((t,e)=>b.jsx(Bt.span,{...t,ref:e,style:{...oO,...t.style}}));Of.displayName=cO;var lO=Of,fy="ToastProvider",[dy,uO,fO]=IS("Toast"),[YS]=Pi("Toast",[fO]),[dO,Mf]=YS(fy),GS=t=>{const{__scopeToast:e,label:n="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:c=50,children:u}=t,[f,d]=T.useState(null),[h,y]=T.useState(0),g=T.useRef(!1),v=T.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${fy}\`. Expected non-empty \`string\`.`),b.jsx(dy.Provider,{scope:e,children:b.jsx(dO,{scope:e,label:n,duration:s,swipeDirection:a,swipeThreshold:c,toastCount:h,viewport:f,onViewportChange:d,onToastAdd:T.useCallback(()=>y(S=>S+1),[]),onToastRemove:T.useCallback(()=>y(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:v,children:u})})};GS.displayName=fy;var KS="ToastViewport",hO=["F8"],lm="toast.viewportPause",um="toast.viewportResume",XS=T.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:s=hO,label:a="Notifications ({hotkey})",...c}=t,u=Mf(KS,n),f=uO(n),d=T.useRef(null),h=T.useRef(null),y=T.useRef(null),g=T.useRef(null),v=on(e,g,u.onViewportChange),S=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=u.toastCount>0;T.useEffect(()=>{const M=P=>{s.length!==0&&s.every(k=>P[k]||P.code===k)&&g.current?.focus()};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[s]),T.useEffect(()=>{const M=d.current,P=g.current;if(C&&M&&P){const D=()=>{if(!u.isClosePausedRef.current){const W=new CustomEvent(lm);P.dispatchEvent(W),u.isClosePausedRef.current=!0}},k=()=>{if(u.isClosePausedRef.current){const W=new CustomEvent(um);P.dispatchEvent(W),u.isClosePausedRef.current=!1}},j=W=>{!M.contains(W.relatedTarget)&&k()},Y=()=>{M.contains(document.activeElement)||k()};return M.addEventListener("focusin",D),M.addEventListener("focusout",j),M.addEventListener("pointermove",D),M.addEventListener("pointerleave",Y),window.addEventListener("blur",D),window.addEventListener("focus",k),()=>{M.removeEventListener("focusin",D),M.removeEventListener("focusout",j),M.removeEventListener("pointermove",D),M.removeEventListener("pointerleave",Y),window.removeEventListener("blur",D),window.removeEventListener("focus",k)}}},[C,u.isClosePausedRef]);const E=T.useCallback(({tabbingDirection:M})=>{const D=f().map(k=>{const j=k.ref.current,Y=[j,...TO(j)];return M==="forwards"?Y:Y.reverse()});return(M==="forwards"?D.reverse():D).flat()},[f]);return T.useEffect(()=>{const M=g.current;if(M){const P=D=>{const k=D.altKey||D.ctrlKey||D.metaKey;if(D.key==="Tab"&&!k){const Y=document.activeElement,W=D.shiftKey;if(D.target===M&&W){h.current?.focus();return}const me=E({tabbingDirection:W?"backwards":"forwards"}),xe=me.findIndex(Se=>Se===Y);xp(me.slice(xe+1))?D.preventDefault():W?h.current?.focus():y.current?.focus()}};return M.addEventListener("keydown",P),()=>M.removeEventListener("keydown",P)}},[f,E]),b.jsxs(W6,{ref:d,role:"region","aria-label":a.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&b.jsx(fm,{ref:h,onFocusFromOutsideViewport:()=>{const M=E({tabbingDirection:"forwards"});xp(M)}}),b.jsx(dy.Slot,{scope:n,children:b.jsx(Bt.ol,{tabIndex:-1,...c,ref:v})}),C&&b.jsx(fm,{ref:y,onFocusFromOutsideViewport:()=>{const M=E({tabbingDirection:"backwards"});xp(M)}})]})});XS.displayName=KS;var QS="ToastFocusProxy",fm=T.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...a}=t,c=Mf(QS,n);return b.jsx(Of,{tabIndex:0,...a,ref:e,style:{position:"fixed"},onFocus:u=>{const f=u.relatedTarget;!c.viewport?.contains(f)&&s()}})});fm.displayName=QS;var Yc="Toast",pO="toast.swipeStart",mO="toast.swipeMove",yO="toast.swipeCancel",gO="toast.swipeEnd",ZS=T.forwardRef((t,e)=>{const{forceMount:n,open:s,defaultOpen:a,onOpenChange:c,...u}=t,[f,d]=FS({prop:s,defaultProp:a??!0,onChange:c,caller:Yc});return b.jsx(fa,{present:n||f,children:b.jsx(bO,{open:f,...u,ref:e,onClose:()=>d(!1),onPause:qn(t.onPause),onResume:qn(t.onResume),onSwipeStart:Lt(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Lt(t.onSwipeMove,h=>{const{x:y,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:Lt(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Lt(t.onSwipeEnd,h=>{const{x:y,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),d(!1)})})})});ZS.displayName=Yc;var[vO,xO]=YS(Yc,{onClose(){}}),bO=T.forwardRef((t,e)=>{const{__scopeToast:n,type:s="foreground",duration:a,open:c,onClose:u,onEscapeKeyDown:f,onPause:d,onResume:h,onSwipeStart:y,onSwipeMove:g,onSwipeCancel:v,onSwipeEnd:S,...C}=t,E=Mf(Yc,n),[M,P]=T.useState(null),D=on(e,be=>P(be)),k=T.useRef(null),j=T.useRef(null),Y=a||E.duration,W=T.useRef(0),F=T.useRef(Y),X=T.useRef(0),{onToastAdd:me,onToastRemove:xe}=E,Se=qn(()=>{M?.contains(document.activeElement)&&E.viewport?.focus(),u()}),Ce=T.useCallback(be=>{!be||be===1/0||(window.clearTimeout(X.current),W.current=new Date().getTime(),X.current=window.setTimeout(Se,be))},[Se]);T.useEffect(()=>{const be=E.viewport;if(be){const Ne=()=>{Ce(F.current),h?.()},H=()=>{const ie=new Date().getTime()-W.current;F.current=F.current-ie,window.clearTimeout(X.current),d?.()};return be.addEventListener(lm,H),be.addEventListener(um,Ne),()=>{be.removeEventListener(lm,H),be.removeEventListener(um,Ne)}}},[E.viewport,Y,d,h,Ce]),T.useEffect(()=>{c&&!E.isClosePausedRef.current&&Ce(Y)},[c,Y,E.isClosePausedRef,Ce]),T.useEffect(()=>(me(),()=>xe()),[me,xe]);const Ee=T.useMemo(()=>M?s_(M):null,[M]);return E.viewport?b.jsxs(b.Fragment,{children:[Ee&&b.jsx(SO,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite",children:Ee}),b.jsx(vO,{scope:n,onClose:Se,children:Fc.createPortal(b.jsx(dy.ItemSlot,{scope:n,children:b.jsx(J6,{asChild:!0,onEscapeKeyDown:Lt(f,()=>{E.isFocusedToastEscapeKeyDownRef.current||Se(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:b.jsx(Bt.li,{tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":E.swipeDirection,...C,ref:D,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Lt(t.onKeyDown,be=>{be.key==="Escape"&&(f?.(be.nativeEvent),be.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,Se()))}),onPointerDown:Lt(t.onPointerDown,be=>{be.button===0&&(k.current={x:be.clientX,y:be.clientY})}),onPointerMove:Lt(t.onPointerMove,be=>{if(!k.current)return;const Ne=be.clientX-k.current.x,H=be.clientY-k.current.y,ie=!!j.current,G=["left","right"].includes(E.swipeDirection),Me=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,Ze=G?Me(0,Ne):0,L=G?0:Me(0,H),te=be.pointerType==="touch"?10:2,ae={x:Ze,y:L},pe={originalEvent:be,delta:ae};ie?(j.current=ae,mu(mO,g,pe,{discrete:!1})):Mb(ae,E.swipeDirection,te)?(j.current=ae,mu(pO,y,pe,{discrete:!1}),be.target.setPointerCapture(be.pointerId)):(Math.abs(Ne)>te||Math.abs(H)>te)&&(k.current=null)}),onPointerUp:Lt(t.onPointerUp,be=>{const Ne=j.current,H=be.target;if(H.hasPointerCapture(be.pointerId)&&H.releasePointerCapture(be.pointerId),j.current=null,k.current=null,Ne){const ie=be.currentTarget,G={originalEvent:be,delta:Ne};Mb(Ne,E.swipeDirection,E.swipeThreshold)?mu(gO,S,G,{discrete:!0}):mu(yO,v,G,{discrete:!0}),ie.addEventListener("click",Me=>Me.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),SO=t=>{const{__scopeToast:e,children:n,...s}=t,a=Mf(Yc,e),[c,u]=T.useState(!1),[f,d]=T.useState(!1);return CO(()=>u(!0)),T.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),f?null:b.jsx(qS,{asChild:!0,children:b.jsx(Of,{...s,children:c&&b.jsxs(b.Fragment,{children:[a.label," ",n]})})})},_O="ToastTitle",JS=T.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return b.jsx(Bt.div,{...s,ref:e})});JS.displayName=_O;var wO="ToastDescription",WS=T.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return b.jsx(Bt.div,{...s,ref:e})});WS.displayName=wO;var e_="ToastAction",t_=T.forwardRef((t,e)=>{const{altText:n,...s}=t;return n.trim()?b.jsx(r_,{altText:n,asChild:!0,children:b.jsx(hy,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${e_}\`. Expected non-empty \`string\`.`),null)});t_.displayName=e_;var n_="ToastClose",hy=T.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t,a=xO(n_,n);return b.jsx(r_,{asChild:!0,children:b.jsx(Bt.button,{type:"button",...s,ref:e,onClick:Lt(t.onClick,a.onClose)})})});hy.displayName=n_;var r_=T.forwardRef((t,e)=>{const{__scopeToast:n,altText:s,...a}=t;return b.jsx(Bt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:e})});function s_(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),EO(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",c=s.dataset.radixToastAnnounceExclude==="";if(!a)if(c){const u=s.dataset.radixToastAnnounceAlt;u&&e.push(u)}else e.push(...s_(s))}}),e}function mu(t,e,n,{discrete:s}){const a=n.originalEvent.currentTarget,c=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&a.addEventListener(t,e,{once:!0}),s?BS(a,c):a.dispatchEvent(c)}var Mb=(t,e,n=0)=>{const s=Math.abs(t.x),a=Math.abs(t.y),c=s>a;return e==="left"||e==="right"?c&&s>n:!c&&a>n};function CO(t=()=>{}){const e=qn(t);Dr(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[e])}function EO(t){return t.nodeType===t.ELEMENT_NODE}function TO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function xp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var RO=GS,i_=XS,a_=ZS,o_=JS,c_=WS,l_=t_,u_=hy;function f_(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=f_(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function d_(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=f_(t))&&(s&&(s+=" "),s+=e);return s}const Pb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Nb=d_,Pf=(t,e)=>n=>{var s;if(e?.variants==null)return Nb(t,n?.class,n?.className);const{variants:a,defaultVariants:c}=e,u=Object.keys(a).map(h=>{const y=n?.[h],g=c?.[h];if(y===null)return null;const v=Pb(y)||Pb(g);return a[h][v]}),f=n&&Object.entries(n).reduce((h,y)=>{let[g,v]=y;return v===void 0||(h[g]=v),h},{}),d=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((h,y)=>{let{class:g,className:v,...S}=y;return Object.entries(S).every(C=>{let[E,M]=C;return Array.isArray(M)?M.includes({...c,...f}[E]):{...c,...f}[E]===M})?[...h,g,v]:h},[]);return Nb(t,u,d,n?.class,n?.className)};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),OO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Db=t=>{const e=OO(t);return e.charAt(0).toUpperCase()+e.slice(1)},h_=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),MO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:c,iconNode:u,...f},d)=>T.createElement("svg",{ref:d,...PO,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:h_("lucide",a),...!c&&!MO(f)&&{"aria-hidden":"true"},...f},[...u.map(([h,y])=>T.createElement(h,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=(t,e)=>{const n=T.forwardRef(({className:s,...a},c)=>T.createElement(NO,{ref:c,iconNode:e,className:h_(`lucide-${AO(Db(t))}`,`lucide-${t}`,s),...a}));return n.displayName=Db(t),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kO=Tn("check",DO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],LO=Tn("circle-alert",jO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],p_=Tn("circle-check-big",UO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],IO=Tn("circle-check",zO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],m_=Tn("circle",BO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],y_=Tn("clock",HO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],VO=Tn("copy",$O);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],FO=Tn("crown",qO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],py=Tn("loader-circle",YO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],kb=Tn("message-square",GO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],XO=Tn("moon",KO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],g_=Tn("music",QO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],JO=Tn("pause",ZO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],e3=Tn("play",WO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],v_=Tn("search",t3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],r3=Tn("sun",n3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],dm=Tn("trophy",s3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],a3=Tn("user-x",i3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],c3=Tn("users",o3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],u3=Tn("x",l3),my="-",f3=t=>{const e=h3(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:u=>{const f=u.split(my);return f[0]===""&&f.length!==1&&f.shift(),x_(f,e)||d3(u)},getConflictingClassGroupIds:(u,f)=>{const d=n[u]||[];return f&&s[u]?[...d,...s[u]]:d}}},x_=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),a=s?x_(t.slice(1),s):void 0;if(a)return a;if(e.validators.length===0)return;const c=t.join(my);return e.validators.find(({validator:u})=>u(c))?.classGroupId},jb=/^\[(.+)\]$/,d3=t=>{if(jb.test(t)){const e=jb.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},h3=t=>{const{theme:e,classGroups:n}=t,s={nextPart:new Map,validators:[]};for(const a in n)hm(n[a],s,a,e);return s},hm=(t,e,n,s)=>{t.forEach(a=>{if(typeof a=="string"){const c=a===""?e:Lb(e,a);c.classGroupId=n;return}if(typeof a=="function"){if(p3(a)){hm(a(s),e,n,s);return}e.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([c,u])=>{hm(u,Lb(e,c),n,s)})})},Lb=(t,e)=>{let n=t;return e.split(my).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},p3=t=>t.isThemeGetter,m3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const a=(c,u)=>{n.set(c,u),e++,e>t&&(e=0,s=n,n=new Map)};return{get(c){let u=n.get(c);if(u!==void 0)return u;if((u=s.get(c))!==void 0)return a(c,u),u},set(c,u){n.has(c)?n.set(c,u):a(c,u)}}},pm="!",mm=":",y3=mm.length,g3=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=a=>{const c=[];let u=0,f=0,d=0,h;for(let C=0;C<a.length;C++){let E=a[C];if(u===0&&f===0){if(E===mm){c.push(a.slice(d,C)),d=C+y3;continue}if(E==="/"){h=C;continue}}E==="["?u++:E==="]"?u--:E==="("?f++:E===")"&&f--}const y=c.length===0?a:a.substring(d),g=v3(y),v=g!==y,S=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:S}};if(e){const a=e+mm,c=s;s=u=>u.startsWith(a)?c(u.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const a=s;s=c=>n({className:c,parseClassName:a})}return s},v3=t=>t.endsWith(pm)?t.substring(0,t.length-1):t.startsWith(pm)?t.substring(1):t,x3=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let c=[];return s.forEach(u=>{u[0]==="["||e[u]?(a.push(...c.sort(),u),c=[]):c.push(u)}),a.push(...c.sort()),a}},b3=t=>({cache:m3(t.cacheSize),parseClassName:g3(t),sortModifiers:x3(t),...f3(t)}),S3=/\s+/,_3=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:c}=e,u=[],f=t.trim().split(S3);let d="";for(let h=f.length-1;h>=0;h-=1){const y=f[h],{isExternal:g,modifiers:v,hasImportantModifier:S,baseClassName:C,maybePostfixModifierPosition:E}=n(y);if(g){d=y+(d.length>0?" "+d:d);continue}let M=!!E,P=s(M?C.substring(0,E):C);if(!P){if(!M){d=y+(d.length>0?" "+d:d);continue}if(P=s(C),!P){d=y+(d.length>0?" "+d:d);continue}M=!1}const D=c(v).join(":"),k=S?D+pm:D,j=k+P;if(u.includes(j))continue;u.push(j);const Y=a(P,M);for(let W=0;W<Y.length;++W){const F=Y[W];u.push(k+F)}d=y+(d.length>0?" "+d:d)}return d};function w3(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=b_(e))&&(s&&(s+=" "),s+=n);return s}const b_=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=b_(t[s]))&&(n&&(n+=" "),n+=e);return n};function C3(t,...e){let n,s,a,c=u;function u(d){const h=e.reduce((y,g)=>g(y),t());return n=b3(h),s=n.cache.get,a=n.cache.set,c=f,f(d)}function f(d){const h=s(d);if(h)return h;const y=_3(d,n);return a(d,y),y}return function(){return c(w3.apply(null,arguments))}}const Mn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},S_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,__=/^\((?:(\w[\w-]*):)?(.+)\)$/i,E3=/^\d+\/\d+$/,T3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,R3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,A3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,O3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,M3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ya=t=>E3.test(t),vt=t=>!!t&&!Number.isNaN(Number(t)),wi=t=>!!t&&Number.isInteger(Number(t)),bp=t=>t.endsWith("%")&&vt(t.slice(0,-1)),Is=t=>T3.test(t),P3=()=>!0,N3=t=>R3.test(t)&&!A3.test(t),w_=()=>!1,D3=t=>O3.test(t),k3=t=>M3.test(t),j3=t=>!qe(t)&&!Fe(t),L3=t=>fo(t,T_,w_),qe=t=>S_.test(t),Ki=t=>fo(t,R_,N3),Sp=t=>fo(t,H3,vt),Ub=t=>fo(t,C_,w_),U3=t=>fo(t,E_,k3),yu=t=>fo(t,A_,D3),Fe=t=>__.test(t),dc=t=>ho(t,R_),z3=t=>ho(t,$3),zb=t=>ho(t,C_),I3=t=>ho(t,T_),B3=t=>ho(t,E_),gu=t=>ho(t,A_,!0),fo=(t,e,n)=>{const s=S_.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},ho=(t,e,n=!1)=>{const s=__.exec(t);return s?s[1]?e(s[1]):n:!1},C_=t=>t==="position"||t==="percentage",E_=t=>t==="image"||t==="url",T_=t=>t==="length"||t==="size"||t==="bg-size",R_=t=>t==="length",H3=t=>t==="number",$3=t=>t==="family-name",A_=t=>t==="shadow",V3=()=>{const t=Mn("color"),e=Mn("font"),n=Mn("text"),s=Mn("font-weight"),a=Mn("tracking"),c=Mn("leading"),u=Mn("breakpoint"),f=Mn("container"),d=Mn("spacing"),h=Mn("radius"),y=Mn("shadow"),g=Mn("inset-shadow"),v=Mn("text-shadow"),S=Mn("drop-shadow"),C=Mn("blur"),E=Mn("perspective"),M=Mn("aspect"),P=Mn("ease"),D=Mn("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Y=()=>[...j(),Fe,qe],W=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],X=()=>[Fe,qe,d],me=()=>[Ya,"full","auto",...X()],xe=()=>[wi,"none","subgrid",Fe,qe],Se=()=>["auto",{span:["full",wi,Fe,qe]},wi,Fe,qe],Ce=()=>[wi,"auto",Fe,qe],Ee=()=>["auto","min","max","fr",Fe,qe],be=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ne=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...X()],ie=()=>[Ya,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...X()],G=()=>[t,Fe,qe],Me=()=>[...j(),zb,Ub,{position:[Fe,qe]}],Ze=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",I3,L3,{size:[Fe,qe]}],te=()=>[bp,dc,Ki],ae=()=>["","none","full",h,Fe,qe],pe=()=>["",vt,dc,Ki],ye=()=>["solid","dashed","dotted","double"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],je=()=>[vt,bp,zb,Ub],xt=()=>["","none",C,Fe,qe],I=()=>["none",vt,Fe,qe],K=()=>["none",vt,Fe,qe],de=()=>[vt,Fe,qe],Le=()=>[Ya,"full",...X()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Is],breakpoint:[Is],color:[P3],container:[Is],"drop-shadow":[Is],ease:["in","out","in-out"],font:[j3],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Is],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Is],shadow:[Is],spacing:["px",vt],text:[Is],"text-shadow":[Is],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ya,qe,Fe,M]}],container:["container"],columns:[{columns:[vt,qe,Fe,f]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Y()}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:me()}],"inset-x":[{"inset-x":me()}],"inset-y":[{"inset-y":me()}],start:[{start:me()}],end:[{end:me()}],top:[{top:me()}],right:[{right:me()}],bottom:[{bottom:me()}],left:[{left:me()}],visibility:["visible","invisible","collapse"],z:[{z:[wi,"auto",Fe,qe]}],basis:[{basis:[Ya,"full","auto",f,...X()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[vt,Ya,"auto","initial","none",qe]}],grow:[{grow:["",vt,Fe,qe]}],shrink:[{shrink:["",vt,Fe,qe]}],order:[{order:[wi,"first","last","none",Fe,qe]}],"grid-cols":[{"grid-cols":xe()}],"col-start-end":[{col:Se()}],"col-start":[{"col-start":Ce()}],"col-end":[{"col-end":Ce()}],"grid-rows":[{"grid-rows":xe()}],"row-start-end":[{row:Se()}],"row-start":[{"row-start":Ce()}],"row-end":[{"row-end":Ce()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Ee()}],"auto-rows":[{"auto-rows":Ee()}],gap:[{gap:X()}],"gap-x":[{"gap-x":X()}],"gap-y":[{"gap-y":X()}],"justify-content":[{justify:[...be(),"normal"]}],"justify-items":[{"justify-items":[...Ne(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ne()]}],"align-content":[{content:["normal",...be()]}],"align-items":[{items:[...Ne(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ne(),{baseline:["","last"]}]}],"place-content":[{"place-content":be()}],"place-items":[{"place-items":[...Ne(),"baseline"]}],"place-self":[{"place-self":["auto",...Ne()]}],p:[{p:X()}],px:[{px:X()}],py:[{py:X()}],ps:[{ps:X()}],pe:[{pe:X()}],pt:[{pt:X()}],pr:[{pr:X()}],pb:[{pb:X()}],pl:[{pl:X()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":X()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":X()}],"space-y-reverse":["space-y-reverse"],size:[{size:ie()}],w:[{w:[f,"screen",...ie()]}],"min-w":[{"min-w":[f,"screen","none",...ie()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...ie()]}],h:[{h:["screen","lh",...ie()]}],"min-h":[{"min-h":["screen","lh","none",...ie()]}],"max-h":[{"max-h":["screen","lh",...ie()]}],"font-size":[{text:["base",n,dc,Ki]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Fe,Sp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",bp,qe]}],"font-family":[{font:[z3,qe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Fe,qe]}],"line-clamp":[{"line-clamp":[vt,"none",Fe,Sp]}],leading:[{leading:[c,...X()]}],"list-image":[{"list-image":["none",Fe,qe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Fe,qe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ye(),"wavy"]}],"text-decoration-thickness":[{decoration:[vt,"from-font","auto",Fe,Ki]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[vt,"auto",Fe,qe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:X()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe,qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe,qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Me()}],"bg-repeat":[{bg:Ze()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},wi,Fe,qe],radial:["",Fe,qe],conic:[wi,Fe,qe]},B3,U3]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:ae()}],"rounded-s":[{"rounded-s":ae()}],"rounded-e":[{"rounded-e":ae()}],"rounded-t":[{"rounded-t":ae()}],"rounded-r":[{"rounded-r":ae()}],"rounded-b":[{"rounded-b":ae()}],"rounded-l":[{"rounded-l":ae()}],"rounded-ss":[{"rounded-ss":ae()}],"rounded-se":[{"rounded-se":ae()}],"rounded-ee":[{"rounded-ee":ae()}],"rounded-es":[{"rounded-es":ae()}],"rounded-tl":[{"rounded-tl":ae()}],"rounded-tr":[{"rounded-tr":ae()}],"rounded-br":[{"rounded-br":ae()}],"rounded-bl":[{"rounded-bl":ae()}],"border-w":[{border:pe()}],"border-w-x":[{"border-x":pe()}],"border-w-y":[{"border-y":pe()}],"border-w-s":[{"border-s":pe()}],"border-w-e":[{"border-e":pe()}],"border-w-t":[{"border-t":pe()}],"border-w-r":[{"border-r":pe()}],"border-w-b":[{"border-b":pe()}],"border-w-l":[{"border-l":pe()}],"divide-x":[{"divide-x":pe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":pe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ye(),"hidden","none"]}],"divide-style":[{divide:[...ye(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...ye(),"none","hidden"]}],"outline-offset":[{"outline-offset":[vt,Fe,qe]}],"outline-w":[{outline:["",vt,dc,Ki]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",y,gu,yu]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",g,gu,yu]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[vt,Ki]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":pe()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",v,gu,yu]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[vt,Fe,qe]}],"mix-blend":[{"mix-blend":[...Te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[vt]}],"mask-image-linear-from-pos":[{"mask-linear-from":je()}],"mask-image-linear-to-pos":[{"mask-linear-to":je()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":je()}],"mask-image-t-to-pos":[{"mask-t-to":je()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":je()}],"mask-image-r-to-pos":[{"mask-r-to":je()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":je()}],"mask-image-b-to-pos":[{"mask-b-to":je()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":je()}],"mask-image-l-to-pos":[{"mask-l-to":je()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":je()}],"mask-image-x-to-pos":[{"mask-x-to":je()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":je()}],"mask-image-y-to-pos":[{"mask-y-to":je()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[Fe,qe]}],"mask-image-radial-from-pos":[{"mask-radial-from":je()}],"mask-image-radial-to-pos":[{"mask-radial-to":je()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[vt]}],"mask-image-conic-from-pos":[{"mask-conic-from":je()}],"mask-image-conic-to-pos":[{"mask-conic-to":je()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Me()}],"mask-repeat":[{mask:Ze()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Fe,qe]}],filter:[{filter:["","none",Fe,qe]}],blur:[{blur:xt()}],brightness:[{brightness:[vt,Fe,qe]}],contrast:[{contrast:[vt,Fe,qe]}],"drop-shadow":[{"drop-shadow":["","none",S,gu,yu]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",vt,Fe,qe]}],"hue-rotate":[{"hue-rotate":[vt,Fe,qe]}],invert:[{invert:["",vt,Fe,qe]}],saturate:[{saturate:[vt,Fe,qe]}],sepia:[{sepia:["",vt,Fe,qe]}],"backdrop-filter":[{"backdrop-filter":["","none",Fe,qe]}],"backdrop-blur":[{"backdrop-blur":xt()}],"backdrop-brightness":[{"backdrop-brightness":[vt,Fe,qe]}],"backdrop-contrast":[{"backdrop-contrast":[vt,Fe,qe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",vt,Fe,qe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[vt,Fe,qe]}],"backdrop-invert":[{"backdrop-invert":["",vt,Fe,qe]}],"backdrop-opacity":[{"backdrop-opacity":[vt,Fe,qe]}],"backdrop-saturate":[{"backdrop-saturate":[vt,Fe,qe]}],"backdrop-sepia":[{"backdrop-sepia":["",vt,Fe,qe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":X()}],"border-spacing-x":[{"border-spacing-x":X()}],"border-spacing-y":[{"border-spacing-y":X()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Fe,qe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[vt,"initial",Fe,qe]}],ease:[{ease:["linear","initial",P,Fe,qe]}],delay:[{delay:[vt,Fe,qe]}],animate:[{animate:["none",D,Fe,qe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,Fe,qe]}],"perspective-origin":[{"perspective-origin":Y()}],rotate:[{rotate:I()}],"rotate-x":[{"rotate-x":I()}],"rotate-y":[{"rotate-y":I()}],"rotate-z":[{"rotate-z":I()}],scale:[{scale:K()}],"scale-x":[{"scale-x":K()}],"scale-y":[{"scale-y":K()}],"scale-z":[{"scale-z":K()}],"scale-3d":["scale-3d"],skew:[{skew:de()}],"skew-x":[{"skew-x":de()}],"skew-y":[{"skew-y":de()}],transform:[{transform:[Fe,qe,"","none","gpu","cpu"]}],"transform-origin":[{origin:Y()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Le()}],"translate-x":[{"translate-x":Le()}],"translate-y":[{"translate-y":Le()}],"translate-z":[{"translate-z":Le()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe,qe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":X()}],"scroll-mx":[{"scroll-mx":X()}],"scroll-my":[{"scroll-my":X()}],"scroll-ms":[{"scroll-ms":X()}],"scroll-me":[{"scroll-me":X()}],"scroll-mt":[{"scroll-mt":X()}],"scroll-mr":[{"scroll-mr":X()}],"scroll-mb":[{"scroll-mb":X()}],"scroll-ml":[{"scroll-ml":X()}],"scroll-p":[{"scroll-p":X()}],"scroll-px":[{"scroll-px":X()}],"scroll-py":[{"scroll-py":X()}],"scroll-ps":[{"scroll-ps":X()}],"scroll-pe":[{"scroll-pe":X()}],"scroll-pt":[{"scroll-pt":X()}],"scroll-pr":[{"scroll-pr":X()}],"scroll-pb":[{"scroll-pb":X()}],"scroll-pl":[{"scroll-pl":X()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe,qe]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[vt,dc,Ki,Sp]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},q3=C3(V3);function It(...t){return q3(d_(t))}const F3={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Y3=/&(amp|lt|gt|quot|#39);/g;let Ib=null;function ef(t){if(!t)return"";if(typeof DOMParser<"u"){Ib??=new DOMParser;const n=Ib.parseFromString(t,"text/html").documentElement.textContent;if(n!==null)return n}return t.replace(Y3,e=>F3[e]??e)}const G3=RO,O_=T.forwardRef(({className:t,...e},n)=>b.jsx(i_,{ref:n,className:It("fixed top-0 z-100 flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));O_.displayName=i_.displayName;const K3=Pf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-(--radix-toast-swipe-end-x) data-[swipe=move]:translate-x-(--radix-toast-swipe-move-x) data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),M_=T.forwardRef(({className:t,variant:e,...n},s)=>b.jsx(a_,{ref:s,className:It(K3({variant:e}),t),...n}));M_.displayName=a_.displayName;const X3=T.forwardRef(({className:t,...e},n)=>b.jsx(l_,{ref:n,className:It("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));X3.displayName=l_.displayName;const P_=T.forwardRef(({className:t,...e},n)=>b.jsx(u_,{ref:n,className:It("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:b.jsx(u3,{className:"h-4 w-4"})}));P_.displayName=u_.displayName;const N_=T.forwardRef(({className:t,...e},n)=>b.jsx(o_,{ref:n,className:It("text-sm font-semibold",t),...e}));N_.displayName=o_.displayName;const D_=T.forwardRef(({className:t,...e},n)=>b.jsx(c_,{ref:n,className:It("text-sm opacity-90",t),...e}));D_.displayName=c_.displayName;function Q3(){const{toasts:t}=LS();return b.jsxs(G3,{children:[t.map(({id:e,title:n,description:s,action:a,...c})=>b.jsxs(M_,{...c,children:[b.jsxs("div",{className:"grid gap-1",children:[n&&b.jsx(N_,{children:n}),s&&b.jsx(D_,{children:s})]}),a,b.jsx(P_,{})]},e)),b.jsx(O_,{})]})}const Z3=["top","right","bottom","left"],Oi=Math.min,xr=Math.max,tf=Math.round,vu=Math.floor,us=t=>({x:t,y:t}),J3={left:"right",right:"left",bottom:"top",top:"bottom"},W3={start:"end",end:"start"};function ym(t,e,n){return xr(t,Oi(e,n))}function Ks(t,e){return typeof t=="function"?t(e):t}function Xs(t){return t.split("-")[0]}function po(t){return t.split("-")[1]}function yy(t){return t==="x"?"y":"x"}function gy(t){return t==="y"?"height":"width"}const eM=new Set(["top","bottom"]);function os(t){return eM.has(Xs(t))?"y":"x"}function vy(t){return yy(os(t))}function tM(t,e,n){n===void 0&&(n=!1);const s=po(t),a=vy(t),c=gy(a);let u=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[c]>e.floating[c]&&(u=nf(u)),[u,nf(u)]}function nM(t){const e=nf(t);return[gm(t),e,gm(e)]}function gm(t){return t.replace(/start|end/g,e=>W3[e])}const Bb=["left","right"],Hb=["right","left"],rM=["top","bottom"],sM=["bottom","top"];function iM(t,e,n){switch(t){case"top":case"bottom":return n?e?Hb:Bb:e?Bb:Hb;case"left":case"right":return e?rM:sM;default:return[]}}function aM(t,e,n,s){const a=po(t);let c=iM(Xs(t),n==="start",s);return a&&(c=c.map(u=>u+"-"+a),e&&(c=c.concat(c.map(gm)))),c}function nf(t){return t.replace(/left|right|bottom|top/g,e=>J3[e])}function oM(t){return{top:0,right:0,bottom:0,left:0,...t}}function k_(t){return typeof t!="number"?oM(t):{top:t,right:t,bottom:t,left:t}}function rf(t){const{x:e,y:n,width:s,height:a}=t;return{width:s,height:a,top:n,left:e,right:e+s,bottom:n+a,x:e,y:n}}function $b(t,e,n){let{reference:s,floating:a}=t;const c=os(e),u=vy(e),f=gy(u),d=Xs(e),h=c==="y",y=s.x+s.width/2-a.width/2,g=s.y+s.height/2-a.height/2,v=s[f]/2-a[f]/2;let S;switch(d){case"top":S={x:y,y:s.y-a.height};break;case"bottom":S={x:y,y:s.y+s.height};break;case"right":S={x:s.x+s.width,y:g};break;case"left":S={x:s.x-a.width,y:g};break;default:S={x:s.x,y:s.y}}switch(po(e)){case"start":S[u]-=v*(n&&h?-1:1);break;case"end":S[u]+=v*(n&&h?-1:1);break}return S}const cM=async(t,e,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:c=[],platform:u}=n,f=c.filter(Boolean),d=await(u.isRTL==null?void 0:u.isRTL(e));let h=await u.getElementRects({reference:t,floating:e,strategy:a}),{x:y,y:g}=$b(h,s,d),v=s,S={},C=0;for(let E=0;E<f.length;E++){const{name:M,fn:P}=f[E],{x:D,y:k,data:j,reset:Y}=await P({x:y,y:g,initialPlacement:s,placement:v,strategy:a,middlewareData:S,rects:h,platform:u,elements:{reference:t,floating:e}});y=D??y,g=k??g,S={...S,[M]:{...S[M],...j}},Y&&C<=50&&(C++,typeof Y=="object"&&(Y.placement&&(v=Y.placement),Y.rects&&(h=Y.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:a}):Y.rects),{x:y,y:g}=$b(h,v,d)),E=-1)}return{x:y,y:g,placement:v,strategy:a,middlewareData:S}};async function kc(t,e){var n;e===void 0&&(e={});const{x:s,y:a,platform:c,rects:u,elements:f,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:y="viewport",elementContext:g="floating",altBoundary:v=!1,padding:S=0}=Ks(e,t),C=k_(S),M=f[v?g==="floating"?"reference":"floating":g],P=rf(await c.getClippingRect({element:(n=await(c.isElement==null?void 0:c.isElement(M)))==null||n?M:M.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:h,rootBoundary:y,strategy:d})),D=g==="floating"?{x:s,y:a,width:u.floating.width,height:u.floating.height}:u.reference,k=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),j=await(c.isElement==null?void 0:c.isElement(k))?await(c.getScale==null?void 0:c.getScale(k))||{x:1,y:1}:{x:1,y:1},Y=rf(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:D,offsetParent:k,strategy:d}):D);return{top:(P.top-Y.top+C.top)/j.y,bottom:(Y.bottom-P.bottom+C.bottom)/j.y,left:(P.left-Y.left+C.left)/j.x,right:(Y.right-P.right+C.right)/j.x}}const lM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:a,rects:c,platform:u,elements:f,middlewareData:d}=e,{element:h,padding:y=0}=Ks(t,e)||{};if(h==null)return{};const g=k_(y),v={x:n,y:s},S=vy(a),C=gy(S),E=await u.getDimensions(h),M=S==="y",P=M?"top":"left",D=M?"bottom":"right",k=M?"clientHeight":"clientWidth",j=c.reference[C]+c.reference[S]-v[S]-c.floating[C],Y=v[S]-c.reference[S],W=await(u.getOffsetParent==null?void 0:u.getOffsetParent(h));let F=W?W[k]:0;(!F||!await(u.isElement==null?void 0:u.isElement(W)))&&(F=f.floating[k]||c.floating[C]);const X=j/2-Y/2,me=F/2-E[C]/2-1,xe=Oi(g[P],me),Se=Oi(g[D],me),Ce=xe,Ee=F-E[C]-Se,be=F/2-E[C]/2+X,Ne=ym(Ce,be,Ee),H=!d.arrow&&po(a)!=null&&be!==Ne&&c.reference[C]/2-(be<Ce?xe:Se)-E[C]/2<0,ie=H?be<Ce?be-Ce:be-Ee:0;return{[S]:v[S]+ie,data:{[S]:Ne,centerOffset:be-Ne-ie,...H&&{alignmentOffset:ie}},reset:H}}}),uM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:a,middlewareData:c,rects:u,initialPlacement:f,platform:d,elements:h}=e,{mainAxis:y=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:E=!0,...M}=Ks(t,e);if((n=c.arrow)!=null&&n.alignmentOffset)return{};const P=Xs(a),D=os(f),k=Xs(f)===f,j=await(d.isRTL==null?void 0:d.isRTL(h.floating)),Y=v||(k||!E?[nf(f)]:nM(f)),W=C!=="none";!v&&W&&Y.push(...aM(f,E,C,j));const F=[f,...Y],X=await kc(e,M),me=[];let xe=((s=c.flip)==null?void 0:s.overflows)||[];if(y&&me.push(X[P]),g){const be=tM(a,u,j);me.push(X[be[0]],X[be[1]])}if(xe=[...xe,{placement:a,overflows:me}],!me.every(be=>be<=0)){var Se,Ce;const be=(((Se=c.flip)==null?void 0:Se.index)||0)+1,Ne=F[be];if(Ne&&(!(g==="alignment"?D!==os(Ne):!1)||xe.every(G=>os(G.placement)===D?G.overflows[0]>0:!0)))return{data:{index:be,overflows:xe},reset:{placement:Ne}};let H=(Ce=xe.filter(ie=>ie.overflows[0]<=0).sort((ie,G)=>ie.overflows[1]-G.overflows[1])[0])==null?void 0:Ce.placement;if(!H)switch(S){case"bestFit":{var Ee;const ie=(Ee=xe.filter(G=>{if(W){const Me=os(G.placement);return Me===D||Me==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(Me=>Me>0).reduce((Me,Ze)=>Me+Ze,0)]).sort((G,Me)=>G[1]-Me[1])[0])==null?void 0:Ee[0];ie&&(H=ie);break}case"initialPlacement":H=f;break}if(a!==H)return{reset:{placement:H}}}return{}}}};function Vb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function qb(t){return Z3.some(e=>t[e]>=0)}const fM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...a}=Ks(t,e);switch(s){case"referenceHidden":{const c=await kc(e,{...a,elementContext:"reference"}),u=Vb(c,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:qb(u)}}}case"escaped":{const c=await kc(e,{...a,altBoundary:!0}),u=Vb(c,n.floating);return{data:{escapedOffsets:u,escaped:qb(u)}}}default:return{}}}}},j_=new Set(["left","top"]);async function dM(t,e){const{placement:n,platform:s,elements:a}=t,c=await(s.isRTL==null?void 0:s.isRTL(a.floating)),u=Xs(n),f=po(n),d=os(n)==="y",h=j_.has(u)?-1:1,y=c&&d?-1:1,g=Ks(e,t);let{mainAxis:v,crossAxis:S,alignmentAxis:C}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return f&&typeof C=="number"&&(S=f==="end"?C*-1:C),d?{x:S*y,y:v*h}:{x:v*h,y:S*y}}const hM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:a,y:c,placement:u,middlewareData:f}=e,d=await dM(e,t);return u===((n=f.offset)==null?void 0:n.placement)&&(s=f.arrow)!=null&&s.alignmentOffset?{}:{x:a+d.x,y:c+d.y,data:{...d,placement:u}}}}},pM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:a}=e,{mainAxis:c=!0,crossAxis:u=!1,limiter:f={fn:M=>{let{x:P,y:D}=M;return{x:P,y:D}}},...d}=Ks(t,e),h={x:n,y:s},y=await kc(e,d),g=os(Xs(a)),v=yy(g);let S=h[v],C=h[g];if(c){const M=v==="y"?"top":"left",P=v==="y"?"bottom":"right",D=S+y[M],k=S-y[P];S=ym(D,S,k)}if(u){const M=g==="y"?"top":"left",P=g==="y"?"bottom":"right",D=C+y[M],k=C-y[P];C=ym(D,C,k)}const E=f.fn({...e,[v]:S,[g]:C});return{...E,data:{x:E.x-n,y:E.y-s,enabled:{[v]:c,[g]:u}}}}}},mM=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:a,rects:c,middlewareData:u}=e,{offset:f=0,mainAxis:d=!0,crossAxis:h=!0}=Ks(t,e),y={x:n,y:s},g=os(a),v=yy(g);let S=y[v],C=y[g];const E=Ks(f,e),M=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(d){const k=v==="y"?"height":"width",j=c.reference[v]-c.floating[k]+M.mainAxis,Y=c.reference[v]+c.reference[k]-M.mainAxis;S<j?S=j:S>Y&&(S=Y)}if(h){var P,D;const k=v==="y"?"width":"height",j=j_.has(Xs(a)),Y=c.reference[g]-c.floating[k]+(j&&((P=u.offset)==null?void 0:P[g])||0)+(j?0:M.crossAxis),W=c.reference[g]+c.reference[k]+(j?0:((D=u.offset)==null?void 0:D[g])||0)-(j?M.crossAxis:0);C<Y?C=Y:C>W&&(C=W)}return{[v]:S,[g]:C}}}},yM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:a,rects:c,platform:u,elements:f}=e,{apply:d=()=>{},...h}=Ks(t,e),y=await kc(e,h),g=Xs(a),v=po(a),S=os(a)==="y",{width:C,height:E}=c.floating;let M,P;g==="top"||g==="bottom"?(M=g,P=v===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(P=g,M=v==="end"?"top":"bottom");const D=E-y.top-y.bottom,k=C-y.left-y.right,j=Oi(E-y[M],D),Y=Oi(C-y[P],k),W=!e.middlewareData.shift;let F=j,X=Y;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(X=k),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(F=D),W&&!v){const xe=xr(y.left,0),Se=xr(y.right,0),Ce=xr(y.top,0),Ee=xr(y.bottom,0);S?X=C-2*(xe!==0||Se!==0?xe+Se:xr(y.left,y.right)):F=E-2*(Ce!==0||Ee!==0?Ce+Ee:xr(y.top,y.bottom))}await d({...e,availableWidth:X,availableHeight:F});const me=await u.getDimensions(f.floating);return C!==me.width||E!==me.height?{reset:{rects:!0}}:{}}}};function Nf(){return typeof window<"u"}function mo(t){return L_(t)?(t.nodeName||"").toLowerCase():"#document"}function br(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function gs(t){var e;return(e=(L_(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function L_(t){return Nf()?t instanceof Node||t instanceof br(t).Node:!1}function Gr(t){return Nf()?t instanceof Element||t instanceof br(t).Element:!1}function ms(t){return Nf()?t instanceof HTMLElement||t instanceof br(t).HTMLElement:!1}function Fb(t){return!Nf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof br(t).ShadowRoot}const gM=new Set(["inline","contents"]);function Gc(t){const{overflow:e,overflowX:n,overflowY:s,display:a}=Kr(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!gM.has(a)}const vM=new Set(["table","td","th"]);function xM(t){return vM.has(mo(t))}const bM=[":popover-open",":modal"];function Df(t){return bM.some(e=>{try{return t.matches(e)}catch{return!1}})}const SM=["transform","translate","scale","rotate","perspective"],_M=["transform","translate","scale","rotate","perspective","filter"],wM=["paint","layout","strict","content"];function xy(t){const e=by(),n=Gr(t)?Kr(t):t;return SM.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||_M.some(s=>(n.willChange||"").includes(s))||wM.some(s=>(n.contain||"").includes(s))}function CM(t){let e=Mi(t);for(;ms(e)&&!io(e);){if(xy(e))return e;if(Df(e))return null;e=Mi(e)}return null}function by(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const EM=new Set(["html","body","#document"]);function io(t){return EM.has(mo(t))}function Kr(t){return br(t).getComputedStyle(t)}function kf(t){return Gr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Mi(t){if(mo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Fb(t)&&t.host||gs(t);return Fb(e)?e.host:e}function U_(t){const e=Mi(t);return io(e)?t.ownerDocument?t.ownerDocument.body:t.body:ms(e)&&Gc(e)?e:U_(e)}function jc(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const a=U_(t),c=a===((s=t.ownerDocument)==null?void 0:s.body),u=br(a);if(c){const f=vm(u);return e.concat(u,u.visualViewport||[],Gc(a)?a:[],f&&n?jc(f):[])}return e.concat(a,jc(a,[],n))}function vm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function z_(t){const e=Kr(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const a=ms(t),c=a?t.offsetWidth:n,u=a?t.offsetHeight:s,f=tf(n)!==c||tf(s)!==u;return f&&(n=c,s=u),{width:n,height:s,$:f}}function Sy(t){return Gr(t)?t:t.contextElement}function Ja(t){const e=Sy(t);if(!ms(e))return us(1);const n=e.getBoundingClientRect(),{width:s,height:a,$:c}=z_(e);let u=(c?tf(n.width):n.width)/s,f=(c?tf(n.height):n.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const TM=us(0);function I_(t){const e=br(t);return!by()||!e.visualViewport?TM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function RM(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==br(t)?!1:e}function ca(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),c=Sy(t);let u=us(1);e&&(s?Gr(s)&&(u=Ja(s)):u=Ja(t));const f=RM(c,n,s)?I_(c):us(0);let d=(a.left+f.x)/u.x,h=(a.top+f.y)/u.y,y=a.width/u.x,g=a.height/u.y;if(c){const v=br(c),S=s&&Gr(s)?br(s):s;let C=v,E=vm(C);for(;E&&s&&S!==C;){const M=Ja(E),P=E.getBoundingClientRect(),D=Kr(E),k=P.left+(E.clientLeft+parseFloat(D.paddingLeft))*M.x,j=P.top+(E.clientTop+parseFloat(D.paddingTop))*M.y;d*=M.x,h*=M.y,y*=M.x,g*=M.y,d+=k,h+=j,C=br(E),E=vm(C)}}return rf({width:y,height:g,x:d,y:h})}function jf(t,e){const n=kf(t).scrollLeft;return e?e.left+n:ca(gs(t)).left+n}function B_(t,e){const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-jf(t,n),a=n.top+e.scrollTop;return{x:s,y:a}}function AM(t){let{elements:e,rect:n,offsetParent:s,strategy:a}=t;const c=a==="fixed",u=gs(s),f=e?Df(e.floating):!1;if(s===u||f&&c)return n;let d={scrollLeft:0,scrollTop:0},h=us(1);const y=us(0),g=ms(s);if((g||!g&&!c)&&((mo(s)!=="body"||Gc(u))&&(d=kf(s)),ms(s))){const S=ca(s);h=Ja(s),y.x=S.x+s.clientLeft,y.y=S.y+s.clientTop}const v=u&&!g&&!c?B_(u,d):us(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+y.x+v.x,y:n.y*h.y-d.scrollTop*h.y+y.y+v.y}}function OM(t){return Array.from(t.getClientRects())}function MM(t){const e=gs(t),n=kf(t),s=t.ownerDocument.body,a=xr(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),c=xr(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let u=-n.scrollLeft+jf(t);const f=-n.scrollTop;return Kr(s).direction==="rtl"&&(u+=xr(e.clientWidth,s.clientWidth)-a),{width:a,height:c,x:u,y:f}}const Yb=25;function PM(t,e){const n=br(t),s=gs(t),a=n.visualViewport;let c=s.clientWidth,u=s.clientHeight,f=0,d=0;if(a){c=a.width,u=a.height;const y=by();(!y||y&&e==="fixed")&&(f=a.offsetLeft,d=a.offsetTop)}const h=jf(s);if(h<=0){const y=s.ownerDocument,g=y.body,v=getComputedStyle(g),S=y.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,C=Math.abs(s.clientWidth-g.clientWidth-S);C<=Yb&&(c-=C)}else h<=Yb&&(c+=h);return{width:c,height:u,x:f,y:d}}const NM=new Set(["absolute","fixed"]);function DM(t,e){const n=ca(t,!0,e==="fixed"),s=n.top+t.clientTop,a=n.left+t.clientLeft,c=ms(t)?Ja(t):us(1),u=t.clientWidth*c.x,f=t.clientHeight*c.y,d=a*c.x,h=s*c.y;return{width:u,height:f,x:d,y:h}}function Gb(t,e,n){let s;if(e==="viewport")s=PM(t,n);else if(e==="document")s=MM(gs(t));else if(Gr(e))s=DM(e,n);else{const a=I_(t);s={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return rf(s)}function H_(t,e){const n=Mi(t);return n===e||!Gr(n)||io(n)?!1:Kr(n).position==="fixed"||H_(n,e)}function kM(t,e){const n=e.get(t);if(n)return n;let s=jc(t,[],!1).filter(f=>Gr(f)&&mo(f)!=="body"),a=null;const c=Kr(t).position==="fixed";let u=c?Mi(t):t;for(;Gr(u)&&!io(u);){const f=Kr(u),d=xy(u);!d&&f.position==="fixed"&&(a=null),(c?!d&&!a:!d&&f.position==="static"&&!!a&&NM.has(a.position)||Gc(u)&&!d&&H_(t,u))?s=s.filter(y=>y!==u):a=f,u=Mi(u)}return e.set(t,s),s}function jM(t){let{element:e,boundary:n,rootBoundary:s,strategy:a}=t;const u=[...n==="clippingAncestors"?Df(e)?[]:kM(e,this._c):[].concat(n),s],f=u[0],d=u.reduce((h,y)=>{const g=Gb(e,y,a);return h.top=xr(g.top,h.top),h.right=Oi(g.right,h.right),h.bottom=Oi(g.bottom,h.bottom),h.left=xr(g.left,h.left),h},Gb(e,f,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function LM(t){const{width:e,height:n}=z_(t);return{width:e,height:n}}function UM(t,e,n){const s=ms(e),a=gs(e),c=n==="fixed",u=ca(t,!0,c,e);let f={scrollLeft:0,scrollTop:0};const d=us(0);function h(){d.x=jf(a)}if(s||!s&&!c)if((mo(e)!=="body"||Gc(a))&&(f=kf(e)),s){const S=ca(e,!0,c,e);d.x=S.x+e.clientLeft,d.y=S.y+e.clientTop}else a&&h();c&&!s&&a&&h();const y=a&&!s&&!c?B_(a,f):us(0),g=u.left+f.scrollLeft-d.x-y.x,v=u.top+f.scrollTop-d.y-y.y;return{x:g,y:v,width:u.width,height:u.height}}function _p(t){return Kr(t).position==="static"}function Kb(t,e){if(!ms(t)||Kr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return gs(t)===n&&(n=n.ownerDocument.body),n}function $_(t,e){const n=br(t);if(Df(t))return n;if(!ms(t)){let a=Mi(t);for(;a&&!io(a);){if(Gr(a)&&!_p(a))return a;a=Mi(a)}return n}let s=Kb(t,e);for(;s&&xM(s)&&_p(s);)s=Kb(s,e);return s&&io(s)&&_p(s)&&!xy(s)?n:s||CM(t)||n}const zM=async function(t){const e=this.getOffsetParent||$_,n=this.getDimensions,s=await n(t.floating);return{reference:UM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function IM(t){return Kr(t).direction==="rtl"}const BM={convertOffsetParentRelativeRectToViewportRelativeRect:AM,getDocumentElement:gs,getClippingRect:jM,getOffsetParent:$_,getElementRects:zM,getClientRects:OM,getDimensions:LM,getScale:Ja,isElement:Gr,isRTL:IM};function V_(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function HM(t,e){let n=null,s;const a=gs(t);function c(){var f;clearTimeout(s),(f=n)==null||f.disconnect(),n=null}function u(f,d){f===void 0&&(f=!1),d===void 0&&(d=1),c();const h=t.getBoundingClientRect(),{left:y,top:g,width:v,height:S}=h;if(f||e(),!v||!S)return;const C=vu(g),E=vu(a.clientWidth-(y+v)),M=vu(a.clientHeight-(g+S)),P=vu(y),k={rootMargin:-C+"px "+-E+"px "+-M+"px "+-P+"px",threshold:xr(0,Oi(1,d))||1};let j=!0;function Y(W){const F=W[0].intersectionRatio;if(F!==d){if(!j)return u();F?u(!1,F):s=setTimeout(()=>{u(!1,1e-7)},1e3)}F===1&&!V_(h,t.getBoundingClientRect())&&u(),j=!1}try{n=new IntersectionObserver(Y,{...k,root:a.ownerDocument})}catch{n=new IntersectionObserver(Y,k)}n.observe(t)}return u(!0),c}function $M(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,h=Sy(t),y=a||c?[...h?jc(h):[],...jc(e)]:[];y.forEach(P=>{a&&P.addEventListener("scroll",n,{passive:!0}),c&&P.addEventListener("resize",n)});const g=h&&f?HM(h,n):null;let v=-1,S=null;u&&(S=new ResizeObserver(P=>{let[D]=P;D&&D.target===h&&S&&(S.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var k;(k=S)==null||k.observe(e)})),n()}),h&&!d&&S.observe(h),S.observe(e));let C,E=d?ca(t):null;d&&M();function M(){const P=ca(t);E&&!V_(E,P)&&n(),E=P,C=requestAnimationFrame(M)}return n(),()=>{var P;y.forEach(D=>{a&&D.removeEventListener("scroll",n),c&&D.removeEventListener("resize",n)}),g?.(),(P=S)==null||P.disconnect(),S=null,d&&cancelAnimationFrame(C)}}const VM=hM,qM=pM,FM=uM,YM=yM,GM=fM,Xb=lM,KM=mM,XM=(t,e,n)=>{const s=new Map,a={platform:BM,...n},c={...a.platform,_c:s};return cM(t,e,{...a,platform:c})};var QM=typeof document<"u",ZM=function(){},Du=QM?T.useLayoutEffect:ZM;function sf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!sf(t[s],e[s]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,a[s]))return!1;for(s=n;s--!==0;){const c=a[s];if(!(c==="_owner"&&t.$$typeof)&&!sf(t[c],e[c]))return!1}return!0}return t!==t&&e!==e}function q_(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Qb(t,e){const n=q_(t);return Math.round(e*n)/n}function wp(t){const e=T.useRef(t);return Du(()=>{e.current=t}),e}function JM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:c,floating:u}={},transform:f=!0,whileElementsMounted:d,open:h}=t,[y,g]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,S]=T.useState(s);sf(v,s)||S(s);const[C,E]=T.useState(null),[M,P]=T.useState(null),D=T.useCallback(G=>{G!==W.current&&(W.current=G,E(G))},[]),k=T.useCallback(G=>{G!==F.current&&(F.current=G,P(G))},[]),j=c||C,Y=u||M,W=T.useRef(null),F=T.useRef(null),X=T.useRef(y),me=d!=null,xe=wp(d),Se=wp(a),Ce=wp(h),Ee=T.useCallback(()=>{if(!W.current||!F.current)return;const G={placement:e,strategy:n,middleware:v};Se.current&&(G.platform=Se.current),XM(W.current,F.current,G).then(Me=>{const Ze={...Me,isPositioned:Ce.current!==!1};be.current&&!sf(X.current,Ze)&&(X.current=Ze,Fc.flushSync(()=>{g(Ze)}))})},[v,e,n,Se,Ce]);Du(()=>{h===!1&&X.current.isPositioned&&(X.current.isPositioned=!1,g(G=>({...G,isPositioned:!1})))},[h]);const be=T.useRef(!1);Du(()=>(be.current=!0,()=>{be.current=!1}),[]),Du(()=>{if(j&&(W.current=j),Y&&(F.current=Y),j&&Y){if(xe.current)return xe.current(j,Y,Ee);Ee()}},[j,Y,Ee,xe,me]);const Ne=T.useMemo(()=>({reference:W,floating:F,setReference:D,setFloating:k}),[D,k]),H=T.useMemo(()=>({reference:j,floating:Y}),[j,Y]),ie=T.useMemo(()=>{const G={position:n,left:0,top:0};if(!H.floating)return G;const Me=Qb(H.floating,y.x),Ze=Qb(H.floating,y.y);return f?{...G,transform:"translate("+Me+"px, "+Ze+"px)",...q_(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Me,top:Ze}},[n,f,H.floating,y.x,y.y]);return T.useMemo(()=>({...y,update:Ee,refs:Ne,elements:H,floatingStyles:ie}),[y,Ee,Ne,H,ie])}const WM=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:a}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?Xb({element:s.current,padding:a}).fn(n):{}:s?Xb({element:s,padding:a}).fn(n):{}}}},eP=(t,e)=>({...VM(t),options:[t,e]}),tP=(t,e)=>({...qM(t),options:[t,e]}),nP=(t,e)=>({...KM(t),options:[t,e]}),rP=(t,e)=>({...FM(t),options:[t,e]}),sP=(t,e)=>({...YM(t),options:[t,e]}),iP=(t,e)=>({...GM(t),options:[t,e]}),aP=(t,e)=>({...WM(t),options:[t,e]});var oP="Arrow",F_=T.forwardRef((t,e)=>{const{children:n,width:s=10,height:a=5,...c}=t;return b.jsx(Bt.svg,{...c,ref:e,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:b.jsx("polygon",{points:"0,0 30,0 15,10"})})});F_.displayName=oP;var cP=F_;function Y_(t){const[e,n]=T.useState(void 0);return Dr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const c=a[0];let u,f;if("borderBoxSize"in c){const d=c.borderBoxSize,h=Array.isArray(d)?d[0]:d;u=h.inlineSize,f=h.blockSize}else u=t.offsetWidth,f=t.offsetHeight;n({width:u,height:f})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var G_="Popper",[K_,X_]=Pi(G_),[o8,Q_]=K_(G_),Z_="PopperAnchor",J_=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...a}=t,c=Q_(Z_,n),u=T.useRef(null),f=on(e,u),d=T.useRef(null);return T.useEffect(()=>{const h=d.current;d.current=s?.current||u.current,h!==d.current&&c.onAnchorChange(d.current)}),s?null:b.jsx(Bt.div,{...a,ref:f})});J_.displayName=Z_;var _y="PopperContent",[lP,uP]=K_(_y),W_=T.forwardRef((t,e)=>{const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:c="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:y=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:S="optimized",onPlaced:C,...E}=t,M=Q_(_y,n),[P,D]=T.useState(null),k=on(e,je=>D(je)),[j,Y]=T.useState(null),W=Y_(j),F=W?.width??0,X=W?.height??0,me=s+(c!=="center"?"-"+c:""),xe=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},Se=Array.isArray(h)?h:[h],Ce=Se.length>0,Ee={padding:xe,boundary:Se.filter(dP),altBoundary:Ce},{refs:be,floatingStyles:Ne,placement:H,isPositioned:ie,middlewareData:G}=JM({strategy:"fixed",placement:me,whileElementsMounted:(...je)=>$M(...je,{animationFrame:S==="always"}),elements:{reference:M.anchor},middleware:[eP({mainAxis:a+X,alignmentAxis:u}),d&&tP({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?nP():void 0,...Ee}),d&&rP({...Ee}),sP({...Ee,apply:({elements:je,rects:xt,availableWidth:I,availableHeight:K})=>{const{width:de,height:Le}=xt.reference,$e=je.floating.style;$e.setProperty("--radix-popper-available-width",`${I}px`),$e.setProperty("--radix-popper-available-height",`${K}px`),$e.setProperty("--radix-popper-anchor-width",`${de}px`),$e.setProperty("--radix-popper-anchor-height",`${Le}px`)}}),j&&aP({element:j,padding:f}),hP({arrowWidth:F,arrowHeight:X}),v&&iP({strategy:"referenceHidden",...Ee})]}),[Me,Ze]=nw(H),L=qn(C);Dr(()=>{ie&&L?.()},[ie,L]);const te=G.arrow?.x,ae=G.arrow?.y,pe=G.arrow?.centerOffset!==0,[ye,Te]=T.useState();return Dr(()=>{P&&Te(window.getComputedStyle(P).zIndex)},[P]),b.jsx("div",{ref:be.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ne,transform:ie?Ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[G.transformOrigin?.x,G.transformOrigin?.y].join(" "),...G.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:b.jsx(lP,{scope:n,placedSide:Me,onArrowChange:Y,arrowX:te,arrowY:ae,shouldHideArrow:pe,children:b.jsx(Bt.div,{"data-side":Me,"data-align":Ze,...E,ref:k,style:{...E.style,animation:ie?void 0:"none"}})})})});W_.displayName=_y;var ew="PopperArrow",fP={top:"bottom",right:"left",bottom:"top",left:"right"},tw=T.forwardRef(function(e,n){const{__scopePopper:s,...a}=e,c=uP(ew,s),u=fP[c.placedSide];return b.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:b.jsx(cP,{...a,ref:n,style:{...a.style,display:"block"}})})});tw.displayName=ew;function dP(t){return t!==null}var hP=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:s,middlewareData:a}=e,u=a.arrow?.centerOffset!==0,f=u?0:t.arrowWidth,d=u?0:t.arrowHeight,[h,y]=nw(n),g={start:"0%",center:"50%",end:"100%"}[y],v=(a.arrow?.x??0)+f/2,S=(a.arrow?.y??0)+d/2;let C="",E="";return h==="bottom"?(C=u?g:`${v}px`,E=`${-d}px`):h==="top"?(C=u?g:`${v}px`,E=`${s.floating.height+d}px`):h==="right"?(C=`${-d}px`,E=u?g:`${S}px`):h==="left"&&(C=`${s.floating.width+d}px`,E=u?g:`${S}px`),{data:{x:C,y:E}}}});function nw(t){const[e,n="center"]=t.split("-");return[e,n]}var pP=J_,mP=W_,yP=tw,[Lf]=Pi("Tooltip",[X_]),wy=X_(),rw="TooltipProvider",gP=700,Zb="tooltip.open",[vP,sw]=Lf(rw),iw=t=>{const{__scopeTooltip:e,delayDuration:n=gP,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:c}=t,u=T.useRef(!0),f=T.useRef(!1),d=T.useRef(0);return T.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),b.jsx(vP,{scope:e,isOpenDelayedRef:u,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(d.current),u.current=!1},[]),onClose:T.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>u.current=!0,s)},[s]),isPointerInTransitRef:f,onPointerInTransitChange:T.useCallback(h=>{f.current=h},[]),disableHoverableContent:a,children:c})};iw.displayName=rw;var aw="Tooltip",[c8,Uf]=Lf(aw),xm="TooltipTrigger",xP=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,a=Uf(xm,n),c=sw(xm,n),u=wy(n),f=T.useRef(null),d=on(e,f,a.onTriggerChange),h=T.useRef(!1),y=T.useRef(!1),g=T.useCallback(()=>h.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),b.jsx(pP,{asChild:!0,...u,children:b.jsx(Bt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:d,onPointerMove:Lt(t.onPointerMove,v=>{v.pointerType!=="touch"&&!y.current&&!c.isPointerInTransitRef.current&&(a.onTriggerEnter(),y.current=!0)}),onPointerLeave:Lt(t.onPointerLeave,()=>{a.onTriggerLeave(),y.current=!1}),onPointerDown:Lt(t.onPointerDown,()=>{a.open&&a.onClose(),h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Lt(t.onFocus,()=>{h.current||a.onOpen()}),onBlur:Lt(t.onBlur,a.onClose),onClick:Lt(t.onClick,a.onClose)})})});xP.displayName=xm;var bP="TooltipPortal",[l8,SP]=Lf(bP,{forceMount:void 0}),ao="TooltipContent",ow=T.forwardRef((t,e)=>{const n=SP(ao,t.__scopeTooltip),{forceMount:s=n.forceMount,side:a="top",...c}=t,u=Uf(ao,t.__scopeTooltip);return b.jsx(fa,{present:s||u.open,children:u.disableHoverableContent?b.jsx(cw,{side:a,...c,ref:e}):b.jsx(_P,{side:a,...c,ref:e})})}),_P=T.forwardRef((t,e)=>{const n=Uf(ao,t.__scopeTooltip),s=sw(ao,t.__scopeTooltip),a=T.useRef(null),c=on(e,a),[u,f]=T.useState(null),{trigger:d,onClose:h}=n,y=a.current,{onPointerInTransitChange:g}=s,v=T.useCallback(()=>{f(null),g(!1)},[g]),S=T.useCallback((C,E)=>{const M=C.currentTarget,P={x:C.clientX,y:C.clientY},D=RP(P,M.getBoundingClientRect()),k=AP(P,D),j=OP(E.getBoundingClientRect()),Y=PP([...k,...j]);f(Y),g(!0)},[g]);return T.useEffect(()=>()=>v(),[v]),T.useEffect(()=>{if(d&&y){const C=M=>S(M,y),E=M=>S(M,d);return d.addEventListener("pointerleave",C),y.addEventListener("pointerleave",E),()=>{d.removeEventListener("pointerleave",C),y.removeEventListener("pointerleave",E)}}},[d,y,S,v]),T.useEffect(()=>{if(u){const C=E=>{const M=E.target,P={x:E.clientX,y:E.clientY},D=d?.contains(M)||y?.contains(M),k=!MP(P,u);D?v():k&&(v(),h())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[d,y,u,h,v]),b.jsx(cw,{...t,ref:c})}),[wP,CP]=Lf(aw,{isInside:!1}),EP=B6("TooltipContent"),cw=T.forwardRef((t,e)=>{const{__scopeTooltip:n,children:s,"aria-label":a,onEscapeKeyDown:c,onPointerDownOutside:u,...f}=t,d=Uf(ao,n),h=wy(n),{onClose:y}=d;return T.useEffect(()=>(document.addEventListener(Zb,y),()=>document.removeEventListener(Zb,y)),[y]),T.useEffect(()=>{if(d.trigger){const g=v=>{v.target?.contains(d.trigger)&&y()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[d.trigger,y]),b.jsx(uy,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:g=>g.preventDefault(),onDismiss:y,children:b.jsxs(mP,{"data-state":d.stateAttribute,...h,...f,ref:e,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[b.jsx(EP,{children:s}),b.jsx(wP,{scope:n,isInside:!0,children:b.jsx(lO,{id:d.contentId,role:"tooltip",children:a||s})})]})})});ow.displayName=ao;var lw="TooltipArrow",TP=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,a=wy(n);return CP(lw,n).isInside?null:b.jsx(yP,{...a,...s,ref:e})});TP.displayName=lw;function RP(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),a=Math.abs(e.right-t.x),c=Math.abs(e.left-t.x);switch(Math.min(n,s,a,c)){case c:return"left";case a:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function AP(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function OP(t){const{top:e,right:n,bottom:s,left:a}=t;return[{x:a,y:e},{x:n,y:e},{x:n,y:s},{x:a,y:s}]}function MP(t,e){const{x:n,y:s}=t;let a=!1;for(let c=0,u=e.length-1;c<e.length;u=c++){const f=e[c],d=e[u],h=f.x,y=f.y,g=d.x,v=d.y;y>s!=v>s&&n<(g-h)*(s-y)/(v-y)+h&&(a=!a)}return a}function PP(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),NP(e)}function NP(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const a=t[s];for(;e.length>=2;){const c=e[e.length-1],u=e[e.length-2];if((c.x-u.x)*(a.y-u.y)>=(c.y-u.y)*(a.x-u.x))e.pop();else break}e.push(a)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const a=t[s];for(;n.length>=2;){const c=n[n.length-1],u=n[n.length-2];if((c.x-u.x)*(a.y-u.y)>=(c.y-u.y)*(a.x-u.x))n.pop();else break}n.push(a)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var DP=iw,uw=ow;const kP=DP,jP=T.forwardRef(({className:t,sideOffset:e=4,...n},s)=>b.jsx(uw,{ref:s,sideOffset:e,className:It("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--radix-tooltip-content-transform-origin)",t),...n}));jP.displayName=uw.displayName;const LP={theme:"dark",setTheme:()=>null},fw=T.createContext(LP);function UP({children:t,defaultTheme:e="dark",...n}){const[s,a]=T.useState(()=>localStorage.getItem("theme")||e);T.useEffect(()=>{const u=window.document.documentElement;u.classList.remove("light","dark"),u.classList.add(s)},[s]);const c={theme:s,setTheme:u=>{localStorage.setItem("theme",u),a(u)}};return b.jsx(fw.Provider,{...n,value:c,children:t})}const zP=()=>{const t=T.useContext(fw);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function IP(){return b.jsxs(A6,{client:P6,children:[b.jsx(UP,{defaultTheme:"dark",children:b.jsxs(kP,{children:[b.jsx(Q3,{}),b.jsx(OS,{})]})}),null]})}const BP=Pf("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Cn=T.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...a},c)=>{const u=s?z6:"button";return b.jsx(u,{className:It(BP({variant:e,size:n,className:t})),ref:c,...a})});Cn.displayName="Button";const Fs=T.forwardRef(({className:t,type:e,...n},s)=>b.jsx("input",{type:e,className:It("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n}));Fs.displayName="Input";const nn=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:It("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));nn.displayName="Card";const fn=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:It("flex flex-col space-y-1.5 p-6",t),...e}));fn.displayName="CardHeader";const dn=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:It("text-2xl font-semibold leading-none tracking-tight",t),...e}));dn.displayName="CardTitle";const qr=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:It("text-sm text-muted-foreground",t),...e}));qr.displayName="CardDescription";const gn=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:It("p-6 pt-0",t),...e}));gn.displayName="CardContent";const HP=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:It("flex items-center p-6 pt-0",t),...e}));HP.displayName="CardFooter";function Cy(){const{theme:t,setTheme:e}=zP();return b.jsxs(Cn,{variant:"ghost",size:"icon",onClick:()=>e(t==="light"?"dark":"light"),"data-testid":"button-theme-toggle",children:[b.jsx(r3,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),b.jsx(XO,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),b.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}function $P(t,e,n,s){const c=s?50:0,u=1-e/n,f=Math.floor(u*50);return 100+c+f}function Jb(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim()}function VP(t,e){const n=Jb(t),s=Jb(e);if(n===s)return!0;const a=n.replace(/[^\w\s]/g,"").replace(/\s+/g," "),c=s.replace(/[^\w\s]/g,"").replace(/\s+/g," ");return a===c}function qP(){const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let n=0;n<6;n++)e+=t[Math.floor(Math.random()*t.length)];return e}function FP(t){const e=["from-purple-500 to-pink-500","from-blue-500 to-cyan-500","from-green-500 to-emerald-500","from-orange-500 to-red-500","from-yellow-500 to-amber-500","from-indigo-500 to-purple-500","from-pink-500 to-rose-500","from-teal-500 to-green-500"];let n=0;for(let s=0;s<t.length;s++)n=t.charCodeAt(s)+((n<<5)-n);return e[Math.abs(n)%e.length]}function YP(t){const e=t.trim().split(" ");return e.length>=2?(e[0][0]+e[e.length-1][0]).toUpperCase():t.slice(0,2).toUpperCase()}function GP(){const t=Ef(),[e,n]=T.useState(""),[s,a]=T.useState(""),c=d=>{const h=d.trim();return h.length<2?(alert("Name must be at least 2 characters long"),null):h.length>24?(alert("Name must be 24 characters or fewer"),null):/^[\w\s'-]+$/.test(h)?h:(alert("Name can only contain letters, numbers, spaces, apostrophes, and hyphens"),null)},u=()=>{const d=c(s);if(!d)return;const h=qP();localStorage.setItem("playerName",d),typeof window<"u"&&(sessionStorage.setItem("musicshowdown.pendingRole","host"),sessionStorage.setItem("musicshowdown.lastRole","host")),t({to:"/music-showdown/game/$roomCode",params:{roomCode:h}})},f=()=>{const d=c(s);if(d){if(!e.trim()){alert("Please enter a room code");return}if(e.length!==6){alert("Room code must be 6 characters");return}localStorage.setItem("playerName",d),typeof window<"u"&&(sessionStorage.setItem("musicshowdown.pendingRole","peer"),sessionStorage.setItem("musicshowdown.lastRole","peer")),t({to:"/music-showdown/game/$roomCode",params:{roomCode:e.toUpperCase()}})}};return b.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-gradient-to-br from-emerald-50 via-emerald-100 to-emerald-200 text-foreground transition-colors dark:from-emerald-950 dark:via-emerald-900 dark:to-emerald-950",children:[b.jsx("div",{className:"absolute top-4 right-4 z-10",children:b.jsx(Cy,{})}),b.jsx("div",{className:"relative z-10",children:b.jsxs("div",{className:"container mx-auto px-4 py-16",children:[b.jsxs("header",{className:"mx-auto max-w-3xl text-center",children:[b.jsx("h1",{className:"mb-4 text-5xl font-heading font-bold tracking-tight md:text-6xl",children:"Music Showdown"}),b.jsx("p",{className:"text-lg text-muted-foreground md:text-xl",children:"Pick a name, create or join a room, and start guessing songs with friends."})]}),b.jsx("section",{className:"mx-auto mt-12 max-w-4xl",children:b.jsxs(nn,{className:"w-full border border-emerald-200/60 bg-background/90 shadow-sm backdrop-blur-sm dark:border-emerald-800/60 dark:bg-card/90",children:[b.jsxs(fn,{children:[b.jsx(dn,{className:"text-2xl font-heading",children:"1. Choose your display name"}),b.jsx(qr,{children:"Everyone in the room will see you by this name."})]}),b.jsx(gn,{children:b.jsx(Fs,{placeholder:"Your name",value:s,onChange:d=>a(d.target.value),onKeyDown:d=>d.key==="Enter"&&u(),className:"text-lg","data-testid":"input-player-name"})})]})}),b.jsx("section",{className:"mx-auto mt-10 max-w-4xl",children:b.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[b.jsxs(nn,{className:"border border-emerald-200/60 bg-background/90 shadow-sm backdrop-blur-sm dark:border-emerald-800/60 dark:bg-card/90",children:[b.jsxs(fn,{children:[b.jsx(dn,{className:"text-xl font-heading",children:"2A. Host a new room"}),b.jsx(qr,{children:"Create a room and share the code with your friends."})]}),b.jsx(gn,{children:b.jsx(Cn,{onClick:u,size:"lg",className:"w-full text-lg font-semibold",disabled:!s.trim(),"data-testid":"button-create-room",children:"Create Room"})})]}),b.jsxs(nn,{className:"border border-emerald-200/60 bg-background/90 shadow-sm backdrop-blur-sm dark:border-emerald-800/60 dark:bg-card/90",children:[b.jsxs(fn,{children:[b.jsx(dn,{className:"text-xl font-heading",children:"2B. Join an existing room"}),b.jsx(qr,{children:"Enter the room code shared by the host."})]}),b.jsxs(gn,{className:"space-y-4",children:[b.jsx(Fs,{placeholder:"Room code",value:e,onChange:d=>n(d.target.value.toUpperCase()),onKeyDown:d=>d.key==="Enter"&&f(),className:"font-mono uppercase text-lg",maxLength:6,"data-testid":"input-room-code"}),b.jsx(Cn,{onClick:f,variant:"secondary",disabled:!s.trim()||!e.trim(),"data-testid":"button-join-room",children:"Join Room"})]})]})]})}),b.jsxs("section",{className:"mx-auto mt-16 max-w-5xl",children:[b.jsx("h2",{className:"mb-8 text-center text-3xl font-heading font-bold",children:"How to Play"}),b.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[{icon:c3,title:"1. Create Room",description:"Host creates a room and shares the code with friends"},{icon:g_,title:"2. Pick Songs",description:"Host sets a theme, players search YouTube for matching songs"},{icon:v_,title:"3. Guess Away",description:"Listen to each song and try to guess the title quickly"},{icon:dm,title:"4. Win Points",description:"First and fastest correct guesses earn the most points"}].map((d,h)=>b.jsx(nn,{className:"border border-emerald-200/60 bg-background/90 text-center shadow-sm backdrop-blur-sm dark:border-emerald-800/60 dark:bg-card/90",children:b.jsxs(fn,{className:"text-center",children:[b.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-emerald-200/60 dark:bg-emerald-900/40",children:b.jsx(d.icon,{className:"h-8 w-8 text-emerald-700 dark:text-emerald-300"})}),b.jsx(dn,{className:"text-lg font-heading",children:d.title}),b.jsx(qr,{className:"text-sm",children:d.description})]})},h))})]})]})}),b.jsx("a",{className:"block px-4 pb-6 text-center text-xs text-muted-foreground/80",href:"https://www.flaticon.com/free-icons/music-note",title:"music note icons",children:"Music note icons created by Freepik - Flaticon"})]})}const KP=Pf("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border border-(--badge-outline) shadow-xs"}},defaultVariants:{variant:"default"}});function Ac({className:t,variant:e,...n}){return b.jsx("div",{className:It(KP({variant:e}),t),...n})}function Ey(t,[e,n]){return Math.min(n,Math.max(e,t))}var XP=T.createContext(void 0);function dw(t){const e=T.useContext(XP);return t||e||"ltr"}function QP(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var hw=["PageUp","PageDown"],pw=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],mw={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},yo="Slider",[bm,ZP,JP]=IS(yo),[yw]=Pi(yo,[JP]),[WP,zf]=yw(yo),gw=T.forwardRef((t,e)=>{const{name:n,min:s=0,max:a=100,step:c=1,orientation:u="horizontal",disabled:f=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[s],value:y,onValueChange:g=()=>{},onValueCommit:v=()=>{},inverted:S=!1,form:C,...E}=t,M=T.useRef(new Set),P=T.useRef(0),k=u==="horizontal"?eN:tN,[j=[],Y]=FS({prop:y,defaultProp:h,onChange:Se=>{[...M.current][P.current]?.focus(),g(Se)}}),W=T.useRef(j);function F(Se){const Ce=aN(j,Se);xe(Se,Ce)}function X(Se){xe(Se,P.current)}function me(){const Se=W.current[P.current];j[P.current]!==Se&&v(j)}function xe(Se,Ce,{commit:Ee}={commit:!1}){const be=uN(c),Ne=fN(Math.round((Se-s)/c)*c+s,be),H=Ey(Ne,[s,a]);Y((ie=[])=>{const G=sN(ie,H,Ce);if(lN(G,d*c)){P.current=G.indexOf(H);const Me=String(G)!==String(ie);return Me&&Ee&&v(G),Me?G:ie}else return ie})}return b.jsx(WP,{scope:t.__scopeSlider,name:n,disabled:f,min:s,max:a,valueIndexToChangeRef:P,thumbs:M.current,values:j,orientation:u,form:C,children:b.jsx(bm.Provider,{scope:t.__scopeSlider,children:b.jsx(bm.Slot,{scope:t.__scopeSlider,children:b.jsx(k,{"aria-disabled":f,"data-disabled":f?"":void 0,...E,ref:e,onPointerDown:Lt(E.onPointerDown,()=>{f||(W.current=j)}),min:s,max:a,inverted:S,onSlideStart:f?void 0:F,onSlideMove:f?void 0:X,onSlideEnd:f?void 0:me,onHomeKeyDown:()=>!f&&xe(s,0,{commit:!0}),onEndKeyDown:()=>!f&&xe(a,j.length-1,{commit:!0}),onStepKeyDown:({event:Se,direction:Ce})=>{if(!f){const Ne=hw.includes(Se.key)||Se.shiftKey&&pw.includes(Se.key)?10:1,H=P.current,ie=j[H],G=c*Ne*Ce;xe(ie+G,H,{commit:!0})}}})})})})});gw.displayName=yo;var[vw,xw]=yw(yo,{startEdge:"left",endEdge:"right",size:"width",direction:1}),eN=T.forwardRef((t,e)=>{const{min:n,max:s,dir:a,inverted:c,onSlideStart:u,onSlideMove:f,onSlideEnd:d,onStepKeyDown:h,...y}=t,[g,v]=T.useState(null),S=on(e,k=>v(k)),C=T.useRef(void 0),E=dw(a),M=E==="ltr",P=M&&!c||!M&&c;function D(k){const j=C.current||g.getBoundingClientRect(),Y=[0,j.width],F=Ty(Y,P?[n,s]:[s,n]);return C.current=j,F(k-j.left)}return b.jsx(vw,{scope:t.__scopeSlider,startEdge:P?"left":"right",endEdge:P?"right":"left",direction:P?1:-1,size:"width",children:b.jsx(bw,{dir:E,"data-orientation":"horizontal",...y,ref:S,style:{...y.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:k=>{const j=D(k.clientX);u?.(j)},onSlideMove:k=>{const j=D(k.clientX);f?.(j)},onSlideEnd:()=>{C.current=void 0,d?.()},onStepKeyDown:k=>{const Y=mw[P?"from-left":"from-right"].includes(k.key);h?.({event:k,direction:Y?-1:1})}})})}),tN=T.forwardRef((t,e)=>{const{min:n,max:s,inverted:a,onSlideStart:c,onSlideMove:u,onSlideEnd:f,onStepKeyDown:d,...h}=t,y=T.useRef(null),g=on(e,y),v=T.useRef(void 0),S=!a;function C(E){const M=v.current||y.current.getBoundingClientRect(),P=[0,M.height],k=Ty(P,S?[s,n]:[n,s]);return v.current=M,k(E-M.top)}return b.jsx(vw,{scope:t.__scopeSlider,startEdge:S?"bottom":"top",endEdge:S?"top":"bottom",size:"height",direction:S?1:-1,children:b.jsx(bw,{"data-orientation":"vertical",...h,ref:g,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:E=>{const M=C(E.clientY);c?.(M)},onSlideMove:E=>{const M=C(E.clientY);u?.(M)},onSlideEnd:()=>{v.current=void 0,f?.()},onStepKeyDown:E=>{const P=mw[S?"from-bottom":"from-top"].includes(E.key);d?.({event:E,direction:P?-1:1})}})})}),bw=T.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:a,onSlideEnd:c,onHomeKeyDown:u,onEndKeyDown:f,onStepKeyDown:d,...h}=t,y=zf(yo,n);return b.jsx(Bt.span,{...h,ref:e,onKeyDown:Lt(t.onKeyDown,g=>{g.key==="Home"?(u(g),g.preventDefault()):g.key==="End"?(f(g),g.preventDefault()):hw.concat(pw).includes(g.key)&&(d(g),g.preventDefault())}),onPointerDown:Lt(t.onPointerDown,g=>{const v=g.target;v.setPointerCapture(g.pointerId),g.preventDefault(),y.thumbs.has(v)?v.focus():s(g)}),onPointerMove:Lt(t.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&a(g)}),onPointerUp:Lt(t.onPointerUp,g=>{const v=g.target;v.hasPointerCapture(g.pointerId)&&(v.releasePointerCapture(g.pointerId),c(g))})})}),Sw="SliderTrack",_w=T.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,a=zf(Sw,n);return b.jsx(Bt.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...s,ref:e})});_w.displayName=Sw;var Sm="SliderRange",ww=T.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,a=zf(Sm,n),c=xw(Sm,n),u=T.useRef(null),f=on(e,u),d=a.values.length,h=a.values.map(v=>Tw(v,a.min,a.max)),y=d>1?Math.min(...h):0,g=100-Math.max(...h);return b.jsx(Bt.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...s,ref:f,style:{...t.style,[c.startEdge]:y+"%",[c.endEdge]:g+"%"}})});ww.displayName=Sm;var _m="SliderThumb",Cw=T.forwardRef((t,e)=>{const n=ZP(t.__scopeSlider),[s,a]=T.useState(null),c=on(e,f=>a(f)),u=T.useMemo(()=>s?n().findIndex(f=>f.ref.current===s):-1,[n,s]);return b.jsx(nN,{...t,ref:c,index:u})}),nN=T.forwardRef((t,e)=>{const{__scopeSlider:n,index:s,name:a,...c}=t,u=zf(_m,n),f=xw(_m,n),[d,h]=T.useState(null),y=on(e,D=>h(D)),g=d?u.form||!!d.closest("form"):!0,v=Y_(d),S=u.values[s],C=S===void 0?0:Tw(S,u.min,u.max),E=iN(s,u.values.length),M=v?.[f.size],P=M?oN(M,C,f.direction):0;return T.useEffect(()=>{if(d)return u.thumbs.add(d),()=>{u.thumbs.delete(d)}},[d,u.thumbs]),b.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[f.startEdge]:`calc(${C}% + ${P}px)`},children:[b.jsx(bm.ItemSlot,{scope:t.__scopeSlider,children:b.jsx(Bt.span,{role:"slider","aria-label":t["aria-label"]||E,"aria-valuemin":u.min,"aria-valuenow":S,"aria-valuemax":u.max,"aria-orientation":u.orientation,"data-orientation":u.orientation,"data-disabled":u.disabled?"":void 0,tabIndex:u.disabled?void 0:0,...c,ref:y,style:S===void 0?{display:"none"}:t.style,onFocus:Lt(t.onFocus,()=>{u.valueIndexToChangeRef.current=s})})}),g&&b.jsx(Ew,{name:a??(u.name?u.name+(u.values.length>1?"[]":""):void 0),form:u.form,value:S},s)]})});Cw.displayName=_m;var rN="RadioBubbleInput",Ew=T.forwardRef(({__scopeSlider:t,value:e,...n},s)=>{const a=T.useRef(null),c=on(a,s),u=QP(e);return T.useEffect(()=>{const f=a.current;if(!f)return;const d=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(d,"value").set;if(u!==e&&y){const g=new Event("input",{bubbles:!0});y.call(f,e),f.dispatchEvent(g)}},[u,e]),b.jsx(Bt.input,{style:{display:"none"},...n,ref:c,defaultValue:e})});Ew.displayName=rN;function sN(t=[],e,n){const s=[...t];return s[n]=e,s.sort((a,c)=>a-c)}function Tw(t,e,n){const c=100/(n-e)*(t-e);return Ey(c,[0,100])}function iN(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function aN(t,e){if(t.length===1)return 0;const n=t.map(a=>Math.abs(a-e)),s=Math.min(...n);return n.indexOf(s)}function oN(t,e,n){const s=t/2,c=Ty([0,50],[0,s]);return(s-c(e)*n)*n}function cN(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function lN(t,e){if(e>0){const n=cN(t);return Math.min(...n)>=e}return!0}function Ty(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function uN(t){return(String(t).split(".")[1]||"").length}function fN(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var Rw=gw,dN=_w,hN=ww,pN=Cw;const af=T.forwardRef(({className:t,...e},n)=>b.jsxs(Rw,{ref:n,className:It("relative flex w-full touch-none select-none items-center",t),...e,children:[b.jsx(dN,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:b.jsx(hN,{className:"absolute h-full bg-primary"})}),b.jsx(pN,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));af.displayName=Rw.displayName;var mN="Label",Aw=T.forwardRef((t,e)=>b.jsx(Bt.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Aw.displayName=mN;var Ow=Aw;const yN=Pf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ta=T.forwardRef(({className:t,...e},n)=>b.jsx(Ow,{ref:n,className:It(yN(),t),...e}));ta.displayName=Ow.displayName;var gN=ES();function vN(){return gN.useSyncExternalStore(xN,()=>!0,()=>!1)}function xN(){return()=>{}}var Ry="Avatar",[bN]=Pi(Ry),[SN,Mw]=bN(Ry),Pw=T.forwardRef((t,e)=>{const{__scopeAvatar:n,...s}=t,[a,c]=T.useState("idle");return b.jsx(SN,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:c,children:b.jsx(Bt.span,{...s,ref:e})})});Pw.displayName=Ry;var Nw="AvatarImage",Dw=T.forwardRef((t,e)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:a=()=>{},...c}=t,u=Mw(Nw,n),f=_N(s,c),d=qn(h=>{a(h),u.onImageLoadingStatusChange(h)});return Dr(()=>{f!=="idle"&&d(f)},[f,d]),f==="loaded"?b.jsx(Bt.img,{...c,ref:e,src:s}):null});Dw.displayName=Nw;var kw="AvatarFallback",jw=T.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:s,...a}=t,c=Mw(kw,n),[u,f]=T.useState(s===void 0);return T.useEffect(()=>{if(s!==void 0){const d=window.setTimeout(()=>f(!0),s);return()=>window.clearTimeout(d)}},[s]),u&&c.imageLoadingStatus!=="loaded"?b.jsx(Bt.span,{...a,ref:e}):null});jw.displayName=kw;function Wb(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function _N(t,{referrerPolicy:e,crossOrigin:n}){const s=vN(),a=T.useRef(null),c=s?(a.current||(a.current=new window.Image),a.current):null,[u,f]=T.useState(()=>Wb(c,t));return Dr(()=>{f(Wb(c,t))},[c,t]),Dr(()=>{const d=g=>()=>{f(g)};if(!c)return;const h=d("loaded"),y=d("error");return c.addEventListener("load",h),c.addEventListener("error",y),e&&(c.referrerPolicy=e),typeof n=="string"&&(c.crossOrigin=n),()=>{c.removeEventListener("load",h),c.removeEventListener("error",y)}},[c,n,e]),u}var Lw=Pw,Uw=Dw,zw=jw;const Iw=T.forwardRef(({className:t,...e},n)=>b.jsx(Lw,{ref:n,className:It(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));Iw.displayName=Lw.displayName;const wN=T.forwardRef(({className:t,...e},n)=>b.jsx(Uw,{ref:n,className:It("aspect-square h-full w-full",t),...e}));wN.displayName=Uw.displayName;const Bw=T.forwardRef(({className:t,...e},n)=>b.jsx(zw,{ref:n,className:It("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Bw.displayName=zw.displayName;function Ka({playerId:t,playerName:e,size:n="md"}){const s={sm:"h-8 w-8 text-xs",md:"h-12 w-12 text-sm",lg:"h-16 w-16 text-base"};return b.jsx(Iw,{className:s[n],children:b.jsx(Bw,{className:`bg-linear-to-br ${FP(t)} text-white font-semibold`,children:YP(e)})})}var Ay="Progress",Oy=100,[CN]=Pi(Ay),[EN,TN]=CN(Ay),Hw=T.forwardRef((t,e)=>{const{__scopeProgress:n,value:s=null,max:a,getValueLabel:c=RN,...u}=t;(a||a===0)&&!e1(a)&&console.error(AN(`${a}`,"Progress"));const f=e1(a)?a:Oy;s!==null&&!t1(s,f)&&console.error(ON(`${s}`,"Progress"));const d=t1(s,f)?s:null,h=of(d)?c(d,f):void 0;return b.jsx(EN,{scope:n,value:d,max:f,children:b.jsx(Bt.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":of(d)?d:void 0,"aria-valuetext":h,role:"progressbar","data-state":qw(d,f),"data-value":d??void 0,"data-max":f,...u,ref:e})})});Hw.displayName=Ay;var $w="ProgressIndicator",Vw=T.forwardRef((t,e)=>{const{__scopeProgress:n,...s}=t,a=TN($w,n);return b.jsx(Bt.div,{"data-state":qw(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:e})});Vw.displayName=$w;function RN(t,e){return`${Math.round(t/e*100)}%`}function qw(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function of(t){return typeof t=="number"}function e1(t){return of(t)&&!isNaN(t)&&t>0}function t1(t,e){return of(t)&&!isNaN(t)&&t<=e&&t>=0}function AN(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Oy}\`.`}function ON(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Oy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Fw=Hw,MN=Vw;const Yw=T.forwardRef(({className:t,value:e,...n},s)=>b.jsx(Fw,{ref:s,className:It("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:b.jsx(MN,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Yw.displayName=Fw.displayName;function PN({timeRemaining:t,totalTime:e,variant:n="default"}){const s=t/e*100,a=s<25;return b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[b.jsx(y_,{className:`w-4 h-4 ${a?"text-accent animate-pulse":"text-muted-foreground"}`}),b.jsxs("span",{className:a?"text-accent font-bold":"",children:[Math.max(0,Math.ceil(t)),"s"]})]}),b.jsxs("span",{className:"text-xs text-muted-foreground",children:["/ ",e,"s"]})]}),b.jsx(Yw,{value:s,className:`h-2 ${a?"animate-pulse":""}`,"data-testid":"progress-timer"})]})}const NN={BASE_URL:"/music-showdown/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};async function DN(){const t="AIzaSyBo_-vy2fUDR_isXL4llWGOJJImxvsmYbU";return console.log("@@@ import.meta.env",NN),t}let xu=null;async function kN(t){if(xu===null&&(xu=await DN()),!xu)throw console.error("YouTube API key not configured"),new Error("YouTube API key not configured. Please add VITE_YOUTUBE_API_KEY to your environment.");const e=new URLSearchParams({part:"snippet",q:t,type:"video",maxResults:"12",videoEmbeddable:"true",videoCategoryId:"10",key:xu}),n=await fetch(`https://www.googleapis.com/youtube/v3/search?${e.toString()}`);if(!n.ok)throw new Error("Failed to search YouTube");return(await n.json()).items?.map(a=>({id:a.id?.videoId||"",title:ef(a.snippet?.title||""),thumbnail:a.snippet?.thumbnails?.medium?.url||"",channelTitle:ef(a.snippet?.channelTitle||"")}))||[]}function jN(t,e){return T.useReducer((n,s)=>e[n][s]??n,t)}var My="ScrollArea",[Gw]=Pi(My),[LN,kr]=Gw(My),Kw=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:s="hover",dir:a,scrollHideDelay:c=600,...u}=t,[f,d]=T.useState(null),[h,y]=T.useState(null),[g,v]=T.useState(null),[S,C]=T.useState(null),[E,M]=T.useState(null),[P,D]=T.useState(0),[k,j]=T.useState(0),[Y,W]=T.useState(!1),[F,X]=T.useState(!1),me=on(e,Se=>d(Se)),xe=dw(a);return b.jsx(LN,{scope:n,type:s,dir:xe,scrollHideDelay:c,scrollArea:f,viewport:h,onViewportChange:y,content:g,onContentChange:v,scrollbarX:S,onScrollbarXChange:C,scrollbarXEnabled:Y,onScrollbarXEnabledChange:W,scrollbarY:E,onScrollbarYChange:M,scrollbarYEnabled:F,onScrollbarYEnabledChange:X,onCornerWidthChange:D,onCornerHeightChange:j,children:b.jsx(Bt.div,{dir:xe,...u,ref:me,style:{position:"relative","--radix-scroll-area-corner-width":P+"px","--radix-scroll-area-corner-height":k+"px",...t.style}})})});Kw.displayName=My;var Xw="ScrollAreaViewport",Qw=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:s,nonce:a,...c}=t,u=kr(Xw,n),f=T.useRef(null),d=on(e,f,u.onViewportChange);return b.jsxs(b.Fragment,{children:[b.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),b.jsx(Bt.div,{"data-radix-scroll-area-viewport":"",...c,ref:d,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...t.style},children:b.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});Qw.displayName=Xw;var vs="ScrollAreaScrollbar",Py=T.forwardRef((t,e)=>{const{forceMount:n,...s}=t,a=kr(vs,t.__scopeScrollArea),{onScrollbarXEnabledChange:c,onScrollbarYEnabledChange:u}=a,f=t.orientation==="horizontal";return T.useEffect(()=>(f?c(!0):u(!0),()=>{f?c(!1):u(!1)}),[f,c,u]),a.type==="hover"?b.jsx(UN,{...s,ref:e,forceMount:n}):a.type==="scroll"?b.jsx(zN,{...s,ref:e,forceMount:n}):a.type==="auto"?b.jsx(Zw,{...s,ref:e,forceMount:n}):a.type==="always"?b.jsx(Ny,{...s,ref:e}):null});Py.displayName=vs;var UN=T.forwardRef((t,e)=>{const{forceMount:n,...s}=t,a=kr(vs,t.__scopeScrollArea),[c,u]=T.useState(!1);return T.useEffect(()=>{const f=a.scrollArea;let d=0;if(f){const h=()=>{window.clearTimeout(d),u(!0)},y=()=>{d=window.setTimeout(()=>u(!1),a.scrollHideDelay)};return f.addEventListener("pointerenter",h),f.addEventListener("pointerleave",y),()=>{window.clearTimeout(d),f.removeEventListener("pointerenter",h),f.removeEventListener("pointerleave",y)}}},[a.scrollArea,a.scrollHideDelay]),b.jsx(fa,{present:n||c,children:b.jsx(Zw,{"data-state":c?"visible":"hidden",...s,ref:e})})}),zN=T.forwardRef((t,e)=>{const{forceMount:n,...s}=t,a=kr(vs,t.__scopeScrollArea),c=t.orientation==="horizontal",u=Bf(()=>d("SCROLL_END"),100),[f,d]=jN("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return T.useEffect(()=>{if(f==="idle"){const h=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(h)}},[f,a.scrollHideDelay,d]),T.useEffect(()=>{const h=a.viewport,y=c?"scrollLeft":"scrollTop";if(h){let g=h[y];const v=()=>{const S=h[y];g!==S&&(d("SCROLL"),u()),g=S};return h.addEventListener("scroll",v),()=>h.removeEventListener("scroll",v)}},[a.viewport,c,d,u]),b.jsx(fa,{present:n||f!=="hidden",children:b.jsx(Ny,{"data-state":f==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:Lt(t.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Lt(t.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),Zw=T.forwardRef((t,e)=>{const n=kr(vs,t.__scopeScrollArea),{forceMount:s,...a}=t,[c,u]=T.useState(!1),f=t.orientation==="horizontal",d=Bf(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,y=n.viewport.offsetHeight<n.viewport.scrollHeight;u(f?h:y)}},10);return oo(n.viewport,d),oo(n.content,d),b.jsx(fa,{present:s||c,children:b.jsx(Ny,{"data-state":c?"visible":"hidden",...a,ref:e})})}),Ny=T.forwardRef((t,e)=>{const{orientation:n="vertical",...s}=t,a=kr(vs,t.__scopeScrollArea),c=T.useRef(null),u=T.useRef(0),[f,d]=T.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=nC(f.viewport,f.content),y={...s,sizes:f,onSizesChange:d,hasThumb:h>0&&h<1,onThumbChange:v=>c.current=v,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:v=>u.current=v};function g(v,S){return qN(v,u.current,f,S)}return n==="horizontal"?b.jsx(IN,{...y,ref:e,onThumbPositionChange:()=>{if(a.viewport&&c.current){const v=a.viewport.scrollLeft,S=n1(v,f,a.dir);c.current.style.transform=`translate3d(${S}px, 0, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollLeft=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollLeft=g(v,a.dir))}}):n==="vertical"?b.jsx(BN,{...y,ref:e,onThumbPositionChange:()=>{if(a.viewport&&c.current){const v=a.viewport.scrollTop,S=n1(v,f);c.current.style.transform=`translate3d(0, ${S}px, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollTop=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollTop=g(v))}}):null}),IN=T.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...a}=t,c=kr(vs,t.__scopeScrollArea),[u,f]=T.useState(),d=T.useRef(null),h=on(e,d,c.onScrollbarXChange);return T.useEffect(()=>{d.current&&f(getComputedStyle(d.current))},[d]),b.jsx(Ww,{"data-orientation":"horizontal",...a,ref:h,sizes:n,style:{bottom:0,left:c.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:c.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":If(n)+"px",...t.style},onThumbPointerDown:y=>t.onThumbPointerDown(y.x),onDragScroll:y=>t.onDragScroll(y.x),onWheelScroll:(y,g)=>{if(c.viewport){const v=c.viewport.scrollLeft+y.deltaX;t.onWheelScroll(v),sC(v,g)&&y.preventDefault()}},onResize:()=>{d.current&&c.viewport&&u&&s({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:lf(u.paddingLeft),paddingEnd:lf(u.paddingRight)}})}})}),BN=T.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...a}=t,c=kr(vs,t.__scopeScrollArea),[u,f]=T.useState(),d=T.useRef(null),h=on(e,d,c.onScrollbarYChange);return T.useEffect(()=>{d.current&&f(getComputedStyle(d.current))},[d]),b.jsx(Ww,{"data-orientation":"vertical",...a,ref:h,sizes:n,style:{top:0,right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":If(n)+"px",...t.style},onThumbPointerDown:y=>t.onThumbPointerDown(y.y),onDragScroll:y=>t.onDragScroll(y.y),onWheelScroll:(y,g)=>{if(c.viewport){const v=c.viewport.scrollTop+y.deltaY;t.onWheelScroll(v),sC(v,g)&&y.preventDefault()}},onResize:()=>{d.current&&c.viewport&&u&&s({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:lf(u.paddingTop),paddingEnd:lf(u.paddingBottom)}})}})}),[HN,Jw]=Gw(vs),Ww=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:a,onThumbChange:c,onThumbPointerUp:u,onThumbPointerDown:f,onThumbPositionChange:d,onDragScroll:h,onWheelScroll:y,onResize:g,...v}=t,S=kr(vs,n),[C,E]=T.useState(null),M=on(e,me=>E(me)),P=T.useRef(null),D=T.useRef(""),k=S.viewport,j=s.content-s.viewport,Y=qn(y),W=qn(d),F=Bf(g,10);function X(me){if(P.current){const xe=me.clientX-P.current.left,Se=me.clientY-P.current.top;h({x:xe,y:Se})}}return T.useEffect(()=>{const me=xe=>{const Se=xe.target;C?.contains(Se)&&Y(xe,j)};return document.addEventListener("wheel",me,{passive:!1}),()=>document.removeEventListener("wheel",me,{passive:!1})},[k,C,j,Y]),T.useEffect(W,[s,W]),oo(C,F),oo(S.content,F),b.jsx(HN,{scope:n,scrollbar:C,hasThumb:a,onThumbChange:qn(c),onThumbPointerUp:qn(u),onThumbPositionChange:W,onThumbPointerDown:qn(f),children:b.jsx(Bt.div,{...v,ref:M,style:{position:"absolute",...v.style},onPointerDown:Lt(t.onPointerDown,me=>{me.button===0&&(me.target.setPointerCapture(me.pointerId),P.current=C.getBoundingClientRect(),D.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",S.viewport&&(S.viewport.style.scrollBehavior="auto"),X(me))}),onPointerMove:Lt(t.onPointerMove,X),onPointerUp:Lt(t.onPointerUp,me=>{const xe=me.target;xe.hasPointerCapture(me.pointerId)&&xe.releasePointerCapture(me.pointerId),document.body.style.webkitUserSelect=D.current,S.viewport&&(S.viewport.style.scrollBehavior=""),P.current=null})})})}),cf="ScrollAreaThumb",eC=T.forwardRef((t,e)=>{const{forceMount:n,...s}=t,a=Jw(cf,t.__scopeScrollArea);return b.jsx(fa,{present:n||a.hasThumb,children:b.jsx($N,{ref:e,...s})})}),$N=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:s,...a}=t,c=kr(cf,n),u=Jw(cf,n),{onThumbPositionChange:f}=u,d=on(e,g=>u.onThumbChange(g)),h=T.useRef(void 0),y=Bf(()=>{h.current&&(h.current(),h.current=void 0)},100);return T.useEffect(()=>{const g=c.viewport;if(g){const v=()=>{if(y(),!h.current){const S=FN(g,f);h.current=S,f()}};return f(),g.addEventListener("scroll",v),()=>g.removeEventListener("scroll",v)}},[c.viewport,y,f]),b.jsx(Bt.div,{"data-state":u.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Lt(t.onPointerDownCapture,g=>{const S=g.target.getBoundingClientRect(),C=g.clientX-S.left,E=g.clientY-S.top;u.onThumbPointerDown({x:C,y:E})}),onPointerUp:Lt(t.onPointerUp,u.onThumbPointerUp)})});eC.displayName=cf;var Dy="ScrollAreaCorner",tC=T.forwardRef((t,e)=>{const n=kr(Dy,t.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?b.jsx(VN,{...t,ref:e}):null});tC.displayName=Dy;var VN=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,...s}=t,a=kr(Dy,n),[c,u]=T.useState(0),[f,d]=T.useState(0),h=!!(c&&f);return oo(a.scrollbarX,()=>{const y=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(y),d(y)}),oo(a.scrollbarY,()=>{const y=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(y),u(y)}),h?b.jsx(Bt.div,{...s,ref:e,style:{width:c,height:f,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function lf(t){return t?parseInt(t,10):0}function nC(t,e){const n=t/e;return isNaN(n)?0:n}function If(t){const e=nC(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-n)*e;return Math.max(s,18)}function qN(t,e,n,s="ltr"){const a=If(n),c=a/2,u=e||c,f=a-u,d=n.scrollbar.paddingStart+u,h=n.scrollbar.size-n.scrollbar.paddingEnd-f,y=n.content-n.viewport,g=s==="ltr"?[0,y]:[y*-1,0];return rC([d,h],g)(t)}function n1(t,e,n="ltr"){const s=If(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,c=e.scrollbar.size-a,u=e.content-e.viewport,f=c-s,d=n==="ltr"?[0,u]:[u*-1,0],h=Ey(t,d);return rC([0,u],[0,f])(h)}function rC(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function sC(t,e){return t>0&&t<e}var FN=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},s=0;return(function a(){const c={left:t.scrollLeft,top:t.scrollTop},u=n.left!==c.left,f=n.top!==c.top;(u||f)&&e(),n=c,s=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(s)};function Bf(t,e){const n=qn(t),s=T.useRef(0);return T.useEffect(()=>()=>window.clearTimeout(s.current),[]),T.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,e)},[n,e])}function oo(t,e){const n=qn(e);Dr(()=>{let s=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return a.observe(t),()=>{window.cancelAnimationFrame(s),a.unobserve(t)}}},[t,n])}var iC=Kw,YN=Qw,GN=tC;const ky=T.forwardRef(({className:t,children:e,...n},s)=>b.jsxs(iC,{ref:s,className:It("relative overflow-hidden",t),...n,children:[b.jsx(YN,{className:"h-full w-full rounded-[inherit]",children:e}),b.jsx(aC,{}),b.jsx(GN,{})]}));ky.displayName=iC.displayName;const aC=T.forwardRef(({className:t,orientation:e="vertical",...n},s)=>b.jsx(Py,{ref:s,orientation:e,className:It("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-px",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-px",t),...n,children:b.jsx(eC,{className:"relative flex-1 rounded-full bg-border"})}));aC.displayName=Py.displayName;function KN({onSelect:t,selectedVideoId:e}){const[n,s]=T.useState(""),[a,c]=T.useState([]),[u,f]=T.useState(!1),d=async()=>{if(n.trim()){f(!0);try{const h=await kN(n);c(h)}catch(h){console.error("Search failed:",h)}finally{f(!1)}}};return b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("div",{className:"relative flex-1",children:[b.jsx(v_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),b.jsx(Fs,{placeholder:"Search for a song...",value:n,onChange:h=>s(h.target.value),onKeyDown:h=>h.key==="Enter"&&d(),className:"pl-10","data-testid":"input-youtube-search"})]}),b.jsx(Cn,{onClick:d,disabled:u||!n.trim(),"data-testid":"button-search",children:u?b.jsx(py,{className:"w-4 h-4 animate-spin"}):"Search"})]}),a.length>0&&b.jsx(ky,{className:"h-[420px] rounded-lg border p-5",children:b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:a.map(h=>b.jsx(nn,{className:It("group cursor-pointer border transition-all hover:border-primary/40 hover:shadow-md",e===h.id?"border-primary bg-primary/10 shadow-sm ring-2 ring-primary":"border-border"),onClick:()=>t(h),"data-testid":`card-video-${h.id}`,children:b.jsxs(gn,{className:"relative space-y-3 p-3",children:[b.jsx("img",{src:h.thumbnail,alt:h.title,className:"w-full aspect-video object-cover rounded-md mb-2"}),b.jsx("h3",{className:"font-semibold text-sm line-clamp-2 mb-1",children:h.title}),b.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:h.channelTitle}),e===h.id&&b.jsxs("div",{className:"absolute right-3 top-3 flex items-center gap-1 rounded-full bg-primary/90 px-2 py-1 text-xs font-semibold text-primary-foreground",children:[b.jsx(IO,{className:"h-4 w-4"}),"Selected"]})]})},h.id))})})]})}function wm({videoId:t,onReady:e,onEnd:n,autoplay:s=!0,startSeconds:a=0,endSeconds:c,preventPause:u=!1,timerProgress:f,interactive:d=!1}){const h=T.useRef(null),y=T.useRef(null);let g=1;if(f!==void 0){const v=Math.min(Math.max(f,0),1);v>=.5&&(g=1-.15*((v-.5)/.5)),g=Math.max(.85,g)}return T.useEffect(()=>{if(!window.YT){const S=document.createElement("script");S.src="https://www.youtube.com/iframe_api";const C=document.getElementsByTagName("script")[0];C.parentNode?.insertBefore(S,C)}const v=()=>{h.current&&window.YT&&window.YT.Player&&(y.current=new window.YT.Player(h.current,{videoId:t,playerVars:{autoplay:s?1:0,start:a,end:c,controls:d?1:0,disablekb:d?0:1,fs:0,modestbranding:1,rel:0,iv_load_policy:3},events:{onReady:S=>{s&&S.target.playVideo(),e?.(S.target)},onStateChange:S=>{if(u&&S.data===window.YT.PlayerState.PAUSED){S.target.playVideo();return}S.data===window.YT.PlayerState.ENDED&&n?.()}}}))};return window.YT&&window.YT.Player?v():window.onYouTubeIframeAPIReady=v,()=>{y.current&&y.current.destroy()}},[t,s,a,c,e,n,u,d]),b.jsxs("div",{className:"relative aspect-video w-full bg-black rounded-lg overflow-hidden",children:[b.jsx("div",{ref:h,className:d?"w-full h-full":"pointer-events-none w-full h-full","data-testid":"youtube-player"}),!d&&b.jsx("div",{className:"pointer-events-none absolute left-0 right-0 top-0",style:{height:"60px",backgroundColor:"black"}}),f!==void 0&&!d&&b.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-lg",style:{backgroundColor:`rgba(0,0,0,${g})`}})]})}let Cp=null;function XN(){if(typeof window>"u")return null;const t=window,e=window.AudioContext??t.webkitAudioContext;return e?(Cp||(Cp=new e),Cp):null}function QN(){try{const t=XN();if(!t)return;t.state==="suspended"&&t.resume();const e=t.currentTime,n=t.createOscillator(),s=t.createGain();n.type="sine",n.frequency.setValueAtTime(880,e),s.gain.setValueAtTime(1e-4,e),s.gain.exponentialRampToValueAtTime(.18,e+.02),s.gain.exponentialRampToValueAtTime(1e-4,e+.32),n.connect(s),s.connect(t.destination),n.start(e),n.stop(e+.35)}catch(t){console.error("Failed to play correct guess sound",t)}}var Xi={};class ZN{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const n of this._parts)e.push(n);return JN(e).buffer}}function JN(t){let e=0;for(const a of t)e+=a.byteLength;const n=new Uint8Array(e);let s=0;for(const a of t){const c=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);n.set(c,s),s+=a.byteLength}return n}function oC(t){return new WN(t).unpack()}function cC(t){const e=new eD,n=e.pack(t);return n instanceof Promise?n.then(()=>e.getBuffer()):e.getBuffer()}class WN{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let n;if((n=e^160)<=15)return this.unpack_raw(n);if((n=e^176)<=15)return this.unpack_string(n);if((n=e^144)<=15)return this.unpack_array(n);if((n=e^128)<=15)return this.unpack_map(n);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),n=(e[0]&255)*256+(e[1]&255);return this.index+=2,n}unpack_uint32(){const e=this.read(4),n=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,n}unpack_uint64(){const e=this.read(8),n=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,n}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,n}unpack_string(e){const n=this.read(e);let s=0,a="",c,u;for(;s<e;)c=n[s],c<160?(u=c,s++):(c^192)<32?(u=(c&31)<<6|n[s+1]&63,s+=2):(c^224)<16?(u=(c&15)<<12|(n[s+1]&63)<<6|n[s+2]&63,s+=3):(u=(c&7)<<18|(n[s+1]&63)<<12|(n[s+2]&63)<<6|n[s+3]&63,s+=4),a+=String.fromCodePoint(u);return this.index+=e,a}unpack_array(e){const n=new Array(e);for(let s=0;s<e;s++)n[s]=this.unpack();return n}unpack_map(e){const n={};for(let s=0;s<e;s++){const a=this.unpack();n[a]=this.unpack()}return n}unpack_float(){const e=this.unpack_uint32(),n=e>>31,s=(e>>23&255)-127,a=e&8388607|8388608;return(n===0?1:-1)*a*2**(s-23)}unpack_double(){const e=this.unpack_uint32(),n=this.unpack_uint32(),s=e>>31,a=(e>>20&2047)-1023,u=(e&1048575|1048576)*2**(a-20)+n*2**(a-52);return(s===0?1:-1)*u}read(e){const n=this.index;if(n+e<=this.length)return this.dataView.subarray(n,n+e);throw new Error("BinaryPackFailure: read index out of range")}}class eD{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const n=e.constructor;if(e instanceof Array){const s=this.pack_array(e);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const s=e;this.pack_bin(new Uint8Array(s.buffer,s.byteOffset,s.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(s=>{this.pack_bin(new Uint8Array(s)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const s=this.pack_object(e);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const n=e.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const n=this._textEncoder.encode(e),s=n.length;if(s<=15)this.pack_uint8(176+s);else if(s<=65535)this._bufferBuilder.append(216),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(s);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(e){const n=e.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const s=a=>{if(a<n){const c=this.pack(e[a]);return c instanceof Promise?c.then(()=>s(a+1)):s(a+1)}};return s(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let n=0;e<0&&(n=1,e=-e);const s=Math.floor(Math.log(e)/Math.LN2),a=e/2**s-1,c=Math.floor(a*2**52),u=2**32,f=n<<31|s+1023<<20|c/u&1048575,d=c%u;this._bufferBuilder.append(203),this.pack_int32(f),this.pack_int32(d)}pack_object(e){const n=Object.keys(e),s=n.length;if(s<=15)this.pack_uint8(128+s);else if(s<=65535)this._bufferBuilder.append(222),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(s);else throw new Error("Invalid length");const a=c=>{if(c<n.length){const u=n[c];if(e.hasOwnProperty(u)){this.pack(u);const f=this.pack(e[u]);if(f instanceof Promise)return f.then(()=>a(c+1))}return a(c+1)}};return a(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const n=e&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(e){const n=e/4294967296,s=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const n=Math.floor(e/4294967296),s=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}constructor(){this._bufferBuilder=new ZN,this._textEncoder=new TextEncoder}}let lC=!0,uC=!0;function Sc(t,e,n){const s=t.match(e);return s&&s.length>=n&&parseFloat(s[n],10)}function da(t,e,n){if(!t.RTCPeerConnection)return;const s=t.RTCPeerConnection.prototype,a=s.addEventListener;s.addEventListener=function(u,f){if(u!==e)return a.apply(this,arguments);const d=h=>{const y=n(h);y&&(f.handleEvent?f.handleEvent(y):f(y))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(f,d),a.apply(this,[u,d])};const c=s.removeEventListener;s.removeEventListener=function(u,f){if(u!==e||!this._eventMap||!this._eventMap[e])return c.apply(this,arguments);if(!this._eventMap[e].has(f))return c.apply(this,arguments);const d=this._eventMap[e].get(f);return this._eventMap[e].delete(f),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,c.apply(this,[u,d])},Object.defineProperty(s,"on"+e,{get(){return this["_on"+e]},set(u){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),u&&this.addEventListener(e,this["_on"+e]=u)},enumerable:!0,configurable:!0})}function tD(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(lC=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function nD(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(uC=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function fC(){if(typeof window=="object"){if(lC)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function jy(t,e){uC&&console.warn(t+" is deprecated, please use "+e+" instead.")}function rD(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.userAgentData&&n.userAgentData.brands){const s=n.userAgentData.brands.find(a=>a.brand==="Chromium");if(s)return{browser:"chrome",version:parseInt(s.version,10)}}if(n.mozGetUserMedia)e.browser="firefox",e.version=parseInt(Sc(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(Sc(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(Sc(n.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype,e._safariVersion=Sc(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function r1(t){return Object.prototype.toString.call(t)==="[object Object]"}function dC(t){return r1(t)?Object.keys(t).reduce(function(e,n){const s=r1(t[n]),a=s?dC(t[n]):t[n],c=s&&!Object.keys(a).length;return a===void 0||c?e:Object.assign(e,{[n]:a})},{}):t}function Cm(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(s=>{s.endsWith("Id")?Cm(t,t.get(e[s]),n):s.endsWith("Ids")&&e[s].forEach(a=>{Cm(t,t.get(a),n)})}))}function s1(t,e,n){const s=n?"outbound-rtp":"inbound-rtp",a=new Map;if(e===null)return a;const c=[];return t.forEach(u=>{u.type==="track"&&u.trackIdentifier===e.id&&c.push(u)}),c.forEach(u=>{t.forEach(f=>{f.type===s&&f.trackId===u.id&&Cm(t,f,a)})}),a}const i1=fC;function hC(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const s=function(f){if(typeof f!="object"||f.mandatory||f.optional)return f;const d={};return Object.keys(f).forEach(h=>{if(h==="require"||h==="advanced"||h==="mediaSource")return;const y=typeof f[h]=="object"?f[h]:{ideal:f[h]};y.exact!==void 0&&typeof y.exact=="number"&&(y.min=y.max=y.exact);const g=function(v,S){return v?v+S.charAt(0).toUpperCase()+S.slice(1):S==="deviceId"?"sourceId":S};if(y.ideal!==void 0){d.optional=d.optional||[];let v={};typeof y.ideal=="number"?(v[g("min",h)]=y.ideal,d.optional.push(v),v={},v[g("max",h)]=y.ideal,d.optional.push(v)):(v[g("",h)]=y.ideal,d.optional.push(v))}y.exact!==void 0&&typeof y.exact!="number"?(d.mandatory=d.mandatory||{},d.mandatory[g("",h)]=y.exact):["min","max"].forEach(v=>{y[v]!==void 0&&(d.mandatory=d.mandatory||{},d.mandatory[g(v,h)]=y[v])})}),f.advanced&&(d.optional=(d.optional||[]).concat(f.advanced)),d},a=function(f,d){if(e.version>=61)return d(f);if(f=JSON.parse(JSON.stringify(f)),f&&typeof f.audio=="object"){const h=function(y,g,v){g in y&&!(v in y)&&(y[v]=y[g],delete y[g])};f=JSON.parse(JSON.stringify(f)),h(f.audio,"autoGainControl","googAutoGainControl"),h(f.audio,"noiseSuppression","googNoiseSuppression"),f.audio=s(f.audio)}if(f&&typeof f.video=="object"){let h=f.video.facingMode;h=h&&(typeof h=="object"?h:{ideal:h});const y=e.version<66;if(h&&(h.exact==="user"||h.exact==="environment"||h.ideal==="user"||h.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!y)){delete f.video.facingMode;let g;if(h.exact==="environment"||h.ideal==="environment"?g=["back","rear"]:(h.exact==="user"||h.ideal==="user")&&(g=["front"]),g)return n.mediaDevices.enumerateDevices().then(v=>{v=v.filter(C=>C.kind==="videoinput");let S=v.find(C=>g.some(E=>C.label.toLowerCase().includes(E)));return!S&&v.length&&g.includes("back")&&(S=v[v.length-1]),S&&(f.video.deviceId=h.exact?{exact:S.deviceId}:{ideal:S.deviceId}),f.video=s(f.video),i1("chrome: "+JSON.stringify(f)),d(f)})}f.video=s(f.video)}return i1("chrome: "+JSON.stringify(f)),d(f)},c=function(f){return e.version>=64?f:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[f.name]||f.name,message:f.message,constraint:f.constraint||f.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},u=function(f,d,h){a(f,y=>{n.webkitGetUserMedia(y,d,g=>{h&&h(c(g))})})};if(n.getUserMedia=u.bind(n),n.mediaDevices.getUserMedia){const f=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(d){return a(d,h=>f(h).then(y=>{if(h.audio&&!y.getAudioTracks().length||h.video&&!y.getVideoTracks().length)throw y.getTracks().forEach(g=>{g.stop()}),new DOMException("","NotFoundError");return y},y=>Promise.reject(c(y))))}}}function pC(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function mC(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=s=>{s.stream.addEventListener("addtrack",a=>{let c;t.RTCPeerConnection.prototype.getReceivers?c=this.getReceivers().find(f=>f.track&&f.track.id===a.track.id):c={track:a.track};const u=new Event("track");u.track=a.track,u.receiver=c,u.transceiver={receiver:c},u.streams=[s.stream],this.dispatchEvent(u)}),s.stream.getTracks().forEach(a=>{let c;t.RTCPeerConnection.prototype.getReceivers?c=this.getReceivers().find(f=>f.track&&f.track.id===a.id):c={track:a};const u=new Event("track");u.track=a,u.receiver=c,u.transceiver={receiver:c},u.streams=[s.stream],this.dispatchEvent(u)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else da(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function yC(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(a,c){return{track:c,get dtmf(){return this._dtmf===void 0&&(c.kind==="audio"?this._dtmf=a.createDTMFSender(c):this._dtmf=null),this._dtmf},_pc:a}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const a=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(f,d){let h=a.apply(this,arguments);return h||(h=e(this,f),this._senders.push(h)),h};const c=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(f){c.apply(this,arguments);const d=this._senders.indexOf(f);d!==-1&&this._senders.splice(d,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(c){this._senders=this._senders||[],n.apply(this,[c]),c.getTracks().forEach(u=>{this._senders.push(e(this,u))})};const s=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(c){this._senders=this._senders||[],s.apply(this,[c]),c.getTracks().forEach(u=>{const f=this._senders.find(d=>d.track===u);f&&this._senders.splice(this._senders.indexOf(f),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const s=e.apply(this,[]);return s.forEach(a=>a._pc=this),s},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function gC(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const c=n.apply(this,[]);return c.forEach(u=>u._pc=this),c});const s=t.RTCPeerConnection.prototype.addTrack;s&&(t.RTCPeerConnection.prototype.addTrack=function(){const c=s.apply(this,arguments);return c._pc=this,c}),t.RTCRtpSender.prototype.getStats=function(){const c=this;return this._pc.getStats().then(u=>s1(u,c.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const a=n.apply(this,[]);return a.forEach(c=>c._pc=this),a}),da(t,"track",s=>(s.receiver._pc=s.srcElement,s)),t.RTCRtpReceiver.prototype.getStats=function(){const a=this;return this._pc.getStats().then(c=>s1(c,a.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const s=arguments[0];let a,c,u;return this.getSenders().forEach(f=>{f.track===s&&(a?u=!0:a=f)}),this.getReceivers().forEach(f=>(f.track===s&&(c?u=!0:c=f),f.track===s)),u||a&&c?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):a?a.getStats():c?c.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function vC(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(u=>this._shimmedLocalStreams[u][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(u,f){if(!f)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const d=e.apply(this,arguments);return this._shimmedLocalStreams[f.id]?this._shimmedLocalStreams[f.id].indexOf(d)===-1&&this._shimmedLocalStreams[f.id].push(d):this._shimmedLocalStreams[f.id]=[f,d],d};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(u){this._shimmedLocalStreams=this._shimmedLocalStreams||{},u.getTracks().forEach(h=>{if(this.getSenders().find(g=>g.track===h))throw new DOMException("Track already exists.","InvalidAccessError")});const f=this.getSenders();n.apply(this,arguments);const d=this.getSenders().filter(h=>f.indexOf(h)===-1);this._shimmedLocalStreams[u.id]=[u].concat(d)};const s=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(u){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[u.id],s.apply(this,arguments)};const a=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(u){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},u&&Object.keys(this._shimmedLocalStreams).forEach(f=>{const d=this._shimmedLocalStreams[f].indexOf(u);d!==-1&&this._shimmedLocalStreams[f].splice(d,1),this._shimmedLocalStreams[f].length===1&&delete this._shimmedLocalStreams[f]}),a.apply(this,arguments)}}function xC(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return vC(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const y=n.apply(this);return this._reverseStreams=this._reverseStreams||{},y.map(g=>this._reverseStreams[g.id])};const s=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(y){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},y.getTracks().forEach(g=>{if(this.getSenders().find(S=>S.track===g))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[y.id]){const g=new t.MediaStream(y.getTracks());this._streams[y.id]=g,this._reverseStreams[g.id]=y,y=g}s.apply(this,[y])};const a=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(y){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},a.apply(this,[this._streams[y.id]||y]),delete this._reverseStreams[this._streams[y.id]?this._streams[y.id].id:y.id],delete this._streams[y.id]},t.RTCPeerConnection.prototype.addTrack=function(y,g){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const v=[].slice.call(arguments,1);if(v.length!==1||!v[0].getTracks().find(E=>E===y))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(E=>E.track===y))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const C=this._streams[g.id];if(C)C.addTrack(y),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const E=new t.MediaStream([y]);this._streams[g.id]=E,this._reverseStreams[E.id]=g,this.addStream(E)}return this.getSenders().find(E=>E.track===y)};function c(h,y){let g=y.sdp;return Object.keys(h._reverseStreams||[]).forEach(v=>{const S=h._reverseStreams[v],C=h._streams[S.id];g=g.replace(new RegExp(C.id,"g"),S.id)}),new RTCSessionDescription({type:y.type,sdp:g})}function u(h,y){let g=y.sdp;return Object.keys(h._reverseStreams||[]).forEach(v=>{const S=h._reverseStreams[v],C=h._streams[S.id];g=g.replace(new RegExp(S.id,"g"),C.id)}),new RTCSessionDescription({type:y.type,sdp:g})}["createOffer","createAnswer"].forEach(function(h){const y=t.RTCPeerConnection.prototype[h],g={[h](){const v=arguments;return arguments.length&&typeof arguments[0]=="function"?y.apply(this,[C=>{const E=c(this,C);v[0].apply(null,[E])},C=>{v[1]&&v[1].apply(null,C)},arguments[2]]):y.apply(this,arguments).then(C=>c(this,C))}};t.RTCPeerConnection.prototype[h]=g[h]});const f=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?f.apply(this,arguments):(arguments[0]=u(this,arguments[0]),f.apply(this,arguments))};const d=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const h=d.get.apply(this);return h.type===""?h:c(this,h)}}),t.RTCPeerConnection.prototype.removeTrack=function(y){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!y._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(y._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let v;Object.keys(this._streams).forEach(S=>{this._streams[S].getTracks().find(E=>y.track===E)&&(v=this._streams[S])}),v&&(v.getTracks().length===1?this.removeStream(this._reverseStreams[v.id]):v.removeTrack(y.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Em(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const s=t.RTCPeerConnection.prototype[n],a={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=a[n]})}function bC(t,e){da(t,"negotiationneeded",n=>{const s=n.target;if(!((e.version<72||s.getConfiguration&&s.getConfiguration().sdpSemantics==="plan-b")&&s.signalingState!=="stable"))return n})}const a1=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:bC,shimAddTrackRemoveTrack:xC,shimAddTrackRemoveTrackWithNative:vC,shimGetSendersWithDtmf:yC,shimGetUserMedia:hC,shimMediaStream:pC,shimOnTrack:mC,shimPeerConnection:Em,shimSenderReceiverGetStats:gC},Symbol.toStringTag,{value:"Module"}));function SC(t,e){const n=t&&t.navigator,s=t&&t.MediaStreamTrack;if(n.getUserMedia=function(a,c,u){jy("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(a).then(c,u)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const a=function(u,f,d){f in u&&!(d in u)&&(u[d]=u[f],delete u[f])},c=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(u){return typeof u=="object"&&typeof u.audio=="object"&&(u=JSON.parse(JSON.stringify(u)),a(u.audio,"autoGainControl","mozAutoGainControl"),a(u.audio,"noiseSuppression","mozNoiseSuppression")),c(u)},s&&s.prototype.getSettings){const u=s.prototype.getSettings;s.prototype.getSettings=function(){const f=u.apply(this,arguments);return a(f,"mozAutoGainControl","autoGainControl"),a(f,"mozNoiseSuppression","noiseSuppression"),f}}if(s&&s.prototype.applyConstraints){const u=s.prototype.applyConstraints;s.prototype.applyConstraints=function(f){return this.kind==="audio"&&typeof f=="object"&&(f=JSON.parse(JSON.stringify(f)),a(f,"autoGainControl","mozAutoGainControl"),a(f,"noiseSuppression","mozNoiseSuppression")),u.apply(this,[f])}}}}function sD(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(s){if(!(s&&s.video)){const a=new DOMException("getDisplayMedia without video constraints is undefined");return a.name="NotFoundError",a.code=8,Promise.reject(a)}return s.video===!0?s.video={mediaSource:e}:s.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(s)})}function _C(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Tm(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(a){const c=t.RTCPeerConnection.prototype[a],u={[a](){return arguments[0]=new(a==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),c.apply(this,arguments)}};t.RTCPeerConnection.prototype[a]=u[a]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},s=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[c,u,f]=arguments;return s.apply(this,[c||null]).then(d=>{if(e.version<53&&!u)try{d.forEach(h=>{h.type=n[h.type]||h.type})}catch(h){if(h.name!=="TypeError")throw h;d.forEach((y,g)=>{d.set(g,Object.assign({},y,{type:n[y.type]||y.type}))})}return d}).then(u,f)}}function wC(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const a=e.apply(this,[]);return a.forEach(c=>c._pc=this),a});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const a=n.apply(this,arguments);return a._pc=this,a}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function CC(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const s=e.apply(this,[]);return s.forEach(a=>a._pc=this),s}),da(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function EC(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){jy("removeStream","removeTrack"),this.getSenders().forEach(s=>{s.track&&n.getTracks().includes(s.track)&&this.removeTrack(s)})})}function TC(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function RC(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let s=arguments[1]&&arguments[1].sendEncodings;s===void 0&&(s=[]),s=[...s];const a=s.length>0;a&&s.forEach(u=>{if("rid"in u&&!/^[a-z0-9]{0,16}$/i.test(u.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in u&&!(parseFloat(u.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in u&&!(parseFloat(u.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const c=e.apply(this,arguments);if(a){const{sender:u}=c,f=u.getParameters();(!("encodings"in f)||f.encodings.length===1&&Object.keys(f.encodings[0]).length===0)&&(f.encodings=s,u.sendEncodings=s,this.setParametersPromises.push(u.setParameters(f).then(()=>{delete u.sendEncodings}).catch(()=>{delete u.sendEncodings})))}return c})}function AC(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const s=e.apply(this,arguments);return"encodings"in s||(s.encodings=[].concat(this.sendEncodings||[{}])),s})}function OC(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function MC(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const o1=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:RC,shimCreateAnswer:MC,shimCreateOffer:OC,shimGetDisplayMedia:sD,shimGetParameters:AC,shimGetUserMedia:SC,shimOnTrack:_C,shimPeerConnection:Tm,shimRTCDataChannel:TC,shimReceiverGetStats:CC,shimRemoveStream:EC,shimSenderGetStats:wC},Symbol.toStringTag,{value:"Module"}));function PC(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(s){this._localStreams||(this._localStreams=[]),this._localStreams.includes(s)||this._localStreams.push(s),s.getAudioTracks().forEach(a=>e.call(this,a,s)),s.getVideoTracks().forEach(a=>e.call(this,a,s))},t.RTCPeerConnection.prototype.addTrack=function(s,...a){return a&&a.forEach(c=>{this._localStreams?this._localStreams.includes(c)||this._localStreams.push(c):this._localStreams=[c]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const s=this._localStreams.indexOf(n);if(s===-1)return;this._localStreams.splice(s,1);const a=n.getTracks();this.getSenders().forEach(c=>{a.includes(c.track)&&this.removeTrack(c)})})}}function NC(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=s=>{s.streams.forEach(a=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(a))return;this._remoteStreams.push(a);const c=new Event("addstream");c.stream=a,this.dispatchEvent(c)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const s=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(a){a.streams.forEach(c=>{if(s._remoteStreams||(s._remoteStreams=[]),s._remoteStreams.indexOf(c)>=0)return;s._remoteStreams.push(c);const u=new Event("addstream");u.stream=c,s.dispatchEvent(u)})}),e.apply(s,arguments)}}}function DC(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,s=e.createAnswer,a=e.setLocalDescription,c=e.setRemoteDescription,u=e.addIceCandidate;e.createOffer=function(h,y){const g=arguments.length>=2?arguments[2]:arguments[0],v=n.apply(this,[g]);return y?(v.then(h,y),Promise.resolve()):v},e.createAnswer=function(h,y){const g=arguments.length>=2?arguments[2]:arguments[0],v=s.apply(this,[g]);return y?(v.then(h,y),Promise.resolve()):v};let f=function(d,h,y){const g=a.apply(this,[d]);return y?(g.then(h,y),Promise.resolve()):g};e.setLocalDescription=f,f=function(d,h,y){const g=c.apply(this,[d]);return y?(g.then(h,y),Promise.resolve()):g},e.setRemoteDescription=f,f=function(d,h,y){const g=u.apply(this,[d]);return y?(g.then(h,y),Promise.resolve()):g},e.addIceCandidate=f}function kC(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,s=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=a=>s(jC(a))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(s,a,c){e.mediaDevices.getUserMedia(s).then(a,c)}).bind(e))}function jC(t){return t&&t.video!==void 0?Object.assign({},t,{video:dC(t.video)}):t}function LC(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(s,a){if(s&&s.iceServers){const c=[];for(let u=0;u<s.iceServers.length;u++){let f=s.iceServers[u];f.urls===void 0&&f.url?(jy("RTCIceServer.url","RTCIceServer.urls"),f=JSON.parse(JSON.stringify(f)),f.urls=f.url,delete f.url,c.push(f)):c.push(s.iceServers[u])}s.iceServers=c}return new e(s,a)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function UC(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function zC(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(s){if(s){typeof s.offerToReceiveAudio<"u"&&(s.offerToReceiveAudio=!!s.offerToReceiveAudio);const a=this.getTransceivers().find(u=>u.receiver.track.kind==="audio");s.offerToReceiveAudio===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):s.offerToReceiveAudio===!0&&!a&&this.addTransceiver("audio",{direction:"recvonly"}),typeof s.offerToReceiveVideo<"u"&&(s.offerToReceiveVideo=!!s.offerToReceiveVideo);const c=this.getTransceivers().find(u=>u.receiver.track.kind==="video");s.offerToReceiveVideo===!1&&c?c.direction==="sendrecv"?c.setDirection?c.setDirection("sendonly"):c.direction="sendonly":c.direction==="recvonly"&&(c.setDirection?c.setDirection("inactive"):c.direction="inactive"):s.offerToReceiveVideo===!0&&!c&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function IC(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const c1=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:IC,shimCallbacksAPI:DC,shimConstraints:jC,shimCreateOfferLegacy:zC,shimGetUserMedia:kC,shimLocalStreamsAPI:PC,shimRTCIceServerUrls:LC,shimRemoteStreamsAPI:NC,shimTrackEventTransceiver:UC},Symbol.toStringTag,{value:"Module"}));var Ep={exports:{}},l1;function iD(){return l1||(l1=1,(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(s=>s.trim())},e.splitSections=function(n){return n.split(`
m=`).map((a,c)=>(c>0?"m="+a:a).trim()+`\r
`)},e.getDescription=function(n){const s=e.splitSections(n);return s&&s[0]},e.getMediaSections=function(n){const s=e.splitSections(n);return s.shift(),s},e.matchPrefix=function(n,s){return e.splitLines(n).filter(a=>a.indexOf(s)===0)},e.parseCandidate=function(n){let s;n.indexOf("a=candidate:")===0?s=n.substring(12).split(" "):s=n.substring(10).split(" ");const a={foundation:s[0],component:{1:"rtp",2:"rtcp"}[s[1]]||s[1],protocol:s[2].toLowerCase(),priority:parseInt(s[3],10),ip:s[4],address:s[4],port:parseInt(s[5],10),type:s[7]};for(let c=8;c<s.length;c+=2)switch(s[c]){case"raddr":a.relatedAddress=s[c+1];break;case"rport":a.relatedPort=parseInt(s[c+1],10);break;case"tcptype":a.tcpType=s[c+1];break;case"ufrag":a.ufrag=s[c+1],a.usernameFragment=s[c+1];break;default:a[s[c]]===void 0&&(a[s[c]]=s[c+1]);break}return a},e.writeCandidate=function(n){const s=[];s.push(n.foundation);const a=n.component;a==="rtp"?s.push(1):a==="rtcp"?s.push(2):s.push(a),s.push(n.protocol.toUpperCase()),s.push(n.priority),s.push(n.address||n.ip),s.push(n.port);const c=n.type;return s.push("typ"),s.push(c),c!=="host"&&n.relatedAddress&&n.relatedPort&&(s.push("raddr"),s.push(n.relatedAddress),s.push("rport"),s.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(s.push("tcptype"),s.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(s.push("ufrag"),s.push(n.usernameFragment||n.ufrag)),"candidate:"+s.join(" ")},e.parseIceOptions=function(n){return n.substring(14).split(" ")},e.parseRtpMap=function(n){let s=n.substring(9).split(" ");const a={payloadType:parseInt(s.shift(),10)};return s=s[0].split("/"),a.name=s[0],a.clockRate=parseInt(s[1],10),a.channels=s.length===3?parseInt(s[2],10):1,a.numChannels=a.channels,a},e.writeRtpMap=function(n){let s=n.payloadType;n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType);const a=n.channels||n.numChannels||1;return"a=rtpmap:"+s+" "+n.name+"/"+n.clockRate+(a!==1?"/"+a:"")+`\r
`},e.parseExtmap=function(n){const s=n.substring(9).split(" ");return{id:parseInt(s[0],10),direction:s[0].indexOf("/")>0?s[0].split("/")[1]:"sendrecv",uri:s[1],attributes:s.slice(2).join(" ")}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},e.parseFmtp=function(n){const s={};let a;const c=n.substring(n.indexOf(" ")+1).split(";");for(let u=0;u<c.length;u++)a=c[u].trim().split("="),s[a[0].trim()]=a[1];return s},e.writeFmtp=function(n){let s="",a=n.payloadType;if(n.preferredPayloadType!==void 0&&(a=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const c=[];Object.keys(n.parameters).forEach(u=>{n.parameters[u]!==void 0?c.push(u+"="+n.parameters[u]):c.push(u)}),s+="a=fmtp:"+a+" "+c.join(";")+`\r
`}return s},e.parseRtcpFb=function(n){const s=n.substring(n.indexOf(" ")+1).split(" ");return{type:s.shift(),parameter:s.join(" ")}},e.writeRtcpFb=function(n){let s="",a=n.payloadType;return n.preferredPayloadType!==void 0&&(a=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(c=>{s+="a=rtcp-fb:"+a+" "+c.type+(c.parameter&&c.parameter.length?" "+c.parameter:"")+`\r
`}),s},e.parseSsrcMedia=function(n){const s=n.indexOf(" "),a={ssrc:parseInt(n.substring(7,s),10)},c=n.indexOf(":",s);return c>-1?(a.attribute=n.substring(s+1,c),a.value=n.substring(c+1)):a.attribute=n.substring(s+1),a},e.parseSsrcGroup=function(n){const s=n.substring(13).split(" ");return{semantics:s.shift(),ssrcs:s.map(a=>parseInt(a,10))}},e.getMid=function(n){const s=e.matchPrefix(n,"a=mid:")[0];if(s)return s.substring(6)},e.parseFingerprint=function(n){const s=n.substring(14).split(" ");return{algorithm:s[0].toLowerCase(),value:s[1].toUpperCase()}},e.getDtlsParameters=function(n,s){return{role:"auto",fingerprints:e.matchPrefix(n+s,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,s){let a="a=setup:"+s+`\r
`;return n.fingerprints.forEach(c=>{a+="a=fingerprint:"+c.algorithm+" "+c.value+`\r
`}),a},e.parseCryptoLine=function(n){const s=n.substring(9).split(" ");return{tag:parseInt(s[0],10),cryptoSuite:s[1],keyParams:s[2],sessionParams:s.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const s=n.substring(7).split("|");return{keyMethod:"inline",keySalt:s[0],lifeTime:s[1],mkiValue:s[2]?s[2].split(":")[0]:void 0,mkiLength:s[2]?s[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,s){return e.matchPrefix(n+s,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,s){const a=e.matchPrefix(n+s,"a=ice-ufrag:")[0],c=e.matchPrefix(n+s,"a=ice-pwd:")[0];return a&&c?{usernameFragment:a.substring(12),password:c.substring(10)}:null},e.writeIceParameters=function(n){let s="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(s+=`a=ice-lite\r
`),s},e.parseRtpParameters=function(n){const s={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},c=e.splitLines(n)[0].split(" ");s.profile=c[2];for(let f=3;f<c.length;f++){const d=c[f],h=e.matchPrefix(n,"a=rtpmap:"+d+" ")[0];if(h){const y=e.parseRtpMap(h),g=e.matchPrefix(n,"a=fmtp:"+d+" ");switch(y.parameters=g.length?e.parseFmtp(g[0]):{},y.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+d+" ").map(e.parseRtcpFb),s.codecs.push(y),y.name.toUpperCase()){case"RED":case"ULPFEC":s.fecMechanisms.push(y.name.toUpperCase());break}}}e.matchPrefix(n,"a=extmap:").forEach(f=>{s.headerExtensions.push(e.parseExtmap(f))});const u=e.matchPrefix(n,"a=rtcp-fb:* ").map(e.parseRtcpFb);return s.codecs.forEach(f=>{u.forEach(d=>{f.rtcpFeedback.find(y=>y.type===d.type&&y.parameter===d.parameter)||f.rtcpFeedback.push(d)})}),s},e.writeRtpDescription=function(n,s){let a="";a+="m="+n+" ",a+=s.codecs.length>0?"9":"0",a+=" "+(s.profile||"UDP/TLS/RTP/SAVPF")+" ",a+=s.codecs.map(u=>u.preferredPayloadType!==void 0?u.preferredPayloadType:u.payloadType).join(" ")+`\r
`,a+=`c=IN IP4 0.0.0.0\r
`,a+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,s.codecs.forEach(u=>{a+=e.writeRtpMap(u),a+=e.writeFmtp(u),a+=e.writeRtcpFb(u)});let c=0;return s.codecs.forEach(u=>{u.maxptime>c&&(c=u.maxptime)}),c>0&&(a+="a=maxptime:"+c+`\r
`),s.headerExtensions&&s.headerExtensions.forEach(u=>{a+=e.writeExtmap(u)}),a},e.parseRtpEncodingParameters=function(n){const s=[],a=e.parseRtpParameters(n),c=a.fecMechanisms.indexOf("RED")!==-1,u=a.fecMechanisms.indexOf("ULPFEC")!==-1,f=e.matchPrefix(n,"a=ssrc:").map(v=>e.parseSsrcMedia(v)).filter(v=>v.attribute==="cname"),d=f.length>0&&f[0].ssrc;let h;const y=e.matchPrefix(n,"a=ssrc-group:FID").map(v=>v.substring(17).split(" ").map(C=>parseInt(C,10)));y.length>0&&y[0].length>1&&y[0][0]===d&&(h=y[0][1]),a.codecs.forEach(v=>{if(v.name.toUpperCase()==="RTX"&&v.parameters.apt){let S={ssrc:d,codecPayloadType:parseInt(v.parameters.apt,10)};d&&h&&(S.rtx={ssrc:h}),s.push(S),c&&(S=JSON.parse(JSON.stringify(S)),S.fec={ssrc:d,mechanism:u?"red+ulpfec":"red"},s.push(S))}}),s.length===0&&d&&s.push({ssrc:d});let g=e.matchPrefix(n,"b=");return g.length&&(g[0].indexOf("b=TIAS:")===0?g=parseInt(g[0].substring(7),10):g[0].indexOf("b=AS:")===0?g=parseInt(g[0].substring(5),10)*1e3*.95-2e3*8:g=void 0,s.forEach(v=>{v.maxBitrate=g})),s},e.parseRtcpParameters=function(n){const s={},a=e.matchPrefix(n,"a=ssrc:").map(f=>e.parseSsrcMedia(f)).filter(f=>f.attribute==="cname")[0];a&&(s.cname=a.value,s.ssrc=a.ssrc);const c=e.matchPrefix(n,"a=rtcp-rsize");s.reducedSize=c.length>0,s.compound=c.length===0;const u=e.matchPrefix(n,"a=rtcp-mux");return s.mux=u.length>0,s},e.writeRtcpParameters=function(n){let s="";return n.reducedSize&&(s+=`a=rtcp-rsize\r
`),n.mux&&(s+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(s+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),s},e.parseMsid=function(n){let s;const a=e.matchPrefix(n,"a=msid:");if(a.length===1)return s=a[0].substring(7).split(" "),{stream:s[0],track:s[1]};const c=e.matchPrefix(n,"a=ssrc:").map(u=>e.parseSsrcMedia(u)).filter(u=>u.attribute==="msid");if(c.length>0)return s=c[0].value.split(" "),{stream:s[0],track:s[1]}},e.parseSctpDescription=function(n){const s=e.parseMLine(n),a=e.matchPrefix(n,"a=max-message-size:");let c;a.length>0&&(c=parseInt(a[0].substring(19),10)),isNaN(c)&&(c=65536);const u=e.matchPrefix(n,"a=sctp-port:");if(u.length>0)return{port:parseInt(u[0].substring(12),10),protocol:s.fmt,maxMessageSize:c};const f=e.matchPrefix(n,"a=sctpmap:");if(f.length>0){const d=f[0].substring(10).split(" ");return{port:parseInt(d[0],10),protocol:d[1],maxMessageSize:c}}},e.writeSctpDescription=function(n,s){let a=[];return n.protocol!=="DTLS/SCTP"?a=["m="+n.kind+" 9 "+n.protocol+" "+s.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+s.port+`\r
`]:a=["m="+n.kind+" 9 "+n.protocol+" "+s.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+s.port+" "+s.protocol+` 65535\r
`],s.maxMessageSize!==void 0&&a.push("a=max-message-size:"+s.maxMessageSize+`\r
`),a.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,s,a){let c;const u=s!==void 0?s:2;return n?c=n:c=e.generateSessionId(),`v=0\r
o=`+(a||"thisisadapterortc")+" "+c+" "+u+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,s){const a=e.splitLines(n);for(let c=0;c<a.length;c++)switch(a[c]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return a[c].substring(2)}return s?e.getDirection(s):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substring(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const a=e.splitLines(n)[0].substring(2).split(" ");return{kind:a[0],port:parseInt(a[1],10),protocol:a[2],fmt:a.slice(3).join(" ")}},e.parseOLine=function(n){const a=e.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:a[0],sessionId:a[1],sessionVersion:parseInt(a[2],10),netType:a[3],addressType:a[4],address:a[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const s=e.splitLines(n);for(let a=0;a<s.length;a++)if(s[a].length<2||s[a].charAt(1)!=="=")return!1;return!0},t.exports=e})(Ep)),Ep.exports}var BC=iD();const Wa=Vc(BC),aD=cS({__proto__:null,default:Wa},[BC]);function ku(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(s){if(typeof s=="object"&&s.candidate&&s.candidate.indexOf("a=")===0&&(s=JSON.parse(JSON.stringify(s)),s.candidate=s.candidate.substring(2)),s.candidate&&s.candidate.length){const a=new e(s),c=Wa.parseCandidate(s.candidate);for(const u in c)u in a||Object.defineProperty(a,u,{value:c[u]});return a.toJSON=function(){return{candidate:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex,usernameFragment:a.usernameFragment}},a}return new e(s)},t.RTCIceCandidate.prototype=e.prototype,da(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Rm(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||da(t,"icecandidate",e=>{if(e.candidate){const n=Wa.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function ju(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(f){if(!f||!f.sdp)return!1;const d=Wa.splitSections(f.sdp);return d.shift(),d.some(h=>{const y=Wa.parseMLine(h);return y&&y.kind==="application"&&y.protocol.indexOf("SCTP")!==-1})},s=function(f){const d=f.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(d===null||d.length<2)return-1;const h=parseInt(d[1],10);return h!==h?-1:h},a=function(f){let d=65536;return e.browser==="firefox"&&(e.version<57?f===-1?d=16384:d=2147483637:e.version<60?d=e.version===57?65535:65536:d=2147483637),d},c=function(f,d){let h=65536;e.browser==="firefox"&&e.version===57&&(h=65535);const y=Wa.matchPrefix(f.sdp,"a=max-message-size:");return y.length>0?h=parseInt(y[0].substring(19),10):e.browser==="firefox"&&d!==-1&&(h=2147483637),h},u=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:d}=this.getConfiguration();d==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const d=s(arguments[0]),h=a(d),y=c(arguments[0],d);let g;h===0&&y===0?g=Number.POSITIVE_INFINITY:h===0||y===0?g=Math.max(h,y):g=Math.min(h,y);const v={};Object.defineProperty(v,"maxMessageSize",{get(){return g}}),this._sctp=v}return u.apply(this,arguments)}}function Lu(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(s,a){const c=s.send;s.send=function(){const f=arguments[0],d=f.length||f.size||f.byteLength;if(s.readyState==="open"&&a.sctp&&d>a.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+a.sctp.maxMessageSize+" bytes)");return c.apply(s,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const a=n.apply(this,arguments);return e(a,this),a},da(t,"datachannel",s=>(e(s.channel,s.target),s))}function Am(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const s=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=a=>{const c=a.target;if(c._lastConnectionState!==c.connectionState){c._lastConnectionState=c.connectionState;const u=new Event("connectionstatechange",a);c.dispatchEvent(u)}return a},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),s.apply(this,arguments)}})}function Om(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(a){if(a&&a.sdp&&a.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const c=a.sdp.split(`
`).filter(u=>u.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&a instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:a.type,sdp:c}):a.sdp=c}return n.apply(this,arguments)}}function Uu(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function zu(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let a=arguments[0]||{};if(typeof a!="object"||a.type&&a.sdp)return n.apply(this,arguments);if(a={type:a.type,sdp:a.sdp},!a.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":a.type="offer";break;default:a.type="answer";break}return a.sdp||a.type!=="offer"&&a.type!=="answer"?n.apply(this,[a]):(a.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(u=>n.apply(this,[u]))})}const oD=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Om,shimAddIceCandidateNullOrEmpty:Uu,shimConnectionState:Am,shimMaxMessageSize:ju,shimParameterlessSetLocalDescription:zu,shimRTCIceCandidate:ku,shimRTCIceCandidateRelayProtocol:Rm,shimSendThrowTypeError:Lu},Symbol.toStringTag,{value:"Module"}));function cD({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=fC,s=rD(t),a={browserDetails:s,commonShim:oD,extractVersion:Sc,disableLog:tD,disableWarnings:nD,sdp:aD};switch(s.browser){case"chrome":if(!a1||!Em||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),a;if(s.version===null)return n("Chrome shim can not determine version, not shimming."),a;n("adapter.js shimming chrome."),a.browserShim=a1,Uu(t,s),zu(t),hC(t,s),pC(t),Em(t,s),mC(t),xC(t,s),yC(t),gC(t),bC(t,s),ku(t),Rm(t),Am(t),ju(t,s),Lu(t),Om(t,s);break;case"firefox":if(!o1||!Tm||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),a;n("adapter.js shimming firefox."),a.browserShim=o1,Uu(t,s),zu(t),SC(t,s),Tm(t,s),_C(t),EC(t),wC(t),CC(t),TC(t),RC(t),AC(t),OC(t),MC(t),ku(t),Am(t),ju(t,s),Lu(t);break;case"safari":if(!c1||!e.shimSafari)return n("Safari shim is not included in this adapter release."),a;n("adapter.js shimming safari."),a.browserShim=c1,Uu(t,s),zu(t),LC(t),zC(t),DC(t),PC(t),NC(t),UC(t),kC(t),IC(t),ku(t),Rm(t),ju(t,s),Lu(t),Om(t,s);break;default:n("Unsupported browser!");break}return a}const u1=cD({window:typeof window>"u"?void 0:window});var ea=4294967295;function lD(t,e,n){var s=n/4294967296,a=n;t.setUint32(e,s),t.setUint32(e+4,a)}function HC(t,e,n){var s=Math.floor(n/4294967296),a=n;t.setUint32(e,s),t.setUint32(e+4,a)}function $C(t,e){var n=t.getInt32(e),s=t.getUint32(e+4);return n*4294967296+s}function uD(t,e){var n=t.getUint32(e),s=t.getUint32(e+4);return n*4294967296+s}var Ly={},Tp,Rp,Ap,Hf=(typeof process>"u"||((Tp=process==null?void 0:Ly)===null||Tp===void 0?void 0:Tp.TEXT_ENCODING)!=="never")&&typeof TextEncoder<"u"&&typeof TextDecoder<"u";function f1(t){for(var e=t.length,n=0,s=0;s<e;){var a=t.charCodeAt(s++);if((a&4294967168)===0){n++;continue}else if((a&4294965248)===0)n+=2;else{if(a>=55296&&a<=56319&&s<e){var c=t.charCodeAt(s);(c&64512)===56320&&(++s,a=((a&1023)<<10)+(c&1023)+65536)}(a&4294901760)===0?n+=3:n+=4}}return n}function fD(t,e,n){for(var s=t.length,a=n,c=0;c<s;){var u=t.charCodeAt(c++);if((u&4294967168)===0){e[a++]=u;continue}else if((u&4294965248)===0)e[a++]=u>>6&31|192;else{if(u>=55296&&u<=56319&&c<s){var f=t.charCodeAt(c);(f&64512)===56320&&(++c,u=((u&1023)<<10)+(f&1023)+65536)}(u&4294901760)===0?(e[a++]=u>>12&15|224,e[a++]=u>>6&63|128):(e[a++]=u>>18&7|240,e[a++]=u>>12&63|128,e[a++]=u>>6&63|128)}e[a++]=u&63|128}}var Oc=Hf?new TextEncoder:void 0,dD=Hf?typeof process<"u"&&((Rp=process==null?void 0:Ly)===null||Rp===void 0?void 0:Rp.TEXT_ENCODING)!=="force"?200:0:ea;function hD(t,e,n){e.set(Oc.encode(t),n)}function pD(t,e,n){Oc.encodeInto(t,e.subarray(n))}var mD=Oc?.encodeInto?pD:hD,yD=4096;function VC(t,e,n){for(var s=e,a=s+n,c=[],u="";s<a;){var f=t[s++];if((f&128)===0)c.push(f);else if((f&224)===192){var d=t[s++]&63;c.push((f&31)<<6|d)}else if((f&240)===224){var d=t[s++]&63,h=t[s++]&63;c.push((f&31)<<12|d<<6|h)}else if((f&248)===240){var d=t[s++]&63,h=t[s++]&63,y=t[s++]&63,g=(f&7)<<18|d<<12|h<<6|y;g>65535&&(g-=65536,c.push(g>>>10&1023|55296),g=56320|g&1023),c.push(g)}else c.push(f);c.length>=yD&&(u+=String.fromCharCode.apply(String,c),c.length=0)}return c.length>0&&(u+=String.fromCharCode.apply(String,c)),u}var gD=Hf?new TextDecoder:null,vD=Hf?typeof process<"u"&&((Ap=process==null?void 0:Ly)===null||Ap===void 0?void 0:Ap.TEXT_DECODER)!=="force"?200:0:ea;function xD(t,e,n){var s=t.subarray(e,e+n);return gD.decode(s)}var bu=(function(){function t(e,n){this.type=e,this.data=n}return t})(),bD=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=a[c])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function s(){this.constructor=e}e.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}})(),ss=(function(t){bD(e,t);function e(n){var s=t.call(this,n)||this,a=Object.create(e.prototype);return Object.setPrototypeOf(s,a),Object.defineProperty(s,"name",{configurable:!0,enumerable:!1,value:e.name}),s}return e})(Error),SD=-1,_D=4294967296-1,wD=17179869184-1;function CD(t){var e=t.sec,n=t.nsec;if(e>=0&&n>=0&&e<=wD)if(n===0&&e<=_D){var s=new Uint8Array(4),a=new DataView(s.buffer);return a.setUint32(0,e),s}else{var c=e/4294967296,u=e&4294967295,s=new Uint8Array(8),a=new DataView(s.buffer);return a.setUint32(0,n<<2|c&3),a.setUint32(4,u),s}else{var s=new Uint8Array(12),a=new DataView(s.buffer);return a.setUint32(0,n),HC(a,4,e),s}}function ED(t){var e=t.getTime(),n=Math.floor(e/1e3),s=(e-n*1e3)*1e6,a=Math.floor(s/1e9);return{sec:n+a,nsec:s-a*1e9}}function TD(t){if(t instanceof Date){var e=ED(t);return CD(e)}else return null}function RD(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:{var n=e.getUint32(0),s=0;return{sec:n,nsec:s}}case 8:{var a=e.getUint32(0),c=e.getUint32(4),n=(a&3)*4294967296+c,s=a>>>2;return{sec:n,nsec:s}}case 12:{var n=$C(e,4),s=e.getUint32(0);return{sec:n,nsec:s}}default:throw new ss("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(t.length))}}function AD(t){var e=RD(t);return new Date(e.sec*1e3+e.nsec/1e6)}var OD={type:SD,encode:TD,decode:AD},qC=(function(){function t(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(OD)}return t.prototype.register=function(e){var n=e.type,s=e.encode,a=e.decode;if(n>=0)this.encoders[n]=s,this.decoders[n]=a;else{var c=1+n;this.builtInEncoders[c]=s,this.builtInDecoders[c]=a}},t.prototype.tryToEncode=function(e,n){for(var s=0;s<this.builtInEncoders.length;s++){var a=this.builtInEncoders[s];if(a!=null){var c=a(e,n);if(c!=null){var u=-1-s;return new bu(u,c)}}}for(var s=0;s<this.encoders.length;s++){var a=this.encoders[s];if(a!=null){var c=a(e,n);if(c!=null){var u=s;return new bu(u,c)}}}return e instanceof bu?e:null},t.prototype.decode=function(e,n,s){var a=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return a?a(e,n,s):new bu(n,e)},t.defaultCodec=new t,t})();function uf(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer?new Uint8Array(t):Uint8Array.from(t)}function MD(t){if(t instanceof ArrayBuffer)return new DataView(t);var e=uf(t);return new DataView(e.buffer,e.byteOffset,e.byteLength)}var PD=100,ND=2048,DD=(function(){function t(e,n,s,a,c,u,f,d){e===void 0&&(e=qC.defaultCodec),n===void 0&&(n=void 0),s===void 0&&(s=PD),a===void 0&&(a=ND),c===void 0&&(c=!1),u===void 0&&(u=!1),f===void 0&&(f=!1),d===void 0&&(d=!1),this.extensionCodec=e,this.context=n,this.maxDepth=s,this.initialBufferSize=a,this.sortKeys=c,this.forceFloat32=u,this.ignoreUndefined=f,this.forceIntegerToFloat=d,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return t.prototype.reinitializeState=function(){this.pos=0},t.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},t.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},t.prototype.doEncode=function(e,n){if(n>this.maxDepth)throw new Error("Too deep objects in depth ".concat(n));e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.encodeObject(e,n)},t.prototype.ensureBufferSizeToWrite=function(e){var n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)},t.prototype.resizeBuffer=function(e){var n=new ArrayBuffer(e),s=new Uint8Array(n),a=new DataView(n);s.set(this.bytes),this.view=a,this.bytes=s},t.prototype.encodeNil=function(){this.writeU8(192)},t.prototype.encodeBoolean=function(e){e===!1?this.writeU8(194):this.writeU8(195)},t.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},t.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error("Too long string: ".concat(e," bytes in UTF-8"))},t.prototype.encodeString=function(e){var n=5,s=e.length;if(s>dD){var a=f1(e);this.ensureBufferSizeToWrite(n+a),this.writeStringHeader(a),mD(e,this.bytes,this.pos),this.pos+=a}else{var a=f1(e);this.ensureBufferSizeToWrite(n+a),this.writeStringHeader(a),fD(e,this.bytes,this.pos),this.pos+=a}},t.prototype.encodeObject=function(e,n){var s=this.extensionCodec.tryToEncode(e,this.context);if(s!=null)this.encodeExtension(s);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)))},t.prototype.encodeBinary=function(e){var n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error("Too large binary: ".concat(n));var s=uf(e);this.writeU8a(s)},t.prototype.encodeArray=function(e,n){var s=e.length;if(s<16)this.writeU8(144+s);else if(s<65536)this.writeU8(220),this.writeU16(s);else if(s<4294967296)this.writeU8(221),this.writeU32(s);else throw new Error("Too large array: ".concat(s));for(var a=0,c=e;a<c.length;a++){var u=c[a];this.doEncode(u,n+1)}},t.prototype.countWithoutUndefined=function(e,n){for(var s=0,a=0,c=n;a<c.length;a++){var u=c[a];e[u]!==void 0&&s++}return s},t.prototype.encodeMap=function(e,n){var s=Object.keys(e);this.sortKeys&&s.sort();var a=this.ignoreUndefined?this.countWithoutUndefined(e,s):s.length;if(a<16)this.writeU8(128+a);else if(a<65536)this.writeU8(222),this.writeU16(a);else if(a<4294967296)this.writeU8(223),this.writeU32(a);else throw new Error("Too large map object: ".concat(a));for(var c=0,u=s;c<u.length;c++){var f=u[c],d=e[f];this.ignoreUndefined&&d===void 0||(this.encodeString(f),this.doEncode(d,n+1))}},t.prototype.encodeExtension=function(e){var n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error("Too large extension object: ".concat(n));this.writeI8(e.type),this.writeU8a(e.data)},t.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},t.prototype.writeU8a=function(e){var n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n},t.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},t.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},t.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},t.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},t.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},t.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},t.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},t.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),lD(this.view,this.pos,e),this.pos+=8},t.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),HC(this.view,this.pos,e),this.pos+=8},t})();function Op(t){return"".concat(t<0?"-":"","0x").concat(Math.abs(t).toString(16).padStart(2,"0"))}var kD=16,jD=16,LD=(function(){function t(e,n){e===void 0&&(e=kD),n===void 0&&(n=jD),this.maxKeyLength=e,this.maxLengthPerKey=n,this.hit=0,this.miss=0,this.caches=[];for(var s=0;s<this.maxKeyLength;s++)this.caches.push([])}return t.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},t.prototype.find=function(e,n,s){var a=this.caches[s-1];e:for(var c=0,u=a;c<u.length;c++){for(var f=u[c],d=f.bytes,h=0;h<s;h++)if(d[h]!==e[n+h])continue e;return f.str}return null},t.prototype.store=function(e,n){var s=this.caches[e.length-1],a={bytes:e,str:n};s.length>=this.maxLengthPerKey?s[Math.random()*s.length|0]=a:s.push(a)},t.prototype.decode=function(e,n,s){var a=this.find(e,n,s);if(a!=null)return this.hit++,a;this.miss++;var c=VC(e,n,s),u=Uint8Array.prototype.slice.call(e,n,n+s);return this.store(u,c),c},t})(),UD=function(t,e,n,s){function a(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function f(y){try{h(s.next(y))}catch(g){u(g)}}function d(y){try{h(s.throw(y))}catch(g){u(g)}}function h(y){y.done?c(y.value):a(y.value).then(f,d)}h((s=s.apply(t,e||[])).next())})},Mp=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,a,c,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(h){return function(y){return d([h,y])}}function d(h){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,a&&(c=h[0]&2?a.return:h[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,h[1])).done)return c;switch(a=0,c&&(h=[h[0]&2,c.value]),h[0]){case 0:case 1:c=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,a=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!c||h[1]>c[0]&&h[1]<c[3])){n.label=h[1];break}if(h[0]===6&&n.label<c[1]){n.label=c[1],c=h;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(h);break}c[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(y){h=[6,y],a=0}finally{s=c=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},d1=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(c){n[c]=t[c]&&function(u){return new Promise(function(f,d){u=t[c](u),a(f,d,u.done,u.value)})}}function a(c,u,f,d){Promise.resolve(d).then(function(h){c({value:h,done:f})},u)}},eo=function(t){return this instanceof eo?(this.v=t,this):new eo(t)},zD=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),a,c=[];return a={},u("next"),u("throw"),u("return"),a[Symbol.asyncIterator]=function(){return this},a;function u(v){s[v]&&(a[v]=function(S){return new Promise(function(C,E){c.push([v,S,C,E])>1||f(v,S)})})}function f(v,S){try{d(s[v](S))}catch(C){g(c[0][3],C)}}function d(v){v.value instanceof eo?Promise.resolve(v.value.v).then(h,y):g(c[0][2],v)}function h(v){f("next",v)}function y(v){f("throw",v)}function g(v,S){v(S),c.shift(),c.length&&f(c[0][0],c[0][1])}},ID=function(t){var e=typeof t;return e==="string"||e==="number"},hc=-1,Uy=new DataView(new ArrayBuffer(0)),BD=new Uint8Array(Uy.buffer),Mm=(function(){try{Uy.getInt8(0)}catch(t){return t.constructor}throw new Error("never reached")})(),h1=new Mm("Insufficient data"),HD=new LD,$D=(function(){function t(e,n,s,a,c,u,f,d){e===void 0&&(e=qC.defaultCodec),n===void 0&&(n=void 0),s===void 0&&(s=ea),a===void 0&&(a=ea),c===void 0&&(c=ea),u===void 0&&(u=ea),f===void 0&&(f=ea),d===void 0&&(d=HD),this.extensionCodec=e,this.context=n,this.maxStrLength=s,this.maxBinLength=a,this.maxArrayLength=c,this.maxMapLength=u,this.maxExtLength=f,this.keyDecoder=d,this.totalPos=0,this.pos=0,this.view=Uy,this.bytes=BD,this.headByte=hc,this.stack=[]}return t.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=hc,this.stack.length=0},t.prototype.setBuffer=function(e){this.bytes=uf(e),this.view=MD(this.bytes),this.pos=0},t.prototype.appendBuffer=function(e){if(this.headByte===hc&&!this.hasRemaining(1))this.setBuffer(e);else{var n=this.bytes.subarray(this.pos),s=uf(e),a=new Uint8Array(n.length+s.length);a.set(n),a.set(s,n.length),this.setBuffer(a)}},t.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},t.prototype.createExtraByteError=function(e){var n=this,s=n.view,a=n.pos;return new RangeError("Extra ".concat(s.byteLength-a," of ").concat(s.byteLength," byte(s) found at buffer[").concat(e,"]"))},t.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n},t.prototype.decodeMulti=function(e){return Mp(this,function(n){switch(n.label){case 0:this.reinitializeState(),this.setBuffer(e),n.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return n.sent(),[3,1];case 3:return[2]}})},t.prototype.decodeAsync=function(e){var n,s,a,c;return UD(this,void 0,void 0,function(){var u,f,d,h,y,g,v,S;return Mp(this,function(C){switch(C.label){case 0:u=!1,C.label=1;case 1:C.trys.push([1,6,7,12]),n=d1(e),C.label=2;case 2:return[4,n.next()];case 3:if(s=C.sent(),!!s.done)return[3,5];if(d=s.value,u)throw this.createExtraByteError(this.totalPos);this.appendBuffer(d);try{f=this.doDecodeSync(),u=!0}catch(E){if(!(E instanceof Mm))throw E}this.totalPos+=this.pos,C.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return h=C.sent(),a={error:h},[3,12];case 7:return C.trys.push([7,,10,11]),s&&!s.done&&(c=n.return)?[4,c.call(n)]:[3,9];case 8:C.sent(),C.label=9;case 9:return[3,11];case 10:if(a)throw a.error;return[7];case 11:return[7];case 12:if(u){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,f]}throw y=this,g=y.headByte,v=y.pos,S=y.totalPos,new RangeError("Insufficient data in parsing ".concat(Op(g)," at ").concat(S," (").concat(v," in the current buffer)"))}})})},t.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},t.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},t.prototype.decodeMultiAsync=function(e,n){return zD(this,arguments,function(){var a,c,u,f,d,h,y,g,v;return Mp(this,function(S){switch(S.label){case 0:a=n,c=-1,S.label=1;case 1:S.trys.push([1,13,14,19]),u=d1(e),S.label=2;case 2:return[4,eo(u.next())];case 3:if(f=S.sent(),!!f.done)return[3,12];if(d=f.value,n&&c===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(d),a&&(c=this.readArraySize(),a=!1,this.complete()),S.label=4;case 4:S.trys.push([4,9,,10]),S.label=5;case 5:return[4,eo(this.doDecodeSync())];case 6:return[4,S.sent()];case 7:return S.sent(),--c===0?[3,8]:[3,5];case 8:return[3,10];case 9:if(h=S.sent(),!(h instanceof Mm))throw h;return[3,10];case 10:this.totalPos+=this.pos,S.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return y=S.sent(),g={error:y},[3,19];case 14:return S.trys.push([14,,17,18]),f&&!f.done&&(v=u.return)?[4,eo(v.call(u))]:[3,16];case 15:S.sent(),S.label=16;case 16:return[3,18];case 17:if(g)throw g.error;return[7];case 18:return[7];case 19:return[2]}})})},t.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),n=void 0;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){var s=e-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e<160){var s=e-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else{var a=e-160;n=this.decodeUtf8String(a,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)n=this.readI64();else if(e===217){var a=this.lookU8();n=this.decodeUtf8String(a,1)}else if(e===218){var a=this.lookU16();n=this.decodeUtf8String(a,2)}else if(e===219){var a=this.lookU32();n=this.decodeUtf8String(a,4)}else if(e===220){var s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===221){var s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===222){var s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===223){var s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===196){var s=this.lookU8();n=this.decodeBinary(s,1)}else if(e===197){var s=this.lookU16();n=this.decodeBinary(s,2)}else if(e===198){var s=this.lookU32();n=this.decodeBinary(s,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){var s=this.lookU8();n=this.decodeExtension(s,1)}else if(e===200){var s=this.lookU16();n=this.decodeExtension(s,2)}else if(e===201){var s=this.lookU32();n=this.decodeExtension(s,4)}else throw new ss("Unrecognized type byte: ".concat(Op(e)));this.complete();for(var c=this.stack;c.length>0;){var u=c[c.length-1];if(u.type===0)if(u.array[u.position]=n,u.position++,u.position===u.size)c.pop(),n=u.array;else continue e;else if(u.type===1){if(!ID(n))throw new ss("The type of key must be string or number but "+typeof n);if(n==="__proto__")throw new ss("The key __proto__ is not allowed");u.key=n,u.type=2;continue e}else if(u.map[u.key]=n,u.readCount++,u.readCount===u.size)c.pop(),n=u.map;else{u.key=null,u.type=1;continue e}}return n}},t.prototype.readHeadByte=function(){return this.headByte===hc&&(this.headByte=this.readU8()),this.headByte},t.prototype.complete=function(){this.headByte=hc},t.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new ss("Unrecognized array type byte: ".concat(Op(e)))}}},t.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new ss("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},t.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new ss("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:new Array(e),position:0})},t.prototype.decodeUtf8String=function(e,n){var s;if(e>this.maxStrLength)throw new ss("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+n+e)throw h1;var a=this.pos+n,c;return this.stateIsMapKey()&&(!((s=this.keyDecoder)===null||s===void 0)&&s.canBeCached(e))?c=this.keyDecoder.decode(this.bytes,a,e):e>vD?c=xD(this.bytes,a,e):c=VC(this.bytes,a,e),this.pos+=n+e,c},t.prototype.stateIsMapKey=function(){if(this.stack.length>0){var e=this.stack[this.stack.length-1];return e.type===1}return!1},t.prototype.decodeBinary=function(e,n){if(e>this.maxBinLength)throw new ss("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+n))throw h1;var s=this.pos+n,a=this.bytes.subarray(s,s+e);return this.pos+=n+e,a},t.prototype.decodeExtension=function(e,n){if(e>this.maxExtLength)throw new ss("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var s=this.view.getInt8(this.pos+n),a=this.decodeBinary(e,n+1);return this.extensionCodec.decode(a,s,this.context)},t.prototype.lookU8=function(){return this.view.getUint8(this.pos)},t.prototype.lookU16=function(){return this.view.getUint16(this.pos)},t.prototype.lookU32=function(){return this.view.getUint32(this.pos)},t.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},t.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},t.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},t.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},t.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},t.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},t.prototype.readU64=function(){var e=uD(this.view,this.pos);return this.pos+=8,e},t.prototype.readI64=function(){var e=$C(this.view,this.pos);return this.pos+=8,e},t.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},t.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},t})(),VD={},qD=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,a,c,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(h){return function(y){return d([h,y])}}function d(h){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,a&&(c=h[0]&2?a.return:h[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,h[1])).done)return c;switch(a=0,c&&(h=[h[0]&2,c.value]),h[0]){case 0:case 1:c=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,a=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!c||h[1]>c[0]&&h[1]<c[3])){n.label=h[1];break}if(h[0]===6&&n.label<c[1]){n.label=c[1],c=h;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(h);break}c[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(y){h=[6,y],a=0}finally{s=c=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},to=function(t){return this instanceof to?(this.v=t,this):new to(t)},FD=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),a,c=[];return a={},u("next"),u("throw"),u("return"),a[Symbol.asyncIterator]=function(){return this},a;function u(v){s[v]&&(a[v]=function(S){return new Promise(function(C,E){c.push([v,S,C,E])>1||f(v,S)})})}function f(v,S){try{d(s[v](S))}catch(C){g(c[0][3],C)}}function d(v){v.value instanceof to?Promise.resolve(v.value.v).then(h,y):g(c[0][2],v)}function h(v){f("next",v)}function y(v){f("throw",v)}function g(v,S){v(S),c.shift(),c.length&&f(c[0][0],c[0][1])}};function YD(t){return t[Symbol.asyncIterator]!=null}function GD(t){if(t==null)throw new Error("Assertion Failure: value must not be null nor undefined")}function KD(t){return FD(this,arguments,function(){var n,s,a,c;return qD(this,function(u){switch(u.label){case 0:n=t.getReader(),u.label=1;case 1:u.trys.push([1,,9,10]),u.label=2;case 2:return[4,to(n.read())];case 3:return s=u.sent(),a=s.done,c=s.value,a?[4,to(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return GD(c),[4,to(c)];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function XD(t){return YD(t)?t:KD(t)}function QD(t,e){e===void 0&&(e=VD);var n=XD(t),s=new $D(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength);return s.decodeStream(n)}function ha(t,e,n,s){Object.defineProperty(t,e,{get:n,set:s,enumerable:!0,configurable:!0})}class FC{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const n=[],s=e.byteLength,a=Math.ceil(s/this.chunkedMTU);let c=0,u=0;for(;u<s;){const f=Math.min(s,u+this.chunkedMTU),d=e.slice(u,f),h={__peerData:this._dataCount,n:c,data:d,total:a};n.push(h),u=f,c++}return this._dataCount++,n}}}function ZD(t){let e=0;for(const a of t)e+=a.byteLength;const n=new Uint8Array(e);let s=0;for(const a of t)n.set(a,s),s+=a.byteLength;return n}const Pp=u1.default||u1,pc=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const t=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(t)?t==="chrome"?e>=this.minChromeVersion:t==="firefox"?e>=this.minFirefoxVersion:t==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return Pp.browserDetails.browser}getVersion(){return Pp.browserDetails.version||0}isUnifiedPlanSupported(){const t=this.getBrowser(),e=Pp.browserDetails.version||0;if(t==="chrome"&&e<this.minChromeVersion)return!1;if(t==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,s=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),s=!0}catch{}finally{n&&n.close()}return s}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},JD=t=>!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t),YC=()=>Math.random().toString(36).slice(2),p1={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class WD extends FC{noop(){}blobToArrayBuffer(e,n){const s=new FileReader;return s.onload=function(a){a.target&&n(a.target.result)},s.readAsArrayBuffer(e),s}binaryStringToArrayBuffer(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=p1,this.browser=pc.getBrowser(),this.browserVersion=pc.getVersion(),this.pack=cC,this.unpack=oC,this.supports=(function(){const n={browser:pc.isBrowserSupported(),webRTC:pc.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let s;try{s=new RTCPeerConnection(p1),n.audioVideo=!0;let a;try{a=s.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!a.ordered;try{a.binaryType="blob",n.binaryBlob=!pc.isIOS}catch{}}catch{}finally{a&&a.close()}}catch{}finally{s&&s.close()}return n})(),this.validateId=JD,this.randomToken=YC}}const Jn=new WD,e4="PeerJS: ";class t4{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...n){const s=[e4,...n];for(const a in s)s[a]instanceof Error&&(s[a]="("+s[a].name+") "+s[a].message);e>=3?console.log(...s):e>=2?console.warn("WARNING",...s):e>=1&&console.error("ERROR",...s)}constructor(){this._logLevel=0}}var Ye=new t4,zy={},n4=Object.prototype.hasOwnProperty,er="~";function Lc(){}Object.create&&(Lc.prototype=Object.create(null),new Lc().__proto__||(er=!1));function r4(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function GC(t,e,n,s,a){if(typeof n!="function")throw new TypeError("The listener must be a function");var c=new r4(n,s||t,a),u=er?er+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],c]:t._events[u].push(c):(t._events[u]=c,t._eventsCount++),t}function Iu(t,e){--t._eventsCount===0?t._events=new Lc:delete t._events[e]}function Fn(){this._events=new Lc,this._eventsCount=0}Fn.prototype.eventNames=function(){var e=[],n,s;if(this._eventsCount===0)return e;for(s in n=this._events)n4.call(n,s)&&e.push(er?s.slice(1):s);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(n)):e};Fn.prototype.listeners=function(e){var n=er?er+e:e,s=this._events[n];if(!s)return[];if(s.fn)return[s.fn];for(var a=0,c=s.length,u=new Array(c);a<c;a++)u[a]=s[a].fn;return u};Fn.prototype.listenerCount=function(e){var n=er?er+e:e,s=this._events[n];return s?s.fn?1:s.length:0};Fn.prototype.emit=function(e,n,s,a,c,u){var f=er?er+e:e;if(!this._events[f])return!1;var d=this._events[f],h=arguments.length,y,g;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),h){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,n),!0;case 3:return d.fn.call(d.context,n,s),!0;case 4:return d.fn.call(d.context,n,s,a),!0;case 5:return d.fn.call(d.context,n,s,a,c),!0;case 6:return d.fn.call(d.context,n,s,a,c,u),!0}for(g=1,y=new Array(h-1);g<h;g++)y[g-1]=arguments[g];d.fn.apply(d.context,y)}else{var v=d.length,S;for(g=0;g<v;g++)switch(d[g].once&&this.removeListener(e,d[g].fn,void 0,!0),h){case 1:d[g].fn.call(d[g].context);break;case 2:d[g].fn.call(d[g].context,n);break;case 3:d[g].fn.call(d[g].context,n,s);break;case 4:d[g].fn.call(d[g].context,n,s,a);break;default:if(!y)for(S=1,y=new Array(h-1);S<h;S++)y[S-1]=arguments[S];d[g].fn.apply(d[g].context,y)}}return!0};Fn.prototype.on=function(e,n,s){return GC(this,e,n,s,!1)};Fn.prototype.once=function(e,n,s){return GC(this,e,n,s,!0)};Fn.prototype.removeListener=function(e,n,s,a){var c=er?er+e:e;if(!this._events[c])return this;if(!n)return Iu(this,c),this;var u=this._events[c];if(u.fn)u.fn===n&&(!a||u.once)&&(!s||u.context===s)&&Iu(this,c);else{for(var f=0,d=[],h=u.length;f<h;f++)(u[f].fn!==n||a&&!u[f].once||s&&u[f].context!==s)&&d.push(u[f]);d.length?this._events[c]=d.length===1?d[0]:d:Iu(this,c)}return this};Fn.prototype.removeAllListeners=function(e){var n;return e?(n=er?er+e:e,this._events[n]&&Iu(this,n)):(this._events=new Lc,this._eventsCount=0),this};Fn.prototype.off=Fn.prototype.removeListener;Fn.prototype.addListener=Fn.prototype.on;Fn.prefixed=er;Fn.EventEmitter=Fn;zy=Fn;var pa={};ha(pa,"ConnectionType",()=>Ys);ha(pa,"PeerErrorType",()=>yn);ha(pa,"BaseConnectionErrorType",()=>ff);ha(pa,"DataConnectionErrorType",()=>$f);ha(pa,"SerializationType",()=>Kc);ha(pa,"SocketEventType",()=>Vs);ha(pa,"ServerMessageType",()=>In);var Ys=(function(t){return t.Data="data",t.Media="media",t})({}),yn=(function(t){return t.BrowserIncompatible="browser-incompatible",t.Disconnected="disconnected",t.InvalidID="invalid-id",t.InvalidKey="invalid-key",t.Network="network",t.PeerUnavailable="peer-unavailable",t.SslUnavailable="ssl-unavailable",t.ServerError="server-error",t.SocketError="socket-error",t.SocketClosed="socket-closed",t.UnavailableID="unavailable-id",t.WebRTC="webrtc",t})({}),ff=(function(t){return t.NegotiationFailed="negotiation-failed",t.ConnectionClosed="connection-closed",t})({}),$f=(function(t){return t.NotOpenYet="not-open-yet",t.MessageToBig="message-too-big",t})({}),Kc=(function(t){return t.Binary="binary",t.BinaryUTF8="binary-utf8",t.JSON="json",t.None="raw",t})({}),Vs=(function(t){return t.Message="message",t.Disconnected="disconnected",t.Error="error",t.Close="close",t})({}),In=(function(t){return t.Heartbeat="HEARTBEAT",t.Candidate="CANDIDATE",t.Offer="OFFER",t.Answer="ANSWER",t.Open="OPEN",t.Error="ERROR",t.IdTaken="ID-TAKEN",t.InvalidKey="INVALID-KEY",t.Leave="LEAVE",t.Expire="EXPIRE",t})({});const KC="1.5.5";class s4 extends zy.EventEmitter{constructor(e,n,s,a,c,u=5e3){super(),this.pingInterval=u,this._disconnected=!0,this._messagesQueue=[];const f=e?"wss://":"ws://";this._baseUrl=f+n+":"+s+a+"peerjs?key="+c}start(e,n){this._id=e;const s=`${this._baseUrl}&id=${e}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(s+"&version="+KC),this._disconnected=!1,this._socket.onmessage=a=>{let c;try{c=JSON.parse(a.data),Ye.log("Server message received:",c)}catch{Ye.log("Invalid server message",a.data);return}this.emit(Vs.Message,c)},this._socket.onclose=a=>{this._disconnected||(Ye.log("Socket closed.",a),this._cleanup(),this._disconnected=!0,this.emit(Vs.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),Ye.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){Ye.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:In.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const n of e)this.send(n)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(Vs.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(e);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class XC{constructor(e){this.connection=e}startConnection(e){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===Ys.Media&&e._stream&&this._addTracksToConnection(e._stream,n),e.originator){const s=this.connection,a={ordered:!!e.reliable},c=n.createDataChannel(s.label,a);s._initializeDataChannel(c),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){Ye.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const n=this.connection.peer,s=this.connection.connectionId,a=this.connection.type,c=this.connection.provider;Ye.log("Listening for ICE candidates."),e.onicecandidate=u=>{!u.candidate||!u.candidate.candidate||(Ye.log(`Received ICE candidates for ${n}:`,u.candidate),c.socket.send({type:In.Candidate,payload:{candidate:u.candidate,type:a,connectionId:s},dst:n}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":Ye.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(ff.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":Ye.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(ff.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":Ye.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},Ye.log("Listening for data channel"),e.ondatachannel=u=>{Ye.log("Received data channel");const f=u.channel;c.getConnection(n,s)._initializeDataChannel(f)},Ye.log("Listening for remote stream"),e.ontrack=u=>{Ye.log("Received remote stream");const f=u.streams[0],d=c.getConnection(n,s);if(d.type===Ys.Media){const h=d;this._addStreamToMediaConnection(f,h)}}}cleanup(){Ye.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const n=e.signalingState!=="closed";let s=!1;const a=this.connection.dataChannel;a&&(s=!!a.readyState&&a.readyState!=="closed"),(n||s)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const s=await e.createOffer(this.connection.options.constraints);Ye.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await e.setLocalDescription(s),Ye.log("Set localDescription:",s,`for:${this.connection.peer}`);let a={sdp:s,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===Ys.Data){const c=this.connection;a={...a,label:c.label,reliable:c.reliable,serialization:c.serialization}}n.socket.send({type:In.Offer,payload:a,dst:this.connection.peer})}catch(a){a!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(yn.WebRTC,a),Ye.log("Failed to setLocalDescription, ",a))}}catch(s){n.emitError(yn.WebRTC,s),Ye.log("Failed to createOffer, ",s)}}async _makeAnswer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const s=await e.createAnswer();Ye.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await e.setLocalDescription(s),Ye.log("Set localDescription:",s,`for:${this.connection.peer}`),n.socket.send({type:In.Answer,payload:{sdp:s,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(a){n.emitError(yn.WebRTC,a),Ye.log("Failed to setLocalDescription, ",a)}}catch(s){n.emitError(yn.WebRTC,s),Ye.log("Failed to create answer, ",s)}}async handleSDP(e,n){n=new RTCSessionDescription(n);const s=this.connection.peerConnection,a=this.connection.provider;Ye.log("Setting remote description",n);const c=this;try{await s.setRemoteDescription(n),Ye.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await c._makeAnswer()}catch(u){a.emitError(yn.WebRTC,u),Ye.log("Failed to setRemoteDescription, ",u)}}async handleCandidate(e){Ye.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),Ye.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(yn.WebRTC,n),Ye.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(e,n){if(Ye.log(`add tracks from stream ${e.id} to peer connection`),!n.addTrack)return Ye.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(s=>{n.addTrack(s,e)})}_addStreamToMediaConnection(e,n){Ye.log(`add stream ${e.id} to media connection ${n.connectionId}`),n.addStream(e)}}class QC extends zy.EventEmitter{emitError(e,n){Ye.error("Error:",n),this.emit("error",new ZC(`${e}`,n))}}class ZC extends Error{constructor(e,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=e}}class JC extends QC{get open(){return this._open}constructor(e,n,s){super(),this.peer=e,this.provider=n,this.options=s,this._open=!1,this.metadata=s.metadata}}class df extends JC{static#e=this.ID_PREFIX="mc_";get type(){return Ys.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,n,s){super(e,n,s),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||df.ID_PREFIX+Jn.randomToken(),this._negotiator=new XC(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{Ye.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{Ye.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){Ye.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const n=e.type,s=e.payload;switch(e.type){case In.Answer:this._negotiator.handleSDP(n,s.sdp),this._open=!0;break;case In.Candidate:this._negotiator.handleCandidate(s.candidate);break;default:Ye.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(e,n={}){if(this._localStream){Ye.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const s=this.provider._getMessages(this.connectionId);for(const a of s)this.handleMessage(a);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}}class i4{constructor(e){this._options=e}_buildRequest(e){const n=this._options.secure?"https":"http",{host:s,port:a,path:c,key:u}=this._options,f=new URL(`${n}://${s}:${a}${c}${u}/${e}`);return f.searchParams.set("ts",`${Date.now()}${Math.random()}`),f.searchParams.set("version",KC),fetch(f.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){Ye.error("Error retrieving ID",e);let n="";throw this._options.path==="/"&&this._options.host!==Jn.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let n="";throw this._options.host===Jn.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw Ye.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}class ia extends JC{static#e=this.ID_PREFIX="dc_";static#t=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return Ys.Data}constructor(e,n,s){super(e,n,s),this.connectionId=this.options.connectionId||ia.ID_PREFIX+YC(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new XC(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{Ye.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{Ye.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{Ye.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,n=!1){if(!this.open){this.emitError($f.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,n)}async handleMessage(e){const n=e.payload;switch(e.type){case In.Answer:await this._negotiator.handleSDP(e.type,n.sdp);break;case In.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:Ye.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}}class Vf extends ia{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>ia.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(n){return Ye.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class Np extends Vf{close(e){super.close(e),this._chunkedData={}}constructor(e,n,s){super(e,n,s),this.chunker=new FC,this.serialization=Kc.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const n=oC(e),s=n.__peerData;if(s){if(s.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(e){const n=e.__peerData,s=this._chunkedData[n]||{data:[],count:0,total:e.total};if(s.data[e.n]=new Uint8Array(e.data),s.count++,this._chunkedData[n]=s,s.total===s.count){delete this._chunkedData[n];const a=ZD(s.data);this._handleDataMessage({data:a})}}_send(e,n){const s=cC(e);if(s instanceof Promise)return this._send_blob(s);if(!n&&s.byteLength>this.chunker.chunkedMTU){this._sendChunks(s);return}this._bufferedSend(s)}async _send_blob(e){const n=await e;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(e){const n=this.chunker.chunk(e);Ye.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const s of n)this.send(s,!0)}}class a4 extends Vf{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,n){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=Kc.None}}class o4 extends Vf{_handleDataMessage({data:e}){const n=this.parse(this.decoder.decode(e)),s=n.__peerData;if(s&&s.type==="close"){this.close();return}this.emit("data",n)}_send(e,n){const s=this.encoder.encode(this.stringify(e));if(s.byteLength>=Jn.chunkedMTU){this.emitError($f.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(s)}constructor(...e){super(...e),this.serialization=Kc.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}class Xc extends QC{static#e=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[n,s]of this._connections)e[n]=s;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,n){super(),this._serializers={raw:a4,json:o4,binary:Np,"binary-utf8":Np,default:Np},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let s;if(e&&e.constructor==Object?n=e:e&&(s=e.toString()),n={debug:0,host:Jn.CLOUD_HOST,port:Jn.CLOUD_PORT,path:"/",key:Xc.DEFAULT_KEY,token:Jn.randomToken(),config:Jn.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Jn.CLOUD_HOST?this._options.secure=Jn.isSecure():this._options.host==Jn.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&Ye.setLogFunction(this._options.logFunction),Ye.logLevel=this._options.debug||0,this._api=new i4(n),this._socket=this._createServerConnection(),!Jn.supports.audioVideo&&!Jn.supports.data){this._delayedAbort(yn.BrowserIncompatible,"The current browser does not support WebRTC");return}if(s&&!Jn.validateId(s)){this._delayedAbort(yn.InvalidID,`ID "${s}" is invalid`);return}s?this._initialize(s):this._api.retrieveId().then(a=>this._initialize(a)).catch(a=>this._abort(yn.ServerError,a))}_createServerConnection(){const e=new s4(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(Vs.Message,n=>{this._handleMessage(n)}),e.on(Vs.Error,n=>{this._abort(yn.SocketError,n)}),e.on(Vs.Disconnected,()=>{this.disconnected||(this.emitError(yn.Network,"Lost connection to server."),this.disconnect())}),e.on(Vs.Close,()=>{this.disconnected||this._abort(yn.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const n=e.type,s=e.payload,a=e.src;switch(n){case In.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case In.Error:this._abort(yn.ServerError,s.msg);break;case In.IdTaken:this._abort(yn.UnavailableID,`ID "${this.id}" is taken`);break;case In.InvalidKey:this._abort(yn.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case In.Leave:Ye.log(`Received leave message from ${a}`),this._cleanupPeer(a),this._connections.delete(a);break;case In.Expire:this.emitError(yn.PeerUnavailable,`Could not connect to peer ${a}`);break;case In.Offer:{const c=s.connectionId;let u=this.getConnection(a,c);if(u&&(u.close(),Ye.warn(`Offer received for existing Connection ID:${c}`)),s.type===Ys.Media){const d=new df(a,this,{connectionId:c,_payload:s,metadata:s.metadata});u=d,this._addConnection(a,u),this.emit("call",d)}else if(s.type===Ys.Data){const d=new this._serializers[s.serialization](a,this,{connectionId:c,_payload:s,metadata:s.metadata,label:s.label,serialization:s.serialization,reliable:s.reliable});u=d,this._addConnection(a,u),this.emit("connection",d)}else{Ye.warn(`Received malformed connection type:${s.type}`);return}const f=this._getMessages(c);for(const d of f)u.handleMessage(d);break}default:{if(!s){Ye.warn(`You received a malformed message from ${a} of type ${n}`);return}const c=s.connectionId,u=this.getConnection(a,c);u&&u.peerConnection?u.handleMessage(e):c?this._storeMessage(c,e):Ye.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,n){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(n)}_getMessages(e){const n=this._lostMessages.get(e);return n?(this._lostMessages.delete(e),n):[]}connect(e,n={}){if(n={serialization:"default",...n},this.disconnected){Ye.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(yn.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const s=new this._serializers[n.serialization](e,this,n);return this._addConnection(e,s),s}call(e,n,s={}){if(this.disconnected){Ye.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(yn.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){Ye.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const a=new df(e,this,{...s,_stream:n});return this._addConnection(e,a),a}_addConnection(e,n){Ye.log(`add connection ${n.type}:${n.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(n)}_removeConnection(e){const n=this._connections.get(e.peer);if(n){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,n){const s=this._connections.get(e);if(!s)return null;for(const a of s)if(a.connectionId===n)return a;return null}_delayedAbort(e,n){setTimeout(()=>{this._abort(e,n)},0)}_abort(e,n){Ye.error("Aborting!"),this.emitError(e,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(Ye.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const n=this._connections.get(e);if(n)for(const s of n)s.close()}disconnect(){if(this.disconnected)return;const e=this.id;Ye.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)Ye.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)Ye.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=n=>{}){this._api.listAllPeers().then(n=>e(n)).catch(n=>this._abort(yn.ServerError,n))}}class WC extends ia{constructor(e,n,s){super(e,n,{...s,reliable:!0}),this._CHUNK_SIZE=32768,this._splitStream=new TransformStream({transform:(a,c)=>{for(let u=0;u<a.length;u+=this._CHUNK_SIZE)c.enqueue(a.subarray(u,u+this._CHUNK_SIZE))}}),this._rawSendStream=new WritableStream({write:async(a,c)=>{const u=new Promise(f=>this.dataChannel.addEventListener("bufferedamountlow",f,{once:!0}));await(this.dataChannel.bufferedAmount<=ia.MAX_BUFFERED_AMOUNT-a.byteLength||u);try{this.dataChannel.send(a)}catch(f){Ye.error(`DC#:${this.connectionId} Error when sending:`,f),c.error(f),this.close()}}}),this.writer=this._splitStream.writable.getWriter(),this._rawReadStream=new ReadableStream({start:a=>{this.once("open",()=>{this.dataChannel.addEventListener("message",c=>{a.enqueue(c.data)})})}}),this._splitStream.readable.pipeTo(this._rawSendStream)}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.bufferedAmountLowThreshold=ia.MAX_BUFFERED_AMOUNT/2}}class Pm extends WC{constructor(e,n,s){super(e,n,s),this.serialization="MsgPack",this._encoder=new DD,(async()=>{for await(const a of QD(this._rawReadStream)){if(a.__peerData?.type==="close"){this.close();return}this.emit("data",a)}})()}_send(e){return this.writer.write(this._encoder.encode(e))}}class c4 extends Xc{constructor(...e){super(...e),this._serializers={MsgPack:Pm,default:Pm}}}var l4=Xc;const u4=Object.freeze(Object.defineProperty({__proto__:null,BaseConnectionErrorType:ff,BufferedConnection:Vf,ConnectionType:Ys,DataConnectionErrorType:$f,MsgPack:Pm,MsgPackPeer:c4,Peer:Xc,PeerError:ZC,PeerErrorType:yn,SerializationType:Kc,ServerMessageType:In,SocketEventType:Vs,StreamConnection:WC,default:l4,util:Jn},Symbol.toStringTag,{value:"Module"})),f4=bf(u4);function d4(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Dp={exports:{}};const h4={},p4=Object.freeze(Object.defineProperty({__proto__:null,default:h4},Symbol.toStringTag,{value:"Module"})),m4=bf(p4);var m1;function eE(){return m1||(m1=1,(function(t){(function(e){var n=function(_){var R,A=new Float64Array(16);if(_)for(R=0;R<_.length;R++)A[R]=_[R];return A},s=function(){throw new Error("no PRNG")},a=new Uint8Array(16),c=new Uint8Array(32);c[0]=9;var u=n(),f=n([1]),d=n([56129,1]),h=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),y=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),g=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),v=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),S=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function C(_,R,A,x){_[R]=A>>24&255,_[R+1]=A>>16&255,_[R+2]=A>>8&255,_[R+3]=A&255,_[R+4]=x>>24&255,_[R+5]=x>>16&255,_[R+6]=x>>8&255,_[R+7]=x&255}function E(_,R,A,x,N){var $,V=0;for($=0;$<N;$++)V|=_[R+$]^A[x+$];return(1&V-1>>>8)-1}function M(_,R,A,x){return E(_,R,A,x,16)}function P(_,R,A,x){return E(_,R,A,x,32)}function D(_,R,A,x){for(var N=x[0]&255|(x[1]&255)<<8|(x[2]&255)<<16|(x[3]&255)<<24,$=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,V=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,oe=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,_e=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,Ie=x[4]&255|(x[5]&255)<<8|(x[6]&255)<<16|(x[7]&255)<<24,Oe=R[0]&255|(R[1]&255)<<8|(R[2]&255)<<16|(R[3]&255)<<24,Mt=R[4]&255|(R[5]&255)<<8|(R[6]&255)<<16|(R[7]&255)<<24,De=R[8]&255|(R[9]&255)<<8|(R[10]&255)<<16|(R[11]&255)<<24,Je=R[12]&255|(R[13]&255)<<8|(R[14]&255)<<16|(R[15]&255)<<24,nt=x[8]&255|(x[9]&255)<<8|(x[10]&255)<<16|(x[11]&255)<<24,st=A[16]&255|(A[17]&255)<<8|(A[18]&255)<<16|(A[19]&255)<<24,rt=A[20]&255|(A[21]&255)<<8|(A[22]&255)<<16|(A[23]&255)<<24,We=A[24]&255|(A[25]&255)<<8|(A[26]&255)<<16|(A[27]&255)<<24,et=A[28]&255|(A[29]&255)<<8|(A[30]&255)<<16|(A[31]&255)<<24,Be=x[12]&255|(x[13]&255)<<8|(x[14]&255)<<16|(x[15]&255)<<24,Ue=N,Ke=$,Re=V,Pe=oe,Ve=_e,Ae=Ie,ne=Oe,re=Mt,ve=De,fe=Je,le=nt,ge=st,Xe=rt,ut=We,ot=et,ct=Be,U,pt=0;pt<20;pt+=2)U=Ue+Xe|0,Ve^=U<<7|U>>>25,U=Ve+Ue|0,ve^=U<<9|U>>>23,U=ve+Ve|0,Xe^=U<<13|U>>>19,U=Xe+ve|0,Ue^=U<<18|U>>>14,U=Ae+Ke|0,fe^=U<<7|U>>>25,U=fe+Ae|0,ut^=U<<9|U>>>23,U=ut+fe|0,Ke^=U<<13|U>>>19,U=Ke+ut|0,Ae^=U<<18|U>>>14,U=le+ne|0,ot^=U<<7|U>>>25,U=ot+le|0,Re^=U<<9|U>>>23,U=Re+ot|0,ne^=U<<13|U>>>19,U=ne+Re|0,le^=U<<18|U>>>14,U=ct+ge|0,Pe^=U<<7|U>>>25,U=Pe+ct|0,re^=U<<9|U>>>23,U=re+Pe|0,ge^=U<<13|U>>>19,U=ge+re|0,ct^=U<<18|U>>>14,U=Ue+Pe|0,Ke^=U<<7|U>>>25,U=Ke+Ue|0,Re^=U<<9|U>>>23,U=Re+Ke|0,Pe^=U<<13|U>>>19,U=Pe+Re|0,Ue^=U<<18|U>>>14,U=Ae+Ve|0,ne^=U<<7|U>>>25,U=ne+Ae|0,re^=U<<9|U>>>23,U=re+ne|0,Ve^=U<<13|U>>>19,U=Ve+re|0,Ae^=U<<18|U>>>14,U=le+fe|0,ge^=U<<7|U>>>25,U=ge+le|0,ve^=U<<9|U>>>23,U=ve+ge|0,fe^=U<<13|U>>>19,U=fe+ve|0,le^=U<<18|U>>>14,U=ct+ot|0,Xe^=U<<7|U>>>25,U=Xe+ct|0,ut^=U<<9|U>>>23,U=ut+Xe|0,ot^=U<<13|U>>>19,U=ot+ut|0,ct^=U<<18|U>>>14;Ue=Ue+N|0,Ke=Ke+$|0,Re=Re+V|0,Pe=Pe+oe|0,Ve=Ve+_e|0,Ae=Ae+Ie|0,ne=ne+Oe|0,re=re+Mt|0,ve=ve+De|0,fe=fe+Je|0,le=le+nt|0,ge=ge+st|0,Xe=Xe+rt|0,ut=ut+We|0,ot=ot+et|0,ct=ct+Be|0,_[0]=Ue>>>0&255,_[1]=Ue>>>8&255,_[2]=Ue>>>16&255,_[3]=Ue>>>24&255,_[4]=Ke>>>0&255,_[5]=Ke>>>8&255,_[6]=Ke>>>16&255,_[7]=Ke>>>24&255,_[8]=Re>>>0&255,_[9]=Re>>>8&255,_[10]=Re>>>16&255,_[11]=Re>>>24&255,_[12]=Pe>>>0&255,_[13]=Pe>>>8&255,_[14]=Pe>>>16&255,_[15]=Pe>>>24&255,_[16]=Ve>>>0&255,_[17]=Ve>>>8&255,_[18]=Ve>>>16&255,_[19]=Ve>>>24&255,_[20]=Ae>>>0&255,_[21]=Ae>>>8&255,_[22]=Ae>>>16&255,_[23]=Ae>>>24&255,_[24]=ne>>>0&255,_[25]=ne>>>8&255,_[26]=ne>>>16&255,_[27]=ne>>>24&255,_[28]=re>>>0&255,_[29]=re>>>8&255,_[30]=re>>>16&255,_[31]=re>>>24&255,_[32]=ve>>>0&255,_[33]=ve>>>8&255,_[34]=ve>>>16&255,_[35]=ve>>>24&255,_[36]=fe>>>0&255,_[37]=fe>>>8&255,_[38]=fe>>>16&255,_[39]=fe>>>24&255,_[40]=le>>>0&255,_[41]=le>>>8&255,_[42]=le>>>16&255,_[43]=le>>>24&255,_[44]=ge>>>0&255,_[45]=ge>>>8&255,_[46]=ge>>>16&255,_[47]=ge>>>24&255,_[48]=Xe>>>0&255,_[49]=Xe>>>8&255,_[50]=Xe>>>16&255,_[51]=Xe>>>24&255,_[52]=ut>>>0&255,_[53]=ut>>>8&255,_[54]=ut>>>16&255,_[55]=ut>>>24&255,_[56]=ot>>>0&255,_[57]=ot>>>8&255,_[58]=ot>>>16&255,_[59]=ot>>>24&255,_[60]=ct>>>0&255,_[61]=ct>>>8&255,_[62]=ct>>>16&255,_[63]=ct>>>24&255}function k(_,R,A,x){for(var N=x[0]&255|(x[1]&255)<<8|(x[2]&255)<<16|(x[3]&255)<<24,$=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,V=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,oe=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,_e=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,Ie=x[4]&255|(x[5]&255)<<8|(x[6]&255)<<16|(x[7]&255)<<24,Oe=R[0]&255|(R[1]&255)<<8|(R[2]&255)<<16|(R[3]&255)<<24,Mt=R[4]&255|(R[5]&255)<<8|(R[6]&255)<<16|(R[7]&255)<<24,De=R[8]&255|(R[9]&255)<<8|(R[10]&255)<<16|(R[11]&255)<<24,Je=R[12]&255|(R[13]&255)<<8|(R[14]&255)<<16|(R[15]&255)<<24,nt=x[8]&255|(x[9]&255)<<8|(x[10]&255)<<16|(x[11]&255)<<24,st=A[16]&255|(A[17]&255)<<8|(A[18]&255)<<16|(A[19]&255)<<24,rt=A[20]&255|(A[21]&255)<<8|(A[22]&255)<<16|(A[23]&255)<<24,We=A[24]&255|(A[25]&255)<<8|(A[26]&255)<<16|(A[27]&255)<<24,et=A[28]&255|(A[29]&255)<<8|(A[30]&255)<<16|(A[31]&255)<<24,Be=x[12]&255|(x[13]&255)<<8|(x[14]&255)<<16|(x[15]&255)<<24,Ue=N,Ke=$,Re=V,Pe=oe,Ve=_e,Ae=Ie,ne=Oe,re=Mt,ve=De,fe=Je,le=nt,ge=st,Xe=rt,ut=We,ot=et,ct=Be,U,pt=0;pt<20;pt+=2)U=Ue+Xe|0,Ve^=U<<7|U>>>25,U=Ve+Ue|0,ve^=U<<9|U>>>23,U=ve+Ve|0,Xe^=U<<13|U>>>19,U=Xe+ve|0,Ue^=U<<18|U>>>14,U=Ae+Ke|0,fe^=U<<7|U>>>25,U=fe+Ae|0,ut^=U<<9|U>>>23,U=ut+fe|0,Ke^=U<<13|U>>>19,U=Ke+ut|0,Ae^=U<<18|U>>>14,U=le+ne|0,ot^=U<<7|U>>>25,U=ot+le|0,Re^=U<<9|U>>>23,U=Re+ot|0,ne^=U<<13|U>>>19,U=ne+Re|0,le^=U<<18|U>>>14,U=ct+ge|0,Pe^=U<<7|U>>>25,U=Pe+ct|0,re^=U<<9|U>>>23,U=re+Pe|0,ge^=U<<13|U>>>19,U=ge+re|0,ct^=U<<18|U>>>14,U=Ue+Pe|0,Ke^=U<<7|U>>>25,U=Ke+Ue|0,Re^=U<<9|U>>>23,U=Re+Ke|0,Pe^=U<<13|U>>>19,U=Pe+Re|0,Ue^=U<<18|U>>>14,U=Ae+Ve|0,ne^=U<<7|U>>>25,U=ne+Ae|0,re^=U<<9|U>>>23,U=re+ne|0,Ve^=U<<13|U>>>19,U=Ve+re|0,Ae^=U<<18|U>>>14,U=le+fe|0,ge^=U<<7|U>>>25,U=ge+le|0,ve^=U<<9|U>>>23,U=ve+ge|0,fe^=U<<13|U>>>19,U=fe+ve|0,le^=U<<18|U>>>14,U=ct+ot|0,Xe^=U<<7|U>>>25,U=Xe+ct|0,ut^=U<<9|U>>>23,U=ut+Xe|0,ot^=U<<13|U>>>19,U=ot+ut|0,ct^=U<<18|U>>>14;_[0]=Ue>>>0&255,_[1]=Ue>>>8&255,_[2]=Ue>>>16&255,_[3]=Ue>>>24&255,_[4]=Ae>>>0&255,_[5]=Ae>>>8&255,_[6]=Ae>>>16&255,_[7]=Ae>>>24&255,_[8]=le>>>0&255,_[9]=le>>>8&255,_[10]=le>>>16&255,_[11]=le>>>24&255,_[12]=ct>>>0&255,_[13]=ct>>>8&255,_[14]=ct>>>16&255,_[15]=ct>>>24&255,_[16]=ne>>>0&255,_[17]=ne>>>8&255,_[18]=ne>>>16&255,_[19]=ne>>>24&255,_[20]=re>>>0&255,_[21]=re>>>8&255,_[22]=re>>>16&255,_[23]=re>>>24&255,_[24]=ve>>>0&255,_[25]=ve>>>8&255,_[26]=ve>>>16&255,_[27]=ve>>>24&255,_[28]=fe>>>0&255,_[29]=fe>>>8&255,_[30]=fe>>>16&255,_[31]=fe>>>24&255}function j(_,R,A,x){D(_,R,A,x)}function Y(_,R,A,x){k(_,R,A,x)}var W=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function F(_,R,A,x,N,$,V){var oe=new Uint8Array(16),_e=new Uint8Array(64),Ie,Oe;for(Oe=0;Oe<16;Oe++)oe[Oe]=0;for(Oe=0;Oe<8;Oe++)oe[Oe]=$[Oe];for(;N>=64;){for(j(_e,oe,V,W),Oe=0;Oe<64;Oe++)_[R+Oe]=A[x+Oe]^_e[Oe];for(Ie=1,Oe=8;Oe<16;Oe++)Ie=Ie+(oe[Oe]&255)|0,oe[Oe]=Ie&255,Ie>>>=8;N-=64,R+=64,x+=64}if(N>0)for(j(_e,oe,V,W),Oe=0;Oe<N;Oe++)_[R+Oe]=A[x+Oe]^_e[Oe];return 0}function X(_,R,A,x,N){var $=new Uint8Array(16),V=new Uint8Array(64),oe,_e;for(_e=0;_e<16;_e++)$[_e]=0;for(_e=0;_e<8;_e++)$[_e]=x[_e];for(;A>=64;){for(j(V,$,N,W),_e=0;_e<64;_e++)_[R+_e]=V[_e];for(oe=1,_e=8;_e<16;_e++)oe=oe+($[_e]&255)|0,$[_e]=oe&255,oe>>>=8;A-=64,R+=64}if(A>0)for(j(V,$,N,W),_e=0;_e<A;_e++)_[R+_e]=V[_e];return 0}function me(_,R,A,x,N){var $=new Uint8Array(32);Y($,x,N,W);for(var V=new Uint8Array(8),oe=0;oe<8;oe++)V[oe]=x[oe+16];return X(_,R,A,V,$)}function xe(_,R,A,x,N,$,V){var oe=new Uint8Array(32);Y(oe,$,V,W);for(var _e=new Uint8Array(8),Ie=0;Ie<8;Ie++)_e[Ie]=$[Ie+16];return F(_,R,A,x,N,_e,oe)}var Se=function(_){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var R,A,x,N,$,V,oe,_e;R=_[0]&255|(_[1]&255)<<8,this.r[0]=R&8191,A=_[2]&255|(_[3]&255)<<8,this.r[1]=(R>>>13|A<<3)&8191,x=_[4]&255|(_[5]&255)<<8,this.r[2]=(A>>>10|x<<6)&7939,N=_[6]&255|(_[7]&255)<<8,this.r[3]=(x>>>7|N<<9)&8191,$=_[8]&255|(_[9]&255)<<8,this.r[4]=(N>>>4|$<<12)&255,this.r[5]=$>>>1&8190,V=_[10]&255|(_[11]&255)<<8,this.r[6]=($>>>14|V<<2)&8191,oe=_[12]&255|(_[13]&255)<<8,this.r[7]=(V>>>11|oe<<5)&8065,_e=_[14]&255|(_[15]&255)<<8,this.r[8]=(oe>>>8|_e<<8)&8191,this.r[9]=_e>>>5&127,this.pad[0]=_[16]&255|(_[17]&255)<<8,this.pad[1]=_[18]&255|(_[19]&255)<<8,this.pad[2]=_[20]&255|(_[21]&255)<<8,this.pad[3]=_[22]&255|(_[23]&255)<<8,this.pad[4]=_[24]&255|(_[25]&255)<<8,this.pad[5]=_[26]&255|(_[27]&255)<<8,this.pad[6]=_[28]&255|(_[29]&255)<<8,this.pad[7]=_[30]&255|(_[31]&255)<<8};Se.prototype.blocks=function(_,R,A){for(var x=this.fin?0:2048,N,$,V,oe,_e,Ie,Oe,Mt,De,Je,nt,st,rt,We,et,Be,Ue,Ke,Re,Pe=this.h[0],Ve=this.h[1],Ae=this.h[2],ne=this.h[3],re=this.h[4],ve=this.h[5],fe=this.h[6],le=this.h[7],ge=this.h[8],Xe=this.h[9],ut=this.r[0],ot=this.r[1],ct=this.r[2],U=this.r[3],pt=this.r[4],at=this.r[5],wt=this.r[6],dt=this.r[7],_t=this.r[8],mt=this.r[9];A>=16;)N=_[R+0]&255|(_[R+1]&255)<<8,Pe+=N&8191,$=_[R+2]&255|(_[R+3]&255)<<8,Ve+=(N>>>13|$<<3)&8191,V=_[R+4]&255|(_[R+5]&255)<<8,Ae+=($>>>10|V<<6)&8191,oe=_[R+6]&255|(_[R+7]&255)<<8,ne+=(V>>>7|oe<<9)&8191,_e=_[R+8]&255|(_[R+9]&255)<<8,re+=(oe>>>4|_e<<12)&8191,ve+=_e>>>1&8191,Ie=_[R+10]&255|(_[R+11]&255)<<8,fe+=(_e>>>14|Ie<<2)&8191,Oe=_[R+12]&255|(_[R+13]&255)<<8,le+=(Ie>>>11|Oe<<5)&8191,Mt=_[R+14]&255|(_[R+15]&255)<<8,ge+=(Oe>>>8|Mt<<8)&8191,Xe+=Mt>>>5|x,De=0,Je=De,Je+=Pe*ut,Je+=Ve*(5*mt),Je+=Ae*(5*_t),Je+=ne*(5*dt),Je+=re*(5*wt),De=Je>>>13,Je&=8191,Je+=ve*(5*at),Je+=fe*(5*pt),Je+=le*(5*U),Je+=ge*(5*ct),Je+=Xe*(5*ot),De+=Je>>>13,Je&=8191,nt=De,nt+=Pe*ot,nt+=Ve*ut,nt+=Ae*(5*mt),nt+=ne*(5*_t),nt+=re*(5*dt),De=nt>>>13,nt&=8191,nt+=ve*(5*wt),nt+=fe*(5*at),nt+=le*(5*pt),nt+=ge*(5*U),nt+=Xe*(5*ct),De+=nt>>>13,nt&=8191,st=De,st+=Pe*ct,st+=Ve*ot,st+=Ae*ut,st+=ne*(5*mt),st+=re*(5*_t),De=st>>>13,st&=8191,st+=ve*(5*dt),st+=fe*(5*wt),st+=le*(5*at),st+=ge*(5*pt),st+=Xe*(5*U),De+=st>>>13,st&=8191,rt=De,rt+=Pe*U,rt+=Ve*ct,rt+=Ae*ot,rt+=ne*ut,rt+=re*(5*mt),De=rt>>>13,rt&=8191,rt+=ve*(5*_t),rt+=fe*(5*dt),rt+=le*(5*wt),rt+=ge*(5*at),rt+=Xe*(5*pt),De+=rt>>>13,rt&=8191,We=De,We+=Pe*pt,We+=Ve*U,We+=Ae*ct,We+=ne*ot,We+=re*ut,De=We>>>13,We&=8191,We+=ve*(5*mt),We+=fe*(5*_t),We+=le*(5*dt),We+=ge*(5*wt),We+=Xe*(5*at),De+=We>>>13,We&=8191,et=De,et+=Pe*at,et+=Ve*pt,et+=Ae*U,et+=ne*ct,et+=re*ot,De=et>>>13,et&=8191,et+=ve*ut,et+=fe*(5*mt),et+=le*(5*_t),et+=ge*(5*dt),et+=Xe*(5*wt),De+=et>>>13,et&=8191,Be=De,Be+=Pe*wt,Be+=Ve*at,Be+=Ae*pt,Be+=ne*U,Be+=re*ct,De=Be>>>13,Be&=8191,Be+=ve*ot,Be+=fe*ut,Be+=le*(5*mt),Be+=ge*(5*_t),Be+=Xe*(5*dt),De+=Be>>>13,Be&=8191,Ue=De,Ue+=Pe*dt,Ue+=Ve*wt,Ue+=Ae*at,Ue+=ne*pt,Ue+=re*U,De=Ue>>>13,Ue&=8191,Ue+=ve*ct,Ue+=fe*ot,Ue+=le*ut,Ue+=ge*(5*mt),Ue+=Xe*(5*_t),De+=Ue>>>13,Ue&=8191,Ke=De,Ke+=Pe*_t,Ke+=Ve*dt,Ke+=Ae*wt,Ke+=ne*at,Ke+=re*pt,De=Ke>>>13,Ke&=8191,Ke+=ve*U,Ke+=fe*ct,Ke+=le*ot,Ke+=ge*ut,Ke+=Xe*(5*mt),De+=Ke>>>13,Ke&=8191,Re=De,Re+=Pe*mt,Re+=Ve*_t,Re+=Ae*dt,Re+=ne*wt,Re+=re*at,De=Re>>>13,Re&=8191,Re+=ve*pt,Re+=fe*U,Re+=le*ct,Re+=ge*ot,Re+=Xe*ut,De+=Re>>>13,Re&=8191,De=(De<<2)+De|0,De=De+Je|0,Je=De&8191,De=De>>>13,nt+=De,Pe=Je,Ve=nt,Ae=st,ne=rt,re=We,ve=et,fe=Be,le=Ue,ge=Ke,Xe=Re,R+=16,A-=16;this.h[0]=Pe,this.h[1]=Ve,this.h[2]=Ae,this.h[3]=ne,this.h[4]=re,this.h[5]=ve,this.h[6]=fe,this.h[7]=le,this.h[8]=ge,this.h[9]=Xe},Se.prototype.finish=function(_,R){var A=new Uint16Array(10),x,N,$,V;if(this.leftover){for(V=this.leftover,this.buffer[V++]=1;V<16;V++)this.buffer[V]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(x=this.h[1]>>>13,this.h[1]&=8191,V=2;V<10;V++)this.h[V]+=x,x=this.h[V]>>>13,this.h[V]&=8191;for(this.h[0]+=x*5,x=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=x,x=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=x,A[0]=this.h[0]+5,x=A[0]>>>13,A[0]&=8191,V=1;V<10;V++)A[V]=this.h[V]+x,x=A[V]>>>13,A[V]&=8191;for(A[9]-=8192,N=(x^1)-1,V=0;V<10;V++)A[V]&=N;for(N=~N,V=0;V<10;V++)this.h[V]=this.h[V]&N|A[V];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,$=this.h[0]+this.pad[0],this.h[0]=$&65535,V=1;V<8;V++)$=(this.h[V]+this.pad[V]|0)+($>>>16)|0,this.h[V]=$&65535;_[R+0]=this.h[0]>>>0&255,_[R+1]=this.h[0]>>>8&255,_[R+2]=this.h[1]>>>0&255,_[R+3]=this.h[1]>>>8&255,_[R+4]=this.h[2]>>>0&255,_[R+5]=this.h[2]>>>8&255,_[R+6]=this.h[3]>>>0&255,_[R+7]=this.h[3]>>>8&255,_[R+8]=this.h[4]>>>0&255,_[R+9]=this.h[4]>>>8&255,_[R+10]=this.h[5]>>>0&255,_[R+11]=this.h[5]>>>8&255,_[R+12]=this.h[6]>>>0&255,_[R+13]=this.h[6]>>>8&255,_[R+14]=this.h[7]>>>0&255,_[R+15]=this.h[7]>>>8&255},Se.prototype.update=function(_,R,A){var x,N;if(this.leftover){for(N=16-this.leftover,N>A&&(N=A),x=0;x<N;x++)this.buffer[this.leftover+x]=_[R+x];if(A-=N,R+=N,this.leftover+=N,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(A>=16&&(N=A-A%16,this.blocks(_,R,N),R+=N,A-=N),A){for(x=0;x<A;x++)this.buffer[this.leftover+x]=_[R+x];this.leftover+=A}};function Ce(_,R,A,x,N,$){var V=new Se($);return V.update(A,x,N),V.finish(_,R),0}function Ee(_,R,A,x,N,$){var V=new Uint8Array(16);return Ce(V,0,A,x,N,$),M(_,R,V,0)}function be(_,R,A,x,N){var $;if(A<32)return-1;for(xe(_,0,R,0,A,x,N),Ce(_,16,_,32,A-32,_),$=0;$<16;$++)_[$]=0;return 0}function Ne(_,R,A,x,N){var $,V=new Uint8Array(32);if(A<32||(me(V,0,32,x,N),Ee(R,16,R,32,A-32,V)!==0))return-1;for(xe(_,0,R,0,A,x,N),$=0;$<32;$++)_[$]=0;return 0}function H(_,R){var A;for(A=0;A<16;A++)_[A]=R[A]|0}function ie(_){var R,A,x=1;for(R=0;R<16;R++)A=_[R]+x+65535,x=Math.floor(A/65536),_[R]=A-x*65536;_[0]+=x-1+37*(x-1)}function G(_,R,A){for(var x,N=~(A-1),$=0;$<16;$++)x=N&(_[$]^R[$]),_[$]^=x,R[$]^=x}function Me(_,R){var A,x,N,$=n(),V=n();for(A=0;A<16;A++)V[A]=R[A];for(ie(V),ie(V),ie(V),x=0;x<2;x++){for($[0]=V[0]-65517,A=1;A<15;A++)$[A]=V[A]-65535-($[A-1]>>16&1),$[A-1]&=65535;$[15]=V[15]-32767-($[14]>>16&1),N=$[15]>>16&1,$[14]&=65535,G(V,$,1-N)}for(A=0;A<16;A++)_[2*A]=V[A]&255,_[2*A+1]=V[A]>>8}function Ze(_,R){var A=new Uint8Array(32),x=new Uint8Array(32);return Me(A,_),Me(x,R),P(A,0,x,0)}function L(_){var R=new Uint8Array(32);return Me(R,_),R[0]&1}function te(_,R){var A;for(A=0;A<16;A++)_[A]=R[2*A]+(R[2*A+1]<<8);_[15]&=32767}function ae(_,R,A){for(var x=0;x<16;x++)_[x]=R[x]+A[x]}function pe(_,R,A){for(var x=0;x<16;x++)_[x]=R[x]-A[x]}function ye(_,R,A){var x,N,$=0,V=0,oe=0,_e=0,Ie=0,Oe=0,Mt=0,De=0,Je=0,nt=0,st=0,rt=0,We=0,et=0,Be=0,Ue=0,Ke=0,Re=0,Pe=0,Ve=0,Ae=0,ne=0,re=0,ve=0,fe=0,le=0,ge=0,Xe=0,ut=0,ot=0,ct=0,U=A[0],pt=A[1],at=A[2],wt=A[3],dt=A[4],_t=A[5],mt=A[6],rn=A[7],Dt=A[8],Ht=A[9],sn=A[10],Jt=A[11],cn=A[12],xn=A[13],Nn=A[14],Dn=A[15];x=R[0],$+=x*U,V+=x*pt,oe+=x*at,_e+=x*wt,Ie+=x*dt,Oe+=x*_t,Mt+=x*mt,De+=x*rn,Je+=x*Dt,nt+=x*Ht,st+=x*sn,rt+=x*Jt,We+=x*cn,et+=x*xn,Be+=x*Nn,Ue+=x*Dn,x=R[1],V+=x*U,oe+=x*pt,_e+=x*at,Ie+=x*wt,Oe+=x*dt,Mt+=x*_t,De+=x*mt,Je+=x*rn,nt+=x*Dt,st+=x*Ht,rt+=x*sn,We+=x*Jt,et+=x*cn,Be+=x*xn,Ue+=x*Nn,Ke+=x*Dn,x=R[2],oe+=x*U,_e+=x*pt,Ie+=x*at,Oe+=x*wt,Mt+=x*dt,De+=x*_t,Je+=x*mt,nt+=x*rn,st+=x*Dt,rt+=x*Ht,We+=x*sn,et+=x*Jt,Be+=x*cn,Ue+=x*xn,Ke+=x*Nn,Re+=x*Dn,x=R[3],_e+=x*U,Ie+=x*pt,Oe+=x*at,Mt+=x*wt,De+=x*dt,Je+=x*_t,nt+=x*mt,st+=x*rn,rt+=x*Dt,We+=x*Ht,et+=x*sn,Be+=x*Jt,Ue+=x*cn,Ke+=x*xn,Re+=x*Nn,Pe+=x*Dn,x=R[4],Ie+=x*U,Oe+=x*pt,Mt+=x*at,De+=x*wt,Je+=x*dt,nt+=x*_t,st+=x*mt,rt+=x*rn,We+=x*Dt,et+=x*Ht,Be+=x*sn,Ue+=x*Jt,Ke+=x*cn,Re+=x*xn,Pe+=x*Nn,Ve+=x*Dn,x=R[5],Oe+=x*U,Mt+=x*pt,De+=x*at,Je+=x*wt,nt+=x*dt,st+=x*_t,rt+=x*mt,We+=x*rn,et+=x*Dt,Be+=x*Ht,Ue+=x*sn,Ke+=x*Jt,Re+=x*cn,Pe+=x*xn,Ve+=x*Nn,Ae+=x*Dn,x=R[6],Mt+=x*U,De+=x*pt,Je+=x*at,nt+=x*wt,st+=x*dt,rt+=x*_t,We+=x*mt,et+=x*rn,Be+=x*Dt,Ue+=x*Ht,Ke+=x*sn,Re+=x*Jt,Pe+=x*cn,Ve+=x*xn,Ae+=x*Nn,ne+=x*Dn,x=R[7],De+=x*U,Je+=x*pt,nt+=x*at,st+=x*wt,rt+=x*dt,We+=x*_t,et+=x*mt,Be+=x*rn,Ue+=x*Dt,Ke+=x*Ht,Re+=x*sn,Pe+=x*Jt,Ve+=x*cn,Ae+=x*xn,ne+=x*Nn,re+=x*Dn,x=R[8],Je+=x*U,nt+=x*pt,st+=x*at,rt+=x*wt,We+=x*dt,et+=x*_t,Be+=x*mt,Ue+=x*rn,Ke+=x*Dt,Re+=x*Ht,Pe+=x*sn,Ve+=x*Jt,Ae+=x*cn,ne+=x*xn,re+=x*Nn,ve+=x*Dn,x=R[9],nt+=x*U,st+=x*pt,rt+=x*at,We+=x*wt,et+=x*dt,Be+=x*_t,Ue+=x*mt,Ke+=x*rn,Re+=x*Dt,Pe+=x*Ht,Ve+=x*sn,Ae+=x*Jt,ne+=x*cn,re+=x*xn,ve+=x*Nn,fe+=x*Dn,x=R[10],st+=x*U,rt+=x*pt,We+=x*at,et+=x*wt,Be+=x*dt,Ue+=x*_t,Ke+=x*mt,Re+=x*rn,Pe+=x*Dt,Ve+=x*Ht,Ae+=x*sn,ne+=x*Jt,re+=x*cn,ve+=x*xn,fe+=x*Nn,le+=x*Dn,x=R[11],rt+=x*U,We+=x*pt,et+=x*at,Be+=x*wt,Ue+=x*dt,Ke+=x*_t,Re+=x*mt,Pe+=x*rn,Ve+=x*Dt,Ae+=x*Ht,ne+=x*sn,re+=x*Jt,ve+=x*cn,fe+=x*xn,le+=x*Nn,ge+=x*Dn,x=R[12],We+=x*U,et+=x*pt,Be+=x*at,Ue+=x*wt,Ke+=x*dt,Re+=x*_t,Pe+=x*mt,Ve+=x*rn,Ae+=x*Dt,ne+=x*Ht,re+=x*sn,ve+=x*Jt,fe+=x*cn,le+=x*xn,ge+=x*Nn,Xe+=x*Dn,x=R[13],et+=x*U,Be+=x*pt,Ue+=x*at,Ke+=x*wt,Re+=x*dt,Pe+=x*_t,Ve+=x*mt,Ae+=x*rn,ne+=x*Dt,re+=x*Ht,ve+=x*sn,fe+=x*Jt,le+=x*cn,ge+=x*xn,Xe+=x*Nn,ut+=x*Dn,x=R[14],Be+=x*U,Ue+=x*pt,Ke+=x*at,Re+=x*wt,Pe+=x*dt,Ve+=x*_t,Ae+=x*mt,ne+=x*rn,re+=x*Dt,ve+=x*Ht,fe+=x*sn,le+=x*Jt,ge+=x*cn,Xe+=x*xn,ut+=x*Nn,ot+=x*Dn,x=R[15],Ue+=x*U,Ke+=x*pt,Re+=x*at,Pe+=x*wt,Ve+=x*dt,Ae+=x*_t,ne+=x*mt,re+=x*rn,ve+=x*Dt,fe+=x*Ht,le+=x*sn,ge+=x*Jt,Xe+=x*cn,ut+=x*xn,ot+=x*Nn,ct+=x*Dn,$+=38*Ke,V+=38*Re,oe+=38*Pe,_e+=38*Ve,Ie+=38*Ae,Oe+=38*ne,Mt+=38*re,De+=38*ve,Je+=38*fe,nt+=38*le,st+=38*ge,rt+=38*Xe,We+=38*ut,et+=38*ot,Be+=38*ct,N=1,x=$+N+65535,N=Math.floor(x/65536),$=x-N*65536,x=V+N+65535,N=Math.floor(x/65536),V=x-N*65536,x=oe+N+65535,N=Math.floor(x/65536),oe=x-N*65536,x=_e+N+65535,N=Math.floor(x/65536),_e=x-N*65536,x=Ie+N+65535,N=Math.floor(x/65536),Ie=x-N*65536,x=Oe+N+65535,N=Math.floor(x/65536),Oe=x-N*65536,x=Mt+N+65535,N=Math.floor(x/65536),Mt=x-N*65536,x=De+N+65535,N=Math.floor(x/65536),De=x-N*65536,x=Je+N+65535,N=Math.floor(x/65536),Je=x-N*65536,x=nt+N+65535,N=Math.floor(x/65536),nt=x-N*65536,x=st+N+65535,N=Math.floor(x/65536),st=x-N*65536,x=rt+N+65535,N=Math.floor(x/65536),rt=x-N*65536,x=We+N+65535,N=Math.floor(x/65536),We=x-N*65536,x=et+N+65535,N=Math.floor(x/65536),et=x-N*65536,x=Be+N+65535,N=Math.floor(x/65536),Be=x-N*65536,x=Ue+N+65535,N=Math.floor(x/65536),Ue=x-N*65536,$+=N-1+37*(N-1),N=1,x=$+N+65535,N=Math.floor(x/65536),$=x-N*65536,x=V+N+65535,N=Math.floor(x/65536),V=x-N*65536,x=oe+N+65535,N=Math.floor(x/65536),oe=x-N*65536,x=_e+N+65535,N=Math.floor(x/65536),_e=x-N*65536,x=Ie+N+65535,N=Math.floor(x/65536),Ie=x-N*65536,x=Oe+N+65535,N=Math.floor(x/65536),Oe=x-N*65536,x=Mt+N+65535,N=Math.floor(x/65536),Mt=x-N*65536,x=De+N+65535,N=Math.floor(x/65536),De=x-N*65536,x=Je+N+65535,N=Math.floor(x/65536),Je=x-N*65536,x=nt+N+65535,N=Math.floor(x/65536),nt=x-N*65536,x=st+N+65535,N=Math.floor(x/65536),st=x-N*65536,x=rt+N+65535,N=Math.floor(x/65536),rt=x-N*65536,x=We+N+65535,N=Math.floor(x/65536),We=x-N*65536,x=et+N+65535,N=Math.floor(x/65536),et=x-N*65536,x=Be+N+65535,N=Math.floor(x/65536),Be=x-N*65536,x=Ue+N+65535,N=Math.floor(x/65536),Ue=x-N*65536,$+=N-1+37*(N-1),_[0]=$,_[1]=V,_[2]=oe,_[3]=_e,_[4]=Ie,_[5]=Oe,_[6]=Mt,_[7]=De,_[8]=Je,_[9]=nt,_[10]=st,_[11]=rt,_[12]=We,_[13]=et,_[14]=Be,_[15]=Ue}function Te(_,R){ye(_,R,R)}function je(_,R){var A=n(),x;for(x=0;x<16;x++)A[x]=R[x];for(x=253;x>=0;x--)Te(A,A),x!==2&&x!==4&&ye(A,A,R);for(x=0;x<16;x++)_[x]=A[x]}function xt(_,R){var A=n(),x;for(x=0;x<16;x++)A[x]=R[x];for(x=250;x>=0;x--)Te(A,A),x!==1&&ye(A,A,R);for(x=0;x<16;x++)_[x]=A[x]}function I(_,R,A){var x=new Uint8Array(32),N=new Float64Array(80),$,V,oe=n(),_e=n(),Ie=n(),Oe=n(),Mt=n(),De=n();for(V=0;V<31;V++)x[V]=R[V];for(x[31]=R[31]&127|64,x[0]&=248,te(N,A),V=0;V<16;V++)_e[V]=N[V],Oe[V]=oe[V]=Ie[V]=0;for(oe[0]=Oe[0]=1,V=254;V>=0;--V)$=x[V>>>3]>>>(V&7)&1,G(oe,_e,$),G(Ie,Oe,$),ae(Mt,oe,Ie),pe(oe,oe,Ie),ae(Ie,_e,Oe),pe(_e,_e,Oe),Te(Oe,Mt),Te(De,oe),ye(oe,Ie,oe),ye(Ie,_e,Mt),ae(Mt,oe,Ie),pe(oe,oe,Ie),Te(_e,oe),pe(Ie,Oe,De),ye(oe,Ie,d),ae(oe,oe,Oe),ye(Ie,Ie,oe),ye(oe,Oe,De),ye(Oe,_e,N),Te(_e,Mt),G(oe,_e,$),G(Ie,Oe,$);for(V=0;V<16;V++)N[V+16]=oe[V],N[V+32]=Ie[V],N[V+48]=_e[V],N[V+64]=Oe[V];var Je=N.subarray(32),nt=N.subarray(16);return je(Je,Je),ye(nt,nt,Je),Me(_,nt),0}function K(_,R){return I(_,R,c)}function de(_,R){return s(R,32),K(_,R)}function Le(_,R,A){var x=new Uint8Array(32);return I(x,A,R),Y(_,a,x,W)}var $e=be,ze=Ne;function bt(_,R,A,x,N,$){var V=new Uint8Array(32);return Le(V,N,$),$e(_,R,A,x,V)}function gt(_,R,A,x,N,$){var V=new Uint8Array(32);return Le(V,N,$),ze(_,R,A,x,V)}var qt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function St(_,R,A,x){for(var N=new Int32Array(16),$=new Int32Array(16),V,oe,_e,Ie,Oe,Mt,De,Je,nt,st,rt,We,et,Be,Ue,Ke,Re,Pe,Ve,Ae,ne,re,ve,fe,le,ge,Xe=_[0],ut=_[1],ot=_[2],ct=_[3],U=_[4],pt=_[5],at=_[6],wt=_[7],dt=R[0],_t=R[1],mt=R[2],rn=R[3],Dt=R[4],Ht=R[5],sn=R[6],Jt=R[7],cn=0;x>=128;){for(Ve=0;Ve<16;Ve++)Ae=8*Ve+cn,N[Ve]=A[Ae+0]<<24|A[Ae+1]<<16|A[Ae+2]<<8|A[Ae+3],$[Ve]=A[Ae+4]<<24|A[Ae+5]<<16|A[Ae+6]<<8|A[Ae+7];for(Ve=0;Ve<80;Ve++)if(V=Xe,oe=ut,_e=ot,Ie=ct,Oe=U,Mt=pt,De=at,Je=wt,nt=dt,st=_t,rt=mt,We=rn,et=Dt,Be=Ht,Ue=sn,Ke=Jt,ne=wt,re=Jt,ve=re&65535,fe=re>>>16,le=ne&65535,ge=ne>>>16,ne=(U>>>14|Dt<<18)^(U>>>18|Dt<<14)^(Dt>>>9|U<<23),re=(Dt>>>14|U<<18)^(Dt>>>18|U<<14)^(U>>>9|Dt<<23),ve+=re&65535,fe+=re>>>16,le+=ne&65535,ge+=ne>>>16,ne=U&pt^~U&at,re=Dt&Ht^~Dt&sn,ve+=re&65535,fe+=re>>>16,le+=ne&65535,ge+=ne>>>16,ne=qt[Ve*2],re=qt[Ve*2+1],ve+=re&65535,fe+=re>>>16,le+=ne&65535,ge+=ne>>>16,ne=N[Ve%16],re=$[Ve%16],ve+=re&65535,fe+=re>>>16,le+=ne&65535,ge+=ne>>>16,fe+=ve>>>16,le+=fe>>>16,ge+=le>>>16,Re=le&65535|ge<<16,Pe=ve&65535|fe<<16,ne=Re,re=Pe,ve=re&65535,fe=re>>>16,le=ne&65535,ge=ne>>>16,ne=(Xe>>>28|dt<<4)^(dt>>>2|Xe<<30)^(dt>>>7|Xe<<25),re=(dt>>>28|Xe<<4)^(Xe>>>2|dt<<30)^(Xe>>>7|dt<<25),ve+=re&65535,fe+=re>>>16,le+=ne&65535,ge+=ne>>>16,ne=Xe&ut^Xe&ot^ut&ot,re=dt&_t^dt&mt^_t&mt,ve+=re&65535,fe+=re>>>16,le+=ne&65535,ge+=ne>>>16,fe+=ve>>>16,le+=fe>>>16,ge+=le>>>16,Je=le&65535|ge<<16,Ke=ve&65535|fe<<16,ne=Ie,re=We,ve=re&65535,fe=re>>>16,le=ne&65535,ge=ne>>>16,ne=Re,re=Pe,ve+=re&65535,fe+=re>>>16,le+=ne&65535,ge+=ne>>>16,fe+=ve>>>16,le+=fe>>>16,ge+=le>>>16,Ie=le&65535|ge<<16,We=ve&65535|fe<<16,ut=V,ot=oe,ct=_e,U=Ie,pt=Oe,at=Mt,wt=De,Xe=Je,_t=nt,mt=st,rn=rt,Dt=We,Ht=et,sn=Be,Jt=Ue,dt=Ke,Ve%16===15)for(Ae=0;Ae<16;Ae++)ne=N[Ae],re=$[Ae],ve=re&65535,fe=re>>>16,le=ne&65535,ge=ne>>>16,ne=N[(Ae+9)%16],re=$[(Ae+9)%16],ve+=re&65535,fe+=re>>>16,le+=ne&65535,ge+=ne>>>16,Re=N[(Ae+1)%16],Pe=$[(Ae+1)%16],ne=(Re>>>1|Pe<<31)^(Re>>>8|Pe<<24)^Re>>>7,re=(Pe>>>1|Re<<31)^(Pe>>>8|Re<<24)^(Pe>>>7|Re<<25),ve+=re&65535,fe+=re>>>16,le+=ne&65535,ge+=ne>>>16,Re=N[(Ae+14)%16],Pe=$[(Ae+14)%16],ne=(Re>>>19|Pe<<13)^(Pe>>>29|Re<<3)^Re>>>6,re=(Pe>>>19|Re<<13)^(Re>>>29|Pe<<3)^(Pe>>>6|Re<<26),ve+=re&65535,fe+=re>>>16,le+=ne&65535,ge+=ne>>>16,fe+=ve>>>16,le+=fe>>>16,ge+=le>>>16,N[Ae]=le&65535|ge<<16,$[Ae]=ve&65535|fe<<16;ne=Xe,re=dt,ve=re&65535,fe=re>>>16,le=ne&65535,ge=ne>>>16,ne=_[0],re=R[0],ve+=re&65535,fe+=re>>>16,le+=ne&65535,ge+=ne>>>16,fe+=ve>>>16,le+=fe>>>16,ge+=le>>>16,_[0]=Xe=le&65535|ge<<16,R[0]=dt=ve&65535|fe<<16,ne=ut,re=_t,ve=re&65535,fe=re>>>16,le=ne&65535,ge=ne>>>16,ne=_[1],re=R[1],ve+=re&65535,fe+=re>>>16,le+=ne&65535,ge+=ne>>>16,fe+=ve>>>16,le+=fe>>>16,ge+=le>>>16,_[1]=ut=le&65535|ge<<16,R[1]=_t=ve&65535|fe<<16,ne=ot,re=mt,ve=re&65535,fe=re>>>16,le=ne&65535,ge=ne>>>16,ne=_[2],re=R[2],ve+=re&65535,fe+=re>>>16,le+=ne&65535,ge+=ne>>>16,fe+=ve>>>16,le+=fe>>>16,ge+=le>>>16,_[2]=ot=le&65535|ge<<16,R[2]=mt=ve&65535|fe<<16,ne=ct,re=rn,ve=re&65535,fe=re>>>16,le=ne&65535,ge=ne>>>16,ne=_[3],re=R[3],ve+=re&65535,fe+=re>>>16,le+=ne&65535,ge+=ne>>>16,fe+=ve>>>16,le+=fe>>>16,ge+=le>>>16,_[3]=ct=le&65535|ge<<16,R[3]=rn=ve&65535|fe<<16,ne=U,re=Dt,ve=re&65535,fe=re>>>16,le=ne&65535,ge=ne>>>16,ne=_[4],re=R[4],ve+=re&65535,fe+=re>>>16,le+=ne&65535,ge+=ne>>>16,fe+=ve>>>16,le+=fe>>>16,ge+=le>>>16,_[4]=U=le&65535|ge<<16,R[4]=Dt=ve&65535|fe<<16,ne=pt,re=Ht,ve=re&65535,fe=re>>>16,le=ne&65535,ge=ne>>>16,ne=_[5],re=R[5],ve+=re&65535,fe+=re>>>16,le+=ne&65535,ge+=ne>>>16,fe+=ve>>>16,le+=fe>>>16,ge+=le>>>16,_[5]=pt=le&65535|ge<<16,R[5]=Ht=ve&65535|fe<<16,ne=at,re=sn,ve=re&65535,fe=re>>>16,le=ne&65535,ge=ne>>>16,ne=_[6],re=R[6],ve+=re&65535,fe+=re>>>16,le+=ne&65535,ge+=ne>>>16,fe+=ve>>>16,le+=fe>>>16,ge+=le>>>16,_[6]=at=le&65535|ge<<16,R[6]=sn=ve&65535|fe<<16,ne=wt,re=Jt,ve=re&65535,fe=re>>>16,le=ne&65535,ge=ne>>>16,ne=_[7],re=R[7],ve+=re&65535,fe+=re>>>16,le+=ne&65535,ge+=ne>>>16,fe+=ve>>>16,le+=fe>>>16,ge+=le>>>16,_[7]=wt=le&65535|ge<<16,R[7]=Jt=ve&65535|fe<<16,cn+=128,x-=128}return x}function Tt(_,R,A){var x=new Int32Array(8),N=new Int32Array(8),$=new Uint8Array(256),V,oe=A;for(x[0]=1779033703,x[1]=3144134277,x[2]=1013904242,x[3]=2773480762,x[4]=1359893119,x[5]=2600822924,x[6]=528734635,x[7]=1541459225,N[0]=4089235720,N[1]=2227873595,N[2]=4271175723,N[3]=1595750129,N[4]=2917565137,N[5]=725511199,N[6]=4215389547,N[7]=327033209,St(x,N,R,A),A%=128,V=0;V<A;V++)$[V]=R[oe-A+V];for($[A]=128,A=256-128*(A<112?1:0),$[A-9]=0,C($,A-8,oe/536870912|0,oe<<3),St(x,N,$,A),V=0;V<8;V++)C(_,8*V,x[V],N[V]);return 0}function Ot(_,R){var A=n(),x=n(),N=n(),$=n(),V=n(),oe=n(),_e=n(),Ie=n(),Oe=n();pe(A,_[1],_[0]),pe(Oe,R[1],R[0]),ye(A,A,Oe),ae(x,_[0],_[1]),ae(Oe,R[0],R[1]),ye(x,x,Oe),ye(N,_[3],R[3]),ye(N,N,y),ye($,_[2],R[2]),ae($,$,$),pe(V,x,A),pe(oe,$,N),ae(_e,$,N),ae(Ie,x,A),ye(_[0],V,oe),ye(_[1],Ie,_e),ye(_[2],_e,oe),ye(_[3],V,Ie)}function Ft(_,R,A){var x;for(x=0;x<4;x++)G(_[x],R[x],A)}function Pn(_,R){var A=n(),x=n(),N=n();je(N,R[2]),ye(A,R[0],N),ye(x,R[1],N),Me(_,x),_[31]^=L(A)<<7}function it(_,R,A){var x,N;for(H(_[0],u),H(_[1],f),H(_[2],f),H(_[3],u),N=255;N>=0;--N)x=A[N/8|0]>>(N&7)&1,Ft(_,R,x),Ot(R,_),Ot(_,_),Ft(_,R,x)}function lt(_,R){var A=[n(),n(),n(),n()];H(A[0],g),H(A[1],v),H(A[2],f),ye(A[3],g,v),it(_,A,R)}function Yt(_,R,A){var x=new Uint8Array(64),N=[n(),n(),n(),n()],$;for(A||s(R,32),Tt(x,R,32),x[0]&=248,x[31]&=127,x[31]|=64,lt(N,x),Pn(_,N),$=0;$<32;$++)R[$+32]=_[$];return 0}var Rn=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Yn(_,R){var A,x,N,$;for(x=63;x>=32;--x){for(A=0,N=x-32,$=x-12;N<$;++N)R[N]+=A-16*R[x]*Rn[N-(x-32)],A=Math.floor((R[N]+128)/256),R[N]-=A*256;R[N]+=A,R[x]=0}for(A=0,N=0;N<32;N++)R[N]+=A-(R[31]>>4)*Rn[N],A=R[N]>>8,R[N]&=255;for(N=0;N<32;N++)R[N]-=A*Rn[N];for(x=0;x<32;x++)R[x+1]+=R[x]>>8,_[x]=R[x]&255}function An(_){var R=new Float64Array(64),A;for(A=0;A<64;A++)R[A]=_[A];for(A=0;A<64;A++)_[A]=0;Yn(_,R)}function jr(_,R,A,x){var N=new Uint8Array(64),$=new Uint8Array(64),V=new Uint8Array(64),oe,_e,Ie=new Float64Array(64),Oe=[n(),n(),n(),n()];Tt(N,x,32),N[0]&=248,N[31]&=127,N[31]|=64;var Mt=A+64;for(oe=0;oe<A;oe++)_[64+oe]=R[oe];for(oe=0;oe<32;oe++)_[32+oe]=N[32+oe];for(Tt(V,_.subarray(32),A+32),An(V),lt(Oe,V),Pn(_,Oe),oe=32;oe<64;oe++)_[oe]=x[oe];for(Tt($,_,A+64),An($),oe=0;oe<64;oe++)Ie[oe]=0;for(oe=0;oe<32;oe++)Ie[oe]=V[oe];for(oe=0;oe<32;oe++)for(_e=0;_e<32;_e++)Ie[oe+_e]+=$[oe]*N[_e];return Yn(_.subarray(32),Ie),Mt}function Qs(_,R){var A=n(),x=n(),N=n(),$=n(),V=n(),oe=n(),_e=n();return H(_[2],f),te(_[1],R),Te(N,_[1]),ye($,N,h),pe(N,N,_[2]),ae($,_[2],$),Te(V,$),Te(oe,V),ye(_e,oe,V),ye(A,_e,N),ye(A,A,$),xt(A,A),ye(A,A,N),ye(A,A,$),ye(A,A,$),ye(_[0],A,$),Te(x,_[0]),ye(x,x,$),Ze(x,N)&&ye(_[0],_[0],S),Te(x,_[0]),ye(x,x,$),Ze(x,N)?-1:(L(_[0])===R[31]>>7&&pe(_[0],u,_[0]),ye(_[3],_[0],_[1]),0)}function Zs(_,R,A,x){var N,$=new Uint8Array(32),V=new Uint8Array(64),oe=[n(),n(),n(),n()],_e=[n(),n(),n(),n()];if(A<64||Qs(_e,x))return-1;for(N=0;N<A;N++)_[N]=R[N];for(N=0;N<32;N++)_[N+32]=x[N];if(Tt(V,_,A),An(V),it(oe,_e,V),lt(_e,R.subarray(32)),Ot(oe,_e),Pn($,oe),A-=64,P(R,0,$,0)){for(N=0;N<A;N++)_[N]=0;return-1}for(N=0;N<A;N++)_[N]=R[N+64];return A}var Js=32,Gn=24,Qt=32,vn=16,hn=32,xs=32,Xr=32,Qr=32,Zr=32,bs=Gn,Ws=Qt,Lr=vn,Bn=64,Kn=32,Jr=64,Ss=32,Wr=64;e.lowlevel={crypto_core_hsalsa20:Y,crypto_stream_xor:xe,crypto_stream:me,crypto_stream_salsa20_xor:F,crypto_stream_salsa20:X,crypto_onetimeauth:Ce,crypto_onetimeauth_verify:Ee,crypto_verify_16:M,crypto_verify_32:P,crypto_secretbox:be,crypto_secretbox_open:Ne,crypto_scalarmult:I,crypto_scalarmult_base:K,crypto_box_beforenm:Le,crypto_box_afternm:$e,crypto_box:bt,crypto_box_open:gt,crypto_box_keypair:de,crypto_hash:Tt,crypto_sign:jr,crypto_sign_keypair:Yt,crypto_sign_open:Zs,crypto_secretbox_KEYBYTES:Js,crypto_secretbox_NONCEBYTES:Gn,crypto_secretbox_ZEROBYTES:Qt,crypto_secretbox_BOXZEROBYTES:vn,crypto_scalarmult_BYTES:hn,crypto_scalarmult_SCALARBYTES:xs,crypto_box_PUBLICKEYBYTES:Xr,crypto_box_SECRETKEYBYTES:Qr,crypto_box_BEFORENMBYTES:Zr,crypto_box_NONCEBYTES:bs,crypto_box_ZEROBYTES:Ws,crypto_box_BOXZEROBYTES:Lr,crypto_sign_BYTES:Bn,crypto_sign_PUBLICKEYBYTES:Kn,crypto_sign_SECRETKEYBYTES:Jr,crypto_sign_SEEDBYTES:Ss,crypto_hash_BYTES:Wr,gf:n,D:h,L:Rn,pack25519:Me,unpack25519:te,M:ye,A:ae,S:Te,Z:pe,pow2523:xt,add:Ot,set25519:H,modL:Yn,scalarmult:it,scalarbase:lt};function Ur(_,R){if(_.length!==Js)throw new Error("bad key size");if(R.length!==Gn)throw new Error("bad nonce size")}function xo(_,R){if(_.length!==Xr)throw new Error("bad public key size");if(R.length!==Qr)throw new Error("bad secret key size")}function Z(){for(var _=0;_<arguments.length;_++)if(!(arguments[_]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function we(_){for(var R=0;R<_.length;R++)_[R]=0}e.randomBytes=function(_){var R=new Uint8Array(_);return s(R,_),R},e.secretbox=function(_,R,A){Z(_,R,A),Ur(A,R);for(var x=new Uint8Array(Qt+_.length),N=new Uint8Array(x.length),$=0;$<_.length;$++)x[$+Qt]=_[$];return be(N,x,x.length,R,A),N.subarray(vn)},e.secretbox.open=function(_,R,A){Z(_,R,A),Ur(A,R);for(var x=new Uint8Array(vn+_.length),N=new Uint8Array(x.length),$=0;$<_.length;$++)x[$+vn]=_[$];return x.length<32||Ne(N,x,x.length,R,A)!==0?null:N.subarray(Qt)},e.secretbox.keyLength=Js,e.secretbox.nonceLength=Gn,e.secretbox.overheadLength=vn,e.scalarMult=function(_,R){if(Z(_,R),_.length!==xs)throw new Error("bad n size");if(R.length!==hn)throw new Error("bad p size");var A=new Uint8Array(hn);return I(A,_,R),A},e.scalarMult.base=function(_){if(Z(_),_.length!==xs)throw new Error("bad n size");var R=new Uint8Array(hn);return K(R,_),R},e.scalarMult.scalarLength=xs,e.scalarMult.groupElementLength=hn,e.box=function(_,R,A,x){var N=e.box.before(A,x);return e.secretbox(_,R,N)},e.box.before=function(_,R){Z(_,R),xo(_,R);var A=new Uint8Array(Zr);return Le(A,_,R),A},e.box.after=e.secretbox,e.box.open=function(_,R,A,x){var N=e.box.before(A,x);return e.secretbox.open(_,R,N)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var _=new Uint8Array(Xr),R=new Uint8Array(Qr);return de(_,R),{publicKey:_,secretKey:R}},e.box.keyPair.fromSecretKey=function(_){if(Z(_),_.length!==Qr)throw new Error("bad secret key size");var R=new Uint8Array(Xr);return K(R,_),{publicKey:R,secretKey:new Uint8Array(_)}},e.box.publicKeyLength=Xr,e.box.secretKeyLength=Qr,e.box.sharedKeyLength=Zr,e.box.nonceLength=bs,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(_,R){if(Z(_,R),R.length!==Jr)throw new Error("bad secret key size");var A=new Uint8Array(Bn+_.length);return jr(A,_,_.length,R),A},e.sign.open=function(_,R){if(Z(_,R),R.length!==Kn)throw new Error("bad public key size");var A=new Uint8Array(_.length),x=Zs(A,_,_.length,R);if(x<0)return null;for(var N=new Uint8Array(x),$=0;$<N.length;$++)N[$]=A[$];return N},e.sign.detached=function(_,R){for(var A=e.sign(_,R),x=new Uint8Array(Bn),N=0;N<x.length;N++)x[N]=A[N];return x},e.sign.detached.verify=function(_,R,A){if(Z(_,R,A),R.length!==Bn)throw new Error("bad signature size");if(A.length!==Kn)throw new Error("bad public key size");var x=new Uint8Array(Bn+_.length),N=new Uint8Array(Bn+_.length),$;for($=0;$<Bn;$++)x[$]=R[$];for($=0;$<_.length;$++)x[$+Bn]=_[$];return Zs(N,x,x.length,A)>=0},e.sign.keyPair=function(){var _=new Uint8Array(Kn),R=new Uint8Array(Jr);return Yt(_,R),{publicKey:_,secretKey:R}},e.sign.keyPair.fromSecretKey=function(_){if(Z(_),_.length!==Jr)throw new Error("bad secret key size");for(var R=new Uint8Array(Kn),A=0;A<R.length;A++)R[A]=_[32+A];return{publicKey:R,secretKey:new Uint8Array(_)}},e.sign.keyPair.fromSeed=function(_){if(Z(_),_.length!==Ss)throw new Error("bad seed size");for(var R=new Uint8Array(Kn),A=new Uint8Array(Jr),x=0;x<32;x++)A[x]=_[x];return Yt(R,A,!0),{publicKey:R,secretKey:A}},e.sign.publicKeyLength=Kn,e.sign.secretKeyLength=Jr,e.sign.seedLength=Ss,e.sign.signatureLength=Bn,e.hash=function(_){Z(_);var R=new Uint8Array(Wr);return Tt(R,_,_.length),R},e.hash.hashLength=Wr,e.verify=function(_,R){return Z(_,R),_.length===0||R.length===0||_.length!==R.length?!1:E(_,0,R,0,_.length)===0},e.setPRNG=function(_){s=_},(function(){var _=typeof self<"u"?self.crypto||self.msCrypto:null;if(_&&_.getRandomValues){var R=65536;e.setPRNG(function(A,x){var N,$=new Uint8Array(x);for(N=0;N<x;N+=R)_.getRandomValues($.subarray(N,N+Math.min(x-N,R)));for(N=0;N<x;N++)A[N]=$[N];we($)})}else typeof d4<"u"&&(_=m4,_&&_.randomBytes&&e.setPRNG(function(A,x){var N,$=_.randomBytes(x);for(N=0;N<x;N++)A[N]=$[N];we($)}))})()})(t.exports?t.exports:self.nacl=self.nacl||{})})(Dp)),Dp.exports}var Bu={exports:{}},y4=Bu.exports,y1;function tE(){return y1||(y1=1,(function(t){(function(e,n){t.exports?t.exports=n():(e.nacl||(e.nacl={}),e.nacl.util=n())})(y4,function(){var e={};function n(s){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(s))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(s){if(typeof s!="string")throw new TypeError("expected string");var a,c=unescape(encodeURIComponent(s)),u=new Uint8Array(c.length);for(a=0;a<c.length;a++)u[a]=c.charCodeAt(a);return u},e.encodeUTF8=function(s){var a,c=[];for(a=0;a<s.length;a++)c.push(String.fromCharCode(s[a]));return decodeURIComponent(escape(c.join("")))},typeof atob>"u"?typeof Buffer.from<"u"?(e.encodeBase64=function(s){return Buffer.from(s).toString("base64")},e.decodeBase64=function(s){return n(s),new Uint8Array(Array.prototype.slice.call(Buffer.from(s,"base64"),0))}):(e.encodeBase64=function(s){return new Buffer(s).toString("base64")},e.decodeBase64=function(s){return n(s),new Uint8Array(Array.prototype.slice.call(new Buffer(s,"base64"),0))}):(e.encodeBase64=function(s){var a,c=[],u=s.length;for(a=0;a<u;a++)c.push(String.fromCharCode(s[a]));return btoa(c.join(""))},e.decodeBase64=function(s){n(s);var a,c=atob(s),u=new Uint8Array(c.length);for(a=0;a<c.length;a++)u[a]=c.charCodeAt(a);return u}),e})})(Bu)),Bu.exports}function Fr(t){for(var e=arguments.length,n=Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(a){return"'"+a+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function co(t){return!!t&&!!t[Sr]}function la(t){var e;return!!t&&((function(n){if(!n||typeof n!="object")return!1;var s=Object.getPrototypeOf(n);if(s===null)return!0;var a=Object.hasOwnProperty.call(s,"constructor")&&s.constructor;return a===Object||typeof a=="function"&&Function.toString.call(a)===C4})(t)||Array.isArray(t)||!!t[C1]||!!(!((e=t.constructor)===null||e===void 0)&&e[C1])||Iy(t)||By(t))}function Uc(t,e,n){n===void 0&&(n=!1),go(t)===0?(n?Object.keys:Fy)(t).forEach((function(s){n&&typeof s=="symbol"||e(s,t[s],t)})):t.forEach((function(s,a){return e(a,s,t)}))}function go(t){var e=t[Sr];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Iy(t)?2:By(t)?3:0}function Nm(t,e){return go(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function g4(t,e){return go(t)===2?t.get(e):t[e]}function nE(t,e,n){var s=go(t);s===2?t.set(e,n):s===3?t.add(n):t[e]=n}function v4(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Iy(t){return _4&&t instanceof Map}function By(t){return w4&&t instanceof Set}function Wi(t){return t.o||t.t}function Hy(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=E4(t);delete e[Sr];for(var n=Fy(e),s=0;s<n.length;s++){var a=n[s],c=e[a];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(e[a]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[a]})}return Object.create(Object.getPrototypeOf(t),e)}function $y(t,e){return e===void 0&&(e=!1),Vy(t)||co(t)||!la(t)||(go(t)>1&&(t.set=t.add=t.clear=t.delete=x4),Object.freeze(t),e&&Uc(t,(function(n,s){return $y(s,!0)}),!0)),t}function x4(){Fr(2)}function Vy(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function fs(t){var e=T4[t];return e||Fr(18,t),e}function g1(){return zc}function kp(t,e){e&&(fs("Patches"),t.u=[],t.s=[],t.v=e)}function hf(t){Dm(t),t.p.forEach(b4),t.p=null}function Dm(t){t===zc&&(zc=t.l)}function v1(t){return zc={p:[],l:zc,h:t,m:!0,_:0}}function b4(t){var e=t[Sr];e.i===0||e.i===1?e.j():e.g=!0}function jp(t,e){e._=e.p.length;var n=e.p[0],s=t!==void 0&&t!==n;return e.h.O||fs("ES5").S(e,t,s),s?(n[Sr].P&&(hf(e),Fr(4)),la(t)&&(t=pf(e,t),e.l||mf(e,t)),e.u&&fs("Patches").M(n[Sr].t,t,e.u,e.s)):t=pf(e,n,[]),hf(e),e.u&&e.v(e.u,e.s),t!==rE?t:void 0}function pf(t,e,n){if(Vy(e))return e;var s=e[Sr];if(!s)return Uc(e,(function(f,d){return x1(t,s,e,f,d,n)}),!0),e;if(s.A!==t)return e;if(!s.P)return mf(t,s.t,!0),s.t;if(!s.I){s.I=!0,s.A._--;var a=s.i===4||s.i===5?s.o=Hy(s.k):s.o,c=a,u=!1;s.i===3&&(c=new Set(a),a.clear(),u=!0),Uc(c,(function(f,d){return x1(t,s,a,f,d,n,u)})),mf(t,a,!1),n&&t.u&&fs("Patches").N(s,n,t.u,t.s)}return s.o}function x1(t,e,n,s,a,c,u){if(co(a)){var f=pf(t,a,c&&e&&e.i!==3&&!Nm(e.R,s)?c.concat(s):void 0);if(nE(n,s,f),!co(f))return;t.m=!1}else u&&n.add(a);if(la(a)&&!Vy(a)){if(!t.h.D&&t._<1)return;pf(t,a),e&&e.A.l||mf(t,a)}}function mf(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&$y(e,n)}function Lp(t,e){var n=t[Sr];return(n?Wi(n):t)[e]}function b1(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var s=Object.getOwnPropertyDescriptor(n,e);if(s)return s;n=Object.getPrototypeOf(n)}}function km(t){t.P||(t.P=!0,t.l&&km(t.l))}function Up(t){t.o||(t.o=Hy(t.t))}function jm(t,e,n){var s=Iy(e)?fs("MapSet").F(e,n):By(e)?fs("MapSet").T(e,n):t.O?(function(a,c){var u=Array.isArray(a),f={i:u?1:0,A:c?c.A:g1(),P:!1,I:!1,R:{},l:c,t:a,k:null,o:null,j:null,C:!1},d=f,h=Lm;u&&(d=[f],h=_c);var y=Proxy.revocable(d,h),g=y.revoke,v=y.proxy;return f.k=v,f.j=g,v})(e,n):fs("ES5").J(e,n);return(n?n.A:g1()).p.push(s),s}function S4(t){return co(t)||Fr(22,t),(function e(n){if(!la(n))return n;var s,a=n[Sr],c=go(n);if(a){if(!a.P&&(a.i<4||!fs("ES5").K(a)))return a.t;a.I=!0,s=S1(n,c),a.I=!1}else s=S1(n,c);return Uc(s,(function(u,f){a&&g4(a.t,u)===f||nE(s,u,e(f))})),c===3?new Set(s):s})(t)}function S1(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Hy(t)}var _1,zc,qy=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",_4=typeof Map<"u",w4=typeof Set<"u",w1=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",rE=qy?Symbol.for("immer-nothing"):((_1={})["immer-nothing"]=!0,_1),C1=qy?Symbol.for("immer-draftable"):"__$immer_draftable",Sr=qy?Symbol.for("immer-state"):"__$immer_state",C4=""+Object.prototype.constructor,Fy=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,E4=Object.getOwnPropertyDescriptors||function(t){var e={};return Fy(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},T4={},Lm={get:function(t,e){if(e===Sr)return t;var n=Wi(t);if(!Nm(n,e))return(function(a,c,u){var f,d=b1(c,u);return d?"value"in d?d.value:(f=d.get)===null||f===void 0?void 0:f.call(a.k):void 0})(t,n,e);var s=n[e];return t.I||!la(s)?s:s===Lp(t.t,e)?(Up(t),t.o[e]=jm(t.A.h,s,t)):s},has:function(t,e){return e in Wi(t)},ownKeys:function(t){return Reflect.ownKeys(Wi(t))},set:function(t,e,n){var s=b1(Wi(t),e);if(s?.set)return s.set.call(t.k,n),!0;if(!t.P){var a=Lp(Wi(t),e),c=a?.[Sr];if(c&&c.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(v4(n,a)&&(n!==void 0||Nm(t.t,e)))return!0;Up(t),km(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Lp(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Up(t),km(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Wi(t),s=Reflect.getOwnPropertyDescriptor(n,e);return s&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:s.enumerable,value:n[e]}},defineProperty:function(){Fr(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Fr(12)}},_c={};Uc(Lm,(function(t,e){_c[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),_c.deleteProperty=function(t,e){return _c.set.call(this,t,e,void 0)},_c.set=function(t,e,n){return Lm.set.call(this,t[0],e,n,t[0])};var R4=(function(){function t(n){var s=this;this.O=w1,this.D=!0,this.produce=function(a,c,u){if(typeof a=="function"&&typeof c!="function"){var f=c;c=a;var d=s;return function(E){var M=this;E===void 0&&(E=f);for(var P=arguments.length,D=Array(P>1?P-1:0),k=1;k<P;k++)D[k-1]=arguments[k];return d.produce(E,(function(j){var Y;return(Y=c).call.apply(Y,[M,j].concat(D))}))}}var h;if(typeof c!="function"&&Fr(6),u!==void 0&&typeof u!="function"&&Fr(7),la(a)){var y=v1(s),g=jm(s,a,void 0),v=!0;try{h=c(g),v=!1}finally{v?hf(y):Dm(y)}return typeof Promise<"u"&&h instanceof Promise?h.then((function(E){return kp(y,u),jp(E,y)}),(function(E){throw hf(y),E})):(kp(y,u),jp(h,y))}if(!a||typeof a!="object"){if((h=c(a))===void 0&&(h=a),h===rE&&(h=void 0),s.D&&$y(h,!0),u){var S=[],C=[];fs("Patches").M(a,h,S,C),u(S,C)}return h}Fr(21,a)},this.produceWithPatches=function(a,c){if(typeof a=="function")return function(h){for(var y=arguments.length,g=Array(y>1?y-1:0),v=1;v<y;v++)g[v-1]=arguments[v];return s.produceWithPatches(h,(function(S){return a.apply(void 0,[S].concat(g))}))};var u,f,d=s.produce(a,c,(function(h,y){u=h,f=y}));return typeof Promise<"u"&&d instanceof Promise?d.then((function(h){return[h,u,f]})):[d,u,f]},typeof n?.useProxies=="boolean"&&this.setUseProxies(n.useProxies),typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){la(n)||Fr(8),co(n)&&(n=S4(n));var s=v1(this),a=jm(this,n,void 0);return a[Sr].C=!0,Dm(s),a},e.finishDraft=function(n,s){var a=n&&n[Sr],c=a.A;return kp(c,s),jp(void 0,c)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!w1&&Fr(20),this.O=n},e.applyPatches=function(n,s){var a;for(a=s.length-1;a>=0;a--){var c=s[a];if(c.path.length===0&&c.op==="replace"){n=c.value;break}}a>-1&&(s=s.slice(a+1));var u=fs("Patches").$;return co(n)?u(n,s):this.produce(n,(function(f){return u(f,s)}))},t})(),_r=new R4,A4=_r.produce;_r.produceWithPatches.bind(_r);_r.setAutoFreeze.bind(_r);_r.setUseProxies.bind(_r);_r.applyPatches.bind(_r);_r.createDraft.bind(_r);_r.finishDraft.bind(_r);class O4{constructor(e){const n=M4();this.c=1,this.s0=n(" "),this.s1=n(" "),this.s2=n(" "),this.s0-=n(e),this.s0<0&&(this.s0+=1),this.s1-=n(e),this.s1<0&&(this.s1+=1),this.s2-=n(e),this.s2<0&&(this.s2+=1)}next(){const e=2091639*this.s0+this.c*23283064365386963e-26;return this.s0=this.s1,this.s1=this.s2,this.s2=e-(this.c=Math.trunc(e))}}function M4(){let t=4022871197;return function(n){const s=n.toString();for(let a=0;a<s.length;a++){t+=s.charCodeAt(a);let c=.02519603282416938*t;t=c>>>0,c-=t,c*=t,t=c>>>0,c-=t,t+=c*4294967296}return(t>>>0)*23283064365386963e-26}}function E1(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function sE(t,e){const n=new O4(t),s=n.next.bind(n);return e&&E1(e,n),s.state=()=>E1(n,{}),s}class T1{constructor(e){this.state=e||{seed:"0"},this.used=!1}static seed(){return Date.now().toString(36).slice(-10)}isUsed(){return this.used}getState(){return this.state}_random(){this.used=!0;const e=this.state,n=e.prngstate?"":e.seed,s=sE(n,e.prngstate),a=s();return this.state={...e,prngstate:s.state()},a}api(){const e=this._random.bind(this),n={D4:4,D6:6,D8:8,D10:10,D12:12,D20:20},s={};for(const c in n){const u=n[c];s[c]=f=>f===void 0?Math.floor(e()*u)+1:Array.from({length:f}).map(()=>Math.floor(e()*u)+1)}function a(c=6,u){return u===void 0?Math.floor(e()*c)+1:Array.from({length:u}).map(()=>Math.floor(e()*c)+1)}return{...s,Die:a,Number:()=>e(),Shuffle:c=>{const u=[...c];let f=c.length,d=0;const h=Array.from({length:f});for(;f;){const y=Math.trunc(f*e());h[d++]=u[y],u[y]=u[--f]}return h},_private:this}}}const P4={name:"random",noClient:({api:t})=>t._private.isUsed(),flush:({api:t})=>t._private.getState(),api:({data:t})=>new T1(t).api(),setup:({game:t})=>{let{seed:e}=t;return e===void 0&&(e=T1.seed()),{seed:e}},playerView:()=>{}};var zp,R1;function N4(){if(R1)return zp;R1=1;var t="[object Object]";function e(v){var S=!1;if(v!=null&&typeof v.toString!="function")try{S=!!(v+"")}catch{}return S}function n(v,S){return function(C){return v(S(C))}}var s=Function.prototype,a=Object.prototype,c=s.toString,u=a.hasOwnProperty,f=c.call(Object),d=a.toString,h=n(Object.getPrototypeOf,Object);function y(v){return!!v&&typeof v=="object"}function g(v){if(!y(v)||d.call(v)!=t||e(v))return!1;var S=h(v);if(S===null)return!0;var C=u.call(S,"constructor")&&S.constructor;return typeof C=="function"&&C instanceof C&&c.call(C)==f}return zp=g,zp}N4();const Ic="MAKE_MOVE",qf="GAME_EVENT",Ff="REDO",Yy="RESET",Gy="SYNC",Yf="UNDO",Ky="UPDATE",Xy="PATCH",iE="PLUGIN",Gf="STRIP_TRANSIENTS",aE=(t,e,n,s)=>({type:Ic,payload:{type:t,args:e,playerID:n,credentials:s}}),Mc=(t,e,n,s)=>({type:qf,payload:{type:t,args:e,playerID:n,credentials:s}}),oE=(t,e,n,s)=>({type:qf,payload:{type:t,args:e,playerID:n,credentials:s},automatic:!0}),cE=t=>({type:Gy,state:t.state,log:t.log,initialState:t.initialState,clientOnly:!0}),lE=(t,e,n,s)=>({type:Xy,prevStateID:t,stateID:e,patch:n,deltalog:s,clientOnly:!0}),uE=(t,e)=>({type:Ky,state:t,deltalog:e,clientOnly:!0}),fE=t=>({type:Yy,state:t,clientOnly:!0}),dE=(t,e)=>({type:Yf,payload:{type:null,args:null,playerID:t,credentials:e}}),hE=(t,e)=>({type:Ff,payload:{type:null,args:null,playerID:t,credentials:e}}),D4=(t,e,n,s)=>({type:iE,payload:{type:t,args:e,playerID:n,credentials:s}}),pE=()=>({type:Gf});var k4=Object.freeze({__proto__:null,makeMove:aE,gameEvent:Mc,automaticGameEvent:oE,sync:cE,patch:lE,update:uE,reset:fE,undo:dE,redo:hE,plugin:D4,stripTransients:pE});const Um="INVALID_MOVE",j4={name:"plugin-immer",fnWrap:t=>(e,...n)=>{let s=!1;const a=A4(e.G,c=>{const u=t({...e,G:c},...n);if(u===Um){s=!0;return}return u});return s?Um:a}};var Vn;(function(t){t.MOVE="MOVE",t.GAME_ON_END="GAME_ON_END",t.PHASE_ON_BEGIN="PHASE_ON_BEGIN",t.PHASE_ON_END="PHASE_ON_END",t.TURN_ON_BEGIN="TURN_ON_BEGIN",t.TURN_ON_MOVE="TURN_ON_MOVE",t.TURN_ON_END="TURN_ON_END"})(Vn||(Vn={}));var $s;(function(t){t.CalledOutsideHook="Events must be called from moves or the `onBegin`, `onEnd`, and `onMove` hooks.\nThis error probably means you called an event from other game code, like an `endIf` trigger or one of the `turn.order` methods.",t.EndTurnInOnEnd="`endTurn` is disallowed in `onEnd` hooks  the turn is already ending.",t.MaxTurnEndings=`Maximum number of turn endings exceeded for this update.
This likely means game code is triggering an infinite loop.`,t.PhaseEventInOnEnd="`setPhase` & `endPhase` are disallowed in a phases `onEnd` hook  the phase is already ending.\nIf youre trying to dynamically choose the next phase when a phase ends, use the phases `next` trigger.",t.StageEventInOnEnd="`setStage`, `endStage` & `setActivePlayers` are disallowed in `onEnd` hooks.",t.StageEventInPhaseBegin="`setStage`, `endStage` & `setActivePlayers` are disallowed in a phases `onBegin` hook.\nUse `setActivePlayers` in a `turn.onBegin` hook or declare stages with `turn.activePlayers` instead.",t.StageEventInTurnBegin="`setStage` & `endStage` are disallowed in `turn.onBegin`.\nUse `setActivePlayers` or declare stages with `turn.activePlayers` instead."})($s||($s={}));class L4{constructor(e,n,s){this.flow=e,this.playerID=s,this.dispatch=[],this.initialTurn=n.turn,this.updateTurnContext(n,void 0),this.maxEndedTurnsPerAction=n.numPlayers*100}api(){const e={_private:this};for(const n of this.flow.eventNames)e[n]=(...s)=>{this.dispatch.push({type:n,args:s,phase:this.currentPhase,turn:this.currentTurn,calledFrom:this.currentMethod,error:new Error("Events Plugin Error")})};return e}isUsed(){return this.dispatch.length>0}updateTurnContext(e,n){this.currentPhase=e.phase,this.currentTurn=e.turn,this.currentMethod=n}unsetCurrentMethod(){this.currentMethod=void 0}update(e){const n=e,s=({stack:a},c)=>({...n,plugins:{...n.plugins,events:{...n.plugins.events,data:{error:c+`
`+a}}}});e:for(let a=0;a<this.dispatch.length;a++){const c=this.dispatch[a],u=c.turn!==e.ctx.turn;if(this.currentTurn-this.initialTurn>=this.maxEndedTurnsPerAction)return s(c.error,$s.MaxTurnEndings);if(c.calledFrom===void 0)return s(c.error,$s.CalledOutsideHook);if(e.ctx.gameover)break e;switch(c.type){case"endStage":case"setStage":case"setActivePlayers":{switch(c.calledFrom){case Vn.TURN_ON_END:case Vn.PHASE_ON_END:return s(c.error,$s.StageEventInOnEnd);case Vn.PHASE_ON_BEGIN:return s(c.error,$s.StageEventInPhaseBegin);case Vn.TURN_ON_BEGIN:if(c.type==="setActivePlayers")break;return s(c.error,$s.StageEventInTurnBegin)}if(u)continue e;break}case"endTurn":{if(c.calledFrom===Vn.TURN_ON_END||c.calledFrom===Vn.PHASE_ON_END)return s(c.error,$s.EndTurnInOnEnd);if(u)continue e;break}case"endPhase":case"setPhase":{if(c.calledFrom===Vn.PHASE_ON_END)return s(c.error,$s.PhaseEventInOnEnd);if(c.phase!==e.ctx.phase)continue e;break}}const d=oE(c.type,c.args,this.playerID);e=this.flow.processEvent(e,d)}return e}}const Qy={name:"events",noClient:({api:t})=>t._private.isUsed(),isInvalid:({data:t})=>t.error||!1,fnWrap:(t,e)=>(n,...s)=>{const a=n.events;a&&a._private.updateTurnContext(n.ctx,e);const c=t(n,...s);return a&&a._private.unsetCurrentMethod(),c},dangerouslyFlushRawState:({state:t,api:e})=>e._private.update(t),api:({game:t,ctx:e,playerID:n})=>new L4(t.flow,e,n).api()},U4={name:"log",flush:()=>({}),api:({data:t})=>({setMetadata:e=>{t.metadata=e}}),setup:()=>({})},z4={name:"plugin-serializable",fnWrap:t=>(e,...n)=>t(e,...n)},I4=(...t)=>console.error(...t);function zt(t){I4("ERROR:",t)}const Zy=[j4,P4,U4,z4],Qc=[...Zy,Qy],B4=(t,e,n)=>(n.game.plugins.filter(s=>s.action!==void 0).filter(s=>s.name===e.payload.type).forEach(s=>{const a=s.name,c=t.plugins[a]||{data:{}},u=s.action(c.data,e.payload);t={...t,plugins:{...t.plugins,[a]:{...c,data:u}}}}),t),lo=({plugins:t})=>Object.entries(t||{}).reduce((e,[n,{api:s}])=>(e[n]=s,e),{}),mE=(t,e,n)=>[...Zy,...n,Qy].filter(s=>s.fnWrap!==void 0).reduce((s,{fnWrap:a})=>a(s,e),t),H4=(t,e)=>([...Qc,...e.game.plugins].filter(n=>n.setup!==void 0).forEach(n=>{const s=n.name,a=n.setup({G:t.G,ctx:t.ctx,game:e.game});t={...t,plugins:{...t.plugins,[s]:{data:a}}}}),t),zm=(t,e)=>([...Qc,...e.game.plugins].filter(n=>n.api!==void 0).forEach(n=>{const s=n.name,a=t.plugins[s]||{data:{}},c=n.api({G:t.G,ctx:t.ctx,data:a.data,game:e.game,playerID:e.playerID});t={...t,plugins:{...t.plugins,[s]:{...a,api:c}}}}),t),$4=(t,e)=>([...Zy,...e.game.plugins,Qy].reverse().forEach(n=>{const s=n.name,a=t.plugins[s]||{data:{}};if(n.flush){const c=n.flush({G:t.G,ctx:t.ctx,game:e.game,api:a.api,data:a.data});t={...t,plugins:{...t.plugins,[n.name]:{data:c}}}}else if(n.dangerouslyFlushRawState){t=n.dangerouslyFlushRawState({state:t,game:e.game,api:a.api,data:a.data});const c=t.plugins[s].data;t={...t,plugins:{...t.plugins,[n.name]:{data:c}}}}}),t),V4=(t,e)=>[...Qc,...e.game.plugins].filter(n=>n.noClient!==void 0).map(n=>{const s=n.name,a=t.plugins[s];return a?n.noClient({G:t.G,ctx:t.ctx,game:e.game,api:a.api,data:a.data}):!1}).includes(!0),q4=(t,e)=>[...Qc,...e.game.plugins].filter(s=>s.isInvalid!==void 0).map(s=>{const{name:a}=s,c=t.plugins[a],u=s.isInvalid({G:t.G,ctx:t.ctx,game:e.game,data:c&&c.data});return u?{plugin:a,message:u}:!1}).find(s=>s)||!1,yE=(t,e)=>{const n=$4(t,e),s=q4(n,e);if(!s)return[n];const{plugin:a,message:c}=s;return zt(`${a} plugin declared action invalid:
${c}`),[t,s]},gE=({G:t,ctx:e,plugins:n={}},{game:s,playerID:a})=>([...Qc,...s.plugins].forEach(({name:c,playerView:u})=>{if(!u)return;const{data:f}=n[c]||{data:{}},d=u({G:t,ctx:e,game:s,data:f,playerID:a});n={...n,[c]:{data:d}}}),n);function yf(t,e=!1){t.moveLimit&&(e&&(t.minMoves=t.moveLimit),t.maxMoves=t.moveLimit,delete t.moveLimit)}function gf(t,e){let n={},s=[],a=null,c={},u={};if(Array.isArray(e)){const d={};e.forEach(h=>d[h]=vf.NULL),n=d}else{if(yf(e),e.next&&(a=e.next),e.revert&&(s=[...t._prevActivePlayers,{activePlayers:t.activePlayers,_activePlayersMinMoves:t._activePlayersMinMoves,_activePlayersMaxMoves:t._activePlayersMaxMoves,_activePlayersNumMoves:t._activePlayersNumMoves}]),e.currentPlayer!==void 0&&Su(n,c,u,t.currentPlayer,e.currentPlayer),e.others!==void 0)for(let d=0;d<t.playOrder.length;d++){const h=t.playOrder[d];h!==t.currentPlayer&&Su(n,c,u,h,e.others)}if(e.all!==void 0)for(let d=0;d<t.playOrder.length;d++){const h=t.playOrder[d];Su(n,c,u,h,e.all)}if(e.value)for(const d in e.value)Su(n,c,u,d,e.value[d]);if(e.minMoves)for(const d in n)c[d]===void 0&&(c[d]=e.minMoves);if(e.maxMoves)for(const d in n)u[d]===void 0&&(u[d]=e.maxMoves)}Object.keys(n).length===0&&(n=null),Object.keys(c).length===0&&(c=null),Object.keys(u).length===0&&(u=null);const f={};for(const d in n)f[d]=0;return{...t,activePlayers:n,_activePlayersMinMoves:c,_activePlayersMaxMoves:u,_activePlayersNumMoves:f,_prevActivePlayers:s,_nextActivePlayers:a}}function F4(t){let{activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:s,_activePlayersNumMoves:a,_prevActivePlayers:c,_nextActivePlayers:u}=t;if(e&&Object.keys(e).length===0)if(u)t=gf(t,u),{activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:s,_activePlayersNumMoves:a,_prevActivePlayers:c}=t;else if(c.length>0){const f=c.length-1;({activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:s,_activePlayersNumMoves:a}=c[f]),c=c.slice(0,f)}else e=null,n=null,s=null;return{...t,activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:s,_activePlayersNumMoves:a,_prevActivePlayers:c}}function Su(t,e,n,s,a){(typeof a!="object"||a===vf.NULL)&&(a={stage:a}),a.stage!==void 0&&(yf(a),t[s]=a.stage,a.minMoves&&(e[s]=a.minMoves),a.maxMoves&&(n[s]=a.maxMoves))}function Im(t,e){return t[e]+""}function Y4(t,e){let{G:n,ctx:s}=t;const{numPlayers:a}=s,u={...lo(t),G:n,ctx:s},f=e.order;let d=[...Array.from({length:a})].map((v,S)=>S+"");f.playOrder!==void 0&&(d=f.playOrder(u));const h=f.first(u),y=typeof h;y!=="number"&&zt(`invalid value returned by turn.order.first  expected number got ${y} ${h}.`);const g=Im(d,h);return s={...s,currentPlayer:g,playOrderPos:h,playOrder:d},s=gf(s,e.activePlayers||{}),s}function G4(t,e,n,s){const a=n.order;let{G:c,ctx:u}=t,f=u.playOrderPos,d=!1;if(s&&s!==!0)typeof s!="object"&&zt(`invalid argument to endTurn: ${s}`),Object.keys(s).forEach(h=>{switch(h){case"remove":e=Im(u.playOrder,f);break;case"next":f=u.playOrder.indexOf(s.next),e=s.next;break;default:zt(`invalid argument to endTurn: ${h}`)}});else{const y={...lo(t),G:c,ctx:u},g=a.next(y),v=typeof g;g!==void 0&&v!=="number"&&zt(`invalid value returned by turn.order.next  expected number or undefined got ${v} ${g}.`),g===void 0?d=!0:(f=g,e=Im(u.playOrder,f))}return u={...u,playOrderPos:f,currentPlayer:e},{endPhase:d,ctx:u}}const K4={DEFAULT:{first:({ctx:t})=>t.turn===0?t.playOrderPos:(t.playOrderPos+1)%t.playOrder.length,next:({ctx:t})=>(t.playOrderPos+1)%t.playOrder.length}},vf={NULL:null};var Ip={},Bs={},A1;function vE(){if(A1)return Bs;A1=1,Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.Pointer=Bs.escapeToken=Bs.unescapeToken=void 0;function t(s){return s.replace(/~1/g,"/").replace(/~0/g,"~")}Bs.unescapeToken=t;function e(s){return s.replace(/~/g,"~0").replace(/\//g,"~1")}Bs.escapeToken=e;var n=(function(){function s(a){a===void 0&&(a=[""]),this.tokens=a}return s.fromJSON=function(a){var c=a.split("/").map(t);if(c[0]!=="")throw new Error("Invalid JSON Pointer: ".concat(a));return new s(c)},s.prototype.toString=function(){return this.tokens.map(e).join("/")},s.prototype.evaluate=function(a){for(var c=null,u="",f=a,d=1,h=this.tokens.length;d<h;d++)c=f,u=this.tokens[d],!(u=="__proto__"||u=="constructor"||u=="prototype")&&(f=(c||{})[u]);return{parent:c,key:u,value:f}},s.prototype.get=function(a){return this.evaluate(a).value},s.prototype.set=function(a,c){var u=this.evaluate(a);u.parent&&(u.parent[u.key]=c)},s.prototype.push=function(a){this.tokens.push(a)},s.prototype.add=function(a){var c=this.tokens.concat(String(a));return new s(c)},s})();return Bs.Pointer=n,Bs}var tn={},Bp={},O1;function xE(){return O1||(O1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.clone=t.objectType=t.hasOwnProperty=void 0,t.hasOwnProperty=Object.prototype.hasOwnProperty;function e(a){return a===void 0?"undefined":a===null?"null":Array.isArray(a)?"array":typeof a}t.objectType=e;function n(a){return a!=null&&typeof a=="object"}function s(a){if(!n(a))return a;if(a.constructor==Array){for(var c=a.length,u=new Array(c),f=0;f<c;f++)u[f]=s(a[f]);return u}if(a.constructor==Date){var d=new Date(+a);return d}var h={};for(var y in a)t.hasOwnProperty.call(a,y)&&(h[y]=s(a[y]));return h}t.clone=s})(Bp)),Bp}var Qn={},M1;function bE(){if(M1)return Qn;M1=1,Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.diffAny=Qn.diffObjects=Qn.diffArrays=Qn.intersection=Qn.subtract=Qn.isDestructive=void 0;var t=xE();function e(y){var g=y.op;return g==="remove"||g==="replace"||g==="copy"||g==="move"}Qn.isDestructive=e;function n(y,g){var v={};for(var S in y)t.hasOwnProperty.call(y,S)&&y[S]!==void 0&&(v[S]=1);for(var C in g)t.hasOwnProperty.call(g,C)&&g[C]!==void 0&&delete v[C];return Object.keys(v)}Qn.subtract=n;function s(y){for(var g=y.length,v={},S=0;S<g;S++){var C=y[S];for(var E in C)t.hasOwnProperty.call(C,E)&&C[E]!==void 0&&(v[E]=(v[E]||0)+1)}for(var E in v)v[E]<g&&delete v[E];return Object.keys(v)}Qn.intersection=s;function a(y){return y.op==="add"}function c(y){return y.op==="remove"}function u(y,g){return{operations:y.operations.concat(g),cost:y.cost+1}}function f(y,g,v,S){S===void 0&&(S=h);var C={"0,0":{operations:[],cost:0}};function E(j,Y){var W="".concat(j,",").concat(Y),F=C[W];if(F===void 0){if(j>0&&Y>0&&!S(y[j-1],g[Y-1],v.add(String(j-1))).length)F=E(j-1,Y-1);else{var X=[];if(j>0){var me=E(j-1,Y),xe={op:"remove",index:j-1};X.push(u(me,xe))}if(Y>0){var Se=E(j,Y-1),Ce={op:"add",index:j-1,value:g[Y-1]};X.push(u(Se,Ce))}if(j>0&&Y>0){var Ee=E(j-1,Y-1),be={op:"replace",index:j-1,original:y[j-1],value:g[Y-1]};X.push(u(Ee,be))}var Ne=X.sort(function(H,ie){return H.cost-ie.cost})[0];F=Ne}C[W]=F}return F}var M=isNaN(y.length)||y.length<=0?0:y.length,P=isNaN(g.length)||g.length<=0?0:g.length,D=E(M,P).operations,k=D.reduce(function(j,Y){var W=j[0],F=j[1];if(a(Y)){var X=Y.index+1+F,me=X<M+F?String(X):"-",xe={op:Y.op,path:v.add(me).toString(),value:Y.value};return[W.concat(xe),F+1]}else if(c(Y)){var xe={op:Y.op,path:v.add(String(Y.index+F)).toString()};return[W.concat(xe),F-1]}else{var Se=v.add(String(Y.index+F)),Ce=S(Y.original,Y.value,Se);return[W.concat.apply(W,Ce),F]}},[[],0])[0];return k}Qn.diffArrays=f;function d(y,g,v,S){S===void 0&&(S=h);var C=[];return n(y,g).forEach(function(E){C.push({op:"remove",path:v.add(E).toString()})}),n(g,y).forEach(function(E){C.push({op:"add",path:v.add(E).toString(),value:g[E]})}),s([y,g]).forEach(function(E){C.push.apply(C,S(y[E],g[E],v.add(E)))}),C}Qn.diffObjects=d;function h(y,g,v,S){if(S===void 0&&(S=h),y===g)return[];var C=(0,t.objectType)(y),E=(0,t.objectType)(g);return C=="array"&&E=="array"?f(y,g,v,S):C=="object"&&E=="object"?d(y,g,v,S):[{op:"replace",path:v.toString(),value:g}]}return Qn.diffAny=h,Qn}var P1;function X4(){if(P1)return tn;P1=1;var t=tn&&tn.__extends||(function(){var M=function(P,D){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,j){k.__proto__=j}||function(k,j){for(var Y in j)Object.prototype.hasOwnProperty.call(j,Y)&&(k[Y]=j[Y])},M(P,D)};return function(P,D){if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");M(P,D);function k(){this.constructor=P}P.prototype=D===null?Object.create(D):(k.prototype=D.prototype,new k)}})();Object.defineProperty(tn,"__esModule",{value:!0}),tn.apply=tn.InvalidOperationError=tn.test=tn.copy=tn.move=tn.replace=tn.remove=tn.add=tn.TestError=tn.MissingError=void 0;var e=vE(),n=xE(),s=bE(),a=(function(M){t(P,M);function P(D){var k=M.call(this,"Value required at path: ".concat(D))||this;return k.path=D,k.name="MissingError",k}return P})(Error);tn.MissingError=a;var c=(function(M){t(P,M);function P(D,k){var j=M.call(this,"Test failed: ".concat(D," != ").concat(k))||this;return j.actual=D,j.expected=k,j.name="TestError",j}return P})(Error);tn.TestError=c;function u(M,P,D){if(Array.isArray(M))if(P=="-")M.push(D);else{var k=parseInt(P,10);M.splice(k,0,D)}else M[P]=D}function f(M,P){if(Array.isArray(M)){var D=parseInt(P,10);M.splice(D,1)}else delete M[P]}function d(M,P){var D=e.Pointer.fromJSON(P.path).evaluate(M);return D.parent===void 0?new a(P.path):(u(D.parent,D.key,(0,n.clone)(P.value)),null)}tn.add=d;function h(M,P){var D=e.Pointer.fromJSON(P.path).evaluate(M);return D.value===void 0?new a(P.path):(f(D.parent,D.key),null)}tn.remove=h;function y(M,P){var D=e.Pointer.fromJSON(P.path).evaluate(M);if(D.parent===null)return new a(P.path);if(Array.isArray(D.parent)){if(parseInt(D.key,10)>=D.parent.length)return new a(P.path)}else if(D.value===void 0)return new a(P.path);return D.parent[D.key]=(0,n.clone)(P.value),null}tn.replace=y;function g(M,P){var D=e.Pointer.fromJSON(P.from).evaluate(M);if(D.value===void 0)return new a(P.from);var k=e.Pointer.fromJSON(P.path).evaluate(M);return k.parent===void 0?new a(P.path):(f(D.parent,D.key),u(k.parent,k.key,D.value),null)}tn.move=g;function v(M,P){var D=e.Pointer.fromJSON(P.from).evaluate(M);if(D.value===void 0)return new a(P.from);var k=e.Pointer.fromJSON(P.path).evaluate(M);return k.parent===void 0?new a(P.path):(u(k.parent,k.key,(0,n.clone)(D.value)),null)}tn.copy=v;function S(M,P){var D=e.Pointer.fromJSON(P.path).evaluate(M);return(0,s.diffAny)(D.value,P.value,new e.Pointer).length?new c(D.value,P.value):null}tn.test=S;var C=(function(M){t(P,M);function P(D){var k=M.call(this,"Invalid operation: ".concat(D.op))||this;return k.operation=D,k.name="InvalidOperationError",k}return P})(Error);tn.InvalidOperationError=C;function E(M,P){switch(P.op){case"add":return d(M,P);case"remove":return h(M,P);case"replace":return y(M,P);case"move":return g(M,P);case"copy":return v(M,P);case"test":return S(M,P)}return new C(P)}return tn.apply=E,tn}var N1;function Q4(){return N1||(N1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createTests=t.createPatch=t.applyPatch=t.Pointer=void 0;var e=vE();Object.defineProperty(t,"Pointer",{enumerable:!0,get:function(){return e.Pointer}});var n=X4(),s=bE();function a(h,y){return y.map(function(g){return(0,n.apply)(h,g)})}t.applyPatch=a;function c(h){function y(g,v,S){var C=h(g,v,S);return Array.isArray(C)?C:(0,s.diffAny)(g,v,S,y)}return y}function u(h,y,g){var v=new e.Pointer;return(g?c(g):s.diffAny)(h,y,v)}t.createPatch=u;function f(h,y){var g=e.Pointer.fromJSON(y).evaluate(h);if(g!==void 0)return{op:"test",path:y,value:g.value}}function d(h,y){var g=new Array;return y.filter(s.isDestructive).forEach(function(v){var S=f(h,v.path);if(S&&g.push(S),"from"in v){var C=f(h,v.from);C&&g.push(C)}}),g}t.createTests=d})(Ip)),Ip}var SE=Q4();function Z4({moves:t,phases:e,endIf:n,onEnd:s,turn:a,events:c,plugins:u}){t===void 0&&(t={}),c===void 0&&(c={}),u===void 0&&(u=[]),e===void 0&&(e={}),n||(n=()=>{}),s||(s=({G:I})=>I),a||(a={});const f={...e};""in f&&zt("cannot specify phase with empty name"),f[""]={};const d={},h=new Set;let y=null;Object.keys(t).forEach(I=>h.add(I));const g=(I,K)=>{const de=mE(I,K,u);return Le=>{const $e=lo(Le);return de({...$e,G:Le.G,ctx:Le.ctx,playerID:Le.playerID})}},v=I=>K=>{const de=lo(K);return I({...de,G:K.G,ctx:K.ctx})},S={onEnd:g(s,Vn.GAME_ON_END),endIf:v(n)};for(const I in f){const K=f[I];if(K.start===!0&&(y=I),K.moves!==void 0)for(const de of Object.keys(K.moves))d[I+"."+de]=K.moves[de],h.add(de);K.endIf===void 0&&(K.endIf=()=>{}),K.onBegin===void 0&&(K.onBegin=({G:de})=>de),K.onEnd===void 0&&(K.onEnd=({G:de})=>de),K.turn===void 0&&(K.turn=a),K.turn.order===void 0&&(K.turn.order=K4.DEFAULT),K.turn.onBegin===void 0&&(K.turn.onBegin=({G:de})=>de),K.turn.onEnd===void 0&&(K.turn.onEnd=({G:de})=>de),K.turn.endIf===void 0&&(K.turn.endIf=()=>!1),K.turn.onMove===void 0&&(K.turn.onMove=({G:de})=>de),K.turn.stages===void 0&&(K.turn.stages={}),yf(K.turn,!0);for(const de in K.turn.stages){const $e=K.turn.stages[de].moves||{};for(const ze of Object.keys($e)){const bt=I+"."+de+"."+ze;d[bt]=$e[ze],h.add(ze)}}if(K.wrapped={onBegin:g(K.onBegin,Vn.PHASE_ON_BEGIN),onEnd:g(K.onEnd,Vn.PHASE_ON_END),endIf:v(K.endIf)},K.turn.wrapped={onMove:g(K.turn.onMove,Vn.TURN_ON_MOVE),onBegin:g(K.turn.onBegin,Vn.TURN_ON_BEGIN),onEnd:g(K.turn.onEnd,Vn.TURN_ON_END),endIf:v(K.turn.endIf)},typeof K.next!="function"){const{next:de}=K;K.next=()=>de||null}K.wrapped.next=v(K.next)}function C(I){return I.phase?f[I.phase]:f[""]}function E(I){return I}function M(I,K){const de=new Set,Le=new Set;for(let $e=0;$e<K.length;$e++){const{fn:ze,arg:bt,...gt}=K[$e];if(ze===Ce){Le.clear();const Ot=I.ctx.phase;if(de.has(Ot)){const Ft={...I.ctx,phase:null};return{...I,ctx:Ft}}de.add(Ot)}const qt=[];if(I=ze(I,{...gt,arg:bt,next:qt}),ze===Se)break;const St=X(I);if(St){K.push({fn:Se,arg:St,turn:I.ctx.turn,phase:I.ctx.phase,automatic:!0});continue}const Tt=me(I);if(Tt){K.push({fn:Ce,arg:Tt,turn:I.ctx.turn,phase:I.ctx.phase,automatic:!0});continue}if([E,W,F].includes(ze)){const Ot=xe(I);if(Ot){K.push({fn:Ee,arg:Ot,turn:I.ctx.turn,phase:I.ctx.phase,automatic:!0});continue}}K.push(...qt)}return I}function P(I,{next:K}){return K.push({fn:D}),I}function D(I,{next:K}){let{G:de,ctx:Le}=I;return de=C(Le).wrapped.onBegin(I),K.push({fn:k}),{...I,G:de,ctx:Le}}function k(I,{currentPlayer:K}){let{ctx:de}=I;const Le=C(de);K?(de={...de,currentPlayer:K},Le.turn.activePlayers&&(de=gf(de,Le.turn.activePlayers))):de=Y4(I,Le.turn);const $e=de.turn+1;de={...de,turn:$e,numMoves:0,_prevActivePlayers:[]};const ze=Le.turn.wrapped.onBegin({...I,ctx:de});return{...I,G:ze,ctx:de,_undo:[],_redo:[]}}function j(I,{arg:K,next:de,phase:Le}){const $e=C({phase:Le});let{ctx:ze}=I;if(K&&K.next)if(K.next in f)ze={...ze,phase:K.next};else return zt("invalid phase: "+K.next),I;else ze={...ze,phase:$e.wrapped.next(I)||null};return I={...I,ctx:ze},de.push({fn:D}),I}function Y(I,{arg:K,currentPlayer:de,next:Le}){let{G:$e,ctx:ze}=I;const bt=C(ze),{endPhase:gt,ctx:qt}=G4(I,de,bt.turn,K);return ze=qt,I={...I,G:$e,ctx:ze},gt?Le.push({fn:Ce,turn:ze.turn,phase:ze.phase}):Le.push({fn:k,currentPlayer:ze.currentPlayer}),I}function W(I,{arg:K,playerID:de}){if((typeof K=="string"||K===vf.NULL)&&(K={stage:K}),typeof K!="object")return I;yf(K);let{ctx:Le}=I,{activePlayers:$e,_activePlayersMinMoves:ze,_activePlayersMaxMoves:bt,_activePlayersNumMoves:gt}=Le;return K.stage!==void 0&&($e===null&&($e={}),$e[de]=K.stage,gt[de]=0,K.minMoves&&(ze===null&&(ze={}),ze[de]=K.minMoves),K.maxMoves&&(bt===null&&(bt={}),bt[de]=K.maxMoves)),Le={...Le,activePlayers:$e,_activePlayersMinMoves:ze,_activePlayersMaxMoves:bt,_activePlayersNumMoves:gt},{...I,ctx:Le}}function F(I,{arg:K}){return{...I,ctx:gf(I.ctx,K)}}function X(I){return S.endIf(I)}function me(I){return C(I.ctx).wrapped.endIf(I)}function xe(I){const K=C(I.ctx),de=I.ctx.numMoves||0;return K.turn.maxMoves&&de>=K.turn.maxMoves?!0:K.turn.wrapped.endIf(I)}function Se(I,{arg:K,phase:de}){I=Ce(I,{}),K===void 0&&(K=!0),I={...I,ctx:{...I.ctx,gameover:K}};const Le=S.onEnd(I);return{...I,G:Le}}function Ce(I,{arg:K,next:de,turn:Le,automatic:$e}){I=Ee(I,{turn:Le,force:!0,automatic:!0});const{phase:ze,turn:bt}=I.ctx;if(de&&de.push({fn:j,arg:K,phase:ze}),ze===null)return I;const qt=C(I.ctx).wrapped.onEnd(I),St={...I.ctx,phase:null},Tt=Mc("endPhase",K),{_stateID:Ot}=I,Ft={action:Tt,_stateID:Ot,turn:bt,phase:ze};$e&&(Ft.automatic=!0);const Pn=[...I.deltalog||[],Ft];return{...I,G:qt,ctx:St,deltalog:Pn}}function Ee(I,{arg:K,next:de,turn:Le,force:$e,automatic:ze,playerID:bt}){if(Le!==I.ctx.turn)return I;const{currentPlayer:gt,numMoves:qt,phase:St,turn:Tt}=I.ctx,Ot=C(I.ctx),Ft=qt||0;if(!$e&&Ot.turn.minMoves&&Ft<Ot.turn.minMoves)return`${Ot.turn.minMoves}`,I;const Pn=Ot.turn.wrapped.onEnd(I);de&&de.push({fn:Y,arg:K,currentPlayer:gt});let it={...I.ctx,activePlayers:null};if(K&&K.remove){bt=bt||gt;const An=it.playOrder.filter(Qs=>Qs!=bt),jr=it.playOrderPos>An.length-1?0:it.playOrderPos;if(it={...it,playOrder:An,playOrderPos:jr},An.length===0)return de.push({fn:Ce,turn:Tt,phase:St}),I}const lt=Mc("endTurn",K),{_stateID:Yt}=I,Rn={action:lt,_stateID:Yt,turn:Tt,phase:St};ze&&(Rn.automatic=!0);const Yn=[...I.deltalog||[],Rn];return{...I,G:Pn,ctx:it,deltalog:Yn,_undo:[],_redo:[]}}function be(I,{arg:K,next:de,automatic:Le,playerID:$e}){$e=$e||I.ctx.currentPlayer;let{ctx:ze,_stateID:bt}=I,{activePlayers:gt,_activePlayersNumMoves:qt,_activePlayersMinMoves:St,_activePlayersMaxMoves:Tt,phase:Ot,turn:Ft}=ze;const Pn=gt!==null&&$e in gt,it=C(ze);if(!K&&Pn){const An=it.turn.stages[gt[$e]];An&&An.next&&(K=An.next)}if(de&&de.push({fn:W,arg:K,playerID:$e}),!Pn)return I;const lt=qt[$e]||0;if(St&&St[$e]&&lt<St[$e])return`${St[$e]}`,I;gt={...gt},delete gt[$e],St&&(St={...St},delete St[$e]),Tt&&(Tt={...Tt},delete Tt[$e]),ze=F4({...ze,activePlayers:gt,_activePlayersMinMoves:St,_activePlayersMaxMoves:Tt});const Rn={action:Mc("endStage",K),_stateID:bt,turn:Ft,phase:Ot};Le&&(Rn.automatic=!0);const Yn=[...I.deltalog||[],Rn];return{...I,ctx:ze,deltalog:Yn}}function Ne(I,K,de){const Le=C(I),$e=Le.turn.stages,{activePlayers:ze}=I;if(ze&&ze[de]!==void 0&&ze[de]!==vf.NULL&&$e[ze[de]]!==void 0&&$e[ze[de]].moves!==void 0){const gt=$e[ze[de]].moves;if(K in gt)return gt[K]}else if(Le.moves){if(K in Le.moves)return Le.moves[K]}else if(K in t)return t[K];return null}function H(I,K){const{playerID:de,type:Le}=K,{currentPlayer:$e,activePlayers:ze,_activePlayersMaxMoves:bt}=I.ctx,gt=Ne(I.ctx,Le,de),qt=!gt||typeof gt=="function"||gt.noLimit!==!0;let{numMoves:St,_activePlayersNumMoves:Tt}=I.ctx;qt&&(de===$e&&St++,ze&&Tt[de]++),I={...I,ctx:{...I.ctx,numMoves:St,_activePlayersNumMoves:Tt}},bt&&Tt[de]>=bt[de]&&(I=be(I,{playerID:de,automatic:!0}));const Ft=C(I.ctx).turn.wrapped.onMove({...I,playerID:de});return I={...I,G:Ft},M(I,[{fn:E}])}function ie(I,K,de){return M(I,[{fn:be,arg:de,playerID:K}])}function G(I,K){return M(I,[{fn:be,playerID:K}])}function Me(I,K,de){return M(I,[{fn:F,arg:de}])}function Ze(I,K,de){return M(I,[{fn:Ce,phase:I.ctx.phase,turn:I.ctx.turn,arg:{next:de}}])}function L(I){return M(I,[{fn:Ce,phase:I.ctx.phase,turn:I.ctx.turn}])}function te(I,K,de){return M(I,[{fn:Ee,turn:I.ctx.turn,phase:I.ctx.phase,arg:de}])}function ae(I,K,de){return M(I,[{fn:Ee,turn:I.ctx.turn,phase:I.ctx.phase,force:!0,arg:de}])}function pe(I,K,de){return M(I,[{fn:Se,turn:I.ctx.turn,phase:I.ctx.phase,arg:de}])}const ye={endStage:G,setStage:ie,endTurn:te,pass:ae,endPhase:L,setPhase:Ze,endGame:pe,setActivePlayers:Me},Te=[];c.endTurn!==!1&&Te.push("endTurn"),c.pass!==!1&&Te.push("pass"),c.endPhase!==!1&&Te.push("endPhase"),c.setPhase!==!1&&Te.push("setPhase"),c.endGame!==!1&&Te.push("endGame"),c.setActivePlayers!==!1&&Te.push("setActivePlayers"),c.endStage!==!1&&Te.push("endStage"),c.setStage!==!1&&Te.push("setStage");function je(I,K){const{type:de,playerID:Le,args:$e}=K.payload;return typeof ye[de]!="function"?I:ye[de](I,Le,...Array.isArray($e)?$e:[$e])}function xt(I,K,de){return K.activePlayers?de in K.activePlayers:K.currentPlayer===de}return{ctx:I=>({numPlayers:I,turn:0,currentPlayer:"0",playOrder:[...Array.from({length:I})].map((K,de)=>de+""),playOrderPos:0,phase:y,activePlayers:null}),init:I=>M(I,[{fn:P}]),isPlayerActive:xt,eventHandlers:ye,eventNames:Object.keys(ye),enabledEventNames:Te,moveMap:d,moveNames:[...h.values()],processMove:H,processEvent:je,getMove:Ne}}function J4(t){return t.processMove!==void 0}function Zc(t){if(J4(t))return t;if(t.name===void 0&&(t.name="default"),t.deltaState===void 0&&(t.deltaState=!1),t.disableUndo===void 0&&(t.disableUndo=!1),t.setup===void 0&&(t.setup=()=>({})),t.moves===void 0&&(t.moves={}),t.playerView===void 0&&(t.playerView=({G:n})=>n),t.plugins===void 0&&(t.plugins=[]),t.plugins.forEach(n=>{if(n.name===void 0)throw new Error("Plugin missing name attribute");if(n.name.includes(" "))throw new Error(n.name+": Plugin name must not include spaces")}),t.name.includes(" "))throw new Error(t.name+": Game name must not include spaces");const e=Z4(t);return{...t,flow:e,moveNames:e.moveNames,pluginNames:t.plugins.map(n=>n.name),processMove:(n,s)=>{let a=e.getMove(n.ctx,s.type,s.playerID);if(_E(a)&&(a=a.move),a instanceof Function){const c=mE(a,Vn.MOVE,t.plugins);let u=[];s.args!==void 0&&(u=Array.isArray(s.args)?s.args:[s.args]);const f={...lo(n),G:n.G,ctx:n.ctx,playerID:s.playerID};return c(f,...u)}return zt(`invalid move object: ${s.type}`),n.G}}}function _E(t){return t instanceof Object&&t.move!==void 0}var Bm;(function(t){t.UnauthorizedAction="update/unauthorized_action",t.MatchNotFound="update/match_not_found",t.PatchFailed="update/patch_failed"})(Bm||(Bm={}));var $n;(function(t){t.StaleStateId="action/stale_state_id",t.UnavailableMove="action/unavailable_move",t.InvalidMove="action/invalid_move",t.InactivePlayer="action/inactive_player",t.GameOver="action/gameover",t.ActionDisabled="action/action_disabled",t.ActionInvalid="action/action_invalid",t.PluginActionInvalid="action/plugin_invalid"})($n||($n={}));const _u=t=>t.payload.playerID!==null&&t.payload.playerID!==void 0,W4=(t,e,n)=>{function s(c){return c.undoable!==void 0}function a(c){return c instanceof Function}return s(n)?a(n.undoable)?n.undoable({G:t,ctx:e}):n.undoable:!0};function D1(t,e){if(e.game.disableUndo)return t;const n={G:t.G,ctx:t.ctx,plugins:t.plugins,playerID:e.action.payload.playerID||t.ctx.currentPlayer};return e.action.type==="MAKE_MOVE"&&(n.moveType=e.action.payload.type),{...t,_undo:[...t._undo,n],_redo:[]}}function Hp(t,e,n){const s={action:e,_stateID:t._stateID,turn:t.ctx.turn,phase:t.ctx.phase},a=t.plugins.log.data.metadata;return a!==void 0&&(s.metadata=a),typeof n=="object"&&n.redact===!0?s.redact=!0:typeof n=="object"&&n.redact instanceof Function&&(s.redact=n.redact({G:t.G,ctx:t.ctx})),{...t,deltalog:[s]}}function $p(t,e,n){const[s,a]=yE(t,n);return a?[s,Zn(e,$n.PluginActionInvalid,a)]:[s]}function wE(t){if(!t)return[null,void 0];const{transients:e,...n}=t;return[n,e]}function Zn(t,e,n){return{...t,transients:{error:{type:e,payload:n}}}}const CE=t=>e=>n=>{const s=e(n);switch(n.type){case Gf:return s;default:{const[,a]=wE(t.getState());return typeof a<"u"?(t.dispatch(pE()),{...s,transients:a}):s}}};function Kf({game:t,isClient:e}){return t=Zc(t),(n=null,s)=>{let[a]=wE(n);switch(s.type){case Gf:return a;case qf:{if(a={...a,deltalog:[]},e)return a;if(a.ctx.gameover!==void 0)return zt("cannot call event after game end"),Zn(a,$n.GameOver);if(_u(s)&&!t.flow.isPlayerActive(a.G,a.ctx,s.payload.playerID))return zt(`disallowed event: ${s.payload.type}`),Zn(a,$n.InactivePlayer);a=zm(a,{game:t,playerID:s.payload.playerID});let c=t.flow.processEvent(a,s),u;return[c,u]=$p(c,a,{game:t}),u||(c=D1(c,{game:t,action:s}),{...c,_stateID:a._stateID+1})}case Ic:{const c=a={...a,deltalog:[]},u=t.flow.getMove(a.ctx,s.payload.type,s.payload.playerID||a.ctx.currentPlayer);if(u===null)return zt(`disallowed move: ${s.payload.type}`),Zn(a,$n.UnavailableMove);if(e&&u.client===!1)return a;if(a.ctx.gameover!==void 0)return zt("cannot make move after game end"),Zn(a,$n.GameOver);if(_u(s)&&!t.flow.isPlayerActive(a.G,a.ctx,s.payload.playerID))return zt(`disallowed move: ${s.payload.type}`),Zn(a,$n.InactivePlayer);a=zm(a,{game:t,playerID:s.payload.playerID});const f=t.processMove(a,s.payload);if(f===Um)return zt(`invalid move: ${s.payload.type} args: ${s.payload.args}`),Zn(a,$n.InvalidMove);const d={...a,G:f};if(e&&V4(d,{game:t}))return a;if(a=d,e){let y;return[a,y]=$p(a,c,{game:t}),y||{...a,_stateID:a._stateID+1}}a=Hp(a,s,u),a=t.flow.processMove(a,s.payload);let h;return[a,h]=$p(a,c,{game:t}),h||(a=D1(a,{game:t,action:s}),{...a,_stateID:a._stateID+1})}case Yy:case Ky:case Gy:return s.state;case Yf:{if(a={...a,deltalog:[]},t.disableUndo)return zt("Undo is not enabled"),Zn(a,$n.ActionDisabled);const{G:c,ctx:u,_undo:f,_redo:d,_stateID:h}=a;if(f.length<2)return zt("No moves to undo"),Zn(a,$n.ActionInvalid);const y=f[f.length-1],g=f[f.length-2];if(_u(s)&&s.payload.playerID!==y.playerID)return zt("Cannot undo other players' moves"),Zn(a,$n.ActionInvalid);if(y.moveType){const v=t.flow.getMove(g.ctx,y.moveType,y.playerID);if(!W4(c,u,v))return zt("Move cannot be undone"),Zn(a,$n.ActionInvalid)}return a=Hp(a,s),{...a,G:g.G,ctx:g.ctx,plugins:g.plugins,_stateID:h+1,_undo:f.slice(0,-1),_redo:[y,...d]}}case Ff:{if(a={...a,deltalog:[]},t.disableUndo)return zt("Redo is not enabled"),Zn(a,$n.ActionDisabled);const{_undo:c,_redo:u,_stateID:f}=a;if(u.length===0)return zt("No moves to redo"),Zn(a,$n.ActionInvalid);const d=u[0];return _u(s)&&s.payload.playerID!==d.playerID?(zt("Cannot redo other players' moves"),Zn(a,$n.ActionInvalid)):(a=Hp(a,s),{...a,G:d.G,ctx:d.ctx,plugins:d.plugins,_stateID:f+1,_undo:[...c,d],_redo:u.slice(1)})}case iE:return B4(a,s,{game:t});case Xy:{const c=a,u=JSON.parse(JSON.stringify(c)),f=SE.applyPatch(u,s.patch);return f.some(h=>h!==null)?(zt(`Patch ${JSON.stringify(s.patch)} apply failed`),Zn(c,Bm.PatchFailed,f)):u}default:return a}}}function Jy({game:t,numPlayers:e,setupData:n}){t=Zc(t),e||(e=2);const s=t.flow.ctx(e);let a={G:{},ctx:s,plugins:{}};a=H4(a,{game:t}),a=zm(a,{game:t,playerID:void 0});const c=lo(a);a.G=t.setup({...c,ctx:a.ctx},n);let u={...a,_undo:[],_redo:[],_stateID:0};return u=t.flow.init(u),[u]=yE(u,{game:t}),t.disableUndo||(u._undo=[{G:u.G,ctx:u.ctx,plugins:u.plugins}]),u}let Xf=class{constructor({transportDataCallback:e,gameName:n,playerID:s,matchID:a,credentials:c,numPlayers:u}){this.connectionStatusCallback=()=>{},this.isConnected=!1,this.transportDataCallback=e,this.gameName=n||"default",this.playerID=s||null,this.matchID=a||"default",this.credentials=c,this.numPlayers=u||2}subscribeToConnectionStatus(e){this.connectionStatusCallback=e}setConnectionStatus(e){this.isConnected=e,this.connectionStatusCallback()}notifyClient(e){this.transportDataCallback(e)}};var Bc;(function(t){t[t.SYNC=0]="SYNC",t[t.ASYNC=1]="ASYNC"})(Bc||(Bc={}));function Qi(t){return t.type()===Bc.SYNC}class ek{type(){return Bc.ASYNC}async createMatch(e,n){if(this.createGame)return console.warn("The database connector does not implement a createMatch method.",`
Using the deprecated createGame method instead.`),this.createGame(e,n);console.error("The database connector does not implement a createMatch method.")}async listMatches(e){if(this.listGames)return console.warn("The database connector does not implement a listMatches method.",`
Using the deprecated listGames method instead.`),this.listGames(e);console.error("The database connector does not implement a listMatches method.")}}class EE{type(){return Bc.SYNC}connect(){}createMatch(e,n){if(this.createGame)return console.warn("The database connector does not implement a createMatch method.",`
Using the deprecated createGame method instead.`),this.createGame(e,n);console.error("The database connector does not implement a createMatch method.")}listMatches(e){if(this.listGames)return console.warn("The database connector does not implement a listMatches method.",`
Using the deprecated listGames method instead.`),this.listGames(e);console.error("The database connector does not implement a listMatches method.")}}const tk=({game:t,unlisted:e,setupData:n,numPlayers:s})=>{const a={gameName:t.name,unlisted:!!e,players:{},createdAt:Date.now(),updatedAt:Date.now()};n!==void 0&&(a.setupData=n);for(let c=0;c<s;c++)a.players[c]={id:c};return a},TE=({game:t,numPlayers:e,setupData:n,unlisted:s})=>{(!e||typeof e!="number")&&(e=2);const a=t.validateSetupData&&t.validateSetupData(n,e);if(a!==void 0)return{setupDataError:a};const c=tk({game:t,numPlayers:e,setupData:n,unlisted:s}),u=Jy({game:t,numPlayers:e,setupData:n});return{metadata:c,initialState:u}},wu=(t,e,n)=>({...n,G:t.playerView({G:n.G,ctx:n.ctx,playerID:e}),plugins:gE(n,{playerID:e,game:t}),deltalog:void 0,_undo:[],_redo:[]}),RE=t=>(e,n)=>{switch(n.type){case"patch":{const[s,a,c,u]=n.args,f=Vp(u.deltalog,e),d=wu(t,e,u),h=u._stateID,y=wu(t,e,c),g=SE.createPatch(y,d);return{type:"patch",args:[s,a,h,g,f]}}case"update":{const[s,a]=n.args,c=Vp(a.deltalog,e),u=wu(t,e,a);return{type:"update",args:[s,u,c]}}case"sync":{const[s,a]=n.args,c=wu(t,e,a.state),u=Vp(a.log,e),f={...a,state:c,log:u};return{type:"sync",args:[s,f]}}default:return n}};function Vp(t,e){return t===void 0?t:t.map(n=>{if(e!==null&&+e==+n.action.payload.playerID||n.redact!==!0)return n;const s={...n.action.payload,args:null},a={...n,action:{...n.action,payload:s}},{redact:c,...u}=a;return u})}const nk=Object.freeze(Object.defineProperty({__proto__:null,Async:ek,CreateGameReducer:Kf,InitializeGame:Jy,ProcessGameConfig:Zc,Sync:EE,Transport:Xf,createMatch:TE,getFilterPlayerView:RE},Symbol.toStringTag,{value:"Module"})),Wy=bf(nk);var Zi={};function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function rk(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(Hc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sk(t){var e=rk(t,"string");return Hc(e)=="symbol"?e:e+""}function ik(t,e,n){return(e=sk(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function j1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k1(Object(n),!0).forEach(function(s){ik(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k1(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function vr(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var L1=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),U1=function(){return Math.random().toString(36).substring(7).split("").join(".")},z1={INIT:"@@redux/INIT"+U1(),REPLACE:"@@redux/REPLACE"+U1()};function ak(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function eg(t,e,n){var s;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(vr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(vr(1));return n(eg)(t,e)}if(typeof t!="function")throw new Error(vr(2));var a=t,c=e,u=[],f=u,d=!1;function h(){f===u&&(f=u.slice())}function y(){if(d)throw new Error(vr(3));return c}function g(E){if(typeof E!="function")throw new Error(vr(4));if(d)throw new Error(vr(5));var M=!0;return h(),f.push(E),function(){if(M){if(d)throw new Error(vr(6));M=!1,h();var D=f.indexOf(E);f.splice(D,1),u=null}}}function v(E){if(!ak(E))throw new Error(vr(7));if(typeof E.type>"u")throw new Error(vr(8));if(d)throw new Error(vr(9));try{d=!0,c=a(c,E)}finally{d=!1}for(var M=u=f,P=0;P<M.length;P++){var D=M[P];D()}return E}function S(E){if(typeof E!="function")throw new Error(vr(10));a=E,v({type:z1.REPLACE})}function C(){var E,M=g;return E={subscribe:function(D){if(typeof D!="object"||D===null)throw new Error(vr(11));function k(){D.next&&D.next(y())}k();var j=M(k);return{unsubscribe:j}}},E[L1]=function(){return this},E}return v({type:z1.INIT}),s={dispatch:v,subscribe:g,getState:y,replaceReducer:S},s[L1]=C,s}function AE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(s){return s}:e.length===1?e[0]:e.reduce(function(s,a){return function(){return s(a.apply(void 0,arguments))}})}function OE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(s){return function(){var a=s.apply(void 0,arguments),c=function(){throw new Error(vr(15))},u={getState:a.getState,dispatch:function(){return c.apply(void 0,arguments)}},f=e.map(function(d){return d(u)});return c=AE.apply(void 0,f)(a.dispatch),j1(j1({},a),{},{dispatch:c})}}}const I1=t=>Object.values(t.players).map(e=>{const{credentials:n,...s}=e;return s}),ok=t=>{const{credentials:e,...n}=t.payload;return{...t,payload:n}};class ME{constructor(e,n,s,a){this.game=Zc(e),this.storageAPI=n,this.transportAPI=s,this.subscribeCallback=()=>{},this.auth=a}subscribe(e){this.subscribeCallback=e}async onUpdate(e,n,s,a){if(!e||!e.payload)return{error:"missing action or action payload"};let c;if(Qi(this.storageAPI)?{metadata:c}=this.storageAPI.fetch(s,{metadata:!0}):{metadata:c}=await this.storageAPI.fetch(s,{metadata:!0}),this.auth&&!await this.auth.authenticateCredentials({playerID:a,credentials:e.payload.credentials,metadata:c}))return{error:"unauthorized action"};const u=ok(e),f=s;let d;if(Qi(this.storageAPI)?{state:d}=this.storageAPI.fetch(f,{state:!0}):{state:d}=await this.storageAPI.fetch(f,{state:!0}),d===void 0)return zt(`game not found, matchID=[${f}]`),{error:"game not found"};if(d.ctx.gameover!==void 0){zt(`game over - matchID=[${f}] - playerID=[${a}] - action[${u.payload.type}]`);return}const h=Kf({game:this.game}),y=OE(CE),g=eg(h,d,y);if(u.type==Yf||u.type==Ff){const P=d.ctx.activePlayers!==null,D=d.ctx.currentPlayer===a;if(!P&&!D||P&&(d.ctx.activePlayers[a]===void 0||Object.keys(d.ctx.activePlayers).length>1)){zt(`playerID=[${a}] cannot undo / redo right now`);return}}if(!this.game.flow.isPlayerActive(d.G,d.ctx,a)){zt(`player not active - playerID=[${a}] - action[${u.payload.type}]`);return}const v=u.type==Ic?this.game.flow.getMove(d.ctx,u.payload.type,a):null;if(u.type==Ic&&!v){zt(`move not processed - canPlayerMakeMove=false - playerID=[${a}] - action[${u.payload.type}]`);return}if(d._stateID!==n&&!(v&&_E(v)&&v.ignoreStaleStateID)){zt(`invalid stateID, was=[${n}], expected=[${d._stateID}] - playerID=[${a}] - action[${u.payload.type}]`);return}const S=g.getState();g.dispatch(u),d=g.getState(),this.subscribeCallback({state:d,action:u,matchID:s}),this.game.deltaState?this.transportAPI.sendAll({type:"patch",args:[s,n,S,d]}):this.transportAPI.sendAll({type:"update",args:[s,d]});const{deltalog:C,...E}=d;let M;if(c&&(c.gameover===void 0||c.gameover===null)&&(M={...c,updatedAt:Date.now()},d.ctx.gameover!==void 0&&(M.gameover=d.ctx.gameover)),Qi(this.storageAPI))this.storageAPI.setState(f,E,C),M&&this.storageAPI.setMetadata(f,M);else{const P=[this.storageAPI.setState(f,E,C)];M&&P.push(this.storageAPI.setMetadata(f,M)),await Promise.all(P)}}async onSync(e,n,s,a=2){const c=e,u={state:!0,metadata:!0,log:!0,initialState:!0},f=Qi(this.storageAPI)?this.storageAPI.fetch(c,u):await this.storageAPI.fetch(c,u);let{state:d,initialState:h,log:y,metadata:g}=f;if(this.auth&&n!==void 0&&n!==null&&!await this.auth.authenticateCredentials({playerID:n,credentials:s,metadata:g}))return{error:"unauthorized"};if(d===void 0){const C=TE({game:this.game,unlisted:!0,numPlayers:a,setupData:void 0});if("setupDataError"in C)return{error:"game requires setupData"};h=d=C.initialState,g=C.metadata,this.subscribeCallback({state:d,matchID:e}),Qi(this.storageAPI)?this.storageAPI.createMatch(c,{initialState:h,metadata:g}):await this.storageAPI.createMatch(c,{initialState:h,metadata:g})}const v=g?I1(g):void 0,S={state:d,log:y,filteredMetadata:v,initialState:h};this.transportAPI.send({playerID:n,type:"sync",args:[e,S]})}async onConnectionChange(e,n,s,a){const c=e;if(n==null)return;let u;if(Qi(this.storageAPI)?{metadata:u}=this.storageAPI.fetch(c,{metadata:!0}):{metadata:u}=await this.storageAPI.fetch(c,{metadata:!0}),u===void 0)return zt(`metadata not found for matchID=[${c}]`),{error:"metadata not found"};if(u.players[n]===void 0)return zt(`Player not in the match, matchID=[${c}] playerID=[${n}]`),{error:"player not in the match"};if(this.auth&&!await this.auth.authenticateCredentials({playerID:n,credentials:s,metadata:u}))return{error:"unauthorized"};u.players[n].isConnected=a;const f=I1(u);this.transportAPI.sendAll({type:"matchData",args:[e,f]}),Qi(this.storageAPI)?this.storageAPI.setMetadata(c,u):await this.storageAPI.setMetadata(c,u)}async onChatMessage(e,n,s){const a=e;if(this.auth){const{metadata:c}=await this.storageAPI.fetch(a,{metadata:!0});if(!(n&&typeof n.sender=="string"))return{error:"unauthorized"};if(!await this.auth.authenticateCredentials({playerID:n.sender,credentials:s,metadata:c}))return{error:"unauthorized"}}this.transportAPI.sendAll({type:"chat",args:[e,n]})}}const ck=Object.freeze(Object.defineProperty({__proto__:null,Master:ME},Symbol.toStringTag,{value:"Module"})),lk=bf(ck);var mc={},B1;function uk(){if(B1)return mc;B1=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.P2PDB=void 0;const t=Wy;class e extends t.Sync{constructor(){super(...arguments),this.initialState=new Map,this.state=new Map,this.log=new Map,this.metadata=new Map}connect(){}createMatch(s,a){this.initialState.set(s,a.initialState),this.state.set(s,a.initialState),this.log.set(s,[]),this.metadata.set(s,a.metadata)}setState(s,a,c){this.state.set(s,a),c&&this.log.set(s,[...this.log.get(s)||[],...c])}setMetadata(s,a){this.metadata.set(s,a)}fetch(s){return{initialState:this.initialState.get(s),state:this.state.get(s),log:this.log.get(s),metadata:this.metadata.get(s)}}wipe(s){this.initialState.delete(s),this.state.delete(s),this.log.delete(s),this.metadata.delete(s)}listMatches(){return[...this.metadata.keys()]}}return mc.P2PDB=e,mc}var Hs={},H1;function Hm(){if(H1)return Hs;H1=1,Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.authenticate=Hs.signMessage=Hs.generateCredentials=void 0;const t=eE(),e=tE();function n(){return(0,e.encodeBase64)((0,t.randomBytes)(64))}Hs.generateCredentials=n;function s(u,f,d){try{const h=t.sign.open((0,e.decodeBase64)(u),(0,e.decodeBase64)(f));return h!==null&&(0,e.encodeUTF8)(h)===d}catch{return!1}}function a(u,f){return(0,e.encodeBase64)((0,t.sign)((0,e.decodeUTF8)(u),(0,e.decodeBase64)(f)))}Hs.signMessage=a;function c(u,f,d){const{playerID:h,credentials:y,message:g}=f,{metadata:v}=d.fetch(u);if(h==null||!(+h in v.players))return!0;const S=v.players[+h].credentials,C=y?!!g&&s(g,y,h):!1;return!S&&C?(d.setMetadata(u,Object.assign(Object.assign({},v),{players:Object.assign(Object.assign({},v.players),{[+h]:Object.assign(Object.assign({},v.players[+h]),{credentials:y})})})),!0):!!(!S&&!y||S&&S===y&&C)}return Hs.authenticate=c,Hs}var $1;function fk(){if($1)return Zi;$1=1;var t=Zi&&Zi.__rest||function(u,f){var d={};for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&f.indexOf(h)<0&&(d[h]=u[h]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,h=Object.getOwnPropertySymbols(u);y<h.length;y++)f.indexOf(h[y])<0&&Object.prototype.propertyIsEnumerable.call(u,h[y])&&(d[h[y]]=u[h[y]]);return d};Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.P2PHost=void 0;const e=Wy,n=lk,s=uk(),a=Hm();class c{constructor({game:f,numPlayers:d=2,matchID:h}){this.clients=new Map,this.matchID=h,(!f.name||f.name==="default")&&console.error('Using "default" as your game name.\nPlease set the `name` property of your game definition to a unique string to help avoid peer ID conflicts.');const y=(0,e.createMatch)({game:f,numPlayers:d,unlisted:!1,setupData:void 0});if("setupDataError"in y)throw new Error("setupData Error: "+y.setupDataError);this.db=new s.P2PDB,this.db.createMatch(this.matchID,y);const g=(0,e.getFilterPlayerView)(f);this.master=new n.Master(f,this.db,{send:v=>{var{playerID:S}=v,C=t(v,["playerID"]);const E=g(S,C);for(const[M]of this.clients)M.metadata.playerID===S&&M.send(E)},sendAll:v=>{for(const[S]of this.clients){const C=g(S.metadata.playerID,v);S.send(C)}}})}registerClient(f){if(!this.authenticateClient(f))return;const{playerID:h,credentials:y}=f.metadata;this.clients.set(f,f),this.master.onConnectionChange(this.matchID,h,y,!0)}authenticateClient(f){return(0,a.authenticate)(this.matchID,f.metadata,this.db)}unregisterClient(f){const{credentials:d,playerID:h}=f.metadata;this.clients.delete(f),this.master.onConnectionChange(this.matchID,h,d,!1)}processAction(f){switch(f.type){case"update":this.master.onUpdate(...f.args);break;case"chat":this.master.onChatMessage(...f.args);break;case"sync":this.master.onSync(...f.args);break}}}return Zi.P2PHost=c,Zi}var V1;function dk(){return V1||(V1=1,(function(t){var e=Xi&&Xi.__rest||function(S,C){var E={};for(var M in S)Object.prototype.hasOwnProperty.call(S,M)&&C.indexOf(M)<0&&(E[M]=S[M]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var P=0,M=Object.getOwnPropertySymbols(S);P<M.length;P++)C.indexOf(M[P])<0&&Object.prototype.propertyIsEnumerable.call(S,M[P])&&(E[M[P]]=S[M[P]]);return E},n=Xi&&Xi.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(t,"__esModule",{value:!0}),t.P2P=t.generateCredentials=void 0;const s=n(f4),a=eE(),c=tE(),u=Wy,f=fk(),d=Hm();var h=Hm();Object.defineProperty(t,"generateCredentials",{enumerable:!0,get:function(){return h.generateCredentials}});class y{constructor(){this.initialInterval=500,this.maxInterval=32e3,this.interval=this.initialInterval}cancelTask(){this.taskID&&(clearTimeout(this.taskID),delete this.taskID)}schedule(C){this.cancelTask(),this.taskID=setTimeout(()=>{this.interval<this.maxInterval&&(this.interval*=2),C()},this.interval)}clear(){this.cancelTask(),this.interval=this.initialInterval}}class g extends u.Transport{constructor(C){var{isHost:E,onError:M=()=>{},peerOptions:P={}}=C,D=e(C,["isHost","onError","peerOptions"]);super(D),this.peer=null,this.isHost=!!E,this.onError=M,this.peerOptions=P,this.game=D.game,this.retryHandler=new y,this.setCredentials(D.credentials)}get hostID(){if(!this.matchID)throw new Error("matchID must be provided");return`boardgameio-${this.gameName}-matchid-${this.matchID}`.replace(/([^A-Za-z0-9_-]|^[_-]+|[_-]+$)/g,"").replace(/([_-])[_-]+/g,"$1")}setCredentials(C){if(!C){this.privateKey=this.credentials=void 0;return}const E=(0,a.hash)((0,c.decodeUTF8)(C)).slice(0,32),{publicKey:M,secretKey:P}=a.sign.keyPair.fromSeed(E);this.credentials=(0,c.encodeBase64)(M),this.privateKey=(0,c.encodeBase64)(P)}get metadata(){return{playerID:this.playerID,credentials:this.credentials,message:this.playerID&&this.privateKey?(0,d.signMessage)(this.playerID,this.privateKey):void 0}}connect(){if(this.peer=new s.default(this.isHost?this.hostID:void 0,this.peerOptions),this.isHost){const C=new f.P2PHost({game:this.game,numPlayers:this.numPlayers,matchID:this.matchID});this.emit=E=>void C.processAction(E),C.registerClient({send:E=>void this.notifyClient(E),metadata:this.metadata}),this.peer.on("connection",E=>{C.registerClient(E),E.on("data",M=>{C.processAction(M)}),E.on("close",()=>void C.unregisterClient(E)),window&&window.addEventListener("beforeunload",()=>E.close())}),this.peer.on("error",E=>this.onError(E)),this.onConnect()}else this.peer.on("open",()=>void this.connectToHost()),this.peer.on("error",C=>{const E=C;E.type==="network"||E.type==="peer-unavailable"?this.retryHandler.schedule(()=>void this.connectToHost()):this.onError(E)})}connectToHost(){if(!this.peer)return;const C=this.peer.connect(this.hostID,{metadata:this.metadata});this.emit=E=>void C.send(E),C.on("open",()=>void this.onConnect()),C.on("data",E=>void this.notifyClient(E)),window&&window.addEventListener("beforeunload",()=>C.close())}onConnect(){this.retryHandler.clear(),this.setConnectionStatus(!0),this.requestSync()}disconnect(){this.peer&&this.peer.destroy(),this.peer=null,this.retryHandler.clear(),this.setConnectionStatus(!1)}requestSync(){this.emit&&this.emit({type:"sync",args:[this.matchID,this.playerID,this.credentials,this.numPlayers]})}sendAction(C,E){this.emit&&this.emit({type:"update",args:[E,C._stateID,this.matchID,this.playerID]})}sendChatMessage(C,E){this.emit&&this.emit({type:"chat",args:[C,E,this.credentials]})}reconnect(){this.disconnect(),this.connect()}updateMatchID(C){this.matchID=C,this.reconnect()}updatePlayerID(C){this.playerID=C,this.reconnect()}updateCredentials(C){this.setCredentials(C),this.reconnect()}}const v=(S={})=>C=>new g(Object.assign(Object.assign({},C),S));t.P2P=v})(Xi)),Xi}var ds=dk();const qp=(t,e)=>{const n=t.currentRound;!n||n.currentPlayerId===null||t.phase==="guessing"&&(n.revealSongOwnerId=n.currentPlayerId,n.revealSongIndex=n.currentSongIndex,t.timer=null,t.phase="song_reveal",e?.setPhase?.("song_reveal"))},hk=(t,e)=>{const n=t.currentRound;if(!n)return;const s=n.playOrder.length,c=(n.revealSongIndex??n.currentSongIndex??0)+1;if(n.guesses={},n.correctGuessers={},n.revealSongOwnerId=null,n.revealSongIndex=null,n.currentSongIndex=c,c<s){const u=n.playOrder[c]??null;if(n.currentPlayerId=u??null,n.currentPlayerId){t.timer=t.settings.playbackDuration,t.phase="guessing",e?.setPhase?.("guessing");return}}n.currentPlayerId=null,t.timer=null,t.phase="round_results",e?.setPhase?.("round_results")},$c=8,pk={name:"music-showdown",minPlayers:2,maxPlayers:$c,setup:()=>({phase:"lobby",players:{},settings:{playbackDuration:30,totalRounds:3},currentRound:null,totalRounds:3,completedRounds:0,timer:null,maxPlayers:$c,lobbyOrder:[]}),phases:{lobby:{start:!0,moves:{updateSettings:({G:t,playerID:e},n)=>{t.players[e]?.isHost&&(t.settings={...t.settings,...n},t.totalRounds=n.totalRounds||t.totalRounds)},kickPlayer:({G:t,playerID:e},n)=>{!t.players[e]?.isHost||!t.players[n]||n===e||(delete t.players[n],t.lobbyOrder=t.lobbyOrder.filter(a=>a!==n))},startGame:({G:t,playerID:e,events:n})=>{t.players[e]?.isHost&&(t.phase="theme_selection",n?.setPhase?.("theme_selection"))},setPlayerName:({G:t,playerID:e},n)=>{if(!e)return;const s=n.trim().slice(0,24);if(!s)return;const a=t.players[e];if(!(!a&&Object.keys(t.players).length>=t.maxPlayers)){if(a){a.name=s,a.connected=!0,t.lobbyOrder=t.lobbyOrder.filter(c=>c!==e),t.lobbyOrder.includes(e)||t.lobbyOrder.push(e);return}t.players[e]={id:e,name:s,score:0,isHost:e==="0",connected:!0},t.lobbyOrder=t.lobbyOrder.filter(c=>c!==e),t.lobbyOrder.includes(e)||t.lobbyOrder.push(e)}}},next:"theme_selection"},theme_selection:{moves:{setTheme:({G:t,playerID:e},n)=>{t.players[e]?.isHost&&(t.currentRound?t.currentRound.theme=n:t.currentRound={roundNumber:t.completedRounds+1,theme:n,songSelections:{},currentSongIndex:0,currentPlayerId:null,guesses:{},roundScores:{},playOrder:[],correctGuessers:{},guessLog:[],revealSongOwnerId:null,revealSongIndex:null})},confirmTheme:({G:t,playerID:e,events:n})=>{!t.players[e]?.isHost||!t.currentRound?.theme||(t.timer=null,t.phase="song_picking",n?.setPhase?.("song_picking"))}},next:"song_picking"},song_picking:{moves:{selectSong:({G:t,playerID:e},n)=>{const s=t.currentRound;!s||Object.entries(s.songSelections).find(([c,u])=>c!==e&&u.videoId===n.videoId)||(s.songSelections[e]=n)},unlockSongSelection:({G:t,playerID:e})=>{const n=t.currentRound;!n||!n.songSelections[e]||!Object.values(t.players).filter(c=>c.connected).some(c=>c.id!==e&&!n.songSelections[c.id])||delete n.songSelections[e]}},endIf:({G:t})=>{if(!t.currentRound)return!1;const n=Object.values(t.players).filter(s=>s.connected).length;return n===0?!1:Object.keys(t.currentRound.songSelections).length>=n},next:"guessing",onEnd:({G:t,ctx:e,events:n})=>{if(!t.currentRound)return;const s=Object.keys(t.currentRound.songSelections),a=e.random,c=a?.Shuffle?a.Shuffle(s):[...s].sort(()=>Math.random()-.5);if(t.currentRound.playOrder=c,t.currentRound.currentSongIndex=0,t.currentRound.guesses={},t.currentRound.correctGuessers={},t.currentRound.revealSongOwnerId=null,t.currentRound.revealSongIndex=null,c.length===0){t.currentRound.currentPlayerId=null,t.timer=null,t.phase="round_results",n?.setPhase?.("round_results");return}t.currentRound.currentPlayerId=c[0],t.timer=t.settings.playbackDuration,t.phase="guessing"}},guessing:{moves:{submitGuess:({G:t,ctx:e,playerID:n,events:s},a)=>{if(!t.currentRound||!t.currentRound.currentPlayerId||n===t.currentRound.currentPlayerId)return;const c=t.currentRound.guesses[n]??[];if(c.some(P=>P.isCorrect))return;const f=t.settings.playbackDuration-(t.timer||0),d=t.currentRound.songSelections[t.currentRound.currentPlayerId],h=!!(d&&VP(a,d.customTitle)),y={guess:a,time:f,isCorrect:h};t.currentRound.guesses[n]=[...c,y];const g=e.random,v={id:g?.UUID?g.UUID():`${t.currentRound.roundNumber}-${n}-${Date.now()}`,playerId:n,playerName:t.players[n]?.name??`Player ${n}`,guess:a,time:f,isCorrect:h,songOwnerId:t.currentRound.currentPlayerId,songOwnerName:t.currentRound.currentPlayerId&&t.players[t.currentRound.currentPlayerId]?t.players[t.currentRound.currentPlayerId].name:null,songIndex:t.currentRound.currentSongIndex};if(t.currentRound.guessLog=[...t.currentRound.guessLog,v],h){t.currentRound.correctGuessers[n]=!0;let P=!0;for(const[j,Y]of Object.entries(t.currentRound.guesses))if(j!==n){for(const W of Y)if(W.isCorrect){W.time<f&&(P=!1);break}if(!P)break}const D=$P(!0,f,t.settings.playbackDuration,P),k=t.players[n];k&&(k.score+=D,t.currentRound.roundScores[n]=(t.currentRound.roundScores[n]||0)+D)}const S=Object.values(t.players).filter(P=>P.connected),C=t.currentRound.currentPlayerId,E=S.filter(P=>P.id!==C).length,M=Object.values(t.currentRound.correctGuessers).filter(Boolean).length;if(E===0||E>0&&M>=E){qp(t,s);return}},tickTimer:({G:t,playerID:e,events:n})=>{if(t.players[e]?.isHost&&t.timer!==null){if(t.timer<=0){t.timer=0,qp(t,n);return}t.timer-=1,t.timer<=0&&(t.timer=0,qp(t,n))}}}},song_reveal:{moves:{continueReveal:({G:t,playerID:e,events:n})=>{t.players[e]?.isHost&&hk(t,n)}},next:"guessing"},round_results:{moves:{nextRound:({G:t,playerID:e,events:n})=>{t.players[e]?.isHost&&(t.completedRounds++,t.completedRounds<t.totalRounds?(t.currentRound=null,t.timer=null,t.phase="theme_selection",n?.setPhase?.("theme_selection")):(t.timer=null,t.phase="game_over",n?.setPhase?.("game_over")))}},next:"theme_selection"},game_over:{moves:{restartLobby:({G:t,playerID:e,events:n})=>{if(t.players[e]?.isHost){for(const a of Object.values(t.players))a.score=0;t.currentRound=null,t.completedRounds=0,t.timer=null,t.totalRounds=t.settings.totalRounds,t.phase="lobby",n?.setPhase?.("lobby")}},endGame:({G:t,events:e})=>{t.phase="lobby",e?.endGame?.()}}}},turn:{activePlayers:{all:"default"}}},PE="musicshowdown.identity",cs="0",aa=1,$m=Math.max(aa,$c-1),Pc="spectator",Jc=t=>`${PE}.${t}`,tg=t=>`${PE}.${t}.used`,q1=(t,e)=>{if(t==="host")return e===cs;const n=Number(e);return Number.isInteger(n)&&n>=aa&&n<=$m},uo=t=>{if(typeof window>"u")return new Set;const e=localStorage.getItem(tg(t));if(!e)return new Set;try{const n=JSON.parse(e);return new Set(n)}catch{return new Set}},ua=(t,e)=>{typeof window>"u"||localStorage.setItem(tg(t),JSON.stringify(Array.from(e)))},xf=(t,e)=>{for(let s=aa;s<=$m;s++){const a=String(s);if(!e.has(a))return e.add(a),ua(t,e),a}const n=String(Math.min($m,Math.max(aa,e.size+aa)));return e.add(n),ua(t,e),n},mk=(t,e,n)=>{if(e==="host")return{playerID:cs,credentials:ds.generateCredentials(),role:e,playerName:n};const s=uo(t);return{playerID:xf(t,s),credentials:ds.generateCredentials(),role:e,playerName:n}};function ng(t){if(typeof window>"u")return null;const e=localStorage.getItem(Jc(t));if(!e)return null;try{return JSON.parse(e)}catch{return null}}function NE(t){return{playerID:Pc,credentials:"",role:"spectator",playerName:t}}function yk(t,e,n){if(typeof window>"u")return{playerID:n??String(aa),credentials:ds.generateCredentials(),role:"peer",playerName:e};const s=uo(t);let a=n;a&&(s.has(a)?a=void 0:(s.add(a),ua(t,s)));const c={playerID:a??xf(t,s),credentials:ds.generateCredentials(),role:"peer",playerName:e};return s.add(c.playerID),ua(t,s),localStorage.setItem(Jc(t),JSON.stringify(c)),c}function gk(t,e){if(typeof window>"u"||!e||e===cs)return;const n=uo(t);n.delete(e)&&ua(t,n)}function DE(t,e,n){const s=e==="spectator"?"peer":e;if(typeof window>"u")return{playerID:s==="host"?cs:String(aa),credentials:ds.generateCredentials(),role:s,playerName:n};const a=Jc(t),c=ng(t),u=uo(t);if(c){let d=c.playerID,h=c.credentials;q1(c.role,c.playerID)||(u.delete(c.playerID),d=c.role==="host"?cs:xf(t,u),h=ds.generateCredentials());const y=c.role==="host"?"host":s,g=y==="host"?cs:d,v={...c,role:y,playerName:n||c.playerName,playerID:g,credentials:h};return q1(v.role,v.playerID)||(u.delete(v.playerID),v.playerID=v.role==="host"?cs:xf(t,u),v.credentials=ds.generateCredentials()),localStorage.setItem(a,JSON.stringify(v)),v}const f=mk(t,s,n);if(s==="peer"){const d=uo(t);d.add(f.playerID),ua(t,d)}return localStorage.setItem(a,JSON.stringify(f)),f}function vk(t,e){const n=e.trim().slice(0,24);if(typeof window>"u")return{playerID:cs,credentials:ds.generateCredentials(),role:"host",playerName:n||e||"Player"};const s=Jc(t),a=uo(t),c=ng(t);c&&c.playerID!==cs&&(a.delete(c.playerID),ua(t,a));const u=n||c?.playerName||"Player",f={playerID:cs,credentials:ds.generateCredentials(),role:"host",playerName:u};localStorage.setItem(s,JSON.stringify(f));try{sessionStorage.setItem("musicshowdown.lastRole","host")}catch{}return f}function xk(t){typeof window>"u"||(localStorage.removeItem(Jc(t)),localStorage.removeItem(tg(t)))}function Vm(t){return[t]}function yc(t,e){const n=t&&Number.isFinite(t)&&t>0?Math.floor(t):kE;return Math.max(0,n-e)}function Cu(t,e=kE){return Number.isNaN(t)||t<0?0:Math.min(Math.floor(t),e)}function qm(t){const e=Math.max(0,Math.floor(t)),n=Math.floor(e/60),s=e%60;return n===0?`${e}s`:`${n}:${s.toString().padStart(2,"0")}`}const Xa=["1960s","1970s","1980s","1990s","2000s","2010s","2020s","Game Soundtracks","Movie Soundtracks","Alternative Rock","FIFA Soundtracks","R&B Grooves","Classic Hip-Hop","Indie Favorites","Top 40 Hits","Chill Electronic","Country Classics","Classic Rock","Modern Country","Reggae Classics","Funk Essentials"],kE=600;function F1({players:t,songSelections:e,className:n}){return t.length===0?null:b.jsxs("div",{className:It("space-y-3",n),children:[b.jsx("p",{className:"text-sm font-medium text-foreground",children:"Player lock-in status"}),b.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:t.map(s=>{const a=!!e[s.id],c=s.name?.trim()||`Player ${s.id}`;return b.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-muted/50 px-3 py-2","data-testid":`player-lock-status-${s.id}`,children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Ka,{playerId:s.id,playerName:s.name,size:"sm"}),b.jsx("span",{className:"text-sm font-medium text-foreground",children:c})]}),a?b.jsxs(Ac,{variant:"secondary",className:"flex items-center gap-1 text-xs",children:[b.jsx(p_,{className:"h-3 w-3"}),"Locked In"]}):b.jsxs(Ac,{variant:"outline",className:"flex items-center gap-1 text-xs",children:[b.jsx(m_,{className:"h-3 w-3"}),"Waiting"]})]},s.id)})})]})}function bk({headerControls:t,currentRound:e,settings:n,themeValue:s,isHost:a,handleThemeChange:c,handleRandomTheme:u,mySelection:f,moves:d,effectivePlayerId:h,playerLookup:y,toast:g}){const[v,S]=T.useState(null),[C,E]=T.useState(""),[M,P]=T.useState(0),[D,k]=T.useState(!1),j=T.useRef(null),[Y,W]=T.useState(!1),[F,X]=T.useState(()=>yc(null,n.playbackDuration)),me=s.trim().length>0,xe=e?.songSelections??{},Se=T.useMemo(()=>Array.from(y.values()).filter(L=>L.connected),[y]),Ce=T.useMemo(()=>h?Se.some(L=>L.id!==h&&!xe[L.id]):!1,[Se,h,xe]),Ee=!!(f&&Ce&&d.unlockSongSelection),be=T.useCallback(()=>{!d.unlockSongSelection||!Ce||(d.unlockSongSelection(),g({title:"Selection unlocked",description:"Pick a different song before the others finish."}))},[d,Ce,g]),Ne=T.useCallback(()=>{const L=j.current?.getDuration?.(),te=yc(L,n.playbackDuration);X(ae=>ae===te?ae:te),P(ae=>{const pe=Cu(ae,te);return pe!==ae?(j.current?.seekTo?.(pe,!0),pe):ae})},[n.playbackDuration]);T.useEffect(()=>{Ne()},[Ne]);const H=T.useCallback(L=>{S(L),E(ef(L.title)),W(!1),P(0),k(!1),j.current=null,X(yc(null,n.playbackDuration))},[n.playbackDuration]),ie=T.useCallback(()=>{const L=C.trim();if(!v||!L||!e||!Y)return;const te=Object.entries(e.songSelections??{}).find(([ae,pe])=>ae!==h&&pe.videoId===v.id);if(te){const[ae]=te,ye=y.get(ae)?.name??"Another player";g({title:"Song already taken",description:`${ye} has already locked this song. Pick a different one.`,variant:"destructive"});return}j.current?.stopVideo?.(),d.selectSong?.({videoId:v.id,originalTitle:v.title,customTitle:ef(C),thumbnail:v.thumbnail,startSeconds:M}),g({title:"Song selected",description:"Waiting for other players..."}),S(null),E(""),P(0),k(!1),j.current=null,X(yc(null,n.playbackDuration)),W(!1)},[C,e,h,d,y,v,n.playbackDuration,M,g,Y]),G=T.useCallback(()=>{const L=j.current;if(!L)return;L.getPlayerState?.()===window.YT?.PlayerState?.PLAYING?(L.pauseVideo?.(),k(!1)):(L.seekTo?.(M,!0),L.playVideo?.(),k(!0))},[M,D]),Me=T.useCallback(L=>{j.current=L;const te=L.getDuration?.(),ae=yc(te,n.playbackDuration);X(ae),P(pe=>{const ye=Cu(pe,ae);return ye!==pe?(L.seekTo?.(ye,!0),ye):pe}),L.seekTo?.(M,!0),D?L.playVideo?.():L.pauseVideo?.()},[D,n.playbackDuration,M]),Ze=T.useCallback(()=>{k(!1)},[]);return b.jsxs("div",{className:"min-h-screen bg-background",children:[t,b.jsx("div",{className:"container mx-auto px-4 py-6 md:py-8 max-w-4xl",children:b.jsxs("div",{className:"space-y-6",children:[b.jsx(nn,{className:"bg-primary/10 border-primary",children:b.jsxs(fn,{children:[b.jsx(dn,{className:"font-heading text-2xl mb-1",children:"Pick Your Song"}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Theme:"," ",b.jsx("span",{className:"font-semibold text-foreground",children:e?.theme??"Pending"})]})]})}),!me&&!f&&b.jsx(nn,{children:b.jsx(gn,{className:"py-8 text-center text-sm text-muted-foreground",children:a?"Set a theme to unlock song selection.":"Waiting for the host to choose a theme."})}),me&&!f&&b.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,1.5fr)_minmax(0,1fr)]",children:[b.jsxs(nn,{className:"lg:col-span-1",children:[b.jsx(fn,{children:b.jsx(dn,{className:"font-heading",children:"Search YouTube"})}),b.jsx(gn,{children:b.jsx(KN,{onSelect:H,selectedVideoId:v?.id})})]}),b.jsx(F1,{players:Se.filter(L=>L.id!==h),songSelections:xe,className:"lg:col-span-2"}),b.jsxs(nn,{className:"self-start",children:[b.jsxs(fn,{children:[b.jsx(dn,{className:"font-heading",children:"Selected Song"}),b.jsx(qr,{children:"Fine-tune the title before locking it in."})]}),b.jsx(gn,{children:v?b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("div",{className:"flex items-center justify-between gap-2",children:b.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Preview"})}),b.jsx("div",{className:"relative overflow-hidden rounded-lg border",children:b.jsx(wm,{videoId:v.id,autoplay:!1,startSeconds:M,interactive:!0,onReady:Me,onEnd:Ze})})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{children:[b.jsx(ta,{htmlFor:"song-title",children:"Song title to guess"}),b.jsx(Fs,{id:"song-title",value:C,onFocus:()=>W(!0),onChange:L=>{E(L.target.value),W(!0)},className:"mt-2",placeholder:"Edit the title if needed...","data-testid":"input-song-title"}),b.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"This is what other players will try to guess."})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx(ta,{htmlFor:"start-seconds",children:"Start playback at"}),b.jsx("span",{className:"text-xs text-muted-foreground",children:qm(M)})]}),b.jsx(af,{id:"start-seconds",min:0,max:F,step:1,value:Vm(M),onValueChange:L=>{const te=Cu(L[0]??0,F);P(te),j.current?.seekTo?.(te,!0)},"data-testid":"slider-start-seconds"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Fs,{type:"number",min:0,max:F,value:M,onChange:L=>{const te=Cu(Number(L.target.value),F);P(te),j.current?.seekTo?.(te,!0)},className:"w-24","data-testid":"input-start-seconds"}),b.jsx(Cn,{type:"button",variant:"secondary",onClick:G,disabled:!j.current,"data-testid":"button-preview",children:D?b.jsxs(b.Fragment,{children:[b.jsx(JO,{className:"mr-2 h-4 w-4"})," Pause Preview"]}):b.jsxs(b.Fragment,{children:[b.jsx(e3,{className:"mr-2 h-4 w-4"})," Play Preview"]})})]})]}),b.jsx(Cn,{onClick:ie,className:"w-full",disabled:!C.trim()||!Y,"data-testid":"button-confirm-song",children:"Confirm Selection"})]})]}):b.jsx("div",{className:"flex min-h-[220px] items-center justify-center text-center text-sm text-muted-foreground",children:"Choose a song from the search results to review its details here."})})]})]}),f&&b.jsxs(nn,{children:[b.jsx(fn,{children:b.jsx(dn,{className:"font-heading",children:"You are all set!"})}),b.jsxs(gn,{className:"space-y-4",children:[b.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start",children:[f.thumbnail?b.jsx("div",{className:"relative w-full max-w-[200px] overflow-hidden rounded-lg border bg-muted sm:w-48",children:b.jsx("img",{src:f.thumbnail,alt:f.customTitle||f.originalTitle,className:"h-full w-full object-cover"})}):null,b.jsxs("div",{className:"space-y-1",children:[b.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Selected song"}),b.jsx("div",{className:"text-lg font-semibold leading-snug",children:f.customTitle||f.originalTitle}),(f.startSeconds??0)>0&&b.jsxs("div",{className:"text-sm text-muted-foreground",children:["Starts at ",qm(f.startSeconds??0)]}),f.customTitle&&f.originalTitle&&f.customTitle.trim()!==f.originalTitle.trim()&&b.jsxs("div",{className:"text-sm text-muted-foreground",children:["Original title: ",f.originalTitle]})]})]}),b.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-waiting-selection",children:"Waiting for other players to finish picking."}),Ee&&b.jsx(Cn,{type:"button",variant:"outline",onClick:be,"data-testid":"button-unlock-selection",children:"Change selection"}),b.jsx(F1,{players:Se,songSelections:xe})]})]}),!me&&!f&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[b.jsx("p",{className:"text-sm text-muted-foreground",children:"Need inspiration? Pick a suggestion."}),b.jsx(Cn,{variant:"secondary",size:"sm",onClick:u,disabled:!a,"data-testid":"button-random-theme",children:"Surprise Me"})]}),b.jsx("div",{className:"flex flex-wrap gap-2",children:Xa.map(L=>b.jsx(Cn,{type:"button",variant:"outline",size:"sm",onClick:()=>c(L),disabled:!a,className:"whitespace-nowrap",children:L},L))})]})]})})]})}function Sk({G:t,ctx:e,moves:n,playerID:s,matchID:a,identity:c,isHost:u,isActive:f,isConnected:d,updatePlayerName:h,promoteToHost:y,claimSeat:g,releaseSeat:v}){const{toast:S}=LS(),C=e.phase??t.phase,E=t.currentRound??null,M=t.settings,P=t.timer,D=P??0,[k,j]=T.useState(null),[Y,W]=T.useState({}),[F,X]=T.useState(M),[me,xe]=T.useState(!1),Se=T.useRef(0),Ce=T.useCallback(()=>{X(M)},[M]);T.useEffect(()=>{Ce()},[Ce]);const Ee=T.useMemo(()=>{const Z=s??c.playerID;return!Z||c.role==="spectator"||Z===Pc?null:Z},[s,c.playerID,c.role]),be=b.jsx("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:b.jsx(Cy,{})}),Ne=T.useMemo(()=>u?"You are hosting this match. Leaving will disconnect everyone and all game state will be lost.":"Leaving will disconnect you from the match. You will not be able to join back.",[u]);T.useEffect(()=>{const Z=we=>{we.preventDefault(),we.returnValue=Ne};return window.addEventListener("beforeunload",Z),()=>window.removeEventListener("beforeunload",Z)},[Ne]),e6({shouldBlockFn:()=>typeof window>"u"?!1:!window.confirm(Ne),enableBeforeUnload:!1});const H=T.useRef({hadPresence:!1,pendingRelease:!1}),ie=T.useCallback(()=>{if(C!=="lobby")return;const Z=Ee;if(!Z)return;const we=c.playerName.trim();if(!we||H.current.pendingRelease)return;const _=t.players?.[Z];(!_||_.name!==we||!_.connected)&&n.setPlayerName?.(we)},[t.players,c.playerName,n,C,Ee]);T.useEffect(()=>{ie()},[ie]);const G=Object.values(t.players??{}).map(Z=>Z).sort((Z,we)=>Z.id.localeCompare(we.id)),Me=E?.theme??"",Ze=Me.trim().length>0,L=E?.roundScores??{},te=E?.guesses??{},ae=E?.correctGuessers??{},pe=E?.guessLog??[],ye=E?.currentPlayerId??null,Te=E?.revealSongOwnerId??null,je=E?.revealSongIndex??null,xt=C==="song_reveal"&&je!==null&&je!==void 0?je:E?.currentSongIndex??null,I=ye?E?.songSelections?.[ye]??null:null,K=Te?E?.songSelections?.[Te]??null:null,de=Ee?E?.songSelections?.[Ee]??null:null,Le=Ee?te[Ee]??[]:[],$e=Le[Le.length-1]??null,ze=!!(Ee&&ae[Ee]),bt=!!(C==="guessing"&&ye&&Ee&&ye!==Ee&&!ze&&(P===null||P>0)),gt=t.lobbyOrder??[],qt=t.maxPlayers??$c,St=T.useMemo(()=>{const Z=new Map;return G.forEach(we=>Z.set(we.id,we)),Z},[G]);T.useEffect(()=>{if(C!=="lobby"){H.current.hadPresence=!1,H.current.pendingRelease=!1;return}if(c.role!=="peer"||!Ee){H.current.hadPresence=!1,H.current.pendingRelease=!1;return}if(St.get(Ee)){H.current.hadPresence=!0,H.current.pendingRelease=!1;return}!H.current.hadPresence||H.current.pendingRelease||(H.current.pendingRelease=!0,S({title:"Removed from lobby",description:"The host removed you from the room.",variant:"destructive"}),v())},[Ee,c.role,C,St,v,S]);const Tt=T.useMemo(()=>{const Z=G.filter(we=>we.connected);return Z.sort((we,_)=>{const R=gt.indexOf(we.id),A=gt.indexOf(_.id);return R===-1&&A===-1?we.id.localeCompare(_.id):R===-1?1:A===-1?-1:R-A}),Z},[gt,G]),Ot=T.useRef(new Set),Ft=T.useRef(new Map);T.useEffect(()=>{if(c.role==="host"){Ot.current.clear(),Ft.current.clear();return}if(c.role==="spectator"){const Z=Ot.current,we=new Set(G.filter(A=>A.connected).map(A=>A.id)),_=()=>{for(let A=1;A<qt;A+=1){const x=String(A);if(!we.has(x)&&!Z.has(x))return x}return null};let R=_();!R&&Z.size>0&&(Z.clear(),R=_()),R&&(Z.add(R),g(R));return}c.role==="peer"&&(Ot.current.clear(),Ft.current.clear())},[c.role,G,qt,g]),T.useEffect(()=>{if(c.role!=="peer")return;const Z=c.playerID;if(!Z||Z===Pc)return;if(St.get(Z)?.connected){Ft.current.delete(Z);return}const _=Ft.current.get(Z)??0;if(_>=qt)return;const R=window.setTimeout(()=>{if(St.get(Z)?.connected){Ft.current.delete(Z);return}Ft.current.set(Z,_+1),Ot.current.delete(Z),v()},4e3);return()=>window.clearTimeout(R)},[c.role,c.playerID,St,v,qt]),T.useEffect(()=>{if(c.role!=="peer"||d)return;const Z=c.playerID;if(!Z||Z===Pc)return;const we=window.setTimeout(()=>{Ot.current.delete(Z),Ft.current.delete(Z),v()},3e3);return()=>window.clearTimeout(we)},[c.role,c.playerID,d,v]),T.useEffect(()=>{if(C!=="lobby"||c.role!=="peer"||!Ee)return;const Z=c.playerName.trim();if(!Z)return;const we=()=>{try{n.setPlayerName?.(Z)}catch(A){console.warn("Failed to register player name",A)}},_=St.get(Ee);if(_?.connected){(!_.name||_.name.trim()!==Z)&&we();return}we();const R=window.setInterval(()=>{const A=St.get(Ee);if(A?.connected){(!A.name||A.name.trim()!==Z)&&we(),window.clearInterval(R);return}we()},1e3);return()=>window.clearInterval(R)},[C,c.role,c.playerName,Ee,St,n]);const Pn=T.useMemo(()=>{const Z=gt.map(A=>t.players[A]).filter(A=>!!A),we=new Set(Z.map(A=>A.id)),_=G.filter(A=>!we.has(A.id)),R=[...Z,..._];return Array.from({length:qt},(A,x)=>R[x]??null)},[t.players,gt,qt,G]),it=T.useMemo(()=>G.map(Z=>({player:Z,roundScore:L[Z.id]??0})).sort((Z,we)=>we.roundScore-Z.roundScore),[G,L]),lt=T.useMemo(()=>[...G].sort((Z,we)=>we.score-Z.score),[G]),Yt=Tt.length,Rn=Math.max(qt-Yt,0),Yn=T.useCallback(Z=>{u&&n.setTheme?.(Z)},[u,n]),An=T.useCallback(()=>{if(!u)return;const Z=(E?.theme??"").trim(),we=Xa.length>1?Xa.filter(R=>R!==Z):Xa,_=we[Math.floor(Math.random()*we.length)]??Xa[0];_&&Yn(_)},[E?.theme,Yn,u]),jr=T.useMemo(()=>E?xt==null?[]:pe.filter(Z=>Z.songIndex===xt).sort((Z,we)=>Z.time-we.time):[],[xt,E,pe]),Qs=Z=>Number.isNaN(Z)||!Number.isFinite(Z)?"0s":`${Math.max(0,Math.round(Z))}s`,Zs=Z=>Z.length===0?b.jsx("div",{className:"flex h-full items-center justify-center px-6 py-12",children:b.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"No guesses yet for this song."})}):b.jsx(ky,{className:"h-[360px] px-6 pb-6",children:b.jsx("div",{className:"space-y-4",children:Z.map(we=>{const _=Ee&&we.playerId===Ee,R=we.isCorrect&&!_;return b.jsxs("div",{className:It("flex flex-col gap-2",_?"items-end":"items-start"),children:[b.jsxs("div",{className:It("flex items-start gap-3",_?"flex-row-reverse":"flex-row"),children:[b.jsx(Ka,{playerId:we.playerId,playerName:we.playerName,size:"sm"}),b.jsxs("div",{className:It("space-y-1",_?"text-right":"text-left"),children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[b.jsx("span",{children:_?"You":we.playerName}),we.isCorrect&&b.jsx(Ac,{children:"Correct"})]}),b.jsx("div",{className:It("max-w-xs rounded-md px-3 py-2 text-sm",_?"bg-primary text-primary-foreground":"bg-muted/40 text-muted-foreground"),children:R?b.jsx("span",{className:"italic",children:"Correct guess locked in"}):b.jsxs(b.Fragment,{children:['"',we.guess,'"']})})]})]}),b.jsx("span",{className:"text-xs text-muted-foreground",children:Qs(we.time)})]},we.id)})})}),Js=T.useCallback(()=>{if(!u||C!=="song_picking"&&C!=="guessing"||P===null||P<=0)return;const Z=window.setInterval(()=>{n.tickTimer?.()},1e3);return()=>window.clearInterval(Z)},[u,n,C,P]);T.useEffect(()=>Js(),[Js]);const Gn=u?F:M,Qt=T.useMemo(()=>{if(C!=="guessing"||!E)return"inactive";const Z=E.currentSongIndex??E.revealSongIndex??0;return`${E.roundNumber}:${Z}`},[E,C]),vn=Y[Qt]??"",hn=T.useCallback(Z=>{W(we=>({...we,[Qt]:Z}))},[Qt]),xs=T.useCallback(()=>{W(Z=>{if(Z[Qt]===void 0)return Z;const we={...Z};return delete we[Qt],we})},[Qt]),Xr=T.useCallback(()=>{const we=(k??c.playerName).trim().slice(0,24);we&&(h(we),C==="lobby"&&n.setPlayerName?.(we),j(null))},[c.playerName,n,C,k,h]),Qr=T.useCallback(()=>{const Z=vn.trim();!bt||!Z||(n.submitGuess?.(Z),xs())},[bt,vn,n,xs]);T.useEffect(()=>{Se.current=0},[Qt]),T.useEffect(()=>{if(!Ee)return;const we=(te[Ee]??[]).filter(_=>_.isCorrect).length;we>Se.current&&QN(),Se.current=we},[Ee,te]);const Zr=T.useCallback(()=>{u&&n.continueReveal?.()},[u,n]),bs=T.useCallback(()=>{n.nextRound?.(),W({})},[n]),Ws=T.useCallback(()=>{n.restartLobby?.(),W({})},[n]);T.useCallback(()=>{n.endGame?.()},[n]);const Lr=T.useCallback(Z=>{u&&X(we=>({...we,...Z}))},[u]),Bn=T.useCallback(Z=>{if(!u)return;X(_=>({..._,...Z}));const we=Object.entries(Z).filter(([_,R])=>R!==void 0&&M[_]!==R);we.length&&n.updateSettings?.(Object.fromEntries(we))},[u,n,M]),Kn=async()=>{try{await navigator.clipboard.writeText(a),xe(!0),S({title:"Room code copied!",description:"Share it with your friends to join the game"}),setTimeout(()=>xe(!1),2e3)}catch{S({title:"Unable to copy room code",variant:"destructive"})}},Jr=()=>{if(!u){S({title:"Waiting for host",description:"Only the host can start the game"});return}if(Yt<2){S({title:"Need more players",description:"At least 2 players required to start",variant:"destructive"});return}n.startGame?.()},Ss=Z=>we=>Lr({[Z]:we[0]}),Wr=Z=>we=>Bn({[Z]:we[0]});if(C==="lobby")return b.jsxs("div",{className:"min-h-screen bg-background",children:[be,b.jsxs("div",{className:"container mx-auto px-4 py-6 md:py-8 max-w-5xl space-y-8",children:[b.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("h1",{className:"text-3xl font-heading font-bold",children:b.jsx(oy,{to:"/music-showdown",className:"inline-flex items-center text-left text-inherit transition-colors hover:text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 focus-visible:ring-offset-background",children:"Music Showdown"})}),b.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground",children:[b.jsx(Ac,{variant:"secondary",className:"uppercase",children:c.role}),b.jsxs("span",{children:["Signed in as ",c.playerName]})]})]}),b.jsxs("div",{className:"flex items-center gap-3 rounded-lg border bg-muted/40 px-4 py-3",children:[b.jsx("div",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wide",children:"Room"}),b.jsx("code",{className:"text-2xl font-mono font-semibold tracking-wider text-primary","data-testid":"text-room-code",children:a}),b.jsx(Cn,{variant:"ghost",size:"icon",onClick:Kn,"data-testid":"button-copy-code",children:me?b.jsx(kO,{className:"h-5 w-5 text-secondary"}):b.jsx(VO,{className:"h-5 w-5"})})]})]}),b.jsxs("div",{className:"grid gap-6 lg:grid-cols-[2fr_1.1fr]",children:[b.jsxs(nn,{className:"h-full",children:[b.jsxs(fn,{children:[b.jsxs(dn,{className:"font-heading",children:["Players (",Yt,"/",qt,")"]}),b.jsx(qr,{children:Yt===0?"Waiting for players to join...":`${Yt} connected, ${Rn} open slot${Rn===1?"":"s"}`})]}),b.jsx(gn,{children:b.jsx("div",{className:"space-y-2",children:Pn.map((Z,we)=>b.jsx("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50","data-testid":Z?`player-card-${Z.id}`:`player-card-empty-${we}`,children:Z?b.jsxs(b.Fragment,{children:[b.jsx(Ka,{playerId:Z.id,playerName:Z.name}),b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"font-semibold",children:Z.name}),!Z.connected&&b.jsx("div",{className:"text-xs text-muted-foreground",children:"Not connected"})]}),b.jsx("div",{className:"flex items-center gap-2",children:b.jsx("div",{className:"flex items-center gap-1",children:Z.isHost?b.jsxs(Ac,{variant:"default",className:"gap-1","data-testid":"badge-host",children:[b.jsx(FO,{className:"w-3 h-3"}),"Host"]}):u&&s!==Z.id?b.jsx(Cn,{variant:"ghost",size:"icon",className:"h-6 w-6 text-muted-foreground hover:text-destructive",onClick:_=>{_.stopPropagation(),n.kickPlayer?.(Z.id)},title:`Kick ${Z.name}`,children:b.jsx(a3,{className:"w-3.5 h-3.5"})}):null})})]}):b.jsx("div",{className:"flex items-center gap-3 w-full justify-between",children:b.jsxs("div",{className:"flex gap-3 items-center",children:[b.jsx("div",{className:"w-8 h-8 rounded-full bg-muted"}),b.jsxs("span",{className:"text-sm text-muted-foreground",children:["Waiting for player ",we+1]})]})})},Z?Z.id:`empty-${we}`))})})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs(nn,{children:[b.jsxs(fn,{children:[b.jsx(dn,{className:"font-heading text-lg",children:"Your Lobby Controls"}),b.jsx(qr,{children:u?"Update your name and start the game once everyone is ready.":"Update your name while the host prepares the game."})]}),b.jsxs(gn,{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(ta,{htmlFor:"player-name",children:"Display name"}),b.jsx(Fs,{id:"player-name",placeholder:"Your name",value:k??c.playerName,onChange:Z=>j(Z.target.value),onBlur:Xr,onKeyDown:Z=>Z.key==="Enter"&&Xr(),"data-testid":"input-player-name"}),b.jsx("p",{className:"text-xs text-muted-foreground",children:"Shared with other players in the lobby."})]}),b.jsx(Cn,{onClick:Jr,className:"w-full",size:"lg","data-testid":"button-start-game",disabled:!u||Yt<2,children:"Start Game"}),c.role==="spectator"&&b.jsx("p",{className:"text-center text-xs text-muted-foreground",children:"Lobby is full. We'll seat you automatically when a spot opens."}),(!u||Yt<2)&&b.jsx("p",{className:"text-center text-xs text-muted-foreground",children:u?"Need at least 2 players to start.":"Only the host can start the game."})]})]}),b.jsxs(nn,{children:[b.jsxs(fn,{className:"pb-3",children:[b.jsx(dn,{className:"font-heading text-lg",children:"Game Settings"}),b.jsx(qr,{children:"Hosts can tweak settings before the game begins."})]}),b.jsxs(gn,{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx(ta,{children:"Number of rounds"}),b.jsx("span",{className:"text-xs text-muted-foreground",children:Gn.totalRounds})]}),b.jsx(af,{min:1,max:10,step:1,value:Vm(Gn.totalRounds),onValueChange:Ss("totalRounds"),onValueCommit:Wr("totalRounds"),disabled:!u})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx(ta,{htmlFor:"playback-duration",children:"Playback duration"}),b.jsxs("span",{className:"text-xs text-muted-foreground",children:[Gn.playbackDuration,"s"]})]}),b.jsx(af,{id:"playback-duration",min:30,max:300,step:5,value:Vm(Gn.playbackDuration),onValueChange:Ss("playbackDuration"),onValueCommit:Wr("playbackDuration"),disabled:!u})]})]})]})]})]})]})]});if(C==="theme_selection")return b.jsxs("div",{className:"min-h-screen bg-background",children:[be,b.jsx("div",{className:"container mx-auto px-4 py-6 md:py-8 max-w-3xl",children:b.jsxs(nn,{className:"mb-6",children:[b.jsxs(fn,{children:[b.jsx(dn,{className:"font-heading text-2xl",children:"Set the Theme"}),b.jsx(qr,{children:"Waiting on the host to set the theme for this round."})]}),b.jsxs(gn,{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx(ta,{htmlFor:"theme",children:"Theme for this round"}),b.jsx(Fs,{id:"theme",placeholder:"e.g., 80s Rock, Movie Soundtracks, Summer Vibes...",value:Me,onChange:Z=>u&&n.setTheme?.(Z.target.value),className:"text-lg mt-2","data-testid":"input-theme",disabled:!u})]}),!Ze&&b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[b.jsx("p",{className:"text-sm text-muted-foreground",children:"Need inspiration? Pick a suggestion."}),b.jsx(Cn,{variant:"secondary",size:"sm",onClick:An,disabled:!u,"data-testid":"button-random-theme",children:"Surprise Me"})]}),b.jsx("div",{className:"flex flex-wrap gap-2",children:Xa.map(Z=>b.jsx(Cn,{type:"button",variant:"outline",size:"sm",onClick:()=>Yn(Z),disabled:!u,className:"whitespace-nowrap",children:Z},Z))})]}),u?b.jsx(Cn,{onClick:()=>n.confirmTheme?.(),disabled:!Me.trim(),className:"w-full","data-testid":"button-confirm-theme",children:"Confirm Theme"}):b.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-waiting-theme",children:"Waiting for the host to confirm the theme..."})]})]})})]});if(C==="song_picking")return b.jsx(bk,{headerControls:be,currentRound:E,settings:M,themeValue:Me,isHost:u,handleThemeChange:Yn,handleRandomTheme:An,mySelection:de,moves:n,effectivePlayerId:Ee,playerLookup:St,toast:S});const Ur=!!(Ee&&ye===Ee),xo=Ur?"You selected this song.":ze?"Correct! Waiting for next song...":"Type your guess...";if(C==="guessing"&&I){const Z=(I.customTitle||I.originalTitle||"").trim(),we=Z?Array.from(Z).map(R=>{if(/\s/.test(R))return" ";const A=R.toLocaleLowerCase()!==R.toLocaleUpperCase(),x=/\d/.test(R);return A||x?"_":R}).join(""):"",_=M.playbackDuration>0?1-D/M.playbackDuration:0;return b.jsxs("div",{className:"min-h-screen bg-background",children:[be,b.jsxs("div",{className:"container mx-auto px-4 py-6 md:py-8 max-w-5xl space-y-6",children:[b.jsx(nn,{className:"bg-accent/10 border-accent",children:b.jsx(fn,{children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx(dn,{className:"font-heading text-2xl",children:"Guess the Song!"}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:[G.find(R=>R.id===ye)?.name??"Mystery player","'s selection"]})]}),b.jsx(PN,{timeRemaining:D,totalTime:M.playbackDuration,variant:"accent"})]})})}),b.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,0.6fr)_minmax(0,1fr)]",children:[b.jsxs("div",{className:"space-y-6",children:[b.jsxs(nn,{children:[b.jsx(fn,{className:"pb-0",children:b.jsx(dn,{className:"font-heading text-lg",children:"Now Playing"})}),b.jsx(gn,{className:"pt-4",children:b.jsx("div",{className:"rounded-lg border bg-muted/30 p-2",children:b.jsx(wm,{videoId:I.videoId,autoplay:!0,preventPause:!0,startSeconds:I.startSeconds??0,timerProgress:_})})})]}),b.jsxs(nn,{children:[b.jsx(fn,{children:b.jsx(dn,{className:"font-heading text-lg",children:"Player Status"})}),b.jsx(gn,{children:b.jsx("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-3 xl:grid-cols-4",children:G.map(R=>{const A=te[R.id]??[],x=A.length>0,N=R.id===ye,$=!!ae[R.id],V=A[A.length-1];return b.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-lg bg-muted/50 p-3","data-testid":`player-status-${R.id}`,children:[b.jsx(Ka,{playerId:R.id,playerName:R.name,size:"sm"}),b.jsx("div",{className:"text-xs font-medium text-center",children:R.name}),N?b.jsx(g_,{className:"h-4 w-4 text-primary"}):$?b.jsx(p_,{className:"h-4 w-4 text-secondary"}):x?b.jsx(y_,{className:"h-4 w-4 text-muted-foreground"}):b.jsx(m_,{className:"h-4 w-4 text-muted-foreground"}),!N&&b.jsxs("div",{className:"text-center text-[10px] text-muted-foreground",children:[$?"Correct":x?"Guessing":"Waiting",V&&!$?` (${V.guess})`:""]})]},R.id)})})})]})]}),b.jsxs(nn,{className:"flex min-h-[460px] md:min-h-[520px] flex-col",children:[b.jsxs(fn,{className:"space-y-4",children:[b.jsxs(dn,{className:"flex items-center gap-2 font-heading text-lg",children:[b.jsx(kb,{className:"h-4 w-4"})," Guess Log"]}),we&&b.jsx("div",{className:"rounded-lg border border-dashed border-muted-foreground/40 bg-muted/30 px-4 py-3 text-center",children:b.jsx("div",{className:"font-mono text-lg uppercase tracking-[0.35em] text-muted-foreground",children:we})})]}),b.jsx(gn,{className:"flex-1 overflow-hidden px-0 pb-0",children:Zs(jr)}),b.jsx("div",{className:"border-t bg-muted/20 p-6",children:b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[b.jsx(Fs,{placeholder:xo,value:vn,onChange:R=>hn(R.target.value),onKeyDown:R=>{R.key!=="Enter"||R.nativeEvent.isComposing||(R.preventDefault(),Qr())},className:"text-lg","data-testid":"input-guess",disabled:!bt}),b.jsx(Cn,{onClick:Qr,disabled:!bt||!vn.trim(),"data-testid":"button-submit-guess",className:"sm:w-auto",children:"Submit"})]}),!bt&&Ur&&b.jsx("p",{className:"text-sm text-muted-foreground",children:"You can't guess your own song."}),!bt&&ze&&b.jsx("p",{className:"text-sm text-muted-foreground",children:"Great job! You'll rejoin next round."}),$e&&!ze&&b.jsxs("p",{className:"text-xs text-muted-foreground",children:['Last guess: "',$e.guess,'" (',Math.max(0,Math.ceil($e.time)),"s)"]})]})})]})]})]})]})}if(C==="song_reveal"&&K&&Te!==null){const Z=G.find(_=>_.id===Te),we=xt!=null&&K?1:void 0;return b.jsxs("div",{className:"min-h-screen bg-background",children:[be,b.jsxs("div",{className:"container mx-auto px-4 py-6 md:py-8 max-w-4xl space-y-6",children:[b.jsx(nn,{className:"bg-secondary/10 border-secondary",children:b.jsx(fn,{children:b.jsxs("div",{className:"flex flex-col gap-2 text-center",children:[b.jsx(dn,{className:"font-heading text-3xl",children:"Song Revealed!"}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:[Z?.name??"Mystery player","'s selection has been uncovered."]})]})})}),b.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,0.9fr)_minmax(0,1.1fr)]",children:[b.jsxs(nn,{className:"overflow-hidden",children:[b.jsx(fn,{className:"pb-0",children:b.jsx(dn,{className:"font-heading text-lg",children:"Now Revealed"})}),b.jsxs(gn,{className:"pt-4 space-y-4",children:[b.jsx("div",{className:"rounded-lg border bg-muted/30 p-2",children:b.jsx(wm,{videoId:K.videoId,autoplay:!1,startSeconds:K.startSeconds??0,timerProgress:we,interactive:!0})}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Song Title"}),b.jsx("h2",{className:"text-xl font-bold leading-tight",children:K.customTitle||K.originalTitle})]}),K.thumbnail&&b.jsx("div",{className:"relative w-full overflow-hidden rounded-lg border bg-muted",children:b.jsx("img",{src:K.thumbnail,alt:K.customTitle||K.originalTitle,className:"w-full object-cover"})}),(K.startSeconds??0)>0&&b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Playback started at ",qm(K.startSeconds??0),"."]}),K.customTitle&&K.originalTitle&&K.customTitle.trim()!==K.originalTitle.trim()&&b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Original title: ",K.originalTitle]})]})]})]}),b.jsxs(nn,{className:"flex min-h-[460px] md:min-h-[520px] flex-col",children:[b.jsxs(fn,{children:[b.jsxs(dn,{className:"flex items-center gap-2 font-heading text-lg",children:[b.jsx(kb,{className:"h-4 w-4"})," Guess Log"]}),b.jsx(qr,{children:"How everyone fared on this song."})]}),b.jsx(gn,{className:"flex-1 overflow-hidden px-0 pb-0",children:Zs(jr)}),b.jsx("div",{className:"border-t bg-muted/20 p-6",children:b.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[Z?b.jsxs("p",{children:["This song was selected by ",b.jsx("span",{className:"font-semibold",children:Z.name}),"."]}):b.jsx("p",{children:"The song owner's identity could not be determined."}),b.jsxs("p",{children:[jr.filter(_=>_.isCorrect).length," player",jr.filter(_=>_.isCorrect).length===1?"":"s"," ","guessed correctly."]})]})}),u&&b.jsx("div",{className:"border-t bg-muted/30 p-6",children:b.jsx(Cn,{onClick:Zr,className:"w-full",size:"lg","data-testid":"button-continue-reveal",children:"Continue"})})]})]})]})]})}return C==="round_results"&&E?b.jsxs("div",{className:"min-h-screen bg-background",children:[be,b.jsx("div",{className:"container mx-auto px-4 py-6 md:py-8 max-w-4xl space-y-6",children:b.jsxs(nn,{children:[b.jsx(fn,{children:b.jsx(dn,{className:"font-heading text-2xl text-center",children:"Round Complete!"})}),b.jsxs(gn,{className:"space-y-6",children:[b.jsxs("div",{className:"text-center space-y-4",children:[b.jsx(dm,{className:"w-16 h-16 text-primary mx-auto"}),b.jsx("h2",{className:"text-xl font-semibold",children:it[0]?.player?`${it[0]?.player.name} won this round!`:"Round complete"}),it[0]&&b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Earned ",it[0].roundScore," points this round"]})]}),b.jsx("div",{className:"space-y-3",children:it.map(({player:Z,roundScore:we},_)=>b.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-muted/50","data-testid":`result-player-${Z.id}`,children:[b.jsxs("div",{className:"text-2xl font-bold text-muted-foreground w-8",children:["#",_+1]}),b.jsx(Ka,{playerId:Z.id,playerName:Z.name}),b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"font-semibold",children:Z.name}),b.jsxs("div",{className:"text-sm text-muted-foreground",children:[we," points this round"]})]}),b.jsx("div",{className:"text-2xl font-bold text-primary",children:Z.score})]},Z.id))}),b.jsx(Cn,{onClick:bs,className:"w-full",size:"lg","data-testid":"button-next-round",disabled:!u,children:t.completedRounds+1<M.totalRounds?"Next Round":"View Final Scores"})]})]})})]}):C==="game_over"?b.jsxs("div",{className:"min-h-screen bg-background",children:[be,b.jsx("div",{className:"container mx-auto px-4 py-6 md:py-8 max-w-4xl space-y-6",children:b.jsxs(nn,{children:[b.jsx(fn,{children:b.jsx(dn,{className:"font-heading text-3xl text-center",children:"Game Over!"})}),b.jsxs(gn,{className:"space-y-8",children:[b.jsxs("div",{className:"text-center space-y-4",children:[b.jsx(dm,{className:"w-24 h-24 text-primary mx-auto"}),b.jsx("h2",{className:"text-2xl font-bold",children:lt[0]?`${lt[0].name} Wins!`:"Thanks for playing!"}),b.jsx("p",{className:"text-muted-foreground",children:"Final standings"})]}),b.jsx("div",{className:"space-y-3",children:lt.map((Z,we)=>b.jsxs("div",{className:`flex items-center gap-4 p-6 rounded-lg ${we===0?"bg-primary/20 border-2 border-primary":we===1?"bg-secondary/20 border-2 border-secondary":"bg-muted/50"}`,"data-testid":`final-player-${Z.id}`,children:[b.jsx("div",{className:"text-3xl font-bold w-12",children:we===0?"":we===1?"":we===2?"":`#${we+1}`}),b.jsx(Ka,{playerId:Z.id,playerName:Z.name,size:"lg"}),b.jsx("div",{className:"flex-1",children:b.jsx("div",{className:"text-xl font-bold",children:Z.name})}),b.jsx("div",{className:"text-3xl font-bold text-primary",children:Z.score})]},Z.id))}),b.jsx("div",{className:"flex gap-4",children:b.jsx(Cn,{variant:"outline",className:"flex-1","data-testid":"button-new-game",onClick:Ws,disabled:!u,children:"Restart Lobby"})})]})]})})]}):b.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-gradient-to-br from-primary/10 via-background to-secondary/10",children:[be,b.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_top,_theme(colors.primary/15),transparent_60%)]"}),b.jsx("div",{className:"relative flex min-h-screen flex-col items-center justify-center px-6 py-12 md:py-16",children:b.jsxs("div",{className:"w-full max-w-md space-y-6 rounded-3xl border border-border/50 bg-background/90 p-10 text-center shadow-xl backdrop-blur",children:[b.jsx("div",{className:"flex items-center justify-center",children:b.jsx(py,{className:"h-12 w-12 animate-spin text-primary"})}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h2",{className:"text-2xl font-heading",children:"Connecting to your room"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Setting the stage and syncing players. Hang tightthis should only take a moment."})]}),a?b.jsx("div",{className:"flex justify-center",children:b.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-border/70 bg-muted/40 px-4 py-2 font-mono text-xs uppercase tracking-[0.3em] text-muted-foreground",children:["Room",b.jsx("span",{className:"text-foreground",children:a})]})}):null]})})]})}function _k(){return b.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:b.jsx(nn,{className:"w-full max-w-md mx-4",children:b.jsxs(gn,{className:"pt-6",children:[b.jsxs("div",{className:"flex mb-4 gap-2",children:[b.jsx(LO,{className:"h-8 w-8 text-red-500"}),b.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),b.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}let wk="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Ck=(t=21)=>{let e="",n=t|0;for(;n--;)e+=wk[Math.random()*64|0];return e};var Fp={},Y1;function Ek(){return Y1||(Y1=1,(function(t,e){if(t.setImmediate)return;var n=1,s={},a=!1,c=t.document,u;function f(D){typeof D!="function"&&(D=new Function(""+D));for(var k=new Array(arguments.length-1),j=0;j<k.length;j++)k[j]=arguments[j+1];var Y={callback:D,args:k};return s[n]=Y,u(n),n++}function d(D){delete s[D]}function h(D){var k=D.callback,j=D.args;switch(j.length){case 0:k();break;case 1:k(j[0]);break;case 2:k(j[0],j[1]);break;case 3:k(j[0],j[1],j[2]);break;default:k.apply(e,j);break}}function y(D){if(a)setTimeout(y,0,D);else{var k=s[D];if(k){a=!0;try{h(k)}finally{d(D),a=!1}}}}function g(){u=function(D){process.nextTick(function(){y(D)})}}function v(){if(t.postMessage&&!t.importScripts){var D=!0,k=t.onmessage;return t.onmessage=function(){D=!1},t.postMessage("","*"),t.onmessage=k,D}}function S(){var D="setImmediate$"+Math.random()+"$",k=function(j){j.source===t&&typeof j.data=="string"&&j.data.indexOf(D)===0&&y(+j.data.slice(D.length))};t.addEventListener?t.addEventListener("message",k,!1):t.attachEvent("onmessage",k),u=function(j){t.postMessage(D+j,"*")}}function C(){var D=new MessageChannel;D.port1.onmessage=function(k){var j=k.data;y(j)},u=function(k){D.port2.postMessage(k)}}function E(){var D=c.documentElement;u=function(k){var j=c.createElement("script");j.onreadystatechange=function(){y(k),j.onreadystatechange=null,D.removeChild(j),j=null},D.appendChild(j)}}function M(){u=function(D){setTimeout(y,0,D)}}var P=Object.getPrototypeOf&&Object.getPrototypeOf(t);P=P&&P.setTimeout?P:t,{}.toString.call(t.process)==="[object process]"?g():v()?S():t.MessageChannel?C():c&&"onreadystatechange"in c.createElement("script")?E():M(),P.setImmediate=f,P.clearImmediate=d})(typeof self>"u"?typeof Hx>"u"?Fp:Hx:self)),Fp}Ek();class Tk{constructor({enumerate:e,seed:n}){this.enumerateFn=e,this.seed=n,this.iterationCounter=0,this._opts={}}addOpt({key:e,range:n,initial:s}){this._opts[e]={range:n,value:s}}getOpt(e){return this._opts[e].value}setOpt(e,n){e in this._opts&&(this._opts[e].value=n)}opts(){return this._opts}enumerate(e,n,s){return this.enumerateFn(e,n,s).map(c=>{if("payload"in c)return c;if("move"in c)return aE(c.move,c.args,s);if("event"in c)return Mc(c.event,c.args,s)})}random(e){let n;if(this.seed!==void 0){const s=this.prngstate?"":this.seed,a=sE(s,this.prngstate);n=a(),this.prngstate=a.state()}else n=Math.random();if(e)if(Array.isArray(e)){const s=Math.floor(n*e.length);return e[s]}else return Math.floor(n*e);return n}}const Rk=25;class Ak extends Tk{constructor({enumerate:e,seed:n,objectives:s,game:a,iterations:c,playoutDepth:u,iterationCallback:f}){super({enumerate:e,seed:n}),s===void 0&&(s=()=>({})),this.objectives=s,this.iterationCallback=f||(()=>{}),this.reducer=Kf({game:a}),this.iterations=c,this.playoutDepth=u,this.addOpt({key:"async",initial:!1}),this.addOpt({key:"iterations",initial:typeof c=="number"?c:1e3,range:{min:1,max:2e3}}),this.addOpt({key:"playoutDepth",initial:typeof u=="number"?u:50,range:{min:1,max:100}})}createNode({state:e,parentAction:n,parent:s,playerID:a}){const{G:c,ctx:u}=e;let f=[],d=[];if(a!==void 0)f=this.enumerate(c,u,a),d=this.objectives(c,u,a);else if(u.activePlayers)for(const h in u.activePlayers)f.push(...this.enumerate(c,u,h)),d.push(this.objectives(c,u,h));else f=this.enumerate(c,u,u.currentPlayer),d=this.objectives(c,u,u.currentPlayer);return{state:e,parent:s,parentAction:n,actions:f,objectives:d,children:[],visits:0,value:0}}select(e){if(e.actions.length>0||e.children.length===0)return e;let n=null,s=0;for(const a of e.children){const c=a.visits+Number.EPSILON,u=a.value/c+Math.sqrt(2*Math.log(e.visits)/c);(n==null||u>s)&&(s=u,n=a)}return this.select(n)}expand(e){const n=e.actions;if(n.length===0||e.state.ctx.gameover!==void 0)return e;const s=this.random(n.length),a=n[s];e.actions.splice(s,1);const c=this.reducer(e.state,a),u=this.createNode({state:c,parentAction:a,parent:e});return e.children.push(u),u}playout({state:e}){let n=this.getOpt("playoutDepth");typeof this.playoutDepth=="function"&&(n=this.playoutDepth(e.G,e.ctx));for(let s=0;s<n&&e.ctx.gameover===void 0;s++){const{G:a,ctx:c}=e;let u=c.currentPlayer;c.activePlayers&&(u=Object.keys(c.activePlayers)[0]);const f=this.enumerate(a,c,u),d=this.objectives(a,c,u),h=Object.keys(d).reduce((v,S)=>{const C=d[S];return C.checker(a,c)?v+C.weight:v},0);if(h>0)return{score:h};if(!f||f.length===0)return;const y=this.random(f.length);e=this.reducer(e,f[y])}return e.ctx.gameover}backpropagate(e,n={}){e.visits++,n.score!==void 0&&(e.value+=n.score),n.draw===!0&&(e.value+=.5),e.parentAction&&n.winner===e.parentAction.payload.playerID&&e.value++,e.parent&&this.backpropagate(e.parent,n)}play(e,n){const s=this.createNode({state:e,playerID:n});let a=this.getOpt("iterations");typeof this.iterations=="function"&&(a=this.iterations(e.G,e.ctx));const c=()=>{let u=null;for(const h of s.children)(u==null||h.visits>u.visits)&&(u=h);return{action:u&&u.parentAction,metadata:s}};return new Promise(u=>{const f=()=>{for(let d=0;d<Rk&&this.iterationCounter<a;d++){const h=this.select(s),y=this.expand(h),g=this.playout(y);this.backpropagate(y,g),this.iterationCounter++}this.iterationCallback({iterationCounter:this.iterationCounter,numIterations:a,metadata:s})};if(this.iterationCounter=0,this.getOpt("async")){const d=()=>{this.iterationCounter<a?(f(),setImmediate(d)):u(c())};d()}else{for(;this.iterationCounter<a;)f();u(c())}})}}class Ok extends Xf{connect(){}disconnect(){}sendAction(){}sendChatMessage(){}requestSync(){}updateCredentials(){}updateMatchID(){}updatePlayerID(){}}const Mk=t=>new Ok(t);class Pk{constructor(){this.debugPanel=null,this.currentClient=null,this.clients=new Map,this.subscribers=new Map}register(e){this.clients.set(e,e),this.mountDebug(e),this.notifySubscribers()}unregister(e){if(this.clients.delete(e),this.currentClient===e){this.unmountDebug();for(const[n]of this.clients){if(this.debugPanel)break;this.mountDebug(n)}}this.notifySubscribers()}subscribe(e){const n=Symbol();return this.subscribers.set(n,e),e(this.getState()),()=>{this.subscribers.delete(n)}}switchPlayerID(e){if(this.currentClient.multiplayer){for(const[n]of this.clients)if(n.playerID===e&&n.debugOpt!==!1&&n.multiplayer===this.currentClient.multiplayer){this.switchToClient(n);return}}this.currentClient.updatePlayerID(e),this.notifySubscribers()}switchToClient(e){e!==this.currentClient&&(this.unmountDebug(),this.mountDebug(e),this.notifySubscribers())}notifySubscribers(){const e=this.getState();this.subscribers.forEach(n=>{n(e)})}getState(){return{client:this.currentClient,debuggableClients:this.getDebuggableClients()}}getDebuggableClients(){return[...this.clients.values()].filter(e=>e.debugOpt!==!1)}mountDebug(e){if(e.debugOpt===!1||this.debugPanel!==null||typeof document>"u")return;let n,s=document.body;e.debugOpt&&e.debugOpt!==!0&&(n=e.debugOpt.impl||n,s=e.debugOpt.target||s),n&&(this.currentClient=e,this.debugPanel=new n({target:s,props:{clientManager:this}}))}unmountDebug(){this.debugPanel.$destroy(),this.debugPanel=null,this.currentClient=null}}const Nk=new Pk;function Fm(t,e,n){return!n&&t==null&&(t=e.getState().ctx.currentPlayer),t}function rg(t,e,n,s,a,c){const u={};for(const f of e)u[f]=(...d)=>{const h=k4[t](f,d,Fm(s,n,c),a);n.dispatch(h)};return u}const Dk=rg.bind(null,"makeMove"),kk=rg.bind(null,"gameEvent"),jk=rg.bind(null,"plugin");class Lk{constructor({game:e,debug:n,numPlayers:s,multiplayer:a,matchID:c,playerID:u,credentials:f,enhancer:d}){this.game=Zc(e),this.playerID=u,this.matchID=c||"default",this.credentials=f,this.multiplayer=a,this.debugOpt=n,this.manager=Nk,this.gameStateOverride=null,this.subscribers={},this._running=!1,this.reducer=Kf({game:this.game,isClient:a!==void 0}),this.initialState=null,a||(this.initialState=Jy({game:this.game,numPlayers:s})),this.reset=()=>{this.store.dispatch(fE(this.initialState))},this.undo=()=>{const S=dE(Fm(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(S)},this.redo=()=>{const S=hE(Fm(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(S)},this.log=[];const v=OE(CE,()=>S=>C=>{const E=S(C);return this.notifySubscribers(),E},S=>C=>E=>{const M=S.getState(),P=C(E);return!("clientOnly"in E)&&E.type!==Gf&&this.transport.sendAction(M,E),P},S=>C=>E=>{const M=C(E),P=S.getState();switch(E.type){case Ic:case qf:case Yf:case Ff:{const D=P.deltalog;this.log=[...this.log,...D];break}case Yy:{this.log=[];break}case Xy:case Ky:{let D=-1;this.log.length>0&&(D=this.log[this.log.length-1]._stateID);let k=E.deltalog||[];k=k.filter(j=>j._stateID>D),this.log=[...this.log,...k];break}case Gy:{this.initialState=E.initialState,this.log=E.log||[];break}}return M});d=d!==void 0?AE(v,d):v,this.store=eg(this.reducer,this.initialState,d),a||(a=Mk),this.transport=a({transportDataCallback:S=>this.receiveTransportData(S),gameKey:e,game:this.game,matchID:c,playerID:u,credentials:f,gameName:this.game.name,numPlayers:s}),this.createDispatchers(),this.chatMessages=[],this.sendChatMessage=S=>{this.transport.sendChatMessage(this.matchID,{id:Ck(7),sender:this.playerID,payload:S})}}receiveMatchData(e){this.matchData=e,this.notifySubscribers()}receiveChatMessage(e){this.chatMessages=[...this.chatMessages,e],this.notifySubscribers()}receiveTransportData(e){const[n]=e.args;if(n===this.matchID)switch(e.type){case"sync":{const[,s]=e.args,a=cE(s);this.receiveMatchData(s.filteredMetadata),this.store.dispatch(a);break}case"update":{const[,s,a]=e.args,c=this.store.getState();if(s._stateID>=c._stateID){const u=uE(s,a);this.store.dispatch(u)}break}case"patch":{const[,s,a,c,u]=e.args,f=this.store.getState()._stateID;if(s!==f)break;const d=lE(s,a,c,u);this.store.dispatch(d),this.store.getState()._stateID===f&&this.transport.requestSync();break}case"matchData":{const[,s]=e.args;this.receiveMatchData(s);break}case"chat":{const[,s]=e.args;this.receiveChatMessage(s);break}}}notifySubscribers(){Object.values(this.subscribers).forEach(e=>e(this.getState()))}overrideGameState(e){this.gameStateOverride=e,this.notifySubscribers()}start(){this.transport.connect(),this._running=!0,this.manager.register(this)}stop(){this.transport.disconnect(),this._running=!1,this.manager.unregister(this)}subscribe(e){const n=Object.keys(this.subscribers).length;return this.subscribers[n]=e,this.transport.subscribeToConnectionStatus(()=>this.notifySubscribers()),(this._running||!this.multiplayer)&&e(this.getState()),()=>{delete this.subscribers[n]}}getInitialState(){return this.initialState}getState(){let e=this.store.getState();if(this.gameStateOverride!==null&&(e=this.gameStateOverride),e===null)return e;let n=!0;const s=this.game.flow.isPlayerActive(e.G,e.ctx,this.playerID);return this.multiplayer&&!s&&(n=!1),!this.multiplayer&&this.playerID!==null&&this.playerID!==void 0&&!s&&(n=!1),e.ctx.gameover!==void 0&&(n=!1),this.multiplayer||(e={...e,G:this.game.playerView({G:e.G,ctx:e.ctx,playerID:this.playerID}),plugins:gE(e,this)}),{...e,log:this.log,isActive:n,isConnected:this.transport.isConnected}}createDispatchers(){this.moves=Dk(this.game.moveNames,this.store,this.playerID,this.credentials,this.multiplayer),this.events=kk(this.game.flow.enabledEventNames,this.store,this.playerID,this.credentials,this.multiplayer),this.plugins=jk(this.game.pluginNames,this.store,this.playerID,this.credentials,this.multiplayer)}updatePlayerID(e){this.playerID=e,this.createDispatchers(),this.transport.updatePlayerID(e),this.notifySubscribers()}updateMatchID(e){this.matchID=e,this.createDispatchers(),this.transport.updateMatchID(e),this.notifySubscribers()}updateCredentials(e){this.credentials=e,this.createDispatchers(),this.transport.updateCredentials(e),this.notifySubscribers()}}function Uk(t){return new Lk(t)}const jE=(t,e)=>{if(!t||typeof t!="string")throw new Error(`Expected ${e} string, got "${t}".`)},Ji=t=>jE(t,"game name"),gc=t=>jE(t,"match ID"),vc=(t,e)=>{if(!t)throw new Error(`Expected body, got ${t}.`);for(const n in e){const s=e[n],a=Array.isArray(s)?s:[s],c=t[n];if(!a.includes(typeof c)){const u=a.join("|");throw new TypeError(`Expected body.${n} to be of type ${u}, got ${c}.`)}}};class zk extends Error{constructor(e,n){super(e),this.details=n}}class Ik{constructor({server:e=""}={}){this.server=e.replace(/\/$/,"")}async request(e,n){const s=await fetch(this.server+e,n);if(!s.ok){let a;try{a=await s.clone().json()}catch{try{a=await s.text()}catch(c){a=c.message}}throw new zk(`HTTP status ${s.status}`,a)}return s.json()}async post(e,n){let s={method:"post",body:JSON.stringify(n.body),headers:{"Content-Type":"application/json"}};return n.init&&(s={...s,...n.init,headers:{...s.headers,...n.init.headers}}),this.request(e,s)}async listGames(e){return this.request("/games",e)}async listMatches(e,n,s){Ji(e);let a="";if(n){const c=[],{isGameover:u,updatedBefore:f,updatedAfter:d}=n;u!==void 0&&c.push(`isGameover=${u}`),f&&c.push(`updatedBefore=${f}`),d&&c.push(`updatedAfter=${d}`),c.length>0&&(a="?"+c.join("&"))}return this.request(`/games/${e}${a}`,s)}async getMatch(e,n,s){return Ji(e),gc(n),this.request(`/games/${e}/${n}`,s)}async createMatch(e,n,s){return Ji(e),vc(n,{numPlayers:"number"}),this.post(`/games/${e}/create`,{body:n,init:s})}async joinMatch(e,n,s,a){return Ji(e),gc(n),vc(s,{playerID:["string","undefined"],playerName:"string"}),this.post(`/games/${e}/${n}/join`,{body:s,init:a})}async leaveMatch(e,n,s,a){Ji(e),gc(n),vc(s,{playerID:"string",credentials:"string"}),await this.post(`/games/${e}/${n}/leave`,{body:s,init:a})}async updatePlayer(e,n,s,a){Ji(e),gc(n),vc(s,{playerID:"string",credentials:"string"}),await this.post(`/games/${e}/${n}/update`,{body:s,init:a})}async playAgain(e,n,s,a){return Ji(e),gc(n),vc(s,{playerID:"string",credentials:"string"}),this.post(`/games/${e}/${n}/playAgain`,{body:s,init:a})}}var Yp={exports:{}},Gp,G1;function Bk(){if(G1)return Gp;G1=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Gp=t,Gp}var Kp,K1;function Hk(){if(K1)return Kp;K1=1;var t=Bk();function e(){}function n(){}return n.resetWarningCache=e,Kp=function(){function s(u,f,d,h,y,g){if(g!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}s.isRequired=s;function a(){return s}var c={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return c.PropTypes=c,c},Kp}var X1;function $k(){return X1||(X1=1,Yp.exports=Hk()()),Yp.exports}var Vk=$k();const is=Vc(Vk);var Hr={},Eu={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var Q1;function qk(){if(Q1)return Eu;Q1=1,Eu.parse=a,Eu.serialize=c;var t=decodeURIComponent,e=encodeURIComponent,n=/; */,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function a(f,d){if(typeof f!="string")throw new TypeError("argument str must be a string");for(var h={},y=d||{},g=f.split(n),v=y.decode||t,S=0;S<g.length;S++){var C=g[S],E=C.indexOf("=");if(!(E<0)){var M=C.substr(0,E).trim(),P=C.substr(++E,C.length).trim();P[0]=='"'&&(P=P.slice(1,-1)),h[M]==null&&(h[M]=u(P,v))}}return h}function c(f,d,h){var y=h||{},g=y.encode||e;if(typeof g!="function")throw new TypeError("option encode is invalid");if(!s.test(f))throw new TypeError("argument name is invalid");var v=g(d);if(v&&!s.test(v))throw new TypeError("argument val is invalid");var S=f+"="+v;if(y.maxAge!=null){var C=y.maxAge-0;if(isNaN(C))throw new Error("maxAge should be a Number");S+="; Max-Age="+Math.floor(C)}if(y.domain){if(!s.test(y.domain))throw new TypeError("option domain is invalid");S+="; Domain="+y.domain}if(y.path){if(!s.test(y.path))throw new TypeError("option path is invalid");S+="; Path="+y.path}if(y.expires){if(typeof y.expires.toUTCString!="function")throw new TypeError("option expires is invalid");S+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(S+="; HttpOnly"),y.secure&&(S+="; Secure"),y.sameSite){var E=typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite;switch(E){case!0:S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"strict":S+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return S}function u(f,d){try{return d(f)}catch{return f}}return Eu}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Xp,Z1;function Fk(){if(Z1)return Xp;Z1=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function s(c){if(c==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(c)}function a(){try{if(!Object.assign)return!1;var c=new String("abc");if(c[5]="de",Object.getOwnPropertyNames(c)[0]==="5")return!1;for(var u={},f=0;f<10;f++)u["_"+String.fromCharCode(f)]=f;var d=Object.getOwnPropertyNames(u).map(function(y){return u[y]});if(d.join("")!=="0123456789")return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(y){h[y]=y}),Object.keys(Object.assign({},h)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Xp=a()?Object.assign:function(c,u){for(var f,d=s(c),h,y=1;y<arguments.length;y++){f=Object(arguments[y]);for(var g in f)e.call(f,g)&&(d[g]=f[g]);if(t){h=t(f);for(var v=0;v<h.length;v++)n.call(f,h[v])&&(d[h[v]]=f[h[v]])}}return d},Xp}var J1;function Yk(){if(J1)return Hr;J1=1;var t={};Object.defineProperty(Hr,"__esModule",{value:!0});var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D};Hr.load=g,Hr.loadAll=v,Hr.select=S,Hr.save=C,Hr.remove=E,Hr.setRawCookie=M,Hr.plugToRequest=P;var n=qk(),s=u(n),a=Fk(),c=u(a);function u(D){return D&&D.__esModule?D:{default:D}}var f=typeof document>"u"||typeof process<"u"&&t&&!1,d={},h=void 0;function y(){return h&&!h.headersSent}function g(D,k){var j=f?d:s.default.parse(document.cookie),Y=j&&j[D];if(typeof k>"u"&&(k=!Y||Y[0]!=="{"&&Y[0]!=="["),!k)try{Y=JSON.parse(Y)}catch{}return Y}function v(D){var k=f?d:s.default.parse(document.cookie),j=k;if(typeof D>"u"&&(D=!j||j[0]!=="{"&&j[0]!=="["),!D)try{j=JSON.parse(j)}catch{}return j}function S(D){var k=f?d:s.default.parse(document.cookie);return k?D?Object.keys(k).reduce(function(j,Y){if(!D.test(Y))return j;var W={};return W[Y]=k[Y],(0,c.default)({},j,W)},{}):k:{}}function C(D,k,j){d[D]=k,(typeof k>"u"?"undefined":e(k))==="object"&&(d[D]=JSON.stringify(k)),f||(document.cookie=s.default.serialize(D,d[D],j)),y()&&h.cookie&&h.cookie(D,k,j)}function E(D,k){delete d[D],typeof k>"u"?k={}:typeof k=="string"?k={path:k}:k=(0,c.default)({},k),typeof document<"u"&&(k.expires=new Date(1970,1,1,0,0,1),k.maxAge=0,document.cookie=s.default.serialize(D,"",k)),y()&&h.clearCookie&&h.clearCookie(D,k)}function M(D){D?d=s.default.parse(D):d={}}function P(D,k){return D.cookie?d=D.cookie:D.cookies?d=D.cookies:D.headers&&D.headers.cookie?M(D.headers.cookie):d={},h=k,function(){h=null,d={}}}return Hr.default={setRawCookie:M,load:g,loadAll:v,select:S,save:C,remove:E,plugToRequest:P},Hr}var Gk=Yk();const W1=Vc(Gk),ys=Object.create(null);ys.open="0";ys.close="1";ys.ping="2";ys.pong="3";ys.message="4";ys.upgrade="5";ys.noop="6";const Hu=Object.create(null);Object.keys(ys).forEach(t=>{Hu[ys[t]]=t});const Ym={type:"error",data:"parser error"},LE=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",UE=typeof ArrayBuffer=="function",zE=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,sg=({type:t,data:e},n,s)=>LE&&e instanceof Blob?n?s(e):eS(e,s):UE&&(e instanceof ArrayBuffer||zE(e))?n?s(e):eS(new Blob([e]),s):s(ys[t]+(e||"")),eS=(t,e)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];e("b"+(s||""))},n.readAsDataURL(t)};function tS(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Qp;function Kk(t,e){if(LE&&t.data instanceof Blob)return t.data.arrayBuffer().then(tS).then(e);if(UE&&(t.data instanceof ArrayBuffer||zE(t.data)))return e(tS(t.data));sg(t,!1,n=>{Qp||(Qp=new TextEncoder),e(Qp.encode(n))})}const nS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<nS.length;t++)wc[nS.charCodeAt(t)]=t;const Xk=t=>{let e=t.length*.75,n=t.length,s,a=0,c,u,f,d;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const h=new ArrayBuffer(e),y=new Uint8Array(h);for(s=0;s<n;s+=4)c=wc[t.charCodeAt(s)],u=wc[t.charCodeAt(s+1)],f=wc[t.charCodeAt(s+2)],d=wc[t.charCodeAt(s+3)],y[a++]=c<<2|u>>4,y[a++]=(u&15)<<4|f>>2,y[a++]=(f&3)<<6|d&63;return h},Qk=typeof ArrayBuffer=="function",ig=(t,e)=>{if(typeof t!="string")return{type:"message",data:IE(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:Zk(t.substring(1),e)}:Hu[n]?t.length>1?{type:Hu[n],data:t.substring(1)}:{type:Hu[n]}:Ym},Zk=(t,e)=>{if(Qk){const n=Xk(t);return IE(n,e)}else return{base64:!0,data:t}},IE=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},BE="",Jk=(t,e)=>{const n=t.length,s=new Array(n);let a=0;t.forEach((c,u)=>{sg(c,!1,f=>{s[u]=f,++a===n&&e(s.join(BE))})})},Wk=(t,e)=>{const n=t.split(BE),s=[];for(let a=0;a<n.length;a++){const c=ig(n[a],e);if(s.push(c),c.type==="error")break}return s};function e5(){return new TransformStream({transform(t,e){Kk(t,n=>{const s=n.length;let a;if(s<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,s);else if(s<65536){a=new Uint8Array(3);const c=new DataView(a.buffer);c.setUint8(0,126),c.setUint16(1,s)}else{a=new Uint8Array(9);const c=new DataView(a.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(s))}t.data&&typeof t.data!="string"&&(a[0]|=128),e.enqueue(a),e.enqueue(n)})}})}let Zp;function Tu(t){return t.reduce((e,n)=>e+n.length,0)}function Ru(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let s=0;for(let a=0;a<e;a++)n[a]=t[0][s++],s===t[0].length&&(t.shift(),s=0);return t.length&&s<t[0].length&&(t[0]=t[0].slice(s)),n}function t5(t,e){Zp||(Zp=new TextDecoder);const n=[];let s=0,a=-1,c=!1;return new TransformStream({transform(u,f){for(n.push(u);;){if(s===0){if(Tu(n)<1)break;const d=Ru(n,1);c=(d[0]&128)===128,a=d[0]&127,a<126?s=3:a===126?s=1:s=2}else if(s===1){if(Tu(n)<2)break;const d=Ru(n,2);a=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),s=3}else if(s===2){if(Tu(n)<8)break;const d=Ru(n,8),h=new DataView(d.buffer,d.byteOffset,d.length),y=h.getUint32(0);if(y>Math.pow(2,21)-1){f.enqueue(Ym);break}a=y*Math.pow(2,32)+h.getUint32(4),s=3}else{if(Tu(n)<a)break;const d=Ru(n,a);f.enqueue(ig(c?d:Zp.decode(d),e)),s=0}if(a===0||a>t){f.enqueue(Ym);break}}}})}const HE=4;function En(t){if(t)return n5(t)}function n5(t){for(var e in En.prototype)t[e]=En.prototype[e];return t}En.prototype.on=En.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};En.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};En.prototype.off=En.prototype.removeListener=En.prototype.removeAllListeners=En.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s,a=0;a<n.length;a++)if(s=n[a],s===e||s.fn===e){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+t],this};En.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,a=n.length;s<a;++s)n[s].apply(this,e)}return this};En.prototype.emitReserved=En.prototype.emit;En.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};En.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Qf=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Nr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),r5="arraybuffer";function $E(t,...e){return e.reduce((n,s)=>(t.hasOwnProperty(s)&&(n[s]=t[s]),n),{})}const s5=Nr.setTimeout,i5=Nr.clearTimeout;function Zf(t,e){e.useNativeTimers?(t.setTimeoutFn=s5.bind(Nr),t.clearTimeoutFn=i5.bind(Nr)):(t.setTimeoutFn=Nr.setTimeout.bind(Nr),t.clearTimeoutFn=Nr.clearTimeout.bind(Nr))}const a5=1.33;function o5(t){return typeof t=="string"?c5(t):Math.ceil((t.byteLength||t.size)*a5)}function c5(t){let e=0,n=0;for(let s=0,a=t.length;s<a;s++)e=t.charCodeAt(s),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(s++,n+=4);return n}function VE(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function l5(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function u5(t){let e={},n=t.split("&");for(let s=0,a=n.length;s<a;s++){let c=n[s].split("=");e[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return e}class f5 extends Error{constructor(e,n,s){super(e),this.description=n,this.context=s,this.type="TransportError"}}class ag extends En{constructor(e){super(),this.writable=!1,Zf(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,s){return super.emitReserved("error",new f5(e,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=ig(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=l5(e);return n.length?"?"+n:""}}class d5 extends ag{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};Wk(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Jk(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=VE()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let qE=!1;try{qE=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const h5=qE;function p5(){}class m5 extends d5{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,n){const s=this.request({method:"POST",data:e});s.on("success",n),s.on("error",(a,c)=>{this.onError("xhr post error",a,c)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=e}}class hs extends En{constructor(e,n,s){super(),this.createRequest=e,Zf(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const n=$E(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&s.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var a;s.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=hs.requestsCount++,hs.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=p5,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete hs.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}hs.requestsCount=0;hs.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",rS);else if(typeof addEventListener=="function"){const t="onpagehide"in Nr?"pagehide":"unload";addEventListener(t,rS,!1)}}function rS(){for(let t in hs.requests)hs.requests.hasOwnProperty(t)&&hs.requests[t].abort()}const y5=(function(){const t=FE({xdomain:!1});return t&&t.responseType!==null})();class g5 extends m5{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=y5&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new hs(FE,this.uri(),e)}}function FE(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||h5))return new XMLHttpRequest}catch{}if(!e)try{return new Nr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const YE=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class v5 extends ag{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,s=YE?{}:$E(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,s)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],a=n===e.length-1;sg(s,this.supportsBinary,c=>{try{this.doWrite(s,c)}catch{}a&&Qf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=VE()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Jp=Nr.WebSocket||Nr.MozWebSocket;class x5 extends v5{createSocket(e,n,s){return YE?new Jp(e,n,s):n?new Jp(e,n):new Jp(e)}doWrite(e,n){this.ws.send(n)}}class b5 extends ag{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=t5(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(n).getReader(),a=e5();a.readable.pipeTo(e.writable),this._writer=a.writable.getWriter();const c=()=>{s.read().then(({done:f,value:d})=>{f||(this.onPacket(d),c())}).catch(f=>{})};c();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this._writer.write(u).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],a=n===e.length-1;this._writer.write(s).then(()=>{a&&Qf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const S5={websocket:x5,webtransport:b5,polling:g5},_5=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,w5=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Gm(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),s=t.indexOf("]");n!=-1&&s!=-1&&(t=t.substring(0,n)+t.substring(n,s).replace(/:/g,";")+t.substring(s,t.length));let a=_5.exec(t||""),c={},u=14;for(;u--;)c[w5[u]]=a[u]||"";return n!=-1&&s!=-1&&(c.source=e,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=C5(c,c.path),c.queryKey=E5(c,c.query),c}function C5(t,e){const n=/\/{2,9}/g,s=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function E5(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,c){a&&(n[a]=c)}),n}const Km=typeof addEventListener=="function"&&typeof removeEventListener=="function",$u=[];Km&&addEventListener("offline",()=>{$u.forEach(t=>t())},!1);class Ai extends En{constructor(e,n){if(super(),this.binaryType=r5,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const s=Gm(e);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=Gm(n.host).host);Zf(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const a=s.prototype.name;this.transports.push(a),this._transportsByName[a]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=u5(this.opts.query)),Km&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},$u.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=HE,n.transport=e,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Ai.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Ai.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const a=this.writeBuffer[s].data;if(a&&(n+=o5(a)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Qf(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,s){return this._sendPacket("message",e,n,s),this}send(e,n,s){return this._sendPacket("message",e,n,s),this}_sendPacket(e,n,s,a){if(typeof n=="function"&&(a=n,n=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const c={type:e,data:n,options:s};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(Ai.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Km&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=$u.indexOf(this._offlineEventListener);s!==-1&&$u.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Ai.protocol=HE;class T5 extends Ai{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),s=!1;Ai.priorWebsocketSuccess=!1;const a=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!s)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Ai.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(y(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=n.name,this.emitReserved("upgradeError",v)}}))};function c(){s||(s=!0,y(),n.close(),n=null)}const u=g=>{const v=new Error("probe error: "+g);v.transport=n.name,c(),this.emitReserved("upgradeError",v)};function f(){u("transport closed")}function d(){u("socket closed")}function h(g){n&&g.name!==n.name&&c()}const y=()=>{n.removeListener("open",a),n.removeListener("error",u),n.removeListener("close",f),this.off("close",d),this.off("upgrading",h)};n.once("open",a),n.once("error",u),n.once("close",f),this.once("close",d),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&n.push(e[s]);return n}}let R5=class extends T5{constructor(e,n={}){const s=typeof e=="object"?e:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(a=>S5[a]).filter(a=>!!a)),super(e,s)}};function A5(t,e="",n){let s=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),s=Gm(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const c=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+c+":"+s.port+e,s.href=s.protocol+"://"+c+(n&&n.port===s.port?"":":"+s.port),s}const O5=typeof ArrayBuffer=="function",M5=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,GE=Object.prototype.toString,P5=typeof Blob=="function"||typeof Blob<"u"&&GE.call(Blob)==="[object BlobConstructor]",N5=typeof File=="function"||typeof File<"u"&&GE.call(File)==="[object FileConstructor]";function og(t){return O5&&(t instanceof ArrayBuffer||M5(t))||P5&&t instanceof Blob||N5&&t instanceof File}function Vu(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,s=t.length;n<s;n++)if(Vu(t[n]))return!0;return!1}if(og(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Vu(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Vu(t[n]))return!0;return!1}function D5(t){const e=[],n=t.data,s=t;return s.data=Xm(n,e),s.attachments=e.length,{packet:s,buffers:e}}function Xm(t,e){if(!t)return t;if(og(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let s=0;s<t.length;s++)n[s]=Xm(t[s],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=Xm(t[s],e));return n}return t}function k5(t,e){return t.data=Qm(t.data,e),delete t.attachments,t}function Qm(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Qm(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Qm(t[n],e));return t}const j5=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],L5=5;var Nt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Nt||(Nt={}));class U5{constructor(e){this.replacer=e}encode(e){return(e.type===Nt.EVENT||e.type===Nt.ACK)&&Vu(e)?this.encodeAsBinary({type:e.type===Nt.EVENT?Nt.BINARY_EVENT:Nt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Nt.BINARY_EVENT||e.type===Nt.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=D5(e),s=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(s),a}}function sS(t){return Object.prototype.toString.call(t)==="[object Object]"}class cg extends En{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const s=n.type===Nt.BINARY_EVENT;s||n.type===Nt.BINARY_ACK?(n.type=s?Nt.EVENT:Nt.ACK,this.reconstructor=new z5(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(og(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const s={type:Number(e.charAt(0))};if(Nt[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Nt.BINARY_EVENT||s.type===Nt.BINARY_ACK){const c=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const u=e.substring(c,n);if(u!=Number(u)||e.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(u)}if(e.charAt(n+1)==="/"){const c=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););s.nsp=e.substring(c,n)}else s.nsp="/";const a=e.charAt(n+1);if(a!==""&&Number(a)==a){const c=n+1;for(;++n;){const u=e.charAt(n);if(u==null||Number(u)!=u){--n;break}if(n===e.length)break}s.id=Number(e.substring(c,n+1))}if(e.charAt(++n)){const c=this.tryParse(e.substr(n));if(cg.isPayloadValid(s.type,c))s.data=c;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Nt.CONNECT:return sS(n);case Nt.DISCONNECT:return n===void 0;case Nt.CONNECT_ERROR:return typeof n=="string"||sS(n);case Nt.EVENT:case Nt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&j5.indexOf(n[0])===-1);case Nt.ACK:case Nt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class z5{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=k5(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const I5=Object.freeze(Object.defineProperty({__proto__:null,Decoder:cg,Encoder:U5,get PacketType(){return Nt},protocol:L5},Symbol.toStringTag,{value:"Module"}));function Vr(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const B5=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class KE extends En{constructor(e,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Vr(e,"open",this.onopen.bind(this)),Vr(e,"packet",this.onpacket.bind(this)),Vr(e,"error",this.onerror.bind(this)),Vr(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var s,a,c;if(B5.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const u={type:Nt.EVENT,data:n};if(u.options={},u.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const y=this.ids++,g=n.pop();this._registerAckCallback(y,g),u.id=y}const f=(a=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||a===void 0?void 0:a.writable,d=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!f||(d?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u)),this.flags={},this}_registerAckCallback(e,n){var s;const a=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(a===void 0){this.acks[e]=n;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let f=0;f<this.sendBuffer.length;f++)this.sendBuffer[f].id===e&&this.sendBuffer.splice(f,1);n.call(this,new Error("operation has timed out"))},a),u=(...f)=>{this.io.clearTimeoutFn(c),n.apply(this,f)};u.withError=!0,this.acks[e]=u}emitWithAck(e,...n){return new Promise((s,a)=>{const c=(u,f)=>u?a(u):s(f);c.withError=!0,n.push(c),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((a,...c)=>s!==this._queue[0]?void 0:(a!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...c)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Nt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Nt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Nt.EVENT:case Nt.BINARY_EVENT:this.onevent(e);break;case Nt.ACK:case Nt.BINARY_ACK:this.onack(e);break;case Nt.DISCONNECT:this.ondisconnect();break;case Nt.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let s=!1;return function(...a){s||(s=!0,n.packet({type:Nt.ACK,id:e,data:a}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Nt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,e.data)}}}function vo(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}vo.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};vo.prototype.reset=function(){this.attempts=0};vo.prototype.setMin=function(t){this.ms=t};vo.prototype.setMax=function(t){this.max=t};vo.prototype.setJitter=function(t){this.jitter=t};class Zm extends En{constructor(e,n){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Zf(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new vo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const a=n.parser||I5;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new R5(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=Vr(n,"open",function(){s.onopen(),e&&e()}),c=f=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",f),e?e(f):this.maybeReconnectOnOpen()},u=Vr(n,"error",c);if(this._timeout!==!1){const f=this._timeout,d=this.setTimeoutFn(()=>{a(),c(new Error("timeout")),n.close()},f);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(a),this.subs.push(u),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Vr(e,"ping",this.onping.bind(this)),Vr(e,"data",this.ondata.bind(this)),Vr(e,"error",this.onerror.bind(this)),Vr(e,"close",this.onclose.bind(this)),Vr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Qf(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new KE(this,e,n),this.nsps[e]=s),s}_destroy(e){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let s=0;s<n.length;s++)this.engine.write(n[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(a=>{a?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",a)):e.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const xc={};function qu(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=A5(t,e.path||"/socket.io"),s=n.source,a=n.id,c=n.path,u=xc[a]&&c in xc[a].nsps,f=e.forceNew||e["force new connection"]||e.multiplex===!1||u;let d;return f?d=new Zm(s,e):(xc[a]||(xc[a]=new Zm(s,e)),d=xc[a]),n.query&&!e.query&&(e.query=n.queryKey),d.socket(n.path,e)}Object.assign(qu,{Manager:Zm,Socket:KE,io:qu,connect:qu});class XE extends EE{constructor(){super(),this.state=new Map,this.initial=new Map,this.metadata=new Map,this.log=new Map}createMatch(e,n){this.initial.set(e,n.initialState),this.setState(e,n.initialState),this.setMetadata(e,n.metadata)}setMetadata(e,n){this.metadata.set(e,n)}setState(e,n,s){if(s&&s.length>0){const a=this.log.get(e)||[];this.log.set(e,[...a,...s])}this.state.set(e,n)}fetch(e,n){const s={};return n.state&&(s.state=this.state.get(e)),n.metadata&&(s.metadata=this.metadata.get(e)),n.log&&(s.log=this.log.get(e)||[]),n.initialState&&(s.initialState=this.initial.get(e)),s}wipe(e){this.state.delete(e),this.metadata.delete(e)}listMatches(e){return[...this.metadata.entries()].filter(([,n])=>e?!(e.gameName!==void 0&&n.gameName!==e.gameName||e.where!==void 0&&(e.where.isGameover!==void 0&&n.gameover!==void 0!==e.where.isGameover||e.where.updatedBefore!==void 0&&n.updatedAt>=e.where.updatedBefore||e.where.updatedAfter!==void 0&&n.updatedAt<=e.where.updatedAfter)):!0).map(([n])=>n)}}class H5 extends Map{constructor(e){super(),this.key=e,(JSON.parse(localStorage.getItem(this.key))||[]).forEach(s=>this.set(...s))}sync(){const e=[...this.entries()];localStorage.setItem(this.key,JSON.stringify(e))}set(e,n){return super.set(e,n),this.sync(),this}delete(e){const n=super.delete(e);return this.sync(),n}}class $5 extends XE{constructor(e="bgio"){super();const n=s=>new H5(`${e}_${s}`);this.state=n("state"),this.initial=n("initial"),this.metadata=n("metadata"),this.log=n("log")}}function V5(t,e){if(t.ctx.gameover!==void 0)return null;if(t.ctx.activePlayers){for(const n of Object.keys(e))if(n in t.ctx.activePlayers)return n}else if(t.ctx.currentPlayer in e)return t.ctx.currentPlayer;return null}class q5 extends ME{constructor({game:e,bots:n,storageKey:s,persist:a}){const c={},u={};if(e&&e.ai&&n)for(const g in n){const v=n[g];u[g]=new v({game:e,enumerate:e.ai.enumerate,seed:e.seed})}const f=({playerID:g,...v})=>{const S=c[g];S!==void 0&&S(d(g,v))},d=RE(e),h={send:f,sendAll:g=>{for(const v in c)f({playerID:v,...g})}},y=a?new $5(s):new XE;super(e,y,h),this.connect=(g,v)=>{c[g]=v},this.subscribe(({state:g,matchID:v})=>{if(!n)return;const S=V5(g,u);S!==null&&setTimeout(async()=>{const C=await u[S].play(g,S);await this.onUpdate(C.action,g._stateID,v,C.action.payload.playerID)},100)})}}class F5 extends Xf{constructor({master:e,...n}){super(n),this.master=e}sendChatMessage(e,n){const s=[e,n,this.credentials];this.master.onChatMessage(...s)}sendAction(e,n){this.master.onUpdate(n,e._stateID,this.matchID,this.playerID)}requestSync(){this.master.onSync(this.matchID,this.playerID,this.credentials,this.numPlayers)}connect(){this.setConnectionStatus(!0),this.master.connect(this.playerID,e=>this.notifyClient(e)),this.requestSync()}disconnect(){this.setConnectionStatus(!1)}updateMatchID(e){this.matchID=e,this.connect()}updatePlayerID(e){this.playerID=e,this.connect()}updateCredentials(e){this.credentials=e,this.connect()}}const iS=new Map;function Y5({bots:t,persist:e,storageKey:n}={}){return s=>{const{gameKey:a,game:c}=s;let u;const f=iS.get(a);return f&&f.bots===t&&f.storageKey===n&&f.persist===e&&(u=f.master),u||(u=new q5({game:c,bots:t,persist:e,storageKey:n}),iS.set(a,{master:u,bots:t,persist:e,storageKey:n})),new F5({master:u,...s})}}const aS=qu;class G5 extends Xf{constructor({socket:e,socketOpts:n,server:s,...a}){super(a),this.server=s,this.socket=e,this.socketOpts=n}sendAction(e,n){const s=[n,e._stateID,this.matchID,this.playerID];this.socket.emit("update",...s)}sendChatMessage(e,n){const s=[e,n,this.credentials];this.socket.emit("chat",...s)}connect(){if(!this.socket)if(this.server){let e=this.server;e.search(/^https?:\/\//)==-1&&(e="http://"+this.server),e.slice(-1)!="/"&&(e=e+"/"),this.socket=aS(e+this.gameName,this.socketOpts)}else this.socket=aS("/"+this.gameName,this.socketOpts);this.socket.on("patch",(e,n,s,a,c)=>{this.notifyClient({type:"patch",args:[e,n,s,a,c]})}),this.socket.on("update",(e,n,s)=>{this.notifyClient({type:"update",args:[e,n,s]})}),this.socket.on("sync",(e,n)=>{this.notifyClient({type:"sync",args:[e,n]})}),this.socket.on("matchData",(e,n)=>{this.notifyClient({type:"matchData",args:[e,n]})}),this.socket.on("chat",(e,n)=>{this.notifyClient({type:"chat",args:[e,n]})}),this.socket.on("connect",()=>{this.requestSync(),this.setConnectionStatus(!0)}),this.socket.on("disconnect",()=>{this.setConnectionStatus(!1)})}disconnect(){this.socket.close(),this.socket=null,this.setConnectionStatus(!1)}requestSync(){if(this.socket){const e=[this.matchID,this.playerID,this.credentials,this.numPlayers];this.socket.emit("sync",...e)}}updateMatchID(e){this.matchID=e,this.requestSync()}updatePlayerID(e){this.playerID=e,this.requestSync()}updateCredentials(e){this.credentials=e,this.requestSync()}}function oS({server:t,socketOpts:e}={}){return n=>new G5({server:t,socketOpts:e,...n})}function QE(t){var e;const{game:n,numPlayers:s,board:a,multiplayer:c,enhancer:u}=t;let{loading:f,debug:d}=t;return f===void 0&&(f=()=>ke.createElement("div",{className:"bgio-loading"},"connecting...")),e=class extends ke.Component{constructor(y){super(y),d===void 0&&(d=y.debug),this.client=Uk({game:n,debug:d,numPlayers:s,multiplayer:c,matchID:y.matchID,playerID:y.playerID,credentials:y.credentials,enhancer:u})}componentDidMount(){this.unsubscribe=this.client.subscribe(()=>this.forceUpdate()),this.client.start()}componentWillUnmount(){this.client.stop(),this.unsubscribe()}componentDidUpdate(y){this.props.matchID!=y.matchID&&this.client.updateMatchID(this.props.matchID),this.props.playerID!=y.playerID&&this.client.updatePlayerID(this.props.playerID),this.props.credentials!=y.credentials&&this.client.updateCredentials(this.props.credentials)}render(){const y=this.client.getState();if(y===null)return ke.createElement(f);let g=null;return a&&(g=ke.createElement(a,{...y,...this.props,isMultiplayer:!!c,moves:this.client.moves,events:this.client.events,matchID:this.client.matchID,playerID:this.client.playerID,reset:this.client.reset,undo:this.client.undo,redo:this.client.redo,log:this.client.log,matchData:this.client.matchData,sendChatMessage:this.client.sendChatMessage,chatMessages:this.client.chatMessages})),ke.createElement("div",{className:"bgio-client"},g)}},e.propTypes={matchID:is.string,playerID:is.string,credentials:is.string,debug:is.any},e.defaultProps={matchID:"default",playerID:null,credentials:null,debug:!0},e}class K5{constructor({server:e,gameComponents:n,playerName:s,playerCredentials:a}){this.client=new Ik({server:e}),this.gameComponents=n,this.playerName=s||"Visitor",this.playerCredentials=a,this.matches=[]}async refresh(){try{this.matches=[];const e=await this.client.listGames();for(const n of e){if(!this._getGameComponents(n))continue;const{matches:s}=await this.client.listMatches(n);this.matches.push(...s)}}catch(e){throw new Error("failed to retrieve list of matches ("+e+")")}}_getMatchInstance(e){for(const n of this.matches)if(n.matchID===e)return n}_getGameComponents(e){for(const n of this.gameComponents)if(n.game.name===e)return n}_findPlayer(e){for(const n of this.matches)if(n.players.some(s=>s.name===e))return n}async join(e,n,s){try{let a=this._findPlayer(this.playerName);if(a)throw new Error("player has already joined "+a.matchID);if(a=this._getMatchInstance(n),!a)throw new Error("game instance "+n+" not found");const c=await this.client.joinMatch(e,n,{playerID:s,playerName:this.playerName});a.players[Number.parseInt(s)].name=this.playerName,this.playerCredentials=c.playerCredentials}catch(a){throw new Error("failed to join match "+n+" ("+a+")")}}async leave(e,n){try{const s=this._getMatchInstance(n);if(!s)throw new Error("match instance not found");for(const a of s.players)if(a.name===this.playerName){await this.client.leaveMatch(e,n,{playerID:a.id.toString(),credentials:this.playerCredentials}),delete a.name,delete this.playerCredentials;return}throw new Error("player not found in match")}catch(s){throw new Error("failed to leave match "+n+" ("+s+")")}}async disconnect(){const e=this._findPlayer(this.playerName);e&&await this.leave(e.gameName,e.matchID),this.matches=[],this.playerName="Visitor"}async create(e,n){try{const s=this._getGameComponents(e);if(!s)throw new Error("game not found");if(n<s.game.minPlayers||n>s.game.maxPlayers)throw new Error("invalid number of players "+n);await this.client.createMatch(e,{numPlayers:n})}catch(s){throw new Error("failed to create match for "+e+" ("+s+")")}}}function X5(t){return new K5(t)}class ZE extends ke.Component{constructor(){super(...arguments),this.state={playerName:this.props.playerName,nameErrorMsg:""},this.onClickEnter=()=>{this.state.playerName!==""&&this.props.onEnter(this.state.playerName)},this.onKeyPress=e=>{e.key==="Enter"&&this.onClickEnter()},this.onChangePlayerName=e=>{const n=e.target.value.trim();this.setState({playerName:n,nameErrorMsg:n.length>0?"":"empty player name"})}}render(){return ke.createElement("div",null,ke.createElement("p",{className:"phase-title"},"Choose a player name:"),ke.createElement("input",{type:"text",value:this.state.playerName,onChange:this.onChangePlayerName,onKeyPress:this.onKeyPress}),ke.createElement("span",{className:"buttons"},ke.createElement("button",{className:"buttons",onClick:this.onClickEnter},"Enter")),ke.createElement("br",null),ke.createElement("span",{className:"error-msg"},this.state.nameErrorMsg,ke.createElement("br",null)))}}ZE.defaultProps={playerName:""};class Q5 extends ke.Component{constructor(){super(...arguments),this._createSeat=e=>e.name||"[free]",this._createButtonJoin=(e,n)=>ke.createElement("button",{key:"button-join-"+e.matchID,onClick:()=>this.props.onClickJoin(e.gameName,e.matchID,""+n)},"Join"),this._createButtonLeave=e=>ke.createElement("button",{key:"button-leave-"+e.matchID,onClick:()=>this.props.onClickLeave(e.gameName,e.matchID)},"Leave"),this._createButtonPlay=(e,n)=>ke.createElement("button",{key:"button-play-"+e.matchID,onClick:()=>this.props.onClickPlay(e.gameName,{matchID:e.matchID,playerID:""+n,numPlayers:e.players.length})},"Play"),this._createButtonSpectate=e=>ke.createElement("button",{key:"button-spectate-"+e.matchID,onClick:()=>this.props.onClickPlay(e.gameName,{matchID:e.matchID,numPlayers:e.players.length})},"Spectate"),this._createInstanceButtons=e=>{const n=e.players.find(a=>a.name===this.props.playerName),s=e.players.find(a=>!a.name);return n&&s?this._createButtonLeave(e):s?this._createButtonJoin(e,s.id):n?ke.createElement("div",null,[this._createButtonPlay(e,n.id),this._createButtonLeave(e)]):this._createButtonSpectate(e)}}render(){const e=this.props.match;let n="OPEN";return e.players.some(s=>!s.name)||(n="RUNNING"),ke.createElement("tr",{key:"line-"+e.matchID},ke.createElement("td",{key:"cell-name-"+e.matchID},e.gameName),ke.createElement("td",{key:"cell-status-"+e.matchID},n),ke.createElement("td",{key:"cell-seats-"+e.matchID},e.players.map(s=>this._createSeat(s)).join(", ")),ke.createElement("td",{key:"cell-buttons-"+e.matchID},this._createInstanceButtons(e)))}}class Z5 extends ke.Component{constructor(e){super(e),this.state={selectedGame:0,numPlayers:2},this._createGameNameOption=(n,s)=>ke.createElement("option",{key:"name-option-"+s,value:s},n.game.name),this._createNumPlayersOption=n=>ke.createElement("option",{key:"num-option-"+n,value:n},n),this._createNumPlayersRange=n=>Array.from({length:n.maxPlayers+1}).map((s,a)=>a).slice(n.minPlayers),this.onChangeNumPlayers=n=>{this.setState({numPlayers:Number.parseInt(n.target.value)})},this.onChangeSelectedGame=n=>{const s=Number.parseInt(n.target.value);this.setState({selectedGame:s,numPlayers:this.props.games[s].game.minPlayers})},this.onClickCreate=()=>{this.props.createMatch(this.props.games[this.state.selectedGame].game.name,this.state.numPlayers)};for(const n of e.games){const s=n.game;s.minPlayers||(s.minPlayers=1),s.maxPlayers||(s.maxPlayers=4),console.assert(s.maxPlayers>=s.minPlayers)}this.state={selectedGame:0,numPlayers:e.games[0].game.minPlayers}}render(){return ke.createElement("div",null,ke.createElement("select",{value:this.state.selectedGame,onChange:e=>this.onChangeSelectedGame(e)},this.props.games.map((e,n)=>this._createGameNameOption(e,n))),ke.createElement("span",null,"Players:"),ke.createElement("select",{value:this.state.numPlayers,onChange:this.onChangeNumPlayers},this._createNumPlayersRange(this.props.games[this.state.selectedGame].game).map(e=>this._createNumPlayersOption(e))),ke.createElement("span",{className:"buttons"},ke.createElement("button",{onClick:this.onClickCreate},"Create")))}}var or;(function(t){t.ENTER="enter",t.PLAY="play",t.LIST="list"})(or||(or={}));class JE extends ke.Component{constructor(e){super(e),this.state={phase:or.ENTER,playerName:"Visitor",runningMatch:null,errorMsg:"",credentialStore:{}},this._createConnection=n=>{const s=this.state.playerName;this.connection=X5({server:n.lobbyServer,gameComponents:n.gameComponents,playerName:s,playerCredentials:this.state.credentialStore[s]})},this._updateCredentials=(n,s)=>{this.setState(a=>{const c=Object.assign({},a.credentialStore);return c[n]=s,{credentialStore:c}})},this._updateConnection=async()=>{await this.connection.refresh(),this.forceUpdate()},this._enterLobby=n=>{this._startRefreshInterval(),this.setState({playerName:n,phase:or.LIST})},this._exitLobby=async()=>{this._clearRefreshInterval(),await this.connection.disconnect(),this.setState({phase:or.ENTER,errorMsg:""})},this._createMatch=async(n,s)=>{try{await this.connection.create(n,s),await this.connection.refresh(),this.setState({})}catch(a){this.setState({errorMsg:a.message})}},this._joinMatch=async(n,s,a)=>{try{await this.connection.join(n,s,a),await this.connection.refresh(),this._updateCredentials(this.connection.playerName,this.connection.playerCredentials)}catch(c){this.setState({errorMsg:c.message})}},this._leaveMatch=async(n,s)=>{try{await this.connection.leave(n,s),await this.connection.refresh(),this._updateCredentials(this.connection.playerName,this.connection.playerCredentials)}catch(a){this.setState({errorMsg:a.message})}},this._startMatch=(n,s)=>{const a=this.connection._getGameComponents(n);if(!a){this.setState({errorMsg:"game "+n+" not supported"});return}let c;if(s.numPlayers>1&&(c=this.props.gameServer?oS({server:this.props.gameServer}):oS()),s.numPlayers==1){const d=a.game.maxPlayers,h={};for(let y=1;y<d;y++)h[y+""]=Ak;c=Y5({bots:h})}const f={app:this.props.clientFactory({game:a.game,board:a.board,debug:this.props.debug,multiplayer:c}),matchID:s.matchID,playerID:s.numPlayers>1?s.playerID:"0",credentials:this.connection.playerCredentials};this._clearRefreshInterval(),this.setState({phase:or.PLAY,runningMatch:f})},this._exitMatch=()=>{this._startRefreshInterval(),this.setState({phase:or.LIST,runningMatch:null})},this._getPhaseVisibility=n=>this.state.phase!==n?"hidden":"phase",this.renderMatches=(n,s)=>n.map(a=>{const{matchID:c,gameName:u,players:f}=a;return ke.createElement(Q5,{key:"instance-"+c,match:{matchID:c,gameName:u,players:Object.values(f)},playerName:s,onClickJoin:this._joinMatch,onClickLeave:this._leaveMatch,onClickPlay:this._startMatch})}),this._createConnection(this.props)}componentDidMount(){const e=W1.load("lobbyState")||{};e.phase&&e.phase===or.PLAY&&(e.phase=or.LIST),e.phase&&e.phase!==or.ENTER&&this._startRefreshInterval(),this.setState({phase:e.phase||or.ENTER,playerName:e.playerName||"Visitor",credentialStore:e.credentialStore||{}})}componentDidUpdate(e,n){const s=this.state.playerName,a=this.state.credentialStore[s];if(n.phase!==this.state.phase||n.credentialStore[s]!==a||n.playerName!==s){this._createConnection(this.props),this._updateConnection();const c={phase:this.state.phase,playerName:s,credentialStore:this.state.credentialStore};W1.save("lobbyState",c,{path:"/"})}e.refreshInterval!==this.props.refreshInterval&&this._startRefreshInterval()}componentWillUnmount(){this._clearRefreshInterval()}_startRefreshInterval(){this._clearRefreshInterval(),this._currentInterval=setInterval(this._updateConnection,this.props.refreshInterval)}_clearRefreshInterval(){clearInterval(this._currentInterval)}render(){const{gameComponents:e,renderer:n}=this.props,{errorMsg:s,playerName:a,phase:c,runningMatch:u}=this.state;return n?n({errorMsg:s,gameComponents:e,matches:this.connection.matches,phase:c,playerName:a,runningMatch:u,handleEnterLobby:this._enterLobby,handleExitLobby:this._exitLobby,handleCreateMatch:this._createMatch,handleJoinMatch:this._joinMatch,handleLeaveMatch:this._leaveMatch,handleExitMatch:this._exitMatch,handleRefreshMatches:this._updateConnection,handleStartMatch:this._startMatch}):ke.createElement("div",{id:"lobby-view",style:{padding:50}},ke.createElement("div",{className:this._getPhaseVisibility(or.ENTER)},ke.createElement(ZE,{key:a,playerName:a,onEnter:this._enterLobby})),ke.createElement("div",{className:this._getPhaseVisibility(or.LIST)},ke.createElement("p",null,"Welcome, ",a),ke.createElement("div",{className:"phase-title",id:"match-creation"},ke.createElement("span",null,"Create a match:"),ke.createElement(Z5,{games:e,createMatch:this._createMatch})),ke.createElement("p",{className:"phase-title"},"Join a match:"),ke.createElement("div",{id:"instances"},ke.createElement("table",null,ke.createElement("tbody",null,this.renderMatches(this.connection.matches,a))),ke.createElement("span",{className:"error-msg"},s,ke.createElement("br",null))),ke.createElement("p",{className:"phase-title"},"Matches that become empty are automatically deleted.")),ke.createElement("div",{className:this._getPhaseVisibility(or.PLAY)},u&&ke.createElement(u.app,{matchID:u.matchID,playerID:u.playerID,credentials:u.credentials}),ke.createElement("div",{className:"buttons",id:"match-exit"},ke.createElement("button",{onClick:this._exitMatch},"Exit match"))),ke.createElement("div",{className:"buttons",id:"lobby-exit"},ke.createElement("button",{onClick:this._exitLobby},"Exit lobby")))}}JE.propTypes={gameComponents:is.array.isRequired,lobbyServer:is.string,gameServer:is.string,debug:is.bool,clientFactory:is.func,refreshInterval:is.number};JE.defaultProps={debug:!1,clientFactory:QE,refreshInterval:2e3};function J5({title:t="Connecting",description:e="Hang tight while we get everything ready.",roomCode:n,topRightSlot:s}){return b.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-gradient-to-br from-primary/10 via-background to-secondary/10",children:[s,b.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_top,_theme(colors.primary/15),transparent_60%)]"}),b.jsx("div",{className:"relative flex min-h-screen flex-col items-center justify-center px-6 py-16",children:b.jsxs("div",{className:"w-full max-w-md space-y-6 rounded-3xl border border-border/50 bg-background/90 p-10 text-center shadow-xl backdrop-blur",children:[b.jsx("div",{className:"flex items-center justify-center",children:b.jsx(py,{className:"h-12 w-12 animate-spin text-primary"})}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h2",{className:"text-2xl font-heading",children:t}),e?b.jsx("p",{className:"text-sm text-muted-foreground",children:e}):null]}),n?b.jsx("div",{className:"flex justify-center",children:b.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-border/70 bg-muted/40 px-4 py-2 font-mono text-xs uppercase tracking-[0.3em] text-muted-foreground",children:["Room",b.jsx("span",{className:"text-foreground",children:n})]})}):null]})})]})}const Jm=()=>typeof window>"u"?"Player":localStorage.getItem("playerName")||"Player",W5=t=>{if(typeof window>"u")return t;const e=sessionStorage.getItem("musicshowdown.pendingRole");if(e==="host"||e==="peer")return sessionStorage.removeItem("musicshowdown.pendingRole"),e;const n=sessionStorage.getItem("musicshowdown.lastRole");return n==="host"||n==="peer"?n:t},e8=t=>{typeof window<"u"&&sessionStorage.setItem("musicshowdown.lastRole",t)},t8=(t,e)=>{const n=typeof window<"u"?sessionStorage.getItem("musicshowdown.pendingRole"):null,s=ng(t);if(s&&!n)return typeof window<"u"&&sessionStorage.setItem("musicshowdown.lastRole",s.role),s;s&&n&&xk(t);const a=W5(e);if(a==="peer")return NE(Jm());const c=DE(t,a,Jm());return typeof window<"u"&&sessionStorage.setItem("musicshowdown.lastRole",c.role),c};function n8({roomCode:t,defaultRole:e,board:n}){const[s,a]=T.useState(()=>t8(t,e)),c=T.useCallback(v=>{a(S=>{const C=typeof v=="function"?v(S):v;return e8(C.role),C})},[]),u=T.useCallback(v=>{const S=v.trim().slice(0,24);S&&(typeof window<"u"&&localStorage.setItem("playerName",S),c(C=>C.role==="spectator"?{...C,playerName:S}:DE(t,C.role,S)))},[t,c]),f=T.useCallback(v=>{c(S=>{const C=v?.trim().slice(0,24)||S.playerName;return vk(t,C)})},[t,c]),d=T.useCallback(v=>{c(S=>{if(S.role==="host")return S;const C=S.playerName.trim()||Jm();return{...yk(t,C,v),role:"peer"}})},[t,c]),h=T.useCallback(()=>{c(v=>v.role!=="peer"||v.playerID===Pc?v:(gk(t,v.playerID),NE(v.playerName)))},[t,c]),y=T.useMemo(()=>{const v=n;return function(C){return b.jsx(v,{...C,identity:s,isHost:s.role==="host",updatePlayerName:u,promoteToHost:f,claimSeat:d,releaseSeat:h})}},[n,s,f,u,d,h]),g=T.useMemo(()=>QE({game:pk,board:y,multiplayer:ds.P2P({isHost:s.role==="host",onError:v=>alert(v.message),peerOptions:{secure:!0}}),numPlayers:$c,debug:!1,loading:()=>b.jsx(J5,{title:"Connecting to your room",description:"Setting the stage and syncing players. Hang tightthis should only take a moment.",roomCode:t,topRightSlot:b.jsx("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:b.jsx(Cy,{})})})}),[y,s.role]);return b.jsx(g,{matchID:t,playerID:s.role==="spectator"?void 0:s.playerID,credentials:s.role==="spectator"?void 0:s.credentials},`${t}:${s.playerID}:${s.credentials}:${s.role}`)}const Jf=BA({component:IP}),r8=Tf({getParentRoute:()=>Jf,path:"/music-showdown/",component:GP}),WE=Tf({getParentRoute:()=>Jf,path:"/music-showdown/game/$roomCode",component:()=>{const{roomCode:t}=WE.useParams();return typeof window<"u"&&(sessionStorage.getItem("musicshowdown.pendingRole")||sessionStorage.setItem("musicshowdown.pendingRole","peer")),b.jsx(n8,{roomCode:t,defaultRole:"peer",board:Sk})}}),s8=Tf({getParentRoute:()=>Jf,path:"*",component:_k}),i8=Jf.addChildren([r8,WE,s8]),a8=XA({routeTree:i8});u2.createRoot(document.getElementById("root")).render(b.jsx(JA,{router:a8}));
