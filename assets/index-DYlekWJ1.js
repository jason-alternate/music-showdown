function oS(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in t)){const c=Object.getOwnPropertyDescriptor(s,a);c&&Object.defineProperty(t,a,c.get?c:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var Hx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bf(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function s(){var a=!1;try{a=this instanceof s}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var a=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return t[s]}})}),n}var np={exports:{}},oc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x;function t2(){if($x)return oc;$x=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,c){var u=null;if(c!==void 0&&(u=""+c),a.key!==void 0&&(u=""+a.key),"key"in a){c={};for(var f in a)f!=="key"&&(c[f]=a[f])}else c=a;return a=c.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:c}}return oc.Fragment=e,oc.jsx=n,oc.jsxs=n,oc}var Vx;function n2(){return Vx||(Vx=1,np.exports=t2()),np.exports}var b=n2(),rp={exports:{}},cc={},sp={exports:{}},ip={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx;function r2(){return qx||(qx=1,(function(t){function e(U,te){var $=U.length;U.push(te);e:for(;0<$;){var Ee=$-1>>>1,Ke=U[Ee];if(0<a(Ke,te))U[Ee]=te,U[$]=Ke,$=Ee;else break e}}function n(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var te=U[0],$=U.pop();if($!==te){U[0]=$;e:for(var Ee=0,Ke=U.length,I=Ke>>>1;Ee<I;){var ie=2*(Ee+1)-1,de=U[ie],be=ie+1,ve=U[be];if(0>a(de,$))be<Ke&&0>a(ve,de)?(U[Ee]=ve,U[be]=$,Ee=be):(U[Ee]=de,U[ie]=$,Ee=ie);else if(be<Ke&&0>a(ve,$))U[Ee]=ve,U[be]=$,Ee=be;else break e}}return te}function a(U,te){var $=U.sortIndex-te.sortIndex;return $!==0?$:U.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var d=[],h=[],y=1,g=null,x=3,S=!1,C=!1,E=!1,M=!1,N=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function j(U){for(var te=n(h);te!==null;){if(te.callback===null)s(h);else if(te.startTime<=U)s(h),te.sortIndex=te.expirationTime,e(d,te);else break;te=n(h)}}function Y(U){if(E=!1,j(U),!C)if(n(d)!==null)C=!0,J||(J=!0,we());else{var te=n(h);te!==null&&De(Y,te.startTime-U)}}var J=!1,G=-1,X=5,pe=-1;function xe(){return M?!0:!(t.unstable_now()-pe<X)}function Se(){if(M=!1,J){var U=t.unstable_now();pe=U;var te=!0;try{e:{C=!1,E&&(E=!1,D(G),G=-1),S=!0;var $=x;try{t:{for(j(U),g=n(d);g!==null&&!(g.expirationTime>U&&xe());){var Ee=g.callback;if(typeof Ee=="function"){g.callback=null,x=g.priorityLevel;var Ke=Ee(g.expirationTime<=U);if(U=t.unstable_now(),typeof Ke=="function"){g.callback=Ke,j(U),te=!0;break t}g===n(d)&&s(d),j(U)}else s(d);g=n(d)}if(g!==null)te=!0;else{var I=n(h);I!==null&&De(Y,I.startTime-U),te=!1}}break e}finally{g=null,x=$,S=!1}te=void 0}}finally{te?we():J=!1}}}var we;if(typeof k=="function")we=function(){k(Se)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,ge=Ce.port2;Ce.port1.onmessage=Se,we=function(){ge.postMessage(null)}}else we=function(){N(Se,0)};function De(U,te){G=N(function(){U(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(U){switch(x){case 1:case 2:case 3:var te=3;break;default:te=x}var $=x;x=te;try{return U()}finally{x=$}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(U,te){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var $=x;x=U;try{return te()}finally{x=$}},t.unstable_scheduleCallback=function(U,te,$){var Ee=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Ee+$:Ee):$=Ee,U){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=$+Ke,U={id:y++,callback:te,priorityLevel:U,startTime:$,expirationTime:Ke,sortIndex:-1},$>Ee?(U.sortIndex=$,e(h,U),n(d)===null&&U===n(h)&&(E?(D(G),G=-1):E=!0,De(Y,$-Ee))):(U.sortIndex=Ke,e(d,U),C||S||(C=!0,J||(J=!0,we()))),U},t.unstable_shouldYield=xe,t.unstable_wrapCallback=function(U){var te=x;return function(){var $=x;x=te;try{return U.apply(this,arguments)}finally{x=$}}}})(ip)),ip}var Fx;function s2(){return Fx||(Fx=1,sp.exports=r2()),sp.exports}var ap={exports:{}},ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yx;function i2(){if(Yx)return ut;Yx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function S(I){return I===null||typeof I!="object"?null:(I=x&&I[x]||I["@@iterator"],typeof I=="function"?I:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,M={};function N(I,ie,de){this.props=I,this.context=ie,this.refs=M,this.updater=de||C}N.prototype.isReactComponent={},N.prototype.setState=function(I,ie){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,ie,"setState")},N.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function D(){}D.prototype=N.prototype;function k(I,ie,de){this.props=I,this.context=ie,this.refs=M,this.updater=de||C}var j=k.prototype=new D;j.constructor=k,E(j,N.prototype),j.isPureReactComponent=!0;var Y=Array.isArray;function J(){}var G={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function pe(I,ie,de){var be=de.ref;return{$$typeof:t,type:I,key:ie,ref:be!==void 0?be:null,props:de}}function xe(I,ie){return pe(I.type,ie,I.props)}function Se(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function we(I){var ie={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(de){return ie[de]})}var Ce=/\/+/g;function ge(I,ie){return typeof I=="object"&&I!==null&&I.key!=null?we(""+I.key):ie.toString(36)}function De(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(J,J):(I.status="pending",I.then(function(ie){I.status==="pending"&&(I.status="fulfilled",I.value=ie)},function(ie){I.status==="pending"&&(I.status="rejected",I.reason=ie)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function U(I,ie,de,be,ve){var Te=typeof I;(Te==="undefined"||Te==="boolean")&&(I=null);var ke=!1;if(I===null)ke=!0;else switch(Te){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(I.$$typeof){case t:case e:ke=!0;break;case y:return ke=I._init,U(ke(I._payload),ie,de,be,ve)}}if(ke)return ve=ve(I),ke=be===""?"."+ge(I,0):be,Y(ve)?(de="",ke!=null&&(de=ke.replace(Ce,"$&/")+"/"),U(ve,ie,de,"",function(K){return K})):ve!=null&&(Se(ve)&&(ve=xe(ve,de+(ve.key==null||I&&I.key===ve.key?"":(""+ve.key).replace(Ce,"$&/")+"/")+ke)),ie.push(ve)),1;ke=0;var vt=be===""?".":be+":";if(Y(I))for(var B=0;B<I.length;B++)be=I[B],Te=vt+ge(be,B),ke+=U(be,ie,de,Te,ve);else if(B=S(I),typeof B=="function")for(I=B.call(I),B=0;!(be=I.next()).done;)be=be.value,Te=vt+ge(be,B++),ke+=U(be,ie,de,Te,ve);else if(Te==="object"){if(typeof I.then=="function")return U(De(I),ie,de,be,ve);throw ie=String(I),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return ke}function te(I,ie,de){if(I==null)return I;var be=[],ve=0;return U(I,be,"","",function(Te){return ie.call(de,Te,ve++)}),be}function $(I){if(I._status===-1){var ie=I._result;ie=ie(),ie.then(function(de){(I._status===0||I._status===-1)&&(I._status=1,I._result=de)},function(de){(I._status===0||I._status===-1)&&(I._status=2,I._result=de)}),I._status===-1&&(I._status=0,I._result=ie)}if(I._status===1)return I._result.default;throw I._result}var Ee=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Ke={map:te,forEach:function(I,ie,de){te(I,function(){ie.apply(this,arguments)},de)},count:function(I){var ie=0;return te(I,function(){ie++}),ie},toArray:function(I){return te(I,function(ie){return ie})||[]},only:function(I){if(!Se(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return ut.Activity=g,ut.Children=Ke,ut.Component=N,ut.Fragment=n,ut.Profiler=a,ut.PureComponent=k,ut.StrictMode=s,ut.Suspense=d,ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,ut.__COMPILER_RUNTIME={__proto__:null,c:function(I){return G.H.useMemoCache(I)}},ut.cache=function(I){return function(){return I.apply(null,arguments)}},ut.cacheSignal=function(){return null},ut.cloneElement=function(I,ie,de){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var be=E({},I.props),ve=I.key;if(ie!=null)for(Te in ie.key!==void 0&&(ve=""+ie.key),ie)!X.call(ie,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&ie.ref===void 0||(be[Te]=ie[Te]);var Te=arguments.length-2;if(Te===1)be.children=de;else if(1<Te){for(var ke=Array(Te),vt=0;vt<Te;vt++)ke[vt]=arguments[vt+2];be.children=ke}return pe(I.type,ve,be)},ut.createContext=function(I){return I={$$typeof:u,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},ut.createElement=function(I,ie,de){var be,ve={},Te=null;if(ie!=null)for(be in ie.key!==void 0&&(Te=""+ie.key),ie)X.call(ie,be)&&be!=="key"&&be!=="__self"&&be!=="__source"&&(ve[be]=ie[be]);var ke=arguments.length-2;if(ke===1)ve.children=de;else if(1<ke){for(var vt=Array(ke),B=0;B<ke;B++)vt[B]=arguments[B+2];ve.children=vt}if(I&&I.defaultProps)for(be in ke=I.defaultProps,ke)ve[be]===void 0&&(ve[be]=ke[be]);return pe(I,Te,ve)},ut.createRef=function(){return{current:null}},ut.forwardRef=function(I){return{$$typeof:f,render:I}},ut.isValidElement=Se,ut.lazy=function(I){return{$$typeof:y,_payload:{_status:-1,_result:I},_init:$}},ut.memo=function(I,ie){return{$$typeof:h,type:I,compare:ie===void 0?null:ie}},ut.startTransition=function(I){var ie=G.T,de={};G.T=de;try{var be=I(),ve=G.S;ve!==null&&ve(de,be),typeof be=="object"&&be!==null&&typeof be.then=="function"&&be.then(J,Ee)}catch(Te){Ee(Te)}finally{ie!==null&&de.types!==null&&(ie.types=de.types),G.T=ie}},ut.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},ut.use=function(I){return G.H.use(I)},ut.useActionState=function(I,ie,de){return G.H.useActionState(I,ie,de)},ut.useCallback=function(I,ie){return G.H.useCallback(I,ie)},ut.useContext=function(I){return G.H.useContext(I)},ut.useDebugValue=function(){},ut.useDeferredValue=function(I,ie){return G.H.useDeferredValue(I,ie)},ut.useEffect=function(I,ie){return G.H.useEffect(I,ie)},ut.useEffectEvent=function(I){return G.H.useEffectEvent(I)},ut.useId=function(){return G.H.useId()},ut.useImperativeHandle=function(I,ie,de){return G.H.useImperativeHandle(I,ie,de)},ut.useInsertionEffect=function(I,ie){return G.H.useInsertionEffect(I,ie)},ut.useLayoutEffect=function(I,ie){return G.H.useLayoutEffect(I,ie)},ut.useMemo=function(I,ie){return G.H.useMemo(I,ie)},ut.useOptimistic=function(I,ie){return G.H.useOptimistic(I,ie)},ut.useReducer=function(I,ie,de){return G.H.useReducer(I,ie,de)},ut.useRef=function(I){return G.H.useRef(I)},ut.useState=function(I){return G.H.useState(I)},ut.useSyncExternalStore=function(I,ie,de){return G.H.useSyncExternalStore(I,ie,de)},ut.useTransition=function(){return G.H.useTransition()},ut.version="19.2.0",ut}var Gx;function qc(){return Gx||(Gx=1,ap.exports=i2()),ap.exports}var op={exports:{}},Hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx;function a2(){if(Kx)return Hn;Kx=1;var t=qc();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function c(d,h,y){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:d,containerInfo:h,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Hn.createPortal=function(d,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return c(d,h,null,y)},Hn.flushSync=function(d){var h=u.T,y=s.p;try{if(u.T=null,s.p=2,d)return d()}finally{u.T=h,s.p=y,s.d.f()}},Hn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(d,h))},Hn.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Hn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var y=h.as,g=f(y,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,S=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;y==="style"?s.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:S}):y==="script"&&s.d.X(d,{crossOrigin:g,integrity:x,fetchPriority:S,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Hn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var y=f(h.as,h.crossOrigin);s.d.M(d,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(d)},Hn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var y=h.as,g=f(y,h.crossOrigin);s.d.L(d,y,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Hn.preloadModule=function(d,h){if(typeof d=="string")if(h){var y=f(h.as,h.crossOrigin);s.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(d)},Hn.requestFormReset=function(d){s.d.r(d)},Hn.unstable_batchedUpdates=function(d,h){return d(h)},Hn.useFormState=function(d,h,y){return u.H.useFormState(d,h,y)},Hn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Hn.version="19.2.0",Hn}var Xx;function cS(){if(Xx)return op.exports;Xx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),op.exports=a2(),op.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qx;function o2(){if(Qx)return cc;Qx=1;var t=s2(),e=qc(),n=cS();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function c(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function u(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function f(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(c(r)!==r)throw Error(s(188))}function h(r){var i=r.alternate;if(!i){if(i=c(r),i===null)throw Error(s(188));return i!==r?null:r}for(var o=r,l=i;;){var p=o.return;if(p===null)break;var m=p.alternate;if(m===null){if(l=p.return,l!==null){o=l;continue}break}if(p.child===m.child){for(m=p.child;m;){if(m===o)return d(p),r;if(m===l)return d(p),i;m=m.sibling}throw Error(s(188))}if(o.return!==l.return)o=p,l=m;else{for(var w=!1,O=p.child;O;){if(O===o){w=!0,o=p,l=m;break}if(O===l){w=!0,l=p,o=m;break}O=O.sibling}if(!w){for(O=m.child;O;){if(O===o){w=!0,o=m,l=p;break}if(O===l){w=!0,l=m,o=p;break}O=O.sibling}if(!w)throw Error(s(189))}}if(o.alternate!==l)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:i}function y(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=y(r),i!==null)return i;r=r.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),k=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),pe=Symbol.for("react.activity"),xe=Symbol.for("react.memo_cache_sentinel"),Se=Symbol.iterator;function we(r){return r===null||typeof r!="object"?null:(r=Se&&r[Se]||r["@@iterator"],typeof r=="function"?r:null)}var Ce=Symbol.for("react.client.reference");function ge(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===Ce?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case N:return"Profiler";case M:return"StrictMode";case Y:return"Suspense";case J:return"SuspenseList";case pe:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case k:return r.displayName||"Context";case D:return(r._context.displayName||"Context")+".Consumer";case j:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case G:return i=r.displayName||null,i!==null?i:ge(r.type)||"Memo";case X:i=r._payload,r=r._init;try{return ge(r(i))}catch{}}return null}var De=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},Ee=[],Ke=-1;function I(r){return{current:r}}function ie(r){0>Ke||(r.current=Ee[Ke],Ee[Ke]=null,Ke--)}function de(r,i){Ke++,Ee[Ke]=r.current,r.current=i}var be=I(null),ve=I(null),Te=I(null),ke=I(null);function vt(r,i){switch(de(Te,i),de(ve,r),de(be,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?ux(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=ux(i),r=fx(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ie(be),de(be,r)}function B(){ie(be),ie(ve),ie(Te)}function K(r){r.memoizedState!==null&&de(ke,r);var i=be.current,o=fx(i,r.type);i!==o&&(de(ve,r),de(be,o))}function fe(r){ve.current===r&&(ie(be),ie(ve)),ke.current===r&&(ie(ke),rc._currentValue=$)}var je,He;function Ue(r){if(je===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);je=i&&i[1]||"",He=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+je+r+He}var xt=!1;function yt(r,i){if(!r||xt)return"";xt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(se){var W=se}Reflect.construct(r,[],he)}else{try{he.call()}catch(se){W=se}r.call(he.prototype)}}else{try{throw Error()}catch(se){W=se}(he=r())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(se){if(se&&W&&typeof se.stack=="string")return[se.stack,W.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),w=m[0],O=m[1];if(w&&O){var z=w.split(`
`),Z=O.split(`
`);for(p=l=0;l<z.length&&!z[l].includes("DetermineComponentFrameRoot");)l++;for(;p<Z.length&&!Z[p].includes("DetermineComponentFrameRoot");)p++;if(l===z.length||p===Z.length)for(l=z.length-1,p=Z.length-1;1<=l&&0<=p&&z[l]!==Z[p];)p--;for(;1<=l&&0<=p;l--,p--)if(z[l]!==Z[p]){if(l!==1||p!==1)do if(l--,p--,0>p||z[l]!==Z[p]){var oe=`
`+z[l].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=l&&0<=p);break}}}finally{xt=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Ue(o):""}function Vt(r,i){switch(r.tag){case 26:case 27:case 5:return Ue(r.type);case 16:return Ue("Lazy");case 13:return r.child!==i&&i!==null?Ue("Suspense Fallback"):Ue("Suspense");case 19:return Ue("SuspenseList");case 0:case 15:return yt(r.type,!1);case 11:return yt(r.type.render,!1);case 1:return yt(r.type,!0);case 31:return Ue("Activity");default:return""}}function bt(r){try{var i="",o=null;do i+=Vt(r,o),o=r,r=r.return;while(r);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,At=t.unstable_scheduleCallback,qt=t.unstable_cancelCallback,Mn=t.unstable_shouldYield,st=t.unstable_requestPaint,ct=t.unstable_now,Ft=t.unstable_getCurrentPriorityLevel,Tn=t.unstable_ImmediatePriority,Yn=t.unstable_UserBlockingPriority,Rn=t.unstable_NormalPriority,jr=t.unstable_LowPriority,Xs=t.unstable_IdlePriority,Qs=t.log,Zs=t.unstable_setDisableYieldValue,Gn=null,Xt=null;function gn(r){if(typeof Qs=="function"&&Zs(r),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(Gn,r)}catch{}}var dn=Math.clz32?Math.clz32:Qr,xs=Math.log,Xr=Math.LN2;function Qr(r){return r>>>=0,r===0?32:31-(xs(r)/Xr|0)|0}var Zr=256,bs=262144,Js=4194304;function Lr(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Bn(r,i,o){var l=r.pendingLanes;if(l===0)return 0;var p=0,m=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var O=l&134217727;return O!==0?(l=O&~m,l!==0?p=Lr(l):(w&=O,w!==0?p=Lr(w):o||(o=O&~r,o!==0&&(p=Lr(o))))):(O=l&~m,O!==0?p=Lr(O):w!==0?p=Lr(w):o||(o=l&~r,o!==0&&(p=Lr(o)))),p===0?0:i!==0&&i!==p&&(i&m)===0&&(m=p&-p,o=i&-i,m>=o||m===32&&(o&4194048)!==0)?i:p}function Kn(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Jr(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ws(){var r=Js;return Js<<=1,(Js&62914560)===0&&(Js=4194304),r}function Wr(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function Ur(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ma(r,i,o,l,p,m){var w=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var O=r.entanglements,z=r.expirationTimes,Z=r.hiddenUpdates;for(o=w&~o;0<o;){var oe=31-dn(o),he=1<<oe;O[oe]=0,z[oe]=-1;var W=Z[oe];if(W!==null)for(Z[oe]=null,oe=0;oe<W.length;oe++){var se=W[oe];se!==null&&(se.lane&=-536870913)}o&=~he}l!==0&&Pn(r,l,0),m!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=m&~(w&~i))}function Pn(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var l=31-dn(i);r.entangledLanes|=i,r.entanglements[l]=r.entanglements[l]|1073741824|o&261930}function ee(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var l=31-dn(o),p=1<<l;p&i|r[l]&i&&(r[l]|=i),o&=~p}}function _(r,i){var o=i&-i;return o=(o&42)!==0?1:A(o),(o&(r.suspendedLanes|i))!==0?0:o}function A(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function T(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function v(){var r=te.p;return r!==0?r:(r=window.event,r===void 0?32:kx(r.type))}function P(r,i){var o=te.p;try{return te.p=r,i()}finally{te.p=o}}var V=Math.random().toString(36).slice(2),q="__reactFiber$"+V,ae="__reactProps$"+V,_e="__reactContainer$"+V,ze="__reactEvents$"+V,Oe="__reactListeners$"+V,Ot="__reactHandles$"+V,Pe="__reactResources$"+V,Ze="__reactMarker$"+V;function tt(r){delete r[q],delete r[ae],delete r[ze],delete r[Oe],delete r[Ot]}function rt(r){var i=r[q];if(i)return i;for(var o=r.parentNode;o;){if(i=o[_e]||o[q]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=vx(r);r!==null;){if(o=r[q])return o;r=vx(r)}return i}r=o,o=r.parentNode}return null}function nt(r){if(r=r[q]||r[_e]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function Je(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function We(r){var i=r[Pe];return i||(i=r[Pe]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ie(r){r[Ze]=!0}var Le=new Set,Ge={};function Re(r,i){Me(r,i),Me(r+"Capture",i)}function Me(r,i){for(Ge[r]=i,r=0;r<i.length;r++)Le.add(i[r])}var $e=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ae={},ne={};function re(r){return Et.call(ne,r)?!0:Et.call(Ae,r)?!1:$e.test(r)?ne[r]=!0:(Ae[r]=!0,!1)}function ye(r,i,o){if(re(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function ue(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function ce(r,i,o,l){if(l===null)r.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+l)}}function me(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Xe(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function lt(r,i,o){var l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,m=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return p.call(this)},set:function(w){o=""+w,m.call(this,w)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return o},setValue:function(w){o=""+w},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function at(r){if(!r._valueTracker){var i=Xe(r)?"checked":"value";r._valueTracker=lt(r,i,""+r[i])}}function ot(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),l="";return r&&(l=Xe(r)?r.checked?"true":"false":r.value),r=l,r!==o?(i.setValue(r),!0):!1}function L(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ht=/[\n"\\]/g;function it(r){return r.replace(ht,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _t(r,i,o,l,p,m,w,O){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),i!=null?w==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+me(i)):r.value!==""+me(i)&&(r.value=""+me(i)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),i!=null?St(r,w,me(i)):o!=null?St(r,w,me(o)):l!=null&&r.removeAttribute("value"),p==null&&m!=null&&(r.defaultChecked=!!m),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.name=""+me(O):r.removeAttribute("name")}function ft(r,i,o,l,p,m,w,O){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),i!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){at(r);return}o=o!=null?""+me(o):"",i=i!=null?""+me(i):o,O||i===r.value||(r.value=i),r.defaultValue=i}l=l??p,l=typeof l!="function"&&typeof l!="symbol"&&!!l,r.checked=O?r.checked:!!l,r.defaultChecked=!!l,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w),at(r)}function St(r,i,o){i==="number"&&L(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function pt(r,i,o,l){if(r=r.options,i){i={};for(var p=0;p<o.length;p++)i["$"+o[p]]=!0;for(o=0;o<r.length;o++)p=i.hasOwnProperty("$"+r[o].value),r[o].selected!==p&&(r[o].selected=p),p&&l&&(r[o].defaultSelected=!0)}else{for(o=""+me(o),i=null,p=0;p<r.length;p++){if(r[p].value===o){r[p].selected=!0,l&&(r[p].defaultSelected=!0);return}i!==null||r[p].disabled||(i=r[p])}i!==null&&(i.selected=!0)}}function nn(r,i,o){if(i!=null&&(i=""+me(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+me(o):""}function Nt(r,i,o,l){if(i==null){if(l!=null){if(o!=null)throw Error(s(92));if(De(l)){if(1<l.length)throw Error(s(93));l=l[0]}o=l}o==null&&(o=""),i=o}o=me(i),r.defaultValue=o,l=r.textContent,l===o&&l!==""&&l!==null&&(r.value=l),at(r)}function It(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var rn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zt(r,i,o){var l=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?l?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":l?r.setProperty(i,o):typeof o!="number"||o===0||rn.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function on(r,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,o!=null){for(var l in o)!o.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="");for(var p in i)l=i[p],i.hasOwnProperty(p)&&o[p]!==l&&Zt(r,p,l)}else for(var m in i)i.hasOwnProperty(m)&&Zt(r,m,i[m])}function vn(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wc(r){return Dn.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Ss(){}var Wf=null;function ed(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ya=null,ga=null;function lg(r){var i=nt(r);if(i&&(r=i.stateNode)){var o=r[ae]||null;e:switch(r=i.stateNode,i.type){case"input":if(_t(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+it(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var l=o[i];if(l!==r&&l.form===r.form){var p=l[ae]||null;if(!p)throw Error(s(90));_t(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<o.length;i++)l=o[i],l.form===r.form&&ot(l)}break e;case"textarea":nn(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&pt(r,!!o.multiple,i,!1)}}}var td=!1;function ug(r,i,o){if(td)return r(i,o);td=!0;try{var l=r(i);return l}finally{if(td=!1,(ya!==null||ga!==null)&&(Bl(),ya&&(i=ya,r=ga,ga=ya=null,lg(i),r)))for(i=0;i<r.length;i++)lg(r[i])}}function bo(r,i){var o=r.stateNode;if(o===null)return null;var l=o[ae]||null;if(l===null)return null;o=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(r=r.type,l=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!l;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var _s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nd=!1;if(_s)try{var So={};Object.defineProperty(So,"passive",{get:function(){nd=!0}}),window.addEventListener("test",So,So),window.removeEventListener("test",So,So)}catch{nd=!1}var ei=null,rd=null,el=null;function fg(){if(el)return el;var r,i=rd,o=i.length,l,p="value"in ei?ei.value:ei.textContent,m=p.length;for(r=0;r<o&&i[r]===p[r];r++);var w=o-r;for(l=1;l<=w&&i[o-l]===p[m-l];l++);return el=p.slice(r,1<l?1-l:void 0)}function tl(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function nl(){return!0}function dg(){return!1}function tr(r){function i(o,l,p,m,w){this._reactName=o,this._targetInst=p,this.type=l,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var O in r)r.hasOwnProperty(O)&&(o=r[O],this[O]=o?o(m):m[O]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?nl:dg,this.isPropagationStopped=dg,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),i}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rl=tr(Ni),_o=g({},Ni,{view:0,detail:0}),WE=tr(_o),sd,id,wo,sl=g({},_o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:od,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==wo&&(wo&&r.type==="mousemove"?(sd=r.screenX-wo.screenX,id=r.screenY-wo.screenY):id=sd=0,wo=r),sd)},movementY:function(r){return"movementY"in r?r.movementY:id}}),hg=tr(sl),eT=g({},sl,{dataTransfer:0}),tT=tr(eT),nT=g({},_o,{relatedTarget:0}),ad=tr(nT),rT=g({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),sT=tr(rT),iT=g({},Ni,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),aT=tr(iT),oT=g({},Ni,{data:0}),pg=tr(oT),cT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fT(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=uT[r])?!!i[r]:!1}function od(){return fT}var dT=g({},_o,{key:function(r){if(r.key){var i=cT[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=tl(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?lT[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:od,charCode:function(r){return r.type==="keypress"?tl(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?tl(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),hT=tr(dT),pT=g({},sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mg=tr(pT),mT=g({},_o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:od}),yT=tr(mT),gT=g({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),vT=tr(gT),xT=g({},sl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),bT=tr(xT),ST=g({},Ni,{newState:0,oldState:0}),_T=tr(ST),wT=[9,13,27,32],cd=_s&&"CompositionEvent"in window,Co=null;_s&&"documentMode"in document&&(Co=document.documentMode);var CT=_s&&"TextEvent"in window&&!Co,yg=_s&&(!cd||Co&&8<Co&&11>=Co),gg=" ",vg=!1;function xg(r,i){switch(r){case"keyup":return wT.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var va=!1;function ET(r,i){switch(r){case"compositionend":return bg(i);case"keypress":return i.which!==32?null:(vg=!0,gg);case"textInput":return r=i.data,r===gg&&vg?null:r;default:return null}}function TT(r,i){if(va)return r==="compositionend"||!cd&&xg(r,i)?(r=fg(),el=rd=ei=null,va=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return yg&&i.locale!=="ko"?null:i.data;default:return null}}var RT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sg(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!RT[r.type]:i==="textarea"}function _g(r,i,o,l){ya?ga?ga.push(l):ga=[l]:ya=l,i=Gl(i,"onChange"),0<i.length&&(o=new rl("onChange","change",null,o,l),r.push({event:o,listeners:i}))}var Eo=null,To=null;function AT(r){sx(r,0)}function il(r){var i=Je(r);if(ot(i))return r}function wg(r,i){if(r==="change")return i}var Cg=!1;if(_s){var ld;if(_s){var ud="oninput"in document;if(!ud){var Eg=document.createElement("div");Eg.setAttribute("oninput","return;"),ud=typeof Eg.oninput=="function"}ld=ud}else ld=!1;Cg=ld&&(!document.documentMode||9<document.documentMode)}function Tg(){Eo&&(Eo.detachEvent("onpropertychange",Rg),To=Eo=null)}function Rg(r){if(r.propertyName==="value"&&il(To)){var i=[];_g(i,To,r,ed(r)),ug(AT,i)}}function OT(r,i,o){r==="focusin"?(Tg(),Eo=i,To=o,Eo.attachEvent("onpropertychange",Rg)):r==="focusout"&&Tg()}function MT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return il(To)}function PT(r,i){if(r==="click")return il(i)}function NT(r,i){if(r==="input"||r==="change")return il(i)}function DT(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var fr=typeof Object.is=="function"?Object.is:DT;function Ro(r,i){if(fr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),l=Object.keys(i);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var p=o[l];if(!Et.call(i,p)||!fr(r[p],i[p]))return!1}return!0}function Ag(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Og(r,i){var o=Ag(r);r=0;for(var l;o;){if(o.nodeType===3){if(l=r+o.textContent.length,r<=i&&l>=i)return{node:o,offset:i-r};r=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ag(o)}}function Mg(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Mg(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Pg(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=L(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=L(r.document)}return i}function fd(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var kT=_s&&"documentMode"in document&&11>=document.documentMode,xa=null,dd=null,Ao=null,hd=!1;function Ng(r,i,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;hd||xa==null||xa!==L(l)||(l=xa,"selectionStart"in l&&fd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ao&&Ro(Ao,l)||(Ao=l,l=Gl(dd,"onSelect"),0<l.length&&(i=new rl("onSelect","select",null,i,o),r.push({event:i,listeners:l}),i.target=xa)))}function Di(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var ba={animationend:Di("Animation","AnimationEnd"),animationiteration:Di("Animation","AnimationIteration"),animationstart:Di("Animation","AnimationStart"),transitionrun:Di("Transition","TransitionRun"),transitionstart:Di("Transition","TransitionStart"),transitioncancel:Di("Transition","TransitionCancel"),transitionend:Di("Transition","TransitionEnd")},pd={},Dg={};_s&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function ki(r){if(pd[r])return pd[r];if(!ba[r])return r;var i=ba[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in Dg)return pd[r]=i[o];return r}var kg=ki("animationend"),jg=ki("animationiteration"),Lg=ki("animationstart"),jT=ki("transitionrun"),LT=ki("transitionstart"),UT=ki("transitioncancel"),Ug=ki("transitionend"),zg=new Map,md="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");md.push("scrollEnd");function zr(r,i){zg.set(r,i),Re(i,[r])}var al=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},wr=[],Sa=0,yd=0;function ol(){for(var r=Sa,i=yd=Sa=0;i<r;){var o=wr[i];wr[i++]=null;var l=wr[i];wr[i++]=null;var p=wr[i];wr[i++]=null;var m=wr[i];if(wr[i++]=null,l!==null&&p!==null){var w=l.pending;w===null?p.next=p:(p.next=w.next,w.next=p),l.pending=p}m!==0&&Ig(o,p,m)}}function cl(r,i,o,l){wr[Sa++]=r,wr[Sa++]=i,wr[Sa++]=o,wr[Sa++]=l,yd|=l,r.lanes|=l,r=r.alternate,r!==null&&(r.lanes|=l)}function gd(r,i,o,l){return cl(r,i,o,l),ll(r)}function ji(r,i){return cl(r,null,null,i),ll(r)}function Ig(r,i,o){r.lanes|=o;var l=r.alternate;l!==null&&(l.lanes|=o);for(var p=!1,m=r.return;m!==null;)m.childLanes|=o,l=m.alternate,l!==null&&(l.childLanes|=o),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(p=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,p&&i!==null&&(p=31-dn(o),r=m.hiddenUpdates,l=r[p],l===null?r[p]=[i]:l.push(i),i.lane=o|536870912),m):null}function ll(r){if(50<Qo)throw Qo=0,Th=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var _a={};function zT(r,i,o,l){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(r,i,o,l){return new zT(r,i,o,l)}function vd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ws(r,i){var o=r.alternate;return o===null?(o=dr(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Bg(r,i){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function ul(r,i,o,l,p,m){var w=0;if(l=r,typeof r=="function")vd(r)&&(w=1);else if(typeof r=="string")w=VR(r,o,be.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case pe:return r=dr(31,o,i,p),r.elementType=pe,r.lanes=m,r;case E:return Li(o.children,p,m,i);case M:w=8,p|=24;break;case N:return r=dr(12,o,i,p|2),r.elementType=N,r.lanes=m,r;case Y:return r=dr(13,o,i,p),r.elementType=Y,r.lanes=m,r;case J:return r=dr(19,o,i,p),r.elementType=J,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:w=10;break e;case D:w=9;break e;case j:w=11;break e;case G:w=14;break e;case X:w=16,l=null;break e}w=29,o=Error(s(130,r===null?"null":typeof r,"")),l=null}return i=dr(w,o,i,p),i.elementType=r,i.type=l,i.lanes=m,i}function Li(r,i,o,l){return r=dr(7,r,l,i),r.lanes=o,r}function xd(r,i,o){return r=dr(6,r,null,i),r.lanes=o,r}function Hg(r){var i=dr(18,null,null,0);return i.stateNode=r,i}function bd(r,i,o){return i=dr(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var $g=new WeakMap;function Cr(r,i){if(typeof r=="object"&&r!==null){var o=$g.get(r);return o!==void 0?o:(i={value:r,source:i,stack:bt(i)},$g.set(r,i),i)}return{value:r,source:i,stack:bt(i)}}var wa=[],Ca=0,fl=null,Oo=0,Er=[],Tr=0,ti=null,es=1,ts="";function Cs(r,i){wa[Ca++]=Oo,wa[Ca++]=fl,fl=r,Oo=i}function Vg(r,i,o){Er[Tr++]=es,Er[Tr++]=ts,Er[Tr++]=ti,ti=r;var l=es;r=ts;var p=32-dn(l)-1;l&=~(1<<p),o+=1;var m=32-dn(i)+p;if(30<m){var w=p-p%5;m=(l&(1<<w)-1).toString(32),l>>=w,p-=w,es=1<<32-dn(i)+p|o<<p|l,ts=m+r}else es=1<<m|o<<p|l,ts=r}function Sd(r){r.return!==null&&(Cs(r,1),Vg(r,1,0))}function _d(r){for(;r===fl;)fl=wa[--Ca],wa[Ca]=null,Oo=wa[--Ca],wa[Ca]=null;for(;r===ti;)ti=Er[--Tr],Er[Tr]=null,ts=Er[--Tr],Er[Tr]=null,es=Er[--Tr],Er[Tr]=null}function qg(r,i){Er[Tr++]=es,Er[Tr++]=ts,Er[Tr++]=ti,es=i.id,ts=i.overflow,ti=r}var jn=null,Jt=null,Mt=!1,ni=null,Rr=!1,wd=Error(s(519));function ri(r){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mo(Cr(i,r)),wd}function Fg(r){var i=r.stateNode,o=r.type,l=r.memoizedProps;switch(i[q]=r,i[ae]=l,o){case"dialog":Ct("cancel",i),Ct("close",i);break;case"iframe":case"object":case"embed":Ct("load",i);break;case"video":case"audio":for(o=0;o<Jo.length;o++)Ct(Jo[o],i);break;case"source":Ct("error",i);break;case"img":case"image":case"link":Ct("error",i),Ct("load",i);break;case"details":Ct("toggle",i);break;case"input":Ct("invalid",i),ft(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ct("invalid",i);break;case"textarea":Ct("invalid",i),Nt(i,l.value,l.defaultValue,l.children)}o=l.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||l.suppressHydrationWarning===!0||cx(i.textContent,o)?(l.popover!=null&&(Ct("beforetoggle",i),Ct("toggle",i)),l.onScroll!=null&&Ct("scroll",i),l.onScrollEnd!=null&&Ct("scrollend",i),l.onClick!=null&&(i.onclick=Ss),i=!0):i=!1,i||ri(r,!0)}function Yg(r){for(jn=r.return;jn;)switch(jn.tag){case 5:case 31:case 13:Rr=!1;return;case 27:case 3:Rr=!0;return;default:jn=jn.return}}function Ea(r){if(r!==jn)return!1;if(!Mt)return Yg(r),Mt=!0,!1;var i=r.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Hh(r.type,r.memoizedProps)),o=!o),o&&Jt&&ri(r),Yg(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));Jt=gx(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));Jt=gx(r)}else i===27?(i=Jt,gi(r.type)?(r=Yh,Yh=null,Jt=r):Jt=i):Jt=jn?Or(r.stateNode.nextSibling):null;return!0}function Ui(){Jt=jn=null,Mt=!1}function Cd(){var r=ni;return r!==null&&(ir===null?ir=r:ir.push.apply(ir,r),ni=null),r}function Mo(r){ni===null?ni=[r]:ni.push(r)}var Ed=I(null),zi=null,Es=null;function si(r,i,o){de(Ed,i._currentValue),i._currentValue=o}function Ts(r){r._currentValue=Ed.current,ie(Ed)}function Td(r,i,o){for(;r!==null;){var l=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),r===o)break;r=r.return}}function Rd(r,i,o,l){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var m=p.dependencies;if(m!==null){var w=p.child;m=m.firstContext;e:for(;m!==null;){var O=m;m=p;for(var z=0;z<i.length;z++)if(O.context===i[z]){m.lanes|=o,O=m.alternate,O!==null&&(O.lanes|=o),Td(m.return,o,r),l||(w=null);break e}m=O.next}}else if(p.tag===18){if(w=p.return,w===null)throw Error(s(341));w.lanes|=o,m=w.alternate,m!==null&&(m.lanes|=o),Td(w,o,r),w=null}else w=p.child;if(w!==null)w.return=p;else for(w=p;w!==null;){if(w===r){w=null;break}if(p=w.sibling,p!==null){p.return=w.return,w=p;break}w=w.return}p=w}}function Ta(r,i,o,l){r=null;for(var p=i,m=!1;p!==null;){if(!m){if((p.flags&524288)!==0)m=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var w=p.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var O=p.type;fr(p.pendingProps.value,w.value)||(r!==null?r.push(O):r=[O])}}else if(p===ke.current){if(w=p.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(rc):r=[rc])}p=p.return}r!==null&&Rd(i,r,o,l),i.flags|=262144}function dl(r){for(r=r.firstContext;r!==null;){if(!fr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ii(r){zi=r,Es=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Ln(r){return Gg(zi,r)}function hl(r,i){return zi===null&&Ii(r),Gg(r,i)}function Gg(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Es===null){if(r===null)throw Error(s(308));Es=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Es=Es.next=i;return o}var IT=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,l){r.push(l)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},BT=t.unstable_scheduleCallback,HT=t.unstable_NormalPriority,xn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ad(){return{controller:new IT,data:new Map,refCount:0}}function Po(r){r.refCount--,r.refCount===0&&BT(HT,function(){r.controller.abort()})}var No=null,Od=0,Ra=0,Aa=null;function $T(r,i){if(No===null){var o=No=[];Od=0,Ra=Nh(),Aa={status:"pending",value:void 0,then:function(l){o.push(l)}}}return Od++,i.then(Kg,Kg),i}function Kg(){if(--Od===0&&No!==null){Aa!==null&&(Aa.status="fulfilled");var r=No;No=null,Ra=0,Aa=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function VT(r,i){var o=[],l={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return r.then(function(){l.status="fulfilled",l.value=i;for(var p=0;p<o.length;p++)(0,o[p])(i)},function(p){for(l.status="rejected",l.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),l}var Xg=U.S;U.S=function(r,i){Nv=ct(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&$T(r,i),Xg!==null&&Xg(r,i)};var Bi=I(null);function Md(){var r=Bi.current;return r!==null?r:Qt.pooledCache}function pl(r,i){i===null?de(Bi,Bi.current):de(Bi,i.pool)}function Qg(){var r=Md();return r===null?null:{parent:xn._currentValue,pool:r}}var Oa=Error(s(460)),Pd=Error(s(474)),ml=Error(s(542)),yl={then:function(){}};function Zg(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Jg(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(Ss,Ss),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,e0(r),r;default:if(typeof i.status=="string")i.then(Ss,Ss);else{if(r=Qt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(l){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=l}},function(l){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,e0(r),r}throw $i=i,Oa}}function Hi(r){try{var i=r._init;return i(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?($i=o,Oa):o}}var $i=null;function Wg(){if($i===null)throw Error(s(459));var r=$i;return $i=null,r}function e0(r){if(r===Oa||r===ml)throw Error(s(483))}var Ma=null,Do=0;function gl(r){var i=Do;return Do+=1,Ma===null&&(Ma=[]),Jg(Ma,r,i)}function ko(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function vl(r,i){throw i.$$typeof===x?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function t0(r){function i(F,H){if(r){var Q=F.deletions;Q===null?(F.deletions=[H],F.flags|=16):Q.push(H)}}function o(F,H){if(!r)return null;for(;H!==null;)i(F,H),H=H.sibling;return null}function l(F){for(var H=new Map;F!==null;)F.key!==null?H.set(F.key,F):H.set(F.index,F),F=F.sibling;return H}function p(F,H){return F=ws(F,H),F.index=0,F.sibling=null,F}function m(F,H,Q){return F.index=Q,r?(Q=F.alternate,Q!==null?(Q=Q.index,Q<H?(F.flags|=67108866,H):Q):(F.flags|=67108866,H)):(F.flags|=1048576,H)}function w(F){return r&&F.alternate===null&&(F.flags|=67108866),F}function O(F,H,Q,le){return H===null||H.tag!==6?(H=xd(Q,F.mode,le),H.return=F,H):(H=p(H,Q),H.return=F,H)}function z(F,H,Q,le){var Qe=Q.type;return Qe===E?oe(F,H,Q.props.children,le,Q.key):H!==null&&(H.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===X&&Hi(Qe)===H.type)?(H=p(H,Q.props),ko(H,Q),H.return=F,H):(H=ul(Q.type,Q.key,Q.props,null,F.mode,le),ko(H,Q),H.return=F,H)}function Z(F,H,Q,le){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=bd(Q,F.mode,le),H.return=F,H):(H=p(H,Q.children||[]),H.return=F,H)}function oe(F,H,Q,le,Qe){return H===null||H.tag!==7?(H=Li(Q,F.mode,le,Qe),H.return=F,H):(H=p(H,Q),H.return=F,H)}function he(F,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=xd(""+H,F.mode,Q),H.return=F,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return Q=ul(H.type,H.key,H.props,null,F.mode,Q),ko(Q,H),Q.return=F,Q;case C:return H=bd(H,F.mode,Q),H.return=F,H;case X:return H=Hi(H),he(F,H,Q)}if(De(H)||we(H))return H=Li(H,F.mode,Q,null),H.return=F,H;if(typeof H.then=="function")return he(F,gl(H),Q);if(H.$$typeof===k)return he(F,hl(F,H),Q);vl(F,H)}return null}function W(F,H,Q,le){var Qe=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Qe!==null?null:O(F,H,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:return Q.key===Qe?z(F,H,Q,le):null;case C:return Q.key===Qe?Z(F,H,Q,le):null;case X:return Q=Hi(Q),W(F,H,Q,le)}if(De(Q)||we(Q))return Qe!==null?null:oe(F,H,Q,le,null);if(typeof Q.then=="function")return W(F,H,gl(Q),le);if(Q.$$typeof===k)return W(F,H,hl(F,Q),le);vl(F,Q)}return null}function se(F,H,Q,le,Qe){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return F=F.get(Q)||null,O(H,F,""+le,Qe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case S:return F=F.get(le.key===null?Q:le.key)||null,z(H,F,le,Qe);case C:return F=F.get(le.key===null?Q:le.key)||null,Z(H,F,le,Qe);case X:return le=Hi(le),se(F,H,Q,le,Qe)}if(De(le)||we(le))return F=F.get(Q)||null,oe(H,F,le,Qe,null);if(typeof le.then=="function")return se(F,H,Q,gl(le),Qe);if(le.$$typeof===k)return se(F,H,Q,hl(H,le),Qe);vl(H,le)}return null}function Be(F,H,Q,le){for(var Qe=null,Dt=null,Ye=H,mt=H=0,Rt=null;Ye!==null&&mt<Q.length;mt++){Ye.index>mt?(Rt=Ye,Ye=null):Rt=Ye.sibling;var kt=W(F,Ye,Q[mt],le);if(kt===null){Ye===null&&(Ye=Rt);break}r&&Ye&&kt.alternate===null&&i(F,Ye),H=m(kt,H,mt),Dt===null?Qe=kt:Dt.sibling=kt,Dt=kt,Ye=Rt}if(mt===Q.length)return o(F,Ye),Mt&&Cs(F,mt),Qe;if(Ye===null){for(;mt<Q.length;mt++)Ye=he(F,Q[mt],le),Ye!==null&&(H=m(Ye,H,mt),Dt===null?Qe=Ye:Dt.sibling=Ye,Dt=Ye);return Mt&&Cs(F,mt),Qe}for(Ye=l(Ye);mt<Q.length;mt++)Rt=se(Ye,F,mt,Q[mt],le),Rt!==null&&(r&&Rt.alternate!==null&&Ye.delete(Rt.key===null?mt:Rt.key),H=m(Rt,H,mt),Dt===null?Qe=Rt:Dt.sibling=Rt,Dt=Rt);return r&&Ye.forEach(function(_i){return i(F,_i)}),Mt&&Cs(F,mt),Qe}function et(F,H,Q,le){if(Q==null)throw Error(s(151));for(var Qe=null,Dt=null,Ye=H,mt=H=0,Rt=null,kt=Q.next();Ye!==null&&!kt.done;mt++,kt=Q.next()){Ye.index>mt?(Rt=Ye,Ye=null):Rt=Ye.sibling;var _i=W(F,Ye,kt.value,le);if(_i===null){Ye===null&&(Ye=Rt);break}r&&Ye&&_i.alternate===null&&i(F,Ye),H=m(_i,H,mt),Dt===null?Qe=_i:Dt.sibling=_i,Dt=_i,Ye=Rt}if(kt.done)return o(F,Ye),Mt&&Cs(F,mt),Qe;if(Ye===null){for(;!kt.done;mt++,kt=Q.next())kt=he(F,kt.value,le),kt!==null&&(H=m(kt,H,mt),Dt===null?Qe=kt:Dt.sibling=kt,Dt=kt);return Mt&&Cs(F,mt),Qe}for(Ye=l(Ye);!kt.done;mt++,kt=Q.next())kt=se(Ye,F,mt,kt.value,le),kt!==null&&(r&&kt.alternate!==null&&Ye.delete(kt.key===null?mt:kt.key),H=m(kt,H,mt),Dt===null?Qe=kt:Dt.sibling=kt,Dt=kt);return r&&Ye.forEach(function(e2){return i(F,e2)}),Mt&&Cs(F,mt),Qe}function Kt(F,H,Q,le){if(typeof Q=="object"&&Q!==null&&Q.type===E&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:e:{for(var Qe=Q.key;H!==null;){if(H.key===Qe){if(Qe=Q.type,Qe===E){if(H.tag===7){o(F,H.sibling),le=p(H,Q.props.children),le.return=F,F=le;break e}}else if(H.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===X&&Hi(Qe)===H.type){o(F,H.sibling),le=p(H,Q.props),ko(le,Q),le.return=F,F=le;break e}o(F,H);break}else i(F,H);H=H.sibling}Q.type===E?(le=Li(Q.props.children,F.mode,le,Q.key),le.return=F,F=le):(le=ul(Q.type,Q.key,Q.props,null,F.mode,le),ko(le,Q),le.return=F,F=le)}return w(F);case C:e:{for(Qe=Q.key;H!==null;){if(H.key===Qe)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){o(F,H.sibling),le=p(H,Q.children||[]),le.return=F,F=le;break e}else{o(F,H);break}else i(F,H);H=H.sibling}le=bd(Q,F.mode,le),le.return=F,F=le}return w(F);case X:return Q=Hi(Q),Kt(F,H,Q,le)}if(De(Q))return Be(F,H,Q,le);if(we(Q)){if(Qe=we(Q),typeof Qe!="function")throw Error(s(150));return Q=Qe.call(Q),et(F,H,Q,le)}if(typeof Q.then=="function")return Kt(F,H,gl(Q),le);if(Q.$$typeof===k)return Kt(F,H,hl(F,Q),le);vl(F,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,H!==null&&H.tag===6?(o(F,H.sibling),le=p(H,Q),le.return=F,F=le):(o(F,H),le=xd(Q,F.mode,le),le.return=F,F=le),w(F)):o(F,H)}return function(F,H,Q,le){try{Do=0;var Qe=Kt(F,H,Q,le);return Ma=null,Qe}catch(Ye){if(Ye===Oa||Ye===ml)throw Ye;var Dt=dr(29,Ye,null,F.mode);return Dt.lanes=le,Dt.return=F,Dt}finally{}}}var Vi=t0(!0),n0=t0(!1),ii=!1;function Nd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dd(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ai(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function oi(r,i,o){var l=r.updateQueue;if(l===null)return null;if(l=l.shared,(Lt&2)!==0){var p=l.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),l.pending=i,i=ll(r),Ig(r,null,o),i}return cl(r,l,i,o),ll(r)}function jo(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var l=i.lanes;l&=r.pendingLanes,o|=l,i.lanes=o,ee(r,o)}}function kd(r,i){var o=r.updateQueue,l=r.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var p=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?p=m=w:m=m.next=w,o=o.next}while(o!==null);m===null?p=m=i:m=m.next=i}else p=m=i;o={baseState:l.baseState,firstBaseUpdate:p,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var jd=!1;function Lo(){if(jd){var r=Aa;if(r!==null)throw r}}function Uo(r,i,o,l){jd=!1;var p=r.updateQueue;ii=!1;var m=p.firstBaseUpdate,w=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var z=O,Z=z.next;z.next=null,w===null?m=Z:w.next=Z,w=z;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,O=oe.lastBaseUpdate,O!==w&&(O===null?oe.firstBaseUpdate=Z:O.next=Z,oe.lastBaseUpdate=z))}if(m!==null){var he=p.baseState;w=0,oe=Z=z=null,O=m;do{var W=O.lane&-536870913,se=W!==O.lane;if(se?(Tt&W)===W:(l&W)===W){W!==0&&W===Ra&&(jd=!0),oe!==null&&(oe=oe.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Be=r,et=O;W=i;var Kt=o;switch(et.tag){case 1:if(Be=et.payload,typeof Be=="function"){he=Be.call(Kt,he,W);break e}he=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=et.payload,W=typeof Be=="function"?Be.call(Kt,he,W):Be,W==null)break e;he=g({},he,W);break e;case 2:ii=!0}}W=O.callback,W!==null&&(r.flags|=64,se&&(r.flags|=8192),se=p.callbacks,se===null?p.callbacks=[W]:se.push(W))}else se={lane:W,tag:O.tag,payload:O.payload,callback:O.callback,next:null},oe===null?(Z=oe=se,z=he):oe=oe.next=se,w|=W;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;se=O,O=se.next,se.next=null,p.lastBaseUpdate=se,p.shared.pending=null}}while(!0);oe===null&&(z=he),p.baseState=z,p.firstBaseUpdate=Z,p.lastBaseUpdate=oe,m===null&&(p.shared.lanes=0),di|=w,r.lanes=w,r.memoizedState=he}}function r0(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function s0(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)r0(o[r],i)}var Pa=I(null),xl=I(0);function i0(r,i){r=js,de(xl,r),de(Pa,i),js=r|i.baseLanes}function Ld(){de(xl,js),de(Pa,Pa.current)}function Ud(){js=xl.current,ie(Pa),ie(xl)}var hr=I(null),Ar=null;function ci(r){var i=r.alternate;de(hn,hn.current&1),de(hr,r),Ar===null&&(i===null||Pa.current!==null||i.memoizedState!==null)&&(Ar=r)}function zd(r){de(hn,hn.current),de(hr,r),Ar===null&&(Ar=r)}function a0(r){r.tag===22?(de(hn,hn.current),de(hr,r),Ar===null&&(Ar=r)):li()}function li(){de(hn,hn.current),de(hr,hr.current)}function pr(r){ie(hr),Ar===r&&(Ar=null),ie(hn)}var hn=I(0);function bl(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||qh(o)||Fh(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Rs=0,dt=null,Yt=null,bn=null,Sl=!1,Na=!1,qi=!1,_l=0,zo=0,Da=null,qT=0;function cn(){throw Error(s(321))}function Id(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!fr(r[o],i[o]))return!1;return!0}function Bd(r,i,o,l,p,m){return Rs=m,dt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,U.H=r===null||r.memoizedState===null?V0:th,qi=!1,m=o(l,p),qi=!1,Na&&(m=c0(i,o,l,p)),o0(r),m}function o0(r){U.H=Ho;var i=Yt!==null&&Yt.next!==null;if(Rs=0,bn=Yt=dt=null,Sl=!1,zo=0,Da=null,i)throw Error(s(300));r===null||Sn||(r=r.dependencies,r!==null&&dl(r)&&(Sn=!0))}function c0(r,i,o,l){dt=r;var p=0;do{if(Na&&(Da=null),zo=0,Na=!1,25<=p)throw Error(s(301));if(p+=1,bn=Yt=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}U.H=q0,m=i(o,l)}while(Na);return m}function FT(){var r=U.H,i=r.useState()[0];return i=typeof i.then=="function"?Io(i):i,r=r.useState()[0],(Yt!==null?Yt.memoizedState:null)!==r&&(dt.flags|=1024),i}function Hd(){var r=_l!==0;return _l=0,r}function $d(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function Vd(r){if(Sl){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Sl=!1}Rs=0,bn=Yt=dt=null,Na=!1,zo=_l=0,Da=null}function Xn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?dt.memoizedState=bn=r:bn=bn.next=r,bn}function pn(){if(Yt===null){var r=dt.alternate;r=r!==null?r.memoizedState:null}else r=Yt.next;var i=bn===null?dt.memoizedState:bn.next;if(i!==null)bn=i,Yt=r;else{if(r===null)throw dt.alternate===null?Error(s(467)):Error(s(310));Yt=r,r={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},bn===null?dt.memoizedState=bn=r:bn=bn.next=r}return bn}function wl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Io(r){var i=zo;return zo+=1,Da===null&&(Da=[]),r=Jg(Da,r,i),i=dt,(bn===null?i.memoizedState:bn.next)===null&&(i=i.alternate,U.H=i===null||i.memoizedState===null?V0:th),r}function Cl(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Io(r);if(r.$$typeof===k)return Ln(r)}throw Error(s(438,String(r)))}function qd(r){var i=null,o=dt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var l=dt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=wl(),dt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),l=0;l<r;l++)o[l]=xe;return i.index++,o}function As(r,i){return typeof i=="function"?i(r):i}function El(r){var i=pn();return Fd(i,Yt,r)}function Fd(r,i,o){var l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=o;var p=r.baseQueue,m=l.pending;if(m!==null){if(p!==null){var w=p.next;p.next=m.next,m.next=w}i.baseQueue=p=m,l.pending=null}if(m=r.baseState,p===null)r.memoizedState=m;else{i=p.next;var O=w=null,z=null,Z=i,oe=!1;do{var he=Z.lane&-536870913;if(he!==Z.lane?(Tt&he)===he:(Rs&he)===he){var W=Z.revertLane;if(W===0)z!==null&&(z=z.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),he===Ra&&(oe=!0);else if((Rs&W)===W){Z=Z.next,W===Ra&&(oe=!0);continue}else he={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},z===null?(O=z=he,w=m):z=z.next=he,dt.lanes|=W,di|=W;he=Z.action,qi&&o(m,he),m=Z.hasEagerState?Z.eagerState:o(m,he)}else W={lane:he,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},z===null?(O=z=W,w=m):z=z.next=W,dt.lanes|=he,di|=he;Z=Z.next}while(Z!==null&&Z!==i);if(z===null?w=m:z.next=O,!fr(m,r.memoizedState)&&(Sn=!0,oe&&(o=Aa,o!==null)))throw o;r.memoizedState=m,r.baseState=w,r.baseQueue=z,l.lastRenderedState=m}return p===null&&(l.lanes=0),[r.memoizedState,l.dispatch]}function Yd(r){var i=pn(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var l=o.dispatch,p=o.pending,m=i.memoizedState;if(p!==null){o.pending=null;var w=p=p.next;do m=r(m,w.action),w=w.next;while(w!==p);fr(m,i.memoizedState)||(Sn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),o.lastRenderedState=m}return[m,l]}function l0(r,i,o){var l=dt,p=pn(),m=Mt;if(m){if(o===void 0)throw Error(s(407));o=o()}else o=i();var w=!fr((Yt||p).memoizedState,o);if(w&&(p.memoizedState=o,Sn=!0),p=p.queue,Xd(d0.bind(null,l,p,r),[r]),p.getSnapshot!==i||w||bn!==null&&bn.memoizedState.tag&1){if(l.flags|=2048,ka(9,{destroy:void 0},f0.bind(null,l,p,o,i),null),Qt===null)throw Error(s(349));m||(Rs&127)!==0||u0(l,i,o)}return o}function u0(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=dt.updateQueue,i===null?(i=wl(),dt.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function f0(r,i,o,l){i.value=o,i.getSnapshot=l,h0(i)&&p0(r)}function d0(r,i,o){return o(function(){h0(i)&&p0(r)})}function h0(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!fr(r,o)}catch{return!0}}function p0(r){var i=ji(r,2);i!==null&&ar(i,r,2)}function Gd(r){var i=Xn();if(typeof r=="function"){var o=r;if(r=o(),qi){gn(!0);try{o()}finally{gn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:r},i}function m0(r,i,o,l){return r.baseState=o,Fd(r,Yt,typeof l=="function"?l:As)}function YT(r,i,o,l,p){if(Al(r))throw Error(s(485));if(r=i.action,r!==null){var m={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){m.listeners.push(w)}};U.T!==null?o(!0):m.isTransition=!1,l(m),o=i.pending,o===null?(m.next=i.pending=m,y0(i,m)):(m.next=o.next,i.pending=o.next=m)}}function y0(r,i){var o=i.action,l=i.payload,p=r.state;if(i.isTransition){var m=U.T,w={};U.T=w;try{var O=o(p,l),z=U.S;z!==null&&z(w,O),g0(r,i,O)}catch(Z){Kd(r,i,Z)}finally{m!==null&&w.types!==null&&(m.types=w.types),U.T=m}}else try{m=o(p,l),g0(r,i,m)}catch(Z){Kd(r,i,Z)}}function g0(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(l){v0(r,i,l)},function(l){return Kd(r,i,l)}):v0(r,i,o)}function v0(r,i,o){i.status="fulfilled",i.value=o,x0(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,y0(r,o)))}function Kd(r,i,o){var l=r.pending;if(r.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=o,x0(i),i=i.next;while(i!==l)}r.action=null}function x0(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function b0(r,i){return i}function S0(r,i){if(Mt){var o=Qt.formState;if(o!==null){e:{var l=dt;if(Mt){if(Jt){t:{for(var p=Jt,m=Rr;p.nodeType!==8;){if(!m){p=null;break t}if(p=Or(p.nextSibling),p===null){p=null;break t}}m=p.data,p=m==="F!"||m==="F"?p:null}if(p){Jt=Or(p.nextSibling),l=p.data==="F!";break e}}ri(l)}l=!1}l&&(i=o[0])}}return o=Xn(),o.memoizedState=o.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b0,lastRenderedState:i},o.queue=l,o=B0.bind(null,dt,l),l.dispatch=o,l=Gd(!1),m=eh.bind(null,dt,!1,l.queue),l=Xn(),p={state:i,dispatch:null,action:r,pending:null},l.queue=p,o=YT.bind(null,dt,p,m,o),p.dispatch=o,l.memoizedState=r,[i,o,!1]}function _0(r){var i=pn();return w0(i,Yt,r)}function w0(r,i,o){if(i=Fd(r,i,b0)[0],r=El(As)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Io(i)}catch(w){throw w===Oa?ml:w}else l=i;i=pn();var p=i.queue,m=p.dispatch;return o!==i.memoizedState&&(dt.flags|=2048,ka(9,{destroy:void 0},GT.bind(null,p,o),null)),[l,m,r]}function GT(r,i){r.action=i}function C0(r){var i=pn(),o=Yt;if(o!==null)return w0(i,o,r);pn(),i=i.memoizedState,o=pn();var l=o.queue.dispatch;return o.memoizedState=r,[i,l,!1]}function ka(r,i,o,l){return r={tag:r,create:o,deps:l,inst:i,next:null},i=dt.updateQueue,i===null&&(i=wl(),dt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(l=o.next,o.next=r,r.next=l,i.lastEffect=r),r}function E0(){return pn().memoizedState}function Tl(r,i,o,l){var p=Xn();dt.flags|=r,p.memoizedState=ka(1|i,{destroy:void 0},o,l===void 0?null:l)}function Rl(r,i,o,l){var p=pn();l=l===void 0?null:l;var m=p.memoizedState.inst;Yt!==null&&l!==null&&Id(l,Yt.memoizedState.deps)?p.memoizedState=ka(i,m,o,l):(dt.flags|=r,p.memoizedState=ka(1|i,m,o,l))}function T0(r,i){Tl(8390656,8,r,i)}function Xd(r,i){Rl(2048,8,r,i)}function KT(r){dt.flags|=4;var i=dt.updateQueue;if(i===null)i=wl(),dt.updateQueue=i,i.events=[r];else{var o=i.events;o===null?i.events=[r]:o.push(r)}}function R0(r){var i=pn().memoizedState;return KT({ref:i,nextImpl:r}),function(){if((Lt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function A0(r,i){return Rl(4,2,r,i)}function O0(r,i){return Rl(4,4,r,i)}function M0(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function P0(r,i,o){o=o!=null?o.concat([r]):null,Rl(4,4,M0.bind(null,i,r),o)}function Qd(){}function N0(r,i){var o=pn();i=i===void 0?null:i;var l=o.memoizedState;return i!==null&&Id(i,l[1])?l[0]:(o.memoizedState=[r,i],r)}function D0(r,i){var o=pn();i=i===void 0?null:i;var l=o.memoizedState;if(i!==null&&Id(i,l[1]))return l[0];if(l=r(),qi){gn(!0);try{r()}finally{gn(!1)}}return o.memoizedState=[l,i],l}function Zd(r,i,o){return o===void 0||(Rs&1073741824)!==0&&(Tt&261930)===0?r.memoizedState=i:(r.memoizedState=o,r=kv(),dt.lanes|=r,di|=r,o)}function k0(r,i,o,l){return fr(o,i)?o:Pa.current!==null?(r=Zd(r,o,l),fr(r,i)||(Sn=!0),r):(Rs&42)===0||(Rs&1073741824)!==0&&(Tt&261930)===0?(Sn=!0,r.memoizedState=o):(r=kv(),dt.lanes|=r,di|=r,i)}function j0(r,i,o,l,p){var m=te.p;te.p=m!==0&&8>m?m:8;var w=U.T,O={};U.T=O,eh(r,!1,i,o);try{var z=p(),Z=U.S;if(Z!==null&&Z(O,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var oe=VT(z,l);Bo(r,i,oe,gr(r))}else Bo(r,i,l,gr(r))}catch(he){Bo(r,i,{then:function(){},status:"rejected",reason:he},gr())}finally{te.p=m,w!==null&&O.types!==null&&(w.types=O.types),U.T=w}}function XT(){}function Jd(r,i,o,l){if(r.tag!==5)throw Error(s(476));var p=L0(r).queue;j0(r,p,i,$,o===null?XT:function(){return U0(r),o(l)})}function L0(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:$},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function U0(r){var i=L0(r);i.next===null&&(i=r.alternate.memoizedState),Bo(r,i.next.queue,{},gr())}function Wd(){return Ln(rc)}function z0(){return pn().memoizedState}function I0(){return pn().memoizedState}function QT(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=gr();r=ai(o);var l=oi(i,r,o);l!==null&&(ar(l,i,o),jo(l,i,o)),i={cache:Ad()},r.payload=i;return}i=i.return}}function ZT(r,i,o){var l=gr();o={lane:l,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Al(r)?H0(i,o):(o=gd(r,i,o,l),o!==null&&(ar(o,r,l),$0(o,i,l)))}function B0(r,i,o){var l=gr();Bo(r,i,o,l)}function Bo(r,i,o,l){var p={lane:l,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Al(r))H0(i,p);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var w=i.lastRenderedState,O=m(w,o);if(p.hasEagerState=!0,p.eagerState=O,fr(O,w))return cl(r,i,p,0),Qt===null&&ol(),!1}catch{}finally{}if(o=gd(r,i,p,l),o!==null)return ar(o,r,l),$0(o,i,l),!0}return!1}function eh(r,i,o,l){if(l={lane:2,revertLane:Nh(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Al(r)){if(i)throw Error(s(479))}else i=gd(r,o,l,2),i!==null&&ar(i,r,2)}function Al(r){var i=r.alternate;return r===dt||i!==null&&i===dt}function H0(r,i){Na=Sl=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function $0(r,i,o){if((o&4194048)!==0){var l=i.lanes;l&=r.pendingLanes,o|=l,i.lanes=o,ee(r,o)}}var Ho={readContext:Ln,use:Cl,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn};Ho.useEffectEvent=cn;var V0={readContext:Ln,use:Cl,useCallback:function(r,i){return Xn().memoizedState=[r,i===void 0?null:i],r},useContext:Ln,useEffect:T0,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,Tl(4194308,4,M0.bind(null,i,r),o)},useLayoutEffect:function(r,i){return Tl(4194308,4,r,i)},useInsertionEffect:function(r,i){Tl(4,2,r,i)},useMemo:function(r,i){var o=Xn();i=i===void 0?null:i;var l=r();if(qi){gn(!0);try{r()}finally{gn(!1)}}return o.memoizedState=[l,i],l},useReducer:function(r,i,o){var l=Xn();if(o!==void 0){var p=o(i);if(qi){gn(!0);try{o(i)}finally{gn(!1)}}}else p=i;return l.memoizedState=l.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},l.queue=r,r=r.dispatch=ZT.bind(null,dt,r),[l.memoizedState,r]},useRef:function(r){var i=Xn();return r={current:r},i.memoizedState=r},useState:function(r){r=Gd(r);var i=r.queue,o=B0.bind(null,dt,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:Qd,useDeferredValue:function(r,i){var o=Xn();return Zd(o,r,i)},useTransition:function(){var r=Gd(!1);return r=j0.bind(null,dt,r.queue,!0,!1),Xn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var l=dt,p=Xn();if(Mt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),Qt===null)throw Error(s(349));(Tt&127)!==0||u0(l,i,o)}p.memoizedState=o;var m={value:o,getSnapshot:i};return p.queue=m,T0(d0.bind(null,l,m,r),[r]),l.flags|=2048,ka(9,{destroy:void 0},f0.bind(null,l,m,o,i),null),o},useId:function(){var r=Xn(),i=Qt.identifierPrefix;if(Mt){var o=ts,l=es;o=(l&~(1<<32-dn(l)-1)).toString(32)+o,i="_"+i+"R_"+o,o=_l++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=qT++,i="_"+i+"r_"+o.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:Wd,useFormState:S0,useActionState:S0,useOptimistic:function(r){var i=Xn();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=eh.bind(null,dt,!0,o),o.dispatch=i,[r,i]},useMemoCache:qd,useCacheRefresh:function(){return Xn().memoizedState=QT.bind(null,dt)},useEffectEvent:function(r){var i=Xn(),o={impl:r};return i.memoizedState=o,function(){if((Lt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},th={readContext:Ln,use:Cl,useCallback:N0,useContext:Ln,useEffect:Xd,useImperativeHandle:P0,useInsertionEffect:A0,useLayoutEffect:O0,useMemo:D0,useReducer:El,useRef:E0,useState:function(){return El(As)},useDebugValue:Qd,useDeferredValue:function(r,i){var o=pn();return k0(o,Yt.memoizedState,r,i)},useTransition:function(){var r=El(As)[0],i=pn().memoizedState;return[typeof r=="boolean"?r:Io(r),i]},useSyncExternalStore:l0,useId:z0,useHostTransitionStatus:Wd,useFormState:_0,useActionState:_0,useOptimistic:function(r,i){var o=pn();return m0(o,Yt,r,i)},useMemoCache:qd,useCacheRefresh:I0};th.useEffectEvent=R0;var q0={readContext:Ln,use:Cl,useCallback:N0,useContext:Ln,useEffect:Xd,useImperativeHandle:P0,useInsertionEffect:A0,useLayoutEffect:O0,useMemo:D0,useReducer:Yd,useRef:E0,useState:function(){return Yd(As)},useDebugValue:Qd,useDeferredValue:function(r,i){var o=pn();return Yt===null?Zd(o,r,i):k0(o,Yt.memoizedState,r,i)},useTransition:function(){var r=Yd(As)[0],i=pn().memoizedState;return[typeof r=="boolean"?r:Io(r),i]},useSyncExternalStore:l0,useId:z0,useHostTransitionStatus:Wd,useFormState:C0,useActionState:C0,useOptimistic:function(r,i){var o=pn();return Yt!==null?m0(o,Yt,r,i):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:qd,useCacheRefresh:I0};q0.useEffectEvent=R0;function nh(r,i,o,l){i=r.memoizedState,o=o(l,i),o=o==null?i:g({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var rh={enqueueSetState:function(r,i,o){r=r._reactInternals;var l=gr(),p=ai(l);p.payload=i,o!=null&&(p.callback=o),i=oi(r,p,l),i!==null&&(ar(i,r,l),jo(i,r,l))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var l=gr(),p=ai(l);p.tag=1,p.payload=i,o!=null&&(p.callback=o),i=oi(r,p,l),i!==null&&(ar(i,r,l),jo(i,r,l))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=gr(),l=ai(o);l.tag=2,i!=null&&(l.callback=i),i=oi(r,l,o),i!==null&&(ar(i,r,o),jo(i,r,o))}};function F0(r,i,o,l,p,m,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(l,m,w):i.prototype&&i.prototype.isPureReactComponent?!Ro(o,l)||!Ro(p,m):!0}function Y0(r,i,o,l){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,l),i.state!==r&&rh.enqueueReplaceState(i,i.state,null)}function Fi(r,i){var o=i;if("ref"in i){o={};for(var l in i)l!=="ref"&&(o[l]=i[l])}if(r=r.defaultProps){o===i&&(o=g({},o));for(var p in r)o[p]===void 0&&(o[p]=r[p])}return o}function G0(r){al(r)}function K0(r){console.error(r)}function X0(r){al(r)}function Ol(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Q0(r,i,o){try{var l=r.onCaughtError;l(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function sh(r,i,o){return o=ai(o),o.tag=3,o.payload={element:null},o.callback=function(){Ol(r,i)},o}function Z0(r){return r=ai(r),r.tag=3,r}function J0(r,i,o,l){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var m=l.value;r.payload=function(){return p(m)},r.callback=function(){Q0(i,o,l)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){Q0(i,o,l),typeof p!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var O=l.stack;this.componentDidCatch(l.value,{componentStack:O!==null?O:""})})}function JT(r,i,o,l,p){if(o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=o.alternate,i!==null&&Ta(i,o,p,!0),o=hr.current,o!==null){switch(o.tag){case 31:case 13:return Ar===null?Hl():o.alternate===null&&ln===0&&(ln=3),o.flags&=-257,o.flags|=65536,o.lanes=p,l===yl?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([l]):i.add(l),Oh(r,l,p)),!1;case 22:return o.flags|=65536,l===yl?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([l]):o.add(l)),Oh(r,l,p)),!1}throw Error(s(435,o.tag))}return Oh(r,l,p),Hl(),!1}if(Mt)return i=hr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,l!==wd&&(r=Error(s(422),{cause:l}),Mo(Cr(r,o)))):(l!==wd&&(i=Error(s(423),{cause:l}),Mo(Cr(i,o))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,l=Cr(l,o),p=sh(r.stateNode,l,p),kd(r,p),ln!==4&&(ln=2)),!1;var m=Error(s(520),{cause:l});if(m=Cr(m,o),Xo===null?Xo=[m]:Xo.push(m),ln!==4&&(ln=2),i===null)return!0;l=Cr(l,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=p&-p,o.lanes|=r,r=sh(o.stateNode,l,r),kd(o,r),!1;case 1:if(i=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(hi===null||!hi.has(m))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Z0(p),J0(p,r,o,l),kd(o,p),!1}o=o.return}while(o!==null);return!1}var ih=Error(s(461)),Sn=!1;function Un(r,i,o,l){i.child=r===null?n0(i,null,o,l):Vi(i,r.child,o,l)}function W0(r,i,o,l,p){o=o.render;var m=i.ref;if("ref"in l){var w={};for(var O in l)O!=="ref"&&(w[O]=l[O])}else w=l;return Ii(i),l=Bd(r,i,o,w,m,p),O=Hd(),r!==null&&!Sn?($d(r,i,p),Os(r,i,p)):(Mt&&O&&Sd(i),i.flags|=1,Un(r,i,l,p),i.child)}function ev(r,i,o,l,p){if(r===null){var m=o.type;return typeof m=="function"&&!vd(m)&&m.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=m,tv(r,i,m,l,p)):(r=ul(o.type,null,l,i,i.mode,p),r.ref=i.ref,r.return=i,i.child=r)}if(m=r.child,!hh(r,p)){var w=m.memoizedProps;if(o=o.compare,o=o!==null?o:Ro,o(w,l)&&r.ref===i.ref)return Os(r,i,p)}return i.flags|=1,r=ws(m,l),r.ref=i.ref,r.return=i,i.child=r}function tv(r,i,o,l,p){if(r!==null){var m=r.memoizedProps;if(Ro(m,l)&&r.ref===i.ref)if(Sn=!1,i.pendingProps=l=m,hh(r,p))(r.flags&131072)!==0&&(Sn=!0);else return i.lanes=r.lanes,Os(r,i,p)}return ah(r,i,o,l,p)}function nv(r,i,o,l){var p=l.children,m=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,r!==null){for(l=i.child=r.child,p=0;l!==null;)p=p|l.lanes|l.childLanes,l=l.sibling;l=p&~m}else l=0,i.child=null;return rv(r,i,m,o,l)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&pl(i,m!==null?m.cachePool:null),m!==null?i0(i,m):Ld(),a0(i);else return l=i.lanes=536870912,rv(r,i,m!==null?m.baseLanes|o:o,o,l)}else m!==null?(pl(i,m.cachePool),i0(i,m),li(),i.memoizedState=null):(r!==null&&pl(i,null),Ld(),li());return Un(r,i,p,o),i.child}function $o(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function rv(r,i,o,l,p){var m=Md();return m=m===null?null:{parent:xn._currentValue,pool:m},i.memoizedState={baseLanes:o,cachePool:m},r!==null&&pl(i,null),Ld(),a0(i),r!==null&&Ta(r,i,l,!0),i.childLanes=p,null}function Ml(r,i){return i=Nl({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function sv(r,i,o){return Vi(i,r.child,null,o),r=Ml(i,i.pendingProps),r.flags|=2,pr(i),i.memoizedState=null,r}function WT(r,i,o){var l=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(Mt){if(l.mode==="hidden")return r=Ml(i,l),i.lanes=536870912,$o(null,r);if(zd(i),(r=Jt)?(r=yx(r,Rr),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:ti!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},o=Hg(r),o.return=i,i.child=o,jn=i,Jt=null)):r=null,r===null)throw ri(i);return i.lanes=536870912,null}return Ml(i,l)}var m=r.memoizedState;if(m!==null){var w=m.dehydrated;if(zd(i),p)if(i.flags&256)i.flags&=-257,i=sv(r,i,o);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(s(558));else if(Sn||Ta(r,i,o,!1),p=(o&r.childLanes)!==0,Sn||p){if(l=Qt,l!==null&&(w=_(l,o),w!==0&&w!==m.retryLane))throw m.retryLane=w,ji(r,w),ar(l,r,w),ih;Hl(),i=sv(r,i,o)}else r=m.treeContext,Jt=Or(w.nextSibling),jn=i,Mt=!0,ni=null,Rr=!1,r!==null&&qg(i,r),i=Ml(i,l),i.flags|=4096;return i}return r=ws(r.child,{mode:l.mode,children:l.children}),r.ref=i.ref,i.child=r,r.return=i,r}function Pl(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(r===null||r.ref!==o)&&(i.flags|=4194816)}}function ah(r,i,o,l,p){return Ii(i),o=Bd(r,i,o,l,void 0,p),l=Hd(),r!==null&&!Sn?($d(r,i,p),Os(r,i,p)):(Mt&&l&&Sd(i),i.flags|=1,Un(r,i,o,p),i.child)}function iv(r,i,o,l,p,m){return Ii(i),i.updateQueue=null,o=c0(i,l,o,p),o0(r),l=Hd(),r!==null&&!Sn?($d(r,i,m),Os(r,i,m)):(Mt&&l&&Sd(i),i.flags|=1,Un(r,i,o,m),i.child)}function av(r,i,o,l,p){if(Ii(i),i.stateNode===null){var m=_a,w=o.contextType;typeof w=="object"&&w!==null&&(m=Ln(w)),m=new o(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=rh,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},Nd(i),w=o.contextType,m.context=typeof w=="object"&&w!==null?Ln(w):_a,m.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(nh(i,o,w,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(w=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),w!==m.state&&rh.enqueueReplaceState(m,m.state,null),Uo(i,l,m,p),Lo(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(r===null){m=i.stateNode;var O=i.memoizedProps,z=Fi(o,O);m.props=z;var Z=m.context,oe=o.contextType;w=_a,typeof oe=="object"&&oe!==null&&(w=Ln(oe));var he=o.getDerivedStateFromProps;oe=typeof he=="function"||typeof m.getSnapshotBeforeUpdate=="function",O=i.pendingProps!==O,oe||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(O||Z!==w)&&Y0(i,m,l,w),ii=!1;var W=i.memoizedState;m.state=W,Uo(i,l,m,p),Lo(),Z=i.memoizedState,O||W!==Z||ii?(typeof he=="function"&&(nh(i,o,he,l),Z=i.memoizedState),(z=ii||F0(i,o,z,l,W,Z,w))?(oe||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=Z),m.props=l,m.state=Z,m.context=w,l=z):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,Dd(r,i),w=i.memoizedProps,oe=Fi(o,w),m.props=oe,he=i.pendingProps,W=m.context,Z=o.contextType,z=_a,typeof Z=="object"&&Z!==null&&(z=Ln(Z)),O=o.getDerivedStateFromProps,(Z=typeof O=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==he||W!==z)&&Y0(i,m,l,z),ii=!1,W=i.memoizedState,m.state=W,Uo(i,l,m,p),Lo();var se=i.memoizedState;w!==he||W!==se||ii||r!==null&&r.dependencies!==null&&dl(r.dependencies)?(typeof O=="function"&&(nh(i,o,O,l),se=i.memoizedState),(oe=ii||F0(i,o,oe,l,W,se,z)||r!==null&&r.dependencies!==null&&dl(r.dependencies))?(Z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,se,z),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,se,z)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===r.memoizedProps&&W===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&W===r.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=se),m.props=l,m.state=se,m.context=z,l=oe):(typeof m.componentDidUpdate!="function"||w===r.memoizedProps&&W===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&W===r.memoizedState||(i.flags|=1024),l=!1)}return m=l,Pl(r,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,o=l&&typeof o.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,r!==null&&l?(i.child=Vi(i,r.child,null,p),i.child=Vi(i,null,o,p)):Un(r,i,o,p),i.memoizedState=m.state,r=i.child):r=Os(r,i,p),r}function ov(r,i,o,l){return Ui(),i.flags|=256,Un(r,i,o,l),i.child}var oh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ch(r){return{baseLanes:r,cachePool:Qg()}}function lh(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=yr),r}function cv(r,i,o){var l=i.pendingProps,p=!1,m=(i.flags&128)!==0,w;if((w=m)||(w=r!==null&&r.memoizedState===null?!1:(hn.current&2)!==0),w&&(p=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,r===null){if(Mt){if(p?ci(i):li(),(r=Jt)?(r=yx(r,Rr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:ti!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},o=Hg(r),o.return=i,i.child=o,jn=i,Jt=null)):r=null,r===null)throw ri(i);return Fh(r)?i.lanes=32:i.lanes=536870912,null}var O=l.children;return l=l.fallback,p?(li(),p=i.mode,O=Nl({mode:"hidden",children:O},p),l=Li(l,p,o,null),O.return=i,l.return=i,O.sibling=l,i.child=O,l=i.child,l.memoizedState=ch(o),l.childLanes=lh(r,w,o),i.memoizedState=oh,$o(null,l)):(ci(i),uh(i,O))}var z=r.memoizedState;if(z!==null&&(O=z.dehydrated,O!==null)){if(m)i.flags&256?(ci(i),i.flags&=-257,i=fh(r,i,o)):i.memoizedState!==null?(li(),i.child=r.child,i.flags|=128,i=null):(li(),O=l.fallback,p=i.mode,l=Nl({mode:"visible",children:l.children},p),O=Li(O,p,o,null),O.flags|=2,l.return=i,O.return=i,l.sibling=O,i.child=l,Vi(i,r.child,null,o),l=i.child,l.memoizedState=ch(o),l.childLanes=lh(r,w,o),i.memoizedState=oh,i=$o(null,l));else if(ci(i),Fh(O)){if(w=O.nextSibling&&O.nextSibling.dataset,w)var Z=w.dgst;w=Z,l=Error(s(419)),l.stack="",l.digest=w,Mo({value:l,source:null,stack:null}),i=fh(r,i,o)}else if(Sn||Ta(r,i,o,!1),w=(o&r.childLanes)!==0,Sn||w){if(w=Qt,w!==null&&(l=_(w,o),l!==0&&l!==z.retryLane))throw z.retryLane=l,ji(r,l),ar(w,r,l),ih;qh(O)||Hl(),i=fh(r,i,o)}else qh(O)?(i.flags|=192,i.child=r.child,i=null):(r=z.treeContext,Jt=Or(O.nextSibling),jn=i,Mt=!0,ni=null,Rr=!1,r!==null&&qg(i,r),i=uh(i,l.children),i.flags|=4096);return i}return p?(li(),O=l.fallback,p=i.mode,z=r.child,Z=z.sibling,l=ws(z,{mode:"hidden",children:l.children}),l.subtreeFlags=z.subtreeFlags&65011712,Z!==null?O=ws(Z,O):(O=Li(O,p,o,null),O.flags|=2),O.return=i,l.return=i,l.sibling=O,i.child=l,$o(null,l),l=i.child,O=r.child.memoizedState,O===null?O=ch(o):(p=O.cachePool,p!==null?(z=xn._currentValue,p=p.parent!==z?{parent:z,pool:z}:p):p=Qg(),O={baseLanes:O.baseLanes|o,cachePool:p}),l.memoizedState=O,l.childLanes=lh(r,w,o),i.memoizedState=oh,$o(r.child,l)):(ci(i),o=r.child,r=o.sibling,o=ws(o,{mode:"visible",children:l.children}),o.return=i,o.sibling=null,r!==null&&(w=i.deletions,w===null?(i.deletions=[r],i.flags|=16):w.push(r)),i.child=o,i.memoizedState=null,o)}function uh(r,i){return i=Nl({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Nl(r,i){return r=dr(22,r,null,i),r.lanes=0,r}function fh(r,i,o){return Vi(i,r.child,null,o),r=uh(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function lv(r,i,o){r.lanes|=i;var l=r.alternate;l!==null&&(l.lanes|=i),Td(r.return,i,o)}function dh(r,i,o,l,p,m){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:p,treeForkCount:m}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=l,w.tail=o,w.tailMode=p,w.treeForkCount=m)}function uv(r,i,o){var l=i.pendingProps,p=l.revealOrder,m=l.tail;l=l.children;var w=hn.current,O=(w&2)!==0;if(O?(w=w&1|2,i.flags|=128):w&=1,de(hn,w),Un(r,i,l,o),l=Mt?Oo:0,!O&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&lv(r,o,i);else if(r.tag===19)lv(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(p){case"forwards":for(o=i.child,p=null;o!==null;)r=o.alternate,r!==null&&bl(r)===null&&(p=o),o=o.sibling;o=p,o===null?(p=i.child,i.child=null):(p=o.sibling,o.sibling=null),dh(i,!1,p,o,m,l);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=i.child,i.child=null;p!==null;){if(r=p.alternate,r!==null&&bl(r)===null){i.child=p;break}r=p.sibling,p.sibling=o,o=p,p=r}dh(i,!0,o,null,m,l);break;case"together":dh(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Os(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),di|=i.lanes,(o&i.childLanes)===0)if(r!==null){if(Ta(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,o=ws(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=ws(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function hh(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&dl(r)))}function eR(r,i,o){switch(i.tag){case 3:vt(i,i.stateNode.containerInfo),si(i,xn,r.memoizedState.cache),Ui();break;case 27:case 5:K(i);break;case 4:vt(i,i.stateNode.containerInfo);break;case 10:si(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,zd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ci(i),i.flags|=128,null):(o&i.child.childLanes)!==0?cv(r,i,o):(ci(i),r=Os(r,i,o),r!==null?r.sibling:null);ci(i);break;case 19:var p=(r.flags&128)!==0;if(l=(o&i.childLanes)!==0,l||(Ta(r,i,o,!1),l=(o&i.childLanes)!==0),p){if(l)return uv(r,i,o);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),de(hn,hn.current),l)break;return null;case 22:return i.lanes=0,nv(r,i,o,i.pendingProps);case 24:si(i,xn,r.memoizedState.cache)}return Os(r,i,o)}function fv(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)Sn=!0;else{if(!hh(r,o)&&(i.flags&128)===0)return Sn=!1,eR(r,i,o);Sn=(r.flags&131072)!==0}else Sn=!1,Mt&&(i.flags&1048576)!==0&&Vg(i,Oo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(r=Hi(i.elementType),i.type=r,typeof r=="function")vd(r)?(l=Fi(r,l),i.tag=1,i=av(null,i,r,l,o)):(i.tag=0,i=ah(null,i,r,l,o));else{if(r!=null){var p=r.$$typeof;if(p===j){i.tag=11,i=W0(null,i,r,l,o);break e}else if(p===G){i.tag=14,i=ev(null,i,r,l,o);break e}}throw i=ge(r)||r,Error(s(306,i,""))}}return i;case 0:return ah(r,i,i.type,i.pendingProps,o);case 1:return l=i.type,p=Fi(l,i.pendingProps),av(r,i,l,p,o);case 3:e:{if(vt(i,i.stateNode.containerInfo),r===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;p=m.element,Dd(r,i),Uo(i,l,null,o);var w=i.memoizedState;if(l=w.cache,si(i,xn,l),l!==m.cache&&Rd(i,[xn],o,!0),Lo(),l=w.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=ov(r,i,l,o);break e}else if(l!==p){p=Cr(Error(s(424)),i),Mo(p),i=ov(r,i,l,o);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Jt=Or(r.firstChild),jn=i,Mt=!0,ni=null,Rr=!0,o=n0(i,null,l,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ui(),l===p){i=Os(r,i,o);break e}Un(r,i,l,o)}i=i.child}return i;case 26:return Pl(r,i),r===null?(o=_x(i.type,null,i.pendingProps,null))?i.memoizedState=o:Mt||(o=i.type,r=i.pendingProps,l=Kl(Te.current).createElement(o),l[q]=i,l[ae]=r,zn(l,o,r),Ie(l),i.stateNode=l):i.memoizedState=_x(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return K(i),r===null&&Mt&&(l=i.stateNode=xx(i.type,i.pendingProps,Te.current),jn=i,Rr=!0,p=Jt,gi(i.type)?(Yh=p,Jt=Or(l.firstChild)):Jt=p),Un(r,i,i.pendingProps.children,o),Pl(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Mt&&((p=l=Jt)&&(l=MR(l,i.type,i.pendingProps,Rr),l!==null?(i.stateNode=l,jn=i,Jt=Or(l.firstChild),Rr=!1,p=!0):p=!1),p||ri(i)),K(i),p=i.type,m=i.pendingProps,w=r!==null?r.memoizedProps:null,l=m.children,Hh(p,m)?l=null:w!==null&&Hh(p,w)&&(i.flags|=32),i.memoizedState!==null&&(p=Bd(r,i,FT,null,null,o),rc._currentValue=p),Pl(r,i),Un(r,i,l,o),i.child;case 6:return r===null&&Mt&&((r=o=Jt)&&(o=PR(o,i.pendingProps,Rr),o!==null?(i.stateNode=o,jn=i,Jt=null,r=!0):r=!1),r||ri(i)),null;case 13:return cv(r,i,o);case 4:return vt(i,i.stateNode.containerInfo),l=i.pendingProps,r===null?i.child=Vi(i,null,l,o):Un(r,i,l,o),i.child;case 11:return W0(r,i,i.type,i.pendingProps,o);case 7:return Un(r,i,i.pendingProps,o),i.child;case 8:return Un(r,i,i.pendingProps.children,o),i.child;case 12:return Un(r,i,i.pendingProps.children,o),i.child;case 10:return l=i.pendingProps,si(i,i.type,l.value),Un(r,i,l.children,o),i.child;case 9:return p=i.type._context,l=i.pendingProps.children,Ii(i),p=Ln(p),l=l(p),i.flags|=1,Un(r,i,l,o),i.child;case 14:return ev(r,i,i.type,i.pendingProps,o);case 15:return tv(r,i,i.type,i.pendingProps,o);case 19:return uv(r,i,o);case 31:return WT(r,i,o);case 22:return nv(r,i,o,i.pendingProps);case 24:return Ii(i),l=Ln(xn),r===null?(p=Md(),p===null&&(p=Qt,m=Ad(),p.pooledCache=m,m.refCount++,m!==null&&(p.pooledCacheLanes|=o),p=m),i.memoizedState={parent:l,cache:p},Nd(i),si(i,xn,p)):((r.lanes&o)!==0&&(Dd(r,i),Uo(i,null,null,o),Lo()),p=r.memoizedState,m=i.memoizedState,p.parent!==l?(p={parent:l,cache:l},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),si(i,xn,l)):(l=m.cache,si(i,xn,l),l!==p.cache&&Rd(i,[xn],o,!0))),Un(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ms(r){r.flags|=4}function ph(r,i,o,l,p){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(p&335544128)===p)if(r.stateNode.complete)r.flags|=8192;else if(zv())r.flags|=8192;else throw $i=yl,Pd}else r.flags&=-16777217}function dv(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Rx(i))if(zv())r.flags|=8192;else throw $i=yl,Pd}function Dl(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Ws():536870912,r.lanes|=i,za|=i)}function Vo(r,i){if(!Mt)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:l.sibling=null}}function Wt(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,l=0;if(i)for(var p=r.child;p!==null;)o|=p.lanes|p.childLanes,l|=p.subtreeFlags&65011712,l|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)o|=p.lanes|p.childLanes,l|=p.subtreeFlags,l|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=l,r.childLanes=o,i}function tR(r,i,o){var l=i.pendingProps;switch(_d(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(i),null;case 1:return Wt(i),null;case 3:return o=i.stateNode,l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ts(xn),B(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Ea(i)?Ms(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Cd())),Wt(i),null;case 26:var p=i.type,m=i.memoizedState;return r===null?(Ms(i),m!==null?(Wt(i),dv(i,m)):(Wt(i),ph(i,p,null,l,o))):m?m!==r.memoizedState?(Ms(i),Wt(i),dv(i,m)):(Wt(i),i.flags&=-16777217):(r=r.memoizedProps,r!==l&&Ms(i),Wt(i),ph(i,p,r,l,o)),null;case 27:if(fe(i),o=Te.current,p=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==l&&Ms(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Wt(i),null}r=be.current,Ea(i)?Fg(i):(r=xx(p,l,o),i.stateNode=r,Ms(i))}return Wt(i),null;case 5:if(fe(i),p=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==l&&Ms(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Wt(i),null}if(m=be.current,Ea(i))Fg(i);else{var w=Kl(Te.current);switch(m){case 1:m=w.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:m=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":m=w.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":m=w.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":m=w.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?w.createElement("select",{is:l.is}):w.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?w.createElement(p,{is:l.is}):w.createElement(p)}}m[q]=i,m[ae]=l;e:for(w=i.child;w!==null;){if(w.tag===5||w.tag===6)m.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===i)break e;for(;w.sibling===null;){if(w.return===null||w.return===i)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}i.stateNode=m;e:switch(zn(m,p,l),p){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ms(i)}}return Wt(i),ph(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,o),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==l&&Ms(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(r=Te.current,Ea(i)){if(r=i.stateNode,o=i.memoizedProps,l=null,p=jn,p!==null)switch(p.tag){case 27:case 5:l=p.memoizedProps}r[q]=i,r=!!(r.nodeValue===o||l!==null&&l.suppressHydrationWarning===!0||cx(r.nodeValue,o)),r||ri(i,!0)}else r=Kl(r).createTextNode(l),r[q]=i,i.stateNode=r}return Wt(i),null;case 31:if(o=i.memoizedState,r===null||r.memoizedState!==null){if(l=Ea(i),o!==null){if(r===null){if(!l)throw Error(s(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(557));r[q]=i}else Ui(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Wt(i),r=!1}else o=Cd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return i.flags&256?(pr(i),i):(pr(i),null);if((i.flags&128)!==0)throw Error(s(558))}return Wt(i),null;case 13:if(l=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=Ea(i),l!==null&&l.dehydrated!==null){if(r===null){if(!p)throw Error(s(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[q]=i}else Ui(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Wt(i),p=!1}else p=Cd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(pr(i),i):(pr(i),null)}return pr(i),(i.flags&128)!==0?(i.lanes=o,i):(o=l!==null,r=r!==null&&r.memoizedState!==null,o&&(l=i.child,p=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(p=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==p&&(l.flags|=2048)),o!==r&&o&&(i.child.flags|=8192),Dl(i,i.updateQueue),Wt(i),null);case 4:return B(),r===null&&Lh(i.stateNode.containerInfo),Wt(i),null;case 10:return Ts(i.type),Wt(i),null;case 19:if(ie(hn),l=i.memoizedState,l===null)return Wt(i),null;if(p=(i.flags&128)!==0,m=l.rendering,m===null)if(p)Vo(l,!1);else{if(ln!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(m=bl(r),m!==null){for(i.flags|=128,Vo(l,!1),r=m.updateQueue,i.updateQueue=r,Dl(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)Bg(o,r),o=o.sibling;return de(hn,hn.current&1|2),Mt&&Cs(i,l.treeForkCount),i.child}r=r.sibling}l.tail!==null&&ct()>zl&&(i.flags|=128,p=!0,Vo(l,!1),i.lanes=4194304)}else{if(!p)if(r=bl(m),r!==null){if(i.flags|=128,p=!0,r=r.updateQueue,i.updateQueue=r,Dl(i,r),Vo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Mt)return Wt(i),null}else 2*ct()-l.renderingStartTime>zl&&o!==536870912&&(i.flags|=128,p=!0,Vo(l,!1),i.lanes=4194304);l.isBackwards?(m.sibling=i.child,i.child=m):(r=l.last,r!==null?r.sibling=m:i.child=m,l.last=m)}return l.tail!==null?(r=l.tail,l.rendering=r,l.tail=r.sibling,l.renderingStartTime=ct(),r.sibling=null,o=hn.current,de(hn,p?o&1|2:o&1),Mt&&Cs(i,l.treeForkCount),r):(Wt(i),null);case 22:case 23:return pr(i),Ud(),l=i.memoizedState!==null,r!==null?r.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(o&536870912)!==0&&(i.flags&128)===0&&(Wt(i),i.subtreeFlags&6&&(i.flags|=8192)):Wt(i),o=i.updateQueue,o!==null&&Dl(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==o&&(i.flags|=2048),r!==null&&ie(Bi),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ts(xn),Wt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function nR(r,i){switch(_d(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Ts(xn),B(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return fe(i),null;case 31:if(i.memoizedState!==null){if(pr(i),i.alternate===null)throw Error(s(340));Ui()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(pr(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ui()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ie(hn),null;case 4:return B(),null;case 10:return Ts(i.type),null;case 22:case 23:return pr(i),Ud(),r!==null&&ie(Bi),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Ts(xn),null;case 25:return null;default:return null}}function hv(r,i){switch(_d(i),i.tag){case 3:Ts(xn),B();break;case 26:case 27:case 5:fe(i);break;case 4:B();break;case 31:i.memoizedState!==null&&pr(i);break;case 13:pr(i);break;case 19:ie(hn);break;case 10:Ts(i.type);break;case 22:case 23:pr(i),Ud(),r!==null&&ie(Bi);break;case 24:Ts(xn)}}function qo(r,i){try{var o=i.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var p=l.next;o=p;do{if((o.tag&r)===r){l=void 0;var m=o.create,w=o.inst;l=m(),w.destroy=l}o=o.next}while(o!==p)}}catch(O){Ht(i,i.return,O)}}function ui(r,i,o){try{var l=i.updateQueue,p=l!==null?l.lastEffect:null;if(p!==null){var m=p.next;l=m;do{if((l.tag&r)===r){var w=l.inst,O=w.destroy;if(O!==void 0){w.destroy=void 0,p=i;var z=o,Z=O;try{Z()}catch(oe){Ht(p,z,oe)}}}l=l.next}while(l!==m)}}catch(oe){Ht(i,i.return,oe)}}function pv(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{s0(i,o)}catch(l){Ht(r,r.return,l)}}}function mv(r,i,o){o.props=Fi(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(l){Ht(r,i,l)}}function Fo(r,i){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var l=r.stateNode;break;case 30:l=r.stateNode;break;default:l=r.stateNode}typeof o=="function"?r.refCleanup=o(l):o.current=l}}catch(p){Ht(r,i,p)}}function ns(r,i){var o=r.ref,l=r.refCleanup;if(o!==null)if(typeof l=="function")try{l()}catch(p){Ht(r,i,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Ht(r,i,p)}else o.current=null}function yv(r){var i=r.type,o=r.memoizedProps,l=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&l.focus();break e;case"img":o.src?l.src=o.src:o.srcSet&&(l.srcset=o.srcSet)}}catch(p){Ht(r,r.return,p)}}function mh(r,i,o){try{var l=r.stateNode;CR(l,r.type,o,i),l[ae]=i}catch(p){Ht(r,r.return,p)}}function gv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&gi(r.type)||r.tag===4}function yh(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||gv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&gi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function gh(r,i,o){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(r),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Ss));else if(l!==4&&(l===27&&gi(r.type)&&(o=r.stateNode,i=null),r=r.child,r!==null))for(gh(r,i,o),r=r.sibling;r!==null;)gh(r,i,o),r=r.sibling}function kl(r,i,o){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(l!==4&&(l===27&&gi(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(kl(r,i,o),r=r.sibling;r!==null;)kl(r,i,o),r=r.sibling}function vv(r){var i=r.stateNode,o=r.memoizedProps;try{for(var l=r.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);zn(i,l,o),i[q]=r,i[ae]=o}catch(m){Ht(r,r.return,m)}}var Ps=!1,_n=!1,vh=!1,xv=typeof WeakSet=="function"?WeakSet:Set,kn=null;function rR(r,i){if(r=r.containerInfo,Ih=tu,r=Pg(r),fd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var p=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var w=0,O=-1,z=-1,Z=0,oe=0,he=r,W=null;t:for(;;){for(var se;he!==o||p!==0&&he.nodeType!==3||(O=w+p),he!==m||l!==0&&he.nodeType!==3||(z=w+l),he.nodeType===3&&(w+=he.nodeValue.length),(se=he.firstChild)!==null;)W=he,he=se;for(;;){if(he===r)break t;if(W===o&&++Z===p&&(O=w),W===m&&++oe===l&&(z=w),(se=he.nextSibling)!==null)break;he=W,W=he.parentNode}he=se}o=O===-1||z===-1?null:{start:O,end:z}}else o=null}o=o||{start:0,end:0}}else o=null;for(Bh={focusedElem:r,selectionRange:o},tu=!1,kn=i;kn!==null;)if(i=kn,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,kn=r;else for(;kn!==null;){switch(i=kn,m=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)p=r[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,o=i,p=m.memoizedProps,m=m.memoizedState,l=o.stateNode;try{var Be=Fi(o.type,p);r=l.getSnapshotBeforeUpdate(Be,m),l.__reactInternalSnapshotBeforeUpdate=r}catch(et){Ht(o,o.return,et)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)Vh(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Vh(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,kn=r;break}kn=i.return}}function bv(r,i,o){var l=o.flags;switch(o.tag){case 0:case 11:case 15:Ds(r,o),l&4&&qo(5,o);break;case 1:if(Ds(r,o),l&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(w){Ht(o,o.return,w)}else{var p=Fi(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(p,i,r.__reactInternalSnapshotBeforeUpdate)}catch(w){Ht(o,o.return,w)}}l&64&&pv(o),l&512&&Fo(o,o.return);break;case 3:if(Ds(r,o),l&64&&(r=o.updateQueue,r!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{s0(r,i)}catch(w){Ht(o,o.return,w)}}break;case 27:i===null&&l&4&&vv(o);case 26:case 5:Ds(r,o),i===null&&l&4&&yv(o),l&512&&Fo(o,o.return);break;case 12:Ds(r,o);break;case 31:Ds(r,o),l&4&&wv(r,o);break;case 13:Ds(r,o),l&4&&Cv(r,o),l&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=dR.bind(null,o),NR(r,o))));break;case 22:if(l=o.memoizedState!==null||Ps,!l){i=i!==null&&i.memoizedState!==null||_n,p=Ps;var m=_n;Ps=l,(_n=i)&&!m?ks(r,o,(o.subtreeFlags&8772)!==0):Ds(r,o),Ps=p,_n=m}break;case 30:break;default:Ds(r,o)}}function Sv(r){var i=r.alternate;i!==null&&(r.alternate=null,Sv(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&tt(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var sn=null,nr=!1;function Ns(r,i,o){for(o=o.child;o!==null;)_v(r,i,o),o=o.sibling}function _v(r,i,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Gn,o)}catch{}switch(o.tag){case 26:_n||ns(o,i),Ns(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:_n||ns(o,i);var l=sn,p=nr;gi(o.type)&&(sn=o.stateNode,nr=!1),Ns(r,i,o),ec(o.stateNode),sn=l,nr=p;break;case 5:_n||ns(o,i);case 6:if(l=sn,p=nr,sn=null,Ns(r,i,o),sn=l,nr=p,sn!==null)if(nr)try{(sn.nodeType===9?sn.body:sn.nodeName==="HTML"?sn.ownerDocument.body:sn).removeChild(o.stateNode)}catch(m){Ht(o,i,m)}else try{sn.removeChild(o.stateNode)}catch(m){Ht(o,i,m)}break;case 18:sn!==null&&(nr?(r=sn,px(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Ya(r)):px(sn,o.stateNode));break;case 4:l=sn,p=nr,sn=o.stateNode.containerInfo,nr=!0,Ns(r,i,o),sn=l,nr=p;break;case 0:case 11:case 14:case 15:ui(2,o,i),_n||ui(4,o,i),Ns(r,i,o);break;case 1:_n||(ns(o,i),l=o.stateNode,typeof l.componentWillUnmount=="function"&&mv(o,i,l)),Ns(r,i,o);break;case 21:Ns(r,i,o);break;case 22:_n=(l=_n)||o.memoizedState!==null,Ns(r,i,o),_n=l;break;default:Ns(r,i,o)}}function wv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Ya(r)}catch(o){Ht(i,i.return,o)}}}function Cv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ya(r)}catch(o){Ht(i,i.return,o)}}function sR(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new xv),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new xv),i;default:throw Error(s(435,r.tag))}}function jl(r,i){var o=sR(r);i.forEach(function(l){if(!o.has(l)){o.add(l);var p=hR.bind(null,r,l);l.then(p,p)}})}function rr(r,i){var o=i.deletions;if(o!==null)for(var l=0;l<o.length;l++){var p=o[l],m=r,w=i,O=w;e:for(;O!==null;){switch(O.tag){case 27:if(gi(O.type)){sn=O.stateNode,nr=!1;break e}break;case 5:sn=O.stateNode,nr=!1;break e;case 3:case 4:sn=O.stateNode.containerInfo,nr=!0;break e}O=O.return}if(sn===null)throw Error(s(160));_v(m,w,p),sn=null,nr=!1,m=p.alternate,m!==null&&(m.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Ev(i,r),i=i.sibling}var Ir=null;function Ev(r,i){var o=r.alternate,l=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:rr(i,r),sr(r),l&4&&(ui(3,r,r.return),qo(3,r),ui(5,r,r.return));break;case 1:rr(i,r),sr(r),l&512&&(_n||o===null||ns(o,o.return)),l&64&&Ps&&(r=r.updateQueue,r!==null&&(l=r.callbacks,l!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?l:o.concat(l))));break;case 26:var p=Ir;if(rr(i,r),sr(r),l&512&&(_n||o===null||ns(o,o.return)),l&4){var m=o!==null?o.memoizedState:null;if(l=r.memoizedState,o===null)if(l===null)if(r.stateNode===null){e:{l=r.type,o=r.memoizedProps,p=p.ownerDocument||p;t:switch(l){case"title":m=p.getElementsByTagName("title")[0],(!m||m[Ze]||m[q]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=p.createElement(l),p.head.insertBefore(m,p.querySelector("head > title"))),zn(m,l,o),m[q]=r,Ie(m),l=m;break e;case"link":var w=Ex("link","href",p).get(l+(o.href||""));if(w){for(var O=0;O<w.length;O++)if(m=w[O],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(O,1);break t}}m=p.createElement(l),zn(m,l,o),p.head.appendChild(m);break;case"meta":if(w=Ex("meta","content",p).get(l+(o.content||""))){for(O=0;O<w.length;O++)if(m=w[O],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(O,1);break t}}m=p.createElement(l),zn(m,l,o),p.head.appendChild(m);break;default:throw Error(s(468,l))}m[q]=r,Ie(m),l=m}r.stateNode=l}else Tx(p,r.type,r.stateNode);else r.stateNode=Cx(p,l,r.memoizedProps);else m!==l?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,l===null?Tx(p,r.type,r.stateNode):Cx(p,l,r.memoizedProps)):l===null&&r.stateNode!==null&&mh(r,r.memoizedProps,o.memoizedProps)}break;case 27:rr(i,r),sr(r),l&512&&(_n||o===null||ns(o,o.return)),o!==null&&l&4&&mh(r,r.memoizedProps,o.memoizedProps);break;case 5:if(rr(i,r),sr(r),l&512&&(_n||o===null||ns(o,o.return)),r.flags&32){p=r.stateNode;try{It(p,"")}catch(Be){Ht(r,r.return,Be)}}l&4&&r.stateNode!=null&&(p=r.memoizedProps,mh(r,p,o!==null?o.memoizedProps:p)),l&1024&&(vh=!0);break;case 6:if(rr(i,r),sr(r),l&4){if(r.stateNode===null)throw Error(s(162));l=r.memoizedProps,o=r.stateNode;try{o.nodeValue=l}catch(Be){Ht(r,r.return,Be)}}break;case 3:if(Zl=null,p=Ir,Ir=Xl(i.containerInfo),rr(i,r),Ir=p,sr(r),l&4&&o!==null&&o.memoizedState.isDehydrated)try{Ya(i.containerInfo)}catch(Be){Ht(r,r.return,Be)}vh&&(vh=!1,Tv(r));break;case 4:l=Ir,Ir=Xl(r.stateNode.containerInfo),rr(i,r),sr(r),Ir=l;break;case 12:rr(i,r),sr(r);break;case 31:rr(i,r),sr(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,jl(r,l)));break;case 13:rr(i,r),sr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ul=ct()),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,jl(r,l)));break;case 22:p=r.memoizedState!==null;var z=o!==null&&o.memoizedState!==null,Z=Ps,oe=_n;if(Ps=Z||p,_n=oe||z,rr(i,r),_n=oe,Ps=Z,sr(r),l&8192)e:for(i=r.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(o===null||z||Ps||_n||Yi(r)),o=null,i=r;;){if(i.tag===5||i.tag===26){if(o===null){z=o=i;try{if(m=z.stateNode,p)w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{O=z.stateNode;var he=z.memoizedProps.style,W=he!=null&&he.hasOwnProperty("display")?he.display:null;O.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Be){Ht(z,z.return,Be)}}}else if(i.tag===6){if(o===null){z=i;try{z.stateNode.nodeValue=p?"":z.memoizedProps}catch(Be){Ht(z,z.return,Be)}}}else if(i.tag===18){if(o===null){z=i;try{var se=z.stateNode;p?mx(se,!0):mx(z.stateNode,!1)}catch(Be){Ht(z,z.return,Be)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=r.updateQueue,l!==null&&(o=l.retryQueue,o!==null&&(l.retryQueue=null,jl(r,o))));break;case 19:rr(i,r),sr(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,jl(r,l)));break;case 30:break;case 21:break;default:rr(i,r),sr(r)}}function sr(r){var i=r.flags;if(i&2){try{for(var o,l=r.return;l!==null;){if(gv(l)){o=l;break}l=l.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var p=o.stateNode,m=yh(r);kl(r,m,p);break;case 5:var w=o.stateNode;o.flags&32&&(It(w,""),o.flags&=-33);var O=yh(r);kl(r,O,w);break;case 3:case 4:var z=o.stateNode.containerInfo,Z=yh(r);gh(r,Z,z);break;default:throw Error(s(161))}}catch(oe){Ht(r,r.return,oe)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Tv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Tv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function Ds(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)bv(r,i.alternate,i),i=i.sibling}function Yi(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:ui(4,i,i.return),Yi(i);break;case 1:ns(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&mv(i,i.return,o),Yi(i);break;case 27:ec(i.stateNode);case 26:case 5:ns(i,i.return),Yi(i);break;case 22:i.memoizedState===null&&Yi(i);break;case 30:Yi(i);break;default:Yi(i)}r=r.sibling}}function ks(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,p=r,m=i,w=m.flags;switch(m.tag){case 0:case 11:case 15:ks(p,m,o),qo(4,m);break;case 1:if(ks(p,m,o),l=m,p=l.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Z){Ht(l,l.return,Z)}if(l=m,p=l.updateQueue,p!==null){var O=l.stateNode;try{var z=p.shared.hiddenCallbacks;if(z!==null)for(p.shared.hiddenCallbacks=null,p=0;p<z.length;p++)r0(z[p],O)}catch(Z){Ht(l,l.return,Z)}}o&&w&64&&pv(m),Fo(m,m.return);break;case 27:vv(m);case 26:case 5:ks(p,m,o),o&&l===null&&w&4&&yv(m),Fo(m,m.return);break;case 12:ks(p,m,o);break;case 31:ks(p,m,o),o&&w&4&&wv(p,m);break;case 13:ks(p,m,o),o&&w&4&&Cv(p,m);break;case 22:m.memoizedState===null&&ks(p,m,o),Fo(m,m.return);break;case 30:break;default:ks(p,m,o)}i=i.sibling}}function xh(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Po(o))}function bh(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Po(r))}function Br(r,i,o,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Rv(r,i,o,l),i=i.sibling}function Rv(r,i,o,l){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Br(r,i,o,l),p&2048&&qo(9,i);break;case 1:Br(r,i,o,l);break;case 3:Br(r,i,o,l),p&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Po(r)));break;case 12:if(p&2048){Br(r,i,o,l),r=i.stateNode;try{var m=i.memoizedProps,w=m.id,O=m.onPostCommit;typeof O=="function"&&O(w,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(z){Ht(i,i.return,z)}}else Br(r,i,o,l);break;case 31:Br(r,i,o,l);break;case 13:Br(r,i,o,l);break;case 23:break;case 22:m=i.stateNode,w=i.alternate,i.memoizedState!==null?m._visibility&2?Br(r,i,o,l):Yo(r,i):m._visibility&2?Br(r,i,o,l):(m._visibility|=2,ja(r,i,o,l,(i.subtreeFlags&10256)!==0||!1)),p&2048&&xh(w,i);break;case 24:Br(r,i,o,l),p&2048&&bh(i.alternate,i);break;default:Br(r,i,o,l)}}function ja(r,i,o,l,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=r,w=i,O=o,z=l,Z=w.flags;switch(w.tag){case 0:case 11:case 15:ja(m,w,O,z,p),qo(8,w);break;case 23:break;case 22:var oe=w.stateNode;w.memoizedState!==null?oe._visibility&2?ja(m,w,O,z,p):Yo(m,w):(oe._visibility|=2,ja(m,w,O,z,p)),p&&Z&2048&&xh(w.alternate,w);break;case 24:ja(m,w,O,z,p),p&&Z&2048&&bh(w.alternate,w);break;default:ja(m,w,O,z,p)}i=i.sibling}}function Yo(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,l=i,p=l.flags;switch(l.tag){case 22:Yo(o,l),p&2048&&xh(l.alternate,l);break;case 24:Yo(o,l),p&2048&&bh(l.alternate,l);break;default:Yo(o,l)}i=i.sibling}}var Go=8192;function La(r,i,o){if(r.subtreeFlags&Go)for(r=r.child;r!==null;)Av(r,i,o),r=r.sibling}function Av(r,i,o){switch(r.tag){case 26:La(r,i,o),r.flags&Go&&r.memoizedState!==null&&qR(o,Ir,r.memoizedState,r.memoizedProps);break;case 5:La(r,i,o);break;case 3:case 4:var l=Ir;Ir=Xl(r.stateNode.containerInfo),La(r,i,o),Ir=l;break;case 22:r.memoizedState===null&&(l=r.alternate,l!==null&&l.memoizedState!==null?(l=Go,Go=16777216,La(r,i,o),Go=l):La(r,i,o));break;default:La(r,i,o)}}function Ov(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Ko(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var l=i[o];kn=l,Pv(l,r)}Ov(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Mv(r),r=r.sibling}function Mv(r){switch(r.tag){case 0:case 11:case 15:Ko(r),r.flags&2048&&ui(9,r,r.return);break;case 3:Ko(r);break;case 12:Ko(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Ll(r)):Ko(r);break;default:Ko(r)}}function Ll(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var l=i[o];kn=l,Pv(l,r)}Ov(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:ui(8,i,i.return),Ll(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Ll(i));break;default:Ll(i)}r=r.sibling}}function Pv(r,i){for(;kn!==null;){var o=kn;switch(o.tag){case 0:case 11:case 15:ui(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var l=o.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Po(o.memoizedState.cache)}if(l=o.child,l!==null)l.return=o,kn=l;else e:for(o=r;kn!==null;){l=kn;var p=l.sibling,m=l.return;if(Sv(l),l===o){kn=null;break e}if(p!==null){p.return=m,kn=p;break e}kn=m}}}var iR={getCacheForType:function(r){var i=Ln(xn),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o},cacheSignal:function(){return Ln(xn).controller.signal}},aR=typeof WeakMap=="function"?WeakMap:Map,Lt=0,Qt=null,wt=null,Tt=0,Bt=0,mr=null,fi=!1,Ua=!1,Sh=!1,js=0,ln=0,di=0,Gi=0,_h=0,yr=0,za=0,Xo=null,ir=null,wh=!1,Ul=0,Nv=0,zl=1/0,Il=null,hi=null,An=0,pi=null,Ia=null,Ls=0,Ch=0,Eh=null,Dv=null,Qo=0,Th=null;function gr(){return(Lt&2)!==0&&Tt!==0?Tt&-Tt:U.T!==null?Nh():v()}function kv(){if(yr===0)if((Tt&536870912)===0||Mt){var r=bs;bs<<=1,(bs&3932160)===0&&(bs=262144),yr=r}else yr=536870912;return r=hr.current,r!==null&&(r.flags|=32),yr}function ar(r,i,o){(r===Qt&&(Bt===2||Bt===9)||r.cancelPendingCommit!==null)&&(Ba(r,0),mi(r,Tt,yr,!1)),Ur(r,o),((Lt&2)===0||r!==Qt)&&(r===Qt&&((Lt&2)===0&&(Gi|=o),ln===4&&mi(r,Tt,yr,!1)),rs(r))}function jv(r,i,o){if((Lt&6)!==0)throw Error(s(327));var l=!o&&(i&127)===0&&(i&r.expiredLanes)===0||Kn(r,i),p=l?lR(r,i):Ah(r,i,!0),m=l;do{if(p===0){Ua&&!l&&mi(r,i,0,!1);break}else{if(o=r.current.alternate,m&&!oR(o)){p=Ah(r,i,!1),m=!1;continue}if(p===2){if(m=i,r.errorRecoveryDisabledLanes&m)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;e:{var O=r;p=Xo;var z=O.current.memoizedState.isDehydrated;if(z&&(Ba(O,w).flags|=256),w=Ah(O,w,!1),w!==2){if(Sh&&!z){O.errorRecoveryDisabledLanes|=m,Gi|=m,p=4;break e}m=ir,ir=p,m!==null&&(ir===null?ir=m:ir.push.apply(ir,m))}p=w}if(m=!1,p!==2)continue}}if(p===1){Ba(r,0),mi(r,i,0,!0);break}e:{switch(l=r,m=p,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:mi(l,i,yr,!fi);break e;case 2:ir=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(p=Ul+300-ct(),10<p)){if(mi(l,i,yr,!fi),Bn(l,0,!0)!==0)break e;Ls=i,l.timeoutHandle=dx(Lv.bind(null,l,o,ir,Il,wh,i,yr,Gi,za,fi,m,"Throttled",-0,0),p);break e}Lv(l,o,ir,Il,wh,i,yr,Gi,za,fi,m,null,-0,0)}}break}while(!0);rs(r)}function Lv(r,i,o,l,p,m,w,O,z,Z,oe,he,W,se){if(r.timeoutHandle=-1,he=i.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ss},Av(i,m,he);var Be=(m&62914560)===m?Ul-ct():(m&4194048)===m?Nv-ct():0;if(Be=FR(he,Be),Be!==null){Ls=m,r.cancelPendingCommit=Be(qv.bind(null,r,i,m,o,l,p,w,O,z,oe,he,null,W,se)),mi(r,m,w,!Z);return}}qv(r,i,m,o,l,p,w,O,z)}function oR(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var l=0;l<o.length;l++){var p=o[l],m=p.getSnapshot;p=p.value;try{if(!fr(m(),p))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function mi(r,i,o,l){i&=~_h,i&=~Gi,r.suspendedLanes|=i,r.pingedLanes&=~i,l&&(r.warmLanes|=i),l=r.expirationTimes;for(var p=i;0<p;){var m=31-dn(p),w=1<<m;l[m]=-1,p&=~w}o!==0&&Pn(r,o,i)}function Bl(){return(Lt&6)===0?(Zo(0),!1):!0}function Rh(){if(wt!==null){if(Bt===0)var r=wt.return;else r=wt,Es=zi=null,Vd(r),Ma=null,Do=0,r=wt;for(;r!==null;)hv(r.alternate,r),r=r.return;wt=null}}function Ba(r,i){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,RR(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Ls=0,Rh(),Qt=r,wt=o=ws(r.current,null),Tt=i,Bt=0,mr=null,fi=!1,Ua=Kn(r,i),Sh=!1,za=yr=_h=Gi=di=ln=0,ir=Xo=null,wh=!1,(i&8)!==0&&(i|=i&32);var l=r.entangledLanes;if(l!==0)for(r=r.entanglements,l&=i;0<l;){var p=31-dn(l),m=1<<p;i|=r[p],l&=~m}return js=i,ol(),o}function Uv(r,i){dt=null,U.H=Ho,i===Oa||i===ml?(i=Wg(),Bt=3):i===Pd?(i=Wg(),Bt=4):Bt=i===ih?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mr=i,wt===null&&(ln=1,Ol(r,Cr(i,r.current)))}function zv(){var r=hr.current;return r===null?!0:(Tt&4194048)===Tt?Ar===null:(Tt&62914560)===Tt||(Tt&536870912)!==0?r===Ar:!1}function Iv(){var r=U.H;return U.H=Ho,r===null?Ho:r}function Bv(){var r=U.A;return U.A=iR,r}function Hl(){ln=4,fi||(Tt&4194048)!==Tt&&hr.current!==null||(Ua=!0),(di&134217727)===0&&(Gi&134217727)===0||Qt===null||mi(Qt,Tt,yr,!1)}function Ah(r,i,o){var l=Lt;Lt|=2;var p=Iv(),m=Bv();(Qt!==r||Tt!==i)&&(Il=null,Ba(r,i)),i=!1;var w=ln;e:do try{if(Bt!==0&&wt!==null){var O=wt,z=mr;switch(Bt){case 8:Rh(),w=6;break e;case 3:case 2:case 9:case 6:hr.current===null&&(i=!0);var Z=Bt;if(Bt=0,mr=null,Ha(r,O,z,Z),o&&Ua){w=0;break e}break;default:Z=Bt,Bt=0,mr=null,Ha(r,O,z,Z)}}cR(),w=ln;break}catch(oe){Uv(r,oe)}while(!0);return i&&r.shellSuspendCounter++,Es=zi=null,Lt=l,U.H=p,U.A=m,wt===null&&(Qt=null,Tt=0,ol()),w}function cR(){for(;wt!==null;)Hv(wt)}function lR(r,i){var o=Lt;Lt|=2;var l=Iv(),p=Bv();Qt!==r||Tt!==i?(Il=null,zl=ct()+500,Ba(r,i)):Ua=Kn(r,i);e:do try{if(Bt!==0&&wt!==null){i=wt;var m=mr;t:switch(Bt){case 1:Bt=0,mr=null,Ha(r,i,m,1);break;case 2:case 9:if(Zg(m)){Bt=0,mr=null,$v(i);break}i=function(){Bt!==2&&Bt!==9||Qt!==r||(Bt=7),rs(r)},m.then(i,i);break e;case 3:Bt=7;break e;case 4:Bt=5;break e;case 7:Zg(m)?(Bt=0,mr=null,$v(i)):(Bt=0,mr=null,Ha(r,i,m,7));break;case 5:var w=null;switch(wt.tag){case 26:w=wt.memoizedState;case 5:case 27:var O=wt;if(w?Rx(w):O.stateNode.complete){Bt=0,mr=null;var z=O.sibling;if(z!==null)wt=z;else{var Z=O.return;Z!==null?(wt=Z,$l(Z)):wt=null}break t}}Bt=0,mr=null,Ha(r,i,m,5);break;case 6:Bt=0,mr=null,Ha(r,i,m,6);break;case 8:Rh(),ln=6;break e;default:throw Error(s(462))}}uR();break}catch(oe){Uv(r,oe)}while(!0);return Es=zi=null,U.H=l,U.A=p,Lt=o,wt!==null?0:(Qt=null,Tt=0,ol(),ln)}function uR(){for(;wt!==null&&!Mn();)Hv(wt)}function Hv(r){var i=fv(r.alternate,r,js);r.memoizedProps=r.pendingProps,i===null?$l(r):wt=i}function $v(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=iv(o,i,i.pendingProps,i.type,void 0,Tt);break;case 11:i=iv(o,i,i.pendingProps,i.type.render,i.ref,Tt);break;case 5:Vd(i);default:hv(o,i),i=wt=Bg(i,js),i=fv(o,i,js)}r.memoizedProps=r.pendingProps,i===null?$l(r):wt=i}function Ha(r,i,o,l){Es=zi=null,Vd(i),Ma=null,Do=0;var p=i.return;try{if(JT(r,p,i,o,Tt)){ln=1,Ol(r,Cr(o,r.current)),wt=null;return}}catch(m){if(p!==null)throw wt=p,m;ln=1,Ol(r,Cr(o,r.current)),wt=null;return}i.flags&32768?(Mt||l===1?r=!0:Ua||(Tt&536870912)!==0?r=!1:(fi=r=!0,(l===2||l===9||l===3||l===6)&&(l=hr.current,l!==null&&l.tag===13&&(l.flags|=16384))),Vv(i,r)):$l(i)}function $l(r){var i=r;do{if((i.flags&32768)!==0){Vv(i,fi);return}r=i.return;var o=tR(i.alternate,i,js);if(o!==null){wt=o;return}if(i=i.sibling,i!==null){wt=i;return}wt=i=r}while(i!==null);ln===0&&(ln=5)}function Vv(r,i){do{var o=nR(r.alternate,r);if(o!==null){o.flags&=32767,wt=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){wt=r;return}wt=r=o}while(r!==null);ln=6,wt=null}function qv(r,i,o,l,p,m,w,O,z){r.cancelPendingCommit=null;do Vl();while(An!==0);if((Lt&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=yd,ma(r,o,m,w,O,z),r===Qt&&(wt=Qt=null,Tt=0),Ia=i,pi=r,Ls=o,Ch=m,Eh=p,Dv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,pR(Rn,function(){return Xv(),null})):(r.callbackNode=null,r.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,p=te.p,te.p=2,w=Lt,Lt|=4;try{rR(r,i,o)}finally{Lt=w,te.p=p,U.T=l}}An=1,Fv(),Yv(),Gv()}}function Fv(){if(An===1){An=0;var r=pi,i=Ia,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=U.T,U.T=null;var l=te.p;te.p=2;var p=Lt;Lt|=4;try{Ev(i,r);var m=Bh,w=Pg(r.containerInfo),O=m.focusedElem,z=m.selectionRange;if(w!==O&&O&&O.ownerDocument&&Mg(O.ownerDocument.documentElement,O)){if(z!==null&&fd(O)){var Z=z.start,oe=z.end;if(oe===void 0&&(oe=Z),"selectionStart"in O)O.selectionStart=Z,O.selectionEnd=Math.min(oe,O.value.length);else{var he=O.ownerDocument||document,W=he&&he.defaultView||window;if(W.getSelection){var se=W.getSelection(),Be=O.textContent.length,et=Math.min(z.start,Be),Kt=z.end===void 0?et:Math.min(z.end,Be);!se.extend&&et>Kt&&(w=Kt,Kt=et,et=w);var F=Og(O,et),H=Og(O,Kt);if(F&&H&&(se.rangeCount!==1||se.anchorNode!==F.node||se.anchorOffset!==F.offset||se.focusNode!==H.node||se.focusOffset!==H.offset)){var Q=he.createRange();Q.setStart(F.node,F.offset),se.removeAllRanges(),et>Kt?(se.addRange(Q),se.extend(H.node,H.offset)):(Q.setEnd(H.node,H.offset),se.addRange(Q))}}}}for(he=[],se=O;se=se.parentNode;)se.nodeType===1&&he.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<he.length;O++){var le=he[O];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}tu=!!Ih,Bh=Ih=null}finally{Lt=p,te.p=l,U.T=o}}r.current=i,An=2}}function Yv(){if(An===2){An=0;var r=pi,i=Ia,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=U.T,U.T=null;var l=te.p;te.p=2;var p=Lt;Lt|=4;try{bv(r,i.alternate,i)}finally{Lt=p,te.p=l,U.T=o}}An=3}}function Gv(){if(An===4||An===3){An=0,st();var r=pi,i=Ia,o=Ls,l=Dv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?An=5:(An=0,Ia=pi=null,Kv(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(hi=null),T(o),i=i.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Gn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=U.T,p=te.p,te.p=2,U.T=null;try{for(var m=r.onRecoverableError,w=0;w<l.length;w++){var O=l[w];m(O.value,{componentStack:O.stack})}}finally{U.T=i,te.p=p}}(Ls&3)!==0&&Vl(),rs(r),p=r.pendingLanes,(o&261930)!==0&&(p&42)!==0?r===Th?Qo++:(Qo=0,Th=r):Qo=0,Zo(0)}}function Kv(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Po(i)))}function Vl(){return Fv(),Yv(),Gv(),Xv()}function Xv(){if(An!==5)return!1;var r=pi,i=Ch;Ch=0;var o=T(Ls),l=U.T,p=te.p;try{te.p=32>o?32:o,U.T=null,o=Eh,Eh=null;var m=pi,w=Ls;if(An=0,Ia=pi=null,Ls=0,(Lt&6)!==0)throw Error(s(331));var O=Lt;if(Lt|=4,Mv(m.current),Rv(m,m.current,w,o),Lt=O,Zo(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Gn,m)}catch{}return!0}finally{te.p=p,U.T=l,Kv(r,i)}}function Qv(r,i,o){i=Cr(o,i),i=sh(r.stateNode,i,2),r=oi(r,i,2),r!==null&&(Ur(r,2),rs(r))}function Ht(r,i,o){if(r.tag===3)Qv(r,r,o);else for(;i!==null;){if(i.tag===3){Qv(i,r,o);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hi===null||!hi.has(l))){r=Cr(o,r),o=Z0(2),l=oi(i,o,2),l!==null&&(J0(o,l,i,r),Ur(l,2),rs(l));break}}i=i.return}}function Oh(r,i,o){var l=r.pingCache;if(l===null){l=r.pingCache=new aR;var p=new Set;l.set(i,p)}else p=l.get(i),p===void 0&&(p=new Set,l.set(i,p));p.has(o)||(Sh=!0,p.add(o),r=fR.bind(null,r,i,o),i.then(r,r))}function fR(r,i,o){var l=r.pingCache;l!==null&&l.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Qt===r&&(Tt&o)===o&&(ln===4||ln===3&&(Tt&62914560)===Tt&&300>ct()-Ul?(Lt&2)===0&&Ba(r,0):_h|=o,za===Tt&&(za=0)),rs(r)}function Zv(r,i){i===0&&(i=Ws()),r=ji(r,i),r!==null&&(Ur(r,i),rs(r))}function dR(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),Zv(r,o)}function hR(r,i){var o=0;switch(r.tag){case 31:case 13:var l=r.stateNode,p=r.memoizedState;p!==null&&(o=p.retryLane);break;case 19:l=r.stateNode;break;case 22:l=r.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Zv(r,o)}function pR(r,i){return At(r,i)}var ql=null,$a=null,Mh=!1,Fl=!1,Ph=!1,yi=0;function rs(r){r!==$a&&r.next===null&&($a===null?ql=$a=r:$a=$a.next=r),Fl=!0,Mh||(Mh=!0,yR())}function Zo(r,i){if(!Ph&&Fl){Ph=!0;do for(var o=!1,l=ql;l!==null;){if(r!==0){var p=l.pendingLanes;if(p===0)var m=0;else{var w=l.suspendedLanes,O=l.pingedLanes;m=(1<<31-dn(42|r)+1)-1,m&=p&~(w&~O),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,tx(l,m))}else m=Tt,m=Bn(l,l===Qt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Kn(l,m)||(o=!0,tx(l,m));l=l.next}while(o);Ph=!1}}function mR(){Jv()}function Jv(){Fl=Mh=!1;var r=0;yi!==0&&TR()&&(r=yi);for(var i=ct(),o=null,l=ql;l!==null;){var p=l.next,m=Wv(l,i);m===0?(l.next=null,o===null?ql=p:o.next=p,p===null&&($a=o)):(o=l,(r!==0||(m&3)!==0)&&(Fl=!0)),l=p}An!==0&&An!==5||Zo(r),yi!==0&&(yi=0)}function Wv(r,i){for(var o=r.suspendedLanes,l=r.pingedLanes,p=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var w=31-dn(m),O=1<<w,z=p[w];z===-1?((O&o)===0||(O&l)!==0)&&(p[w]=Jr(O,i)):z<=i&&(r.expiredLanes|=O),m&=~O}if(i=Qt,o=Tt,o=Bn(r,r===i?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l=r.callbackNode,o===0||r===i&&(Bt===2||Bt===9)||r.cancelPendingCommit!==null)return l!==null&&l!==null&&qt(l),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Kn(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(l!==null&&qt(l),T(o)){case 2:case 8:o=Yn;break;case 32:o=Rn;break;case 268435456:o=Xs;break;default:o=Rn}return l=ex.bind(null,r),o=At(o,l),r.callbackPriority=i,r.callbackNode=o,i}return l!==null&&l!==null&&qt(l),r.callbackPriority=2,r.callbackNode=null,2}function ex(r,i){if(An!==0&&An!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Vl()&&r.callbackNode!==o)return null;var l=Tt;return l=Bn(r,r===Qt?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l===0?null:(jv(r,l,i),Wv(r,ct()),r.callbackNode!=null&&r.callbackNode===o?ex.bind(null,r):null)}function tx(r,i){if(Vl())return null;jv(r,i,!0)}function yR(){AR(function(){(Lt&6)!==0?At(Tn,mR):Jv()})}function Nh(){if(yi===0){var r=Ra;r===0&&(r=Zr,Zr<<=1,(Zr&261888)===0&&(Zr=256)),yi=r}return yi}function nx(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Wc(""+r)}function rx(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function gR(r,i,o,l,p){if(i==="submit"&&o&&o.stateNode===p){var m=nx((p[ae]||null).action),w=l.submitter;w&&(i=(i=w[ae]||null)?nx(i.formAction):w.getAttribute("formAction"),i!==null&&(m=i,w=null));var O=new rl("action","action",null,l,p);r.push({event:O,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(yi!==0){var z=w?rx(p,w):new FormData(p);Jd(o,{pending:!0,data:z,method:p.method,action:m},null,z)}}else typeof m=="function"&&(O.preventDefault(),z=w?rx(p,w):new FormData(p),Jd(o,{pending:!0,data:z,method:p.method,action:m},m,z))},currentTarget:p}]})}}for(var Dh=0;Dh<md.length;Dh++){var kh=md[Dh],vR=kh.toLowerCase(),xR=kh[0].toUpperCase()+kh.slice(1);zr(vR,"on"+xR)}zr(kg,"onAnimationEnd"),zr(jg,"onAnimationIteration"),zr(Lg,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(jT,"onTransitionRun"),zr(LT,"onTransitionStart"),zr(UT,"onTransitionCancel"),zr(Ug,"onTransitionEnd"),Me("onMouseEnter",["mouseout","mouseover"]),Me("onMouseLeave",["mouseout","mouseover"]),Me("onPointerEnter",["pointerout","pointerover"]),Me("onPointerLeave",["pointerout","pointerover"]),Re("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Re("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Re("onBeforeInput",["compositionend","keypress","textInput","paste"]),Re("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Re("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Re("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jo));function sx(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var l=r[o],p=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var w=l.length-1;0<=w;w--){var O=l[w],z=O.instance,Z=O.currentTarget;if(O=O.listener,z!==m&&p.isPropagationStopped())break e;m=O,p.currentTarget=Z;try{m(p)}catch(oe){al(oe)}p.currentTarget=null,m=z}else for(w=0;w<l.length;w++){if(O=l[w],z=O.instance,Z=O.currentTarget,O=O.listener,z!==m&&p.isPropagationStopped())break e;m=O,p.currentTarget=Z;try{m(p)}catch(oe){al(oe)}p.currentTarget=null,m=z}}}}function Ct(r,i){var o=i[ze];o===void 0&&(o=i[ze]=new Set);var l=r+"__bubble";o.has(l)||(ix(i,r,2,!1),o.add(l))}function jh(r,i,o){var l=0;i&&(l|=4),ix(o,r,l,i)}var Yl="_reactListening"+Math.random().toString(36).slice(2);function Lh(r){if(!r[Yl]){r[Yl]=!0,Le.forEach(function(o){o!=="selectionchange"&&(bR.has(o)||jh(o,!1,r),jh(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Yl]||(i[Yl]=!0,jh("selectionchange",!1,i))}}function ix(r,i,o,l){switch(kx(i)){case 2:var p=KR;break;case 8:p=XR;break;default:p=Zh}o=p.bind(null,i,o,r),p=void 0,!nd||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),l?p!==void 0?r.addEventListener(i,o,{capture:!0,passive:p}):r.addEventListener(i,o,!0):p!==void 0?r.addEventListener(i,o,{passive:p}):r.addEventListener(i,o,!1)}function Uh(r,i,o,l,p){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var w=l.tag;if(w===3||w===4){var O=l.stateNode.containerInfo;if(O===p)break;if(w===4)for(w=l.return;w!==null;){var z=w.tag;if((z===3||z===4)&&w.stateNode.containerInfo===p)return;w=w.return}for(;O!==null;){if(w=rt(O),w===null)return;if(z=w.tag,z===5||z===6||z===26||z===27){l=m=w;continue e}O=O.parentNode}}l=l.return}ug(function(){var Z=m,oe=ed(o),he=[];e:{var W=zg.get(r);if(W!==void 0){var se=rl,Be=r;switch(r){case"keypress":if(tl(o)===0)break e;case"keydown":case"keyup":se=hT;break;case"focusin":Be="focus",se=ad;break;case"focusout":Be="blur",se=ad;break;case"beforeblur":case"afterblur":se=ad;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=hg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=tT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=yT;break;case kg:case jg:case Lg:se=sT;break;case Ug:se=vT;break;case"scroll":case"scrollend":se=WE;break;case"wheel":se=bT;break;case"copy":case"cut":case"paste":se=aT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=mg;break;case"toggle":case"beforetoggle":se=_T}var et=(i&4)!==0,Kt=!et&&(r==="scroll"||r==="scrollend"),F=et?W!==null?W+"Capture":null:W;et=[];for(var H=Z,Q;H!==null;){var le=H;if(Q=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Q===null||F===null||(le=bo(H,F),le!=null&&et.push(Wo(H,le,Q))),Kt)break;H=H.return}0<et.length&&(W=new se(W,Be,null,o,oe),he.push({event:W,listeners:et}))}}if((i&7)===0){e:{if(W=r==="mouseover"||r==="pointerover",se=r==="mouseout"||r==="pointerout",W&&o!==Wf&&(Be=o.relatedTarget||o.fromElement)&&(rt(Be)||Be[_e]))break e;if((se||W)&&(W=oe.window===oe?oe:(W=oe.ownerDocument)?W.defaultView||W.parentWindow:window,se?(Be=o.relatedTarget||o.toElement,se=Z,Be=Be?rt(Be):null,Be!==null&&(Kt=c(Be),et=Be.tag,Be!==Kt||et!==5&&et!==27&&et!==6)&&(Be=null)):(se=null,Be=Z),se!==Be)){if(et=hg,le="onMouseLeave",F="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(et=mg,le="onPointerLeave",F="onPointerEnter",H="pointer"),Kt=se==null?W:Je(se),Q=Be==null?W:Je(Be),W=new et(le,H+"leave",se,o,oe),W.target=Kt,W.relatedTarget=Q,le=null,rt(oe)===Z&&(et=new et(F,H+"enter",Be,o,oe),et.target=Q,et.relatedTarget=Kt,le=et),Kt=le,se&&Be)t:{for(et=SR,F=se,H=Be,Q=0,le=F;le;le=et(le))Q++;le=0;for(var Qe=H;Qe;Qe=et(Qe))le++;for(;0<Q-le;)F=et(F),Q--;for(;0<le-Q;)H=et(H),le--;for(;Q--;){if(F===H||H!==null&&F===H.alternate){et=F;break t}F=et(F),H=et(H)}et=null}else et=null;se!==null&&ax(he,W,se,et,!1),Be!==null&&Kt!==null&&ax(he,Kt,Be,et,!0)}}e:{if(W=Z?Je(Z):window,se=W.nodeName&&W.nodeName.toLowerCase(),se==="select"||se==="input"&&W.type==="file")var Dt=wg;else if(Sg(W))if(Cg)Dt=NT;else{Dt=MT;var Ye=OT}else se=W.nodeName,!se||se.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Z&&vn(Z.elementType)&&(Dt=wg):Dt=PT;if(Dt&&(Dt=Dt(r,Z))){_g(he,Dt,o,oe);break e}Ye&&Ye(r,W,Z),r==="focusout"&&Z&&W.type==="number"&&Z.memoizedProps.value!=null&&St(W,"number",W.value)}switch(Ye=Z?Je(Z):window,r){case"focusin":(Sg(Ye)||Ye.contentEditable==="true")&&(xa=Ye,dd=Z,Ao=null);break;case"focusout":Ao=dd=xa=null;break;case"mousedown":hd=!0;break;case"contextmenu":case"mouseup":case"dragend":hd=!1,Ng(he,o,oe);break;case"selectionchange":if(kT)break;case"keydown":case"keyup":Ng(he,o,oe)}var mt;if(cd)e:{switch(r){case"compositionstart":var Rt="onCompositionStart";break e;case"compositionend":Rt="onCompositionEnd";break e;case"compositionupdate":Rt="onCompositionUpdate";break e}Rt=void 0}else va?xg(r,o)&&(Rt="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Rt="onCompositionStart");Rt&&(yg&&o.locale!=="ko"&&(va||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&va&&(mt=fg()):(ei=oe,rd="value"in ei?ei.value:ei.textContent,va=!0)),Ye=Gl(Z,Rt),0<Ye.length&&(Rt=new pg(Rt,r,null,o,oe),he.push({event:Rt,listeners:Ye}),mt?Rt.data=mt:(mt=bg(o),mt!==null&&(Rt.data=mt)))),(mt=CT?ET(r,o):TT(r,o))&&(Rt=Gl(Z,"onBeforeInput"),0<Rt.length&&(Ye=new pg("onBeforeInput","beforeinput",null,o,oe),he.push({event:Ye,listeners:Rt}),Ye.data=mt)),gR(he,r,Z,o,oe)}sx(he,i)})}function Wo(r,i,o){return{instance:r,listener:i,currentTarget:o}}function Gl(r,i){for(var o=i+"Capture",l=[];r!==null;){var p=r,m=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||m===null||(p=bo(r,o),p!=null&&l.unshift(Wo(r,p,m)),p=bo(r,i),p!=null&&l.push(Wo(r,p,m))),r.tag===3)return l;r=r.return}return[]}function SR(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function ax(r,i,o,l,p){for(var m=i._reactName,w=[];o!==null&&o!==l;){var O=o,z=O.alternate,Z=O.stateNode;if(O=O.tag,z!==null&&z===l)break;O!==5&&O!==26&&O!==27||Z===null||(z=Z,p?(Z=bo(o,m),Z!=null&&w.unshift(Wo(o,Z,z))):p||(Z=bo(o,m),Z!=null&&w.push(Wo(o,Z,z)))),o=o.return}w.length!==0&&r.push({event:i,listeners:w})}var _R=/\r\n?/g,wR=/\u0000|\uFFFD/g;function ox(r){return(typeof r=="string"?r:""+r).replace(_R,`
`).replace(wR,"")}function cx(r,i){return i=ox(i),ox(r)===i}function Gt(r,i,o,l,p,m){switch(o){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||It(r,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&It(r,""+l);break;case"className":ue(r,"class",l);break;case"tabIndex":ue(r,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ue(r,o,l);break;case"style":on(r,l,m);break;case"data":if(i!=="object"){ue(r,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(o);break}l=Wc(""+l),r.setAttribute(o,l);break;case"action":case"formAction":if(typeof l=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(i!=="input"&&Gt(r,i,"name",p.name,p,null),Gt(r,i,"formEncType",p.formEncType,p,null),Gt(r,i,"formMethod",p.formMethod,p,null),Gt(r,i,"formTarget",p.formTarget,p,null)):(Gt(r,i,"encType",p.encType,p,null),Gt(r,i,"method",p.method,p,null),Gt(r,i,"target",p.target,p,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(o);break}l=Wc(""+l),r.setAttribute(o,l);break;case"onClick":l!=null&&(r.onclick=Ss);break;case"onScroll":l!=null&&Ct("scroll",r);break;case"onScrollEnd":l!=null&&Ct("scrollend",r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(o=l.__html,o!=null){if(p.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"multiple":r.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":r.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){r.removeAttribute("xlink:href");break}o=Wc(""+l),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,""+l):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":l===!0?r.setAttribute(o,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,l):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?r.setAttribute(o,l):r.removeAttribute(o);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?r.removeAttribute(o):r.setAttribute(o,l);break;case"popover":Ct("beforetoggle",r),Ct("toggle",r),ye(r,"popover",l);break;case"xlinkActuate":ce(r,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ce(r,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ce(r,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ce(r,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ce(r,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ce(r,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ce(r,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ce(r,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ce(r,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ye(r,"is",l);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Nn.get(o)||o,ye(r,o,l))}}function zh(r,i,o,l,p,m){switch(o){case"style":on(r,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(o=l.__html,o!=null){if(p.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"children":typeof l=="string"?It(r,l):(typeof l=="number"||typeof l=="bigint")&&It(r,""+l);break;case"onScroll":l!=null&&Ct("scroll",r);break;case"onScrollEnd":l!=null&&Ct("scrollend",r);break;case"onClick":l!=null&&(r.onclick=Ss);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ge.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),i=o.slice(2,p?o.length-7:void 0),m=r[ae]||null,m=m!=null?m[o]:null,typeof m=="function"&&r.removeEventListener(i,m,p),typeof l=="function")){typeof m!="function"&&m!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,l,p);break e}o in r?r[o]=l:l===!0?r.setAttribute(o,""):ye(r,o,l)}}}function zn(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",r),Ct("load",r);var l=!1,p=!1,m;for(m in o)if(o.hasOwnProperty(m)){var w=o[m];if(w!=null)switch(m){case"src":l=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Gt(r,i,m,w,o,null)}}p&&Gt(r,i,"srcSet",o.srcSet,o,null),l&&Gt(r,i,"src",o.src,o,null);return;case"input":Ct("invalid",r);var O=m=w=p=null,z=null,Z=null;for(l in o)if(o.hasOwnProperty(l)){var oe=o[l];if(oe!=null)switch(l){case"name":p=oe;break;case"type":w=oe;break;case"checked":z=oe;break;case"defaultChecked":Z=oe;break;case"value":m=oe;break;case"defaultValue":O=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,i));break;default:Gt(r,i,l,oe,o,null)}}ft(r,m,O,z,Z,w,p,!1);return;case"select":Ct("invalid",r),l=w=m=null;for(p in o)if(o.hasOwnProperty(p)&&(O=o[p],O!=null))switch(p){case"value":m=O;break;case"defaultValue":w=O;break;case"multiple":l=O;default:Gt(r,i,p,O,o,null)}i=m,o=w,r.multiple=!!l,i!=null?pt(r,!!l,i,!1):o!=null&&pt(r,!!l,o,!0);return;case"textarea":Ct("invalid",r),m=p=l=null;for(w in o)if(o.hasOwnProperty(w)&&(O=o[w],O!=null))switch(w){case"value":l=O;break;case"defaultValue":p=O;break;case"children":m=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(91));break;default:Gt(r,i,w,O,o,null)}Nt(r,l,p,m);return;case"option":for(z in o)if(o.hasOwnProperty(z)&&(l=o[z],l!=null))switch(z){case"selected":r.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Gt(r,i,z,l,o,null)}return;case"dialog":Ct("beforetoggle",r),Ct("toggle",r),Ct("cancel",r),Ct("close",r);break;case"iframe":case"object":Ct("load",r);break;case"video":case"audio":for(l=0;l<Jo.length;l++)Ct(Jo[l],r);break;case"image":Ct("error",r),Ct("load",r);break;case"details":Ct("toggle",r);break;case"embed":case"source":case"link":Ct("error",r),Ct("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in o)if(o.hasOwnProperty(Z)&&(l=o[Z],l!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Gt(r,i,Z,l,o,null)}return;default:if(vn(i)){for(oe in o)o.hasOwnProperty(oe)&&(l=o[oe],l!==void 0&&zh(r,i,oe,l,o,void 0));return}}for(O in o)o.hasOwnProperty(O)&&(l=o[O],l!=null&&Gt(r,i,O,l,o,null))}function CR(r,i,o,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,m=null,w=null,O=null,z=null,Z=null,oe=null;for(se in o){var he=o[se];if(o.hasOwnProperty(se)&&he!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":z=he;default:l.hasOwnProperty(se)||Gt(r,i,se,null,l,he)}}for(var W in l){var se=l[W];if(he=o[W],l.hasOwnProperty(W)&&(se!=null||he!=null))switch(W){case"type":m=se;break;case"name":p=se;break;case"checked":Z=se;break;case"defaultChecked":oe=se;break;case"value":w=se;break;case"defaultValue":O=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(s(137,i));break;default:se!==he&&Gt(r,i,W,se,l,he)}}_t(r,w,O,z,Z,oe,m,p);return;case"select":se=w=O=W=null;for(m in o)if(z=o[m],o.hasOwnProperty(m)&&z!=null)switch(m){case"value":break;case"multiple":se=z;default:l.hasOwnProperty(m)||Gt(r,i,m,null,l,z)}for(p in l)if(m=l[p],z=o[p],l.hasOwnProperty(p)&&(m!=null||z!=null))switch(p){case"value":W=m;break;case"defaultValue":O=m;break;case"multiple":w=m;default:m!==z&&Gt(r,i,p,m,l,z)}i=O,o=w,l=se,W!=null?pt(r,!!o,W,!1):!!l!=!!o&&(i!=null?pt(r,!!o,i,!0):pt(r,!!o,o?[]:"",!1));return;case"textarea":se=W=null;for(O in o)if(p=o[O],o.hasOwnProperty(O)&&p!=null&&!l.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Gt(r,i,O,null,l,p)}for(w in l)if(p=l[w],m=o[w],l.hasOwnProperty(w)&&(p!=null||m!=null))switch(w){case"value":W=p;break;case"defaultValue":se=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==m&&Gt(r,i,w,p,l,m)}nn(r,W,se);return;case"option":for(var Be in o)if(W=o[Be],o.hasOwnProperty(Be)&&W!=null&&!l.hasOwnProperty(Be))switch(Be){case"selected":r.selected=!1;break;default:Gt(r,i,Be,null,l,W)}for(z in l)if(W=l[z],se=o[z],l.hasOwnProperty(z)&&W!==se&&(W!=null||se!=null))switch(z){case"selected":r.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:Gt(r,i,z,W,l,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in o)W=o[et],o.hasOwnProperty(et)&&W!=null&&!l.hasOwnProperty(et)&&Gt(r,i,et,null,l,W);for(Z in l)if(W=l[Z],se=o[Z],l.hasOwnProperty(Z)&&W!==se&&(W!=null||se!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:Gt(r,i,Z,W,l,se)}return;default:if(vn(i)){for(var Kt in o)W=o[Kt],o.hasOwnProperty(Kt)&&W!==void 0&&!l.hasOwnProperty(Kt)&&zh(r,i,Kt,void 0,l,W);for(oe in l)W=l[oe],se=o[oe],!l.hasOwnProperty(oe)||W===se||W===void 0&&se===void 0||zh(r,i,oe,W,l,se);return}}for(var F in o)W=o[F],o.hasOwnProperty(F)&&W!=null&&!l.hasOwnProperty(F)&&Gt(r,i,F,null,l,W);for(he in l)W=l[he],se=o[he],!l.hasOwnProperty(he)||W===se||W==null&&se==null||Gt(r,i,he,W,l,se)}function lx(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ER(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,o=performance.getEntriesByType("resource"),l=0;l<o.length;l++){var p=o[l],m=p.transferSize,w=p.initiatorType,O=p.duration;if(m&&O&&lx(w)){for(w=0,O=p.responseEnd,l+=1;l<o.length;l++){var z=o[l],Z=z.startTime;if(Z>O)break;var oe=z.transferSize,he=z.initiatorType;oe&&lx(he)&&(z=z.responseEnd,w+=oe*(z<O?1:(O-Z)/(z-Z)))}if(--l,i+=8*(m+w)/(p.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Ih=null,Bh=null;function Kl(r){return r.nodeType===9?r:r.ownerDocument}function ux(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fx(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Hh(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var $h=null;function TR(){var r=window.event;return r&&r.type==="popstate"?r===$h?!1:($h=r,!0):($h=null,!1)}var dx=typeof setTimeout=="function"?setTimeout:void 0,RR=typeof clearTimeout=="function"?clearTimeout:void 0,hx=typeof Promise=="function"?Promise:void 0,AR=typeof queueMicrotask=="function"?queueMicrotask:typeof hx<"u"?function(r){return hx.resolve(null).then(r).catch(OR)}:dx;function OR(r){setTimeout(function(){throw r})}function gi(r){return r==="head"}function px(r,i){var o=i,l=0;do{var p=o.nextSibling;if(r.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(l===0){r.removeChild(p),Ya(i);return}l--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")l++;else if(o==="html")ec(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,ec(o);for(var m=o.firstChild;m;){var w=m.nextSibling,O=m.nodeName;m[Ze]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=w}}else o==="body"&&ec(r.ownerDocument.body);o=p}while(o);Ya(i)}function mx(r,i){var o=r;r=0;do{var l=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),l&&l.nodeType===8)if(o=l.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=l}while(o)}function Vh(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Vh(o),tt(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function MR(r,i,o,l){for(;r.nodeType===1;){var p=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(l){if(!r[Ze])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var m=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=Or(r.nextSibling),r===null)break}return null}function PR(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Or(r.nextSibling),r===null))return null;return r}function yx(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=Or(r.nextSibling),r===null))return null;return r}function qh(r){return r.data==="$?"||r.data==="$~"}function Fh(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function NR(r,i){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||o.readyState!=="loading")i();else{var l=function(){i(),o.removeEventListener("DOMContentLoaded",l)};o.addEventListener("DOMContentLoaded",l),r._reactRetry=l}}function Or(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var Yh=null;function gx(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(i===0)return Or(r.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}r=r.nextSibling}return null}function vx(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return r;i--}else o!=="/$"&&o!=="/&"||i++}r=r.previousSibling}return null}function xx(r,i,o){switch(i=Kl(o),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function ec(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);tt(r)}var Mr=new Map,bx=new Set;function Xl(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Us=te.d;te.d={f:DR,r:kR,D:jR,C:LR,L:UR,m:zR,X:BR,S:IR,M:HR};function DR(){var r=Us.f(),i=Bl();return r||i}function kR(r){var i=nt(r);i!==null&&i.tag===5&&i.type==="form"?U0(i):Us.r(r)}var Va=typeof document>"u"?null:document;function Sx(r,i,o){var l=Va;if(l&&typeof i=="string"&&i){var p=it(i);p='link[rel="'+r+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),bx.has(p)||(bx.add(p),r={rel:r,crossOrigin:o,href:i},l.querySelector(p)===null&&(i=l.createElement("link"),zn(i,"link",r),Ie(i),l.head.appendChild(i)))}}function jR(r){Us.D(r),Sx("dns-prefetch",r,null)}function LR(r,i){Us.C(r,i),Sx("preconnect",r,i)}function UR(r,i,o){Us.L(r,i,o);var l=Va;if(l&&r&&i){var p='link[rel="preload"][as="'+it(i)+'"]';i==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+it(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+it(o.imageSizes)+'"]')):p+='[href="'+it(r)+'"]';var m=p;switch(i){case"style":m=qa(r);break;case"script":m=Fa(r)}Mr.has(m)||(r=g({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),Mr.set(m,r),l.querySelector(p)!==null||i==="style"&&l.querySelector(tc(m))||i==="script"&&l.querySelector(nc(m))||(i=l.createElement("link"),zn(i,"link",r),Ie(i),l.head.appendChild(i)))}}function zR(r,i){Us.m(r,i);var o=Va;if(o&&r){var l=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+it(l)+'"][href="'+it(r)+'"]',m=p;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Fa(r)}if(!Mr.has(m)&&(r=g({rel:"modulepreload",href:r},i),Mr.set(m,r),o.querySelector(p)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(nc(m)))return}l=o.createElement("link"),zn(l,"link",r),Ie(l),o.head.appendChild(l)}}}function IR(r,i,o){Us.S(r,i,o);var l=Va;if(l&&r){var p=We(l).hoistableStyles,m=qa(r);i=i||"default";var w=p.get(m);if(!w){var O={loading:0,preload:null};if(w=l.querySelector(tc(m)))O.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":i},o),(o=Mr.get(m))&&Gh(r,o);var z=w=l.createElement("link");Ie(z),zn(z,"link",r),z._p=new Promise(function(Z,oe){z.onload=Z,z.onerror=oe}),z.addEventListener("load",function(){O.loading|=1}),z.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Ql(w,i,l)}w={type:"stylesheet",instance:w,count:1,state:O},p.set(m,w)}}}function BR(r,i){Us.X(r,i);var o=Va;if(o&&r){var l=We(o).hoistableScripts,p=Fa(r),m=l.get(p);m||(m=o.querySelector(nc(p)),m||(r=g({src:r,async:!0},i),(i=Mr.get(p))&&Kh(r,i),m=o.createElement("script"),Ie(m),zn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(p,m))}}function HR(r,i){Us.M(r,i);var o=Va;if(o&&r){var l=We(o).hoistableScripts,p=Fa(r),m=l.get(p);m||(m=o.querySelector(nc(p)),m||(r=g({src:r,async:!0,type:"module"},i),(i=Mr.get(p))&&Kh(r,i),m=o.createElement("script"),Ie(m),zn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(p,m))}}function _x(r,i,o,l){var p=(p=Te.current)?Xl(p):null;if(!p)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=qa(o.href),o=We(p).hoistableStyles,l=o.get(i),l||(l={type:"style",instance:null,count:0,state:null},o.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=qa(o.href);var m=We(p).hoistableStyles,w=m.get(r);if(w||(p=p.ownerDocument||p,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,w),(m=p.querySelector(tc(r)))&&!m._p&&(w.instance=m,w.state.loading=5),Mr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Mr.set(r,o),m||$R(p,r,o,w.state))),i&&l===null)throw Error(s(528,""));return w}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Fa(o),o=We(p).hoistableScripts,l=o.get(i),l||(l={type:"script",instance:null,count:0,state:null},o.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function qa(r){return'href="'+it(r)+'"'}function tc(r){return'link[rel="stylesheet"]['+r+"]"}function wx(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function $R(r,i,o,l){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=r.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),zn(i,"link",o),Ie(i),r.head.appendChild(i))}function Fa(r){return'[src="'+it(r)+'"]'}function nc(r){return"script[async]"+r}function Cx(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var l=r.querySelector('style[data-href~="'+it(o.href)+'"]');if(l)return i.instance=l,Ie(l),l;var p=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return l=(r.ownerDocument||r).createElement("style"),Ie(l),zn(l,"style",p),Ql(l,o.precedence,r),i.instance=l;case"stylesheet":p=qa(o.href);var m=r.querySelector(tc(p));if(m)return i.state.loading|=4,i.instance=m,Ie(m),m;l=wx(o),(p=Mr.get(p))&&Gh(l,p),m=(r.ownerDocument||r).createElement("link"),Ie(m);var w=m;return w._p=new Promise(function(O,z){w.onload=O,w.onerror=z}),zn(m,"link",l),i.state.loading|=4,Ql(m,o.precedence,r),i.instance=m;case"script":return m=Fa(o.src),(p=r.querySelector(nc(m)))?(i.instance=p,Ie(p),p):(l=o,(p=Mr.get(m))&&(l=g({},o),Kh(l,p)),r=r.ownerDocument||r,p=r.createElement("script"),Ie(p),zn(p,"link",l),r.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Ql(l,o.precedence,r));return i.instance}function Ql(r,i,o){for(var l=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=l.length?l[l.length-1]:null,m=p,w=0;w<l.length;w++){var O=l[w];if(O.dataset.precedence===i)m=O;else if(m!==p)break}m?m.parentNode.insertBefore(r,m.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function Gh(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Kh(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Zl=null;function Ex(r,i,o){if(Zl===null){var l=new Map,p=Zl=new Map;p.set(o,l)}else p=Zl,l=p.get(o),l||(l=new Map,p.set(o,l));if(l.has(r))return l;for(l.set(r,null),o=o.getElementsByTagName(r),p=0;p<o.length;p++){var m=o[p];if(!(m[Ze]||m[q]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var w=m.getAttribute(i)||"";w=r+w;var O=l.get(w);O?O.push(m):l.set(w,[m])}}return l}function Tx(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function VR(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Rx(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function qR(r,i,o,l){if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=qa(l.href),m=i.querySelector(tc(p));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=Jl.bind(r),i.then(r,r)),o.state.loading|=4,o.instance=m,Ie(m);return}m=i.ownerDocument||i,l=wx(l),(p=Mr.get(p))&&Gh(l,p),m=m.createElement("link"),Ie(m);var w=m;w._p=new Promise(function(O,z){w.onload=O,w.onerror=z}),zn(m,"link",l),o.instance=m}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=Jl.bind(r),i.addEventListener("load",o),i.addEventListener("error",o))}}var Xh=0;function FR(r,i){return r.stylesheets&&r.count===0&&eu(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var l=setTimeout(function(){if(r.stylesheets&&eu(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4+i);0<r.imgBytes&&Xh===0&&(Xh=62500*ER());var p=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&eu(r,r.stylesheets),r.unsuspend)){var m=r.unsuspend;r.unsuspend=null,m()}},(r.imgBytes>Xh?50:800)+i);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(l),clearTimeout(p)}}:null}function Jl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)eu(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Wl=null;function eu(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Wl=new Map,i.forEach(YR,r),Wl=null,Jl.call(r))}function YR(r,i){if(!(i.state.loading&4)){var o=Wl.get(r);if(o)var l=o.get(null);else{o=new Map,Wl.set(r,o);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<p.length;m++){var w=p[m];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),l=w)}l&&o.set(null,l)}p=i.instance,w=p.getAttribute("data-precedence"),m=o.get(w)||l,m===l&&o.set(null,p),o.set(w,p),this.count++,l=Jl.bind(this),p.addEventListener("load",l),p.addEventListener("error",l),m?m.parentNode.insertBefore(p,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),i.state.loading|=4}}var rc={$$typeof:k,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function GR(r,i,o,l,p,m,w,O,z){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wr(0),this.hiddenUpdates=Wr(null),this.identifierPrefix=l,this.onUncaughtError=p,this.onCaughtError=m,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function Ax(r,i,o,l,p,m,w,O,z,Z,oe,he){return r=new GR(r,i,o,w,z,Z,oe,he,O),i=1,m===!0&&(i|=24),m=dr(3,null,null,i),r.current=m,m.stateNode=r,i=Ad(),i.refCount++,r.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:o,cache:i},Nd(m),r}function Ox(r){return r?(r=_a,r):_a}function Mx(r,i,o,l,p,m){p=Ox(p),l.context===null?l.context=p:l.pendingContext=p,l=ai(i),l.payload={element:o},m=m===void 0?null:m,m!==null&&(l.callback=m),o=oi(r,l,i),o!==null&&(ar(o,r,i),jo(o,r,i))}function Px(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function Qh(r,i){Px(r,i),(r=r.alternate)&&Px(r,i)}function Nx(r){if(r.tag===13||r.tag===31){var i=ji(r,67108864);i!==null&&ar(i,r,67108864),Qh(r,67108864)}}function Dx(r){if(r.tag===13||r.tag===31){var i=gr();i=A(i);var o=ji(r,i);o!==null&&ar(o,r,i),Qh(r,i)}}var tu=!0;function KR(r,i,o,l){var p=U.T;U.T=null;var m=te.p;try{te.p=2,Zh(r,i,o,l)}finally{te.p=m,U.T=p}}function XR(r,i,o,l){var p=U.T;U.T=null;var m=te.p;try{te.p=8,Zh(r,i,o,l)}finally{te.p=m,U.T=p}}function Zh(r,i,o,l){if(tu){var p=Jh(l);if(p===null)Uh(r,i,l,nu,o),jx(r,l);else if(ZR(p,r,i,o,l))l.stopPropagation();else if(jx(r,l),i&4&&-1<QR.indexOf(r)){for(;p!==null;){var m=nt(p);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var w=Lr(m.pendingLanes);if(w!==0){var O=m;for(O.pendingLanes|=2,O.entangledLanes|=2;w;){var z=1<<31-dn(w);O.entanglements[1]|=z,w&=~z}rs(m),(Lt&6)===0&&(zl=ct()+500,Zo(0))}}break;case 31:case 13:O=ji(m,2),O!==null&&ar(O,m,2),Bl(),Qh(m,2)}if(m=Jh(l),m===null&&Uh(r,i,l,nu,o),m===p)break;p=m}p!==null&&l.stopPropagation()}else Uh(r,i,l,null,o)}}function Jh(r){return r=ed(r),Wh(r)}var nu=null;function Wh(r){if(nu=null,r=rt(r),r!==null){var i=c(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=u(i),r!==null)return r;r=null}else if(o===31){if(r=f(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return nu=r,null}function kx(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ft()){case Tn:return 2;case Yn:return 8;case Rn:case jr:return 32;case Xs:return 268435456;default:return 32}default:return 32}}var ep=!1,vi=null,xi=null,bi=null,sc=new Map,ic=new Map,Si=[],QR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jx(r,i){switch(r){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":sc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ic.delete(i.pointerId)}}function ac(r,i,o,l,p,m){return r===null||r.nativeEvent!==m?(r={blockedOn:i,domEventName:o,eventSystemFlags:l,nativeEvent:m,targetContainers:[p]},i!==null&&(i=nt(i),i!==null&&Nx(i)),r):(r.eventSystemFlags|=l,i=r.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),r)}function ZR(r,i,o,l,p){switch(i){case"focusin":return vi=ac(vi,r,i,o,l,p),!0;case"dragenter":return xi=ac(xi,r,i,o,l,p),!0;case"mouseover":return bi=ac(bi,r,i,o,l,p),!0;case"pointerover":var m=p.pointerId;return sc.set(m,ac(sc.get(m)||null,r,i,o,l,p)),!0;case"gotpointercapture":return m=p.pointerId,ic.set(m,ac(ic.get(m)||null,r,i,o,l,p)),!0}return!1}function Lx(r){var i=rt(r.target);if(i!==null){var o=c(i);if(o!==null){if(i=o.tag,i===13){if(i=u(o),i!==null){r.blockedOn=i,P(r.priority,function(){Dx(o)});return}}else if(i===31){if(i=f(o),i!==null){r.blockedOn=i,P(r.priority,function(){Dx(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ru(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=Jh(r.nativeEvent);if(o===null){o=r.nativeEvent;var l=new o.constructor(o.type,o);Wf=l,o.target.dispatchEvent(l),Wf=null}else return i=nt(o),i!==null&&Nx(i),r.blockedOn=o,!1;i.shift()}return!0}function Ux(r,i,o){ru(r)&&o.delete(i)}function JR(){ep=!1,vi!==null&&ru(vi)&&(vi=null),xi!==null&&ru(xi)&&(xi=null),bi!==null&&ru(bi)&&(bi=null),sc.forEach(Ux),ic.forEach(Ux)}function su(r,i){r.blockedOn===i&&(r.blockedOn=null,ep||(ep=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,JR)))}var iu=null;function zx(r){iu!==r&&(iu=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){iu===r&&(iu=null);for(var i=0;i<r.length;i+=3){var o=r[i],l=r[i+1],p=r[i+2];if(typeof l!="function"){if(Wh(l||o)===null)continue;break}var m=nt(o);m!==null&&(r.splice(i,3),i-=3,Jd(m,{pending:!0,data:p,method:o.method,action:l},l,p))}}))}function Ya(r){function i(z){return su(z,r)}vi!==null&&su(vi,r),xi!==null&&su(xi,r),bi!==null&&su(bi,r),sc.forEach(i),ic.forEach(i);for(var o=0;o<Si.length;o++){var l=Si[o];l.blockedOn===r&&(l.blockedOn=null)}for(;0<Si.length&&(o=Si[0],o.blockedOn===null);)Lx(o),o.blockedOn===null&&Si.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(l=0;l<o.length;l+=3){var p=o[l],m=o[l+1],w=p[ae]||null;if(typeof m=="function")w||zx(o);else if(w){var O=null;if(m&&m.hasAttribute("formAction")){if(p=m,w=m[ae]||null)O=w.formAction;else if(Wh(p)!==null)continue}else O=w.action;typeof O=="function"?o[l+1]=O:(o.splice(l,3),l-=3),zx(o)}}}function Ix(){function r(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(w){return p=w})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),l||setTimeout(o,20)}function o(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,p=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){l=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function tp(r){this._internalRoot=r}au.prototype.render=tp.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,l=gr();Mx(o,l,r,i,null,null)},au.prototype.unmount=tp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Mx(r.current,2,null,r,null,null),Bl(),i[_e]=null}};function au(r){this._internalRoot=r}au.prototype.unstable_scheduleHydration=function(r){if(r){var i=v();r={blockedOn:null,target:r,priority:i};for(var o=0;o<Si.length&&i!==0&&i<Si[o].priority;o++);Si.splice(o,0,r),o===0&&Lx(r)}};var Bx=e.version;if(Bx!=="19.2.0")throw Error(s(527,Bx,"19.2.0"));te.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=h(i),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var WR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{Gn=ou.inject(WR),Xt=ou}catch{}}return cc.createRoot=function(r,i){if(!a(r))throw Error(s(299));var o=!1,l="",p=G0,m=K0,w=X0;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError)),i=Ax(r,1,!1,null,null,o,l,null,p,m,w,Ix),r[_e]=i.current,Lh(r),new tp(i)},cc.hydrateRoot=function(r,i,o){if(!a(r))throw Error(s(299));var l=!1,p="",m=G0,w=K0,O=X0,z=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.formState!==void 0&&(z=o.formState)),i=Ax(r,1,!0,i,o??null,l,p,z,m,w,O,Ix),i.context=Ox(null),o=i.current,l=gr(),l=A(l),p=ai(l),p.callback=null,oi(o,p,l),o=l,i.current.lanes=o,Ur(i,o),rs(i),r[_e]=i.current,Lh(r),new au(i)},cc.version="19.2.0",cc}var Zx;function c2(){if(Zx)return rp.exports;Zx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rp.exports=o2(),rp.exports}var l2=c2();const Za=new WeakMap,Au=new WeakMap,Fu={current:[]};let cp=!1,Cc=0;const bc=new Set,cu=new Map;function lS(t){const e=Array.from(t).sort((n,s)=>n instanceof Ja&&n.options.deps.includes(s)?1:s instanceof Ja&&s.options.deps.includes(n)?-1:0);for(const n of e){if(Fu.current.includes(n))continue;Fu.current.push(n),n.recompute();const s=Au.get(n);if(s)for(const a of s){const c=Za.get(a);c&&lS(c)}}}function u2(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function f2(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function uS(t){if(Cc>0&&!cu.has(t)&&cu.set(t,t.prevState),bc.add(t),!(Cc>0)&&!cp)try{for(cp=!0;bc.size>0;){const e=Array.from(bc);bc.clear();for(const n of e){const s=cu.get(n)??n.prevState;n.prevState=s,u2(n)}for(const n of e){const s=Za.get(n);s&&(Fu.current.push(n),lS(s))}for(const n of e){const s=Za.get(n);if(s)for(const a of s)f2(a)}}}finally{cp=!1,Fu.current=[],cu.clear()}}function Ec(t){Cc++;try{t()}finally{if(Cc--,Cc===0){const e=bc.values().next().value;e&&uS(e)}}}function d2(t){return typeof t=="function"}class Wp{constructor(e,n){this.listeners=new Set,this.subscribe=s=>{var a,c;this.listeners.add(s);const u=(c=(a=this.options)==null?void 0:a.onSubscribe)==null?void 0:c.call(a,s,this);return()=>{this.listeners.delete(s),u?.()}},this.prevState=e,this.state=e,this.options=n}setState(e){var n,s,a;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(e):d2(e)?this.state=e(this.prevState):this.state=e,(a=(s=this.options)==null?void 0:s.onUpdate)==null||a.call(s),uS(this)}}class Ja{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=this.options.deps.length,s=new Array(n),a=new Array(n);for(let c=0;c<n;c++){const u=this.options.deps[c];s[c]=u.prevState,a[c]=u.state}return this.lastSeenDepValues=a,{prevDepVals:s,currDepVals:a,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,s;this.prevState=this.state;const a=this.getDepVals();this.state=this.options.fn(a),(s=(n=this.options).onUpdate)==null||s.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const c of this.options.deps)c instanceof Ja&&c.checkIfRecalculationNeededDeeply();let n=!1;const s=this.lastSeenDepValues,{currDepVals:a}=this.getDepVals();for(let c=0;c<a.length;c++)if(a[c]!==s[c]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var s,a;this.listeners.add(n);const c=(a=(s=this.options).onSubscribe)==null?void 0:a.call(s,n,this);return()=>{this.listeners.delete(n),c?.()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const n of e)if(n instanceof Ja)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof Wp){let s=Za.get(n);s||(s=new Set,Za.set(n,s)),s.add(this);let a=Au.get(this);a||(a=new Set,Au.set(this,a)),a.add(n)}}unregisterFromGraph(e=this.options.deps){for(const n of e)if(n instanceof Ja)this.unregisterFromGraph(n.options.deps);else if(n instanceof Wp){const s=Za.get(n);s&&s.delete(this);const a=Au.get(this);a&&a.delete(n)}}}const Ei="__TSR_index",Jx="popstate",Wx="beforeunload";function h2(t){let e=t.getLocation();const n=new Set,s=u=>{e=t.getLocation(),n.forEach(f=>f({location:e,action:u}))},a=u=>{t.notifyOnIndexChange??!0?s(u):e=t.getLocation()},c=async({task:u,navigateOpts:f,...d})=>{if(f?.ignoreBlocker??!1){u();return}const y=t.getBlockers?.()??[],g=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&y.length&&g)for(const x of y){const S=Yu(d.path,d.state);if(await x.blockerFn({currentLocation:e,nextLocation:S,action:d.type})){t.onBlocked?.();return}}u()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:u=>(n.add(u),()=>{n.delete(u)}),push:(u,f,d)=>{const h=e.state[Ei];f=eb(h+1,f),c({task:()=>{t.pushState(u,f),s({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:u,state:f})},replace:(u,f,d)=>{const h=e.state[Ei];f=eb(h,f),c({task:()=>{t.replaceState(u,f),s({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:u,state:f})},go:(u,f)=>{c({task:()=>{t.go(u),a({type:"GO",index:u})},navigateOpts:f,type:"GO"})},back:u=>{c({task:()=>{t.back(u?.ignoreBlocker??!1),a({type:"BACK"})},navigateOpts:u,type:"BACK"})},forward:u=>{c({task:()=>{t.forward(u?.ignoreBlocker??!1),a({type:"FORWARD"})},navigateOpts:u,type:"FORWARD"})},canGoBack:()=>e.state[Ei]!==0,createHref:u=>t.createHref(u),block:u=>{if(!t.setBlockers)return()=>{};const f=t.getBlockers?.()??[];return t.setBlockers([...f,u]),()=>{const d=t.getBlockers?.()??[];t.setBlockers?.(d.filter(h=>h!==u))}},flush:()=>t.flush?.(),destroy:()=>t.destroy?.(),notify:s}}function eb(t,e){e||(e={});const n=Wm();return{...e,key:n,__TSR_key:n,[Ei]:t}}function p2(t){const e=typeof document<"u"?window:void 0,n=e.history.pushState,s=e.history.replaceState;let a=[];const c=()=>a,u=X=>a=X,f=(X=>X),d=(()=>Yu(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state));if(!e.history.state?.__TSR_key&&!e.history.state?.key){const X=Wm();e.history.replaceState({[Ei]:0,key:X,__TSR_key:X},"")}let h=d(),y,g=!1,x=!1,S=!1,C=!1;const E=()=>h;let M,N;const D=()=>{M&&(G._ignoreSubscribers=!0,(M.isPush?e.history.pushState:e.history.replaceState)(M.state,"",M.href),G._ignoreSubscribers=!1,M=void 0,N=void 0,y=void 0)},k=(X,pe,xe)=>{const Se=f(pe);N||(y=h),h=Yu(pe,xe),M={href:Se,state:xe,isPush:M?.isPush||X==="push"},N||(N=Promise.resolve().then(()=>D()))},j=X=>{h=d(),G.notify({type:X})},Y=async()=>{if(x){x=!1;return}const X=d(),pe=X.state[Ei]-h.state[Ei],xe=pe===1,Se=pe===-1,we=!xe&&!Se||g;g=!1;const Ce=we?"GO":Se?"BACK":"FORWARD",ge=we?{type:"GO",index:pe}:{type:Se?"BACK":"FORWARD"};if(S)S=!1;else{const De=c();if(typeof document<"u"&&De.length){for(const U of De)if(await U.blockerFn({currentLocation:h,nextLocation:X,action:Ce})){x=!0,e.history.go(1),G.notify(ge);return}}}h=d(),G.notify(ge)},J=X=>{if(C){C=!1;return}let pe=!1;const xe=c();if(typeof document<"u"&&xe.length)for(const Se of xe){const we=Se.enableBeforeUnload??!0;if(we===!0){pe=!0;break}if(typeof we=="function"&&we()===!0){pe=!0;break}}if(pe)return X.preventDefault(),X.returnValue=""},G=h2({getLocation:E,getLength:()=>e.history.length,pushState:(X,pe)=>k("push",X,pe),replaceState:(X,pe)=>k("replace",X,pe),back:X=>(X&&(S=!0),C=!0,e.history.back()),forward:X=>{X&&(S=!0),C=!0,e.history.forward()},go:X=>{g=!0,e.history.go(X)},createHref:X=>f(X),flush:D,destroy:()=>{e.history.pushState=n,e.history.replaceState=s,e.removeEventListener(Wx,J,{capture:!0}),e.removeEventListener(Jx,Y)},onBlocked:()=>{y&&h!==y&&(h=y)},getBlockers:c,setBlockers:u,notifyOnIndexChange:!1});return e.addEventListener(Wx,J,{capture:!0}),e.addEventListener(Jx,Y),e.history.pushState=function(...X){const pe=n.apply(e.history,X);return G._ignoreSubscribers||j("PUSH"),pe},e.history.replaceState=function(...X){const pe=s.apply(e.history,X);return G._ignoreSubscribers||j("REPLACE"),pe},G}function Yu(t,e){const n=t.indexOf("#"),s=t.indexOf("?"),a=Wm();return{href:t,pathname:t.substring(0,n>0?s>0?Math.min(n,s):n:s>0?s:t.length),hash:n>-1?t.substring(n):"",search:s>-1?t.slice(s,n===-1?void 0:n):"",state:e||{[Ei]:0,key:a,__TSR_key:a}}}function Wm(){return(Math.random()+1).toString(36).substring(7)}function em(t){return t[t.length-1]}function m2(t){return typeof t=="function"}function na(t,e){return m2(t)?t(e):t}const y2=Object.prototype.hasOwnProperty;function Pr(t,e){if(t===e)return t;const n=e,s=rb(t)&&rb(n);if(!s&&!(Gu(t)&&Gu(n)))return n;const a=s?t:tb(t);if(!a)return n;const c=s?n:tb(n);if(!c)return n;const u=a.length,f=c.length,d=s?new Array(f):{};let h=0;for(let y=0;y<f;y++){const g=s?y:c[y],x=t[g],S=n[g];if(x===S){d[g]=x,(s?y<u:y2.call(t,g))&&h++;continue}if(x===null||S===null||typeof x!="object"||typeof S!="object"){d[g]=S;continue}const C=Pr(x,S);d[g]=C,C===x&&h++}return u===f&&h===u?t:d}function tb(t){const e=[],n=Object.getOwnPropertyNames(t);for(const a of n){if(!Object.prototype.propertyIsEnumerable.call(t,a))return!1;e.push(a)}const s=Object.getOwnPropertySymbols(t);for(const a of s){if(!Object.prototype.propertyIsEnumerable.call(t,a))return!1;e.push(a)}return e}function Gu(t){if(!nb(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!nb(n)||!n.hasOwnProperty("isPrototypeOf"))}function nb(t){return Object.prototype.toString.call(t)==="[object Object]"}function rb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ra(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let s=0,a=t.length;s<a;s++)if(!ra(t[s],e[s],n))return!1;return!0}if(Gu(t)&&Gu(e)){const s=n?.ignoreUndefined??!0;if(n?.partial){for(const u in e)if((!s||e[u]!==void 0)&&!ra(t[u],e[u],n))return!1;return!0}let a=0;if(!s)a=Object.keys(t).length;else for(const u in t)t[u]!==void 0&&a++;let c=0;for(const u in e)if((!s||e[u]!==void 0)&&(c++,c>a||!ra(t[u],e[u],n)))return!1;return a===c}return!1}function ro(t){let e,n;const s=new Promise((a,c)=>{e=a,n=c});return s.status="pending",s.resolve=a=>{s.status="resolved",s.value=a,e(a),t?.(a)},s.reject=a=>{s.status="rejected",n(a)},s}function Ti(t){return!!(t&&typeof t=="object"&&typeof t.then=="function")}var g2="Invariant failed";function Ys(t,e){if(!t)throw new Error(g2)}const cr="__root__",ls=0,oa=1,so=2,io=3;function Vs(t){return ey(t.filter(e=>e!==void 0).join("/"))}function ey(t){return t.replace(/\/{2,}/g,"/")}function ty(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Ri(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function Ou(t){return Ri(ty(t))}function Ku(t,e){return t?.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function v2(t,e,n){return Ku(t,n)===Ku(e,n)}function x2(t){const{type:e,value:n}=t;if(e===ls)return n;const{prefixSegment:s,suffixSegment:a}=t;if(e===oa){const c=n.substring(1);if(s&&a)return`${s}{$${c}}${a}`;if(s)return`${s}{$${c}}`;if(a)return`{$${c}}${a}`}if(e===io){const c=n.substring(1);return s&&a?`${s}{-$${c}}${a}`:s?`${s}{-$${c}}`:a?`{-$${c}}${a}`:`{-$${c}}`}if(e===so){if(s&&a)return`${s}{$}${a}`;if(s)return`${s}{$}`;if(a)return`{$}${a}`}return n}function b2({base:t,to:e,trailingSlash:n="never",parseCache:s}){let a=fS(t,s).slice();const c=Sf(e,s);a.length>1&&em(a)?.value==="/"&&a.pop();for(let d=0,h=c.length;d<h;d++){const y=c[d],g=y.value;g==="/"?d?d===h-1&&a.push(y):a=[y]:g===".."?a.pop():g==="."||a.push(y)}a.length>1&&(em(a).value==="/"?n==="never"&&a.pop():n==="always"&&a.push({type:ls,value:"/"}));const u=a.map(x2);return Vs(u)}const fS=(t,e)=>dS(t,e,!0),Sf=(t,e)=>dS(t,e,!1),dS=(t,e,n)=>{if(!t)return[];const s=e?.get(t);if(s)return s;const a=T2(t,n);return e?.set(t,a),a},S2=/^\$.{1,}$/,_2=/^(.*?)\{(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,w2=/^(.*?)\{-(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,C2=/^\$$/,E2=/^(.*?)\{\$\}(.*)$/;function T2(t,e){t=ey(t);const n=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),n.push({type:ls,value:"/"})),!t)return n;const s=t.split("/").filter(Boolean);return n.push(...s.map(a=>{const c=!e&&a!==cr&&a.slice(-1)==="_"?a.slice(0,-1):a,u=c.match(E2);if(u){const h=u[1],y=u[2];return{type:so,value:"$",prefixSegment:h||void 0,suffixSegment:y||void 0}}const f=c.match(w2);if(f){const h=f[1],y=f[2],g=f[3];return{type:io,value:y,prefixSegment:h||void 0,suffixSegment:g||void 0}}const d=c.match(_2);if(d){const h=d[1],y=d[2],g=d[3];return{type:oa,value:""+y,prefixSegment:h||void 0,suffixSegment:g||void 0}}if(S2.test(c)){const h=c.substring(1);return{type:oa,value:"$"+h,prefixSegment:void 0,suffixSegment:void 0}}return C2.test(c)?{type:so,value:"$",prefixSegment:void 0,suffixSegment:void 0}:{type:ls,value:c.includes("%25")?c.split("%25").map(h=>decodeURI(h)).join("%25"):decodeURI(c)}})),t.slice(-1)==="/"&&(t=t.substring(1),n.push({type:ls,value:"/"})),n}function lu({path:t,params:e,leaveWildcards:n,leaveParams:s,decodeCharMap:a,parseCache:c}){const u=Sf(t,c);function f(g){const x=e[g],S=typeof x=="string";return g==="*"||g==="_splat"?S?encodeURI(x):x:S?R2(x,a):x}let d=!1;const h={},y=Vs(u.map(g=>{if(g.type===ls)return g.value;if(g.type===so){h._splat=e._splat,h["*"]=e._splat;const x=g.prefixSegment||"",S=g.suffixSegment||"";if(!e._splat)return d=!0,n?`${x}${g.value}${S}`:x||S?`${x}${S}`:void 0;const C=f("_splat");return n?`${x}${g.value}${C??""}${S}`:`${x}${C}${S}`}if(g.type===oa){const x=g.value.substring(1);!d&&!(x in e)&&(d=!0),h[x]=e[x];const S=g.prefixSegment||"",C=g.suffixSegment||"";if(s){const E=f(g.value);return`${S}${g.value}${E??""}${C}`}return`${S}${f(x)??"undefined"}${C}`}if(g.type===io){const x=g.value.substring(1),S=g.prefixSegment||"",C=g.suffixSegment||"";if(!(x in e)||e[x]==null)return n?`${S}${x}${C}`:S||C?`${S}${C}`:void 0;if(h[x]=e[x],s){const E=f(g.value);return`${S}${g.value}${E??""}${C}`}return n?`${S}${x}${f(x)??""}${C}`:`${S}${f(x)??""}${C}`}return g.value}));return{usedParams:h,interpolatedPath:y,isMissingParams:d}}function R2(t,e){let n=encodeURIComponent(t);if(e)for(const[s,a]of e)n=n.replaceAll(s,a);return n}function tm(t,e,n){const s=A2(t,e,n);if(!(e.to&&!s))return s??{}}function A2(t,{to:e,fuzzy:n,caseSensitive:s},a){const c=e,u=fS(t.startsWith("/")?t:`/${t}`,a),f=Sf(c.startsWith("/")?c:`/${c}`,a),d={};return O2(u,f,d,n,s)?d:void 0}function O2(t,e,n,s,a){let c=0,u=0;for(;c<t.length||u<e.length;){const f=t[c],d=e[u];if(d){if(d.type===so){const h=t.slice(c);let y;if(d.prefixSegment||d.suffixSegment){if(!f)return!1;const g=d.prefixSegment||"",x=d.suffixSegment||"",S=f.value;if("prefixSegment"in d&&!S.startsWith(g)||"suffixSegment"in d&&!t[t.length-1]?.value.endsWith(x))return!1;let C=decodeURI(Vs(h.map(E=>E.value)));g&&C.startsWith(g)&&(C=C.slice(g.length)),x&&C.endsWith(x)&&(C=C.slice(0,C.length-x.length)),y=C}else y=decodeURI(Vs(h.map(g=>g.value)));return n["*"]=y,n._splat=y,!0}if(d.type===ls){if(d.value==="/"&&!f?.value){u++;continue}if(f){if(a){if(d.value!==f.value)return!1}else if(d.value.toLowerCase()!==f.value.toLowerCase())return!1;c++,u++;continue}else return!1}if(d.type===oa){if(!f||f.value==="/")return!1;let h="",y=!1;if(d.prefixSegment||d.suffixSegment){const g=d.prefixSegment||"",x=d.suffixSegment||"",S=f.value;if(g&&!S.startsWith(g)||x&&!S.endsWith(x))return!1;let C=S;g&&C.startsWith(g)&&(C=C.slice(g.length)),x&&C.endsWith(x)&&(C=C.slice(0,C.length-x.length)),h=decodeURIComponent(C),y=!0}else h=decodeURIComponent(f.value),y=!0;y&&(n[d.value.substring(1)]=h,c++),u++;continue}if(d.type===io){if(!f){u++;continue}if(f.value==="/"){u++;continue}let h="",y=!1;if(d.prefixSegment||d.suffixSegment){const g=d.prefixSegment||"",x=d.suffixSegment||"",S=f.value;if((!g||S.startsWith(g))&&(!x||S.endsWith(x))){let C=S;g&&C.startsWith(g)&&(C=C.slice(g.length)),x&&C.endsWith(x)&&(C=C.slice(0,C.length-x.length)),h=decodeURIComponent(C),y=!0}}else{let g=!0;for(let x=u+1;x<e.length;x++){const S=e[x];if(S?.type===ls&&S.value===f.value){g=!1;break}if(S?.type===oa||S?.type===so){t.length<e.length&&(g=!1);break}}g&&(h=decodeURIComponent(f.value),y=!0)}y&&(n[d.value.substring(1)]=h,c++),u++;continue}}if(c<t.length&&u>=e.length)return n["**"]=Vs(t.slice(c).map(h=>h.value)),!!s&&e[e.length-1]?.value!=="/";if(u<e.length&&c>=t.length){for(let h=u;h<e.length;h++)if(e[h]?.type!==io)return!1;break}break}return!0}const M2=.75,P2=1,N2=.5,D2=.4,k2=.25,j2=.2,L2=.05,U2=.02,z2=.01,sb=2e-4,ib=1e-4;function ab(t,e){return t.prefixSegment&&t.suffixSegment?e+L2+sb*t.prefixSegment.length+ib*t.suffixSegment.length:t.prefixSegment?e+U2+sb*t.prefixSegment.length:t.suffixSegment?e+z2+ib*t.suffixSegment.length:e}function I2(t){const e=[];return t.forEach((s,a)=>{if(s.isRoot||!s.path)return;const c=ty(s.fullPath);let u=Sf(c),f=0;for(;u.length>f+1&&u[f]?.value==="/";)f++;f>0&&(u=u.slice(f));let d=0,h=!1;const y=u.map((g,x)=>{if(g.value==="/")return M2;if(g.type===ls)return P2;let S;g.type===oa?S=N2:g.type===io?(S=D2,d++):S=k2;for(let C=x+1;C<u.length;C++){const E=u[C];if(E.type===ls&&E.value!=="/")return h=!0,ab(g,S+j2)}return ab(g,S)});e.push({child:s,trimmed:c,parsed:u,index:a,scores:y,optionalParamCount:d,hasStaticAfter:h})}),e.sort((s,a)=>{const c=Math.min(s.scores.length,a.scores.length);for(let u=0;u<c;u++)if(s.scores[u]!==a.scores[u])return a.scores[u]-s.scores[u];if(s.scores.length!==a.scores.length){if(s.optionalParamCount!==a.optionalParamCount){if(s.hasStaticAfter===a.hasStaticAfter)return s.optionalParamCount-a.optionalParamCount;if(s.hasStaticAfter&&!a.hasStaticAfter)return-1;if(!s.hasStaticAfter&&a.hasStaticAfter)return 1}return a.scores.length-s.scores.length}for(let u=0;u<c;u++)if(s.parsed[u].value!==a.parsed[u].value)return s.parsed[u].value>a.parsed[u].value?1:-1;return s.index-a.index}).map((s,a)=>(s.child.rank=a,s.child))}function B2({routeTree:t,initRoute:e}){const n={},s={},a=u=>{u.forEach((f,d)=>{e?.(f,d);const h=n[f.id];if(Ys(!h,`Duplicate routes found with id: ${String(f.id)}`),n[f.id]=f,!f.isRoot&&f.path){const g=Ri(f.fullPath);(!s[g]||f.fullPath.endsWith("/"))&&(s[g]=f)}const y=f.children;y?.length&&a(y)})};a([t]);const c=I2(Object.values(n));return{routesById:n,routesByPath:s,flatRoutes:c}}function Yr(t){return!!t?.isNotFound}function H2(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const Xu="tsr-scroll-restoration-v1_3",$2=(t,e)=>{let n;return(...s)=>{n||(n=setTimeout(()=>{t(...s),n=null},e))}};function V2(){const t=H2();if(!t)return null;const e=t.getItem(Xu);let n=e?JSON.parse(e):{};return{state:n,set:s=>(n=na(s,n)||n,t.setItem(Xu,JSON.stringify(n)))}}const uu=V2(),nm=t=>t.state.__TSR_key||t.href;function q2(t){const e=[];let n;for(;n=t.parentNode;)e.push(`${t.tagName}:nth-child(${Array.prototype.indexOf.call(n.children,t)+1})`),t=n;return`${e.reverse().join(" > ")}`.toLowerCase()}let Qu=!1;function hS({storageKey:t,key:e,behavior:n,shouldScrollRestoration:s,scrollToTopSelectors:a,location:c}){let u;try{u=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(h){console.error(h);return}const f=e||window.history.state?.__TSR_key,d=u[f];Qu=!0;e:{if(s&&d&&Object.keys(d).length>0){for(const g in d){const x=d[g];if(g==="window")window.scrollTo({top:x.scrollY,left:x.scrollX,behavior:n});else if(g){const S=document.querySelector(g);S&&(S.scrollLeft=x.scrollX,S.scrollTop=x.scrollY)}}break e}const h=(c??window.location).hash.split("#",2)[1];if(h){const g=window.history.state?.__hashScrollIntoViewOptions??!0;if(g){const x=document.getElementById(h);x&&x.scrollIntoView(g)}break e}const y={top:0,left:0,behavior:n};if(window.scrollTo(y),a)for(const g of a){if(g==="window")continue;const x=typeof g=="function"?g():document.querySelector(g);x&&x.scrollTo(y)}}Qu=!1}function F2(t,e){if(!uu&&!t.isServer||((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),t.isServer||t.isScrollRestorationSetup||!uu))return;t.isScrollRestorationSetup=!0,Qu=!1;const s=t.options.getScrollRestorationKey||nm;window.history.scrollRestoration="manual";const a=c=>{if(Qu||!t.isScrollRestoring)return;let u="";if(c.target===document||c.target===window)u="window";else{const d=c.target.getAttribute("data-scroll-restoration-id");d?u=`[data-scroll-restoration-id="${d}"]`:u=q2(c.target)}const f=s(t.state.location);uu.set(d=>{const h=d[f]||={},y=h[u]||={};if(u==="window")y.scrollX=window.scrollX||0,y.scrollY=window.scrollY||0;else if(u){const g=document.querySelector(u);g&&(y.scrollX=g.scrollLeft||0,y.scrollY=g.scrollTop||0)}return d})};typeof document<"u"&&document.addEventListener("scroll",$2(a,100),!0),t.subscribe("onRendered",c=>{const u=s(c.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation})||(hS({storageKey:Xu,key:u,behavior:t.options.scrollRestorationBehavior,shouldScrollRestoration:t.isScrollRestoring,scrollToTopSelectors:t.options.scrollToTopSelectors,location:t.history.location}),t.isScrollRestoring&&uu.set(f=>(f[u]||={},f)))})}function Y2(t){if(typeof document<"u"&&document.querySelector){const e=t.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&t.state.location.hash!==""){const n=document.getElementById(t.state.location.hash);n&&n.scrollIntoView(e)}}}function G2(t,e=String){const n=new URLSearchParams;for(const s in t){const a=t[s];a!==void 0&&n.set(s,e(a))}return n.toString()}function lp(t){return t?t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t:""}function K2(t){const e=new URLSearchParams(t),n={};for(const[s,a]of e.entries()){const c=n[s];c==null?n[s]=lp(a):Array.isArray(c)?c.push(lp(a)):n[s]=[c,lp(a)]}return n}const X2=Z2(JSON.parse),Q2=J2(JSON.stringify,JSON.parse);function Z2(t){return e=>{e[0]==="?"&&(e=e.substring(1));const n=K2(e);for(const s in n){const a=n[s];if(typeof a=="string")try{n[s]=t(a)}catch{}}return n}}function J2(t,e){const n=typeof e=="function";function s(a){if(typeof a=="object"&&a!==null)try{return t(a)}catch{}else if(n&&typeof a=="string")try{return e(a),t(a)}catch{}return a}return a=>{const c=G2(a,s);return c?`?${c}`:""}}function W2(t){if(t.statusCode=t.statusCode||t.code||307,!t.reloadDocument&&typeof t.href=="string")try{new URL(t.href),t.reloadDocument=!0}catch{}const e=new Headers(t.headers);t.href&&e.get("Location")===null&&e.set("Location",t.href);const n=new Response(null,{status:t.statusCode,headers:e});if(n.options=t,t.throw)throw n;return n}function as(t){return t instanceof Response&&!!t.options}function eA(t){const e=new Map;let n,s;const a=c=>{c.next&&(c.prev?(c.prev.next=c.next,c.next.prev=c.prev,c.next=void 0,s&&(s.next=c,c.prev=s)):(c.next.prev=void 0,n=c.next,c.next=void 0,s&&(c.prev=s,s.next=c)),s=c)};return{get(c){const u=e.get(c);if(u)return a(u),u.value},set(c,u){if(e.size>=t&&n){const d=n;e.delete(d.key),d.next&&(n=d.next,d.next.prev=void 0),d===s&&(s=void 0)}const f=e.get(c);if(f)f.value=u,a(f);else{const d={key:c,value:u,prev:s};s&&(s.next=d),s=d,n||(n=d),e.set(c,d)}}}}const Mu=t=>{if(!t.rendered)return t.rendered=!0,t.onReady?.()},_f=(t,e)=>!!(t.preload&&!t.router.state.matches.some(n=>n.id===e)),pS=(t,e)=>{const n=t.router.routesById[e.routeId??""]??t.router.routeTree;!n.options.notFoundComponent&&t.router.options?.defaultNotFoundComponent&&(n.options.notFoundComponent=t.router.options.defaultNotFoundComponent),Ys(n.options.notFoundComponent);const s=t.matches.find(a=>a.routeId===n.id);Ys(s,"Could not find match for route: "+n.id),t.updateMatch(s.id,a=>({...a,status:"notFound",error:e,isFetching:!1})),e.routerCode==="BEFORE_LOAD"&&n.parentRoute&&(e.routeId=n.parentRoute.id,pS(t,e))},Ci=(t,e,n)=>{if(!(!as(n)&&!Yr(n))){if(as(n)&&n.redirectHandled&&!n.options.reloadDocument)throw n;if(e){e._nonReactive.beforeLoadPromise?.resolve(),e._nonReactive.loaderPromise?.resolve(),e._nonReactive.beforeLoadPromise=void 0,e._nonReactive.loaderPromise=void 0;const s=as(n)?"redirected":"notFound";t.updateMatch(e.id,a=>({...a,status:s,isFetching:!1,error:n})),Yr(n)&&!n.routeId&&(n.routeId=e.routeId),e._nonReactive.loadPromise?.resolve()}throw as(n)?(t.rendered=!0,n.options._fromLocation=t.location,n.redirectHandled=!0,n=t.router.resolveRedirect(n),n):(pS(t,n),n)}},mS=(t,e)=>{const n=t.router.getMatch(e);return!!(!t.router.isServer&&n._nonReactive.dehydrated||t.router.isServer&&n.ssr===!1)},lc=(t,e,n,s)=>{const{id:a,routeId:c}=t.matches[e],u=t.router.looseRoutesById[c];if(n instanceof Promise)throw n;n.routerCode=s,t.firstBadMatchIndex??=e,Ci(t,t.router.getMatch(a),n);try{u.options.onError?.(n)}catch(f){n=f,Ci(t,t.router.getMatch(a),n)}t.updateMatch(a,f=>(f._nonReactive.beforeLoadPromise?.resolve(),f._nonReactive.beforeLoadPromise=void 0,f._nonReactive.loadPromise?.resolve(),{...f,error:n,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},tA=(t,e,n,s)=>{const a=t.router.getMatch(e),c=t.matches[n-1]?.id,u=c?t.router.getMatch(c):void 0;if(t.router.isShell()){a.ssr=e===cr;return}if(u?.ssr===!1){a.ssr=!1;return}const f=S=>S===!0&&u?.ssr==="data-only"?"data-only":S,d=t.router.options.defaultSsr??!0;if(s.options.ssr===void 0){a.ssr=f(d);return}if(typeof s.options.ssr!="function"){a.ssr=f(s.options.ssr);return}const{search:h,params:y}=a,g={search:fu(h,a.searchError),params:fu(y,a.paramsError),location:t.location,matches:t.matches.map(S=>({index:S.index,pathname:S.pathname,fullPath:S.fullPath,staticData:S.staticData,id:S.id,routeId:S.routeId,search:fu(S.search,S.searchError),params:fu(S.params,S.paramsError),ssr:S.ssr}))},x=s.options.ssr(g);if(Ti(x))return x.then(S=>{a.ssr=f(S??d)});a.ssr=f(x??d)},yS=(t,e,n,s)=>{if(s._nonReactive.pendingTimeout!==void 0)return;const a=n.options.pendingMs??t.router.options.defaultPendingMs;if(!!(t.onReady&&!t.router.isServer&&!_f(t,e)&&(n.options.loader||n.options.beforeLoad||xS(n))&&typeof a=="number"&&a!==1/0&&(n.options.pendingComponent??t.router.options?.defaultPendingComponent))){const u=setTimeout(()=>{Mu(t)},a);s._nonReactive.pendingTimeout=u}},nA=(t,e,n)=>{const s=t.router.getMatch(e);if(!s._nonReactive.beforeLoadPromise&&!s._nonReactive.loaderPromise)return;yS(t,e,n,s);const a=()=>{const c=t.router.getMatch(e);c.preload&&(c.status==="redirected"||c.status==="notFound")&&Ci(t,c,c.error)};return s._nonReactive.beforeLoadPromise?s._nonReactive.beforeLoadPromise.then(a):a()},rA=(t,e,n,s)=>{const a=t.router.getMatch(e),c=a._nonReactive.loadPromise;a._nonReactive.loadPromise=ro(()=>{c?.resolve()});const{paramsError:u,searchError:f}=a;u&&lc(t,n,u,"PARSE_PARAMS"),f&&lc(t,n,f,"VALIDATE_SEARCH"),yS(t,e,s,a);const d=new AbortController,h=t.matches[n-1]?.id,x={...(h?t.router.getMatch(h):void 0)?.context??t.router.options.context??void 0,...a.__routeContext};let S=!1;const C=()=>{S||(S=!0,t.updateMatch(e,G=>({...G,isFetching:"beforeLoad",fetchCount:G.fetchCount+1,abortController:d,context:x})))},E=()=>{a._nonReactive.beforeLoadPromise?.resolve(),a._nonReactive.beforeLoadPromise=void 0,t.updateMatch(e,G=>({...G,isFetching:!1}))};if(!s.options.beforeLoad){Ec(()=>{C(),E()});return}a._nonReactive.beforeLoadPromise=ro();const{search:M,params:N,cause:D}=a,k=_f(t,e),j={search:M,abortController:d,params:N,preload:k,context:x,location:t.location,navigate:G=>t.router.navigate({...G,_fromLocation:t.location}),buildLocation:t.router.buildLocation,cause:k?"preload":D,matches:t.matches,...t.router.options.additionalContext},Y=G=>{if(G===void 0){Ec(()=>{C(),E()});return}(as(G)||Yr(G))&&(C(),lc(t,n,G,"BEFORE_LOAD")),Ec(()=>{C(),t.updateMatch(e,X=>({...X,__beforeLoadContext:G,context:{...X.context,...G}})),E()})};let J;try{if(J=s.options.beforeLoad(j),Ti(J))return C(),J.catch(G=>{lc(t,n,G,"BEFORE_LOAD")}).then(Y)}catch(G){C(),lc(t,n,G,"BEFORE_LOAD")}Y(J)},sA=(t,e)=>{const{id:n,routeId:s}=t.matches[e],a=t.router.looseRoutesById[s],c=()=>{if(t.router.isServer){const d=tA(t,n,e,a);if(Ti(d))return d.then(f)}return f()},u=()=>rA(t,n,e,a),f=()=>{if(mS(t,n))return;const d=nA(t,n,a);return Ti(d)?d.then(u):u()};return c()},Tc=(t,e,n)=>{const s=t.router.getMatch(e);if(!s||!n.options.head&&!n.options.scripts&&!n.options.headers)return;const a={matches:t.matches,match:s,params:s.params,loaderData:s.loaderData};return Promise.all([n.options.head?.(a),n.options.scripts?.(a),n.options.headers?.(a)]).then(([c,u,f])=>{const d=c?.meta,h=c?.links,y=c?.scripts,g=c?.styles;return{meta:d,links:h,headScripts:y,headers:f,scripts:u,styles:g}})},gS=(t,e,n,s)=>{const a=t.matchPromises[n-1],{params:c,loaderDeps:u,abortController:f,context:d,cause:h}=t.router.getMatch(e),y=_f(t,e);return{params:c,deps:u,preload:!!y,parentMatchPromise:a,abortController:f,context:d,location:t.location,navigate:g=>t.router.navigate({...g,_fromLocation:t.location}),cause:y?"preload":h,route:s,...t.router.options.additionalContext}},ob=async(t,e,n,s)=>{try{const a=t.router.getMatch(e);try{(!t.router.isServer||a.ssr===!0)&&vS(s);const c=s.options.loader?.(gS(t,e,n,s)),u=s.options.loader&&Ti(c);if(!!(u||s._lazyPromise||s._componentsPromise||s.options.head||s.options.scripts||s.options.headers||a._nonReactive.minPendingPromise)&&t.updateMatch(e,g=>({...g,isFetching:"loader"})),s.options.loader){const g=u?await c:c;Ci(t,t.router.getMatch(e),g),g!==void 0&&t.updateMatch(e,x=>({...x,loaderData:g}))}s._lazyPromise&&await s._lazyPromise;const d=Tc(t,e,s),h=d?await d:void 0,y=a._nonReactive.minPendingPromise;y&&await y,s._componentsPromise&&await s._componentsPromise,t.updateMatch(e,g=>({...g,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),...h}))}catch(c){let u=c;const f=a._nonReactive.minPendingPromise;f&&await f,Yr(c)&&await s.options.notFoundComponent?.preload?.(),Ci(t,t.router.getMatch(e),c);try{s.options.onError?.(c)}catch(y){u=y,Ci(t,t.router.getMatch(e),y)}const d=Tc(t,e,s),h=d?await d:void 0;t.updateMatch(e,y=>({...y,error:u,status:"error",isFetching:!1,...h}))}}catch(a){const c=t.router.getMatch(e);if(c){const u=Tc(t,e,s);if(u){const f=await u;t.updateMatch(e,d=>({...d,...f}))}c._nonReactive.loaderPromise=void 0}Ci(t,c,a)}},iA=async(t,e)=>{const{id:n,routeId:s}=t.matches[e];let a=!1,c=!1;const u=t.router.looseRoutesById[s];if(mS(t,n)){if(t.router.isServer){const h=Tc(t,n,u);if(h){const y=await h;t.updateMatch(n,g=>({...g,...y}))}return t.router.getMatch(n)}}else{const h=t.router.getMatch(n);if(h._nonReactive.loaderPromise){if(h.status==="success"&&!t.sync&&!h.preload)return h;await h._nonReactive.loaderPromise;const y=t.router.getMatch(n);y.error&&Ci(t,y,y.error)}else{const y=Date.now()-h.updatedAt,g=_f(t,n),x=g?u.options.preloadStaleTime??t.router.options.defaultPreloadStaleTime??3e4:u.options.staleTime??t.router.options.defaultStaleTime??0,S=u.options.shouldReload,C=typeof S=="function"?S(gS(t,n,e,u)):S,E=!!g&&!t.router.state.matches.some(k=>k.id===n),M=t.router.getMatch(n);M._nonReactive.loaderPromise=ro(),E!==M.preload&&t.updateMatch(n,k=>({...k,preload:E}));const{status:N,invalid:D}=M;if(a=N==="success"&&(D||(C??y>x)),!(g&&u.options.preload===!1))if(a&&!t.sync)c=!0,(async()=>{try{await ob(t,n,e,u);const k=t.router.getMatch(n);k._nonReactive.loaderPromise?.resolve(),k._nonReactive.loadPromise?.resolve(),k._nonReactive.loaderPromise=void 0}catch(k){as(k)&&await t.router.navigate(k.options)}})();else if(N!=="success"||a&&t.sync)await ob(t,n,e,u);else{const k=Tc(t,n,u);if(k){const j=await k;t.updateMatch(n,Y=>({...Y,...j}))}}}}const f=t.router.getMatch(n);c||(f._nonReactive.loaderPromise?.resolve(),f._nonReactive.loadPromise?.resolve()),clearTimeout(f._nonReactive.pendingTimeout),f._nonReactive.pendingTimeout=void 0,c||(f._nonReactive.loaderPromise=void 0),f._nonReactive.dehydrated=void 0;const d=c?f.isFetching:!1;return d!==f.isFetching||f.invalid!==!1?(t.updateMatch(n,h=>({...h,isFetching:d,invalid:!1})),t.router.getMatch(n)):f};async function cb(t){const e=Object.assign(t,{matchPromises:[]});!e.router.isServer&&e.router.state.matches.some(n=>n._forcePending)&&Mu(e);try{for(let a=0;a<e.matches.length;a++){const c=sA(e,a);Ti(c)&&await c}const n=e.firstBadMatchIndex??e.matches.length;for(let a=0;a<n;a++)e.matchPromises.push(iA(e,a));await Promise.all(e.matchPromises);const s=Mu(e);Ti(s)&&await s}catch(n){if(Yr(n)&&!e.preload){const s=Mu(e);throw Ti(s)&&await s,n}if(as(n))throw n}return e.matches}async function vS(t){if(!t._lazyLoaded&&t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(e=>{const{id:n,...s}=e.options;Object.assign(t.options,s),t._lazyLoaded=!0,t._lazyPromise=void 0}):t._lazyLoaded=!0),!t._componentsLoaded&&t._componentsPromise===void 0){const e=()=>{const n=[];for(const s of bS){const a=t.options[s]?.preload;a&&n.push(a())}if(n.length)return Promise.all(n).then(()=>{t._componentsLoaded=!0,t._componentsPromise=void 0});t._componentsLoaded=!0,t._componentsPromise=void 0};t._componentsPromise=t._lazyPromise?t._lazyPromise.then(e):e()}return t._componentsPromise}function fu(t,e){return e?{status:"error",error:e}:{status:"success",value:t}}function xS(t){for(const e of bS)if(t.options[e]?.preload)return!0;return!1}const bS=["component","errorComponent","pendingComponent","notFoundComponent"];function aA(t){return{input:({url:e})=>{for(const n of t)e=SS(n,e);return e},output:({url:e})=>{for(let n=t.length-1;n>=0;n--)e=_S(t[n],e);return e}}}function oA(t){const e=Ou(t.basepath),n=`/${e}`,s=`${n}/`,a=t.caseSensitive?n:n.toLowerCase(),c=t.caseSensitive?s:s.toLowerCase();return{input:({url:u})=>{const f=t.caseSensitive?u.pathname:u.pathname.toLowerCase();return f===a?u.pathname="/":f.startsWith(c)&&(u.pathname=u.pathname.slice(n.length)),u},output:({url:u})=>(u.pathname=Vs(["/",e,u.pathname]),u)}}function SS(t,e){const n=t?.input?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function _S(t,e){const n=t?.output?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function sa(t){const e=t.resolvedLocation,n=t.location,s=e?.pathname!==n.pathname,a=e?.href!==n.href,c=e?.hash!==n.hash;return{fromLocation:e,toLocation:n,pathChanged:s,hrefChanged:a,hashChanged:c}}class cA{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const s=this.options,a=this.basepath??s?.basepath??"/",c=this.basepath===void 0,u=s?.rewrite;this.options={...s,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(x=>[encodeURIComponent(x),x])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=p2())),this.origin=this.options.origin,this.origin||(!this.isServer&&window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new Wp(uA(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(x=>!["redirected"].includes(x.status))}}}),F2(this));let f=!1;const d=this.options.basepath??"/",h=this.options.rewrite;if(c||a!==d||u!==h){this.basepath=d;const x=[];Ou(d)!==""&&x.push(oA({basepath:d})),h&&x.push(h),this.rewrite=x.length===0?void 0:x.length===1?x[0]:aA(x),this.history&&this.updateLatestLocation(),f=!0}f&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:n,routesByPath:s,flatRoutes:a}=B2({routeTree:this.routeTree,initRoute:(u,f)=>{u.init({originalIndex:f})}});this.routesById=n,this.routesByPath=s,this.flatRoutes=a;const c=this.options.notFoundRoute;c&&(c.init({originalIndex:99999999999}),this.routesById[c.id]=c)},this.subscribe=(n,s)=>{const a={eventType:n,fn:s};return this.subscribers.add(a),()=>{this.subscribers.delete(a)}},this.emit=n=>{this.subscribers.forEach(s=>{s.eventType===n.type&&s.fn(n)})},this.parseLocation=(n,s)=>{const a=({href:d,state:h})=>{const y=new URL(d,this.origin),g=SS(this.rewrite,y),x=this.options.parseSearch(g.search),S=this.options.stringifySearch(x);g.search=S;const C=g.href.replace(g.origin,""),{pathname:E,hash:M}=g;return{href:C,publicHref:d,url:g.href,pathname:E,searchStr:S,search:Pr(s?.search,x),hash:M.split("#").reverse()[0]??"",state:Pr(s?.state,h)}},c=a(n),{__tempLocation:u,__tempKey:f}=c.state;if(u&&(!f||f===this.tempLocationKey)){const d=a(u);return d.state.key=c.state.key,d.state.__TSR_key=c.state.__TSR_key,delete d.state.__tempLocation,{...d,maskedLocation:c}}return c},this.resolvePathWithBase=(n,s)=>b2({base:n,to:ey(s),trailingSlash:this.options.trailingSlash,parseCache:this.parsePathnameCache}),this.matchRoutes=(n,s,a)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:s},a):this.matchRoutesInternal(n,s),this.parsePathnameCache=eA(1e3),this.getMatchedRoutes=(n,s)=>fA({pathname:n,routePathname:s,caseSensitive:this.options.caseSensitive,routesByPath:this.routesByPath,routesById:this.routesById,flatRoutes:this.flatRoutes,parseCache:this.parsePathnameCache}),this.cancelMatch=n=>{const s=this.getMatch(n);s&&(s.abortController.abort(),clearTimeout(s._nonReactive.pendingTimeout),s._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{this.state.pendingMatches?.forEach(n=>{this.cancelMatch(n.id)})},this.buildLocation=n=>{const s=(c={})=>{const u=c._fromLocation||this.latestLocation,f=this.matchRoutes(u,{_buildLocation:!0}),d=em(f);c.from;const h=c.unsafeRelative==="path"?u.pathname:c.from??d.fullPath,y=this.resolvePathWithBase(h,"."),g=d.search,x={...d.params},S=c.to?this.resolvePathWithBase(y,`${c.to}`):this.resolvePathWithBase(y,"."),C=c.params===!1||c.params===null?{}:(c.params??!0)===!0?x:Object.assign(x,na(c.params,x)),E=lu({path:S,params:C,parseCache:this.parsePathnameCache}).interpolatedPath,M=this.matchRoutes(E,void 0,{_buildLocation:!0}).map(xe=>this.looseRoutesById[xe.routeId]);if(Object.keys(C).length>0)for(const xe of M){const Se=xe.options.params?.stringify??xe.options.stringifyParams;Se&&Object.assign(C,Se(C))}const N=lu({path:S,params:C,leaveWildcards:!1,leaveParams:n.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath;let D=g;if(n._includeValidateSearch&&this.options.search?.strict){const xe={};M.forEach(Se=>{if(Se.options.validateSearch)try{Object.assign(xe,rm(Se.options.validateSearch,{...xe,...D}))}catch{}}),D=xe}D=dA({search:D,dest:c,destRoutes:M,_includeValidateSearch:n._includeValidateSearch}),D=Pr(g,D);const k=this.options.stringifySearch(D),j=c.hash===!0?u.hash:c.hash?na(c.hash,u.hash):void 0,Y=j?`#${j}`:"";let J=c.state===!0?u.state:c.state?na(c.state,u.state):{};J=Pr(u.state,J);const G=`${N}${k}${Y}`,X=new URL(G,this.origin),pe=_S(this.rewrite,X);return{publicHref:pe.pathname+pe.search+pe.hash,href:G,url:pe.href,pathname:N,search:D,searchStr:k,state:J,hash:j??"",unmaskOnReload:c.unmaskOnReload}},a=(c={},u)=>{const f=s(c);let d=u?s(u):void 0;if(!d){let h={};const y=this.options.routeMasks?.find(g=>{const x=tm(f.pathname,{to:g.from,caseSensitive:!1,fuzzy:!1},this.parsePathnameCache);return x?(h=x,!0):!1});if(y){const{from:g,...x}=y;u={from:n.from,...x,params:h},d=s(u)}}return d&&(f.maskedLocation=d),f};return n.mask?a(n,{from:n.from,...n.mask}):a(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:s,...a})=>{const c=()=>{const d=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];d.forEach(y=>{a.state[y]=this.latestLocation.state[y]});const h=ra(a.state,this.latestLocation.state);return d.forEach(y=>{delete a.state[y]}),h},u=Ri(this.latestLocation.href)===Ri(a.href),f=this.commitLocationPromise;if(this.commitLocationPromise=ro(()=>{f?.resolve()}),u&&c())this.load();else{let{maskedLocation:d,hashScrollIntoView:h,...y}=a;d&&(y={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...y,search:y.searchStr,state:{...y.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(y.unmaskOnReload??this.options.unmaskOnReload??!1)&&(y.state.__tempKey=this.tempLocationKey)),y.state.__hashScrollIntoViewOptions=h??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[a.replace?"replace":"push"](y.publicHref,y.state,{ignoreBlocker:s})}return this.resetNextScroll=a.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:s,hashScrollIntoView:a,viewTransition:c,ignoreBlocker:u,href:f,...d}={})=>{if(f){const y=this.history.location.state.__TSR_index,g=Yu(f,{__TSR_index:n?y:y+1});d.to=g.pathname,d.search=this.options.parseSearch(g.search),d.hash=g.hash.slice(1)}const h=this.buildLocation({...d,_includeValidateSearch:!0});return this.commitLocation({...h,viewTransition:c,replace:n,resetScroll:s,hashScrollIntoView:a,ignoreBlocker:u})},this.navigate=({to:n,reloadDocument:s,href:a,...c})=>{if(!s&&a)try{new URL(`${a}`),s=!0}catch{}return s?(a||(a=this.buildLocation({to:n,...c}).url),c.replace?window.location.replace(a):window.location.href=a,Promise.resolve()):this.buildAndCommitLocation({...c,href:a,to:n,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.updateLatestLocation(),this.isServer){const s=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0}),a=c=>{try{return encodeURI(decodeURI(c))}catch{return c}};if(Ou(a(this.latestLocation.href))!==Ou(a(s.href))){let c=s.url;throw this.origin&&c.startsWith(this.origin)&&(c=c.replace(this.origin,"")||"/"),W2({href:c})}}const n=this.matchRoutes(this.latestLocation);this.__store.setState(s=>({...s,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:n,cachedMatches:s.cachedMatches.filter(a=>!n.some(c=>c.id===a.id))}))},this.load=async n=>{let s,a,c;for(c=new Promise(f=>{this.startTransition(async()=>{try{this.beforeLoad();const d=this.latestLocation,h=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...sa({resolvedLocation:h,location:d})}),this.emit({type:"onBeforeLoad",...sa({resolvedLocation:h,location:d})}),await cb({router:this,sync:n?.sync,matches:this.state.pendingMatches,location:d,updateMatch:this.updateMatch,onReady:async()=>{this.startViewTransition(async()=>{let y,g,x;Ec(()=>{this.__store.setState(S=>{const C=S.matches,E=S.pendingMatches||S.matches;return y=C.filter(M=>!E.some(N=>N.id===M.id)),g=E.filter(M=>!C.some(N=>N.id===M.id)),x=C.filter(M=>E.some(N=>N.id===M.id)),{...S,isLoading:!1,loadedAt:Date.now(),matches:E,pendingMatches:void 0,cachedMatches:[...S.cachedMatches,...y.filter(M=>M.status!=="error")]}}),this.clearExpiredCache()}),[[y,"onLeave"],[g,"onEnter"],[x,"onStay"]].forEach(([S,C])=>{S.forEach(E=>{this.looseRoutesById[E.routeId].options[C]?.(E)})})})}})}catch(d){as(d)?(s=d,this.isServer||this.navigate({...s.options,replace:!0,ignoreBlocker:!0})):Yr(d)&&(a=d),this.__store.setState(h=>({...h,statusCode:s?s.status:a?404:h.matches.some(y=>y.status==="error")?500:200,redirect:s}))}this.latestLoadPromise===c&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),f()})}),this.latestLoadPromise=c,await c;this.latestLoadPromise&&c!==this.latestLoadPromise;)await this.latestLoadPromise;let u;this.hasNotFoundMatch()?u=404:this.__store.state.matches.some(f=>f.status==="error")&&(u=500),u!==void 0&&this.__store.setState(f=>({...f,statusCode:u}))},this.startViewTransition=n=>{const s=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,s&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let a;if(typeof s=="object"&&this.isViewTransitionTypesSupported){const c=this.latestLocation,u=this.state.resolvedLocation,f=typeof s.types=="function"?s.types(sa({resolvedLocation:u,location:c})):s.types;if(f===!1){n();return}a={update:n,types:f}}else a=n;document.startViewTransition(a)}else n()},this.updateMatch=(n,s)=>{const a=this.state.pendingMatches?.some(c=>c.id===n)?"pendingMatches":this.state.matches.some(c=>c.id===n)?"matches":this.state.cachedMatches.some(c=>c.id===n)?"cachedMatches":"";a&&this.__store.setState(c=>({...c,[a]:c[a]?.map(u=>u.id===n?s(u):u)}))},this.getMatch=n=>{const s=a=>a.id===n;return this.state.cachedMatches.find(s)??this.state.pendingMatches?.find(s)??this.state.matches.find(s)},this.invalidate=n=>{const s=a=>n?.filter?.(a)??!0?{...a,invalid:!0,...n?.forcePending||a.status==="error"?{status:"pending",error:void 0}:void 0}:a;return this.__store.setState(a=>({...a,matches:a.matches.map(s),cachedMatches:a.cachedMatches.map(s),pendingMatches:a.pendingMatches?.map(s)})),this.shouldViewTransition=!1,this.load({sync:n?.sync})},this.resolveRedirect=n=>{if(!n.options.href){const s=this.buildLocation(n.options);let a=s.url;this.origin&&a.startsWith(this.origin)&&(a=a.replace(this.origin,"")||"/"),n.options.href=s.href,n.headers.set("Location",a)}return n.headers.get("Location")||n.headers.set("Location",n.options.href),n},this.clearCache=n=>{const s=n?.filter;s!==void 0?this.__store.setState(a=>({...a,cachedMatches:a.cachedMatches.filter(c=>!s(c))})):this.__store.setState(a=>({...a,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=s=>{const a=this.looseRoutesById[s.routeId];if(!a.options.loader)return!0;const c=(s.preload?a.options.preloadGcTime??this.options.defaultPreloadGcTime:a.options.gcTime??this.options.defaultGcTime)??300*1e3;return s.status==="error"?!0:Date.now()-s.updatedAt>=c};this.clearCache({filter:n})},this.loadRouteChunk=vS,this.preloadRoute=async n=>{const s=this.buildLocation(n);let a=this.matchRoutes(s,{throwOnError:!0,preload:!0,dest:n});const c=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(f=>f.id)),u=new Set([...c,...this.state.cachedMatches.map(f=>f.id)]);Ec(()=>{a.forEach(f=>{u.has(f.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,f]}))})});try{return a=await cb({router:this,matches:a,location:s,preload:!0,updateMatch:(f,d)=>{c.has(f)?a=a.map(h=>h.id===f?d(h):h):this.updateMatch(f,d)}}),a}catch(f){if(as(f))return f.options.reloadDocument?void 0:await this.preloadRoute({...f.options,_fromLocation:s});Yr(f)||console.error(f);return}},this.matchRoute=(n,s)=>{const a={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},c=this.buildLocation(a);if(s?.pending&&this.state.status!=="pending")return!1;const f=(s?.pending===void 0?!this.state.isLoading:s.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,d=tm(f.pathname,{...s,to:c.pathname},this.parsePathnameCache);return!d||n.params&&!ra(d,n.params,{partial:!0})?!1:d&&(s?.includeSearch??!0)?ra(f.search,c.search,{partial:!0})?d:!1:d},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??Q2,parseSearch:e.parseSearch??X2}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(e,n){const{foundRoute:s,matchedRoutes:a,routeParams:c}=this.getMatchedRoutes(e.pathname,n?.dest?.to);let u=!1;(s?s.path!=="/"&&c["**"]:Ri(e.pathname))&&(this.options.notFoundRoute?a.push(this.options.notFoundRoute):u=!0);const f=(()=>{if(u){if(this.options.notFoundMode!=="root")for(let y=a.length-1;y>=0;y--){const g=a[y];if(g.children)return g.id}return cr}})(),d=[],h=y=>y?.id?y.context??this.options.context??void 0:this.options.context??void 0;return a.forEach((y,g)=>{const x=d[g-1],[S,C,E]=(()=>{const we=x?.search??e.search,Ce=x?._strictSearch??void 0;try{const ge=rm(y.options.validateSearch,{...we})??void 0;return[{...we,...ge},{...Ce,...ge},void 0]}catch(ge){let De=ge;if(ge instanceof Zu||(De=new Zu(ge.message,{cause:ge})),n?.throwOnError)throw De;return[we,{},De]}})(),M=y.options.loaderDeps?.({search:S})??"",N=M?JSON.stringify(M):"",{interpolatedPath:D,usedParams:k}=lu({path:y.fullPath,params:c,decodeCharMap:this.pathParamsDecodeCharMap}),j=lu({path:y.id,params:c,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath+N,Y=this.getMatch(j),J=this.state.matches.find(we=>we.routeId===y.id),G=Y?._strictParams??k;let X;if(!Y){const we=y.options.params?.parse??y.options.parseParams;if(we)try{Object.assign(G,we(G))}catch(Ce){if(X=new lA(Ce.message,{cause:Ce}),n?.throwOnError)throw X}}Object.assign(c,G);const pe=J?"stay":"enter";let xe;if(Y)xe={...Y,cause:pe,params:J?Pr(J.params,c):c,_strictParams:G,search:Pr(J?J.search:Y.search,S),_strictSearch:C};else{const we=y.options.loader||y.options.beforeLoad||y.lazyFn||xS(y)?"pending":"success";xe={id:j,index:g,routeId:y.id,params:J?Pr(J.params,c):c,_strictParams:G,pathname:D,updatedAt:Date.now(),search:J?Pr(J.search,S):S,_strictSearch:C,searchError:void 0,status:we,isFetching:!1,error:void 0,paramsError:X,__routeContext:void 0,_nonReactive:{loadPromise:ro()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:pe,loaderDeps:J?Pr(J.loaderDeps,M):M,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:y.options.staticData||{},fullPath:y.fullPath}}n?.preload||(xe.globalNotFound=f===y.id),xe.searchError=E;const Se=h(x);xe.context={...Se,...xe.__routeContext,...xe.__beforeLoadContext},d.push(xe)}),d.forEach((y,g)=>{const x=this.looseRoutesById[y.routeId];if(!this.getMatch(y.id)&&n?._buildLocation!==!0){const C=d[g-1],E=h(C);if(x.options.context){const M={deps:y.loaderDeps,params:y.params,context:E??{},location:e,navigate:N=>this.navigate({...N,_fromLocation:e}),buildLocation:this.buildLocation,cause:y.cause,abortController:y.abortController,preload:!!y.preload,matches:d};y.__routeContext=x.options.context(M)??void 0}y.context={...E,...y.__routeContext,...y.__beforeLoadContext}}}),d}}class Zu extends Error{}class lA extends Error{}function uA(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function rm(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new Zu("Async validation not supported");if(n.issues)throw new Zu(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function fA({pathname:t,routePathname:e,caseSensitive:n,routesByPath:s,routesById:a,flatRoutes:c,parseCache:u}){let f={};const d=Ri(t),h=S=>tm(d,{to:S.fullPath,caseSensitive:S.options?.caseSensitive??n,fuzzy:!0},u);let y=e!==void 0?s[e]:void 0;if(y)f=h(y);else{let S;for(const C of c){const E=h(C);if(E)if(C.path!=="/"&&E["**"])S||(S={foundRoute:C,routeParams:E});else{y=C,f=E;break}}!y&&S&&(y=S.foundRoute,f=S.routeParams)}let g=y||a[cr];const x=[g];for(;g.parentRoute;)g=g.parentRoute,x.push(g);return x.reverse(),{matchedRoutes:x,routeParams:f,foundRoute:y}}function dA({search:t,dest:e,destRoutes:n,_includeValidateSearch:s}){const a=n.reduce((f,d)=>{const h=[];if("search"in d.options)d.options.search?.middlewares&&h.push(...d.options.search.middlewares);else if(d.options.preSearchFilters||d.options.postSearchFilters){const y=({search:g,next:x})=>{let S=g;"preSearchFilters"in d.options&&d.options.preSearchFilters&&(S=d.options.preSearchFilters.reduce((E,M)=>M(E),g));const C=x(S);return"postSearchFilters"in d.options&&d.options.postSearchFilters?d.options.postSearchFilters.reduce((E,M)=>M(E),C):C};h.push(y)}if(s&&d.options.validateSearch){const y=({search:g,next:x})=>{const S=x(g);try{return{...S,...rm(d.options.validateSearch,S)??void 0}}catch{return S}};h.push(y)}return f.concat(h)},[])??[],c=({search:f})=>e.search?e.search===!0?f:na(e.search,f):{};a.push(c);const u=(f,d)=>{if(f>=a.length)return d;const h=a[f];return h({search:d,next:g=>u(f+1,g)})};return u(0,t)}const hA="Error preloading route! ";class wS{constructor(e){if(this.init=n=>{this.originalIndex=n.originalIndex;const s=this.options,a=!s?.path&&!s?.id;this.parentRoute=this.options.getParentRoute?.(),a?this._path=cr:this.parentRoute||Ys(!1);let c=a?cr:s?.path;c&&c!=="/"&&(c=ty(c));const u=s?.id||c;let f=a?cr:Vs([this.parentRoute.id===cr?"":this.parentRoute.id,u]);c===cr&&(c="/"),f!==cr&&(f=Vs(["/",f]));const d=f===cr?"/":Vs([this.parentRoute.fullPath,c]);this._path=c,this._id=f,this._fullPath=d,this._to=d},this.clone=n=>{this._path=n._path,this._id=n._id,this._fullPath=n._fullPath,this._to=n._to,this.options.getParentRoute=n.options.getParentRoute,this.children=n.children},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.options=e||{},this.isRoot=!e?.getParentRoute,e?.id&&e?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class pA extends wS{constructor(e){super(e)}}var R=qc();const Ne=Vc(R),mA=oS({__proto__:null,default:Ne},[R]);function ny(t){const e=t.errorComponent??wf;return b.jsx(yA,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:s})=>n?R.createElement(e,{error:n,reset:s}):t.children})}class yA extends R.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function wf({error:t}){const[e,n]=R.useState(!1);return b.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[b.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),b.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(s=>!s),children:e?"Hide Error":"Show Error"})]}),b.jsx("div",{style:{height:".25rem"}}),e?b.jsx("div",{children:b.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?b.jsx("code",{children:t.message}):null})}):null]})}function gA({children:t,fallback:e=null}){return vA()?b.jsx(Ne.Fragment,{children:t}):b.jsx(Ne.Fragment,{children:e})}function vA(){return Ne.useSyncExternalStore(xA,()=>!0,()=>!1)}function xA(){return()=>{}}var up={exports:{}},fp={},dp={exports:{}},hp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lb;function bA(){if(lb)return hp;lb=1;var t=qc();function e(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var n=typeof Object.is=="function"?Object.is:e,s=t.useState,a=t.useEffect,c=t.useLayoutEffect,u=t.useDebugValue;function f(g,x){var S=x(),C=s({inst:{value:S,getSnapshot:x}}),E=C[0].inst,M=C[1];return c(function(){E.value=S,E.getSnapshot=x,d(E)&&M({inst:E})},[g,S,x]),a(function(){return d(E)&&M({inst:E}),g(function(){d(E)&&M({inst:E})})},[g]),u(S),S}function d(g){var x=g.getSnapshot;g=g.value;try{var S=x();return!n(g,S)}catch{return!0}}function h(g,x){return x()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:f;return hp.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:y,hp}var ub;function CS(){return ub||(ub=1,dp.exports=bA()),dp.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb;function SA(){if(fb)return fp;fb=1;var t=qc(),e=CS();function n(h,y){return h===y&&(h!==0||1/h===1/y)||h!==h&&y!==y}var s=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,c=t.useRef,u=t.useEffect,f=t.useMemo,d=t.useDebugValue;return fp.useSyncExternalStoreWithSelector=function(h,y,g,x,S){var C=c(null);if(C.current===null){var E={hasValue:!1,value:null};C.current=E}else E=C.current;C=f(function(){function N(J){if(!D){if(D=!0,k=J,J=x(J),S!==void 0&&E.hasValue){var G=E.value;if(S(G,J))return j=G}return j=J}if(G=j,s(k,J))return G;var X=x(J);return S!==void 0&&S(G,X)?(k=J,G):(k=J,j=X)}var D=!1,k,j,Y=g===void 0?null:g;return[function(){return N(y())},Y===null?void 0:function(){return N(Y())}]},[y,g,x,S]);var M=a(h,C[0],C[1]);return u(function(){E.hasValue=!0,E.value=M},[M]),d(M),M},fp}var db;function _A(){return db||(db=1,up.exports=SA()),up.exports}var wA=_A();function CA(t,e=n=>n){return wA.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,EA)}function EA(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[s,a]of t)if(!e.has(s)||!Object.is(a,e.get(s)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0}if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();const n=hb(t);if(n.length!==hb(e).length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(e,n[s])||!Object.is(t[n[s]],e[n[s]]))return!1;return!0}function hb(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}const pp=R.createContext(null);function ES(){return typeof document>"u"?pp:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=pp,pp)}function ur(t){const e=R.useContext(ES());return t?.warn,e}function lr(t){const e=ur({warn:t?.router===void 0}),n=t?.router||e,s=R.useRef(void 0);return CA(n.__store,a=>{if(t?.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const c=Pr(s.current,t.select(a));return s.current=c,c}return t.select(a)}return a})}const Cf=R.createContext(void 0),TA=R.createContext(void 0);function ps(t){const e=R.useContext(t.from?TA:Cf);return lr({select:s=>{const a=s.matches.find(c=>t.from?t.from===c.routeId:c.id===e);if(Ys(!((t.shouldThrow??!0)&&!a),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),a!==void 0)return t.select?t.select(a):a},structuralSharing:t.structuralSharing})}function ry(t){return ps({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function sy(t){const{select:e,...n}=t;return ps({...n,select:s=>e?e(s.loaderDeps):s.loaderDeps})}function iy(t){return ps({from:t.from,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,strict:t.strict,select:e=>{const n=t.strict===!1?e.params:e._strictParams;return t.select?t.select(n):n}})}function ay(t){return ps({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function Ef(t){const e=ur();return R.useCallback(n=>e.navigate({...n,from:n.from??t?.from}),[t?.from,e])}var Fc=cS();const RA=Vc(Fc),du=typeof window<"u"?R.useLayoutEffect:R.useEffect;function mp(t){const e=R.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function AA(t,e,n={},s={}){R.useEffect(()=>{if(!t.current||s.disabled||typeof IntersectionObserver!="function")return;const a=new IntersectionObserver(([c])=>{e(c)},n);return a.observe(t.current),()=>{a.disconnect()}},[e,n,s.disabled,t])}function OA(t){const e=R.useRef(null);return R.useImperativeHandle(t,()=>e.current,[]),e}function MA(t,e){const n=ur(),[s,a]=R.useState(!1),c=R.useRef(!1),u=OA(e),{activeProps:f,inactiveProps:d,activeOptions:h,to:y,preload:g,preloadDelay:x,hashScrollIntoView:S,replace:C,startTransition:E,resetScroll:M,viewTransition:N,children:D,target:k,disabled:j,style:Y,className:J,onClick:G,onFocus:X,onMouseEnter:pe,onMouseLeave:xe,onTouchStart:Se,ignoreBlocker:we,params:Ce,search:ge,hash:De,state:U,mask:te,reloadDocument:$,unsafeRelative:Ee,from:Ke,_fromLocation:I,...ie}=t,de=lr({select:st=>st.location.search,structuralSharing:!0}),be=t.from,ve=R.useMemo(()=>({...t,from:be}),[n,de,be,t._fromLocation,t.hash,t.to,t.search,t.params,t.state,t.mask,t.unsafeRelative]),Te=R.useMemo(()=>n.buildLocation({...ve}),[n,ve]),ke=R.useMemo(()=>{if(j)return;let st=Te.maskedLocation?Te.maskedLocation.url:Te.url,ct=!1;return n.origin&&(st.startsWith(n.origin)?st=n.history.createHref(st.replace(n.origin,""))||"/":ct=!0),{href:st,external:ct}},[j,Te.maskedLocation,Te.url,n.origin,n.history]),vt=R.useMemo(()=>{if(ke?.external)return ke.href;try{return new URL(y),y}catch{}},[y,ke]),B=t.reloadDocument||vt?!1:g??n.options.defaultPreload,K=x??n.options.defaultPreloadDelay??0,fe=lr({select:st=>{if(vt)return!1;if(h?.exact){if(!v2(st.location.pathname,Te.pathname,n.basepath))return!1}else{const ct=Ku(st.location.pathname,n.basepath),Ft=Ku(Te.pathname,n.basepath);if(!(ct.startsWith(Ft)&&(ct.length===Ft.length||ct[Ft.length]==="/")))return!1}return(h?.includeSearch??!0)&&!ra(st.location.search,Te.search,{partial:!h?.exact,ignoreUndefined:!h?.explicitUndefined})?!1:h?.includeHash?st.location.hash===Te.hash:!0}}),je=R.useCallback(()=>{n.preloadRoute({...ve}).catch(st=>{console.warn(st),console.warn(hA)})},[n,ve]),He=R.useCallback(st=>{st?.isIntersecting&&je()},[je]);AA(u,He,jA,{disabled:!!j||B!=="viewport"}),R.useEffect(()=>{c.current||!j&&B==="render"&&(je(),c.current=!0)},[j,je,B]);const Ue=st=>{const ct=st.currentTarget.target,Ft=k!==void 0?k:ct;if(!j&&!LA(st)&&!st.defaultPrevented&&(!Ft||Ft==="_self")&&st.button===0){st.preventDefault(),Fc.flushSync(()=>{a(!0)});const Tn=n.subscribe("onResolved",()=>{Tn(),a(!1)});n.navigate({...ve,replace:C,resetScroll:M,hashScrollIntoView:S,startTransition:E,viewTransition:N,ignoreBlocker:we})}};if(vt)return{...ie,ref:u,href:vt,...D&&{children:D},...k&&{target:k},...j&&{disabled:j},...Y&&{style:Y},...J&&{className:J},...G&&{onClick:G},...X&&{onFocus:X},...pe&&{onMouseEnter:pe},...xe&&{onMouseLeave:xe},...Se&&{onTouchStart:Se}};const xt=st=>{j||B&&je()},yt=xt,Vt=st=>{if(!(j||!B))if(!K)je();else{const ct=st.target;if(uc.has(ct))return;const Ft=setTimeout(()=>{uc.delete(ct),je()},K);uc.set(ct,Ft)}},bt=st=>{if(j||!B||!K)return;const ct=st.target,Ft=uc.get(ct);Ft&&(clearTimeout(Ft),uc.delete(ct))},Et=fe?na(f,{})??PA:yp,At=fe?yp:na(d,{})??yp,qt=[J,Et.className,At.className].filter(Boolean).join(" "),Mn=(Y||Et.style||At.style)&&{...Y,...Et.style,...At.style};return{...ie,...Et,...At,href:ke?.href,ref:u,onClick:fc([G,Ue]),onFocus:fc([X,xt]),onMouseEnter:fc([pe,Vt]),onMouseLeave:fc([xe,bt]),onTouchStart:fc([Se,yt]),disabled:!!j,target:k,...Mn&&{style:Mn},...qt&&{className:qt},...j&&NA,...fe&&DA,...s&&kA}}const yp={},PA={className:"active"},NA={role:"link","aria-disabled":!0},DA={"data-status":"active","aria-current":"page"},kA={"data-transitioning":"transitioning"},uc=new WeakMap,jA={rootMargin:"100px"},fc=t=>e=>{for(const n of t)if(n){if(e.defaultPrevented)return;n(e)}},oy=R.forwardRef((t,e)=>{const{_asChild:n,...s}=t,{type:a,ref:c,...u}=MA(s,e),f=typeof s.children=="function"?s.children({isActive:u["data-status"]==="active"}):s.children;return n===void 0&&delete u.disabled,R.createElement(n||"a",{...u,ref:c},f)});function LA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}class UA extends wS{constructor(e){super(e),this.useMatch=n=>ps({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>ps({...n,from:this.id,select:s=>n?.select?n.select(s.context):s.context}),this.useSearch=n=>ay({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>iy({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>sy({...n,from:this.id}),this.useLoaderData=n=>ry({...n,from:this.id}),this.useNavigate=()=>Ef({from:this.fullPath}),this.Link=Ne.forwardRef((n,s)=>b.jsx(oy,{ref:s,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function Tf(t){return new UA(t)}class zA extends pA{constructor(e){super(e),this.useMatch=n=>ps({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>ps({...n,from:this.id,select:s=>n?.select?n.select(s.context):s.context}),this.useSearch=n=>ay({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>iy({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>sy({...n,from:this.id}),this.useLoaderData=n=>ry({...n,from:this.id}),this.useNavigate=()=>Ef({from:this.fullPath}),this.Link=Ne.forwardRef((n,s)=>b.jsx(oy,{ref:s,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function IA(t){return new zA(t)}function pb(t){return typeof t=="object"?new mb(t,{silent:!0}).createRoute(t):new mb(t,{silent:!0}).createRoute}class mb{constructor(e,n){this.path=e,this.createRoute=s=>{this.silent;const a=Tf(s);return a.isRoot=!1,a},this.silent=n?.silent}}class yb{constructor(e){this.useMatch=n=>ps({select:n?.select,from:this.options.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>ps({from:this.options.id,select:s=>n?.select?n.select(s.context):s.context}),this.useSearch=n=>ay({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useParams=n=>iy({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>sy({...n,from:this.options.id}),this.useLoaderData=n=>ry({...n,from:this.options.id}),this.useNavigate=()=>{const n=ur();return Ef({from:n.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function gb(t){return typeof t=="object"?new yb(t):e=>new yb({id:t,...e})}function BA(){const t=ur(),e=R.useRef({router:t,mounted:!1}),[n,s]=R.useState(!1),{hasPendingMatches:a,isLoading:c}=lr({select:g=>({isLoading:g.isLoading,hasPendingMatches:g.matches.some(x=>x.status==="pending")}),structuralSharing:!0}),u=mp(c),f=c||n||a,d=mp(f),h=c||a,y=mp(h);return t.startTransition=g=>{s(!0),R.startTransition(()=>{g(),s(!1)})},R.useEffect(()=>{const g=t.history.subscribe(t.load),x=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Ri(t.latestLocation.href)!==Ri(x.href)&&t.commitLocation({...x,replace:!0}),()=>{g()}},[t,t.history]),du(()=>{if(typeof window<"u"&&t.ssr||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(x){console.error(x)}})()},[t]),du(()=>{u&&!c&&t.emit({type:"onLoad",...sa(t.state)})},[u,t,c]),du(()=>{y&&!h&&t.emit({type:"onBeforeRouteMount",...sa(t.state)})},[h,y,t]),du(()=>{d&&!f&&(t.emit({type:"onResolved",...sa(t.state)}),t.__store.setState(g=>({...g,status:"idle",resolvedLocation:g.location})),Y2(t))},[f,d,t]),null}function HA(t){const e=lr({select:n=>`not-found-${n.location.pathname}-${n.status}`});return b.jsx(ny,{getResetKey:()=>e,onCatch:(n,s)=>{if(Yr(n))t.onCatch?.(n,s);else throw n},errorComponent:({error:n})=>{if(Yr(n))return t.fallback?.(n);throw n},children:t.children})}function $A(){return b.jsx("p",{children:"Not Found"})}function Ka(t){return b.jsx(b.Fragment,{children:t.children})}function TS(t,e,n){return e.options.notFoundComponent?b.jsx(e.options.notFoundComponent,{data:n}):t.options.defaultNotFoundComponent?b.jsx(t.options.defaultNotFoundComponent,{data:n}):b.jsx($A,{})}function VA({children:t}){const e=ur();return e.isServer?b.jsx("script",{nonce:e.options.ssr?.nonce,className:"$tsr",dangerouslySetInnerHTML:{__html:[t].filter(Boolean).join(`
`)+";$_TSR.c()"}}):null}function qA(){const t=ur();if(!t.isScrollRestoring||!t.isServer||typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation}))return null;const n=(t.options.getScrollRestorationKey||nm)(t.latestLocation),s=n!==nm(t.latestLocation)?n:void 0,a={storageKey:Xu,shouldScrollRestoration:!0};return s&&(a.key=s),b.jsx(VA,{children:`(${hS.toString()})(${JSON.stringify(a)})`})}const RS=R.memo(function({matchId:e}){const n=ur(),s=lr({select:N=>{const D=N.matches.find(k=>k.id===e);return Ys(D),{routeId:D.routeId,ssr:D.ssr,_displayPending:D._displayPending}},structuralSharing:!0}),a=n.routesById[s.routeId],c=a.options.pendingComponent??n.options.defaultPendingComponent,u=c?b.jsx(c,{}):null,f=a.options.errorComponent??n.options.defaultErrorComponent,d=a.options.onCatch??n.options.defaultOnCatch,h=a.isRoot?a.options.notFoundComponent??n.options.notFoundRoute?.options.component:a.options.notFoundComponent,y=s.ssr===!1||s.ssr==="data-only",g=(!a.isRoot||a.options.wrapInSuspense||y)&&(a.options.wrapInSuspense??c??(a.options.errorComponent?.preload||y))?R.Suspense:Ka,x=f?ny:Ka,S=h?HA:Ka,C=lr({select:N=>N.loadedAt}),E=lr({select:N=>{const D=N.matches.findIndex(k=>k.id===e);return N.matches[D-1]?.routeId}}),M=a.isRoot?a.options.shellComponent??Ka:Ka;return b.jsxs(M,{children:[b.jsx(Cf.Provider,{value:e,children:b.jsx(g,{fallback:u,children:b.jsx(x,{getResetKey:()=>C,errorComponent:f||wf,onCatch:(N,D)=>{if(Yr(N))throw N;d?.(N,D)},children:b.jsx(S,{fallback:N=>{if(!h||N.routeId&&N.routeId!==s.routeId||!N.routeId&&!a.isRoot)throw N;return R.createElement(h,N)},children:y||s._displayPending?b.jsx(gA,{fallback:u,children:b.jsx(vb,{matchId:e})}):b.jsx(vb,{matchId:e})})})})}),E===cr&&n.options.scrollRestoration?b.jsxs(b.Fragment,{children:[b.jsx(FA,{}),b.jsx(qA,{})]}):null]})});function FA(){const t=ur(),e=R.useRef(void 0);return b.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(e.current===void 0||e.current.href!==t.latestLocation.href)&&(t.emit({type:"onRendered",...sa(t.state)}),e.current=t.latestLocation)}},t.latestLocation.state.__TSR_key)}const vb=R.memo(function({matchId:e}){const n=ur(),{match:s,key:a,routeId:c}=lr({select:d=>{const h=d.matches.find(C=>C.id===e),y=h.routeId,x=(n.routesById[y].options.remountDeps??n.options.defaultRemountDeps)?.({routeId:y,loaderDeps:h.loaderDeps,params:h._strictParams,search:h._strictSearch});return{key:x?JSON.stringify(x):void 0,routeId:y,match:{id:h.id,status:h.status,error:h.error,_forcePending:h._forcePending,_displayPending:h._displayPending}}},structuralSharing:!0}),u=n.routesById[c],f=R.useMemo(()=>{const d=u.options.component??n.options.defaultComponent;return d?b.jsx(d,{},a):b.jsx(AS,{})},[a,u.options.component,n.options.defaultComponent]);if(s._displayPending)throw n.getMatch(s.id)?._nonReactive.displayPendingPromise;if(s._forcePending)throw n.getMatch(s.id)?._nonReactive.minPendingPromise;if(s.status==="pending"){const d=u.options.pendingMinMs??n.options.defaultPendingMinMs;if(d){const h=n.getMatch(s.id);if(h&&!h._nonReactive.minPendingPromise&&!n.isServer){const y=ro();h._nonReactive.minPendingPromise=y,setTimeout(()=>{y.resolve(),h._nonReactive.minPendingPromise=void 0},d)}}throw n.getMatch(s.id)?._nonReactive.loadPromise}if(s.status==="notFound")return Ys(Yr(s.error)),TS(n,u,s.error);if(s.status==="redirected")throw Ys(as(s.error)),n.getMatch(s.id)?._nonReactive.loadPromise;if(s.status==="error"){if(n.isServer){const d=(u.options.errorComponent??n.options.defaultErrorComponent)||wf;return b.jsx(d,{error:s.error,reset:void 0,info:{componentStack:""}})}throw s.error}return f}),AS=R.memo(function(){const e=ur(),n=R.useContext(Cf),s=lr({select:h=>h.matches.find(y=>y.id===n)?.routeId}),a=e.routesById[s],c=lr({select:h=>{const g=h.matches.find(x=>x.id===n);return Ys(g),g.globalNotFound}}),u=lr({select:h=>{const y=h.matches,g=y.findIndex(x=>x.id===n);return y[g+1]?.id}}),f=e.options.defaultPendingComponent?b.jsx(e.options.defaultPendingComponent,{}):null;if(c)return TS(e,a,void 0);if(!u)return null;const d=b.jsx(RS,{matchId:u});return n===cr?b.jsx(R.Suspense,{fallback:f,children:d}):d});function YA(){const t=ur(),n=t.routesById[cr].options.pendingComponent??t.options.defaultPendingComponent,s=n?b.jsx(n,{}):null,a=t.isServer||typeof document<"u"&&t.ssr?Ka:R.Suspense,c=b.jsxs(a,{fallback:s,children:[!t.isServer&&b.jsx(BA,{}),b.jsx(GA,{})]});return t.options.InnerWrap?b.jsx(t.options.InnerWrap,{children:c}):c}function GA(){const t=ur(),e=lr({select:a=>a.matches[0]?.id}),n=lr({select:a=>a.loadedAt}),s=e?b.jsx(RS,{matchId:e}):null;return b.jsx(Cf.Provider,{value:e,children:t.options.disableGlobalCatchBoundary?s:b.jsx(ny,{getResetKey:()=>n,errorComponent:wf,onCatch:a=>{a.message||a.toString()},children:s})})}const KA=t=>new XA(t);class XA extends cA{constructor(e){super(e)}}typeof globalThis<"u"?(globalThis.createFileRoute=pb,globalThis.createLazyFileRoute=gb):typeof window<"u"&&(window.createFileRoute=pb,window.createLazyFileRoute=gb);function QA({router:t,children:e,...n}){Object.keys(n).length>0&&t.update({...t.options,...n,context:{...t.options.context,...n.context}});const s=ES(),a=b.jsx(s.Provider,{value:t,children:e});return t.options.Wrap?b.jsx(t.options.Wrap,{children:a}):a}function ZA({router:t,...e}){return b.jsx(QA,{router:t,...e,children:b.jsx(YA,{})})}function JA(t,e){if(t===void 0)return{shouldBlockFn:()=>!0,withResolver:!1};if("shouldBlockFn"in t)return t;if(typeof t=="function")return{shouldBlockFn:async()=>await t(),enableBeforeUnload:!0,withResolver:!1};const n=!!(t.condition??!0),s=t.blockerFn;return{shouldBlockFn:async()=>n&&s!==void 0?await s():n,enableBeforeUnload:n,withResolver:s===void 0}}function WA(t,e){const{shouldBlockFn:n,enableBeforeUnload:s=!0,disabled:a=!1,withResolver:c=!1}=JA(t),u=ur(),{history:f}=u,[d,h]=R.useState({status:"idle",current:void 0,next:void 0,action:void 0,proceed:void 0,reset:void 0});return R.useEffect(()=>{const y=async g=>{function x(D){const k=u.parseLocation(D),j=u.getMatchedRoutes(k.pathname,void 0);if(j.foundRoute===void 0)throw new Error(`No route found for location ${D.href}`);return{routeId:j.foundRoute.id,fullPath:j.foundRoute.fullPath,pathname:k.pathname,params:j.routeParams,search:k.search}}const S=x(g.currentLocation),C=x(g.nextLocation),E=await n({action:g.action,current:S,next:C});if(!c)return E;if(!E)return!1;const N=await new Promise(D=>{h({status:"blocked",current:S,next:C,action:g.action,proceed:()=>D(!1),reset:()=>D(!0)})});return h({status:"idle",current:void 0,next:void 0,action:void 0,proceed:void 0,reset:void 0}),N};return a?void 0:f.block({blockerFn:y,enableBeforeUnload:s})},[n,s,a,c,f,u]),d}var Rf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},e6={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},t6=class{#e=e6;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},sm=new t6;function n6(t){setTimeout(t,0)}var Af=typeof window>"u"||"Deno"in globalThis;function $r(){}function r6(t,e){return typeof t=="function"?t(e):t}function s6(t){return typeof t=="number"&&t>=0&&t!==1/0}function i6(t,e){return Math.max(t+(e||0)-Date.now(),0)}function im(t,e){return typeof t=="function"?t(e):t}function a6(t,e){return typeof t=="function"?t(e):t}function xb(t,e){const{type:n="all",exact:s,fetchStatus:a,predicate:c,queryKey:u,stale:f}=t;if(u){if(s){if(e.queryHash!==cy(u,e.options))return!1}else if(!Dc(e.queryKey,u))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||a&&a!==e.state.fetchStatus||c&&!c(e))}function bb(t,e){const{exact:n,status:s,predicate:a,mutationKey:c}=t;if(c){if(!e.options.mutationKey)return!1;if(n){if(Nc(e.options.mutationKey)!==Nc(c))return!1}else if(!Dc(e.options.mutationKey,c))return!1}return!(s&&e.state.status!==s||a&&!a(e))}function cy(t,e){return(e?.queryKeyHashFn||Nc)(t)}function Nc(t){return JSON.stringify(t,(e,n)=>am(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function Dc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Dc(t[n],e[n])):!1}var o6=Object.prototype.hasOwnProperty;function OS(t,e){if(t===e)return t;const n=Sb(t)&&Sb(e);if(!n&&!(am(t)&&am(e)))return e;const a=(n?t:Object.keys(t)).length,c=n?e:Object.keys(e),u=c.length,f=n?new Array(u):{};let d=0;for(let h=0;h<u;h++){const y=n?h:c[h],g=t[y],x=e[y];if(g===x){f[y]=g,(n?h<a:o6.call(t,y))&&d++;continue}if(g===null||x===null||typeof g!="object"||typeof x!="object"){f[y]=x;continue}const S=OS(g,x);f[y]=S,S===g&&d++}return a===u&&d===a?t:f}function Sb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function am(t){if(!_b(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!_b(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function _b(t){return Object.prototype.toString.call(t)==="[object Object]"}function c6(t){return new Promise(e=>{sm.setTimeout(e,t)})}function l6(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?OS(t,e):e}function u6(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function f6(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var ly=Symbol();function MS(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===ly?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var d6=class extends Rf{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Af&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},PS=new d6;function h6(){let t,e;const n=new Promise((a,c)=>{t=a,e=c});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),t(a)},n.reject=a=>{s({status:"rejected",reason:a}),e(a)},n}var p6=n6;function m6(){let t=[],e=0,n=f=>{f()},s=f=>{f()},a=p6;const c=f=>{e?t.push(f):a(()=>{n(f)})},u=()=>{const f=t;t=[],f.length&&a(()=>{s(()=>{f.forEach(d=>{n(d)})})})};return{batch:f=>{let d;e++;try{d=f()}finally{e--,e||u()}return d},batchCalls:f=>(...d)=>{c(()=>{f(...d)})},schedule:c,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{s=f},setScheduler:f=>{a=f}}}var Wn=m6(),y6=class extends Rf{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Af&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Ju=new y6;function g6(t){return Math.min(1e3*2**t,3e4)}function NS(t){return(t??"online")==="online"?Ju.isOnline():!0}var om=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function DS(t){let e=!1,n=0,s;const a=h6(),c=()=>a.status!=="pending",u=E=>{if(!c()){const M=new om(E);x(M),t.onCancel?.(M)}},f=()=>{e=!0},d=()=>{e=!1},h=()=>PS.isFocused()&&(t.networkMode==="always"||Ju.isOnline())&&t.canRun(),y=()=>NS(t.networkMode)&&t.canRun(),g=E=>{c()||(s?.(),a.resolve(E))},x=E=>{c()||(s?.(),a.reject(E))},S=()=>new Promise(E=>{s=M=>{(c()||h())&&E(M)},t.onPause?.()}).then(()=>{s=void 0,c()||t.onContinue?.()}),C=()=>{if(c())return;let E;const M=n===0?t.initialPromise:void 0;try{E=M??t.fn()}catch(N){E=Promise.reject(N)}Promise.resolve(E).then(g).catch(N=>{if(c())return;const D=t.retry??(Af?0:3),k=t.retryDelay??g6,j=typeof k=="function"?k(n,N):k,Y=D===!0||typeof D=="number"&&n<D||typeof D=="function"&&D(n,N);if(e||!Y){x(N);return}n++,t.onFail?.(n,N),c6(j).then(()=>h()?void 0:S()).then(()=>{e?x(N):C()})})};return{promise:a,status:()=>a.status,cancel:u,continue:()=>(s?.(),a),cancelRetry:f,continueRetry:d,canStart:y,start:()=>(y()?C():S().then(C),a)}}var kS=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),s6(this.gcTime)&&(this.#e=sm.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Af?1/0:300*1e3))}clearGcTimeout(){this.#e&&(sm.clearTimeout(this.#e),this.#e=void 0)}},v6=class extends kS{#e;#t;#n;#s;#r;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#n=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=wb(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=wb(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=l6(this.state.data,t,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then($r).catch($r):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>a6(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ly||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>im(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!i6(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(d=>d.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},a=()=>{const f=MS(this.options,e),h=(()=>{const y={client:this.#s,queryKey:this.queryKey,meta:this.meta};return s(y),y})();return this.#o=!1,this.options.persister?this.options.persister(f,h,this):f(h)},u=(()=>{const f={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:a};return s(f),f})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#i({type:"fetch",meta:u.fetchOptions?.meta}),this.#r=DS({initialPromise:e?.initialPromise,fn:u.fetchFn,onCancel:f=>{f instanceof om&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(f,d)=>{this.#i({type:"failed",failureCount:f,error:d})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const f=await this.#r.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof om){if(f.silent)return this.#r.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#i({type:"error",error:f}),this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...x6(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?s:void 0,s;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Wn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function x6(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:NS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function wb(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function Cb(t){return{onFetch:(e,n)=>{const s=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,c=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let f={pages:[],pageParams:[]},d=0;const h=async()=>{let y=!1;const g=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},x=MS(e.options,e.fetchOptions),S=async(C,E,M)=>{if(y)return Promise.reject();if(E==null&&C.pages.length)return Promise.resolve(C);const D=(()=>{const J={client:e.client,queryKey:e.queryKey,pageParam:E,direction:M?"backward":"forward",meta:e.options.meta};return g(J),J})(),k=await x(D),{maxPages:j}=e.options,Y=M?f6:u6;return{pages:Y(C.pages,k,j),pageParams:Y(C.pageParams,E,j)}};if(a&&c.length){const C=a==="backward",E=C?b6:Eb,M={pages:c,pageParams:u},N=E(s,M);f=await S(M,N,C)}else{const C=t??c.length;do{const E=d===0?u[0]??s.initialPageParam:Eb(s,f);if(d>0&&E==null)break;f=await S(f,E),d++}while(d<C)}return f};e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=h}}}function Eb(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function b6(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var S6=class extends kS{#e;#t;#n;#s;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||_6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=DS({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(c,u)=>{this.#r({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const s=this.state.status==="pending",a=!this.#s.canStart();try{if(s)e();else{this.#r({type:"pending",variables:t,isPaused:a}),await this.#n.config.onMutate?.(t,this,n);const u=await this.options.onMutate?.(t,n);u!==this.state.context&&this.#r({type:"pending",context:u,variables:t,isPaused:a})}const c=await this.#s.start();return await this.#n.config.onSuccess?.(c,t,this.state.context,this,n),await this.options.onSuccess?.(c,t,this.state.context,n),await this.#n.config.onSettled?.(c,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(c,null,t,this.state.context,n),this.#r({type:"success",data:c}),c}catch(c){try{throw await this.#n.config.onError?.(c,t,this.state.context,this,n),await this.options.onError?.(c,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,c,t,this.state.context,n),c}finally{this.#r({type:"error",error:c})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Wn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function _6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var w6=class extends Rf{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const s=new S6({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(s),s}add(t){this.#e.add(t);const e=hu(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=hu(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=hu(t);if(typeof e=="string"){const s=this.#t.get(e)?.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){const e=hu(t);return typeof e=="string"?this.#t.get(e)?.find(s=>s!==t&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Wn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>bb(e,n))}findAll(t={}){return this.getAll().filter(e=>bb(t,e))}notify(t){Wn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Wn.batch(()=>Promise.all(t.map(e=>e.continue().catch($r))))}};function hu(t){return t.options.scope?.id}var C6=class extends Rf{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const s=e.queryKey,a=e.queryHash??cy(s,e);let c=this.get(a);return c||(c=new v6({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(c)),c}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Wn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>xb(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>xb(t,n)):e}notify(t){Wn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Wn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Wn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},E6=class{#e;#t;#n;#s;#r;#a;#o;#i;constructor(t={}){this.#e=t.queryCache||new C6,this.#t=t.mutationCache||new w6,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=PS.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Ju.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(im(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),c=this.#e.get(s.queryHash)?.state.data,u=r6(e,c);if(u!==void 0)return this.#e.build(this,s).setData(u,{...n,manual:!0})}setQueriesData(t,e,n){return Wn.batch(()=>this.#e.findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Wn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Wn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=Wn.batch(()=>this.#e.findAll(t).map(a=>a.cancel(n)));return Promise.all(s).then($r).catch($r)}invalidateQueries(t,e={}){return Wn.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=Wn.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let c=a.fetch(void 0,n);return n.throwOnError||(c=c.catch($r)),a.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(s).then($r)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(im(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then($r).catch($r)}fetchInfiniteQuery(t){return t.behavior=Cb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then($r).catch($r)}ensureInfiniteQueryData(t){return t.behavior=Cb(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ju.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(Nc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(s=>{Dc(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Nc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(s=>{Dc(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=cy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ly&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},T6=R.createContext(void 0),R6=({client:t,children:e})=>(R.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),b.jsx(T6.Provider,{value:t,children:e}));async function A6(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const O6=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return await A6(n),await n.json()},M6=new E6({defaultOptions:{queries:{queryFn:O6({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),P6=1,N6=1e3;let gp=0;function D6(){return gp=(gp+1)%Number.MAX_SAFE_INTEGER,gp.toString()}const vp=new Map,Tb=t=>{if(vp.has(t))return;const e=setTimeout(()=>{vp.delete(t),Rc({type:"REMOVE_TOAST",toastId:t})},N6);vp.set(t,e)},k6=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,P6)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Tb(n):t.toasts.forEach(s=>{Tb(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Pu=[];let Nu={toasts:[]};function Rc(t){Nu=k6(Nu,t),Pu.forEach(e=>{e(Nu)})}function j6({...t}){const e=D6(),n=a=>Rc({type:"UPDATE_TOAST",toast:{...a,id:e}}),s=()=>Rc({type:"DISMISS_TOAST",toastId:e});return Rc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:a=>{a||s()}}}),{id:e,dismiss:s,update:n}}function jS(){const[t,e]=R.useState(Nu);return R.useEffect(()=>(Pu.push(e),()=>{const n=Pu.indexOf(e);n>-1&&Pu.splice(n,1)}),[t]),{...t,toast:j6,dismiss:n=>Rc({type:"DISMISS_TOAST",toastId:n})}}function jt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t?.(a),n===!1||!a.defaultPrevented)return e?.(a)}}function Rb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function LS(...t){return e=>{let n=!1;const s=t.map(a=>{const c=Rb(a,e);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let a=0;a<s.length;a++){const c=s[a];typeof c=="function"?c():Rb(t[a],null)}}}}function an(...t){return R.useCallback(LS(...t),t)}function Pi(t,e=[]){let n=[];function s(c,u){const f=R.createContext(u),d=n.length;n=[...n,u];const h=g=>{const{scope:x,children:S,...C}=g,E=x?.[t]?.[d]||f,M=R.useMemo(()=>C,Object.values(C));return b.jsx(E.Provider,{value:M,children:S})};h.displayName=c+"Provider";function y(g,x){const S=x?.[t]?.[d]||f,C=R.useContext(S);if(C)return C;if(u!==void 0)return u;throw new Error(`\`${g}\` must be used within \`${c}\``)}return[h,y]}const a=()=>{const c=n.map(u=>R.createContext(u));return function(f){const d=f?.[t]||c;return R.useMemo(()=>({[`__scope${t}`]:{...f,[t]:d}}),[f,d])}};return a.scopeName=t,[s,L6(a,...e)]}function L6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const u=s.reduce((f,{useScope:d,scopeName:h})=>{const g=d(c)[`__scope${h}`];return{...f,...g}},{});return R.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function Wu(t){const e=z6(t),n=R.forwardRef((s,a)=>{const{children:c,...u}=s,f=R.Children.toArray(c),d=f.find(B6);if(d){const h=d.props.children,y=f.map(g=>g===d?R.Children.count(h)>1?R.Children.only(null):R.isValidElement(h)?h.props.children:null:g);return b.jsx(e,{...u,ref:a,children:R.isValidElement(h)?R.cloneElement(h,void 0,y):null})}return b.jsx(e,{...u,ref:a,children:c})});return n.displayName=`${t}.Slot`,n}var U6=Wu("Slot");function z6(t){const e=R.forwardRef((n,s)=>{const{children:a,...c}=n;if(R.isValidElement(a)){const u=$6(a),f=H6(c,a.props);return a.type!==R.Fragment&&(f.ref=s?LS(s,u):u),R.cloneElement(a,f)}return R.Children.count(a)>1?R.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var US=Symbol("radix.slottable");function I6(t){const e=({children:n})=>b.jsx(b.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=US,e}function B6(t){return R.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===US}function H6(t,e){const n={...e};for(const s in e){const a=t[s],c=e[s];/^on[A-Z]/.test(s)?a&&c?n[s]=(...f)=>{const d=c(...f);return a(...f),d}:a&&(n[s]=a):s==="style"?n[s]={...a,...c}:s==="className"&&(n[s]=[a,c].filter(Boolean).join(" "))}return{...t,...n}}function $6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function zS(t){const e=t+"CollectionProvider",[n,s]=Pi(e),[a,c]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=E=>{const{scope:M,children:N}=E,D=Ne.useRef(null),k=Ne.useRef(new Map).current;return b.jsx(a,{scope:M,itemMap:k,collectionRef:D,children:N})};u.displayName=e;const f=t+"CollectionSlot",d=Wu(f),h=Ne.forwardRef((E,M)=>{const{scope:N,children:D}=E,k=c(f,N),j=an(M,k.collectionRef);return b.jsx(d,{ref:j,children:D})});h.displayName=f;const y=t+"CollectionItemSlot",g="data-radix-collection-item",x=Wu(y),S=Ne.forwardRef((E,M)=>{const{scope:N,children:D,...k}=E,j=Ne.useRef(null),Y=an(M,j),J=c(y,N);return Ne.useEffect(()=>(J.itemMap.set(j,{ref:j,...k}),()=>void J.itemMap.delete(j))),b.jsx(x,{[g]:"",ref:Y,children:D})});S.displayName=y;function C(E){const M=c(t+"CollectionConsumer",E);return Ne.useCallback(()=>{const D=M.collectionRef.current;if(!D)return[];const k=Array.from(D.querySelectorAll(`[${g}]`));return Array.from(M.itemMap.values()).sort((J,G)=>k.indexOf(J.ref.current)-k.indexOf(G.ref.current))},[M.collectionRef,M.itemMap])}return[{Provider:u,Slot:h,ItemSlot:S},C,s]}var V6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zt=V6.reduce((t,e)=>{const n=Wu(`Primitive.${e}`),s=R.forwardRef((a,c)=>{const{asChild:u,...f}=a,d=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(d,{...f,ref:c})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function IS(t,e){t&&Fc.flushSync(()=>t.dispatchEvent(e))}function qn(t){const e=R.useRef(t);return R.useEffect(()=>{e.current=t}),R.useMemo(()=>(...n)=>e.current?.(...n),[])}function q6(t,e=globalThis?.document){const n=qn(t);R.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var F6="DismissableLayer",cm="dismissableLayer.update",Y6="dismissableLayer.pointerDownOutside",G6="dismissableLayer.focusOutside",Ab,BS=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),uy=R.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...d}=t,h=R.useContext(BS),[y,g]=R.useState(null),x=y?.ownerDocument??globalThis?.document,[,S]=R.useState({}),C=an(e,G=>g(G)),E=Array.from(h.layers),[M]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=E.indexOf(M),D=y?E.indexOf(y):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,j=D>=N,Y=X6(G=>{const X=G.target,pe=[...h.branches].some(xe=>xe.contains(X));!j||pe||(a?.(G),u?.(G),G.defaultPrevented||f?.())},x),J=Q6(G=>{const X=G.target;[...h.branches].some(xe=>xe.contains(X))||(c?.(G),u?.(G),G.defaultPrevented||f?.())},x);return q6(G=>{D===h.layers.size-1&&(s?.(G),!G.defaultPrevented&&f&&(G.preventDefault(),f()))},x),R.useEffect(()=>{if(y)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Ab=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(y)),h.layers.add(y),Ob(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=Ab)}},[y,x,n,h]),R.useEffect(()=>()=>{y&&(h.layers.delete(y),h.layersWithOutsidePointerEventsDisabled.delete(y),Ob())},[y,h]),R.useEffect(()=>{const G=()=>S({});return document.addEventListener(cm,G),()=>document.removeEventListener(cm,G)},[]),b.jsx(zt.div,{...d,ref:C,style:{pointerEvents:k?j?"auto":"none":void 0,...t.style},onFocusCapture:jt(t.onFocusCapture,J.onFocusCapture),onBlurCapture:jt(t.onBlurCapture,J.onBlurCapture),onPointerDownCapture:jt(t.onPointerDownCapture,Y.onPointerDownCapture)})});uy.displayName=F6;var K6="DismissableLayerBranch",HS=R.forwardRef((t,e)=>{const n=R.useContext(BS),s=R.useRef(null),a=an(e,s);return R.useEffect(()=>{const c=s.current;if(c)return n.branches.add(c),()=>{n.branches.delete(c)}},[n.branches]),b.jsx(zt.div,{...t,ref:a})});HS.displayName=K6;function X6(t,e=globalThis?.document){const n=qn(t),s=R.useRef(!1),a=R.useRef(()=>{});return R.useEffect(()=>{const c=f=>{if(f.target&&!s.current){let d=function(){$S(Y6,n,h,{discrete:!0})};const h={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=d,e.addEventListener("click",a.current,{once:!0})):d()}else e.removeEventListener("click",a.current);s.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",c),e.removeEventListener("click",a.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function Q6(t,e=globalThis?.document){const n=qn(t),s=R.useRef(!1);return R.useEffect(()=>{const a=c=>{c.target&&!s.current&&$S(G6,n,{originalEvent:c},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Ob(){const t=new CustomEvent(cm);document.dispatchEvent(t)}function $S(t,e,n,{discrete:s}){const a=n.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&a.addEventListener(t,e,{once:!0}),s?IS(a,c):a.dispatchEvent(c)}var Z6=uy,J6=HS,Dr=globalThis?.document?R.useLayoutEffect:()=>{},W6="Portal",VS=R.forwardRef((t,e)=>{const{container:n,...s}=t,[a,c]=R.useState(!1);Dr(()=>c(!0),[]);const u=n||a&&globalThis?.document?.body;return u?RA.createPortal(b.jsx(zt.div,{...s,ref:e}),u):null});VS.displayName=W6;function eO(t,e){return R.useReducer((n,s)=>e[n][s]??n,t)}var fa=t=>{const{present:e,children:n}=t,s=tO(e),a=typeof n=="function"?n({present:s.isPresent}):R.Children.only(n),c=an(s.ref,nO(a));return typeof n=="function"||s.isPresent?R.cloneElement(a,{ref:c}):null};fa.displayName="Presence";function tO(t){const[e,n]=R.useState(),s=R.useRef(null),a=R.useRef(t),c=R.useRef("none"),u=t?"mounted":"unmounted",[f,d]=eO(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const h=pu(s.current);c.current=f==="mounted"?h:"none"},[f]),Dr(()=>{const h=s.current,y=a.current;if(y!==t){const x=c.current,S=pu(h);t?d("MOUNT"):S==="none"||h?.display==="none"?d("UNMOUNT"):d(y&&x!==S?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,d]),Dr(()=>{if(e){let h;const y=e.ownerDocument.defaultView??window,g=S=>{const E=pu(s.current).includes(CSS.escape(S.animationName));if(S.target===e&&E&&(d("ANIMATION_END"),!a.current)){const M=e.style.animationFillMode;e.style.animationFillMode="forwards",h=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=M)})}},x=S=>{S.target===e&&(c.current=pu(s.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{y.clearTimeout(h),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:R.useCallback(h=>{s.current=h?getComputedStyle(h):null,n(h)},[])}}function pu(t){return t?.animationName||"none"}function nO(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var rO=mA[" useInsertionEffect ".trim().toString()]||Dr;function qS({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[a,c,u]=sO({defaultProp:e,onChange:n}),f=t!==void 0,d=f?t:a;{const y=R.useRef(t!==void 0);R.useEffect(()=>{const g=y.current;g!==f&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=f},[f,s])}const h=R.useCallback(y=>{if(f){const g=iO(y)?y(t):y;g!==t&&u.current?.(g)}else c(y)},[f,t,c,u]);return[d,h]}function sO({defaultProp:t,onChange:e}){const[n,s]=R.useState(t),a=R.useRef(n),c=R.useRef(e);return rO(()=>{c.current=e},[e]),R.useEffect(()=>{a.current!==n&&(c.current?.(n),a.current=n)},[n,a]),[n,s,c]}function iO(t){return typeof t=="function"}var aO=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),oO="VisuallyHidden",Of=R.forwardRef((t,e)=>b.jsx(zt.span,{...t,ref:e,style:{...aO,...t.style}}));Of.displayName=oO;var cO=Of,fy="ToastProvider",[dy,lO,uO]=zS("Toast"),[FS]=Pi("Toast",[uO]),[fO,Mf]=FS(fy),YS=t=>{const{__scopeToast:e,label:n="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:c=50,children:u}=t,[f,d]=R.useState(null),[h,y]=R.useState(0),g=R.useRef(!1),x=R.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${fy}\`. Expected non-empty \`string\`.`),b.jsx(dy.Provider,{scope:e,children:b.jsx(fO,{scope:e,label:n,duration:s,swipeDirection:a,swipeThreshold:c,toastCount:h,viewport:f,onViewportChange:d,onToastAdd:R.useCallback(()=>y(S=>S+1),[]),onToastRemove:R.useCallback(()=>y(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:x,children:u})})};YS.displayName=fy;var GS="ToastViewport",dO=["F8"],lm="toast.viewportPause",um="toast.viewportResume",KS=R.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:s=dO,label:a="Notifications ({hotkey})",...c}=t,u=Mf(GS,n),f=lO(n),d=R.useRef(null),h=R.useRef(null),y=R.useRef(null),g=R.useRef(null),x=an(e,g,u.onViewportChange),S=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=u.toastCount>0;R.useEffect(()=>{const M=N=>{s.length!==0&&s.every(k=>N[k]||N.code===k)&&g.current?.focus()};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[s]),R.useEffect(()=>{const M=d.current,N=g.current;if(C&&M&&N){const D=()=>{if(!u.isClosePausedRef.current){const J=new CustomEvent(lm);N.dispatchEvent(J),u.isClosePausedRef.current=!0}},k=()=>{if(u.isClosePausedRef.current){const J=new CustomEvent(um);N.dispatchEvent(J),u.isClosePausedRef.current=!1}},j=J=>{!M.contains(J.relatedTarget)&&k()},Y=()=>{M.contains(document.activeElement)||k()};return M.addEventListener("focusin",D),M.addEventListener("focusout",j),M.addEventListener("pointermove",D),M.addEventListener("pointerleave",Y),window.addEventListener("blur",D),window.addEventListener("focus",k),()=>{M.removeEventListener("focusin",D),M.removeEventListener("focusout",j),M.removeEventListener("pointermove",D),M.removeEventListener("pointerleave",Y),window.removeEventListener("blur",D),window.removeEventListener("focus",k)}}},[C,u.isClosePausedRef]);const E=R.useCallback(({tabbingDirection:M})=>{const D=f().map(k=>{const j=k.ref.current,Y=[j,...EO(j)];return M==="forwards"?Y:Y.reverse()});return(M==="forwards"?D.reverse():D).flat()},[f]);return R.useEffect(()=>{const M=g.current;if(M){const N=D=>{const k=D.altKey||D.ctrlKey||D.metaKey;if(D.key==="Tab"&&!k){const Y=document.activeElement,J=D.shiftKey;if(D.target===M&&J){h.current?.focus();return}const pe=E({tabbingDirection:J?"backwards":"forwards"}),xe=pe.findIndex(Se=>Se===Y);xp(pe.slice(xe+1))?D.preventDefault():J?h.current?.focus():y.current?.focus()}};return M.addEventListener("keydown",N),()=>M.removeEventListener("keydown",N)}},[f,E]),b.jsxs(J6,{ref:d,role:"region","aria-label":a.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&b.jsx(fm,{ref:h,onFocusFromOutsideViewport:()=>{const M=E({tabbingDirection:"forwards"});xp(M)}}),b.jsx(dy.Slot,{scope:n,children:b.jsx(zt.ol,{tabIndex:-1,...c,ref:x})}),C&&b.jsx(fm,{ref:y,onFocusFromOutsideViewport:()=>{const M=E({tabbingDirection:"backwards"});xp(M)}})]})});KS.displayName=GS;var XS="ToastFocusProxy",fm=R.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...a}=t,c=Mf(XS,n);return b.jsx(Of,{tabIndex:0,...a,ref:e,style:{position:"fixed"},onFocus:u=>{const f=u.relatedTarget;!c.viewport?.contains(f)&&s()}})});fm.displayName=XS;var Yc="Toast",hO="toast.swipeStart",pO="toast.swipeMove",mO="toast.swipeCancel",yO="toast.swipeEnd",QS=R.forwardRef((t,e)=>{const{forceMount:n,open:s,defaultOpen:a,onOpenChange:c,...u}=t,[f,d]=qS({prop:s,defaultProp:a??!0,onChange:c,caller:Yc});return b.jsx(fa,{present:n||f,children:b.jsx(xO,{open:f,...u,ref:e,onClose:()=>d(!1),onPause:qn(t.onPause),onResume:qn(t.onResume),onSwipeStart:jt(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:jt(t.onSwipeMove,h=>{const{x:y,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:jt(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:jt(t.onSwipeEnd,h=>{const{x:y,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),d(!1)})})})});QS.displayName=Yc;var[gO,vO]=FS(Yc,{onClose(){}}),xO=R.forwardRef((t,e)=>{const{__scopeToast:n,type:s="foreground",duration:a,open:c,onClose:u,onEscapeKeyDown:f,onPause:d,onResume:h,onSwipeStart:y,onSwipeMove:g,onSwipeCancel:x,onSwipeEnd:S,...C}=t,E=Mf(Yc,n),[M,N]=R.useState(null),D=an(e,ge=>N(ge)),k=R.useRef(null),j=R.useRef(null),Y=a||E.duration,J=R.useRef(0),G=R.useRef(Y),X=R.useRef(0),{onToastAdd:pe,onToastRemove:xe}=E,Se=qn(()=>{M?.contains(document.activeElement)&&E.viewport?.focus(),u()}),we=R.useCallback(ge=>{!ge||ge===1/0||(window.clearTimeout(X.current),J.current=new Date().getTime(),X.current=window.setTimeout(Se,ge))},[Se]);R.useEffect(()=>{const ge=E.viewport;if(ge){const De=()=>{we(G.current),h?.()},U=()=>{const te=new Date().getTime()-J.current;G.current=G.current-te,window.clearTimeout(X.current),d?.()};return ge.addEventListener(lm,U),ge.addEventListener(um,De),()=>{ge.removeEventListener(lm,U),ge.removeEventListener(um,De)}}},[E.viewport,Y,d,h,we]),R.useEffect(()=>{c&&!E.isClosePausedRef.current&&we(Y)},[c,Y,E.isClosePausedRef,we]),R.useEffect(()=>(pe(),()=>xe()),[pe,xe]);const Ce=R.useMemo(()=>M?r_(M):null,[M]);return E.viewport?b.jsxs(b.Fragment,{children:[Ce&&b.jsx(bO,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite",children:Ce}),b.jsx(gO,{scope:n,onClose:Se,children:Fc.createPortal(b.jsx(dy.ItemSlot,{scope:n,children:b.jsx(Z6,{asChild:!0,onEscapeKeyDown:jt(f,()=>{E.isFocusedToastEscapeKeyDownRef.current||Se(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:b.jsx(zt.li,{tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":E.swipeDirection,...C,ref:D,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:jt(t.onKeyDown,ge=>{ge.key==="Escape"&&(f?.(ge.nativeEvent),ge.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,Se()))}),onPointerDown:jt(t.onPointerDown,ge=>{ge.button===0&&(k.current={x:ge.clientX,y:ge.clientY})}),onPointerMove:jt(t.onPointerMove,ge=>{if(!k.current)return;const De=ge.clientX-k.current.x,U=ge.clientY-k.current.y,te=!!j.current,$=["left","right"].includes(E.swipeDirection),Ee=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,Ke=$?Ee(0,De):0,I=$?0:Ee(0,U),ie=ge.pointerType==="touch"?10:2,de={x:Ke,y:I},be={originalEvent:ge,delta:de};te?(j.current=de,mu(pO,g,be,{discrete:!1})):Mb(de,E.swipeDirection,ie)?(j.current=de,mu(hO,y,be,{discrete:!1}),ge.target.setPointerCapture(ge.pointerId)):(Math.abs(De)>ie||Math.abs(U)>ie)&&(k.current=null)}),onPointerUp:jt(t.onPointerUp,ge=>{const De=j.current,U=ge.target;if(U.hasPointerCapture(ge.pointerId)&&U.releasePointerCapture(ge.pointerId),j.current=null,k.current=null,De){const te=ge.currentTarget,$={originalEvent:ge,delta:De};Mb(De,E.swipeDirection,E.swipeThreshold)?mu(yO,S,$,{discrete:!0}):mu(mO,x,$,{discrete:!0}),te.addEventListener("click",Ee=>Ee.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),bO=t=>{const{__scopeToast:e,children:n,...s}=t,a=Mf(Yc,e),[c,u]=R.useState(!1),[f,d]=R.useState(!1);return wO(()=>u(!0)),R.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),f?null:b.jsx(VS,{asChild:!0,children:b.jsx(Of,{...s,children:c&&b.jsxs(b.Fragment,{children:[a.label," ",n]})})})},SO="ToastTitle",ZS=R.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return b.jsx(zt.div,{...s,ref:e})});ZS.displayName=SO;var _O="ToastDescription",JS=R.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return b.jsx(zt.div,{...s,ref:e})});JS.displayName=_O;var WS="ToastAction",e_=R.forwardRef((t,e)=>{const{altText:n,...s}=t;return n.trim()?b.jsx(n_,{altText:n,asChild:!0,children:b.jsx(hy,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${WS}\`. Expected non-empty \`string\`.`),null)});e_.displayName=WS;var t_="ToastClose",hy=R.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t,a=vO(t_,n);return b.jsx(n_,{asChild:!0,children:b.jsx(zt.button,{type:"button",...s,ref:e,onClick:jt(t.onClick,a.onClose)})})});hy.displayName=t_;var n_=R.forwardRef((t,e)=>{const{__scopeToast:n,altText:s,...a}=t;return b.jsx(zt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:e})});function r_(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),CO(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",c=s.dataset.radixToastAnnounceExclude==="";if(!a)if(c){const u=s.dataset.radixToastAnnounceAlt;u&&e.push(u)}else e.push(...r_(s))}}),e}function mu(t,e,n,{discrete:s}){const a=n.originalEvent.currentTarget,c=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&a.addEventListener(t,e,{once:!0}),s?IS(a,c):a.dispatchEvent(c)}var Mb=(t,e,n=0)=>{const s=Math.abs(t.x),a=Math.abs(t.y),c=s>a;return e==="left"||e==="right"?c&&s>n:!c&&a>n};function wO(t=()=>{}){const e=qn(t);Dr(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[e])}function CO(t){return t.nodeType===t.ELEMENT_NODE}function EO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function xp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var TO=YS,s_=KS,i_=QS,a_=ZS,o_=JS,c_=e_,l_=hy;function u_(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=u_(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function f_(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=u_(t))&&(s&&(s+=" "),s+=e);return s}const Pb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Nb=f_,Pf=(t,e)=>n=>{var s;if(e?.variants==null)return Nb(t,n?.class,n?.className);const{variants:a,defaultVariants:c}=e,u=Object.keys(a).map(h=>{const y=n?.[h],g=c?.[h];if(y===null)return null;const x=Pb(y)||Pb(g);return a[h][x]}),f=n&&Object.entries(n).reduce((h,y)=>{let[g,x]=y;return x===void 0||(h[g]=x),h},{}),d=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((h,y)=>{let{class:g,className:x,...S}=y;return Object.entries(S).every(C=>{let[E,M]=C;return Array.isArray(M)?M.includes({...c,...f}[E]):{...c,...f}[E]===M})?[...h,g,x]:h},[]);return Nb(t,u,d,n?.class,n?.className)};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Db=t=>{const e=AO(t);return e.charAt(0).toUpperCase()+e.slice(1)},d_=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),OO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:c,iconNode:u,...f},d)=>R.createElement("svg",{ref:d,...MO,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:d_("lucide",a),...!c&&!OO(f)&&{"aria-hidden":"true"},...f},[...u.map(([h,y])=>R.createElement(h,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=(t,e)=>{const n=R.forwardRef(({className:s,...a},c)=>R.createElement(PO,{ref:c,iconNode:e,className:d_(`lucide-${RO(Db(t))}`,`lucide-${t}`,s),...a}));return n.displayName=Db(t),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],DO=En("check",NO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],jO=En("circle-alert",kO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],h_=En("circle-check-big",LO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],zO=En("circle-check",UO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],p_=En("circle",IO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],m_=En("clock",BO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],$O=En("copy",HO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],qO=En("crown",VO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],py=En("loader-circle",FO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],kb=En("message-square",YO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],KO=En("moon",GO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],y_=En("music",XO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],ZO=En("pause",QO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],WO=En("play",JO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],g_=En("search",e3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],n3=En("sun",t3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],dm=En("trophy",r3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],i3=En("user-x",s3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],o3=En("users",a3);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],l3=En("x",c3),my="-",u3=t=>{const e=d3(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:u=>{const f=u.split(my);return f[0]===""&&f.length!==1&&f.shift(),v_(f,e)||f3(u)},getConflictingClassGroupIds:(u,f)=>{const d=n[u]||[];return f&&s[u]?[...d,...s[u]]:d}}},v_=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),a=s?v_(t.slice(1),s):void 0;if(a)return a;if(e.validators.length===0)return;const c=t.join(my);return e.validators.find(({validator:u})=>u(c))?.classGroupId},jb=/^\[(.+)\]$/,f3=t=>{if(jb.test(t)){const e=jb.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},d3=t=>{const{theme:e,classGroups:n}=t,s={nextPart:new Map,validators:[]};for(const a in n)hm(n[a],s,a,e);return s},hm=(t,e,n,s)=>{t.forEach(a=>{if(typeof a=="string"){const c=a===""?e:Lb(e,a);c.classGroupId=n;return}if(typeof a=="function"){if(h3(a)){hm(a(s),e,n,s);return}e.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([c,u])=>{hm(u,Lb(e,c),n,s)})})},Lb=(t,e)=>{let n=t;return e.split(my).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},h3=t=>t.isThemeGetter,p3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const a=(c,u)=>{n.set(c,u),e++,e>t&&(e=0,s=n,n=new Map)};return{get(c){let u=n.get(c);if(u!==void 0)return u;if((u=s.get(c))!==void 0)return a(c,u),u},set(c,u){n.has(c)?n.set(c,u):a(c,u)}}},pm="!",mm=":",m3=mm.length,y3=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=a=>{const c=[];let u=0,f=0,d=0,h;for(let C=0;C<a.length;C++){let E=a[C];if(u===0&&f===0){if(E===mm){c.push(a.slice(d,C)),d=C+m3;continue}if(E==="/"){h=C;continue}}E==="["?u++:E==="]"?u--:E==="("?f++:E===")"&&f--}const y=c.length===0?a:a.substring(d),g=g3(y),x=g!==y,S=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:g,maybePostfixModifierPosition:S}};if(e){const a=e+mm,c=s;s=u=>u.startsWith(a)?c(u.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const a=s;s=c=>n({className:c,parseClassName:a})}return s},g3=t=>t.endsWith(pm)?t.substring(0,t.length-1):t.startsWith(pm)?t.substring(1):t,v3=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let c=[];return s.forEach(u=>{u[0]==="["||e[u]?(a.push(...c.sort(),u),c=[]):c.push(u)}),a.push(...c.sort()),a}},x3=t=>({cache:p3(t.cacheSize),parseClassName:y3(t),sortModifiers:v3(t),...u3(t)}),b3=/\s+/,S3=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:c}=e,u=[],f=t.trim().split(b3);let d="";for(let h=f.length-1;h>=0;h-=1){const y=f[h],{isExternal:g,modifiers:x,hasImportantModifier:S,baseClassName:C,maybePostfixModifierPosition:E}=n(y);if(g){d=y+(d.length>0?" "+d:d);continue}let M=!!E,N=s(M?C.substring(0,E):C);if(!N){if(!M){d=y+(d.length>0?" "+d:d);continue}if(N=s(C),!N){d=y+(d.length>0?" "+d:d);continue}M=!1}const D=c(x).join(":"),k=S?D+pm:D,j=k+N;if(u.includes(j))continue;u.push(j);const Y=a(N,M);for(let J=0;J<Y.length;++J){const G=Y[J];u.push(k+G)}d=y+(d.length>0?" "+d:d)}return d};function _3(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=x_(e))&&(s&&(s+=" "),s+=n);return s}const x_=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=x_(t[s]))&&(n&&(n+=" "),n+=e);return n};function w3(t,...e){let n,s,a,c=u;function u(d){const h=e.reduce((y,g)=>g(y),t());return n=x3(h),s=n.cache.get,a=n.cache.set,c=f,f(d)}function f(d){const h=s(d);if(h)return h;const y=S3(d,n);return a(d,y),y}return function(){return c(_3.apply(null,arguments))}}const On=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},b_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,S_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,C3=/^\d+\/\d+$/,E3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,T3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,R3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,A3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,O3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ga=t=>C3.test(t),gt=t=>!!t&&!Number.isNaN(Number(t)),wi=t=>!!t&&Number.isInteger(Number(t)),bp=t=>t.endsWith("%")&&gt(t.slice(0,-1)),zs=t=>E3.test(t),M3=()=>!0,P3=t=>T3.test(t)&&!R3.test(t),__=()=>!1,N3=t=>A3.test(t),D3=t=>O3.test(t),k3=t=>!Ve(t)&&!qe(t),j3=t=>ho(t,E_,__),Ve=t=>b_.test(t),Ki=t=>ho(t,T_,P3),Sp=t=>ho(t,B3,gt),Ub=t=>ho(t,w_,__),L3=t=>ho(t,C_,D3),yu=t=>ho(t,R_,N3),qe=t=>S_.test(t),dc=t=>po(t,T_),U3=t=>po(t,H3),zb=t=>po(t,w_),z3=t=>po(t,E_),I3=t=>po(t,C_),gu=t=>po(t,R_,!0),ho=(t,e,n)=>{const s=b_.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},po=(t,e,n=!1)=>{const s=S_.exec(t);return s?s[1]?e(s[1]):n:!1},w_=t=>t==="position"||t==="percentage",C_=t=>t==="image"||t==="url",E_=t=>t==="length"||t==="size"||t==="bg-size",T_=t=>t==="length",B3=t=>t==="number",H3=t=>t==="family-name",R_=t=>t==="shadow",$3=()=>{const t=On("color"),e=On("font"),n=On("text"),s=On("font-weight"),a=On("tracking"),c=On("leading"),u=On("breakpoint"),f=On("container"),d=On("spacing"),h=On("radius"),y=On("shadow"),g=On("inset-shadow"),x=On("text-shadow"),S=On("drop-shadow"),C=On("blur"),E=On("perspective"),M=On("aspect"),N=On("ease"),D=On("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Y=()=>[...j(),qe,Ve],J=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto","contain","none"],X=()=>[qe,Ve,d],pe=()=>[Ga,"full","auto",...X()],xe=()=>[wi,"none","subgrid",qe,Ve],Se=()=>["auto",{span:["full",wi,qe,Ve]},wi,qe,Ve],we=()=>[wi,"auto",qe,Ve],Ce=()=>["auto","min","max","fr",qe,Ve],ge=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],De=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...X()],te=()=>[Ga,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...X()],$=()=>[t,qe,Ve],Ee=()=>[...j(),zb,Ub,{position:[qe,Ve]}],Ke=()=>["no-repeat",{repeat:["","x","y","space","round"]}],I=()=>["auto","cover","contain",z3,j3,{size:[qe,Ve]}],ie=()=>[bp,dc,Ki],de=()=>["","none","full",h,qe,Ve],be=()=>["",gt,dc,Ki],ve=()=>["solid","dashed","dotted","double"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ke=()=>[gt,bp,zb,Ub],vt=()=>["","none",C,qe,Ve],B=()=>["none",gt,qe,Ve],K=()=>["none",gt,qe,Ve],fe=()=>[gt,qe,Ve],je=()=>[Ga,"full",...X()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[zs],breakpoint:[zs],color:[M3],container:[zs],"drop-shadow":[zs],ease:["in","out","in-out"],font:[k3],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[zs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[zs],shadow:[zs],spacing:["px",gt],text:[zs],"text-shadow":[zs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ga,Ve,qe,M]}],container:["container"],columns:[{columns:[gt,Ve,qe,f]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Y()}],overflow:[{overflow:J()}],"overflow-x":[{"overflow-x":J()}],"overflow-y":[{"overflow-y":J()}],overscroll:[{overscroll:G()}],"overscroll-x":[{"overscroll-x":G()}],"overscroll-y":[{"overscroll-y":G()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:pe()}],"inset-x":[{"inset-x":pe()}],"inset-y":[{"inset-y":pe()}],start:[{start:pe()}],end:[{end:pe()}],top:[{top:pe()}],right:[{right:pe()}],bottom:[{bottom:pe()}],left:[{left:pe()}],visibility:["visible","invisible","collapse"],z:[{z:[wi,"auto",qe,Ve]}],basis:[{basis:[Ga,"full","auto",f,...X()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[gt,Ga,"auto","initial","none",Ve]}],grow:[{grow:["",gt,qe,Ve]}],shrink:[{shrink:["",gt,qe,Ve]}],order:[{order:[wi,"first","last","none",qe,Ve]}],"grid-cols":[{"grid-cols":xe()}],"col-start-end":[{col:Se()}],"col-start":[{"col-start":we()}],"col-end":[{"col-end":we()}],"grid-rows":[{"grid-rows":xe()}],"row-start-end":[{row:Se()}],"row-start":[{"row-start":we()}],"row-end":[{"row-end":we()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Ce()}],"auto-rows":[{"auto-rows":Ce()}],gap:[{gap:X()}],"gap-x":[{"gap-x":X()}],"gap-y":[{"gap-y":X()}],"justify-content":[{justify:[...ge(),"normal"]}],"justify-items":[{"justify-items":[...De(),"normal"]}],"justify-self":[{"justify-self":["auto",...De()]}],"align-content":[{content:["normal",...ge()]}],"align-items":[{items:[...De(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...De(),{baseline:["","last"]}]}],"place-content":[{"place-content":ge()}],"place-items":[{"place-items":[...De(),"baseline"]}],"place-self":[{"place-self":["auto",...De()]}],p:[{p:X()}],px:[{px:X()}],py:[{py:X()}],ps:[{ps:X()}],pe:[{pe:X()}],pt:[{pt:X()}],pr:[{pr:X()}],pb:[{pb:X()}],pl:[{pl:X()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":X()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":X()}],"space-y-reverse":["space-y-reverse"],size:[{size:te()}],w:[{w:[f,"screen",...te()]}],"min-w":[{"min-w":[f,"screen","none",...te()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...te()]}],h:[{h:["screen","lh",...te()]}],"min-h":[{"min-h":["screen","lh","none",...te()]}],"max-h":[{"max-h":["screen","lh",...te()]}],"font-size":[{text:["base",n,dc,Ki]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,qe,Sp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",bp,Ve]}],"font-family":[{font:[U3,Ve,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,qe,Ve]}],"line-clamp":[{"line-clamp":[gt,"none",qe,Sp]}],leading:[{leading:[c,...X()]}],"list-image":[{"list-image":["none",qe,Ve]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",qe,Ve]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ve(),"wavy"]}],"text-decoration-thickness":[{decoration:[gt,"from-font","auto",qe,Ki]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[gt,"auto",qe,Ve]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:X()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe,Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe,Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ee()}],"bg-repeat":[{bg:Ke()}],"bg-size":[{bg:I()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},wi,qe,Ve],radial:["",qe,Ve],conic:[wi,qe,Ve]},I3,L3]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:ie()}],"gradient-via-pos":[{via:ie()}],"gradient-to-pos":[{to:ie()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:de()}],"rounded-s":[{"rounded-s":de()}],"rounded-e":[{"rounded-e":de()}],"rounded-t":[{"rounded-t":de()}],"rounded-r":[{"rounded-r":de()}],"rounded-b":[{"rounded-b":de()}],"rounded-l":[{"rounded-l":de()}],"rounded-ss":[{"rounded-ss":de()}],"rounded-se":[{"rounded-se":de()}],"rounded-ee":[{"rounded-ee":de()}],"rounded-es":[{"rounded-es":de()}],"rounded-tl":[{"rounded-tl":de()}],"rounded-tr":[{"rounded-tr":de()}],"rounded-br":[{"rounded-br":de()}],"rounded-bl":[{"rounded-bl":de()}],"border-w":[{border:be()}],"border-w-x":[{"border-x":be()}],"border-w-y":[{"border-y":be()}],"border-w-s":[{"border-s":be()}],"border-w-e":[{"border-e":be()}],"border-w-t":[{"border-t":be()}],"border-w-r":[{"border-r":be()}],"border-w-b":[{"border-b":be()}],"border-w-l":[{"border-l":be()}],"divide-x":[{"divide-x":be()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":be()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ve(),"hidden","none"]}],"divide-style":[{divide:[...ve(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...ve(),"none","hidden"]}],"outline-offset":[{"outline-offset":[gt,qe,Ve]}],"outline-w":[{outline:["",gt,dc,Ki]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",y,gu,yu]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",g,gu,yu]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:be()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[gt,Ki]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":be()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",x,gu,yu]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[gt,qe,Ve]}],"mix-blend":[{"mix-blend":[...Te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[gt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ke()}],"mask-image-linear-to-pos":[{"mask-linear-to":ke()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":ke()}],"mask-image-t-to-pos":[{"mask-t-to":ke()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":ke()}],"mask-image-r-to-pos":[{"mask-r-to":ke()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":ke()}],"mask-image-b-to-pos":[{"mask-b-to":ke()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":ke()}],"mask-image-l-to-pos":[{"mask-l-to":ke()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":ke()}],"mask-image-x-to-pos":[{"mask-x-to":ke()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":ke()}],"mask-image-y-to-pos":[{"mask-y-to":ke()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[qe,Ve]}],"mask-image-radial-from-pos":[{"mask-radial-from":ke()}],"mask-image-radial-to-pos":[{"mask-radial-to":ke()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[gt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ke()}],"mask-image-conic-to-pos":[{"mask-conic-to":ke()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ee()}],"mask-repeat":[{mask:Ke()}],"mask-size":[{mask:I()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",qe,Ve]}],filter:[{filter:["","none",qe,Ve]}],blur:[{blur:vt()}],brightness:[{brightness:[gt,qe,Ve]}],contrast:[{contrast:[gt,qe,Ve]}],"drop-shadow":[{"drop-shadow":["","none",S,gu,yu]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",gt,qe,Ve]}],"hue-rotate":[{"hue-rotate":[gt,qe,Ve]}],invert:[{invert:["",gt,qe,Ve]}],saturate:[{saturate:[gt,qe,Ve]}],sepia:[{sepia:["",gt,qe,Ve]}],"backdrop-filter":[{"backdrop-filter":["","none",qe,Ve]}],"backdrop-blur":[{"backdrop-blur":vt()}],"backdrop-brightness":[{"backdrop-brightness":[gt,qe,Ve]}],"backdrop-contrast":[{"backdrop-contrast":[gt,qe,Ve]}],"backdrop-grayscale":[{"backdrop-grayscale":["",gt,qe,Ve]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[gt,qe,Ve]}],"backdrop-invert":[{"backdrop-invert":["",gt,qe,Ve]}],"backdrop-opacity":[{"backdrop-opacity":[gt,qe,Ve]}],"backdrop-saturate":[{"backdrop-saturate":[gt,qe,Ve]}],"backdrop-sepia":[{"backdrop-sepia":["",gt,qe,Ve]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":X()}],"border-spacing-x":[{"border-spacing-x":X()}],"border-spacing-y":[{"border-spacing-y":X()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",qe,Ve]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[gt,"initial",qe,Ve]}],ease:[{ease:["linear","initial",N,qe,Ve]}],delay:[{delay:[gt,qe,Ve]}],animate:[{animate:["none",D,qe,Ve]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,qe,Ve]}],"perspective-origin":[{"perspective-origin":Y()}],rotate:[{rotate:B()}],"rotate-x":[{"rotate-x":B()}],"rotate-y":[{"rotate-y":B()}],"rotate-z":[{"rotate-z":B()}],scale:[{scale:K()}],"scale-x":[{"scale-x":K()}],"scale-y":[{"scale-y":K()}],"scale-z":[{"scale-z":K()}],"scale-3d":["scale-3d"],skew:[{skew:fe()}],"skew-x":[{"skew-x":fe()}],"skew-y":[{"skew-y":fe()}],transform:[{transform:[qe,Ve,"","none","gpu","cpu"]}],"transform-origin":[{origin:Y()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:je()}],"translate-x":[{"translate-x":je()}],"translate-y":[{"translate-y":je()}],"translate-z":[{"translate-z":je()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe,Ve]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":X()}],"scroll-mx":[{"scroll-mx":X()}],"scroll-my":[{"scroll-my":X()}],"scroll-ms":[{"scroll-ms":X()}],"scroll-me":[{"scroll-me":X()}],"scroll-mt":[{"scroll-mt":X()}],"scroll-mr":[{"scroll-mr":X()}],"scroll-mb":[{"scroll-mb":X()}],"scroll-ml":[{"scroll-ml":X()}],"scroll-p":[{"scroll-p":X()}],"scroll-px":[{"scroll-px":X()}],"scroll-py":[{"scroll-py":X()}],"scroll-ps":[{"scroll-ps":X()}],"scroll-pe":[{"scroll-pe":X()}],"scroll-pt":[{"scroll-pt":X()}],"scroll-pr":[{"scroll-pr":X()}],"scroll-pb":[{"scroll-pb":X()}],"scroll-pl":[{"scroll-pl":X()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe,Ve]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[gt,dc,Ki,Sp]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},V3=w3($3);function $t(...t){return V3(f_(t))}const q3={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},F3=/&(amp|lt|gt|quot|#39);/g;let Ib=null;function ef(t){if(!t)return"";if(typeof DOMParser<"u"){Ib??=new DOMParser;const n=Ib.parseFromString(t,"text/html").documentElement.textContent;if(n!==null)return n}return t.replace(F3,e=>q3[e]??e)}const Y3=TO,A_=R.forwardRef(({className:t,...e},n)=>b.jsx(s_,{ref:n,className:$t("fixed top-0 z-100 flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));A_.displayName=s_.displayName;const G3=Pf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-(--radix-toast-swipe-end-x) data-[swipe=move]:translate-x-(--radix-toast-swipe-move-x) data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),O_=R.forwardRef(({className:t,variant:e,...n},s)=>b.jsx(i_,{ref:s,className:$t(G3({variant:e}),t),...n}));O_.displayName=i_.displayName;const K3=R.forwardRef(({className:t,...e},n)=>b.jsx(c_,{ref:n,className:$t("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));K3.displayName=c_.displayName;const M_=R.forwardRef(({className:t,...e},n)=>b.jsx(l_,{ref:n,className:$t("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:b.jsx(l3,{className:"h-4 w-4"})}));M_.displayName=l_.displayName;const P_=R.forwardRef(({className:t,...e},n)=>b.jsx(a_,{ref:n,className:$t("text-sm font-semibold",t),...e}));P_.displayName=a_.displayName;const N_=R.forwardRef(({className:t,...e},n)=>b.jsx(o_,{ref:n,className:$t("text-sm opacity-90",t),...e}));N_.displayName=o_.displayName;function X3(){const{toasts:t}=jS();return b.jsxs(Y3,{children:[t.map(({id:e,title:n,description:s,action:a,...c})=>b.jsxs(O_,{...c,children:[b.jsxs("div",{className:"grid gap-1",children:[n&&b.jsx(P_,{children:n}),s&&b.jsx(N_,{children:s})]}),a,b.jsx(M_,{})]},e)),b.jsx(A_,{})]})}const Q3=["top","right","bottom","left"],Oi=Math.min,xr=Math.max,tf=Math.round,vu=Math.floor,us=t=>({x:t,y:t}),Z3={left:"right",right:"left",bottom:"top",top:"bottom"},J3={start:"end",end:"start"};function ym(t,e,n){return xr(t,Oi(e,n))}function Gs(t,e){return typeof t=="function"?t(e):t}function Ks(t){return t.split("-")[0]}function mo(t){return t.split("-")[1]}function yy(t){return t==="x"?"y":"x"}function gy(t){return t==="y"?"height":"width"}const W3=new Set(["top","bottom"]);function os(t){return W3.has(Ks(t))?"y":"x"}function vy(t){return yy(os(t))}function eM(t,e,n){n===void 0&&(n=!1);const s=mo(t),a=vy(t),c=gy(a);let u=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[c]>e.floating[c]&&(u=nf(u)),[u,nf(u)]}function tM(t){const e=nf(t);return[gm(t),e,gm(e)]}function gm(t){return t.replace(/start|end/g,e=>J3[e])}const Bb=["left","right"],Hb=["right","left"],nM=["top","bottom"],rM=["bottom","top"];function sM(t,e,n){switch(t){case"top":case"bottom":return n?e?Hb:Bb:e?Bb:Hb;case"left":case"right":return e?nM:rM;default:return[]}}function iM(t,e,n,s){const a=mo(t);let c=sM(Ks(t),n==="start",s);return a&&(c=c.map(u=>u+"-"+a),e&&(c=c.concat(c.map(gm)))),c}function nf(t){return t.replace(/left|right|bottom|top/g,e=>Z3[e])}function aM(t){return{top:0,right:0,bottom:0,left:0,...t}}function D_(t){return typeof t!="number"?aM(t):{top:t,right:t,bottom:t,left:t}}function rf(t){const{x:e,y:n,width:s,height:a}=t;return{width:s,height:a,top:n,left:e,right:e+s,bottom:n+a,x:e,y:n}}function $b(t,e,n){let{reference:s,floating:a}=t;const c=os(e),u=vy(e),f=gy(u),d=Ks(e),h=c==="y",y=s.x+s.width/2-a.width/2,g=s.y+s.height/2-a.height/2,x=s[f]/2-a[f]/2;let S;switch(d){case"top":S={x:y,y:s.y-a.height};break;case"bottom":S={x:y,y:s.y+s.height};break;case"right":S={x:s.x+s.width,y:g};break;case"left":S={x:s.x-a.width,y:g};break;default:S={x:s.x,y:s.y}}switch(mo(e)){case"start":S[u]-=x*(n&&h?-1:1);break;case"end":S[u]+=x*(n&&h?-1:1);break}return S}const oM=async(t,e,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:c=[],platform:u}=n,f=c.filter(Boolean),d=await(u.isRTL==null?void 0:u.isRTL(e));let h=await u.getElementRects({reference:t,floating:e,strategy:a}),{x:y,y:g}=$b(h,s,d),x=s,S={},C=0;for(let E=0;E<f.length;E++){const{name:M,fn:N}=f[E],{x:D,y:k,data:j,reset:Y}=await N({x:y,y:g,initialPlacement:s,placement:x,strategy:a,middlewareData:S,rects:h,platform:u,elements:{reference:t,floating:e}});y=D??y,g=k??g,S={...S,[M]:{...S[M],...j}},Y&&C<=50&&(C++,typeof Y=="object"&&(Y.placement&&(x=Y.placement),Y.rects&&(h=Y.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:a}):Y.rects),{x:y,y:g}=$b(h,x,d)),E=-1)}return{x:y,y:g,placement:x,strategy:a,middlewareData:S}};async function kc(t,e){var n;e===void 0&&(e={});const{x:s,y:a,platform:c,rects:u,elements:f,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:y="viewport",elementContext:g="floating",altBoundary:x=!1,padding:S=0}=Gs(e,t),C=D_(S),M=f[x?g==="floating"?"reference":"floating":g],N=rf(await c.getClippingRect({element:(n=await(c.isElement==null?void 0:c.isElement(M)))==null||n?M:M.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:h,rootBoundary:y,strategy:d})),D=g==="floating"?{x:s,y:a,width:u.floating.width,height:u.floating.height}:u.reference,k=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),j=await(c.isElement==null?void 0:c.isElement(k))?await(c.getScale==null?void 0:c.getScale(k))||{x:1,y:1}:{x:1,y:1},Y=rf(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:D,offsetParent:k,strategy:d}):D);return{top:(N.top-Y.top+C.top)/j.y,bottom:(Y.bottom-N.bottom+C.bottom)/j.y,left:(N.left-Y.left+C.left)/j.x,right:(Y.right-N.right+C.right)/j.x}}const cM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:a,rects:c,platform:u,elements:f,middlewareData:d}=e,{element:h,padding:y=0}=Gs(t,e)||{};if(h==null)return{};const g=D_(y),x={x:n,y:s},S=vy(a),C=gy(S),E=await u.getDimensions(h),M=S==="y",N=M?"top":"left",D=M?"bottom":"right",k=M?"clientHeight":"clientWidth",j=c.reference[C]+c.reference[S]-x[S]-c.floating[C],Y=x[S]-c.reference[S],J=await(u.getOffsetParent==null?void 0:u.getOffsetParent(h));let G=J?J[k]:0;(!G||!await(u.isElement==null?void 0:u.isElement(J)))&&(G=f.floating[k]||c.floating[C]);const X=j/2-Y/2,pe=G/2-E[C]/2-1,xe=Oi(g[N],pe),Se=Oi(g[D],pe),we=xe,Ce=G-E[C]-Se,ge=G/2-E[C]/2+X,De=ym(we,ge,Ce),U=!d.arrow&&mo(a)!=null&&ge!==De&&c.reference[C]/2-(ge<we?xe:Se)-E[C]/2<0,te=U?ge<we?ge-we:ge-Ce:0;return{[S]:x[S]+te,data:{[S]:De,centerOffset:ge-De-te,...U&&{alignmentOffset:te}},reset:U}}}),lM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:a,middlewareData:c,rects:u,initialPlacement:f,platform:d,elements:h}=e,{mainAxis:y=!0,crossAxis:g=!0,fallbackPlacements:x,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:E=!0,...M}=Gs(t,e);if((n=c.arrow)!=null&&n.alignmentOffset)return{};const N=Ks(a),D=os(f),k=Ks(f)===f,j=await(d.isRTL==null?void 0:d.isRTL(h.floating)),Y=x||(k||!E?[nf(f)]:tM(f)),J=C!=="none";!x&&J&&Y.push(...iM(f,E,C,j));const G=[f,...Y],X=await kc(e,M),pe=[];let xe=((s=c.flip)==null?void 0:s.overflows)||[];if(y&&pe.push(X[N]),g){const ge=eM(a,u,j);pe.push(X[ge[0]],X[ge[1]])}if(xe=[...xe,{placement:a,overflows:pe}],!pe.every(ge=>ge<=0)){var Se,we;const ge=(((Se=c.flip)==null?void 0:Se.index)||0)+1,De=G[ge];if(De&&(!(g==="alignment"?D!==os(De):!1)||xe.every($=>os($.placement)===D?$.overflows[0]>0:!0)))return{data:{index:ge,overflows:xe},reset:{placement:De}};let U=(we=xe.filter(te=>te.overflows[0]<=0).sort((te,$)=>te.overflows[1]-$.overflows[1])[0])==null?void 0:we.placement;if(!U)switch(S){case"bestFit":{var Ce;const te=(Ce=xe.filter($=>{if(J){const Ee=os($.placement);return Ee===D||Ee==="y"}return!0}).map($=>[$.placement,$.overflows.filter(Ee=>Ee>0).reduce((Ee,Ke)=>Ee+Ke,0)]).sort(($,Ee)=>$[1]-Ee[1])[0])==null?void 0:Ce[0];te&&(U=te);break}case"initialPlacement":U=f;break}if(a!==U)return{reset:{placement:U}}}return{}}}};function Vb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function qb(t){return Q3.some(e=>t[e]>=0)}const uM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...a}=Gs(t,e);switch(s){case"referenceHidden":{const c=await kc(e,{...a,elementContext:"reference"}),u=Vb(c,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:qb(u)}}}case"escaped":{const c=await kc(e,{...a,altBoundary:!0}),u=Vb(c,n.floating);return{data:{escapedOffsets:u,escaped:qb(u)}}}default:return{}}}}},k_=new Set(["left","top"]);async function fM(t,e){const{placement:n,platform:s,elements:a}=t,c=await(s.isRTL==null?void 0:s.isRTL(a.floating)),u=Ks(n),f=mo(n),d=os(n)==="y",h=k_.has(u)?-1:1,y=c&&d?-1:1,g=Gs(e,t);let{mainAxis:x,crossAxis:S,alignmentAxis:C}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return f&&typeof C=="number"&&(S=f==="end"?C*-1:C),d?{x:S*y,y:x*h}:{x:x*h,y:S*y}}const dM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:a,y:c,placement:u,middlewareData:f}=e,d=await fM(e,t);return u===((n=f.offset)==null?void 0:n.placement)&&(s=f.arrow)!=null&&s.alignmentOffset?{}:{x:a+d.x,y:c+d.y,data:{...d,placement:u}}}}},hM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:a}=e,{mainAxis:c=!0,crossAxis:u=!1,limiter:f={fn:M=>{let{x:N,y:D}=M;return{x:N,y:D}}},...d}=Gs(t,e),h={x:n,y:s},y=await kc(e,d),g=os(Ks(a)),x=yy(g);let S=h[x],C=h[g];if(c){const M=x==="y"?"top":"left",N=x==="y"?"bottom":"right",D=S+y[M],k=S-y[N];S=ym(D,S,k)}if(u){const M=g==="y"?"top":"left",N=g==="y"?"bottom":"right",D=C+y[M],k=C-y[N];C=ym(D,C,k)}const E=f.fn({...e,[x]:S,[g]:C});return{...E,data:{x:E.x-n,y:E.y-s,enabled:{[x]:c,[g]:u}}}}}},pM=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:a,rects:c,middlewareData:u}=e,{offset:f=0,mainAxis:d=!0,crossAxis:h=!0}=Gs(t,e),y={x:n,y:s},g=os(a),x=yy(g);let S=y[x],C=y[g];const E=Gs(f,e),M=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(d){const k=x==="y"?"height":"width",j=c.reference[x]-c.floating[k]+M.mainAxis,Y=c.reference[x]+c.reference[k]-M.mainAxis;S<j?S=j:S>Y&&(S=Y)}if(h){var N,D;const k=x==="y"?"width":"height",j=k_.has(Ks(a)),Y=c.reference[g]-c.floating[k]+(j&&((N=u.offset)==null?void 0:N[g])||0)+(j?0:M.crossAxis),J=c.reference[g]+c.reference[k]+(j?0:((D=u.offset)==null?void 0:D[g])||0)-(j?M.crossAxis:0);C<Y?C=Y:C>J&&(C=J)}return{[x]:S,[g]:C}}}},mM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:a,rects:c,platform:u,elements:f}=e,{apply:d=()=>{},...h}=Gs(t,e),y=await kc(e,h),g=Ks(a),x=mo(a),S=os(a)==="y",{width:C,height:E}=c.floating;let M,N;g==="top"||g==="bottom"?(M=g,N=x===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(N=g,M=x==="end"?"top":"bottom");const D=E-y.top-y.bottom,k=C-y.left-y.right,j=Oi(E-y[M],D),Y=Oi(C-y[N],k),J=!e.middlewareData.shift;let G=j,X=Y;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(X=k),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(G=D),J&&!x){const xe=xr(y.left,0),Se=xr(y.right,0),we=xr(y.top,0),Ce=xr(y.bottom,0);S?X=C-2*(xe!==0||Se!==0?xe+Se:xr(y.left,y.right)):G=E-2*(we!==0||Ce!==0?we+Ce:xr(y.top,y.bottom))}await d({...e,availableWidth:X,availableHeight:G});const pe=await u.getDimensions(f.floating);return C!==pe.width||E!==pe.height?{reset:{rects:!0}}:{}}}};function Nf(){return typeof window<"u"}function yo(t){return j_(t)?(t.nodeName||"").toLowerCase():"#document"}function br(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function gs(t){var e;return(e=(j_(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function j_(t){return Nf()?t instanceof Node||t instanceof br(t).Node:!1}function Gr(t){return Nf()?t instanceof Element||t instanceof br(t).Element:!1}function ms(t){return Nf()?t instanceof HTMLElement||t instanceof br(t).HTMLElement:!1}function Fb(t){return!Nf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof br(t).ShadowRoot}const yM=new Set(["inline","contents"]);function Gc(t){const{overflow:e,overflowX:n,overflowY:s,display:a}=Kr(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!yM.has(a)}const gM=new Set(["table","td","th"]);function vM(t){return gM.has(yo(t))}const xM=[":popover-open",":modal"];function Df(t){return xM.some(e=>{try{return t.matches(e)}catch{return!1}})}const bM=["transform","translate","scale","rotate","perspective"],SM=["transform","translate","scale","rotate","perspective","filter"],_M=["paint","layout","strict","content"];function xy(t){const e=by(),n=Gr(t)?Kr(t):t;return bM.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||SM.some(s=>(n.willChange||"").includes(s))||_M.some(s=>(n.contain||"").includes(s))}function wM(t){let e=Mi(t);for(;ms(e)&&!ao(e);){if(xy(e))return e;if(Df(e))return null;e=Mi(e)}return null}function by(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const CM=new Set(["html","body","#document"]);function ao(t){return CM.has(yo(t))}function Kr(t){return br(t).getComputedStyle(t)}function kf(t){return Gr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Mi(t){if(yo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Fb(t)&&t.host||gs(t);return Fb(e)?e.host:e}function L_(t){const e=Mi(t);return ao(e)?t.ownerDocument?t.ownerDocument.body:t.body:ms(e)&&Gc(e)?e:L_(e)}function jc(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const a=L_(t),c=a===((s=t.ownerDocument)==null?void 0:s.body),u=br(a);if(c){const f=vm(u);return e.concat(u,u.visualViewport||[],Gc(a)?a:[],f&&n?jc(f):[])}return e.concat(a,jc(a,[],n))}function vm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function U_(t){const e=Kr(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const a=ms(t),c=a?t.offsetWidth:n,u=a?t.offsetHeight:s,f=tf(n)!==c||tf(s)!==u;return f&&(n=c,s=u),{width:n,height:s,$:f}}function Sy(t){return Gr(t)?t:t.contextElement}function Wa(t){const e=Sy(t);if(!ms(e))return us(1);const n=e.getBoundingClientRect(),{width:s,height:a,$:c}=U_(e);let u=(c?tf(n.width):n.width)/s,f=(c?tf(n.height):n.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const EM=us(0);function z_(t){const e=br(t);return!by()||!e.visualViewport?EM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function TM(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==br(t)?!1:e}function ca(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),c=Sy(t);let u=us(1);e&&(s?Gr(s)&&(u=Wa(s)):u=Wa(t));const f=TM(c,n,s)?z_(c):us(0);let d=(a.left+f.x)/u.x,h=(a.top+f.y)/u.y,y=a.width/u.x,g=a.height/u.y;if(c){const x=br(c),S=s&&Gr(s)?br(s):s;let C=x,E=vm(C);for(;E&&s&&S!==C;){const M=Wa(E),N=E.getBoundingClientRect(),D=Kr(E),k=N.left+(E.clientLeft+parseFloat(D.paddingLeft))*M.x,j=N.top+(E.clientTop+parseFloat(D.paddingTop))*M.y;d*=M.x,h*=M.y,y*=M.x,g*=M.y,d+=k,h+=j,C=br(E),E=vm(C)}}return rf({width:y,height:g,x:d,y:h})}function jf(t,e){const n=kf(t).scrollLeft;return e?e.left+n:ca(gs(t)).left+n}function I_(t,e){const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-jf(t,n),a=n.top+e.scrollTop;return{x:s,y:a}}function RM(t){let{elements:e,rect:n,offsetParent:s,strategy:a}=t;const c=a==="fixed",u=gs(s),f=e?Df(e.floating):!1;if(s===u||f&&c)return n;let d={scrollLeft:0,scrollTop:0},h=us(1);const y=us(0),g=ms(s);if((g||!g&&!c)&&((yo(s)!=="body"||Gc(u))&&(d=kf(s)),ms(s))){const S=ca(s);h=Wa(s),y.x=S.x+s.clientLeft,y.y=S.y+s.clientTop}const x=u&&!g&&!c?I_(u,d):us(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+y.x+x.x,y:n.y*h.y-d.scrollTop*h.y+y.y+x.y}}function AM(t){return Array.from(t.getClientRects())}function OM(t){const e=gs(t),n=kf(t),s=t.ownerDocument.body,a=xr(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),c=xr(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let u=-n.scrollLeft+jf(t);const f=-n.scrollTop;return Kr(s).direction==="rtl"&&(u+=xr(e.clientWidth,s.clientWidth)-a),{width:a,height:c,x:u,y:f}}const Yb=25;function MM(t,e){const n=br(t),s=gs(t),a=n.visualViewport;let c=s.clientWidth,u=s.clientHeight,f=0,d=0;if(a){c=a.width,u=a.height;const y=by();(!y||y&&e==="fixed")&&(f=a.offsetLeft,d=a.offsetTop)}const h=jf(s);if(h<=0){const y=s.ownerDocument,g=y.body,x=getComputedStyle(g),S=y.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,C=Math.abs(s.clientWidth-g.clientWidth-S);C<=Yb&&(c-=C)}else h<=Yb&&(c+=h);return{width:c,height:u,x:f,y:d}}const PM=new Set(["absolute","fixed"]);function NM(t,e){const n=ca(t,!0,e==="fixed"),s=n.top+t.clientTop,a=n.left+t.clientLeft,c=ms(t)?Wa(t):us(1),u=t.clientWidth*c.x,f=t.clientHeight*c.y,d=a*c.x,h=s*c.y;return{width:u,height:f,x:d,y:h}}function Gb(t,e,n){let s;if(e==="viewport")s=MM(t,n);else if(e==="document")s=OM(gs(t));else if(Gr(e))s=NM(e,n);else{const a=z_(t);s={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return rf(s)}function B_(t,e){const n=Mi(t);return n===e||!Gr(n)||ao(n)?!1:Kr(n).position==="fixed"||B_(n,e)}function DM(t,e){const n=e.get(t);if(n)return n;let s=jc(t,[],!1).filter(f=>Gr(f)&&yo(f)!=="body"),a=null;const c=Kr(t).position==="fixed";let u=c?Mi(t):t;for(;Gr(u)&&!ao(u);){const f=Kr(u),d=xy(u);!d&&f.position==="fixed"&&(a=null),(c?!d&&!a:!d&&f.position==="static"&&!!a&&PM.has(a.position)||Gc(u)&&!d&&B_(t,u))?s=s.filter(y=>y!==u):a=f,u=Mi(u)}return e.set(t,s),s}function kM(t){let{element:e,boundary:n,rootBoundary:s,strategy:a}=t;const u=[...n==="clippingAncestors"?Df(e)?[]:DM(e,this._c):[].concat(n),s],f=u[0],d=u.reduce((h,y)=>{const g=Gb(e,y,a);return h.top=xr(g.top,h.top),h.right=Oi(g.right,h.right),h.bottom=Oi(g.bottom,h.bottom),h.left=xr(g.left,h.left),h},Gb(e,f,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function jM(t){const{width:e,height:n}=U_(t);return{width:e,height:n}}function LM(t,e,n){const s=ms(e),a=gs(e),c=n==="fixed",u=ca(t,!0,c,e);let f={scrollLeft:0,scrollTop:0};const d=us(0);function h(){d.x=jf(a)}if(s||!s&&!c)if((yo(e)!=="body"||Gc(a))&&(f=kf(e)),s){const S=ca(e,!0,c,e);d.x=S.x+e.clientLeft,d.y=S.y+e.clientTop}else a&&h();c&&!s&&a&&h();const y=a&&!s&&!c?I_(a,f):us(0),g=u.left+f.scrollLeft-d.x-y.x,x=u.top+f.scrollTop-d.y-y.y;return{x:g,y:x,width:u.width,height:u.height}}function _p(t){return Kr(t).position==="static"}function Kb(t,e){if(!ms(t)||Kr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return gs(t)===n&&(n=n.ownerDocument.body),n}function H_(t,e){const n=br(t);if(Df(t))return n;if(!ms(t)){let a=Mi(t);for(;a&&!ao(a);){if(Gr(a)&&!_p(a))return a;a=Mi(a)}return n}let s=Kb(t,e);for(;s&&vM(s)&&_p(s);)s=Kb(s,e);return s&&ao(s)&&_p(s)&&!xy(s)?n:s||wM(t)||n}const UM=async function(t){const e=this.getOffsetParent||H_,n=this.getDimensions,s=await n(t.floating);return{reference:LM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function zM(t){return Kr(t).direction==="rtl"}const IM={convertOffsetParentRelativeRectToViewportRelativeRect:RM,getDocumentElement:gs,getClippingRect:kM,getOffsetParent:H_,getElementRects:UM,getClientRects:AM,getDimensions:jM,getScale:Wa,isElement:Gr,isRTL:zM};function $_(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function BM(t,e){let n=null,s;const a=gs(t);function c(){var f;clearTimeout(s),(f=n)==null||f.disconnect(),n=null}function u(f,d){f===void 0&&(f=!1),d===void 0&&(d=1),c();const h=t.getBoundingClientRect(),{left:y,top:g,width:x,height:S}=h;if(f||e(),!x||!S)return;const C=vu(g),E=vu(a.clientWidth-(y+x)),M=vu(a.clientHeight-(g+S)),N=vu(y),k={rootMargin:-C+"px "+-E+"px "+-M+"px "+-N+"px",threshold:xr(0,Oi(1,d))||1};let j=!0;function Y(J){const G=J[0].intersectionRatio;if(G!==d){if(!j)return u();G?u(!1,G):s=setTimeout(()=>{u(!1,1e-7)},1e3)}G===1&&!$_(h,t.getBoundingClientRect())&&u(),j=!1}try{n=new IntersectionObserver(Y,{...k,root:a.ownerDocument})}catch{n=new IntersectionObserver(Y,k)}n.observe(t)}return u(!0),c}function HM(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,h=Sy(t),y=a||c?[...h?jc(h):[],...jc(e)]:[];y.forEach(N=>{a&&N.addEventListener("scroll",n,{passive:!0}),c&&N.addEventListener("resize",n)});const g=h&&f?BM(h,n):null;let x=-1,S=null;u&&(S=new ResizeObserver(N=>{let[D]=N;D&&D.target===h&&S&&(S.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var k;(k=S)==null||k.observe(e)})),n()}),h&&!d&&S.observe(h),S.observe(e));let C,E=d?ca(t):null;d&&M();function M(){const N=ca(t);E&&!$_(E,N)&&n(),E=N,C=requestAnimationFrame(M)}return n(),()=>{var N;y.forEach(D=>{a&&D.removeEventListener("scroll",n),c&&D.removeEventListener("resize",n)}),g?.(),(N=S)==null||N.disconnect(),S=null,d&&cancelAnimationFrame(C)}}const $M=dM,VM=hM,qM=lM,FM=mM,YM=uM,Xb=cM,GM=pM,KM=(t,e,n)=>{const s=new Map,a={platform:IM,...n},c={...a.platform,_c:s};return oM(t,e,{...a,platform:c})};var XM=typeof document<"u",QM=function(){},Du=XM?R.useLayoutEffect:QM;function sf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!sf(t[s],e[s]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,a[s]))return!1;for(s=n;s--!==0;){const c=a[s];if(!(c==="_owner"&&t.$$typeof)&&!sf(t[c],e[c]))return!1}return!0}return t!==t&&e!==e}function V_(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Qb(t,e){const n=V_(t);return Math.round(e*n)/n}function wp(t){const e=R.useRef(t);return Du(()=>{e.current=t}),e}function ZM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:c,floating:u}={},transform:f=!0,whileElementsMounted:d,open:h}=t,[y,g]=R.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[x,S]=R.useState(s);sf(x,s)||S(s);const[C,E]=R.useState(null),[M,N]=R.useState(null),D=R.useCallback($=>{$!==J.current&&(J.current=$,E($))},[]),k=R.useCallback($=>{$!==G.current&&(G.current=$,N($))},[]),j=c||C,Y=u||M,J=R.useRef(null),G=R.useRef(null),X=R.useRef(y),pe=d!=null,xe=wp(d),Se=wp(a),we=wp(h),Ce=R.useCallback(()=>{if(!J.current||!G.current)return;const $={placement:e,strategy:n,middleware:x};Se.current&&($.platform=Se.current),KM(J.current,G.current,$).then(Ee=>{const Ke={...Ee,isPositioned:we.current!==!1};ge.current&&!sf(X.current,Ke)&&(X.current=Ke,Fc.flushSync(()=>{g(Ke)}))})},[x,e,n,Se,we]);Du(()=>{h===!1&&X.current.isPositioned&&(X.current.isPositioned=!1,g($=>({...$,isPositioned:!1})))},[h]);const ge=R.useRef(!1);Du(()=>(ge.current=!0,()=>{ge.current=!1}),[]),Du(()=>{if(j&&(J.current=j),Y&&(G.current=Y),j&&Y){if(xe.current)return xe.current(j,Y,Ce);Ce()}},[j,Y,Ce,xe,pe]);const De=R.useMemo(()=>({reference:J,floating:G,setReference:D,setFloating:k}),[D,k]),U=R.useMemo(()=>({reference:j,floating:Y}),[j,Y]),te=R.useMemo(()=>{const $={position:n,left:0,top:0};if(!U.floating)return $;const Ee=Qb(U.floating,y.x),Ke=Qb(U.floating,y.y);return f?{...$,transform:"translate("+Ee+"px, "+Ke+"px)",...V_(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Ee,top:Ke}},[n,f,U.floating,y.x,y.y]);return R.useMemo(()=>({...y,update:Ce,refs:De,elements:U,floatingStyles:te}),[y,Ce,De,U,te])}const JM=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:a}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?Xb({element:s.current,padding:a}).fn(n):{}:s?Xb({element:s,padding:a}).fn(n):{}}}},WM=(t,e)=>({...$M(t),options:[t,e]}),eP=(t,e)=>({...VM(t),options:[t,e]}),tP=(t,e)=>({...GM(t),options:[t,e]}),nP=(t,e)=>({...qM(t),options:[t,e]}),rP=(t,e)=>({...FM(t),options:[t,e]}),sP=(t,e)=>({...YM(t),options:[t,e]}),iP=(t,e)=>({...JM(t),options:[t,e]});var aP="Arrow",q_=R.forwardRef((t,e)=>{const{children:n,width:s=10,height:a=5,...c}=t;return b.jsx(zt.svg,{...c,ref:e,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:b.jsx("polygon",{points:"0,0 30,0 15,10"})})});q_.displayName=aP;var oP=q_;function F_(t){const[e,n]=R.useState(void 0);return Dr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const c=a[0];let u,f;if("borderBoxSize"in c){const d=c.borderBoxSize,h=Array.isArray(d)?d[0]:d;u=h.inlineSize,f=h.blockSize}else u=t.offsetWidth,f=t.offsetHeight;n({width:u,height:f})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var Y_="Popper",[G_,K_]=Pi(Y_),[a8,X_]=G_(Y_),Q_="PopperAnchor",Z_=R.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...a}=t,c=X_(Q_,n),u=R.useRef(null),f=an(e,u),d=R.useRef(null);return R.useEffect(()=>{const h=d.current;d.current=s?.current||u.current,h!==d.current&&c.onAnchorChange(d.current)}),s?null:b.jsx(zt.div,{...a,ref:f})});Z_.displayName=Q_;var _y="PopperContent",[cP,lP]=G_(_y),J_=R.forwardRef((t,e)=>{const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:c="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:y=0,sticky:g="partial",hideWhenDetached:x=!1,updatePositionStrategy:S="optimized",onPlaced:C,...E}=t,M=X_(_y,n),[N,D]=R.useState(null),k=an(e,ke=>D(ke)),[j,Y]=R.useState(null),J=F_(j),G=J?.width??0,X=J?.height??0,pe=s+(c!=="center"?"-"+c:""),xe=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},Se=Array.isArray(h)?h:[h],we=Se.length>0,Ce={padding:xe,boundary:Se.filter(fP),altBoundary:we},{refs:ge,floatingStyles:De,placement:U,isPositioned:te,middlewareData:$}=ZM({strategy:"fixed",placement:pe,whileElementsMounted:(...ke)=>HM(...ke,{animationFrame:S==="always"}),elements:{reference:M.anchor},middleware:[WM({mainAxis:a+X,alignmentAxis:u}),d&&eP({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?tP():void 0,...Ce}),d&&nP({...Ce}),rP({...Ce,apply:({elements:ke,rects:vt,availableWidth:B,availableHeight:K})=>{const{width:fe,height:je}=vt.reference,He=ke.floating.style;He.setProperty("--radix-popper-available-width",`${B}px`),He.setProperty("--radix-popper-available-height",`${K}px`),He.setProperty("--radix-popper-anchor-width",`${fe}px`),He.setProperty("--radix-popper-anchor-height",`${je}px`)}}),j&&iP({element:j,padding:f}),dP({arrowWidth:G,arrowHeight:X}),x&&sP({strategy:"referenceHidden",...Ce})]}),[Ee,Ke]=tw(U),I=qn(C);Dr(()=>{te&&I?.()},[te,I]);const ie=$.arrow?.x,de=$.arrow?.y,be=$.arrow?.centerOffset!==0,[ve,Te]=R.useState();return Dr(()=>{N&&Te(window.getComputedStyle(N).zIndex)},[N]),b.jsx("div",{ref:ge.setFloating,"data-radix-popper-content-wrapper":"",style:{...De,transform:te?De.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:b.jsx(cP,{scope:n,placedSide:Ee,onArrowChange:Y,arrowX:ie,arrowY:de,shouldHideArrow:be,children:b.jsx(zt.div,{"data-side":Ee,"data-align":Ke,...E,ref:k,style:{...E.style,animation:te?void 0:"none"}})})})});J_.displayName=_y;var W_="PopperArrow",uP={top:"bottom",right:"left",bottom:"top",left:"right"},ew=R.forwardRef(function(e,n){const{__scopePopper:s,...a}=e,c=lP(W_,s),u=uP[c.placedSide];return b.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:b.jsx(oP,{...a,ref:n,style:{...a.style,display:"block"}})})});ew.displayName=W_;function fP(t){return t!==null}var dP=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:s,middlewareData:a}=e,u=a.arrow?.centerOffset!==0,f=u?0:t.arrowWidth,d=u?0:t.arrowHeight,[h,y]=tw(n),g={start:"0%",center:"50%",end:"100%"}[y],x=(a.arrow?.x??0)+f/2,S=(a.arrow?.y??0)+d/2;let C="",E="";return h==="bottom"?(C=u?g:`${x}px`,E=`${-d}px`):h==="top"?(C=u?g:`${x}px`,E=`${s.floating.height+d}px`):h==="right"?(C=`${-d}px`,E=u?g:`${S}px`):h==="left"&&(C=`${s.floating.width+d}px`,E=u?g:`${S}px`),{data:{x:C,y:E}}}});function tw(t){const[e,n="center"]=t.split("-");return[e,n]}var hP=Z_,pP=J_,mP=ew,[Lf]=Pi("Tooltip",[K_]),wy=K_(),nw="TooltipProvider",yP=700,Zb="tooltip.open",[gP,rw]=Lf(nw),sw=t=>{const{__scopeTooltip:e,delayDuration:n=yP,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:c}=t,u=R.useRef(!0),f=R.useRef(!1),d=R.useRef(0);return R.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),b.jsx(gP,{scope:e,isOpenDelayedRef:u,delayDuration:n,onOpen:R.useCallback(()=>{window.clearTimeout(d.current),u.current=!1},[]),onClose:R.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>u.current=!0,s)},[s]),isPointerInTransitRef:f,onPointerInTransitChange:R.useCallback(h=>{f.current=h},[]),disableHoverableContent:a,children:c})};sw.displayName=nw;var iw="Tooltip",[o8,Uf]=Lf(iw),xm="TooltipTrigger",vP=R.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,a=Uf(xm,n),c=rw(xm,n),u=wy(n),f=R.useRef(null),d=an(e,f,a.onTriggerChange),h=R.useRef(!1),y=R.useRef(!1),g=R.useCallback(()=>h.current=!1,[]);return R.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),b.jsx(hP,{asChild:!0,...u,children:b.jsx(zt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:d,onPointerMove:jt(t.onPointerMove,x=>{x.pointerType!=="touch"&&!y.current&&!c.isPointerInTransitRef.current&&(a.onTriggerEnter(),y.current=!0)}),onPointerLeave:jt(t.onPointerLeave,()=>{a.onTriggerLeave(),y.current=!1}),onPointerDown:jt(t.onPointerDown,()=>{a.open&&a.onClose(),h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:jt(t.onFocus,()=>{h.current||a.onOpen()}),onBlur:jt(t.onBlur,a.onClose),onClick:jt(t.onClick,a.onClose)})})});vP.displayName=xm;var xP="TooltipPortal",[c8,bP]=Lf(xP,{forceMount:void 0}),oo="TooltipContent",aw=R.forwardRef((t,e)=>{const n=bP(oo,t.__scopeTooltip),{forceMount:s=n.forceMount,side:a="top",...c}=t,u=Uf(oo,t.__scopeTooltip);return b.jsx(fa,{present:s||u.open,children:u.disableHoverableContent?b.jsx(ow,{side:a,...c,ref:e}):b.jsx(SP,{side:a,...c,ref:e})})}),SP=R.forwardRef((t,e)=>{const n=Uf(oo,t.__scopeTooltip),s=rw(oo,t.__scopeTooltip),a=R.useRef(null),c=an(e,a),[u,f]=R.useState(null),{trigger:d,onClose:h}=n,y=a.current,{onPointerInTransitChange:g}=s,x=R.useCallback(()=>{f(null),g(!1)},[g]),S=R.useCallback((C,E)=>{const M=C.currentTarget,N={x:C.clientX,y:C.clientY},D=TP(N,M.getBoundingClientRect()),k=RP(N,D),j=AP(E.getBoundingClientRect()),Y=MP([...k,...j]);f(Y),g(!0)},[g]);return R.useEffect(()=>()=>x(),[x]),R.useEffect(()=>{if(d&&y){const C=M=>S(M,y),E=M=>S(M,d);return d.addEventListener("pointerleave",C),y.addEventListener("pointerleave",E),()=>{d.removeEventListener("pointerleave",C),y.removeEventListener("pointerleave",E)}}},[d,y,S,x]),R.useEffect(()=>{if(u){const C=E=>{const M=E.target,N={x:E.clientX,y:E.clientY},D=d?.contains(M)||y?.contains(M),k=!OP(N,u);D?x():k&&(x(),h())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[d,y,u,h,x]),b.jsx(ow,{...t,ref:c})}),[_P,wP]=Lf(iw,{isInside:!1}),CP=I6("TooltipContent"),ow=R.forwardRef((t,e)=>{const{__scopeTooltip:n,children:s,"aria-label":a,onEscapeKeyDown:c,onPointerDownOutside:u,...f}=t,d=Uf(oo,n),h=wy(n),{onClose:y}=d;return R.useEffect(()=>(document.addEventListener(Zb,y),()=>document.removeEventListener(Zb,y)),[y]),R.useEffect(()=>{if(d.trigger){const g=x=>{x.target?.contains(d.trigger)&&y()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[d.trigger,y]),b.jsx(uy,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:g=>g.preventDefault(),onDismiss:y,children:b.jsxs(pP,{"data-state":d.stateAttribute,...h,...f,ref:e,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[b.jsx(CP,{children:s}),b.jsx(_P,{scope:n,isInside:!0,children:b.jsx(cO,{id:d.contentId,role:"tooltip",children:a||s})})]})})});aw.displayName=oo;var cw="TooltipArrow",EP=R.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,a=wy(n);return wP(cw,n).isInside?null:b.jsx(mP,{...a,...s,ref:e})});EP.displayName=cw;function TP(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),a=Math.abs(e.right-t.x),c=Math.abs(e.left-t.x);switch(Math.min(n,s,a,c)){case c:return"left";case a:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function RP(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function AP(t){const{top:e,right:n,bottom:s,left:a}=t;return[{x:a,y:e},{x:n,y:e},{x:n,y:s},{x:a,y:s}]}function OP(t,e){const{x:n,y:s}=t;let a=!1;for(let c=0,u=e.length-1;c<e.length;u=c++){const f=e[c],d=e[u],h=f.x,y=f.y,g=d.x,x=d.y;y>s!=x>s&&n<(g-h)*(s-y)/(x-y)+h&&(a=!a)}return a}function MP(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),PP(e)}function PP(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const a=t[s];for(;e.length>=2;){const c=e[e.length-1],u=e[e.length-2];if((c.x-u.x)*(a.y-u.y)>=(c.y-u.y)*(a.x-u.x))e.pop();else break}e.push(a)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const a=t[s];for(;n.length>=2;){const c=n[n.length-1],u=n[n.length-2];if((c.x-u.x)*(a.y-u.y)>=(c.y-u.y)*(a.x-u.x))n.pop();else break}n.push(a)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var NP=sw,lw=aw;const DP=NP,kP=R.forwardRef(({className:t,sideOffset:e=4,...n},s)=>b.jsx(lw,{ref:s,sideOffset:e,className:$t("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--radix-tooltip-content-transform-origin)",t),...n}));kP.displayName=lw.displayName;const jP={theme:"dark",setTheme:()=>null},uw=R.createContext(jP);function LP({children:t,defaultTheme:e="dark",...n}){const[s,a]=R.useState(()=>localStorage.getItem("theme")||e);R.useEffect(()=>{const u=window.document.documentElement;u.classList.remove("light","dark"),u.classList.add(s)},[s]);const c={theme:s,setTheme:u=>{localStorage.setItem("theme",u),a(u)}};return b.jsx(uw.Provider,{...n,value:c,children:t})}const UP=()=>{const t=R.useContext(uw);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function zP(){return b.jsxs(R6,{client:M6,children:[b.jsx(LP,{defaultTheme:"dark",children:b.jsxs(DP,{children:[b.jsx(X3,{}),b.jsx(AS,{})]})}),null]})}const IP=Pf("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),wn=R.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...a},c)=>{const u=s?U6:"button";return b.jsx(u,{className:$t(IP({variant:e,size:n,className:t})),ref:c,...a})});wn.displayName="Button";const qs=R.forwardRef(({className:t,type:e,...n},s)=>b.jsx("input",{type:e,className:$t("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n}));qs.displayName="Input";const tn=R.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:$t("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));tn.displayName="Card";const un=R.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:$t("flex flex-col space-y-1.5 p-6",t),...e}));un.displayName="CardHeader";const fn=R.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:$t("text-2xl font-semibold leading-none tracking-tight",t),...e}));fn.displayName="CardTitle";const qr=R.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:$t("text-sm text-muted-foreground",t),...e}));qr.displayName="CardDescription";const yn=R.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:$t("p-6 pt-0",t),...e}));yn.displayName="CardContent";const BP=R.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:$t("flex items-center p-6 pt-0",t),...e}));BP.displayName="CardFooter";function Cy(){const{theme:t,setTheme:e}=UP();return b.jsxs(wn,{variant:"ghost",size:"icon",onClick:()=>e(t==="light"?"dark":"light"),"data-testid":"button-theme-toggle",children:[b.jsx(n3,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),b.jsx(KO,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),b.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}function HP(t,e,n,s){const c=s?50:0,u=1-e/n,f=Math.floor(u*50);return 100+c+f}function Jb(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim()}function $P(t,e){const n=Jb(t),s=Jb(e);if(n===s)return!0;const a=n.replace(/[^\w\s]/g,"").replace(/\s+/g," "),c=s.replace(/[^\w\s]/g,"").replace(/\s+/g," ");return a===c}function VP(){const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let n=0;n<6;n++)e+=t[Math.floor(Math.random()*t.length)];return e}function qP(t){const e=["from-purple-500 to-pink-500","from-blue-500 to-cyan-500","from-green-500 to-emerald-500","from-orange-500 to-red-500","from-yellow-500 to-amber-500","from-indigo-500 to-purple-500","from-pink-500 to-rose-500","from-teal-500 to-green-500"];let n=0;for(let s=0;s<t.length;s++)n=t.charCodeAt(s)+((n<<5)-n);return e[Math.abs(n)%e.length]}function FP(t){const e=t.trim().split(" ");return e.length>=2?(e[0][0]+e[e.length-1][0]).toUpperCase():t.slice(0,2).toUpperCase()}function YP(){const t=Ef(),[e,n]=R.useState(""),[s,a]=R.useState(""),c=d=>{const h=d.trim();return h.length<2?(alert("Name must be at least 2 characters long"),null):h.length>24?(alert("Name must be 24 characters or fewer"),null):/^[\w\s'-]+$/.test(h)?h:(alert("Name can only contain letters, numbers, spaces, apostrophes, and hyphens"),null)},u=()=>{const d=c(s);if(!d)return;const h=VP();localStorage.setItem("playerName",d),typeof window<"u"&&(sessionStorage.setItem("musicshowdown.pendingRole","host"),sessionStorage.setItem("musicshowdown.lastRole","host")),t({to:"/music-showdown/game/$roomCode",params:{roomCode:h}})},f=()=>{const d=c(s);if(d){if(!e.trim()){alert("Please enter a room code");return}if(e.length!==6){alert("Room code must be 6 characters");return}localStorage.setItem("playerName",d),typeof window<"u"&&(sessionStorage.setItem("musicshowdown.pendingRole","peer"),sessionStorage.setItem("musicshowdown.lastRole","peer")),t({to:"/music-showdown/game/$roomCode",params:{roomCode:e.toUpperCase()}})}};return b.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-gradient-to-br from-emerald-50 via-emerald-100 to-emerald-200 text-foreground transition-colors dark:from-emerald-950 dark:via-emerald-900 dark:to-emerald-950",children:[b.jsx("div",{className:"absolute top-4 right-4 z-10",children:b.jsx(Cy,{})}),b.jsx("div",{className:"relative z-10",children:b.jsxs("div",{className:"container mx-auto px-4 py-16",children:[b.jsxs("header",{className:"mx-auto max-w-3xl text-center",children:[b.jsx("h1",{className:"mb-4 text-5xl font-heading font-bold tracking-tight md:text-6xl",children:"Music Showdown"}),b.jsx("p",{className:"text-lg text-muted-foreground md:text-xl",children:"Pick a name, create or join a room, and start guessing songs with friends."})]}),b.jsx("section",{className:"mx-auto mt-12 max-w-4xl",children:b.jsxs(tn,{className:"w-full border border-emerald-200/60 bg-background/90 shadow-sm backdrop-blur-sm dark:border-emerald-800/60 dark:bg-card/90",children:[b.jsxs(un,{children:[b.jsx(fn,{className:"text-2xl font-heading",children:"1. Choose your display name"}),b.jsx(qr,{children:"Everyone in the room will see you by this name."})]}),b.jsx(yn,{children:b.jsx(qs,{placeholder:"Your name",value:s,onChange:d=>a(d.target.value),onKeyDown:d=>d.key==="Enter"&&u(),className:"text-lg","data-testid":"input-player-name"})})]})}),b.jsx("section",{className:"mx-auto mt-10 max-w-4xl",children:b.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[b.jsxs(tn,{className:"border border-emerald-200/60 bg-background/90 shadow-sm backdrop-blur-sm dark:border-emerald-800/60 dark:bg-card/90",children:[b.jsxs(un,{children:[b.jsx(fn,{className:"text-xl font-heading",children:"2A. Host a new room"}),b.jsx(qr,{children:"Create a room and share the code with your friends."})]}),b.jsx(yn,{children:b.jsx(wn,{onClick:u,size:"lg",className:"w-full text-lg font-semibold",disabled:!s.trim(),"data-testid":"button-create-room",children:"Create Room"})})]}),b.jsxs(tn,{className:"border border-emerald-200/60 bg-background/90 shadow-sm backdrop-blur-sm dark:border-emerald-800/60 dark:bg-card/90",children:[b.jsxs(un,{children:[b.jsx(fn,{className:"text-xl font-heading",children:"2B. Join an existing room"}),b.jsx(qr,{children:"Enter the room code shared by the host."})]}),b.jsxs(yn,{className:"space-y-4",children:[b.jsx(qs,{placeholder:"Room code",value:e,onChange:d=>n(d.target.value.toUpperCase()),onKeyDown:d=>d.key==="Enter"&&f(),className:"font-mono uppercase text-lg",maxLength:6,"data-testid":"input-room-code"}),b.jsx(wn,{onClick:f,variant:"secondary",disabled:!s.trim()||!e.trim(),"data-testid":"button-join-room",children:"Join Room"})]})]})]})}),b.jsxs("section",{className:"mx-auto mt-16 max-w-5xl",children:[b.jsx("h2",{className:"mb-8 text-center text-3xl font-heading font-bold",children:"How to Play"}),b.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[{icon:o3,title:"1. Create Room",description:"Host creates a room and shares the code with friends"},{icon:y_,title:"2. Pick Songs",description:"Host sets a theme, players search YouTube for matching songs"},{icon:g_,title:"3. Guess Away",description:"Listen to each song and try to guess the title quickly"},{icon:dm,title:"4. Win Points",description:"First and fastest correct guesses earn the most points"}].map((d,h)=>b.jsx(tn,{className:"border border-emerald-200/60 bg-background/90 text-center shadow-sm backdrop-blur-sm dark:border-emerald-800/60 dark:bg-card/90",children:b.jsxs(un,{className:"text-center",children:[b.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-emerald-200/60 dark:bg-emerald-900/40",children:b.jsx(d.icon,{className:"h-8 w-8 text-emerald-700 dark:text-emerald-300"})}),b.jsx(fn,{className:"text-lg font-heading",children:d.title}),b.jsx(qr,{className:"text-sm",children:d.description})]})},h))})]})]})}),b.jsx("a",{className:"block px-4 pb-6 text-center text-xs text-muted-foreground/80",href:"https://www.flaticon.com/free-icons/music-note",title:"music note icons",children:"Music note icons created by Freepik - Flaticon"})]})}const GP=Pf("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border border-(--badge-outline) shadow-xs"}},defaultVariants:{variant:"default"}});function Ac({className:t,variant:e,...n}){return b.jsx("div",{className:$t(GP({variant:e}),t),...n})}function Ey(t,[e,n]){return Math.min(n,Math.max(e,t))}var KP=R.createContext(void 0);function fw(t){const e=R.useContext(KP);return t||e||"ltr"}function XP(t){const e=R.useRef({value:t,previous:t});return R.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var dw=["PageUp","PageDown"],hw=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],pw={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},go="Slider",[bm,QP,ZP]=zS(go),[mw]=Pi(go,[ZP]),[JP,zf]=mw(go),yw=R.forwardRef((t,e)=>{const{name:n,min:s=0,max:a=100,step:c=1,orientation:u="horizontal",disabled:f=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[s],value:y,onValueChange:g=()=>{},onValueCommit:x=()=>{},inverted:S=!1,form:C,...E}=t,M=R.useRef(new Set),N=R.useRef(0),k=u==="horizontal"?WP:eN,[j=[],Y]=qS({prop:y,defaultProp:h,onChange:Se=>{[...M.current][N.current]?.focus(),g(Se)}}),J=R.useRef(j);function G(Se){const we=iN(j,Se);xe(Se,we)}function X(Se){xe(Se,N.current)}function pe(){const Se=J.current[N.current];j[N.current]!==Se&&x(j)}function xe(Se,we,{commit:Ce}={commit:!1}){const ge=lN(c),De=uN(Math.round((Se-s)/c)*c+s,ge),U=Ey(De,[s,a]);Y((te=[])=>{const $=rN(te,U,we);if(cN($,d*c)){N.current=$.indexOf(U);const Ee=String($)!==String(te);return Ee&&Ce&&x($),Ee?$:te}else return te})}return b.jsx(JP,{scope:t.__scopeSlider,name:n,disabled:f,min:s,max:a,valueIndexToChangeRef:N,thumbs:M.current,values:j,orientation:u,form:C,children:b.jsx(bm.Provider,{scope:t.__scopeSlider,children:b.jsx(bm.Slot,{scope:t.__scopeSlider,children:b.jsx(k,{"aria-disabled":f,"data-disabled":f?"":void 0,...E,ref:e,onPointerDown:jt(E.onPointerDown,()=>{f||(J.current=j)}),min:s,max:a,inverted:S,onSlideStart:f?void 0:G,onSlideMove:f?void 0:X,onSlideEnd:f?void 0:pe,onHomeKeyDown:()=>!f&&xe(s,0,{commit:!0}),onEndKeyDown:()=>!f&&xe(a,j.length-1,{commit:!0}),onStepKeyDown:({event:Se,direction:we})=>{if(!f){const De=dw.includes(Se.key)||Se.shiftKey&&hw.includes(Se.key)?10:1,U=N.current,te=j[U],$=c*De*we;xe(te+$,U,{commit:!0})}}})})})})});yw.displayName=go;var[gw,vw]=mw(go,{startEdge:"left",endEdge:"right",size:"width",direction:1}),WP=R.forwardRef((t,e)=>{const{min:n,max:s,dir:a,inverted:c,onSlideStart:u,onSlideMove:f,onSlideEnd:d,onStepKeyDown:h,...y}=t,[g,x]=R.useState(null),S=an(e,k=>x(k)),C=R.useRef(void 0),E=fw(a),M=E==="ltr",N=M&&!c||!M&&c;function D(k){const j=C.current||g.getBoundingClientRect(),Y=[0,j.width],G=Ty(Y,N?[n,s]:[s,n]);return C.current=j,G(k-j.left)}return b.jsx(gw,{scope:t.__scopeSlider,startEdge:N?"left":"right",endEdge:N?"right":"left",direction:N?1:-1,size:"width",children:b.jsx(xw,{dir:E,"data-orientation":"horizontal",...y,ref:S,style:{...y.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:k=>{const j=D(k.clientX);u?.(j)},onSlideMove:k=>{const j=D(k.clientX);f?.(j)},onSlideEnd:()=>{C.current=void 0,d?.()},onStepKeyDown:k=>{const Y=pw[N?"from-left":"from-right"].includes(k.key);h?.({event:k,direction:Y?-1:1})}})})}),eN=R.forwardRef((t,e)=>{const{min:n,max:s,inverted:a,onSlideStart:c,onSlideMove:u,onSlideEnd:f,onStepKeyDown:d,...h}=t,y=R.useRef(null),g=an(e,y),x=R.useRef(void 0),S=!a;function C(E){const M=x.current||y.current.getBoundingClientRect(),N=[0,M.height],k=Ty(N,S?[s,n]:[n,s]);return x.current=M,k(E-M.top)}return b.jsx(gw,{scope:t.__scopeSlider,startEdge:S?"bottom":"top",endEdge:S?"top":"bottom",size:"height",direction:S?1:-1,children:b.jsx(xw,{"data-orientation":"vertical",...h,ref:g,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:E=>{const M=C(E.clientY);c?.(M)},onSlideMove:E=>{const M=C(E.clientY);u?.(M)},onSlideEnd:()=>{x.current=void 0,f?.()},onStepKeyDown:E=>{const N=pw[S?"from-bottom":"from-top"].includes(E.key);d?.({event:E,direction:N?-1:1})}})})}),xw=R.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:a,onSlideEnd:c,onHomeKeyDown:u,onEndKeyDown:f,onStepKeyDown:d,...h}=t,y=zf(go,n);return b.jsx(zt.span,{...h,ref:e,onKeyDown:jt(t.onKeyDown,g=>{g.key==="Home"?(u(g),g.preventDefault()):g.key==="End"?(f(g),g.preventDefault()):dw.concat(hw).includes(g.key)&&(d(g),g.preventDefault())}),onPointerDown:jt(t.onPointerDown,g=>{const x=g.target;x.setPointerCapture(g.pointerId),g.preventDefault(),y.thumbs.has(x)?x.focus():s(g)}),onPointerMove:jt(t.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&a(g)}),onPointerUp:jt(t.onPointerUp,g=>{const x=g.target;x.hasPointerCapture(g.pointerId)&&(x.releasePointerCapture(g.pointerId),c(g))})})}),bw="SliderTrack",Sw=R.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,a=zf(bw,n);return b.jsx(zt.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...s,ref:e})});Sw.displayName=bw;var Sm="SliderRange",_w=R.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,a=zf(Sm,n),c=vw(Sm,n),u=R.useRef(null),f=an(e,u),d=a.values.length,h=a.values.map(x=>Ew(x,a.min,a.max)),y=d>1?Math.min(...h):0,g=100-Math.max(...h);return b.jsx(zt.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...s,ref:f,style:{...t.style,[c.startEdge]:y+"%",[c.endEdge]:g+"%"}})});_w.displayName=Sm;var _m="SliderThumb",ww=R.forwardRef((t,e)=>{const n=QP(t.__scopeSlider),[s,a]=R.useState(null),c=an(e,f=>a(f)),u=R.useMemo(()=>s?n().findIndex(f=>f.ref.current===s):-1,[n,s]);return b.jsx(tN,{...t,ref:c,index:u})}),tN=R.forwardRef((t,e)=>{const{__scopeSlider:n,index:s,name:a,...c}=t,u=zf(_m,n),f=vw(_m,n),[d,h]=R.useState(null),y=an(e,D=>h(D)),g=d?u.form||!!d.closest("form"):!0,x=F_(d),S=u.values[s],C=S===void 0?0:Ew(S,u.min,u.max),E=sN(s,u.values.length),M=x?.[f.size],N=M?aN(M,C,f.direction):0;return R.useEffect(()=>{if(d)return u.thumbs.add(d),()=>{u.thumbs.delete(d)}},[d,u.thumbs]),b.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[f.startEdge]:`calc(${C}% + ${N}px)`},children:[b.jsx(bm.ItemSlot,{scope:t.__scopeSlider,children:b.jsx(zt.span,{role:"slider","aria-label":t["aria-label"]||E,"aria-valuemin":u.min,"aria-valuenow":S,"aria-valuemax":u.max,"aria-orientation":u.orientation,"data-orientation":u.orientation,"data-disabled":u.disabled?"":void 0,tabIndex:u.disabled?void 0:0,...c,ref:y,style:S===void 0?{display:"none"}:t.style,onFocus:jt(t.onFocus,()=>{u.valueIndexToChangeRef.current=s})})}),g&&b.jsx(Cw,{name:a??(u.name?u.name+(u.values.length>1?"[]":""):void 0),form:u.form,value:S},s)]})});ww.displayName=_m;var nN="RadioBubbleInput",Cw=R.forwardRef(({__scopeSlider:t,value:e,...n},s)=>{const a=R.useRef(null),c=an(a,s),u=XP(e);return R.useEffect(()=>{const f=a.current;if(!f)return;const d=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(d,"value").set;if(u!==e&&y){const g=new Event("input",{bubbles:!0});y.call(f,e),f.dispatchEvent(g)}},[u,e]),b.jsx(zt.input,{style:{display:"none"},...n,ref:c,defaultValue:e})});Cw.displayName=nN;function rN(t=[],e,n){const s=[...t];return s[n]=e,s.sort((a,c)=>a-c)}function Ew(t,e,n){const c=100/(n-e)*(t-e);return Ey(c,[0,100])}function sN(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function iN(t,e){if(t.length===1)return 0;const n=t.map(a=>Math.abs(a-e)),s=Math.min(...n);return n.indexOf(s)}function aN(t,e,n){const s=t/2,c=Ty([0,50],[0,s]);return(s-c(e)*n)*n}function oN(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function cN(t,e){if(e>0){const n=oN(t);return Math.min(...n)>=e}return!0}function Ty(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function lN(t){return(String(t).split(".")[1]||"").length}function uN(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var Tw=yw,fN=Sw,dN=_w,hN=ww;const af=R.forwardRef(({className:t,...e},n)=>b.jsxs(Tw,{ref:n,className:$t("relative flex w-full touch-none select-none items-center",t),...e,children:[b.jsx(fN,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:b.jsx(dN,{className:"absolute h-full bg-primary"})}),b.jsx(hN,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));af.displayName=Tw.displayName;var pN="Label",Rw=R.forwardRef((t,e)=>b.jsx(zt.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Rw.displayName=pN;var Aw=Rw;const mN=Pf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ta=R.forwardRef(({className:t,...e},n)=>b.jsx(Aw,{ref:n,className:$t(mN(),t),...e}));ta.displayName=Aw.displayName;var yN=CS();function gN(){return yN.useSyncExternalStore(vN,()=>!0,()=>!1)}function vN(){return()=>{}}var Ry="Avatar",[xN]=Pi(Ry),[bN,Ow]=xN(Ry),Mw=R.forwardRef((t,e)=>{const{__scopeAvatar:n,...s}=t,[a,c]=R.useState("idle");return b.jsx(bN,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:c,children:b.jsx(zt.span,{...s,ref:e})})});Mw.displayName=Ry;var Pw="AvatarImage",Nw=R.forwardRef((t,e)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:a=()=>{},...c}=t,u=Ow(Pw,n),f=SN(s,c),d=qn(h=>{a(h),u.onImageLoadingStatusChange(h)});return Dr(()=>{f!=="idle"&&d(f)},[f,d]),f==="loaded"?b.jsx(zt.img,{...c,ref:e,src:s}):null});Nw.displayName=Pw;var Dw="AvatarFallback",kw=R.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:s,...a}=t,c=Ow(Dw,n),[u,f]=R.useState(s===void 0);return R.useEffect(()=>{if(s!==void 0){const d=window.setTimeout(()=>f(!0),s);return()=>window.clearTimeout(d)}},[s]),u&&c.imageLoadingStatus!=="loaded"?b.jsx(zt.span,{...a,ref:e}):null});kw.displayName=Dw;function Wb(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function SN(t,{referrerPolicy:e,crossOrigin:n}){const s=gN(),a=R.useRef(null),c=s?(a.current||(a.current=new window.Image),a.current):null,[u,f]=R.useState(()=>Wb(c,t));return Dr(()=>{f(Wb(c,t))},[c,t]),Dr(()=>{const d=g=>()=>{f(g)};if(!c)return;const h=d("loaded"),y=d("error");return c.addEventListener("load",h),c.addEventListener("error",y),e&&(c.referrerPolicy=e),typeof n=="string"&&(c.crossOrigin=n),()=>{c.removeEventListener("load",h),c.removeEventListener("error",y)}},[c,n,e]),u}var jw=Mw,Lw=Nw,Uw=kw;const zw=R.forwardRef(({className:t,...e},n)=>b.jsx(jw,{ref:n,className:$t(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));zw.displayName=jw.displayName;const _N=R.forwardRef(({className:t,...e},n)=>b.jsx(Lw,{ref:n,className:$t("aspect-square h-full w-full",t),...e}));_N.displayName=Lw.displayName;const Iw=R.forwardRef(({className:t,...e},n)=>b.jsx(Uw,{ref:n,className:$t("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Iw.displayName=Uw.displayName;function Xa({playerId:t,playerName:e,size:n="md"}){const s={sm:"h-8 w-8 text-xs",md:"h-12 w-12 text-sm",lg:"h-16 w-16 text-base"};return b.jsx(zw,{className:s[n],children:b.jsx(Iw,{className:`bg-linear-to-br ${qP(t)} text-white font-semibold`,children:FP(e)})})}var Ay="Progress",Oy=100,[wN]=Pi(Ay),[CN,EN]=wN(Ay),Bw=R.forwardRef((t,e)=>{const{__scopeProgress:n,value:s=null,max:a,getValueLabel:c=TN,...u}=t;(a||a===0)&&!e1(a)&&console.error(RN(`${a}`,"Progress"));const f=e1(a)?a:Oy;s!==null&&!t1(s,f)&&console.error(AN(`${s}`,"Progress"));const d=t1(s,f)?s:null,h=of(d)?c(d,f):void 0;return b.jsx(CN,{scope:n,value:d,max:f,children:b.jsx(zt.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":of(d)?d:void 0,"aria-valuetext":h,role:"progressbar","data-state":Vw(d,f),"data-value":d??void 0,"data-max":f,...u,ref:e})})});Bw.displayName=Ay;var Hw="ProgressIndicator",$w=R.forwardRef((t,e)=>{const{__scopeProgress:n,...s}=t,a=EN(Hw,n);return b.jsx(zt.div,{"data-state":Vw(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:e})});$w.displayName=Hw;function TN(t,e){return`${Math.round(t/e*100)}%`}function Vw(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function of(t){return typeof t=="number"}function e1(t){return of(t)&&!isNaN(t)&&t>0}function t1(t,e){return of(t)&&!isNaN(t)&&t<=e&&t>=0}function RN(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Oy}\`.`}function AN(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Oy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var qw=Bw,ON=$w;const Fw=R.forwardRef(({className:t,value:e,...n},s)=>b.jsx(qw,{ref:s,className:$t("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:b.jsx(ON,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Fw.displayName=qw.displayName;function MN({timeRemaining:t,totalTime:e,variant:n="default"}){const s=t/e*100,a=s<25;return b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[b.jsx(m_,{className:`w-4 h-4 ${a?"text-accent animate-pulse":"text-muted-foreground"}`}),b.jsxs("span",{className:a?"text-accent font-bold":"",children:[Math.max(0,Math.ceil(t)),"s"]})]}),b.jsxs("span",{className:"text-xs text-muted-foreground",children:["/ ",e,"s"]})]}),b.jsx(Fw,{value:s,className:`h-2 ${a?"animate-pulse":""}`,"data-testid":"progress-timer"})]})}const PN={BASE_URL:"/music-showdown/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};async function NN(){const t="AIzaSyBo_-vy2fUDR_isXL4llWGOJJImxvsmYbU";return console.log("@@@ import.meta.env",PN),t}let xu=null;async function DN(t){if(xu===null&&(xu=await NN()),!xu)throw console.error("YouTube API key not configured"),new Error("YouTube API key not configured. Please add VITE_YOUTUBE_API_KEY to your environment.");const e=new URLSearchParams({part:"snippet",q:t,type:"video",maxResults:"12",videoEmbeddable:"true",videoCategoryId:"10",key:xu}),n=await fetch(`https://www.googleapis.com/youtube/v3/search?${e.toString()}`);if(!n.ok)throw new Error("Failed to search YouTube");return(await n.json()).items?.map(a=>({id:a.id?.videoId||"",title:ef(a.snippet?.title||""),thumbnail:a.snippet?.thumbnails?.medium?.url||"",channelTitle:ef(a.snippet?.channelTitle||"")}))||[]}function kN(t,e){return R.useReducer((n,s)=>e[n][s]??n,t)}var My="ScrollArea",[Yw]=Pi(My),[jN,kr]=Yw(My),Gw=R.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:s="hover",dir:a,scrollHideDelay:c=600,...u}=t,[f,d]=R.useState(null),[h,y]=R.useState(null),[g,x]=R.useState(null),[S,C]=R.useState(null),[E,M]=R.useState(null),[N,D]=R.useState(0),[k,j]=R.useState(0),[Y,J]=R.useState(!1),[G,X]=R.useState(!1),pe=an(e,Se=>d(Se)),xe=fw(a);return b.jsx(jN,{scope:n,type:s,dir:xe,scrollHideDelay:c,scrollArea:f,viewport:h,onViewportChange:y,content:g,onContentChange:x,scrollbarX:S,onScrollbarXChange:C,scrollbarXEnabled:Y,onScrollbarXEnabledChange:J,scrollbarY:E,onScrollbarYChange:M,scrollbarYEnabled:G,onScrollbarYEnabledChange:X,onCornerWidthChange:D,onCornerHeightChange:j,children:b.jsx(zt.div,{dir:xe,...u,ref:pe,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":k+"px",...t.style}})})});Gw.displayName=My;var Kw="ScrollAreaViewport",Xw=R.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:s,nonce:a,...c}=t,u=kr(Kw,n),f=R.useRef(null),d=an(e,f,u.onViewportChange);return b.jsxs(b.Fragment,{children:[b.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),b.jsx(zt.div,{"data-radix-scroll-area-viewport":"",...c,ref:d,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...t.style},children:b.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});Xw.displayName=Kw;var vs="ScrollAreaScrollbar",Py=R.forwardRef((t,e)=>{const{forceMount:n,...s}=t,a=kr(vs,t.__scopeScrollArea),{onScrollbarXEnabledChange:c,onScrollbarYEnabledChange:u}=a,f=t.orientation==="horizontal";return R.useEffect(()=>(f?c(!0):u(!0),()=>{f?c(!1):u(!1)}),[f,c,u]),a.type==="hover"?b.jsx(LN,{...s,ref:e,forceMount:n}):a.type==="scroll"?b.jsx(UN,{...s,ref:e,forceMount:n}):a.type==="auto"?b.jsx(Qw,{...s,ref:e,forceMount:n}):a.type==="always"?b.jsx(Ny,{...s,ref:e}):null});Py.displayName=vs;var LN=R.forwardRef((t,e)=>{const{forceMount:n,...s}=t,a=kr(vs,t.__scopeScrollArea),[c,u]=R.useState(!1);return R.useEffect(()=>{const f=a.scrollArea;let d=0;if(f){const h=()=>{window.clearTimeout(d),u(!0)},y=()=>{d=window.setTimeout(()=>u(!1),a.scrollHideDelay)};return f.addEventListener("pointerenter",h),f.addEventListener("pointerleave",y),()=>{window.clearTimeout(d),f.removeEventListener("pointerenter",h),f.removeEventListener("pointerleave",y)}}},[a.scrollArea,a.scrollHideDelay]),b.jsx(fa,{present:n||c,children:b.jsx(Qw,{"data-state":c?"visible":"hidden",...s,ref:e})})}),UN=R.forwardRef((t,e)=>{const{forceMount:n,...s}=t,a=kr(vs,t.__scopeScrollArea),c=t.orientation==="horizontal",u=Bf(()=>d("SCROLL_END"),100),[f,d]=kN("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return R.useEffect(()=>{if(f==="idle"){const h=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(h)}},[f,a.scrollHideDelay,d]),R.useEffect(()=>{const h=a.viewport,y=c?"scrollLeft":"scrollTop";if(h){let g=h[y];const x=()=>{const S=h[y];g!==S&&(d("SCROLL"),u()),g=S};return h.addEventListener("scroll",x),()=>h.removeEventListener("scroll",x)}},[a.viewport,c,d,u]),b.jsx(fa,{present:n||f!=="hidden",children:b.jsx(Ny,{"data-state":f==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:jt(t.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:jt(t.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),Qw=R.forwardRef((t,e)=>{const n=kr(vs,t.__scopeScrollArea),{forceMount:s,...a}=t,[c,u]=R.useState(!1),f=t.orientation==="horizontal",d=Bf(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,y=n.viewport.offsetHeight<n.viewport.scrollHeight;u(f?h:y)}},10);return co(n.viewport,d),co(n.content,d),b.jsx(fa,{present:s||c,children:b.jsx(Ny,{"data-state":c?"visible":"hidden",...a,ref:e})})}),Ny=R.forwardRef((t,e)=>{const{orientation:n="vertical",...s}=t,a=kr(vs,t.__scopeScrollArea),c=R.useRef(null),u=R.useRef(0),[f,d]=R.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=tC(f.viewport,f.content),y={...s,sizes:f,onSizesChange:d,hasThumb:h>0&&h<1,onThumbChange:x=>c.current=x,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:x=>u.current=x};function g(x,S){return VN(x,u.current,f,S)}return n==="horizontal"?b.jsx(zN,{...y,ref:e,onThumbPositionChange:()=>{if(a.viewport&&c.current){const x=a.viewport.scrollLeft,S=n1(x,f,a.dir);c.current.style.transform=`translate3d(${S}px, 0, 0)`}},onWheelScroll:x=>{a.viewport&&(a.viewport.scrollLeft=x)},onDragScroll:x=>{a.viewport&&(a.viewport.scrollLeft=g(x,a.dir))}}):n==="vertical"?b.jsx(IN,{...y,ref:e,onThumbPositionChange:()=>{if(a.viewport&&c.current){const x=a.viewport.scrollTop,S=n1(x,f);c.current.style.transform=`translate3d(0, ${S}px, 0)`}},onWheelScroll:x=>{a.viewport&&(a.viewport.scrollTop=x)},onDragScroll:x=>{a.viewport&&(a.viewport.scrollTop=g(x))}}):null}),zN=R.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...a}=t,c=kr(vs,t.__scopeScrollArea),[u,f]=R.useState(),d=R.useRef(null),h=an(e,d,c.onScrollbarXChange);return R.useEffect(()=>{d.current&&f(getComputedStyle(d.current))},[d]),b.jsx(Jw,{"data-orientation":"horizontal",...a,ref:h,sizes:n,style:{bottom:0,left:c.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:c.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":If(n)+"px",...t.style},onThumbPointerDown:y=>t.onThumbPointerDown(y.x),onDragScroll:y=>t.onDragScroll(y.x),onWheelScroll:(y,g)=>{if(c.viewport){const x=c.viewport.scrollLeft+y.deltaX;t.onWheelScroll(x),rC(x,g)&&y.preventDefault()}},onResize:()=>{d.current&&c.viewport&&u&&s({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:lf(u.paddingLeft),paddingEnd:lf(u.paddingRight)}})}})}),IN=R.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...a}=t,c=kr(vs,t.__scopeScrollArea),[u,f]=R.useState(),d=R.useRef(null),h=an(e,d,c.onScrollbarYChange);return R.useEffect(()=>{d.current&&f(getComputedStyle(d.current))},[d]),b.jsx(Jw,{"data-orientation":"vertical",...a,ref:h,sizes:n,style:{top:0,right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":If(n)+"px",...t.style},onThumbPointerDown:y=>t.onThumbPointerDown(y.y),onDragScroll:y=>t.onDragScroll(y.y),onWheelScroll:(y,g)=>{if(c.viewport){const x=c.viewport.scrollTop+y.deltaY;t.onWheelScroll(x),rC(x,g)&&y.preventDefault()}},onResize:()=>{d.current&&c.viewport&&u&&s({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:lf(u.paddingTop),paddingEnd:lf(u.paddingBottom)}})}})}),[BN,Zw]=Yw(vs),Jw=R.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:a,onThumbChange:c,onThumbPointerUp:u,onThumbPointerDown:f,onThumbPositionChange:d,onDragScroll:h,onWheelScroll:y,onResize:g,...x}=t,S=kr(vs,n),[C,E]=R.useState(null),M=an(e,pe=>E(pe)),N=R.useRef(null),D=R.useRef(""),k=S.viewport,j=s.content-s.viewport,Y=qn(y),J=qn(d),G=Bf(g,10);function X(pe){if(N.current){const xe=pe.clientX-N.current.left,Se=pe.clientY-N.current.top;h({x:xe,y:Se})}}return R.useEffect(()=>{const pe=xe=>{const Se=xe.target;C?.contains(Se)&&Y(xe,j)};return document.addEventListener("wheel",pe,{passive:!1}),()=>document.removeEventListener("wheel",pe,{passive:!1})},[k,C,j,Y]),R.useEffect(J,[s,J]),co(C,G),co(S.content,G),b.jsx(BN,{scope:n,scrollbar:C,hasThumb:a,onThumbChange:qn(c),onThumbPointerUp:qn(u),onThumbPositionChange:J,onThumbPointerDown:qn(f),children:b.jsx(zt.div,{...x,ref:M,style:{position:"absolute",...x.style},onPointerDown:jt(t.onPointerDown,pe=>{pe.button===0&&(pe.target.setPointerCapture(pe.pointerId),N.current=C.getBoundingClientRect(),D.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",S.viewport&&(S.viewport.style.scrollBehavior="auto"),X(pe))}),onPointerMove:jt(t.onPointerMove,X),onPointerUp:jt(t.onPointerUp,pe=>{const xe=pe.target;xe.hasPointerCapture(pe.pointerId)&&xe.releasePointerCapture(pe.pointerId),document.body.style.webkitUserSelect=D.current,S.viewport&&(S.viewport.style.scrollBehavior=""),N.current=null})})})}),cf="ScrollAreaThumb",Ww=R.forwardRef((t,e)=>{const{forceMount:n,...s}=t,a=Zw(cf,t.__scopeScrollArea);return b.jsx(fa,{present:n||a.hasThumb,children:b.jsx(HN,{ref:e,...s})})}),HN=R.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:s,...a}=t,c=kr(cf,n),u=Zw(cf,n),{onThumbPositionChange:f}=u,d=an(e,g=>u.onThumbChange(g)),h=R.useRef(void 0),y=Bf(()=>{h.current&&(h.current(),h.current=void 0)},100);return R.useEffect(()=>{const g=c.viewport;if(g){const x=()=>{if(y(),!h.current){const S=qN(g,f);h.current=S,f()}};return f(),g.addEventListener("scroll",x),()=>g.removeEventListener("scroll",x)}},[c.viewport,y,f]),b.jsx(zt.div,{"data-state":u.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:jt(t.onPointerDownCapture,g=>{const S=g.target.getBoundingClientRect(),C=g.clientX-S.left,E=g.clientY-S.top;u.onThumbPointerDown({x:C,y:E})}),onPointerUp:jt(t.onPointerUp,u.onThumbPointerUp)})});Ww.displayName=cf;var Dy="ScrollAreaCorner",eC=R.forwardRef((t,e)=>{const n=kr(Dy,t.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?b.jsx($N,{...t,ref:e}):null});eC.displayName=Dy;var $N=R.forwardRef((t,e)=>{const{__scopeScrollArea:n,...s}=t,a=kr(Dy,n),[c,u]=R.useState(0),[f,d]=R.useState(0),h=!!(c&&f);return co(a.scrollbarX,()=>{const y=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(y),d(y)}),co(a.scrollbarY,()=>{const y=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(y),u(y)}),h?b.jsx(zt.div,{...s,ref:e,style:{width:c,height:f,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function lf(t){return t?parseInt(t,10):0}function tC(t,e){const n=t/e;return isNaN(n)?0:n}function If(t){const e=tC(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-n)*e;return Math.max(s,18)}function VN(t,e,n,s="ltr"){const a=If(n),c=a/2,u=e||c,f=a-u,d=n.scrollbar.paddingStart+u,h=n.scrollbar.size-n.scrollbar.paddingEnd-f,y=n.content-n.viewport,g=s==="ltr"?[0,y]:[y*-1,0];return nC([d,h],g)(t)}function n1(t,e,n="ltr"){const s=If(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,c=e.scrollbar.size-a,u=e.content-e.viewport,f=c-s,d=n==="ltr"?[0,u]:[u*-1,0],h=Ey(t,d);return nC([0,u],[0,f])(h)}function nC(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function rC(t,e){return t>0&&t<e}var qN=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},s=0;return(function a(){const c={left:t.scrollLeft,top:t.scrollTop},u=n.left!==c.left,f=n.top!==c.top;(u||f)&&e(),n=c,s=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(s)};function Bf(t,e){const n=qn(t),s=R.useRef(0);return R.useEffect(()=>()=>window.clearTimeout(s.current),[]),R.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,e)},[n,e])}function co(t,e){const n=qn(e);Dr(()=>{let s=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return a.observe(t),()=>{window.cancelAnimationFrame(s),a.unobserve(t)}}},[t,n])}var sC=Gw,FN=Xw,YN=eC;const ky=R.forwardRef(({className:t,children:e,...n},s)=>b.jsxs(sC,{ref:s,className:$t("relative overflow-hidden",t),...n,children:[b.jsx(FN,{className:"h-full w-full rounded-[inherit]",children:e}),b.jsx(iC,{}),b.jsx(YN,{})]}));ky.displayName=sC.displayName;const iC=R.forwardRef(({className:t,orientation:e="vertical",...n},s)=>b.jsx(Py,{ref:s,orientation:e,className:$t("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-px",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-px",t),...n,children:b.jsx(Ww,{className:"relative flex-1 rounded-full bg-border"})}));iC.displayName=Py.displayName;function GN({onSelect:t,selectedVideoId:e}){const[n,s]=R.useState(""),[a,c]=R.useState([]),[u,f]=R.useState(!1),d=async()=>{if(n.trim()){f(!0);try{const h=await DN(n);c(h)}catch(h){console.error("Search failed:",h)}finally{f(!1)}}};return b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("div",{className:"relative flex-1",children:[b.jsx(g_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),b.jsx(qs,{placeholder:"Search for a song...",value:n,onChange:h=>s(h.target.value),onKeyDown:h=>h.key==="Enter"&&d(),className:"pl-10","data-testid":"input-youtube-search"})]}),b.jsx(wn,{onClick:d,disabled:u||!n.trim(),"data-testid":"button-search",children:u?b.jsx(py,{className:"w-4 h-4 animate-spin"}):"Search"})]}),a.length>0&&b.jsx(ky,{className:"h-[420px] rounded-lg border p-5",children:b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:a.map(h=>b.jsx(tn,{className:$t("group cursor-pointer border transition-all hover:border-primary/40 hover:shadow-md",e===h.id?"border-primary bg-primary/10 shadow-sm ring-2 ring-primary":"border-border"),onClick:()=>t(h),"data-testid":`card-video-${h.id}`,children:b.jsxs(yn,{className:"relative space-y-3 p-3",children:[b.jsx("img",{src:h.thumbnail,alt:h.title,className:"w-full aspect-video object-cover rounded-md mb-2"}),b.jsx("h3",{className:"font-semibold text-sm line-clamp-2 mb-1",children:h.title}),b.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:h.channelTitle}),e===h.id&&b.jsxs("div",{className:"absolute right-3 top-3 flex items-center gap-1 rounded-full bg-primary/90 px-2 py-1 text-xs font-semibold text-primary-foreground",children:[b.jsx(zO,{className:"h-4 w-4"}),"Selected"]})]})},h.id))})})]})}function wm({videoId:t,onReady:e,onEnd:n,autoplay:s=!0,startSeconds:a=0,endSeconds:c,preventPause:u=!1,timerProgress:f,interactive:d=!1}){const h=R.useRef(null),y=R.useRef(null);let g=1;if(f!==void 0){const x=Math.min(Math.max(f,0),1);x>=.5&&(g=1-.15*((x-.5)/.5)),g=Math.max(.85,g)}return R.useEffect(()=>{if(!window.YT){const S=document.createElement("script");S.src="https://www.youtube.com/iframe_api";const C=document.getElementsByTagName("script")[0];C.parentNode?.insertBefore(S,C)}const x=()=>{h.current&&window.YT&&window.YT.Player&&(y.current=new window.YT.Player(h.current,{videoId:t,playerVars:{autoplay:s?1:0,start:a,end:c,controls:d?1:0,disablekb:d?0:1,fs:0,modestbranding:1,rel:0,iv_load_policy:3},events:{onReady:S=>{s&&S.target.playVideo(),e?.(S.target)},onStateChange:S=>{if(u&&S.data===window.YT.PlayerState.PAUSED){S.target.playVideo();return}S.data===window.YT.PlayerState.ENDED&&n?.()}}}))};return window.YT&&window.YT.Player?x():window.onYouTubeIframeAPIReady=x,()=>{y.current&&y.current.destroy()}},[t,s,a,c,e,n,u,d]),b.jsxs("div",{className:"relative aspect-video w-full bg-black rounded-lg overflow-hidden",children:[b.jsx("div",{ref:h,className:d?"w-full h-full":"pointer-events-none w-full h-full","data-testid":"youtube-player"}),!d&&b.jsx("div",{className:"pointer-events-none absolute left-0 right-0 top-0",style:{height:"60px",backgroundColor:"black"}}),f!==void 0&&!d&&b.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-lg",style:{backgroundColor:`rgba(0,0,0,${g})`}})]})}let Cp=null;function KN(){if(typeof window>"u")return null;const t=window,e=window.AudioContext??t.webkitAudioContext;return e?(Cp||(Cp=new e),Cp):null}function XN(){try{const t=KN();if(!t)return;t.state==="suspended"&&t.resume();const e=t.currentTime,n=t.createOscillator(),s=t.createGain();n.type="sine",n.frequency.setValueAtTime(880,e),s.gain.setValueAtTime(1e-4,e),s.gain.exponentialRampToValueAtTime(.18,e+.02),s.gain.exponentialRampToValueAtTime(1e-4,e+.32),n.connect(s),s.connect(t.destination),n.start(e),n.stop(e+.35)}catch(t){console.error("Failed to play correct guess sound",t)}}var Xi={};class QN{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const n of this._parts)e.push(n);return ZN(e).buffer}}function ZN(t){let e=0;for(const a of t)e+=a.byteLength;const n=new Uint8Array(e);let s=0;for(const a of t){const c=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);n.set(c,s),s+=a.byteLength}return n}function aC(t){return new JN(t).unpack()}function oC(t){const e=new WN,n=e.pack(t);return n instanceof Promise?n.then(()=>e.getBuffer()):e.getBuffer()}class JN{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let n;if((n=e^160)<=15)return this.unpack_raw(n);if((n=e^176)<=15)return this.unpack_string(n);if((n=e^144)<=15)return this.unpack_array(n);if((n=e^128)<=15)return this.unpack_map(n);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),n=(e[0]&255)*256+(e[1]&255);return this.index+=2,n}unpack_uint32(){const e=this.read(4),n=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,n}unpack_uint64(){const e=this.read(8),n=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,n}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,n}unpack_string(e){const n=this.read(e);let s=0,a="",c,u;for(;s<e;)c=n[s],c<160?(u=c,s++):(c^192)<32?(u=(c&31)<<6|n[s+1]&63,s+=2):(c^224)<16?(u=(c&15)<<12|(n[s+1]&63)<<6|n[s+2]&63,s+=3):(u=(c&7)<<18|(n[s+1]&63)<<12|(n[s+2]&63)<<6|n[s+3]&63,s+=4),a+=String.fromCodePoint(u);return this.index+=e,a}unpack_array(e){const n=new Array(e);for(let s=0;s<e;s++)n[s]=this.unpack();return n}unpack_map(e){const n={};for(let s=0;s<e;s++){const a=this.unpack();n[a]=this.unpack()}return n}unpack_float(){const e=this.unpack_uint32(),n=e>>31,s=(e>>23&255)-127,a=e&8388607|8388608;return(n===0?1:-1)*a*2**(s-23)}unpack_double(){const e=this.unpack_uint32(),n=this.unpack_uint32(),s=e>>31,a=(e>>20&2047)-1023,u=(e&1048575|1048576)*2**(a-20)+n*2**(a-52);return(s===0?1:-1)*u}read(e){const n=this.index;if(n+e<=this.length)return this.dataView.subarray(n,n+e);throw new Error("BinaryPackFailure: read index out of range")}}class WN{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const n=e.constructor;if(e instanceof Array){const s=this.pack_array(e);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const s=e;this.pack_bin(new Uint8Array(s.buffer,s.byteOffset,s.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(s=>{this.pack_bin(new Uint8Array(s)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const s=this.pack_object(e);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const n=e.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const n=this._textEncoder.encode(e),s=n.length;if(s<=15)this.pack_uint8(176+s);else if(s<=65535)this._bufferBuilder.append(216),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(s);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(e){const n=e.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const s=a=>{if(a<n){const c=this.pack(e[a]);return c instanceof Promise?c.then(()=>s(a+1)):s(a+1)}};return s(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let n=0;e<0&&(n=1,e=-e);const s=Math.floor(Math.log(e)/Math.LN2),a=e/2**s-1,c=Math.floor(a*2**52),u=2**32,f=n<<31|s+1023<<20|c/u&1048575,d=c%u;this._bufferBuilder.append(203),this.pack_int32(f),this.pack_int32(d)}pack_object(e){const n=Object.keys(e),s=n.length;if(s<=15)this.pack_uint8(128+s);else if(s<=65535)this._bufferBuilder.append(222),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(s);else throw new Error("Invalid length");const a=c=>{if(c<n.length){const u=n[c];if(e.hasOwnProperty(u)){this.pack(u);const f=this.pack(e[u]);if(f instanceof Promise)return f.then(()=>a(c+1))}return a(c+1)}};return a(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const n=e&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(e){const n=e/4294967296,s=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const n=Math.floor(e/4294967296),s=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}constructor(){this._bufferBuilder=new QN,this._textEncoder=new TextEncoder}}let cC=!0,lC=!0;function Sc(t,e,n){const s=t.match(e);return s&&s.length>=n&&parseFloat(s[n],10)}function da(t,e,n){if(!t.RTCPeerConnection)return;const s=t.RTCPeerConnection.prototype,a=s.addEventListener;s.addEventListener=function(u,f){if(u!==e)return a.apply(this,arguments);const d=h=>{const y=n(h);y&&(f.handleEvent?f.handleEvent(y):f(y))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(f,d),a.apply(this,[u,d])};const c=s.removeEventListener;s.removeEventListener=function(u,f){if(u!==e||!this._eventMap||!this._eventMap[e])return c.apply(this,arguments);if(!this._eventMap[e].has(f))return c.apply(this,arguments);const d=this._eventMap[e].get(f);return this._eventMap[e].delete(f),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,c.apply(this,[u,d])},Object.defineProperty(s,"on"+e,{get(){return this["_on"+e]},set(u){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),u&&this.addEventListener(e,this["_on"+e]=u)},enumerable:!0,configurable:!0})}function eD(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(cC=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function tD(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(lC=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function uC(){if(typeof window=="object"){if(cC)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function jy(t,e){lC&&console.warn(t+" is deprecated, please use "+e+" instead.")}function nD(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.userAgentData&&n.userAgentData.brands){const s=n.userAgentData.brands.find(a=>a.brand==="Chromium");if(s)return{browser:"chrome",version:parseInt(s.version,10)}}if(n.mozGetUserMedia)e.browser="firefox",e.version=parseInt(Sc(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(Sc(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(Sc(n.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype,e._safariVersion=Sc(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function r1(t){return Object.prototype.toString.call(t)==="[object Object]"}function fC(t){return r1(t)?Object.keys(t).reduce(function(e,n){const s=r1(t[n]),a=s?fC(t[n]):t[n],c=s&&!Object.keys(a).length;return a===void 0||c?e:Object.assign(e,{[n]:a})},{}):t}function Cm(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(s=>{s.endsWith("Id")?Cm(t,t.get(e[s]),n):s.endsWith("Ids")&&e[s].forEach(a=>{Cm(t,t.get(a),n)})}))}function s1(t,e,n){const s=n?"outbound-rtp":"inbound-rtp",a=new Map;if(e===null)return a;const c=[];return t.forEach(u=>{u.type==="track"&&u.trackIdentifier===e.id&&c.push(u)}),c.forEach(u=>{t.forEach(f=>{f.type===s&&f.trackId===u.id&&Cm(t,f,a)})}),a}const i1=uC;function dC(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const s=function(f){if(typeof f!="object"||f.mandatory||f.optional)return f;const d={};return Object.keys(f).forEach(h=>{if(h==="require"||h==="advanced"||h==="mediaSource")return;const y=typeof f[h]=="object"?f[h]:{ideal:f[h]};y.exact!==void 0&&typeof y.exact=="number"&&(y.min=y.max=y.exact);const g=function(x,S){return x?x+S.charAt(0).toUpperCase()+S.slice(1):S==="deviceId"?"sourceId":S};if(y.ideal!==void 0){d.optional=d.optional||[];let x={};typeof y.ideal=="number"?(x[g("min",h)]=y.ideal,d.optional.push(x),x={},x[g("max",h)]=y.ideal,d.optional.push(x)):(x[g("",h)]=y.ideal,d.optional.push(x))}y.exact!==void 0&&typeof y.exact!="number"?(d.mandatory=d.mandatory||{},d.mandatory[g("",h)]=y.exact):["min","max"].forEach(x=>{y[x]!==void 0&&(d.mandatory=d.mandatory||{},d.mandatory[g(x,h)]=y[x])})}),f.advanced&&(d.optional=(d.optional||[]).concat(f.advanced)),d},a=function(f,d){if(e.version>=61)return d(f);if(f=JSON.parse(JSON.stringify(f)),f&&typeof f.audio=="object"){const h=function(y,g,x){g in y&&!(x in y)&&(y[x]=y[g],delete y[g])};f=JSON.parse(JSON.stringify(f)),h(f.audio,"autoGainControl","googAutoGainControl"),h(f.audio,"noiseSuppression","googNoiseSuppression"),f.audio=s(f.audio)}if(f&&typeof f.video=="object"){let h=f.video.facingMode;h=h&&(typeof h=="object"?h:{ideal:h});const y=e.version<66;if(h&&(h.exact==="user"||h.exact==="environment"||h.ideal==="user"||h.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!y)){delete f.video.facingMode;let g;if(h.exact==="environment"||h.ideal==="environment"?g=["back","rear"]:(h.exact==="user"||h.ideal==="user")&&(g=["front"]),g)return n.mediaDevices.enumerateDevices().then(x=>{x=x.filter(C=>C.kind==="videoinput");let S=x.find(C=>g.some(E=>C.label.toLowerCase().includes(E)));return!S&&x.length&&g.includes("back")&&(S=x[x.length-1]),S&&(f.video.deviceId=h.exact?{exact:S.deviceId}:{ideal:S.deviceId}),f.video=s(f.video),i1("chrome: "+JSON.stringify(f)),d(f)})}f.video=s(f.video)}return i1("chrome: "+JSON.stringify(f)),d(f)},c=function(f){return e.version>=64?f:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[f.name]||f.name,message:f.message,constraint:f.constraint||f.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},u=function(f,d,h){a(f,y=>{n.webkitGetUserMedia(y,d,g=>{h&&h(c(g))})})};if(n.getUserMedia=u.bind(n),n.mediaDevices.getUserMedia){const f=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(d){return a(d,h=>f(h).then(y=>{if(h.audio&&!y.getAudioTracks().length||h.video&&!y.getVideoTracks().length)throw y.getTracks().forEach(g=>{g.stop()}),new DOMException("","NotFoundError");return y},y=>Promise.reject(c(y))))}}}function hC(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function pC(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=s=>{s.stream.addEventListener("addtrack",a=>{let c;t.RTCPeerConnection.prototype.getReceivers?c=this.getReceivers().find(f=>f.track&&f.track.id===a.track.id):c={track:a.track};const u=new Event("track");u.track=a.track,u.receiver=c,u.transceiver={receiver:c},u.streams=[s.stream],this.dispatchEvent(u)}),s.stream.getTracks().forEach(a=>{let c;t.RTCPeerConnection.prototype.getReceivers?c=this.getReceivers().find(f=>f.track&&f.track.id===a.id):c={track:a};const u=new Event("track");u.track=a,u.receiver=c,u.transceiver={receiver:c},u.streams=[s.stream],this.dispatchEvent(u)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else da(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function mC(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(a,c){return{track:c,get dtmf(){return this._dtmf===void 0&&(c.kind==="audio"?this._dtmf=a.createDTMFSender(c):this._dtmf=null),this._dtmf},_pc:a}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const a=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(f,d){let h=a.apply(this,arguments);return h||(h=e(this,f),this._senders.push(h)),h};const c=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(f){c.apply(this,arguments);const d=this._senders.indexOf(f);d!==-1&&this._senders.splice(d,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(c){this._senders=this._senders||[],n.apply(this,[c]),c.getTracks().forEach(u=>{this._senders.push(e(this,u))})};const s=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(c){this._senders=this._senders||[],s.apply(this,[c]),c.getTracks().forEach(u=>{const f=this._senders.find(d=>d.track===u);f&&this._senders.splice(this._senders.indexOf(f),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const s=e.apply(this,[]);return s.forEach(a=>a._pc=this),s},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function yC(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const c=n.apply(this,[]);return c.forEach(u=>u._pc=this),c});const s=t.RTCPeerConnection.prototype.addTrack;s&&(t.RTCPeerConnection.prototype.addTrack=function(){const c=s.apply(this,arguments);return c._pc=this,c}),t.RTCRtpSender.prototype.getStats=function(){const c=this;return this._pc.getStats().then(u=>s1(u,c.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const a=n.apply(this,[]);return a.forEach(c=>c._pc=this),a}),da(t,"track",s=>(s.receiver._pc=s.srcElement,s)),t.RTCRtpReceiver.prototype.getStats=function(){const a=this;return this._pc.getStats().then(c=>s1(c,a.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const s=arguments[0];let a,c,u;return this.getSenders().forEach(f=>{f.track===s&&(a?u=!0:a=f)}),this.getReceivers().forEach(f=>(f.track===s&&(c?u=!0:c=f),f.track===s)),u||a&&c?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):a?a.getStats():c?c.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function gC(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(u=>this._shimmedLocalStreams[u][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(u,f){if(!f)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const d=e.apply(this,arguments);return this._shimmedLocalStreams[f.id]?this._shimmedLocalStreams[f.id].indexOf(d)===-1&&this._shimmedLocalStreams[f.id].push(d):this._shimmedLocalStreams[f.id]=[f,d],d};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(u){this._shimmedLocalStreams=this._shimmedLocalStreams||{},u.getTracks().forEach(h=>{if(this.getSenders().find(g=>g.track===h))throw new DOMException("Track already exists.","InvalidAccessError")});const f=this.getSenders();n.apply(this,arguments);const d=this.getSenders().filter(h=>f.indexOf(h)===-1);this._shimmedLocalStreams[u.id]=[u].concat(d)};const s=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(u){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[u.id],s.apply(this,arguments)};const a=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(u){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},u&&Object.keys(this._shimmedLocalStreams).forEach(f=>{const d=this._shimmedLocalStreams[f].indexOf(u);d!==-1&&this._shimmedLocalStreams[f].splice(d,1),this._shimmedLocalStreams[f].length===1&&delete this._shimmedLocalStreams[f]}),a.apply(this,arguments)}}function vC(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return gC(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const y=n.apply(this);return this._reverseStreams=this._reverseStreams||{},y.map(g=>this._reverseStreams[g.id])};const s=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(y){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},y.getTracks().forEach(g=>{if(this.getSenders().find(S=>S.track===g))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[y.id]){const g=new t.MediaStream(y.getTracks());this._streams[y.id]=g,this._reverseStreams[g.id]=y,y=g}s.apply(this,[y])};const a=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(y){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},a.apply(this,[this._streams[y.id]||y]),delete this._reverseStreams[this._streams[y.id]?this._streams[y.id].id:y.id],delete this._streams[y.id]},t.RTCPeerConnection.prototype.addTrack=function(y,g){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const x=[].slice.call(arguments,1);if(x.length!==1||!x[0].getTracks().find(E=>E===y))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(E=>E.track===y))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const C=this._streams[g.id];if(C)C.addTrack(y),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const E=new t.MediaStream([y]);this._streams[g.id]=E,this._reverseStreams[E.id]=g,this.addStream(E)}return this.getSenders().find(E=>E.track===y)};function c(h,y){let g=y.sdp;return Object.keys(h._reverseStreams||[]).forEach(x=>{const S=h._reverseStreams[x],C=h._streams[S.id];g=g.replace(new RegExp(C.id,"g"),S.id)}),new RTCSessionDescription({type:y.type,sdp:g})}function u(h,y){let g=y.sdp;return Object.keys(h._reverseStreams||[]).forEach(x=>{const S=h._reverseStreams[x],C=h._streams[S.id];g=g.replace(new RegExp(S.id,"g"),C.id)}),new RTCSessionDescription({type:y.type,sdp:g})}["createOffer","createAnswer"].forEach(function(h){const y=t.RTCPeerConnection.prototype[h],g={[h](){const x=arguments;return arguments.length&&typeof arguments[0]=="function"?y.apply(this,[C=>{const E=c(this,C);x[0].apply(null,[E])},C=>{x[1]&&x[1].apply(null,C)},arguments[2]]):y.apply(this,arguments).then(C=>c(this,C))}};t.RTCPeerConnection.prototype[h]=g[h]});const f=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?f.apply(this,arguments):(arguments[0]=u(this,arguments[0]),f.apply(this,arguments))};const d=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const h=d.get.apply(this);return h.type===""?h:c(this,h)}}),t.RTCPeerConnection.prototype.removeTrack=function(y){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!y._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(y._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let x;Object.keys(this._streams).forEach(S=>{this._streams[S].getTracks().find(E=>y.track===E)&&(x=this._streams[S])}),x&&(x.getTracks().length===1?this.removeStream(this._reverseStreams[x.id]):x.removeTrack(y.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Em(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const s=t.RTCPeerConnection.prototype[n],a={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=a[n]})}function xC(t,e){da(t,"negotiationneeded",n=>{const s=n.target;if(!((e.version<72||s.getConfiguration&&s.getConfiguration().sdpSemantics==="plan-b")&&s.signalingState!=="stable"))return n})}const a1=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:xC,shimAddTrackRemoveTrack:vC,shimAddTrackRemoveTrackWithNative:gC,shimGetSendersWithDtmf:mC,shimGetUserMedia:dC,shimMediaStream:hC,shimOnTrack:pC,shimPeerConnection:Em,shimSenderReceiverGetStats:yC},Symbol.toStringTag,{value:"Module"}));function bC(t,e){const n=t&&t.navigator,s=t&&t.MediaStreamTrack;if(n.getUserMedia=function(a,c,u){jy("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(a).then(c,u)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const a=function(u,f,d){f in u&&!(d in u)&&(u[d]=u[f],delete u[f])},c=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(u){return typeof u=="object"&&typeof u.audio=="object"&&(u=JSON.parse(JSON.stringify(u)),a(u.audio,"autoGainControl","mozAutoGainControl"),a(u.audio,"noiseSuppression","mozNoiseSuppression")),c(u)},s&&s.prototype.getSettings){const u=s.prototype.getSettings;s.prototype.getSettings=function(){const f=u.apply(this,arguments);return a(f,"mozAutoGainControl","autoGainControl"),a(f,"mozNoiseSuppression","noiseSuppression"),f}}if(s&&s.prototype.applyConstraints){const u=s.prototype.applyConstraints;s.prototype.applyConstraints=function(f){return this.kind==="audio"&&typeof f=="object"&&(f=JSON.parse(JSON.stringify(f)),a(f,"autoGainControl","mozAutoGainControl"),a(f,"noiseSuppression","mozNoiseSuppression")),u.apply(this,[f])}}}}function rD(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(s){if(!(s&&s.video)){const a=new DOMException("getDisplayMedia without video constraints is undefined");return a.name="NotFoundError",a.code=8,Promise.reject(a)}return s.video===!0?s.video={mediaSource:e}:s.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(s)})}function SC(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Tm(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(a){const c=t.RTCPeerConnection.prototype[a],u={[a](){return arguments[0]=new(a==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),c.apply(this,arguments)}};t.RTCPeerConnection.prototype[a]=u[a]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},s=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[c,u,f]=arguments;return s.apply(this,[c||null]).then(d=>{if(e.version<53&&!u)try{d.forEach(h=>{h.type=n[h.type]||h.type})}catch(h){if(h.name!=="TypeError")throw h;d.forEach((y,g)=>{d.set(g,Object.assign({},y,{type:n[y.type]||y.type}))})}return d}).then(u,f)}}function _C(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const a=e.apply(this,[]);return a.forEach(c=>c._pc=this),a});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const a=n.apply(this,arguments);return a._pc=this,a}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function wC(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const s=e.apply(this,[]);return s.forEach(a=>a._pc=this),s}),da(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function CC(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){jy("removeStream","removeTrack"),this.getSenders().forEach(s=>{s.track&&n.getTracks().includes(s.track)&&this.removeTrack(s)})})}function EC(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function TC(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let s=arguments[1]&&arguments[1].sendEncodings;s===void 0&&(s=[]),s=[...s];const a=s.length>0;a&&s.forEach(u=>{if("rid"in u&&!/^[a-z0-9]{0,16}$/i.test(u.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in u&&!(parseFloat(u.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in u&&!(parseFloat(u.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const c=e.apply(this,arguments);if(a){const{sender:u}=c,f=u.getParameters();(!("encodings"in f)||f.encodings.length===1&&Object.keys(f.encodings[0]).length===0)&&(f.encodings=s,u.sendEncodings=s,this.setParametersPromises.push(u.setParameters(f).then(()=>{delete u.sendEncodings}).catch(()=>{delete u.sendEncodings})))}return c})}function RC(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const s=e.apply(this,arguments);return"encodings"in s||(s.encodings=[].concat(this.sendEncodings||[{}])),s})}function AC(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function OC(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const o1=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:TC,shimCreateAnswer:OC,shimCreateOffer:AC,shimGetDisplayMedia:rD,shimGetParameters:RC,shimGetUserMedia:bC,shimOnTrack:SC,shimPeerConnection:Tm,shimRTCDataChannel:EC,shimReceiverGetStats:wC,shimRemoveStream:CC,shimSenderGetStats:_C},Symbol.toStringTag,{value:"Module"}));function MC(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(s){this._localStreams||(this._localStreams=[]),this._localStreams.includes(s)||this._localStreams.push(s),s.getAudioTracks().forEach(a=>e.call(this,a,s)),s.getVideoTracks().forEach(a=>e.call(this,a,s))},t.RTCPeerConnection.prototype.addTrack=function(s,...a){return a&&a.forEach(c=>{this._localStreams?this._localStreams.includes(c)||this._localStreams.push(c):this._localStreams=[c]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const s=this._localStreams.indexOf(n);if(s===-1)return;this._localStreams.splice(s,1);const a=n.getTracks();this.getSenders().forEach(c=>{a.includes(c.track)&&this.removeTrack(c)})})}}function PC(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=s=>{s.streams.forEach(a=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(a))return;this._remoteStreams.push(a);const c=new Event("addstream");c.stream=a,this.dispatchEvent(c)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const s=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(a){a.streams.forEach(c=>{if(s._remoteStreams||(s._remoteStreams=[]),s._remoteStreams.indexOf(c)>=0)return;s._remoteStreams.push(c);const u=new Event("addstream");u.stream=c,s.dispatchEvent(u)})}),e.apply(s,arguments)}}}function NC(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,s=e.createAnswer,a=e.setLocalDescription,c=e.setRemoteDescription,u=e.addIceCandidate;e.createOffer=function(h,y){const g=arguments.length>=2?arguments[2]:arguments[0],x=n.apply(this,[g]);return y?(x.then(h,y),Promise.resolve()):x},e.createAnswer=function(h,y){const g=arguments.length>=2?arguments[2]:arguments[0],x=s.apply(this,[g]);return y?(x.then(h,y),Promise.resolve()):x};let f=function(d,h,y){const g=a.apply(this,[d]);return y?(g.then(h,y),Promise.resolve()):g};e.setLocalDescription=f,f=function(d,h,y){const g=c.apply(this,[d]);return y?(g.then(h,y),Promise.resolve()):g},e.setRemoteDescription=f,f=function(d,h,y){const g=u.apply(this,[d]);return y?(g.then(h,y),Promise.resolve()):g},e.addIceCandidate=f}function DC(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,s=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=a=>s(kC(a))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(s,a,c){e.mediaDevices.getUserMedia(s).then(a,c)}).bind(e))}function kC(t){return t&&t.video!==void 0?Object.assign({},t,{video:fC(t.video)}):t}function jC(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(s,a){if(s&&s.iceServers){const c=[];for(let u=0;u<s.iceServers.length;u++){let f=s.iceServers[u];f.urls===void 0&&f.url?(jy("RTCIceServer.url","RTCIceServer.urls"),f=JSON.parse(JSON.stringify(f)),f.urls=f.url,delete f.url,c.push(f)):c.push(s.iceServers[u])}s.iceServers=c}return new e(s,a)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function LC(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function UC(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(s){if(s){typeof s.offerToReceiveAudio<"u"&&(s.offerToReceiveAudio=!!s.offerToReceiveAudio);const a=this.getTransceivers().find(u=>u.receiver.track.kind==="audio");s.offerToReceiveAudio===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):s.offerToReceiveAudio===!0&&!a&&this.addTransceiver("audio",{direction:"recvonly"}),typeof s.offerToReceiveVideo<"u"&&(s.offerToReceiveVideo=!!s.offerToReceiveVideo);const c=this.getTransceivers().find(u=>u.receiver.track.kind==="video");s.offerToReceiveVideo===!1&&c?c.direction==="sendrecv"?c.setDirection?c.setDirection("sendonly"):c.direction="sendonly":c.direction==="recvonly"&&(c.setDirection?c.setDirection("inactive"):c.direction="inactive"):s.offerToReceiveVideo===!0&&!c&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function zC(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const c1=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:zC,shimCallbacksAPI:NC,shimConstraints:kC,shimCreateOfferLegacy:UC,shimGetUserMedia:DC,shimLocalStreamsAPI:MC,shimRTCIceServerUrls:jC,shimRemoteStreamsAPI:PC,shimTrackEventTransceiver:LC},Symbol.toStringTag,{value:"Module"}));var Ep={exports:{}},l1;function sD(){return l1||(l1=1,(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(s=>s.trim())},e.splitSections=function(n){return n.split(`
m=`).map((a,c)=>(c>0?"m="+a:a).trim()+`\r
`)},e.getDescription=function(n){const s=e.splitSections(n);return s&&s[0]},e.getMediaSections=function(n){const s=e.splitSections(n);return s.shift(),s},e.matchPrefix=function(n,s){return e.splitLines(n).filter(a=>a.indexOf(s)===0)},e.parseCandidate=function(n){let s;n.indexOf("a=candidate:")===0?s=n.substring(12).split(" "):s=n.substring(10).split(" ");const a={foundation:s[0],component:{1:"rtp",2:"rtcp"}[s[1]]||s[1],protocol:s[2].toLowerCase(),priority:parseInt(s[3],10),ip:s[4],address:s[4],port:parseInt(s[5],10),type:s[7]};for(let c=8;c<s.length;c+=2)switch(s[c]){case"raddr":a.relatedAddress=s[c+1];break;case"rport":a.relatedPort=parseInt(s[c+1],10);break;case"tcptype":a.tcpType=s[c+1];break;case"ufrag":a.ufrag=s[c+1],a.usernameFragment=s[c+1];break;default:a[s[c]]===void 0&&(a[s[c]]=s[c+1]);break}return a},e.writeCandidate=function(n){const s=[];s.push(n.foundation);const a=n.component;a==="rtp"?s.push(1):a==="rtcp"?s.push(2):s.push(a),s.push(n.protocol.toUpperCase()),s.push(n.priority),s.push(n.address||n.ip),s.push(n.port);const c=n.type;return s.push("typ"),s.push(c),c!=="host"&&n.relatedAddress&&n.relatedPort&&(s.push("raddr"),s.push(n.relatedAddress),s.push("rport"),s.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(s.push("tcptype"),s.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(s.push("ufrag"),s.push(n.usernameFragment||n.ufrag)),"candidate:"+s.join(" ")},e.parseIceOptions=function(n){return n.substring(14).split(" ")},e.parseRtpMap=function(n){let s=n.substring(9).split(" ");const a={payloadType:parseInt(s.shift(),10)};return s=s[0].split("/"),a.name=s[0],a.clockRate=parseInt(s[1],10),a.channels=s.length===3?parseInt(s[2],10):1,a.numChannels=a.channels,a},e.writeRtpMap=function(n){let s=n.payloadType;n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType);const a=n.channels||n.numChannels||1;return"a=rtpmap:"+s+" "+n.name+"/"+n.clockRate+(a!==1?"/"+a:"")+`\r
`},e.parseExtmap=function(n){const s=n.substring(9).split(" ");return{id:parseInt(s[0],10),direction:s[0].indexOf("/")>0?s[0].split("/")[1]:"sendrecv",uri:s[1],attributes:s.slice(2).join(" ")}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},e.parseFmtp=function(n){const s={};let a;const c=n.substring(n.indexOf(" ")+1).split(";");for(let u=0;u<c.length;u++)a=c[u].trim().split("="),s[a[0].trim()]=a[1];return s},e.writeFmtp=function(n){let s="",a=n.payloadType;if(n.preferredPayloadType!==void 0&&(a=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const c=[];Object.keys(n.parameters).forEach(u=>{n.parameters[u]!==void 0?c.push(u+"="+n.parameters[u]):c.push(u)}),s+="a=fmtp:"+a+" "+c.join(";")+`\r
`}return s},e.parseRtcpFb=function(n){const s=n.substring(n.indexOf(" ")+1).split(" ");return{type:s.shift(),parameter:s.join(" ")}},e.writeRtcpFb=function(n){let s="",a=n.payloadType;return n.preferredPayloadType!==void 0&&(a=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(c=>{s+="a=rtcp-fb:"+a+" "+c.type+(c.parameter&&c.parameter.length?" "+c.parameter:"")+`\r
`}),s},e.parseSsrcMedia=function(n){const s=n.indexOf(" "),a={ssrc:parseInt(n.substring(7,s),10)},c=n.indexOf(":",s);return c>-1?(a.attribute=n.substring(s+1,c),a.value=n.substring(c+1)):a.attribute=n.substring(s+1),a},e.parseSsrcGroup=function(n){const s=n.substring(13).split(" ");return{semantics:s.shift(),ssrcs:s.map(a=>parseInt(a,10))}},e.getMid=function(n){const s=e.matchPrefix(n,"a=mid:")[0];if(s)return s.substring(6)},e.parseFingerprint=function(n){const s=n.substring(14).split(" ");return{algorithm:s[0].toLowerCase(),value:s[1].toUpperCase()}},e.getDtlsParameters=function(n,s){return{role:"auto",fingerprints:e.matchPrefix(n+s,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,s){let a="a=setup:"+s+`\r
`;return n.fingerprints.forEach(c=>{a+="a=fingerprint:"+c.algorithm+" "+c.value+`\r
`}),a},e.parseCryptoLine=function(n){const s=n.substring(9).split(" ");return{tag:parseInt(s[0],10),cryptoSuite:s[1],keyParams:s[2],sessionParams:s.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const s=n.substring(7).split("|");return{keyMethod:"inline",keySalt:s[0],lifeTime:s[1],mkiValue:s[2]?s[2].split(":")[0]:void 0,mkiLength:s[2]?s[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,s){return e.matchPrefix(n+s,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,s){const a=e.matchPrefix(n+s,"a=ice-ufrag:")[0],c=e.matchPrefix(n+s,"a=ice-pwd:")[0];return a&&c?{usernameFragment:a.substring(12),password:c.substring(10)}:null},e.writeIceParameters=function(n){let s="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(s+=`a=ice-lite\r
`),s},e.parseRtpParameters=function(n){const s={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},c=e.splitLines(n)[0].split(" ");s.profile=c[2];for(let f=3;f<c.length;f++){const d=c[f],h=e.matchPrefix(n,"a=rtpmap:"+d+" ")[0];if(h){const y=e.parseRtpMap(h),g=e.matchPrefix(n,"a=fmtp:"+d+" ");switch(y.parameters=g.length?e.parseFmtp(g[0]):{},y.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+d+" ").map(e.parseRtcpFb),s.codecs.push(y),y.name.toUpperCase()){case"RED":case"ULPFEC":s.fecMechanisms.push(y.name.toUpperCase());break}}}e.matchPrefix(n,"a=extmap:").forEach(f=>{s.headerExtensions.push(e.parseExtmap(f))});const u=e.matchPrefix(n,"a=rtcp-fb:* ").map(e.parseRtcpFb);return s.codecs.forEach(f=>{u.forEach(d=>{f.rtcpFeedback.find(y=>y.type===d.type&&y.parameter===d.parameter)||f.rtcpFeedback.push(d)})}),s},e.writeRtpDescription=function(n,s){let a="";a+="m="+n+" ",a+=s.codecs.length>0?"9":"0",a+=" "+(s.profile||"UDP/TLS/RTP/SAVPF")+" ",a+=s.codecs.map(u=>u.preferredPayloadType!==void 0?u.preferredPayloadType:u.payloadType).join(" ")+`\r
`,a+=`c=IN IP4 0.0.0.0\r
`,a+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,s.codecs.forEach(u=>{a+=e.writeRtpMap(u),a+=e.writeFmtp(u),a+=e.writeRtcpFb(u)});let c=0;return s.codecs.forEach(u=>{u.maxptime>c&&(c=u.maxptime)}),c>0&&(a+="a=maxptime:"+c+`\r
`),s.headerExtensions&&s.headerExtensions.forEach(u=>{a+=e.writeExtmap(u)}),a},e.parseRtpEncodingParameters=function(n){const s=[],a=e.parseRtpParameters(n),c=a.fecMechanisms.indexOf("RED")!==-1,u=a.fecMechanisms.indexOf("ULPFEC")!==-1,f=e.matchPrefix(n,"a=ssrc:").map(x=>e.parseSsrcMedia(x)).filter(x=>x.attribute==="cname"),d=f.length>0&&f[0].ssrc;let h;const y=e.matchPrefix(n,"a=ssrc-group:FID").map(x=>x.substring(17).split(" ").map(C=>parseInt(C,10)));y.length>0&&y[0].length>1&&y[0][0]===d&&(h=y[0][1]),a.codecs.forEach(x=>{if(x.name.toUpperCase()==="RTX"&&x.parameters.apt){let S={ssrc:d,codecPayloadType:parseInt(x.parameters.apt,10)};d&&h&&(S.rtx={ssrc:h}),s.push(S),c&&(S=JSON.parse(JSON.stringify(S)),S.fec={ssrc:d,mechanism:u?"red+ulpfec":"red"},s.push(S))}}),s.length===0&&d&&s.push({ssrc:d});let g=e.matchPrefix(n,"b=");return g.length&&(g[0].indexOf("b=TIAS:")===0?g=parseInt(g[0].substring(7),10):g[0].indexOf("b=AS:")===0?g=parseInt(g[0].substring(5),10)*1e3*.95-2e3*8:g=void 0,s.forEach(x=>{x.maxBitrate=g})),s},e.parseRtcpParameters=function(n){const s={},a=e.matchPrefix(n,"a=ssrc:").map(f=>e.parseSsrcMedia(f)).filter(f=>f.attribute==="cname")[0];a&&(s.cname=a.value,s.ssrc=a.ssrc);const c=e.matchPrefix(n,"a=rtcp-rsize");s.reducedSize=c.length>0,s.compound=c.length===0;const u=e.matchPrefix(n,"a=rtcp-mux");return s.mux=u.length>0,s},e.writeRtcpParameters=function(n){let s="";return n.reducedSize&&(s+=`a=rtcp-rsize\r
`),n.mux&&(s+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(s+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),s},e.parseMsid=function(n){let s;const a=e.matchPrefix(n,"a=msid:");if(a.length===1)return s=a[0].substring(7).split(" "),{stream:s[0],track:s[1]};const c=e.matchPrefix(n,"a=ssrc:").map(u=>e.parseSsrcMedia(u)).filter(u=>u.attribute==="msid");if(c.length>0)return s=c[0].value.split(" "),{stream:s[0],track:s[1]}},e.parseSctpDescription=function(n){const s=e.parseMLine(n),a=e.matchPrefix(n,"a=max-message-size:");let c;a.length>0&&(c=parseInt(a[0].substring(19),10)),isNaN(c)&&(c=65536);const u=e.matchPrefix(n,"a=sctp-port:");if(u.length>0)return{port:parseInt(u[0].substring(12),10),protocol:s.fmt,maxMessageSize:c};const f=e.matchPrefix(n,"a=sctpmap:");if(f.length>0){const d=f[0].substring(10).split(" ");return{port:parseInt(d[0],10),protocol:d[1],maxMessageSize:c}}},e.writeSctpDescription=function(n,s){let a=[];return n.protocol!=="DTLS/SCTP"?a=["m="+n.kind+" 9 "+n.protocol+" "+s.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+s.port+`\r
`]:a=["m="+n.kind+" 9 "+n.protocol+" "+s.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+s.port+" "+s.protocol+` 65535\r
`],s.maxMessageSize!==void 0&&a.push("a=max-message-size:"+s.maxMessageSize+`\r
`),a.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,s,a){let c;const u=s!==void 0?s:2;return n?c=n:c=e.generateSessionId(),`v=0\r
o=`+(a||"thisisadapterortc")+" "+c+" "+u+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,s){const a=e.splitLines(n);for(let c=0;c<a.length;c++)switch(a[c]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return a[c].substring(2)}return s?e.getDirection(s):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substring(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const a=e.splitLines(n)[0].substring(2).split(" ");return{kind:a[0],port:parseInt(a[1],10),protocol:a[2],fmt:a.slice(3).join(" ")}},e.parseOLine=function(n){const a=e.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:a[0],sessionId:a[1],sessionVersion:parseInt(a[2],10),netType:a[3],addressType:a[4],address:a[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const s=e.splitLines(n);for(let a=0;a<s.length;a++)if(s[a].length<2||s[a].charAt(1)!=="=")return!1;return!0},t.exports=e})(Ep)),Ep.exports}var IC=sD();const eo=Vc(IC),iD=oS({__proto__:null,default:eo},[IC]);function ku(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(s){if(typeof s=="object"&&s.candidate&&s.candidate.indexOf("a=")===0&&(s=JSON.parse(JSON.stringify(s)),s.candidate=s.candidate.substring(2)),s.candidate&&s.candidate.length){const a=new e(s),c=eo.parseCandidate(s.candidate);for(const u in c)u in a||Object.defineProperty(a,u,{value:c[u]});return a.toJSON=function(){return{candidate:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex,usernameFragment:a.usernameFragment}},a}return new e(s)},t.RTCIceCandidate.prototype=e.prototype,da(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Rm(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||da(t,"icecandidate",e=>{if(e.candidate){const n=eo.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function ju(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(f){if(!f||!f.sdp)return!1;const d=eo.splitSections(f.sdp);return d.shift(),d.some(h=>{const y=eo.parseMLine(h);return y&&y.kind==="application"&&y.protocol.indexOf("SCTP")!==-1})},s=function(f){const d=f.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(d===null||d.length<2)return-1;const h=parseInt(d[1],10);return h!==h?-1:h},a=function(f){let d=65536;return e.browser==="firefox"&&(e.version<57?f===-1?d=16384:d=2147483637:e.version<60?d=e.version===57?65535:65536:d=2147483637),d},c=function(f,d){let h=65536;e.browser==="firefox"&&e.version===57&&(h=65535);const y=eo.matchPrefix(f.sdp,"a=max-message-size:");return y.length>0?h=parseInt(y[0].substring(19),10):e.browser==="firefox"&&d!==-1&&(h=2147483637),h},u=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:d}=this.getConfiguration();d==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const d=s(arguments[0]),h=a(d),y=c(arguments[0],d);let g;h===0&&y===0?g=Number.POSITIVE_INFINITY:h===0||y===0?g=Math.max(h,y):g=Math.min(h,y);const x={};Object.defineProperty(x,"maxMessageSize",{get(){return g}}),this._sctp=x}return u.apply(this,arguments)}}function Lu(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(s,a){const c=s.send;s.send=function(){const f=arguments[0],d=f.length||f.size||f.byteLength;if(s.readyState==="open"&&a.sctp&&d>a.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+a.sctp.maxMessageSize+" bytes)");return c.apply(s,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const a=n.apply(this,arguments);return e(a,this),a},da(t,"datachannel",s=>(e(s.channel,s.target),s))}function Am(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const s=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=a=>{const c=a.target;if(c._lastConnectionState!==c.connectionState){c._lastConnectionState=c.connectionState;const u=new Event("connectionstatechange",a);c.dispatchEvent(u)}return a},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),s.apply(this,arguments)}})}function Om(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(a){if(a&&a.sdp&&a.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const c=a.sdp.split(`
`).filter(u=>u.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&a instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:a.type,sdp:c}):a.sdp=c}return n.apply(this,arguments)}}function Uu(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function zu(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let a=arguments[0]||{};if(typeof a!="object"||a.type&&a.sdp)return n.apply(this,arguments);if(a={type:a.type,sdp:a.sdp},!a.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":a.type="offer";break;default:a.type="answer";break}return a.sdp||a.type!=="offer"&&a.type!=="answer"?n.apply(this,[a]):(a.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(u=>n.apply(this,[u]))})}const aD=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Om,shimAddIceCandidateNullOrEmpty:Uu,shimConnectionState:Am,shimMaxMessageSize:ju,shimParameterlessSetLocalDescription:zu,shimRTCIceCandidate:ku,shimRTCIceCandidateRelayProtocol:Rm,shimSendThrowTypeError:Lu},Symbol.toStringTag,{value:"Module"}));function oD({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=uC,s=nD(t),a={browserDetails:s,commonShim:aD,extractVersion:Sc,disableLog:eD,disableWarnings:tD,sdp:iD};switch(s.browser){case"chrome":if(!a1||!Em||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),a;if(s.version===null)return n("Chrome shim can not determine version, not shimming."),a;n("adapter.js shimming chrome."),a.browserShim=a1,Uu(t,s),zu(t),dC(t,s),hC(t),Em(t,s),pC(t),vC(t,s),mC(t),yC(t),xC(t,s),ku(t),Rm(t),Am(t),ju(t,s),Lu(t),Om(t,s);break;case"firefox":if(!o1||!Tm||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),a;n("adapter.js shimming firefox."),a.browserShim=o1,Uu(t,s),zu(t),bC(t,s),Tm(t,s),SC(t),CC(t),_C(t),wC(t),EC(t),TC(t),RC(t),AC(t),OC(t),ku(t),Am(t),ju(t,s),Lu(t);break;case"safari":if(!c1||!e.shimSafari)return n("Safari shim is not included in this adapter release."),a;n("adapter.js shimming safari."),a.browserShim=c1,Uu(t,s),zu(t),jC(t),UC(t),NC(t),MC(t),PC(t),LC(t),DC(t),zC(t),ku(t),Rm(t),ju(t,s),Lu(t),Om(t,s);break;default:n("Unsupported browser!");break}return a}const u1=oD({window:typeof window>"u"?void 0:window});var ea=4294967295;function cD(t,e,n){var s=n/4294967296,a=n;t.setUint32(e,s),t.setUint32(e+4,a)}function BC(t,e,n){var s=Math.floor(n/4294967296),a=n;t.setUint32(e,s),t.setUint32(e+4,a)}function HC(t,e){var n=t.getInt32(e),s=t.getUint32(e+4);return n*4294967296+s}function lD(t,e){var n=t.getUint32(e),s=t.getUint32(e+4);return n*4294967296+s}var Ly={},Tp,Rp,Ap,Hf=(typeof process>"u"||((Tp=process==null?void 0:Ly)===null||Tp===void 0?void 0:Tp.TEXT_ENCODING)!=="never")&&typeof TextEncoder<"u"&&typeof TextDecoder<"u";function f1(t){for(var e=t.length,n=0,s=0;s<e;){var a=t.charCodeAt(s++);if((a&4294967168)===0){n++;continue}else if((a&4294965248)===0)n+=2;else{if(a>=55296&&a<=56319&&s<e){var c=t.charCodeAt(s);(c&64512)===56320&&(++s,a=((a&1023)<<10)+(c&1023)+65536)}(a&4294901760)===0?n+=3:n+=4}}return n}function uD(t,e,n){for(var s=t.length,a=n,c=0;c<s;){var u=t.charCodeAt(c++);if((u&4294967168)===0){e[a++]=u;continue}else if((u&4294965248)===0)e[a++]=u>>6&31|192;else{if(u>=55296&&u<=56319&&c<s){var f=t.charCodeAt(c);(f&64512)===56320&&(++c,u=((u&1023)<<10)+(f&1023)+65536)}(u&4294901760)===0?(e[a++]=u>>12&15|224,e[a++]=u>>6&63|128):(e[a++]=u>>18&7|240,e[a++]=u>>12&63|128,e[a++]=u>>6&63|128)}e[a++]=u&63|128}}var Oc=Hf?new TextEncoder:void 0,fD=Hf?typeof process<"u"&&((Rp=process==null?void 0:Ly)===null||Rp===void 0?void 0:Rp.TEXT_ENCODING)!=="force"?200:0:ea;function dD(t,e,n){e.set(Oc.encode(t),n)}function hD(t,e,n){Oc.encodeInto(t,e.subarray(n))}var pD=Oc?.encodeInto?hD:dD,mD=4096;function $C(t,e,n){for(var s=e,a=s+n,c=[],u="";s<a;){var f=t[s++];if((f&128)===0)c.push(f);else if((f&224)===192){var d=t[s++]&63;c.push((f&31)<<6|d)}else if((f&240)===224){var d=t[s++]&63,h=t[s++]&63;c.push((f&31)<<12|d<<6|h)}else if((f&248)===240){var d=t[s++]&63,h=t[s++]&63,y=t[s++]&63,g=(f&7)<<18|d<<12|h<<6|y;g>65535&&(g-=65536,c.push(g>>>10&1023|55296),g=56320|g&1023),c.push(g)}else c.push(f);c.length>=mD&&(u+=String.fromCharCode.apply(String,c),c.length=0)}return c.length>0&&(u+=String.fromCharCode.apply(String,c)),u}var yD=Hf?new TextDecoder:null,gD=Hf?typeof process<"u"&&((Ap=process==null?void 0:Ly)===null||Ap===void 0?void 0:Ap.TEXT_DECODER)!=="force"?200:0:ea;function vD(t,e,n){var s=t.subarray(e,e+n);return yD.decode(s)}var bu=(function(){function t(e,n){this.type=e,this.data=n}return t})(),xD=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=a[c])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function s(){this.constructor=e}e.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}})(),ss=(function(t){xD(e,t);function e(n){var s=t.call(this,n)||this,a=Object.create(e.prototype);return Object.setPrototypeOf(s,a),Object.defineProperty(s,"name",{configurable:!0,enumerable:!1,value:e.name}),s}return e})(Error),bD=-1,SD=4294967296-1,_D=17179869184-1;function wD(t){var e=t.sec,n=t.nsec;if(e>=0&&n>=0&&e<=_D)if(n===0&&e<=SD){var s=new Uint8Array(4),a=new DataView(s.buffer);return a.setUint32(0,e),s}else{var c=e/4294967296,u=e&4294967295,s=new Uint8Array(8),a=new DataView(s.buffer);return a.setUint32(0,n<<2|c&3),a.setUint32(4,u),s}else{var s=new Uint8Array(12),a=new DataView(s.buffer);return a.setUint32(0,n),BC(a,4,e),s}}function CD(t){var e=t.getTime(),n=Math.floor(e/1e3),s=(e-n*1e3)*1e6,a=Math.floor(s/1e9);return{sec:n+a,nsec:s-a*1e9}}function ED(t){if(t instanceof Date){var e=CD(t);return wD(e)}else return null}function TD(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:{var n=e.getUint32(0),s=0;return{sec:n,nsec:s}}case 8:{var a=e.getUint32(0),c=e.getUint32(4),n=(a&3)*4294967296+c,s=a>>>2;return{sec:n,nsec:s}}case 12:{var n=HC(e,4),s=e.getUint32(0);return{sec:n,nsec:s}}default:throw new ss("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(t.length))}}function RD(t){var e=TD(t);return new Date(e.sec*1e3+e.nsec/1e6)}var AD={type:bD,encode:ED,decode:RD},VC=(function(){function t(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(AD)}return t.prototype.register=function(e){var n=e.type,s=e.encode,a=e.decode;if(n>=0)this.encoders[n]=s,this.decoders[n]=a;else{var c=1+n;this.builtInEncoders[c]=s,this.builtInDecoders[c]=a}},t.prototype.tryToEncode=function(e,n){for(var s=0;s<this.builtInEncoders.length;s++){var a=this.builtInEncoders[s];if(a!=null){var c=a(e,n);if(c!=null){var u=-1-s;return new bu(u,c)}}}for(var s=0;s<this.encoders.length;s++){var a=this.encoders[s];if(a!=null){var c=a(e,n);if(c!=null){var u=s;return new bu(u,c)}}}return e instanceof bu?e:null},t.prototype.decode=function(e,n,s){var a=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return a?a(e,n,s):new bu(n,e)},t.defaultCodec=new t,t})();function uf(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer?new Uint8Array(t):Uint8Array.from(t)}function OD(t){if(t instanceof ArrayBuffer)return new DataView(t);var e=uf(t);return new DataView(e.buffer,e.byteOffset,e.byteLength)}var MD=100,PD=2048,ND=(function(){function t(e,n,s,a,c,u,f,d){e===void 0&&(e=VC.defaultCodec),n===void 0&&(n=void 0),s===void 0&&(s=MD),a===void 0&&(a=PD),c===void 0&&(c=!1),u===void 0&&(u=!1),f===void 0&&(f=!1),d===void 0&&(d=!1),this.extensionCodec=e,this.context=n,this.maxDepth=s,this.initialBufferSize=a,this.sortKeys=c,this.forceFloat32=u,this.ignoreUndefined=f,this.forceIntegerToFloat=d,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return t.prototype.reinitializeState=function(){this.pos=0},t.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},t.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},t.prototype.doEncode=function(e,n){if(n>this.maxDepth)throw new Error("Too deep objects in depth ".concat(n));e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.encodeObject(e,n)},t.prototype.ensureBufferSizeToWrite=function(e){var n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)},t.prototype.resizeBuffer=function(e){var n=new ArrayBuffer(e),s=new Uint8Array(n),a=new DataView(n);s.set(this.bytes),this.view=a,this.bytes=s},t.prototype.encodeNil=function(){this.writeU8(192)},t.prototype.encodeBoolean=function(e){e===!1?this.writeU8(194):this.writeU8(195)},t.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},t.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error("Too long string: ".concat(e," bytes in UTF-8"))},t.prototype.encodeString=function(e){var n=5,s=e.length;if(s>fD){var a=f1(e);this.ensureBufferSizeToWrite(n+a),this.writeStringHeader(a),pD(e,this.bytes,this.pos),this.pos+=a}else{var a=f1(e);this.ensureBufferSizeToWrite(n+a),this.writeStringHeader(a),uD(e,this.bytes,this.pos),this.pos+=a}},t.prototype.encodeObject=function(e,n){var s=this.extensionCodec.tryToEncode(e,this.context);if(s!=null)this.encodeExtension(s);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)))},t.prototype.encodeBinary=function(e){var n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error("Too large binary: ".concat(n));var s=uf(e);this.writeU8a(s)},t.prototype.encodeArray=function(e,n){var s=e.length;if(s<16)this.writeU8(144+s);else if(s<65536)this.writeU8(220),this.writeU16(s);else if(s<4294967296)this.writeU8(221),this.writeU32(s);else throw new Error("Too large array: ".concat(s));for(var a=0,c=e;a<c.length;a++){var u=c[a];this.doEncode(u,n+1)}},t.prototype.countWithoutUndefined=function(e,n){for(var s=0,a=0,c=n;a<c.length;a++){var u=c[a];e[u]!==void 0&&s++}return s},t.prototype.encodeMap=function(e,n){var s=Object.keys(e);this.sortKeys&&s.sort();var a=this.ignoreUndefined?this.countWithoutUndefined(e,s):s.length;if(a<16)this.writeU8(128+a);else if(a<65536)this.writeU8(222),this.writeU16(a);else if(a<4294967296)this.writeU8(223),this.writeU32(a);else throw new Error("Too large map object: ".concat(a));for(var c=0,u=s;c<u.length;c++){var f=u[c],d=e[f];this.ignoreUndefined&&d===void 0||(this.encodeString(f),this.doEncode(d,n+1))}},t.prototype.encodeExtension=function(e){var n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error("Too large extension object: ".concat(n));this.writeI8(e.type),this.writeU8a(e.data)},t.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},t.prototype.writeU8a=function(e){var n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n},t.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},t.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},t.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},t.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},t.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},t.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},t.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},t.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),cD(this.view,this.pos,e),this.pos+=8},t.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),BC(this.view,this.pos,e),this.pos+=8},t})();function Op(t){return"".concat(t<0?"-":"","0x").concat(Math.abs(t).toString(16).padStart(2,"0"))}var DD=16,kD=16,jD=(function(){function t(e,n){e===void 0&&(e=DD),n===void 0&&(n=kD),this.maxKeyLength=e,this.maxLengthPerKey=n,this.hit=0,this.miss=0,this.caches=[];for(var s=0;s<this.maxKeyLength;s++)this.caches.push([])}return t.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},t.prototype.find=function(e,n,s){var a=this.caches[s-1];e:for(var c=0,u=a;c<u.length;c++){for(var f=u[c],d=f.bytes,h=0;h<s;h++)if(d[h]!==e[n+h])continue e;return f.str}return null},t.prototype.store=function(e,n){var s=this.caches[e.length-1],a={bytes:e,str:n};s.length>=this.maxLengthPerKey?s[Math.random()*s.length|0]=a:s.push(a)},t.prototype.decode=function(e,n,s){var a=this.find(e,n,s);if(a!=null)return this.hit++,a;this.miss++;var c=$C(e,n,s),u=Uint8Array.prototype.slice.call(e,n,n+s);return this.store(u,c),c},t})(),LD=function(t,e,n,s){function a(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function f(y){try{h(s.next(y))}catch(g){u(g)}}function d(y){try{h(s.throw(y))}catch(g){u(g)}}function h(y){y.done?c(y.value):a(y.value).then(f,d)}h((s=s.apply(t,e||[])).next())})},Mp=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,a,c,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(h){return function(y){return d([h,y])}}function d(h){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,a&&(c=h[0]&2?a.return:h[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,h[1])).done)return c;switch(a=0,c&&(h=[h[0]&2,c.value]),h[0]){case 0:case 1:c=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,a=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!c||h[1]>c[0]&&h[1]<c[3])){n.label=h[1];break}if(h[0]===6&&n.label<c[1]){n.label=c[1],c=h;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(h);break}c[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(y){h=[6,y],a=0}finally{s=c=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},d1=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(c){n[c]=t[c]&&function(u){return new Promise(function(f,d){u=t[c](u),a(f,d,u.done,u.value)})}}function a(c,u,f,d){Promise.resolve(d).then(function(h){c({value:h,done:f})},u)}},to=function(t){return this instanceof to?(this.v=t,this):new to(t)},UD=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),a,c=[];return a={},u("next"),u("throw"),u("return"),a[Symbol.asyncIterator]=function(){return this},a;function u(x){s[x]&&(a[x]=function(S){return new Promise(function(C,E){c.push([x,S,C,E])>1||f(x,S)})})}function f(x,S){try{d(s[x](S))}catch(C){g(c[0][3],C)}}function d(x){x.value instanceof to?Promise.resolve(x.value.v).then(h,y):g(c[0][2],x)}function h(x){f("next",x)}function y(x){f("throw",x)}function g(x,S){x(S),c.shift(),c.length&&f(c[0][0],c[0][1])}},zD=function(t){var e=typeof t;return e==="string"||e==="number"},hc=-1,Uy=new DataView(new ArrayBuffer(0)),ID=new Uint8Array(Uy.buffer),Mm=(function(){try{Uy.getInt8(0)}catch(t){return t.constructor}throw new Error("never reached")})(),h1=new Mm("Insufficient data"),BD=new jD,HD=(function(){function t(e,n,s,a,c,u,f,d){e===void 0&&(e=VC.defaultCodec),n===void 0&&(n=void 0),s===void 0&&(s=ea),a===void 0&&(a=ea),c===void 0&&(c=ea),u===void 0&&(u=ea),f===void 0&&(f=ea),d===void 0&&(d=BD),this.extensionCodec=e,this.context=n,this.maxStrLength=s,this.maxBinLength=a,this.maxArrayLength=c,this.maxMapLength=u,this.maxExtLength=f,this.keyDecoder=d,this.totalPos=0,this.pos=0,this.view=Uy,this.bytes=ID,this.headByte=hc,this.stack=[]}return t.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=hc,this.stack.length=0},t.prototype.setBuffer=function(e){this.bytes=uf(e),this.view=OD(this.bytes),this.pos=0},t.prototype.appendBuffer=function(e){if(this.headByte===hc&&!this.hasRemaining(1))this.setBuffer(e);else{var n=this.bytes.subarray(this.pos),s=uf(e),a=new Uint8Array(n.length+s.length);a.set(n),a.set(s,n.length),this.setBuffer(a)}},t.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},t.prototype.createExtraByteError=function(e){var n=this,s=n.view,a=n.pos;return new RangeError("Extra ".concat(s.byteLength-a," of ").concat(s.byteLength," byte(s) found at buffer[").concat(e,"]"))},t.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n},t.prototype.decodeMulti=function(e){return Mp(this,function(n){switch(n.label){case 0:this.reinitializeState(),this.setBuffer(e),n.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return n.sent(),[3,1];case 3:return[2]}})},t.prototype.decodeAsync=function(e){var n,s,a,c;return LD(this,void 0,void 0,function(){var u,f,d,h,y,g,x,S;return Mp(this,function(C){switch(C.label){case 0:u=!1,C.label=1;case 1:C.trys.push([1,6,7,12]),n=d1(e),C.label=2;case 2:return[4,n.next()];case 3:if(s=C.sent(),!!s.done)return[3,5];if(d=s.value,u)throw this.createExtraByteError(this.totalPos);this.appendBuffer(d);try{f=this.doDecodeSync(),u=!0}catch(E){if(!(E instanceof Mm))throw E}this.totalPos+=this.pos,C.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return h=C.sent(),a={error:h},[3,12];case 7:return C.trys.push([7,,10,11]),s&&!s.done&&(c=n.return)?[4,c.call(n)]:[3,9];case 8:C.sent(),C.label=9;case 9:return[3,11];case 10:if(a)throw a.error;return[7];case 11:return[7];case 12:if(u){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,f]}throw y=this,g=y.headByte,x=y.pos,S=y.totalPos,new RangeError("Insufficient data in parsing ".concat(Op(g)," at ").concat(S," (").concat(x," in the current buffer)"))}})})},t.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},t.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},t.prototype.decodeMultiAsync=function(e,n){return UD(this,arguments,function(){var a,c,u,f,d,h,y,g,x;return Mp(this,function(S){switch(S.label){case 0:a=n,c=-1,S.label=1;case 1:S.trys.push([1,13,14,19]),u=d1(e),S.label=2;case 2:return[4,to(u.next())];case 3:if(f=S.sent(),!!f.done)return[3,12];if(d=f.value,n&&c===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(d),a&&(c=this.readArraySize(),a=!1,this.complete()),S.label=4;case 4:S.trys.push([4,9,,10]),S.label=5;case 5:return[4,to(this.doDecodeSync())];case 6:return[4,S.sent()];case 7:return S.sent(),--c===0?[3,8]:[3,5];case 8:return[3,10];case 9:if(h=S.sent(),!(h instanceof Mm))throw h;return[3,10];case 10:this.totalPos+=this.pos,S.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return y=S.sent(),g={error:y},[3,19];case 14:return S.trys.push([14,,17,18]),f&&!f.done&&(x=u.return)?[4,to(x.call(u))]:[3,16];case 15:S.sent(),S.label=16;case 16:return[3,18];case 17:if(g)throw g.error;return[7];case 18:return[7];case 19:return[2]}})})},t.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),n=void 0;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){var s=e-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e<160){var s=e-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else{var a=e-160;n=this.decodeUtf8String(a,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)n=this.readI64();else if(e===217){var a=this.lookU8();n=this.decodeUtf8String(a,1)}else if(e===218){var a=this.lookU16();n=this.decodeUtf8String(a,2)}else if(e===219){var a=this.lookU32();n=this.decodeUtf8String(a,4)}else if(e===220){var s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===221){var s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===222){var s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===223){var s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===196){var s=this.lookU8();n=this.decodeBinary(s,1)}else if(e===197){var s=this.lookU16();n=this.decodeBinary(s,2)}else if(e===198){var s=this.lookU32();n=this.decodeBinary(s,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){var s=this.lookU8();n=this.decodeExtension(s,1)}else if(e===200){var s=this.lookU16();n=this.decodeExtension(s,2)}else if(e===201){var s=this.lookU32();n=this.decodeExtension(s,4)}else throw new ss("Unrecognized type byte: ".concat(Op(e)));this.complete();for(var c=this.stack;c.length>0;){var u=c[c.length-1];if(u.type===0)if(u.array[u.position]=n,u.position++,u.position===u.size)c.pop(),n=u.array;else continue e;else if(u.type===1){if(!zD(n))throw new ss("The type of key must be string or number but "+typeof n);if(n==="__proto__")throw new ss("The key __proto__ is not allowed");u.key=n,u.type=2;continue e}else if(u.map[u.key]=n,u.readCount++,u.readCount===u.size)c.pop(),n=u.map;else{u.key=null,u.type=1;continue e}}return n}},t.prototype.readHeadByte=function(){return this.headByte===hc&&(this.headByte=this.readU8()),this.headByte},t.prototype.complete=function(){this.headByte=hc},t.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new ss("Unrecognized array type byte: ".concat(Op(e)))}}},t.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new ss("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},t.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new ss("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:new Array(e),position:0})},t.prototype.decodeUtf8String=function(e,n){var s;if(e>this.maxStrLength)throw new ss("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+n+e)throw h1;var a=this.pos+n,c;return this.stateIsMapKey()&&(!((s=this.keyDecoder)===null||s===void 0)&&s.canBeCached(e))?c=this.keyDecoder.decode(this.bytes,a,e):e>gD?c=vD(this.bytes,a,e):c=$C(this.bytes,a,e),this.pos+=n+e,c},t.prototype.stateIsMapKey=function(){if(this.stack.length>0){var e=this.stack[this.stack.length-1];return e.type===1}return!1},t.prototype.decodeBinary=function(e,n){if(e>this.maxBinLength)throw new ss("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+n))throw h1;var s=this.pos+n,a=this.bytes.subarray(s,s+e);return this.pos+=n+e,a},t.prototype.decodeExtension=function(e,n){if(e>this.maxExtLength)throw new ss("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var s=this.view.getInt8(this.pos+n),a=this.decodeBinary(e,n+1);return this.extensionCodec.decode(a,s,this.context)},t.prototype.lookU8=function(){return this.view.getUint8(this.pos)},t.prototype.lookU16=function(){return this.view.getUint16(this.pos)},t.prototype.lookU32=function(){return this.view.getUint32(this.pos)},t.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},t.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},t.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},t.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},t.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},t.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},t.prototype.readU64=function(){var e=lD(this.view,this.pos);return this.pos+=8,e},t.prototype.readI64=function(){var e=HC(this.view,this.pos);return this.pos+=8,e},t.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},t.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},t})(),$D={},VD=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,a,c,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(h){return function(y){return d([h,y])}}function d(h){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,a&&(c=h[0]&2?a.return:h[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,h[1])).done)return c;switch(a=0,c&&(h=[h[0]&2,c.value]),h[0]){case 0:case 1:c=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,a=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!c||h[1]>c[0]&&h[1]<c[3])){n.label=h[1];break}if(h[0]===6&&n.label<c[1]){n.label=c[1],c=h;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(h);break}c[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(y){h=[6,y],a=0}finally{s=c=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},no=function(t){return this instanceof no?(this.v=t,this):new no(t)},qD=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),a,c=[];return a={},u("next"),u("throw"),u("return"),a[Symbol.asyncIterator]=function(){return this},a;function u(x){s[x]&&(a[x]=function(S){return new Promise(function(C,E){c.push([x,S,C,E])>1||f(x,S)})})}function f(x,S){try{d(s[x](S))}catch(C){g(c[0][3],C)}}function d(x){x.value instanceof no?Promise.resolve(x.value.v).then(h,y):g(c[0][2],x)}function h(x){f("next",x)}function y(x){f("throw",x)}function g(x,S){x(S),c.shift(),c.length&&f(c[0][0],c[0][1])}};function FD(t){return t[Symbol.asyncIterator]!=null}function YD(t){if(t==null)throw new Error("Assertion Failure: value must not be null nor undefined")}function GD(t){return qD(this,arguments,function(){var n,s,a,c;return VD(this,function(u){switch(u.label){case 0:n=t.getReader(),u.label=1;case 1:u.trys.push([1,,9,10]),u.label=2;case 2:return[4,no(n.read())];case 3:return s=u.sent(),a=s.done,c=s.value,a?[4,no(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return YD(c),[4,no(c)];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function KD(t){return FD(t)?t:GD(t)}function XD(t,e){e===void 0&&(e=$D);var n=KD(t),s=new HD(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength);return s.decodeStream(n)}function ha(t,e,n,s){Object.defineProperty(t,e,{get:n,set:s,enumerable:!0,configurable:!0})}class qC{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const n=[],s=e.byteLength,a=Math.ceil(s/this.chunkedMTU);let c=0,u=0;for(;u<s;){const f=Math.min(s,u+this.chunkedMTU),d=e.slice(u,f),h={__peerData:this._dataCount,n:c,data:d,total:a};n.push(h),u=f,c++}return this._dataCount++,n}}}function QD(t){let e=0;for(const a of t)e+=a.byteLength;const n=new Uint8Array(e);let s=0;for(const a of t)n.set(a,s),s+=a.byteLength;return n}const Pp=u1.default||u1,pc=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const t=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(t)?t==="chrome"?e>=this.minChromeVersion:t==="firefox"?e>=this.minFirefoxVersion:t==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return Pp.browserDetails.browser}getVersion(){return Pp.browserDetails.version||0}isUnifiedPlanSupported(){const t=this.getBrowser(),e=Pp.browserDetails.version||0;if(t==="chrome"&&e<this.minChromeVersion)return!1;if(t==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,s=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),s=!0}catch{}finally{n&&n.close()}return s}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},ZD=t=>!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t),FC=()=>Math.random().toString(36).slice(2),p1={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class JD extends qC{noop(){}blobToArrayBuffer(e,n){const s=new FileReader;return s.onload=function(a){a.target&&n(a.target.result)},s.readAsArrayBuffer(e),s}binaryStringToArrayBuffer(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=p1,this.browser=pc.getBrowser(),this.browserVersion=pc.getVersion(),this.pack=oC,this.unpack=aC,this.supports=(function(){const n={browser:pc.isBrowserSupported(),webRTC:pc.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let s;try{s=new RTCPeerConnection(p1),n.audioVideo=!0;let a;try{a=s.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!a.ordered;try{a.binaryType="blob",n.binaryBlob=!pc.isIOS}catch{}}catch{}finally{a&&a.close()}}catch{}finally{s&&s.close()}return n})(),this.validateId=ZD,this.randomToken=FC}}const Jn=new JD,WD="PeerJS: ";class e4{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...n){const s=[WD,...n];for(const a in s)s[a]instanceof Error&&(s[a]="("+s[a].name+") "+s[a].message);e>=3?console.log(...s):e>=2?console.warn("WARNING",...s):e>=1&&console.error("ERROR",...s)}constructor(){this._logLevel=0}}var Fe=new e4,zy={},t4=Object.prototype.hasOwnProperty,er="~";function Lc(){}Object.create&&(Lc.prototype=Object.create(null),new Lc().__proto__||(er=!1));function n4(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function YC(t,e,n,s,a){if(typeof n!="function")throw new TypeError("The listener must be a function");var c=new n4(n,s||t,a),u=er?er+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],c]:t._events[u].push(c):(t._events[u]=c,t._eventsCount++),t}function Iu(t,e){--t._eventsCount===0?t._events=new Lc:delete t._events[e]}function Fn(){this._events=new Lc,this._eventsCount=0}Fn.prototype.eventNames=function(){var e=[],n,s;if(this._eventsCount===0)return e;for(s in n=this._events)t4.call(n,s)&&e.push(er?s.slice(1):s);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(n)):e};Fn.prototype.listeners=function(e){var n=er?er+e:e,s=this._events[n];if(!s)return[];if(s.fn)return[s.fn];for(var a=0,c=s.length,u=new Array(c);a<c;a++)u[a]=s[a].fn;return u};Fn.prototype.listenerCount=function(e){var n=er?er+e:e,s=this._events[n];return s?s.fn?1:s.length:0};Fn.prototype.emit=function(e,n,s,a,c,u){var f=er?er+e:e;if(!this._events[f])return!1;var d=this._events[f],h=arguments.length,y,g;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),h){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,n),!0;case 3:return d.fn.call(d.context,n,s),!0;case 4:return d.fn.call(d.context,n,s,a),!0;case 5:return d.fn.call(d.context,n,s,a,c),!0;case 6:return d.fn.call(d.context,n,s,a,c,u),!0}for(g=1,y=new Array(h-1);g<h;g++)y[g-1]=arguments[g];d.fn.apply(d.context,y)}else{var x=d.length,S;for(g=0;g<x;g++)switch(d[g].once&&this.removeListener(e,d[g].fn,void 0,!0),h){case 1:d[g].fn.call(d[g].context);break;case 2:d[g].fn.call(d[g].context,n);break;case 3:d[g].fn.call(d[g].context,n,s);break;case 4:d[g].fn.call(d[g].context,n,s,a);break;default:if(!y)for(S=1,y=new Array(h-1);S<h;S++)y[S-1]=arguments[S];d[g].fn.apply(d[g].context,y)}}return!0};Fn.prototype.on=function(e,n,s){return YC(this,e,n,s,!1)};Fn.prototype.once=function(e,n,s){return YC(this,e,n,s,!0)};Fn.prototype.removeListener=function(e,n,s,a){var c=er?er+e:e;if(!this._events[c])return this;if(!n)return Iu(this,c),this;var u=this._events[c];if(u.fn)u.fn===n&&(!a||u.once)&&(!s||u.context===s)&&Iu(this,c);else{for(var f=0,d=[],h=u.length;f<h;f++)(u[f].fn!==n||a&&!u[f].once||s&&u[f].context!==s)&&d.push(u[f]);d.length?this._events[c]=d.length===1?d[0]:d:Iu(this,c)}return this};Fn.prototype.removeAllListeners=function(e){var n;return e?(n=er?er+e:e,this._events[n]&&Iu(this,n)):(this._events=new Lc,this._eventsCount=0),this};Fn.prototype.off=Fn.prototype.removeListener;Fn.prototype.addListener=Fn.prototype.on;Fn.prefixed=er;Fn.EventEmitter=Fn;zy=Fn;var pa={};ha(pa,"ConnectionType",()=>Fs);ha(pa,"PeerErrorType",()=>mn);ha(pa,"BaseConnectionErrorType",()=>ff);ha(pa,"DataConnectionErrorType",()=>$f);ha(pa,"SerializationType",()=>Kc);ha(pa,"SocketEventType",()=>$s);ha(pa,"ServerMessageType",()=>In);var Fs=(function(t){return t.Data="data",t.Media="media",t})({}),mn=(function(t){return t.BrowserIncompatible="browser-incompatible",t.Disconnected="disconnected",t.InvalidID="invalid-id",t.InvalidKey="invalid-key",t.Network="network",t.PeerUnavailable="peer-unavailable",t.SslUnavailable="ssl-unavailable",t.ServerError="server-error",t.SocketError="socket-error",t.SocketClosed="socket-closed",t.UnavailableID="unavailable-id",t.WebRTC="webrtc",t})({}),ff=(function(t){return t.NegotiationFailed="negotiation-failed",t.ConnectionClosed="connection-closed",t})({}),$f=(function(t){return t.NotOpenYet="not-open-yet",t.MessageToBig="message-too-big",t})({}),Kc=(function(t){return t.Binary="binary",t.BinaryUTF8="binary-utf8",t.JSON="json",t.None="raw",t})({}),$s=(function(t){return t.Message="message",t.Disconnected="disconnected",t.Error="error",t.Close="close",t})({}),In=(function(t){return t.Heartbeat="HEARTBEAT",t.Candidate="CANDIDATE",t.Offer="OFFER",t.Answer="ANSWER",t.Open="OPEN",t.Error="ERROR",t.IdTaken="ID-TAKEN",t.InvalidKey="INVALID-KEY",t.Leave="LEAVE",t.Expire="EXPIRE",t})({});const GC="1.5.5";class r4 extends zy.EventEmitter{constructor(e,n,s,a,c,u=5e3){super(),this.pingInterval=u,this._disconnected=!0,this._messagesQueue=[];const f=e?"wss://":"ws://";this._baseUrl=f+n+":"+s+a+"peerjs?key="+c}start(e,n){this._id=e;const s=`${this._baseUrl}&id=${e}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(s+"&version="+GC),this._disconnected=!1,this._socket.onmessage=a=>{let c;try{c=JSON.parse(a.data),Fe.log("Server message received:",c)}catch{Fe.log("Invalid server message",a.data);return}this.emit($s.Message,c)},this._socket.onclose=a=>{this._disconnected||(Fe.log("Socket closed.",a),this._cleanup(),this._disconnected=!0,this.emit($s.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),Fe.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){Fe.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:In.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const n of e)this.send(n)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit($s.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(e);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class KC{constructor(e){this.connection=e}startConnection(e){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===Fs.Media&&e._stream&&this._addTracksToConnection(e._stream,n),e.originator){const s=this.connection,a={ordered:!!e.reliable},c=n.createDataChannel(s.label,a);s._initializeDataChannel(c),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){Fe.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const n=this.connection.peer,s=this.connection.connectionId,a=this.connection.type,c=this.connection.provider;Fe.log("Listening for ICE candidates."),e.onicecandidate=u=>{!u.candidate||!u.candidate.candidate||(Fe.log(`Received ICE candidates for ${n}:`,u.candidate),c.socket.send({type:In.Candidate,payload:{candidate:u.candidate,type:a,connectionId:s},dst:n}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":Fe.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(ff.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":Fe.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(ff.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":Fe.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},Fe.log("Listening for data channel"),e.ondatachannel=u=>{Fe.log("Received data channel");const f=u.channel;c.getConnection(n,s)._initializeDataChannel(f)},Fe.log("Listening for remote stream"),e.ontrack=u=>{Fe.log("Received remote stream");const f=u.streams[0],d=c.getConnection(n,s);if(d.type===Fs.Media){const h=d;this._addStreamToMediaConnection(f,h)}}}cleanup(){Fe.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const n=e.signalingState!=="closed";let s=!1;const a=this.connection.dataChannel;a&&(s=!!a.readyState&&a.readyState!=="closed"),(n||s)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const s=await e.createOffer(this.connection.options.constraints);Fe.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await e.setLocalDescription(s),Fe.log("Set localDescription:",s,`for:${this.connection.peer}`);let a={sdp:s,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===Fs.Data){const c=this.connection;a={...a,label:c.label,reliable:c.reliable,serialization:c.serialization}}n.socket.send({type:In.Offer,payload:a,dst:this.connection.peer})}catch(a){a!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(mn.WebRTC,a),Fe.log("Failed to setLocalDescription, ",a))}}catch(s){n.emitError(mn.WebRTC,s),Fe.log("Failed to createOffer, ",s)}}async _makeAnswer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const s=await e.createAnswer();Fe.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await e.setLocalDescription(s),Fe.log("Set localDescription:",s,`for:${this.connection.peer}`),n.socket.send({type:In.Answer,payload:{sdp:s,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(a){n.emitError(mn.WebRTC,a),Fe.log("Failed to setLocalDescription, ",a)}}catch(s){n.emitError(mn.WebRTC,s),Fe.log("Failed to create answer, ",s)}}async handleSDP(e,n){n=new RTCSessionDescription(n);const s=this.connection.peerConnection,a=this.connection.provider;Fe.log("Setting remote description",n);const c=this;try{await s.setRemoteDescription(n),Fe.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await c._makeAnswer()}catch(u){a.emitError(mn.WebRTC,u),Fe.log("Failed to setRemoteDescription, ",u)}}async handleCandidate(e){Fe.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),Fe.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(mn.WebRTC,n),Fe.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(e,n){if(Fe.log(`add tracks from stream ${e.id} to peer connection`),!n.addTrack)return Fe.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(s=>{n.addTrack(s,e)})}_addStreamToMediaConnection(e,n){Fe.log(`add stream ${e.id} to media connection ${n.connectionId}`),n.addStream(e)}}class XC extends zy.EventEmitter{emitError(e,n){Fe.error("Error:",n),this.emit("error",new QC(`${e}`,n))}}class QC extends Error{constructor(e,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=e}}class ZC extends XC{get open(){return this._open}constructor(e,n,s){super(),this.peer=e,this.provider=n,this.options=s,this._open=!1,this.metadata=s.metadata}}class df extends ZC{static#e=this.ID_PREFIX="mc_";get type(){return Fs.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,n,s){super(e,n,s),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||df.ID_PREFIX+Jn.randomToken(),this._negotiator=new KC(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{Fe.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{Fe.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){Fe.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const n=e.type,s=e.payload;switch(e.type){case In.Answer:this._negotiator.handleSDP(n,s.sdp),this._open=!0;break;case In.Candidate:this._negotiator.handleCandidate(s.candidate);break;default:Fe.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(e,n={}){if(this._localStream){Fe.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const s=this.provider._getMessages(this.connectionId);for(const a of s)this.handleMessage(a);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}}class s4{constructor(e){this._options=e}_buildRequest(e){const n=this._options.secure?"https":"http",{host:s,port:a,path:c,key:u}=this._options,f=new URL(`${n}://${s}:${a}${c}${u}/${e}`);return f.searchParams.set("ts",`${Date.now()}${Math.random()}`),f.searchParams.set("version",GC),fetch(f.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){Fe.error("Error retrieving ID",e);let n="";throw this._options.path==="/"&&this._options.host!==Jn.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let n="";throw this._options.host===Jn.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw Fe.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}class ia extends ZC{static#e=this.ID_PREFIX="dc_";static#t=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return Fs.Data}constructor(e,n,s){super(e,n,s),this.connectionId=this.options.connectionId||ia.ID_PREFIX+FC(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new KC(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{Fe.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{Fe.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{Fe.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,n=!1){if(!this.open){this.emitError($f.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,n)}async handleMessage(e){const n=e.payload;switch(e.type){case In.Answer:await this._negotiator.handleSDP(e.type,n.sdp);break;case In.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:Fe.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}}class Vf extends ia{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>ia.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(n){return Fe.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class Np extends Vf{close(e){super.close(e),this._chunkedData={}}constructor(e,n,s){super(e,n,s),this.chunker=new qC,this.serialization=Kc.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const n=aC(e),s=n.__peerData;if(s){if(s.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(e){const n=e.__peerData,s=this._chunkedData[n]||{data:[],count:0,total:e.total};if(s.data[e.n]=new Uint8Array(e.data),s.count++,this._chunkedData[n]=s,s.total===s.count){delete this._chunkedData[n];const a=QD(s.data);this._handleDataMessage({data:a})}}_send(e,n){const s=oC(e);if(s instanceof Promise)return this._send_blob(s);if(!n&&s.byteLength>this.chunker.chunkedMTU){this._sendChunks(s);return}this._bufferedSend(s)}async _send_blob(e){const n=await e;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(e){const n=this.chunker.chunk(e);Fe.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const s of n)this.send(s,!0)}}class i4 extends Vf{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,n){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=Kc.None}}class a4 extends Vf{_handleDataMessage({data:e}){const n=this.parse(this.decoder.decode(e)),s=n.__peerData;if(s&&s.type==="close"){this.close();return}this.emit("data",n)}_send(e,n){const s=this.encoder.encode(this.stringify(e));if(s.byteLength>=Jn.chunkedMTU){this.emitError($f.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(s)}constructor(...e){super(...e),this.serialization=Kc.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}class Xc extends XC{static#e=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[n,s]of this._connections)e[n]=s;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,n){super(),this._serializers={raw:i4,json:a4,binary:Np,"binary-utf8":Np,default:Np},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let s;if(e&&e.constructor==Object?n=e:e&&(s=e.toString()),n={debug:0,host:Jn.CLOUD_HOST,port:Jn.CLOUD_PORT,path:"/",key:Xc.DEFAULT_KEY,token:Jn.randomToken(),config:Jn.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Jn.CLOUD_HOST?this._options.secure=Jn.isSecure():this._options.host==Jn.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&Fe.setLogFunction(this._options.logFunction),Fe.logLevel=this._options.debug||0,this._api=new s4(n),this._socket=this._createServerConnection(),!Jn.supports.audioVideo&&!Jn.supports.data){this._delayedAbort(mn.BrowserIncompatible,"The current browser does not support WebRTC");return}if(s&&!Jn.validateId(s)){this._delayedAbort(mn.InvalidID,`ID "${s}" is invalid`);return}s?this._initialize(s):this._api.retrieveId().then(a=>this._initialize(a)).catch(a=>this._abort(mn.ServerError,a))}_createServerConnection(){const e=new r4(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on($s.Message,n=>{this._handleMessage(n)}),e.on($s.Error,n=>{this._abort(mn.SocketError,n)}),e.on($s.Disconnected,()=>{this.disconnected||(this.emitError(mn.Network,"Lost connection to server."),this.disconnect())}),e.on($s.Close,()=>{this.disconnected||this._abort(mn.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const n=e.type,s=e.payload,a=e.src;switch(n){case In.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case In.Error:this._abort(mn.ServerError,s.msg);break;case In.IdTaken:this._abort(mn.UnavailableID,`ID "${this.id}" is taken`);break;case In.InvalidKey:this._abort(mn.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case In.Leave:Fe.log(`Received leave message from ${a}`),this._cleanupPeer(a),this._connections.delete(a);break;case In.Expire:this.emitError(mn.PeerUnavailable,`Could not connect to peer ${a}`);break;case In.Offer:{const c=s.connectionId;let u=this.getConnection(a,c);if(u&&(u.close(),Fe.warn(`Offer received for existing Connection ID:${c}`)),s.type===Fs.Media){const d=new df(a,this,{connectionId:c,_payload:s,metadata:s.metadata});u=d,this._addConnection(a,u),this.emit("call",d)}else if(s.type===Fs.Data){const d=new this._serializers[s.serialization](a,this,{connectionId:c,_payload:s,metadata:s.metadata,label:s.label,serialization:s.serialization,reliable:s.reliable});u=d,this._addConnection(a,u),this.emit("connection",d)}else{Fe.warn(`Received malformed connection type:${s.type}`);return}const f=this._getMessages(c);for(const d of f)u.handleMessage(d);break}default:{if(!s){Fe.warn(`You received a malformed message from ${a} of type ${n}`);return}const c=s.connectionId,u=this.getConnection(a,c);u&&u.peerConnection?u.handleMessage(e):c?this._storeMessage(c,e):Fe.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,n){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(n)}_getMessages(e){const n=this._lostMessages.get(e);return n?(this._lostMessages.delete(e),n):[]}connect(e,n={}){if(n={serialization:"default",...n},this.disconnected){Fe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(mn.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const s=new this._serializers[n.serialization](e,this,n);return this._addConnection(e,s),s}call(e,n,s={}){if(this.disconnected){Fe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(mn.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){Fe.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const a=new df(e,this,{...s,_stream:n});return this._addConnection(e,a),a}_addConnection(e,n){Fe.log(`add connection ${n.type}:${n.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(n)}_removeConnection(e){const n=this._connections.get(e.peer);if(n){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,n){const s=this._connections.get(e);if(!s)return null;for(const a of s)if(a.connectionId===n)return a;return null}_delayedAbort(e,n){setTimeout(()=>{this._abort(e,n)},0)}_abort(e,n){Fe.error("Aborting!"),this.emitError(e,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(Fe.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const n=this._connections.get(e);if(n)for(const s of n)s.close()}disconnect(){if(this.disconnected)return;const e=this.id;Fe.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)Fe.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)Fe.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=n=>{}){this._api.listAllPeers().then(n=>e(n)).catch(n=>this._abort(mn.ServerError,n))}}class JC extends ia{constructor(e,n,s){super(e,n,{...s,reliable:!0}),this._CHUNK_SIZE=32768,this._splitStream=new TransformStream({transform:(a,c)=>{for(let u=0;u<a.length;u+=this._CHUNK_SIZE)c.enqueue(a.subarray(u,u+this._CHUNK_SIZE))}}),this._rawSendStream=new WritableStream({write:async(a,c)=>{const u=new Promise(f=>this.dataChannel.addEventListener("bufferedamountlow",f,{once:!0}));await(this.dataChannel.bufferedAmount<=ia.MAX_BUFFERED_AMOUNT-a.byteLength||u);try{this.dataChannel.send(a)}catch(f){Fe.error(`DC#:${this.connectionId} Error when sending:`,f),c.error(f),this.close()}}}),this.writer=this._splitStream.writable.getWriter(),this._rawReadStream=new ReadableStream({start:a=>{this.once("open",()=>{this.dataChannel.addEventListener("message",c=>{a.enqueue(c.data)})})}}),this._splitStream.readable.pipeTo(this._rawSendStream)}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.bufferedAmountLowThreshold=ia.MAX_BUFFERED_AMOUNT/2}}class Pm extends JC{constructor(e,n,s){super(e,n,s),this.serialization="MsgPack",this._encoder=new ND,(async()=>{for await(const a of XD(this._rawReadStream)){if(a.__peerData?.type==="close"){this.close();return}this.emit("data",a)}})()}_send(e){return this.writer.write(this._encoder.encode(e))}}class o4 extends Xc{constructor(...e){super(...e),this._serializers={MsgPack:Pm,default:Pm}}}var c4=Xc;const l4=Object.freeze(Object.defineProperty({__proto__:null,BaseConnectionErrorType:ff,BufferedConnection:Vf,ConnectionType:Fs,DataConnectionErrorType:$f,MsgPack:Pm,MsgPackPeer:o4,Peer:Xc,PeerError:QC,PeerErrorType:mn,SerializationType:Kc,ServerMessageType:In,SocketEventType:$s,StreamConnection:JC,default:c4,util:Jn},Symbol.toStringTag,{value:"Module"})),u4=bf(l4);function f4(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Dp={exports:{}};const d4={},h4=Object.freeze(Object.defineProperty({__proto__:null,default:d4},Symbol.toStringTag,{value:"Module"})),p4=bf(h4);var m1;function WC(){return m1||(m1=1,(function(t){(function(e){var n=function(_){var A,T=new Float64Array(16);if(_)for(A=0;A<_.length;A++)T[A]=_[A];return T},s=function(){throw new Error("no PRNG")},a=new Uint8Array(16),c=new Uint8Array(32);c[0]=9;var u=n(),f=n([1]),d=n([56129,1]),h=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),y=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),g=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),x=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),S=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function C(_,A,T,v){_[A]=T>>24&255,_[A+1]=T>>16&255,_[A+2]=T>>8&255,_[A+3]=T&255,_[A+4]=v>>24&255,_[A+5]=v>>16&255,_[A+6]=v>>8&255,_[A+7]=v&255}function E(_,A,T,v,P){var V,q=0;for(V=0;V<P;V++)q|=_[A+V]^T[v+V];return(1&q-1>>>8)-1}function M(_,A,T,v){return E(_,A,T,v,16)}function N(_,A,T,v){return E(_,A,T,v,32)}function D(_,A,T,v){for(var P=v[0]&255|(v[1]&255)<<8|(v[2]&255)<<16|(v[3]&255)<<24,V=T[0]&255|(T[1]&255)<<8|(T[2]&255)<<16|(T[3]&255)<<24,q=T[4]&255|(T[5]&255)<<8|(T[6]&255)<<16|(T[7]&255)<<24,ae=T[8]&255|(T[9]&255)<<8|(T[10]&255)<<16|(T[11]&255)<<24,_e=T[12]&255|(T[13]&255)<<8|(T[14]&255)<<16|(T[15]&255)<<24,ze=v[4]&255|(v[5]&255)<<8|(v[6]&255)<<16|(v[7]&255)<<24,Oe=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,Ot=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,Pe=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,Ze=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,tt=v[8]&255|(v[9]&255)<<8|(v[10]&255)<<16|(v[11]&255)<<24,rt=T[16]&255|(T[17]&255)<<8|(T[18]&255)<<16|(T[19]&255)<<24,nt=T[20]&255|(T[21]&255)<<8|(T[22]&255)<<16|(T[23]&255)<<24,Je=T[24]&255|(T[25]&255)<<8|(T[26]&255)<<16|(T[27]&255)<<24,We=T[28]&255|(T[29]&255)<<8|(T[30]&255)<<16|(T[31]&255)<<24,Ie=v[12]&255|(v[13]&255)<<8|(v[14]&255)<<16|(v[15]&255)<<24,Le=P,Ge=V,Re=q,Me=ae,$e=_e,Ae=ze,ne=Oe,re=Ot,ye=Pe,ue=Ze,ce=tt,me=rt,Xe=nt,lt=Je,at=We,ot=Ie,L,ht=0;ht<20;ht+=2)L=Le+Xe|0,$e^=L<<7|L>>>25,L=$e+Le|0,ye^=L<<9|L>>>23,L=ye+$e|0,Xe^=L<<13|L>>>19,L=Xe+ye|0,Le^=L<<18|L>>>14,L=Ae+Ge|0,ue^=L<<7|L>>>25,L=ue+Ae|0,lt^=L<<9|L>>>23,L=lt+ue|0,Ge^=L<<13|L>>>19,L=Ge+lt|0,Ae^=L<<18|L>>>14,L=ce+ne|0,at^=L<<7|L>>>25,L=at+ce|0,Re^=L<<9|L>>>23,L=Re+at|0,ne^=L<<13|L>>>19,L=ne+Re|0,ce^=L<<18|L>>>14,L=ot+me|0,Me^=L<<7|L>>>25,L=Me+ot|0,re^=L<<9|L>>>23,L=re+Me|0,me^=L<<13|L>>>19,L=me+re|0,ot^=L<<18|L>>>14,L=Le+Me|0,Ge^=L<<7|L>>>25,L=Ge+Le|0,Re^=L<<9|L>>>23,L=Re+Ge|0,Me^=L<<13|L>>>19,L=Me+Re|0,Le^=L<<18|L>>>14,L=Ae+$e|0,ne^=L<<7|L>>>25,L=ne+Ae|0,re^=L<<9|L>>>23,L=re+ne|0,$e^=L<<13|L>>>19,L=$e+re|0,Ae^=L<<18|L>>>14,L=ce+ue|0,me^=L<<7|L>>>25,L=me+ce|0,ye^=L<<9|L>>>23,L=ye+me|0,ue^=L<<13|L>>>19,L=ue+ye|0,ce^=L<<18|L>>>14,L=ot+at|0,Xe^=L<<7|L>>>25,L=Xe+ot|0,lt^=L<<9|L>>>23,L=lt+Xe|0,at^=L<<13|L>>>19,L=at+lt|0,ot^=L<<18|L>>>14;Le=Le+P|0,Ge=Ge+V|0,Re=Re+q|0,Me=Me+ae|0,$e=$e+_e|0,Ae=Ae+ze|0,ne=ne+Oe|0,re=re+Ot|0,ye=ye+Pe|0,ue=ue+Ze|0,ce=ce+tt|0,me=me+rt|0,Xe=Xe+nt|0,lt=lt+Je|0,at=at+We|0,ot=ot+Ie|0,_[0]=Le>>>0&255,_[1]=Le>>>8&255,_[2]=Le>>>16&255,_[3]=Le>>>24&255,_[4]=Ge>>>0&255,_[5]=Ge>>>8&255,_[6]=Ge>>>16&255,_[7]=Ge>>>24&255,_[8]=Re>>>0&255,_[9]=Re>>>8&255,_[10]=Re>>>16&255,_[11]=Re>>>24&255,_[12]=Me>>>0&255,_[13]=Me>>>8&255,_[14]=Me>>>16&255,_[15]=Me>>>24&255,_[16]=$e>>>0&255,_[17]=$e>>>8&255,_[18]=$e>>>16&255,_[19]=$e>>>24&255,_[20]=Ae>>>0&255,_[21]=Ae>>>8&255,_[22]=Ae>>>16&255,_[23]=Ae>>>24&255,_[24]=ne>>>0&255,_[25]=ne>>>8&255,_[26]=ne>>>16&255,_[27]=ne>>>24&255,_[28]=re>>>0&255,_[29]=re>>>8&255,_[30]=re>>>16&255,_[31]=re>>>24&255,_[32]=ye>>>0&255,_[33]=ye>>>8&255,_[34]=ye>>>16&255,_[35]=ye>>>24&255,_[36]=ue>>>0&255,_[37]=ue>>>8&255,_[38]=ue>>>16&255,_[39]=ue>>>24&255,_[40]=ce>>>0&255,_[41]=ce>>>8&255,_[42]=ce>>>16&255,_[43]=ce>>>24&255,_[44]=me>>>0&255,_[45]=me>>>8&255,_[46]=me>>>16&255,_[47]=me>>>24&255,_[48]=Xe>>>0&255,_[49]=Xe>>>8&255,_[50]=Xe>>>16&255,_[51]=Xe>>>24&255,_[52]=lt>>>0&255,_[53]=lt>>>8&255,_[54]=lt>>>16&255,_[55]=lt>>>24&255,_[56]=at>>>0&255,_[57]=at>>>8&255,_[58]=at>>>16&255,_[59]=at>>>24&255,_[60]=ot>>>0&255,_[61]=ot>>>8&255,_[62]=ot>>>16&255,_[63]=ot>>>24&255}function k(_,A,T,v){for(var P=v[0]&255|(v[1]&255)<<8|(v[2]&255)<<16|(v[3]&255)<<24,V=T[0]&255|(T[1]&255)<<8|(T[2]&255)<<16|(T[3]&255)<<24,q=T[4]&255|(T[5]&255)<<8|(T[6]&255)<<16|(T[7]&255)<<24,ae=T[8]&255|(T[9]&255)<<8|(T[10]&255)<<16|(T[11]&255)<<24,_e=T[12]&255|(T[13]&255)<<8|(T[14]&255)<<16|(T[15]&255)<<24,ze=v[4]&255|(v[5]&255)<<8|(v[6]&255)<<16|(v[7]&255)<<24,Oe=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,Ot=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,Pe=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,Ze=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,tt=v[8]&255|(v[9]&255)<<8|(v[10]&255)<<16|(v[11]&255)<<24,rt=T[16]&255|(T[17]&255)<<8|(T[18]&255)<<16|(T[19]&255)<<24,nt=T[20]&255|(T[21]&255)<<8|(T[22]&255)<<16|(T[23]&255)<<24,Je=T[24]&255|(T[25]&255)<<8|(T[26]&255)<<16|(T[27]&255)<<24,We=T[28]&255|(T[29]&255)<<8|(T[30]&255)<<16|(T[31]&255)<<24,Ie=v[12]&255|(v[13]&255)<<8|(v[14]&255)<<16|(v[15]&255)<<24,Le=P,Ge=V,Re=q,Me=ae,$e=_e,Ae=ze,ne=Oe,re=Ot,ye=Pe,ue=Ze,ce=tt,me=rt,Xe=nt,lt=Je,at=We,ot=Ie,L,ht=0;ht<20;ht+=2)L=Le+Xe|0,$e^=L<<7|L>>>25,L=$e+Le|0,ye^=L<<9|L>>>23,L=ye+$e|0,Xe^=L<<13|L>>>19,L=Xe+ye|0,Le^=L<<18|L>>>14,L=Ae+Ge|0,ue^=L<<7|L>>>25,L=ue+Ae|0,lt^=L<<9|L>>>23,L=lt+ue|0,Ge^=L<<13|L>>>19,L=Ge+lt|0,Ae^=L<<18|L>>>14,L=ce+ne|0,at^=L<<7|L>>>25,L=at+ce|0,Re^=L<<9|L>>>23,L=Re+at|0,ne^=L<<13|L>>>19,L=ne+Re|0,ce^=L<<18|L>>>14,L=ot+me|0,Me^=L<<7|L>>>25,L=Me+ot|0,re^=L<<9|L>>>23,L=re+Me|0,me^=L<<13|L>>>19,L=me+re|0,ot^=L<<18|L>>>14,L=Le+Me|0,Ge^=L<<7|L>>>25,L=Ge+Le|0,Re^=L<<9|L>>>23,L=Re+Ge|0,Me^=L<<13|L>>>19,L=Me+Re|0,Le^=L<<18|L>>>14,L=Ae+$e|0,ne^=L<<7|L>>>25,L=ne+Ae|0,re^=L<<9|L>>>23,L=re+ne|0,$e^=L<<13|L>>>19,L=$e+re|0,Ae^=L<<18|L>>>14,L=ce+ue|0,me^=L<<7|L>>>25,L=me+ce|0,ye^=L<<9|L>>>23,L=ye+me|0,ue^=L<<13|L>>>19,L=ue+ye|0,ce^=L<<18|L>>>14,L=ot+at|0,Xe^=L<<7|L>>>25,L=Xe+ot|0,lt^=L<<9|L>>>23,L=lt+Xe|0,at^=L<<13|L>>>19,L=at+lt|0,ot^=L<<18|L>>>14;_[0]=Le>>>0&255,_[1]=Le>>>8&255,_[2]=Le>>>16&255,_[3]=Le>>>24&255,_[4]=Ae>>>0&255,_[5]=Ae>>>8&255,_[6]=Ae>>>16&255,_[7]=Ae>>>24&255,_[8]=ce>>>0&255,_[9]=ce>>>8&255,_[10]=ce>>>16&255,_[11]=ce>>>24&255,_[12]=ot>>>0&255,_[13]=ot>>>8&255,_[14]=ot>>>16&255,_[15]=ot>>>24&255,_[16]=ne>>>0&255,_[17]=ne>>>8&255,_[18]=ne>>>16&255,_[19]=ne>>>24&255,_[20]=re>>>0&255,_[21]=re>>>8&255,_[22]=re>>>16&255,_[23]=re>>>24&255,_[24]=ye>>>0&255,_[25]=ye>>>8&255,_[26]=ye>>>16&255,_[27]=ye>>>24&255,_[28]=ue>>>0&255,_[29]=ue>>>8&255,_[30]=ue>>>16&255,_[31]=ue>>>24&255}function j(_,A,T,v){D(_,A,T,v)}function Y(_,A,T,v){k(_,A,T,v)}var J=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function G(_,A,T,v,P,V,q){var ae=new Uint8Array(16),_e=new Uint8Array(64),ze,Oe;for(Oe=0;Oe<16;Oe++)ae[Oe]=0;for(Oe=0;Oe<8;Oe++)ae[Oe]=V[Oe];for(;P>=64;){for(j(_e,ae,q,J),Oe=0;Oe<64;Oe++)_[A+Oe]=T[v+Oe]^_e[Oe];for(ze=1,Oe=8;Oe<16;Oe++)ze=ze+(ae[Oe]&255)|0,ae[Oe]=ze&255,ze>>>=8;P-=64,A+=64,v+=64}if(P>0)for(j(_e,ae,q,J),Oe=0;Oe<P;Oe++)_[A+Oe]=T[v+Oe]^_e[Oe];return 0}function X(_,A,T,v,P){var V=new Uint8Array(16),q=new Uint8Array(64),ae,_e;for(_e=0;_e<16;_e++)V[_e]=0;for(_e=0;_e<8;_e++)V[_e]=v[_e];for(;T>=64;){for(j(q,V,P,J),_e=0;_e<64;_e++)_[A+_e]=q[_e];for(ae=1,_e=8;_e<16;_e++)ae=ae+(V[_e]&255)|0,V[_e]=ae&255,ae>>>=8;T-=64,A+=64}if(T>0)for(j(q,V,P,J),_e=0;_e<T;_e++)_[A+_e]=q[_e];return 0}function pe(_,A,T,v,P){var V=new Uint8Array(32);Y(V,v,P,J);for(var q=new Uint8Array(8),ae=0;ae<8;ae++)q[ae]=v[ae+16];return X(_,A,T,q,V)}function xe(_,A,T,v,P,V,q){var ae=new Uint8Array(32);Y(ae,V,q,J);for(var _e=new Uint8Array(8),ze=0;ze<8;ze++)_e[ze]=V[ze+16];return G(_,A,T,v,P,_e,ae)}var Se=function(_){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var A,T,v,P,V,q,ae,_e;A=_[0]&255|(_[1]&255)<<8,this.r[0]=A&8191,T=_[2]&255|(_[3]&255)<<8,this.r[1]=(A>>>13|T<<3)&8191,v=_[4]&255|(_[5]&255)<<8,this.r[2]=(T>>>10|v<<6)&7939,P=_[6]&255|(_[7]&255)<<8,this.r[3]=(v>>>7|P<<9)&8191,V=_[8]&255|(_[9]&255)<<8,this.r[4]=(P>>>4|V<<12)&255,this.r[5]=V>>>1&8190,q=_[10]&255|(_[11]&255)<<8,this.r[6]=(V>>>14|q<<2)&8191,ae=_[12]&255|(_[13]&255)<<8,this.r[7]=(q>>>11|ae<<5)&8065,_e=_[14]&255|(_[15]&255)<<8,this.r[8]=(ae>>>8|_e<<8)&8191,this.r[9]=_e>>>5&127,this.pad[0]=_[16]&255|(_[17]&255)<<8,this.pad[1]=_[18]&255|(_[19]&255)<<8,this.pad[2]=_[20]&255|(_[21]&255)<<8,this.pad[3]=_[22]&255|(_[23]&255)<<8,this.pad[4]=_[24]&255|(_[25]&255)<<8,this.pad[5]=_[26]&255|(_[27]&255)<<8,this.pad[6]=_[28]&255|(_[29]&255)<<8,this.pad[7]=_[30]&255|(_[31]&255)<<8};Se.prototype.blocks=function(_,A,T){for(var v=this.fin?0:2048,P,V,q,ae,_e,ze,Oe,Ot,Pe,Ze,tt,rt,nt,Je,We,Ie,Le,Ge,Re,Me=this.h[0],$e=this.h[1],Ae=this.h[2],ne=this.h[3],re=this.h[4],ye=this.h[5],ue=this.h[6],ce=this.h[7],me=this.h[8],Xe=this.h[9],lt=this.r[0],at=this.r[1],ot=this.r[2],L=this.r[3],ht=this.r[4],it=this.r[5],_t=this.r[6],ft=this.r[7],St=this.r[8],pt=this.r[9];T>=16;)P=_[A+0]&255|(_[A+1]&255)<<8,Me+=P&8191,V=_[A+2]&255|(_[A+3]&255)<<8,$e+=(P>>>13|V<<3)&8191,q=_[A+4]&255|(_[A+5]&255)<<8,Ae+=(V>>>10|q<<6)&8191,ae=_[A+6]&255|(_[A+7]&255)<<8,ne+=(q>>>7|ae<<9)&8191,_e=_[A+8]&255|(_[A+9]&255)<<8,re+=(ae>>>4|_e<<12)&8191,ye+=_e>>>1&8191,ze=_[A+10]&255|(_[A+11]&255)<<8,ue+=(_e>>>14|ze<<2)&8191,Oe=_[A+12]&255|(_[A+13]&255)<<8,ce+=(ze>>>11|Oe<<5)&8191,Ot=_[A+14]&255|(_[A+15]&255)<<8,me+=(Oe>>>8|Ot<<8)&8191,Xe+=Ot>>>5|v,Pe=0,Ze=Pe,Ze+=Me*lt,Ze+=$e*(5*pt),Ze+=Ae*(5*St),Ze+=ne*(5*ft),Ze+=re*(5*_t),Pe=Ze>>>13,Ze&=8191,Ze+=ye*(5*it),Ze+=ue*(5*ht),Ze+=ce*(5*L),Ze+=me*(5*ot),Ze+=Xe*(5*at),Pe+=Ze>>>13,Ze&=8191,tt=Pe,tt+=Me*at,tt+=$e*lt,tt+=Ae*(5*pt),tt+=ne*(5*St),tt+=re*(5*ft),Pe=tt>>>13,tt&=8191,tt+=ye*(5*_t),tt+=ue*(5*it),tt+=ce*(5*ht),tt+=me*(5*L),tt+=Xe*(5*ot),Pe+=tt>>>13,tt&=8191,rt=Pe,rt+=Me*ot,rt+=$e*at,rt+=Ae*lt,rt+=ne*(5*pt),rt+=re*(5*St),Pe=rt>>>13,rt&=8191,rt+=ye*(5*ft),rt+=ue*(5*_t),rt+=ce*(5*it),rt+=me*(5*ht),rt+=Xe*(5*L),Pe+=rt>>>13,rt&=8191,nt=Pe,nt+=Me*L,nt+=$e*ot,nt+=Ae*at,nt+=ne*lt,nt+=re*(5*pt),Pe=nt>>>13,nt&=8191,nt+=ye*(5*St),nt+=ue*(5*ft),nt+=ce*(5*_t),nt+=me*(5*it),nt+=Xe*(5*ht),Pe+=nt>>>13,nt&=8191,Je=Pe,Je+=Me*ht,Je+=$e*L,Je+=Ae*ot,Je+=ne*at,Je+=re*lt,Pe=Je>>>13,Je&=8191,Je+=ye*(5*pt),Je+=ue*(5*St),Je+=ce*(5*ft),Je+=me*(5*_t),Je+=Xe*(5*it),Pe+=Je>>>13,Je&=8191,We=Pe,We+=Me*it,We+=$e*ht,We+=Ae*L,We+=ne*ot,We+=re*at,Pe=We>>>13,We&=8191,We+=ye*lt,We+=ue*(5*pt),We+=ce*(5*St),We+=me*(5*ft),We+=Xe*(5*_t),Pe+=We>>>13,We&=8191,Ie=Pe,Ie+=Me*_t,Ie+=$e*it,Ie+=Ae*ht,Ie+=ne*L,Ie+=re*ot,Pe=Ie>>>13,Ie&=8191,Ie+=ye*at,Ie+=ue*lt,Ie+=ce*(5*pt),Ie+=me*(5*St),Ie+=Xe*(5*ft),Pe+=Ie>>>13,Ie&=8191,Le=Pe,Le+=Me*ft,Le+=$e*_t,Le+=Ae*it,Le+=ne*ht,Le+=re*L,Pe=Le>>>13,Le&=8191,Le+=ye*ot,Le+=ue*at,Le+=ce*lt,Le+=me*(5*pt),Le+=Xe*(5*St),Pe+=Le>>>13,Le&=8191,Ge=Pe,Ge+=Me*St,Ge+=$e*ft,Ge+=Ae*_t,Ge+=ne*it,Ge+=re*ht,Pe=Ge>>>13,Ge&=8191,Ge+=ye*L,Ge+=ue*ot,Ge+=ce*at,Ge+=me*lt,Ge+=Xe*(5*pt),Pe+=Ge>>>13,Ge&=8191,Re=Pe,Re+=Me*pt,Re+=$e*St,Re+=Ae*ft,Re+=ne*_t,Re+=re*it,Pe=Re>>>13,Re&=8191,Re+=ye*ht,Re+=ue*L,Re+=ce*ot,Re+=me*at,Re+=Xe*lt,Pe+=Re>>>13,Re&=8191,Pe=(Pe<<2)+Pe|0,Pe=Pe+Ze|0,Ze=Pe&8191,Pe=Pe>>>13,tt+=Pe,Me=Ze,$e=tt,Ae=rt,ne=nt,re=Je,ye=We,ue=Ie,ce=Le,me=Ge,Xe=Re,A+=16,T-=16;this.h[0]=Me,this.h[1]=$e,this.h[2]=Ae,this.h[3]=ne,this.h[4]=re,this.h[5]=ye,this.h[6]=ue,this.h[7]=ce,this.h[8]=me,this.h[9]=Xe},Se.prototype.finish=function(_,A){var T=new Uint16Array(10),v,P,V,q;if(this.leftover){for(q=this.leftover,this.buffer[q++]=1;q<16;q++)this.buffer[q]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(v=this.h[1]>>>13,this.h[1]&=8191,q=2;q<10;q++)this.h[q]+=v,v=this.h[q]>>>13,this.h[q]&=8191;for(this.h[0]+=v*5,v=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=v,v=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=v,T[0]=this.h[0]+5,v=T[0]>>>13,T[0]&=8191,q=1;q<10;q++)T[q]=this.h[q]+v,v=T[q]>>>13,T[q]&=8191;for(T[9]-=8192,P=(v^1)-1,q=0;q<10;q++)T[q]&=P;for(P=~P,q=0;q<10;q++)this.h[q]=this.h[q]&P|T[q];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,V=this.h[0]+this.pad[0],this.h[0]=V&65535,q=1;q<8;q++)V=(this.h[q]+this.pad[q]|0)+(V>>>16)|0,this.h[q]=V&65535;_[A+0]=this.h[0]>>>0&255,_[A+1]=this.h[0]>>>8&255,_[A+2]=this.h[1]>>>0&255,_[A+3]=this.h[1]>>>8&255,_[A+4]=this.h[2]>>>0&255,_[A+5]=this.h[2]>>>8&255,_[A+6]=this.h[3]>>>0&255,_[A+7]=this.h[3]>>>8&255,_[A+8]=this.h[4]>>>0&255,_[A+9]=this.h[4]>>>8&255,_[A+10]=this.h[5]>>>0&255,_[A+11]=this.h[5]>>>8&255,_[A+12]=this.h[6]>>>0&255,_[A+13]=this.h[6]>>>8&255,_[A+14]=this.h[7]>>>0&255,_[A+15]=this.h[7]>>>8&255},Se.prototype.update=function(_,A,T){var v,P;if(this.leftover){for(P=16-this.leftover,P>T&&(P=T),v=0;v<P;v++)this.buffer[this.leftover+v]=_[A+v];if(T-=P,A+=P,this.leftover+=P,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(T>=16&&(P=T-T%16,this.blocks(_,A,P),A+=P,T-=P),T){for(v=0;v<T;v++)this.buffer[this.leftover+v]=_[A+v];this.leftover+=T}};function we(_,A,T,v,P,V){var q=new Se(V);return q.update(T,v,P),q.finish(_,A),0}function Ce(_,A,T,v,P,V){var q=new Uint8Array(16);return we(q,0,T,v,P,V),M(_,A,q,0)}function ge(_,A,T,v,P){var V;if(T<32)return-1;for(xe(_,0,A,0,T,v,P),we(_,16,_,32,T-32,_),V=0;V<16;V++)_[V]=0;return 0}function De(_,A,T,v,P){var V,q=new Uint8Array(32);if(T<32||(pe(q,0,32,v,P),Ce(A,16,A,32,T-32,q)!==0))return-1;for(xe(_,0,A,0,T,v,P),V=0;V<32;V++)_[V]=0;return 0}function U(_,A){var T;for(T=0;T<16;T++)_[T]=A[T]|0}function te(_){var A,T,v=1;for(A=0;A<16;A++)T=_[A]+v+65535,v=Math.floor(T/65536),_[A]=T-v*65536;_[0]+=v-1+37*(v-1)}function $(_,A,T){for(var v,P=~(T-1),V=0;V<16;V++)v=P&(_[V]^A[V]),_[V]^=v,A[V]^=v}function Ee(_,A){var T,v,P,V=n(),q=n();for(T=0;T<16;T++)q[T]=A[T];for(te(q),te(q),te(q),v=0;v<2;v++){for(V[0]=q[0]-65517,T=1;T<15;T++)V[T]=q[T]-65535-(V[T-1]>>16&1),V[T-1]&=65535;V[15]=q[15]-32767-(V[14]>>16&1),P=V[15]>>16&1,V[14]&=65535,$(q,V,1-P)}for(T=0;T<16;T++)_[2*T]=q[T]&255,_[2*T+1]=q[T]>>8}function Ke(_,A){var T=new Uint8Array(32),v=new Uint8Array(32);return Ee(T,_),Ee(v,A),N(T,0,v,0)}function I(_){var A=new Uint8Array(32);return Ee(A,_),A[0]&1}function ie(_,A){var T;for(T=0;T<16;T++)_[T]=A[2*T]+(A[2*T+1]<<8);_[15]&=32767}function de(_,A,T){for(var v=0;v<16;v++)_[v]=A[v]+T[v]}function be(_,A,T){for(var v=0;v<16;v++)_[v]=A[v]-T[v]}function ve(_,A,T){var v,P,V=0,q=0,ae=0,_e=0,ze=0,Oe=0,Ot=0,Pe=0,Ze=0,tt=0,rt=0,nt=0,Je=0,We=0,Ie=0,Le=0,Ge=0,Re=0,Me=0,$e=0,Ae=0,ne=0,re=0,ye=0,ue=0,ce=0,me=0,Xe=0,lt=0,at=0,ot=0,L=T[0],ht=T[1],it=T[2],_t=T[3],ft=T[4],St=T[5],pt=T[6],nn=T[7],Nt=T[8],It=T[9],rn=T[10],Zt=T[11],on=T[12],vn=T[13],Nn=T[14],Dn=T[15];v=A[0],V+=v*L,q+=v*ht,ae+=v*it,_e+=v*_t,ze+=v*ft,Oe+=v*St,Ot+=v*pt,Pe+=v*nn,Ze+=v*Nt,tt+=v*It,rt+=v*rn,nt+=v*Zt,Je+=v*on,We+=v*vn,Ie+=v*Nn,Le+=v*Dn,v=A[1],q+=v*L,ae+=v*ht,_e+=v*it,ze+=v*_t,Oe+=v*ft,Ot+=v*St,Pe+=v*pt,Ze+=v*nn,tt+=v*Nt,rt+=v*It,nt+=v*rn,Je+=v*Zt,We+=v*on,Ie+=v*vn,Le+=v*Nn,Ge+=v*Dn,v=A[2],ae+=v*L,_e+=v*ht,ze+=v*it,Oe+=v*_t,Ot+=v*ft,Pe+=v*St,Ze+=v*pt,tt+=v*nn,rt+=v*Nt,nt+=v*It,Je+=v*rn,We+=v*Zt,Ie+=v*on,Le+=v*vn,Ge+=v*Nn,Re+=v*Dn,v=A[3],_e+=v*L,ze+=v*ht,Oe+=v*it,Ot+=v*_t,Pe+=v*ft,Ze+=v*St,tt+=v*pt,rt+=v*nn,nt+=v*Nt,Je+=v*It,We+=v*rn,Ie+=v*Zt,Le+=v*on,Ge+=v*vn,Re+=v*Nn,Me+=v*Dn,v=A[4],ze+=v*L,Oe+=v*ht,Ot+=v*it,Pe+=v*_t,Ze+=v*ft,tt+=v*St,rt+=v*pt,nt+=v*nn,Je+=v*Nt,We+=v*It,Ie+=v*rn,Le+=v*Zt,Ge+=v*on,Re+=v*vn,Me+=v*Nn,$e+=v*Dn,v=A[5],Oe+=v*L,Ot+=v*ht,Pe+=v*it,Ze+=v*_t,tt+=v*ft,rt+=v*St,nt+=v*pt,Je+=v*nn,We+=v*Nt,Ie+=v*It,Le+=v*rn,Ge+=v*Zt,Re+=v*on,Me+=v*vn,$e+=v*Nn,Ae+=v*Dn,v=A[6],Ot+=v*L,Pe+=v*ht,Ze+=v*it,tt+=v*_t,rt+=v*ft,nt+=v*St,Je+=v*pt,We+=v*nn,Ie+=v*Nt,Le+=v*It,Ge+=v*rn,Re+=v*Zt,Me+=v*on,$e+=v*vn,Ae+=v*Nn,ne+=v*Dn,v=A[7],Pe+=v*L,Ze+=v*ht,tt+=v*it,rt+=v*_t,nt+=v*ft,Je+=v*St,We+=v*pt,Ie+=v*nn,Le+=v*Nt,Ge+=v*It,Re+=v*rn,Me+=v*Zt,$e+=v*on,Ae+=v*vn,ne+=v*Nn,re+=v*Dn,v=A[8],Ze+=v*L,tt+=v*ht,rt+=v*it,nt+=v*_t,Je+=v*ft,We+=v*St,Ie+=v*pt,Le+=v*nn,Ge+=v*Nt,Re+=v*It,Me+=v*rn,$e+=v*Zt,Ae+=v*on,ne+=v*vn,re+=v*Nn,ye+=v*Dn,v=A[9],tt+=v*L,rt+=v*ht,nt+=v*it,Je+=v*_t,We+=v*ft,Ie+=v*St,Le+=v*pt,Ge+=v*nn,Re+=v*Nt,Me+=v*It,$e+=v*rn,Ae+=v*Zt,ne+=v*on,re+=v*vn,ye+=v*Nn,ue+=v*Dn,v=A[10],rt+=v*L,nt+=v*ht,Je+=v*it,We+=v*_t,Ie+=v*ft,Le+=v*St,Ge+=v*pt,Re+=v*nn,Me+=v*Nt,$e+=v*It,Ae+=v*rn,ne+=v*Zt,re+=v*on,ye+=v*vn,ue+=v*Nn,ce+=v*Dn,v=A[11],nt+=v*L,Je+=v*ht,We+=v*it,Ie+=v*_t,Le+=v*ft,Ge+=v*St,Re+=v*pt,Me+=v*nn,$e+=v*Nt,Ae+=v*It,ne+=v*rn,re+=v*Zt,ye+=v*on,ue+=v*vn,ce+=v*Nn,me+=v*Dn,v=A[12],Je+=v*L,We+=v*ht,Ie+=v*it,Le+=v*_t,Ge+=v*ft,Re+=v*St,Me+=v*pt,$e+=v*nn,Ae+=v*Nt,ne+=v*It,re+=v*rn,ye+=v*Zt,ue+=v*on,ce+=v*vn,me+=v*Nn,Xe+=v*Dn,v=A[13],We+=v*L,Ie+=v*ht,Le+=v*it,Ge+=v*_t,Re+=v*ft,Me+=v*St,$e+=v*pt,Ae+=v*nn,ne+=v*Nt,re+=v*It,ye+=v*rn,ue+=v*Zt,ce+=v*on,me+=v*vn,Xe+=v*Nn,lt+=v*Dn,v=A[14],Ie+=v*L,Le+=v*ht,Ge+=v*it,Re+=v*_t,Me+=v*ft,$e+=v*St,Ae+=v*pt,ne+=v*nn,re+=v*Nt,ye+=v*It,ue+=v*rn,ce+=v*Zt,me+=v*on,Xe+=v*vn,lt+=v*Nn,at+=v*Dn,v=A[15],Le+=v*L,Ge+=v*ht,Re+=v*it,Me+=v*_t,$e+=v*ft,Ae+=v*St,ne+=v*pt,re+=v*nn,ye+=v*Nt,ue+=v*It,ce+=v*rn,me+=v*Zt,Xe+=v*on,lt+=v*vn,at+=v*Nn,ot+=v*Dn,V+=38*Ge,q+=38*Re,ae+=38*Me,_e+=38*$e,ze+=38*Ae,Oe+=38*ne,Ot+=38*re,Pe+=38*ye,Ze+=38*ue,tt+=38*ce,rt+=38*me,nt+=38*Xe,Je+=38*lt,We+=38*at,Ie+=38*ot,P=1,v=V+P+65535,P=Math.floor(v/65536),V=v-P*65536,v=q+P+65535,P=Math.floor(v/65536),q=v-P*65536,v=ae+P+65535,P=Math.floor(v/65536),ae=v-P*65536,v=_e+P+65535,P=Math.floor(v/65536),_e=v-P*65536,v=ze+P+65535,P=Math.floor(v/65536),ze=v-P*65536,v=Oe+P+65535,P=Math.floor(v/65536),Oe=v-P*65536,v=Ot+P+65535,P=Math.floor(v/65536),Ot=v-P*65536,v=Pe+P+65535,P=Math.floor(v/65536),Pe=v-P*65536,v=Ze+P+65535,P=Math.floor(v/65536),Ze=v-P*65536,v=tt+P+65535,P=Math.floor(v/65536),tt=v-P*65536,v=rt+P+65535,P=Math.floor(v/65536),rt=v-P*65536,v=nt+P+65535,P=Math.floor(v/65536),nt=v-P*65536,v=Je+P+65535,P=Math.floor(v/65536),Je=v-P*65536,v=We+P+65535,P=Math.floor(v/65536),We=v-P*65536,v=Ie+P+65535,P=Math.floor(v/65536),Ie=v-P*65536,v=Le+P+65535,P=Math.floor(v/65536),Le=v-P*65536,V+=P-1+37*(P-1),P=1,v=V+P+65535,P=Math.floor(v/65536),V=v-P*65536,v=q+P+65535,P=Math.floor(v/65536),q=v-P*65536,v=ae+P+65535,P=Math.floor(v/65536),ae=v-P*65536,v=_e+P+65535,P=Math.floor(v/65536),_e=v-P*65536,v=ze+P+65535,P=Math.floor(v/65536),ze=v-P*65536,v=Oe+P+65535,P=Math.floor(v/65536),Oe=v-P*65536,v=Ot+P+65535,P=Math.floor(v/65536),Ot=v-P*65536,v=Pe+P+65535,P=Math.floor(v/65536),Pe=v-P*65536,v=Ze+P+65535,P=Math.floor(v/65536),Ze=v-P*65536,v=tt+P+65535,P=Math.floor(v/65536),tt=v-P*65536,v=rt+P+65535,P=Math.floor(v/65536),rt=v-P*65536,v=nt+P+65535,P=Math.floor(v/65536),nt=v-P*65536,v=Je+P+65535,P=Math.floor(v/65536),Je=v-P*65536,v=We+P+65535,P=Math.floor(v/65536),We=v-P*65536,v=Ie+P+65535,P=Math.floor(v/65536),Ie=v-P*65536,v=Le+P+65535,P=Math.floor(v/65536),Le=v-P*65536,V+=P-1+37*(P-1),_[0]=V,_[1]=q,_[2]=ae,_[3]=_e,_[4]=ze,_[5]=Oe,_[6]=Ot,_[7]=Pe,_[8]=Ze,_[9]=tt,_[10]=rt,_[11]=nt,_[12]=Je,_[13]=We,_[14]=Ie,_[15]=Le}function Te(_,A){ve(_,A,A)}function ke(_,A){var T=n(),v;for(v=0;v<16;v++)T[v]=A[v];for(v=253;v>=0;v--)Te(T,T),v!==2&&v!==4&&ve(T,T,A);for(v=0;v<16;v++)_[v]=T[v]}function vt(_,A){var T=n(),v;for(v=0;v<16;v++)T[v]=A[v];for(v=250;v>=0;v--)Te(T,T),v!==1&&ve(T,T,A);for(v=0;v<16;v++)_[v]=T[v]}function B(_,A,T){var v=new Uint8Array(32),P=new Float64Array(80),V,q,ae=n(),_e=n(),ze=n(),Oe=n(),Ot=n(),Pe=n();for(q=0;q<31;q++)v[q]=A[q];for(v[31]=A[31]&127|64,v[0]&=248,ie(P,T),q=0;q<16;q++)_e[q]=P[q],Oe[q]=ae[q]=ze[q]=0;for(ae[0]=Oe[0]=1,q=254;q>=0;--q)V=v[q>>>3]>>>(q&7)&1,$(ae,_e,V),$(ze,Oe,V),de(Ot,ae,ze),be(ae,ae,ze),de(ze,_e,Oe),be(_e,_e,Oe),Te(Oe,Ot),Te(Pe,ae),ve(ae,ze,ae),ve(ze,_e,Ot),de(Ot,ae,ze),be(ae,ae,ze),Te(_e,ae),be(ze,Oe,Pe),ve(ae,ze,d),de(ae,ae,Oe),ve(ze,ze,ae),ve(ae,Oe,Pe),ve(Oe,_e,P),Te(_e,Ot),$(ae,_e,V),$(ze,Oe,V);for(q=0;q<16;q++)P[q+16]=ae[q],P[q+32]=ze[q],P[q+48]=_e[q],P[q+64]=Oe[q];var Ze=P.subarray(32),tt=P.subarray(16);return ke(Ze,Ze),ve(tt,tt,Ze),Ee(_,tt),0}function K(_,A){return B(_,A,c)}function fe(_,A){return s(A,32),K(_,A)}function je(_,A,T){var v=new Uint8Array(32);return B(v,T,A),Y(_,a,v,J)}var He=ge,Ue=De;function xt(_,A,T,v,P,V){var q=new Uint8Array(32);return je(q,P,V),He(_,A,T,v,q)}function yt(_,A,T,v,P,V){var q=new Uint8Array(32);return je(q,P,V),Ue(_,A,T,v,q)}var Vt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function bt(_,A,T,v){for(var P=new Int32Array(16),V=new Int32Array(16),q,ae,_e,ze,Oe,Ot,Pe,Ze,tt,rt,nt,Je,We,Ie,Le,Ge,Re,Me,$e,Ae,ne,re,ye,ue,ce,me,Xe=_[0],lt=_[1],at=_[2],ot=_[3],L=_[4],ht=_[5],it=_[6],_t=_[7],ft=A[0],St=A[1],pt=A[2],nn=A[3],Nt=A[4],It=A[5],rn=A[6],Zt=A[7],on=0;v>=128;){for($e=0;$e<16;$e++)Ae=8*$e+on,P[$e]=T[Ae+0]<<24|T[Ae+1]<<16|T[Ae+2]<<8|T[Ae+3],V[$e]=T[Ae+4]<<24|T[Ae+5]<<16|T[Ae+6]<<8|T[Ae+7];for($e=0;$e<80;$e++)if(q=Xe,ae=lt,_e=at,ze=ot,Oe=L,Ot=ht,Pe=it,Ze=_t,tt=ft,rt=St,nt=pt,Je=nn,We=Nt,Ie=It,Le=rn,Ge=Zt,ne=_t,re=Zt,ye=re&65535,ue=re>>>16,ce=ne&65535,me=ne>>>16,ne=(L>>>14|Nt<<18)^(L>>>18|Nt<<14)^(Nt>>>9|L<<23),re=(Nt>>>14|L<<18)^(Nt>>>18|L<<14)^(L>>>9|Nt<<23),ye+=re&65535,ue+=re>>>16,ce+=ne&65535,me+=ne>>>16,ne=L&ht^~L&it,re=Nt&It^~Nt&rn,ye+=re&65535,ue+=re>>>16,ce+=ne&65535,me+=ne>>>16,ne=Vt[$e*2],re=Vt[$e*2+1],ye+=re&65535,ue+=re>>>16,ce+=ne&65535,me+=ne>>>16,ne=P[$e%16],re=V[$e%16],ye+=re&65535,ue+=re>>>16,ce+=ne&65535,me+=ne>>>16,ue+=ye>>>16,ce+=ue>>>16,me+=ce>>>16,Re=ce&65535|me<<16,Me=ye&65535|ue<<16,ne=Re,re=Me,ye=re&65535,ue=re>>>16,ce=ne&65535,me=ne>>>16,ne=(Xe>>>28|ft<<4)^(ft>>>2|Xe<<30)^(ft>>>7|Xe<<25),re=(ft>>>28|Xe<<4)^(Xe>>>2|ft<<30)^(Xe>>>7|ft<<25),ye+=re&65535,ue+=re>>>16,ce+=ne&65535,me+=ne>>>16,ne=Xe&lt^Xe&at^lt&at,re=ft&St^ft&pt^St&pt,ye+=re&65535,ue+=re>>>16,ce+=ne&65535,me+=ne>>>16,ue+=ye>>>16,ce+=ue>>>16,me+=ce>>>16,Ze=ce&65535|me<<16,Ge=ye&65535|ue<<16,ne=ze,re=Je,ye=re&65535,ue=re>>>16,ce=ne&65535,me=ne>>>16,ne=Re,re=Me,ye+=re&65535,ue+=re>>>16,ce+=ne&65535,me+=ne>>>16,ue+=ye>>>16,ce+=ue>>>16,me+=ce>>>16,ze=ce&65535|me<<16,Je=ye&65535|ue<<16,lt=q,at=ae,ot=_e,L=ze,ht=Oe,it=Ot,_t=Pe,Xe=Ze,St=tt,pt=rt,nn=nt,Nt=Je,It=We,rn=Ie,Zt=Le,ft=Ge,$e%16===15)for(Ae=0;Ae<16;Ae++)ne=P[Ae],re=V[Ae],ye=re&65535,ue=re>>>16,ce=ne&65535,me=ne>>>16,ne=P[(Ae+9)%16],re=V[(Ae+9)%16],ye+=re&65535,ue+=re>>>16,ce+=ne&65535,me+=ne>>>16,Re=P[(Ae+1)%16],Me=V[(Ae+1)%16],ne=(Re>>>1|Me<<31)^(Re>>>8|Me<<24)^Re>>>7,re=(Me>>>1|Re<<31)^(Me>>>8|Re<<24)^(Me>>>7|Re<<25),ye+=re&65535,ue+=re>>>16,ce+=ne&65535,me+=ne>>>16,Re=P[(Ae+14)%16],Me=V[(Ae+14)%16],ne=(Re>>>19|Me<<13)^(Me>>>29|Re<<3)^Re>>>6,re=(Me>>>19|Re<<13)^(Re>>>29|Me<<3)^(Me>>>6|Re<<26),ye+=re&65535,ue+=re>>>16,ce+=ne&65535,me+=ne>>>16,ue+=ye>>>16,ce+=ue>>>16,me+=ce>>>16,P[Ae]=ce&65535|me<<16,V[Ae]=ye&65535|ue<<16;ne=Xe,re=ft,ye=re&65535,ue=re>>>16,ce=ne&65535,me=ne>>>16,ne=_[0],re=A[0],ye+=re&65535,ue+=re>>>16,ce+=ne&65535,me+=ne>>>16,ue+=ye>>>16,ce+=ue>>>16,me+=ce>>>16,_[0]=Xe=ce&65535|me<<16,A[0]=ft=ye&65535|ue<<16,ne=lt,re=St,ye=re&65535,ue=re>>>16,ce=ne&65535,me=ne>>>16,ne=_[1],re=A[1],ye+=re&65535,ue+=re>>>16,ce+=ne&65535,me+=ne>>>16,ue+=ye>>>16,ce+=ue>>>16,me+=ce>>>16,_[1]=lt=ce&65535|me<<16,A[1]=St=ye&65535|ue<<16,ne=at,re=pt,ye=re&65535,ue=re>>>16,ce=ne&65535,me=ne>>>16,ne=_[2],re=A[2],ye+=re&65535,ue+=re>>>16,ce+=ne&65535,me+=ne>>>16,ue+=ye>>>16,ce+=ue>>>16,me+=ce>>>16,_[2]=at=ce&65535|me<<16,A[2]=pt=ye&65535|ue<<16,ne=ot,re=nn,ye=re&65535,ue=re>>>16,ce=ne&65535,me=ne>>>16,ne=_[3],re=A[3],ye+=re&65535,ue+=re>>>16,ce+=ne&65535,me+=ne>>>16,ue+=ye>>>16,ce+=ue>>>16,me+=ce>>>16,_[3]=ot=ce&65535|me<<16,A[3]=nn=ye&65535|ue<<16,ne=L,re=Nt,ye=re&65535,ue=re>>>16,ce=ne&65535,me=ne>>>16,ne=_[4],re=A[4],ye+=re&65535,ue+=re>>>16,ce+=ne&65535,me+=ne>>>16,ue+=ye>>>16,ce+=ue>>>16,me+=ce>>>16,_[4]=L=ce&65535|me<<16,A[4]=Nt=ye&65535|ue<<16,ne=ht,re=It,ye=re&65535,ue=re>>>16,ce=ne&65535,me=ne>>>16,ne=_[5],re=A[5],ye+=re&65535,ue+=re>>>16,ce+=ne&65535,me+=ne>>>16,ue+=ye>>>16,ce+=ue>>>16,me+=ce>>>16,_[5]=ht=ce&65535|me<<16,A[5]=It=ye&65535|ue<<16,ne=it,re=rn,ye=re&65535,ue=re>>>16,ce=ne&65535,me=ne>>>16,ne=_[6],re=A[6],ye+=re&65535,ue+=re>>>16,ce+=ne&65535,me+=ne>>>16,ue+=ye>>>16,ce+=ue>>>16,me+=ce>>>16,_[6]=it=ce&65535|me<<16,A[6]=rn=ye&65535|ue<<16,ne=_t,re=Zt,ye=re&65535,ue=re>>>16,ce=ne&65535,me=ne>>>16,ne=_[7],re=A[7],ye+=re&65535,ue+=re>>>16,ce+=ne&65535,me+=ne>>>16,ue+=ye>>>16,ce+=ue>>>16,me+=ce>>>16,_[7]=_t=ce&65535|me<<16,A[7]=Zt=ye&65535|ue<<16,on+=128,v-=128}return v}function Et(_,A,T){var v=new Int32Array(8),P=new Int32Array(8),V=new Uint8Array(256),q,ae=T;for(v[0]=1779033703,v[1]=3144134277,v[2]=1013904242,v[3]=2773480762,v[4]=1359893119,v[5]=2600822924,v[6]=528734635,v[7]=1541459225,P[0]=4089235720,P[1]=2227873595,P[2]=4271175723,P[3]=1595750129,P[4]=2917565137,P[5]=725511199,P[6]=4215389547,P[7]=327033209,bt(v,P,A,T),T%=128,q=0;q<T;q++)V[q]=A[ae-T+q];for(V[T]=128,T=256-128*(T<112?1:0),V[T-9]=0,C(V,T-8,ae/536870912|0,ae<<3),bt(v,P,V,T),q=0;q<8;q++)C(_,8*q,v[q],P[q]);return 0}function At(_,A){var T=n(),v=n(),P=n(),V=n(),q=n(),ae=n(),_e=n(),ze=n(),Oe=n();be(T,_[1],_[0]),be(Oe,A[1],A[0]),ve(T,T,Oe),de(v,_[0],_[1]),de(Oe,A[0],A[1]),ve(v,v,Oe),ve(P,_[3],A[3]),ve(P,P,y),ve(V,_[2],A[2]),de(V,V,V),be(q,v,T),be(ae,V,P),de(_e,V,P),de(ze,v,T),ve(_[0],q,ae),ve(_[1],ze,_e),ve(_[2],_e,ae),ve(_[3],q,ze)}function qt(_,A,T){var v;for(v=0;v<4;v++)$(_[v],A[v],T)}function Mn(_,A){var T=n(),v=n(),P=n();ke(P,A[2]),ve(T,A[0],P),ve(v,A[1],P),Ee(_,v),_[31]^=I(T)<<7}function st(_,A,T){var v,P;for(U(_[0],u),U(_[1],f),U(_[2],f),U(_[3],u),P=255;P>=0;--P)v=T[P/8|0]>>(P&7)&1,qt(_,A,v),At(A,_),At(_,_),qt(_,A,v)}function ct(_,A){var T=[n(),n(),n(),n()];U(T[0],g),U(T[1],x),U(T[2],f),ve(T[3],g,x),st(_,T,A)}function Ft(_,A,T){var v=new Uint8Array(64),P=[n(),n(),n(),n()],V;for(T||s(A,32),Et(v,A,32),v[0]&=248,v[31]&=127,v[31]|=64,ct(P,v),Mn(_,P),V=0;V<32;V++)A[V+32]=_[V];return 0}var Tn=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Yn(_,A){var T,v,P,V;for(v=63;v>=32;--v){for(T=0,P=v-32,V=v-12;P<V;++P)A[P]+=T-16*A[v]*Tn[P-(v-32)],T=Math.floor((A[P]+128)/256),A[P]-=T*256;A[P]+=T,A[v]=0}for(T=0,P=0;P<32;P++)A[P]+=T-(A[31]>>4)*Tn[P],T=A[P]>>8,A[P]&=255;for(P=0;P<32;P++)A[P]-=T*Tn[P];for(v=0;v<32;v++)A[v+1]+=A[v]>>8,_[v]=A[v]&255}function Rn(_){var A=new Float64Array(64),T;for(T=0;T<64;T++)A[T]=_[T];for(T=0;T<64;T++)_[T]=0;Yn(_,A)}function jr(_,A,T,v){var P=new Uint8Array(64),V=new Uint8Array(64),q=new Uint8Array(64),ae,_e,ze=new Float64Array(64),Oe=[n(),n(),n(),n()];Et(P,v,32),P[0]&=248,P[31]&=127,P[31]|=64;var Ot=T+64;for(ae=0;ae<T;ae++)_[64+ae]=A[ae];for(ae=0;ae<32;ae++)_[32+ae]=P[32+ae];for(Et(q,_.subarray(32),T+32),Rn(q),ct(Oe,q),Mn(_,Oe),ae=32;ae<64;ae++)_[ae]=v[ae];for(Et(V,_,T+64),Rn(V),ae=0;ae<64;ae++)ze[ae]=0;for(ae=0;ae<32;ae++)ze[ae]=q[ae];for(ae=0;ae<32;ae++)for(_e=0;_e<32;_e++)ze[ae+_e]+=V[ae]*P[_e];return Yn(_.subarray(32),ze),Ot}function Xs(_,A){var T=n(),v=n(),P=n(),V=n(),q=n(),ae=n(),_e=n();return U(_[2],f),ie(_[1],A),Te(P,_[1]),ve(V,P,h),be(P,P,_[2]),de(V,_[2],V),Te(q,V),Te(ae,q),ve(_e,ae,q),ve(T,_e,P),ve(T,T,V),vt(T,T),ve(T,T,P),ve(T,T,V),ve(T,T,V),ve(_[0],T,V),Te(v,_[0]),ve(v,v,V),Ke(v,P)&&ve(_[0],_[0],S),Te(v,_[0]),ve(v,v,V),Ke(v,P)?-1:(I(_[0])===A[31]>>7&&be(_[0],u,_[0]),ve(_[3],_[0],_[1]),0)}function Qs(_,A,T,v){var P,V=new Uint8Array(32),q=new Uint8Array(64),ae=[n(),n(),n(),n()],_e=[n(),n(),n(),n()];if(T<64||Xs(_e,v))return-1;for(P=0;P<T;P++)_[P]=A[P];for(P=0;P<32;P++)_[P+32]=v[P];if(Et(q,_,T),Rn(q),st(ae,_e,q),ct(_e,A.subarray(32)),At(ae,_e),Mn(V,ae),T-=64,N(A,0,V,0)){for(P=0;P<T;P++)_[P]=0;return-1}for(P=0;P<T;P++)_[P]=A[P+64];return T}var Zs=32,Gn=24,Xt=32,gn=16,dn=32,xs=32,Xr=32,Qr=32,Zr=32,bs=Gn,Js=Xt,Lr=gn,Bn=64,Kn=32,Jr=64,Ws=32,Wr=64;e.lowlevel={crypto_core_hsalsa20:Y,crypto_stream_xor:xe,crypto_stream:pe,crypto_stream_salsa20_xor:G,crypto_stream_salsa20:X,crypto_onetimeauth:we,crypto_onetimeauth_verify:Ce,crypto_verify_16:M,crypto_verify_32:N,crypto_secretbox:ge,crypto_secretbox_open:De,crypto_scalarmult:B,crypto_scalarmult_base:K,crypto_box_beforenm:je,crypto_box_afternm:He,crypto_box:xt,crypto_box_open:yt,crypto_box_keypair:fe,crypto_hash:Et,crypto_sign:jr,crypto_sign_keypair:Ft,crypto_sign_open:Qs,crypto_secretbox_KEYBYTES:Zs,crypto_secretbox_NONCEBYTES:Gn,crypto_secretbox_ZEROBYTES:Xt,crypto_secretbox_BOXZEROBYTES:gn,crypto_scalarmult_BYTES:dn,crypto_scalarmult_SCALARBYTES:xs,crypto_box_PUBLICKEYBYTES:Xr,crypto_box_SECRETKEYBYTES:Qr,crypto_box_BEFORENMBYTES:Zr,crypto_box_NONCEBYTES:bs,crypto_box_ZEROBYTES:Js,crypto_box_BOXZEROBYTES:Lr,crypto_sign_BYTES:Bn,crypto_sign_PUBLICKEYBYTES:Kn,crypto_sign_SECRETKEYBYTES:Jr,crypto_sign_SEEDBYTES:Ws,crypto_hash_BYTES:Wr,gf:n,D:h,L:Tn,pack25519:Ee,unpack25519:ie,M:ve,A:de,S:Te,Z:be,pow2523:vt,add:At,set25519:U,modL:Yn,scalarmult:st,scalarbase:ct};function Ur(_,A){if(_.length!==Zs)throw new Error("bad key size");if(A.length!==Gn)throw new Error("bad nonce size")}function ma(_,A){if(_.length!==Xr)throw new Error("bad public key size");if(A.length!==Qr)throw new Error("bad secret key size")}function Pn(){for(var _=0;_<arguments.length;_++)if(!(arguments[_]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ee(_){for(var A=0;A<_.length;A++)_[A]=0}e.randomBytes=function(_){var A=new Uint8Array(_);return s(A,_),A},e.secretbox=function(_,A,T){Pn(_,A,T),Ur(T,A);for(var v=new Uint8Array(Xt+_.length),P=new Uint8Array(v.length),V=0;V<_.length;V++)v[V+Xt]=_[V];return ge(P,v,v.length,A,T),P.subarray(gn)},e.secretbox.open=function(_,A,T){Pn(_,A,T),Ur(T,A);for(var v=new Uint8Array(gn+_.length),P=new Uint8Array(v.length),V=0;V<_.length;V++)v[V+gn]=_[V];return v.length<32||De(P,v,v.length,A,T)!==0?null:P.subarray(Xt)},e.secretbox.keyLength=Zs,e.secretbox.nonceLength=Gn,e.secretbox.overheadLength=gn,e.scalarMult=function(_,A){if(Pn(_,A),_.length!==xs)throw new Error("bad n size");if(A.length!==dn)throw new Error("bad p size");var T=new Uint8Array(dn);return B(T,_,A),T},e.scalarMult.base=function(_){if(Pn(_),_.length!==xs)throw new Error("bad n size");var A=new Uint8Array(dn);return K(A,_),A},e.scalarMult.scalarLength=xs,e.scalarMult.groupElementLength=dn,e.box=function(_,A,T,v){var P=e.box.before(T,v);return e.secretbox(_,A,P)},e.box.before=function(_,A){Pn(_,A),ma(_,A);var T=new Uint8Array(Zr);return je(T,_,A),T},e.box.after=e.secretbox,e.box.open=function(_,A,T,v){var P=e.box.before(T,v);return e.secretbox.open(_,A,P)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var _=new Uint8Array(Xr),A=new Uint8Array(Qr);return fe(_,A),{publicKey:_,secretKey:A}},e.box.keyPair.fromSecretKey=function(_){if(Pn(_),_.length!==Qr)throw new Error("bad secret key size");var A=new Uint8Array(Xr);return K(A,_),{publicKey:A,secretKey:new Uint8Array(_)}},e.box.publicKeyLength=Xr,e.box.secretKeyLength=Qr,e.box.sharedKeyLength=Zr,e.box.nonceLength=bs,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(_,A){if(Pn(_,A),A.length!==Jr)throw new Error("bad secret key size");var T=new Uint8Array(Bn+_.length);return jr(T,_,_.length,A),T},e.sign.open=function(_,A){if(Pn(_,A),A.length!==Kn)throw new Error("bad public key size");var T=new Uint8Array(_.length),v=Qs(T,_,_.length,A);if(v<0)return null;for(var P=new Uint8Array(v),V=0;V<P.length;V++)P[V]=T[V];return P},e.sign.detached=function(_,A){for(var T=e.sign(_,A),v=new Uint8Array(Bn),P=0;P<v.length;P++)v[P]=T[P];return v},e.sign.detached.verify=function(_,A,T){if(Pn(_,A,T),A.length!==Bn)throw new Error("bad signature size");if(T.length!==Kn)throw new Error("bad public key size");var v=new Uint8Array(Bn+_.length),P=new Uint8Array(Bn+_.length),V;for(V=0;V<Bn;V++)v[V]=A[V];for(V=0;V<_.length;V++)v[V+Bn]=_[V];return Qs(P,v,v.length,T)>=0},e.sign.keyPair=function(){var _=new Uint8Array(Kn),A=new Uint8Array(Jr);return Ft(_,A),{publicKey:_,secretKey:A}},e.sign.keyPair.fromSecretKey=function(_){if(Pn(_),_.length!==Jr)throw new Error("bad secret key size");for(var A=new Uint8Array(Kn),T=0;T<A.length;T++)A[T]=_[32+T];return{publicKey:A,secretKey:new Uint8Array(_)}},e.sign.keyPair.fromSeed=function(_){if(Pn(_),_.length!==Ws)throw new Error("bad seed size");for(var A=new Uint8Array(Kn),T=new Uint8Array(Jr),v=0;v<32;v++)T[v]=_[v];return Ft(A,T,!0),{publicKey:A,secretKey:T}},e.sign.publicKeyLength=Kn,e.sign.secretKeyLength=Jr,e.sign.seedLength=Ws,e.sign.signatureLength=Bn,e.hash=function(_){Pn(_);var A=new Uint8Array(Wr);return Et(A,_,_.length),A},e.hash.hashLength=Wr,e.verify=function(_,A){return Pn(_,A),_.length===0||A.length===0||_.length!==A.length?!1:E(_,0,A,0,_.length)===0},e.setPRNG=function(_){s=_},(function(){var _=typeof self<"u"?self.crypto||self.msCrypto:null;if(_&&_.getRandomValues){var A=65536;e.setPRNG(function(T,v){var P,V=new Uint8Array(v);for(P=0;P<v;P+=A)_.getRandomValues(V.subarray(P,P+Math.min(v-P,A)));for(P=0;P<v;P++)T[P]=V[P];ee(V)})}else typeof f4<"u"&&(_=p4,_&&_.randomBytes&&e.setPRNG(function(T,v){var P,V=_.randomBytes(v);for(P=0;P<v;P++)T[P]=V[P];ee(V)}))})()})(t.exports?t.exports:self.nacl=self.nacl||{})})(Dp)),Dp.exports}var Bu={exports:{}},m4=Bu.exports,y1;function eE(){return y1||(y1=1,(function(t){(function(e,n){t.exports?t.exports=n():(e.nacl||(e.nacl={}),e.nacl.util=n())})(m4,function(){var e={};function n(s){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(s))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(s){if(typeof s!="string")throw new TypeError("expected string");var a,c=unescape(encodeURIComponent(s)),u=new Uint8Array(c.length);for(a=0;a<c.length;a++)u[a]=c.charCodeAt(a);return u},e.encodeUTF8=function(s){var a,c=[];for(a=0;a<s.length;a++)c.push(String.fromCharCode(s[a]));return decodeURIComponent(escape(c.join("")))},typeof atob>"u"?typeof Buffer.from<"u"?(e.encodeBase64=function(s){return Buffer.from(s).toString("base64")},e.decodeBase64=function(s){return n(s),new Uint8Array(Array.prototype.slice.call(Buffer.from(s,"base64"),0))}):(e.encodeBase64=function(s){return new Buffer(s).toString("base64")},e.decodeBase64=function(s){return n(s),new Uint8Array(Array.prototype.slice.call(new Buffer(s,"base64"),0))}):(e.encodeBase64=function(s){var a,c=[],u=s.length;for(a=0;a<u;a++)c.push(String.fromCharCode(s[a]));return btoa(c.join(""))},e.decodeBase64=function(s){n(s);var a,c=atob(s),u=new Uint8Array(c.length);for(a=0;a<c.length;a++)u[a]=c.charCodeAt(a);return u}),e})})(Bu)),Bu.exports}function Fr(t){for(var e=arguments.length,n=Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(a){return"'"+a+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function lo(t){return!!t&&!!t[Sr]}function la(t){var e;return!!t&&((function(n){if(!n||typeof n!="object")return!1;var s=Object.getPrototypeOf(n);if(s===null)return!0;var a=Object.hasOwnProperty.call(s,"constructor")&&s.constructor;return a===Object||typeof a=="function"&&Function.toString.call(a)===w4})(t)||Array.isArray(t)||!!t[C1]||!!(!((e=t.constructor)===null||e===void 0)&&e[C1])||Iy(t)||By(t))}function Uc(t,e,n){n===void 0&&(n=!1),vo(t)===0?(n?Object.keys:Fy)(t).forEach((function(s){n&&typeof s=="symbol"||e(s,t[s],t)})):t.forEach((function(s,a){return e(a,s,t)}))}function vo(t){var e=t[Sr];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Iy(t)?2:By(t)?3:0}function Nm(t,e){return vo(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function y4(t,e){return vo(t)===2?t.get(e):t[e]}function tE(t,e,n){var s=vo(t);s===2?t.set(e,n):s===3?t.add(n):t[e]=n}function g4(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Iy(t){return S4&&t instanceof Map}function By(t){return _4&&t instanceof Set}function Wi(t){return t.o||t.t}function Hy(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=C4(t);delete e[Sr];for(var n=Fy(e),s=0;s<n.length;s++){var a=n[s],c=e[a];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(e[a]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[a]})}return Object.create(Object.getPrototypeOf(t),e)}function $y(t,e){return e===void 0&&(e=!1),Vy(t)||lo(t)||!la(t)||(vo(t)>1&&(t.set=t.add=t.clear=t.delete=v4),Object.freeze(t),e&&Uc(t,(function(n,s){return $y(s,!0)}),!0)),t}function v4(){Fr(2)}function Vy(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function fs(t){var e=E4[t];return e||Fr(18,t),e}function g1(){return zc}function kp(t,e){e&&(fs("Patches"),t.u=[],t.s=[],t.v=e)}function hf(t){Dm(t),t.p.forEach(x4),t.p=null}function Dm(t){t===zc&&(zc=t.l)}function v1(t){return zc={p:[],l:zc,h:t,m:!0,_:0}}function x4(t){var e=t[Sr];e.i===0||e.i===1?e.j():e.g=!0}function jp(t,e){e._=e.p.length;var n=e.p[0],s=t!==void 0&&t!==n;return e.h.O||fs("ES5").S(e,t,s),s?(n[Sr].P&&(hf(e),Fr(4)),la(t)&&(t=pf(e,t),e.l||mf(e,t)),e.u&&fs("Patches").M(n[Sr].t,t,e.u,e.s)):t=pf(e,n,[]),hf(e),e.u&&e.v(e.u,e.s),t!==nE?t:void 0}function pf(t,e,n){if(Vy(e))return e;var s=e[Sr];if(!s)return Uc(e,(function(f,d){return x1(t,s,e,f,d,n)}),!0),e;if(s.A!==t)return e;if(!s.P)return mf(t,s.t,!0),s.t;if(!s.I){s.I=!0,s.A._--;var a=s.i===4||s.i===5?s.o=Hy(s.k):s.o,c=a,u=!1;s.i===3&&(c=new Set(a),a.clear(),u=!0),Uc(c,(function(f,d){return x1(t,s,a,f,d,n,u)})),mf(t,a,!1),n&&t.u&&fs("Patches").N(s,n,t.u,t.s)}return s.o}function x1(t,e,n,s,a,c,u){if(lo(a)){var f=pf(t,a,c&&e&&e.i!==3&&!Nm(e.R,s)?c.concat(s):void 0);if(tE(n,s,f),!lo(f))return;t.m=!1}else u&&n.add(a);if(la(a)&&!Vy(a)){if(!t.h.D&&t._<1)return;pf(t,a),e&&e.A.l||mf(t,a)}}function mf(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&$y(e,n)}function Lp(t,e){var n=t[Sr];return(n?Wi(n):t)[e]}function b1(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var s=Object.getOwnPropertyDescriptor(n,e);if(s)return s;n=Object.getPrototypeOf(n)}}function km(t){t.P||(t.P=!0,t.l&&km(t.l))}function Up(t){t.o||(t.o=Hy(t.t))}function jm(t,e,n){var s=Iy(e)?fs("MapSet").F(e,n):By(e)?fs("MapSet").T(e,n):t.O?(function(a,c){var u=Array.isArray(a),f={i:u?1:0,A:c?c.A:g1(),P:!1,I:!1,R:{},l:c,t:a,k:null,o:null,j:null,C:!1},d=f,h=Lm;u&&(d=[f],h=_c);var y=Proxy.revocable(d,h),g=y.revoke,x=y.proxy;return f.k=x,f.j=g,x})(e,n):fs("ES5").J(e,n);return(n?n.A:g1()).p.push(s),s}function b4(t){return lo(t)||Fr(22,t),(function e(n){if(!la(n))return n;var s,a=n[Sr],c=vo(n);if(a){if(!a.P&&(a.i<4||!fs("ES5").K(a)))return a.t;a.I=!0,s=S1(n,c),a.I=!1}else s=S1(n,c);return Uc(s,(function(u,f){a&&y4(a.t,u)===f||tE(s,u,e(f))})),c===3?new Set(s):s})(t)}function S1(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Hy(t)}var _1,zc,qy=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",S4=typeof Map<"u",_4=typeof Set<"u",w1=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",nE=qy?Symbol.for("immer-nothing"):((_1={})["immer-nothing"]=!0,_1),C1=qy?Symbol.for("immer-draftable"):"__$immer_draftable",Sr=qy?Symbol.for("immer-state"):"__$immer_state",w4=""+Object.prototype.constructor,Fy=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,C4=Object.getOwnPropertyDescriptors||function(t){var e={};return Fy(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},E4={},Lm={get:function(t,e){if(e===Sr)return t;var n=Wi(t);if(!Nm(n,e))return(function(a,c,u){var f,d=b1(c,u);return d?"value"in d?d.value:(f=d.get)===null||f===void 0?void 0:f.call(a.k):void 0})(t,n,e);var s=n[e];return t.I||!la(s)?s:s===Lp(t.t,e)?(Up(t),t.o[e]=jm(t.A.h,s,t)):s},has:function(t,e){return e in Wi(t)},ownKeys:function(t){return Reflect.ownKeys(Wi(t))},set:function(t,e,n){var s=b1(Wi(t),e);if(s?.set)return s.set.call(t.k,n),!0;if(!t.P){var a=Lp(Wi(t),e),c=a?.[Sr];if(c&&c.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(g4(n,a)&&(n!==void 0||Nm(t.t,e)))return!0;Up(t),km(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Lp(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Up(t),km(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Wi(t),s=Reflect.getOwnPropertyDescriptor(n,e);return s&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:s.enumerable,value:n[e]}},defineProperty:function(){Fr(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Fr(12)}},_c={};Uc(Lm,(function(t,e){_c[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),_c.deleteProperty=function(t,e){return _c.set.call(this,t,e,void 0)},_c.set=function(t,e,n){return Lm.set.call(this,t[0],e,n,t[0])};var T4=(function(){function t(n){var s=this;this.O=w1,this.D=!0,this.produce=function(a,c,u){if(typeof a=="function"&&typeof c!="function"){var f=c;c=a;var d=s;return function(E){var M=this;E===void 0&&(E=f);for(var N=arguments.length,D=Array(N>1?N-1:0),k=1;k<N;k++)D[k-1]=arguments[k];return d.produce(E,(function(j){var Y;return(Y=c).call.apply(Y,[M,j].concat(D))}))}}var h;if(typeof c!="function"&&Fr(6),u!==void 0&&typeof u!="function"&&Fr(7),la(a)){var y=v1(s),g=jm(s,a,void 0),x=!0;try{h=c(g),x=!1}finally{x?hf(y):Dm(y)}return typeof Promise<"u"&&h instanceof Promise?h.then((function(E){return kp(y,u),jp(E,y)}),(function(E){throw hf(y),E})):(kp(y,u),jp(h,y))}if(!a||typeof a!="object"){if((h=c(a))===void 0&&(h=a),h===nE&&(h=void 0),s.D&&$y(h,!0),u){var S=[],C=[];fs("Patches").M(a,h,S,C),u(S,C)}return h}Fr(21,a)},this.produceWithPatches=function(a,c){if(typeof a=="function")return function(h){for(var y=arguments.length,g=Array(y>1?y-1:0),x=1;x<y;x++)g[x-1]=arguments[x];return s.produceWithPatches(h,(function(S){return a.apply(void 0,[S].concat(g))}))};var u,f,d=s.produce(a,c,(function(h,y){u=h,f=y}));return typeof Promise<"u"&&d instanceof Promise?d.then((function(h){return[h,u,f]})):[d,u,f]},typeof n?.useProxies=="boolean"&&this.setUseProxies(n.useProxies),typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){la(n)||Fr(8),lo(n)&&(n=b4(n));var s=v1(this),a=jm(this,n,void 0);return a[Sr].C=!0,Dm(s),a},e.finishDraft=function(n,s){var a=n&&n[Sr],c=a.A;return kp(c,s),jp(void 0,c)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!w1&&Fr(20),this.O=n},e.applyPatches=function(n,s){var a;for(a=s.length-1;a>=0;a--){var c=s[a];if(c.path.length===0&&c.op==="replace"){n=c.value;break}}a>-1&&(s=s.slice(a+1));var u=fs("Patches").$;return lo(n)?u(n,s):this.produce(n,(function(f){return u(f,s)}))},t})(),_r=new T4,R4=_r.produce;_r.produceWithPatches.bind(_r);_r.setAutoFreeze.bind(_r);_r.setUseProxies.bind(_r);_r.applyPatches.bind(_r);_r.createDraft.bind(_r);_r.finishDraft.bind(_r);class A4{constructor(e){const n=O4();this.c=1,this.s0=n(" "),this.s1=n(" "),this.s2=n(" "),this.s0-=n(e),this.s0<0&&(this.s0+=1),this.s1-=n(e),this.s1<0&&(this.s1+=1),this.s2-=n(e),this.s2<0&&(this.s2+=1)}next(){const e=2091639*this.s0+this.c*23283064365386963e-26;return this.s0=this.s1,this.s1=this.s2,this.s2=e-(this.c=Math.trunc(e))}}function O4(){let t=4022871197;return function(n){const s=n.toString();for(let a=0;a<s.length;a++){t+=s.charCodeAt(a);let c=.02519603282416938*t;t=c>>>0,c-=t,c*=t,t=c>>>0,c-=t,t+=c*4294967296}return(t>>>0)*23283064365386963e-26}}function E1(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function rE(t,e){const n=new A4(t),s=n.next.bind(n);return e&&E1(e,n),s.state=()=>E1(n,{}),s}class T1{constructor(e){this.state=e||{seed:"0"},this.used=!1}static seed(){return Date.now().toString(36).slice(-10)}isUsed(){return this.used}getState(){return this.state}_random(){this.used=!0;const e=this.state,n=e.prngstate?"":e.seed,s=rE(n,e.prngstate),a=s();return this.state={...e,prngstate:s.state()},a}api(){const e=this._random.bind(this),n={D4:4,D6:6,D8:8,D10:10,D12:12,D20:20},s={};for(const c in n){const u=n[c];s[c]=f=>f===void 0?Math.floor(e()*u)+1:Array.from({length:f}).map(()=>Math.floor(e()*u)+1)}function a(c=6,u){return u===void 0?Math.floor(e()*c)+1:Array.from({length:u}).map(()=>Math.floor(e()*c)+1)}return{...s,Die:a,Number:()=>e(),Shuffle:c=>{const u=[...c];let f=c.length,d=0;const h=Array.from({length:f});for(;f;){const y=Math.trunc(f*e());h[d++]=u[y],u[y]=u[--f]}return h},_private:this}}}const M4={name:"random",noClient:({api:t})=>t._private.isUsed(),flush:({api:t})=>t._private.getState(),api:({data:t})=>new T1(t).api(),setup:({game:t})=>{let{seed:e}=t;return e===void 0&&(e=T1.seed()),{seed:e}},playerView:()=>{}};var zp,R1;function P4(){if(R1)return zp;R1=1;var t="[object Object]";function e(x){var S=!1;if(x!=null&&typeof x.toString!="function")try{S=!!(x+"")}catch{}return S}function n(x,S){return function(C){return x(S(C))}}var s=Function.prototype,a=Object.prototype,c=s.toString,u=a.hasOwnProperty,f=c.call(Object),d=a.toString,h=n(Object.getPrototypeOf,Object);function y(x){return!!x&&typeof x=="object"}function g(x){if(!y(x)||d.call(x)!=t||e(x))return!1;var S=h(x);if(S===null)return!0;var C=u.call(S,"constructor")&&S.constructor;return typeof C=="function"&&C instanceof C&&c.call(C)==f}return zp=g,zp}P4();const Ic="MAKE_MOVE",qf="GAME_EVENT",Ff="REDO",Yy="RESET",Gy="SYNC",Yf="UNDO",Ky="UPDATE",Xy="PATCH",sE="PLUGIN",Gf="STRIP_TRANSIENTS",iE=(t,e,n,s)=>({type:Ic,payload:{type:t,args:e,playerID:n,credentials:s}}),Mc=(t,e,n,s)=>({type:qf,payload:{type:t,args:e,playerID:n,credentials:s}}),aE=(t,e,n,s)=>({type:qf,payload:{type:t,args:e,playerID:n,credentials:s},automatic:!0}),oE=t=>({type:Gy,state:t.state,log:t.log,initialState:t.initialState,clientOnly:!0}),cE=(t,e,n,s)=>({type:Xy,prevStateID:t,stateID:e,patch:n,deltalog:s,clientOnly:!0}),lE=(t,e)=>({type:Ky,state:t,deltalog:e,clientOnly:!0}),uE=t=>({type:Yy,state:t,clientOnly:!0}),fE=(t,e)=>({type:Yf,payload:{type:null,args:null,playerID:t,credentials:e}}),dE=(t,e)=>({type:Ff,payload:{type:null,args:null,playerID:t,credentials:e}}),N4=(t,e,n,s)=>({type:sE,payload:{type:t,args:e,playerID:n,credentials:s}}),hE=()=>({type:Gf});var D4=Object.freeze({__proto__:null,makeMove:iE,gameEvent:Mc,automaticGameEvent:aE,sync:oE,patch:cE,update:lE,reset:uE,undo:fE,redo:dE,plugin:N4,stripTransients:hE});const Um="INVALID_MOVE",k4={name:"plugin-immer",fnWrap:t=>(e,...n)=>{let s=!1;const a=R4(e.G,c=>{const u=t({...e,G:c},...n);if(u===Um){s=!0;return}return u});return s?Um:a}};var Vn;(function(t){t.MOVE="MOVE",t.GAME_ON_END="GAME_ON_END",t.PHASE_ON_BEGIN="PHASE_ON_BEGIN",t.PHASE_ON_END="PHASE_ON_END",t.TURN_ON_BEGIN="TURN_ON_BEGIN",t.TURN_ON_MOVE="TURN_ON_MOVE",t.TURN_ON_END="TURN_ON_END"})(Vn||(Vn={}));var Hs;(function(t){t.CalledOutsideHook="Events must be called from moves or the `onBegin`, `onEnd`, and `onMove` hooks.\nThis error probably means you called an event from other game code, like an `endIf` trigger or one of the `turn.order` methods.",t.EndTurnInOnEnd="`endTurn` is disallowed in `onEnd` hooks  the turn is already ending.",t.MaxTurnEndings=`Maximum number of turn endings exceeded for this update.
This likely means game code is triggering an infinite loop.`,t.PhaseEventInOnEnd="`setPhase` & `endPhase` are disallowed in a phases `onEnd` hook  the phase is already ending.\nIf youre trying to dynamically choose the next phase when a phase ends, use the phases `next` trigger.",t.StageEventInOnEnd="`setStage`, `endStage` & `setActivePlayers` are disallowed in `onEnd` hooks.",t.StageEventInPhaseBegin="`setStage`, `endStage` & `setActivePlayers` are disallowed in a phases `onBegin` hook.\nUse `setActivePlayers` in a `turn.onBegin` hook or declare stages with `turn.activePlayers` instead.",t.StageEventInTurnBegin="`setStage` & `endStage` are disallowed in `turn.onBegin`.\nUse `setActivePlayers` or declare stages with `turn.activePlayers` instead."})(Hs||(Hs={}));class j4{constructor(e,n,s){this.flow=e,this.playerID=s,this.dispatch=[],this.initialTurn=n.turn,this.updateTurnContext(n,void 0),this.maxEndedTurnsPerAction=n.numPlayers*100}api(){const e={_private:this};for(const n of this.flow.eventNames)e[n]=(...s)=>{this.dispatch.push({type:n,args:s,phase:this.currentPhase,turn:this.currentTurn,calledFrom:this.currentMethod,error:new Error("Events Plugin Error")})};return e}isUsed(){return this.dispatch.length>0}updateTurnContext(e,n){this.currentPhase=e.phase,this.currentTurn=e.turn,this.currentMethod=n}unsetCurrentMethod(){this.currentMethod=void 0}update(e){const n=e,s=({stack:a},c)=>({...n,plugins:{...n.plugins,events:{...n.plugins.events,data:{error:c+`
`+a}}}});e:for(let a=0;a<this.dispatch.length;a++){const c=this.dispatch[a],u=c.turn!==e.ctx.turn;if(this.currentTurn-this.initialTurn>=this.maxEndedTurnsPerAction)return s(c.error,Hs.MaxTurnEndings);if(c.calledFrom===void 0)return s(c.error,Hs.CalledOutsideHook);if(e.ctx.gameover)break e;switch(c.type){case"endStage":case"setStage":case"setActivePlayers":{switch(c.calledFrom){case Vn.TURN_ON_END:case Vn.PHASE_ON_END:return s(c.error,Hs.StageEventInOnEnd);case Vn.PHASE_ON_BEGIN:return s(c.error,Hs.StageEventInPhaseBegin);case Vn.TURN_ON_BEGIN:if(c.type==="setActivePlayers")break;return s(c.error,Hs.StageEventInTurnBegin)}if(u)continue e;break}case"endTurn":{if(c.calledFrom===Vn.TURN_ON_END||c.calledFrom===Vn.PHASE_ON_END)return s(c.error,Hs.EndTurnInOnEnd);if(u)continue e;break}case"endPhase":case"setPhase":{if(c.calledFrom===Vn.PHASE_ON_END)return s(c.error,Hs.PhaseEventInOnEnd);if(c.phase!==e.ctx.phase)continue e;break}}const d=aE(c.type,c.args,this.playerID);e=this.flow.processEvent(e,d)}return e}}const Qy={name:"events",noClient:({api:t})=>t._private.isUsed(),isInvalid:({data:t})=>t.error||!1,fnWrap:(t,e)=>(n,...s)=>{const a=n.events;a&&a._private.updateTurnContext(n.ctx,e);const c=t(n,...s);return a&&a._private.unsetCurrentMethod(),c},dangerouslyFlushRawState:({state:t,api:e})=>e._private.update(t),api:({game:t,ctx:e,playerID:n})=>new j4(t.flow,e,n).api()},L4={name:"log",flush:()=>({}),api:({data:t})=>({setMetadata:e=>{t.metadata=e}}),setup:()=>({})},U4={name:"plugin-serializable",fnWrap:t=>(e,...n)=>t(e,...n)},z4=(...t)=>console.error(...t);function Ut(t){z4("ERROR:",t)}const Zy=[k4,M4,L4,U4],Qc=[...Zy,Qy],I4=(t,e,n)=>(n.game.plugins.filter(s=>s.action!==void 0).filter(s=>s.name===e.payload.type).forEach(s=>{const a=s.name,c=t.plugins[a]||{data:{}},u=s.action(c.data,e.payload);t={...t,plugins:{...t.plugins,[a]:{...c,data:u}}}}),t),uo=({plugins:t})=>Object.entries(t||{}).reduce((e,[n,{api:s}])=>(e[n]=s,e),{}),pE=(t,e,n)=>[...Zy,...n,Qy].filter(s=>s.fnWrap!==void 0).reduce((s,{fnWrap:a})=>a(s,e),t),B4=(t,e)=>([...Qc,...e.game.plugins].filter(n=>n.setup!==void 0).forEach(n=>{const s=n.name,a=n.setup({G:t.G,ctx:t.ctx,game:e.game});t={...t,plugins:{...t.plugins,[s]:{data:a}}}}),t),zm=(t,e)=>([...Qc,...e.game.plugins].filter(n=>n.api!==void 0).forEach(n=>{const s=n.name,a=t.plugins[s]||{data:{}},c=n.api({G:t.G,ctx:t.ctx,data:a.data,game:e.game,playerID:e.playerID});t={...t,plugins:{...t.plugins,[s]:{...a,api:c}}}}),t),H4=(t,e)=>([...Zy,...e.game.plugins,Qy].reverse().forEach(n=>{const s=n.name,a=t.plugins[s]||{data:{}};if(n.flush){const c=n.flush({G:t.G,ctx:t.ctx,game:e.game,api:a.api,data:a.data});t={...t,plugins:{...t.plugins,[n.name]:{data:c}}}}else if(n.dangerouslyFlushRawState){t=n.dangerouslyFlushRawState({state:t,game:e.game,api:a.api,data:a.data});const c=t.plugins[s].data;t={...t,plugins:{...t.plugins,[n.name]:{data:c}}}}}),t),$4=(t,e)=>[...Qc,...e.game.plugins].filter(n=>n.noClient!==void 0).map(n=>{const s=n.name,a=t.plugins[s];return a?n.noClient({G:t.G,ctx:t.ctx,game:e.game,api:a.api,data:a.data}):!1}).includes(!0),V4=(t,e)=>[...Qc,...e.game.plugins].filter(s=>s.isInvalid!==void 0).map(s=>{const{name:a}=s,c=t.plugins[a],u=s.isInvalid({G:t.G,ctx:t.ctx,game:e.game,data:c&&c.data});return u?{plugin:a,message:u}:!1}).find(s=>s)||!1,mE=(t,e)=>{const n=H4(t,e),s=V4(n,e);if(!s)return[n];const{plugin:a,message:c}=s;return Ut(`${a} plugin declared action invalid:
${c}`),[t,s]},yE=({G:t,ctx:e,plugins:n={}},{game:s,playerID:a})=>([...Qc,...s.plugins].forEach(({name:c,playerView:u})=>{if(!u)return;const{data:f}=n[c]||{data:{}},d=u({G:t,ctx:e,game:s,data:f,playerID:a});n={...n,[c]:{data:d}}}),n);function yf(t,e=!1){t.moveLimit&&(e&&(t.minMoves=t.moveLimit),t.maxMoves=t.moveLimit,delete t.moveLimit)}function gf(t,e){let n={},s=[],a=null,c={},u={};if(Array.isArray(e)){const d={};e.forEach(h=>d[h]=vf.NULL),n=d}else{if(yf(e),e.next&&(a=e.next),e.revert&&(s=[...t._prevActivePlayers,{activePlayers:t.activePlayers,_activePlayersMinMoves:t._activePlayersMinMoves,_activePlayersMaxMoves:t._activePlayersMaxMoves,_activePlayersNumMoves:t._activePlayersNumMoves}]),e.currentPlayer!==void 0&&Su(n,c,u,t.currentPlayer,e.currentPlayer),e.others!==void 0)for(let d=0;d<t.playOrder.length;d++){const h=t.playOrder[d];h!==t.currentPlayer&&Su(n,c,u,h,e.others)}if(e.all!==void 0)for(let d=0;d<t.playOrder.length;d++){const h=t.playOrder[d];Su(n,c,u,h,e.all)}if(e.value)for(const d in e.value)Su(n,c,u,d,e.value[d]);if(e.minMoves)for(const d in n)c[d]===void 0&&(c[d]=e.minMoves);if(e.maxMoves)for(const d in n)u[d]===void 0&&(u[d]=e.maxMoves)}Object.keys(n).length===0&&(n=null),Object.keys(c).length===0&&(c=null),Object.keys(u).length===0&&(u=null);const f={};for(const d in n)f[d]=0;return{...t,activePlayers:n,_activePlayersMinMoves:c,_activePlayersMaxMoves:u,_activePlayersNumMoves:f,_prevActivePlayers:s,_nextActivePlayers:a}}function q4(t){let{activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:s,_activePlayersNumMoves:a,_prevActivePlayers:c,_nextActivePlayers:u}=t;if(e&&Object.keys(e).length===0)if(u)t=gf(t,u),{activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:s,_activePlayersNumMoves:a,_prevActivePlayers:c}=t;else if(c.length>0){const f=c.length-1;({activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:s,_activePlayersNumMoves:a}=c[f]),c=c.slice(0,f)}else e=null,n=null,s=null;return{...t,activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:s,_activePlayersNumMoves:a,_prevActivePlayers:c}}function Su(t,e,n,s,a){(typeof a!="object"||a===vf.NULL)&&(a={stage:a}),a.stage!==void 0&&(yf(a),t[s]=a.stage,a.minMoves&&(e[s]=a.minMoves),a.maxMoves&&(n[s]=a.maxMoves))}function Im(t,e){return t[e]+""}function F4(t,e){let{G:n,ctx:s}=t;const{numPlayers:a}=s,u={...uo(t),G:n,ctx:s},f=e.order;let d=[...Array.from({length:a})].map((x,S)=>S+"");f.playOrder!==void 0&&(d=f.playOrder(u));const h=f.first(u),y=typeof h;y!=="number"&&Ut(`invalid value returned by turn.order.first  expected number got ${y} ${h}.`);const g=Im(d,h);return s={...s,currentPlayer:g,playOrderPos:h,playOrder:d},s=gf(s,e.activePlayers||{}),s}function Y4(t,e,n,s){const a=n.order;let{G:c,ctx:u}=t,f=u.playOrderPos,d=!1;if(s&&s!==!0)typeof s!="object"&&Ut(`invalid argument to endTurn: ${s}`),Object.keys(s).forEach(h=>{switch(h){case"remove":e=Im(u.playOrder,f);break;case"next":f=u.playOrder.indexOf(s.next),e=s.next;break;default:Ut(`invalid argument to endTurn: ${h}`)}});else{const y={...uo(t),G:c,ctx:u},g=a.next(y),x=typeof g;g!==void 0&&x!=="number"&&Ut(`invalid value returned by turn.order.next  expected number or undefined got ${x} ${g}.`),g===void 0?d=!0:(f=g,e=Im(u.playOrder,f))}return u={...u,playOrderPos:f,currentPlayer:e},{endPhase:d,ctx:u}}const G4={DEFAULT:{first:({ctx:t})=>t.turn===0?t.playOrderPos:(t.playOrderPos+1)%t.playOrder.length,next:({ctx:t})=>(t.playOrderPos+1)%t.playOrder.length}},vf={NULL:null};var Ip={},Is={},A1;function gE(){if(A1)return Is;A1=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.Pointer=Is.escapeToken=Is.unescapeToken=void 0;function t(s){return s.replace(/~1/g,"/").replace(/~0/g,"~")}Is.unescapeToken=t;function e(s){return s.replace(/~/g,"~0").replace(/\//g,"~1")}Is.escapeToken=e;var n=(function(){function s(a){a===void 0&&(a=[""]),this.tokens=a}return s.fromJSON=function(a){var c=a.split("/").map(t);if(c[0]!=="")throw new Error("Invalid JSON Pointer: ".concat(a));return new s(c)},s.prototype.toString=function(){return this.tokens.map(e).join("/")},s.prototype.evaluate=function(a){for(var c=null,u="",f=a,d=1,h=this.tokens.length;d<h;d++)c=f,u=this.tokens[d],!(u=="__proto__"||u=="constructor"||u=="prototype")&&(f=(c||{})[u]);return{parent:c,key:u,value:f}},s.prototype.get=function(a){return this.evaluate(a).value},s.prototype.set=function(a,c){var u=this.evaluate(a);u.parent&&(u.parent[u.key]=c)},s.prototype.push=function(a){this.tokens.push(a)},s.prototype.add=function(a){var c=this.tokens.concat(String(a));return new s(c)},s})();return Is.Pointer=n,Is}var en={},Bp={},O1;function vE(){return O1||(O1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.clone=t.objectType=t.hasOwnProperty=void 0,t.hasOwnProperty=Object.prototype.hasOwnProperty;function e(a){return a===void 0?"undefined":a===null?"null":Array.isArray(a)?"array":typeof a}t.objectType=e;function n(a){return a!=null&&typeof a=="object"}function s(a){if(!n(a))return a;if(a.constructor==Array){for(var c=a.length,u=new Array(c),f=0;f<c;f++)u[f]=s(a[f]);return u}if(a.constructor==Date){var d=new Date(+a);return d}var h={};for(var y in a)t.hasOwnProperty.call(a,y)&&(h[y]=s(a[y]));return h}t.clone=s})(Bp)),Bp}var Qn={},M1;function xE(){if(M1)return Qn;M1=1,Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.diffAny=Qn.diffObjects=Qn.diffArrays=Qn.intersection=Qn.subtract=Qn.isDestructive=void 0;var t=vE();function e(y){var g=y.op;return g==="remove"||g==="replace"||g==="copy"||g==="move"}Qn.isDestructive=e;function n(y,g){var x={};for(var S in y)t.hasOwnProperty.call(y,S)&&y[S]!==void 0&&(x[S]=1);for(var C in g)t.hasOwnProperty.call(g,C)&&g[C]!==void 0&&delete x[C];return Object.keys(x)}Qn.subtract=n;function s(y){for(var g=y.length,x={},S=0;S<g;S++){var C=y[S];for(var E in C)t.hasOwnProperty.call(C,E)&&C[E]!==void 0&&(x[E]=(x[E]||0)+1)}for(var E in x)x[E]<g&&delete x[E];return Object.keys(x)}Qn.intersection=s;function a(y){return y.op==="add"}function c(y){return y.op==="remove"}function u(y,g){return{operations:y.operations.concat(g),cost:y.cost+1}}function f(y,g,x,S){S===void 0&&(S=h);var C={"0,0":{operations:[],cost:0}};function E(j,Y){var J="".concat(j,",").concat(Y),G=C[J];if(G===void 0){if(j>0&&Y>0&&!S(y[j-1],g[Y-1],x.add(String(j-1))).length)G=E(j-1,Y-1);else{var X=[];if(j>0){var pe=E(j-1,Y),xe={op:"remove",index:j-1};X.push(u(pe,xe))}if(Y>0){var Se=E(j,Y-1),we={op:"add",index:j-1,value:g[Y-1]};X.push(u(Se,we))}if(j>0&&Y>0){var Ce=E(j-1,Y-1),ge={op:"replace",index:j-1,original:y[j-1],value:g[Y-1]};X.push(u(Ce,ge))}var De=X.sort(function(U,te){return U.cost-te.cost})[0];G=De}C[J]=G}return G}var M=isNaN(y.length)||y.length<=0?0:y.length,N=isNaN(g.length)||g.length<=0?0:g.length,D=E(M,N).operations,k=D.reduce(function(j,Y){var J=j[0],G=j[1];if(a(Y)){var X=Y.index+1+G,pe=X<M+G?String(X):"-",xe={op:Y.op,path:x.add(pe).toString(),value:Y.value};return[J.concat(xe),G+1]}else if(c(Y)){var xe={op:Y.op,path:x.add(String(Y.index+G)).toString()};return[J.concat(xe),G-1]}else{var Se=x.add(String(Y.index+G)),we=S(Y.original,Y.value,Se);return[J.concat.apply(J,we),G]}},[[],0])[0];return k}Qn.diffArrays=f;function d(y,g,x,S){S===void 0&&(S=h);var C=[];return n(y,g).forEach(function(E){C.push({op:"remove",path:x.add(E).toString()})}),n(g,y).forEach(function(E){C.push({op:"add",path:x.add(E).toString(),value:g[E]})}),s([y,g]).forEach(function(E){C.push.apply(C,S(y[E],g[E],x.add(E)))}),C}Qn.diffObjects=d;function h(y,g,x,S){if(S===void 0&&(S=h),y===g)return[];var C=(0,t.objectType)(y),E=(0,t.objectType)(g);return C=="array"&&E=="array"?f(y,g,x,S):C=="object"&&E=="object"?d(y,g,x,S):[{op:"replace",path:x.toString(),value:g}]}return Qn.diffAny=h,Qn}var P1;function K4(){if(P1)return en;P1=1;var t=en&&en.__extends||(function(){var M=function(N,D){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,j){k.__proto__=j}||function(k,j){for(var Y in j)Object.prototype.hasOwnProperty.call(j,Y)&&(k[Y]=j[Y])},M(N,D)};return function(N,D){if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");M(N,D);function k(){this.constructor=N}N.prototype=D===null?Object.create(D):(k.prototype=D.prototype,new k)}})();Object.defineProperty(en,"__esModule",{value:!0}),en.apply=en.InvalidOperationError=en.test=en.copy=en.move=en.replace=en.remove=en.add=en.TestError=en.MissingError=void 0;var e=gE(),n=vE(),s=xE(),a=(function(M){t(N,M);function N(D){var k=M.call(this,"Value required at path: ".concat(D))||this;return k.path=D,k.name="MissingError",k}return N})(Error);en.MissingError=a;var c=(function(M){t(N,M);function N(D,k){var j=M.call(this,"Test failed: ".concat(D," != ").concat(k))||this;return j.actual=D,j.expected=k,j.name="TestError",j}return N})(Error);en.TestError=c;function u(M,N,D){if(Array.isArray(M))if(N=="-")M.push(D);else{var k=parseInt(N,10);M.splice(k,0,D)}else M[N]=D}function f(M,N){if(Array.isArray(M)){var D=parseInt(N,10);M.splice(D,1)}else delete M[N]}function d(M,N){var D=e.Pointer.fromJSON(N.path).evaluate(M);return D.parent===void 0?new a(N.path):(u(D.parent,D.key,(0,n.clone)(N.value)),null)}en.add=d;function h(M,N){var D=e.Pointer.fromJSON(N.path).evaluate(M);return D.value===void 0?new a(N.path):(f(D.parent,D.key),null)}en.remove=h;function y(M,N){var D=e.Pointer.fromJSON(N.path).evaluate(M);if(D.parent===null)return new a(N.path);if(Array.isArray(D.parent)){if(parseInt(D.key,10)>=D.parent.length)return new a(N.path)}else if(D.value===void 0)return new a(N.path);return D.parent[D.key]=(0,n.clone)(N.value),null}en.replace=y;function g(M,N){var D=e.Pointer.fromJSON(N.from).evaluate(M);if(D.value===void 0)return new a(N.from);var k=e.Pointer.fromJSON(N.path).evaluate(M);return k.parent===void 0?new a(N.path):(f(D.parent,D.key),u(k.parent,k.key,D.value),null)}en.move=g;function x(M,N){var D=e.Pointer.fromJSON(N.from).evaluate(M);if(D.value===void 0)return new a(N.from);var k=e.Pointer.fromJSON(N.path).evaluate(M);return k.parent===void 0?new a(N.path):(u(k.parent,k.key,(0,n.clone)(D.value)),null)}en.copy=x;function S(M,N){var D=e.Pointer.fromJSON(N.path).evaluate(M);return(0,s.diffAny)(D.value,N.value,new e.Pointer).length?new c(D.value,N.value):null}en.test=S;var C=(function(M){t(N,M);function N(D){var k=M.call(this,"Invalid operation: ".concat(D.op))||this;return k.operation=D,k.name="InvalidOperationError",k}return N})(Error);en.InvalidOperationError=C;function E(M,N){switch(N.op){case"add":return d(M,N);case"remove":return h(M,N);case"replace":return y(M,N);case"move":return g(M,N);case"copy":return x(M,N);case"test":return S(M,N)}return new C(N)}return en.apply=E,en}var N1;function X4(){return N1||(N1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createTests=t.createPatch=t.applyPatch=t.Pointer=void 0;var e=gE();Object.defineProperty(t,"Pointer",{enumerable:!0,get:function(){return e.Pointer}});var n=K4(),s=xE();function a(h,y){return y.map(function(g){return(0,n.apply)(h,g)})}t.applyPatch=a;function c(h){function y(g,x,S){var C=h(g,x,S);return Array.isArray(C)?C:(0,s.diffAny)(g,x,S,y)}return y}function u(h,y,g){var x=new e.Pointer;return(g?c(g):s.diffAny)(h,y,x)}t.createPatch=u;function f(h,y){var g=e.Pointer.fromJSON(y).evaluate(h);if(g!==void 0)return{op:"test",path:y,value:g.value}}function d(h,y){var g=new Array;return y.filter(s.isDestructive).forEach(function(x){var S=f(h,x.path);if(S&&g.push(S),"from"in x){var C=f(h,x.from);C&&g.push(C)}}),g}t.createTests=d})(Ip)),Ip}var bE=X4();function Q4({moves:t,phases:e,endIf:n,onEnd:s,turn:a,events:c,plugins:u}){t===void 0&&(t={}),c===void 0&&(c={}),u===void 0&&(u=[]),e===void 0&&(e={}),n||(n=()=>{}),s||(s=({G:B})=>B),a||(a={});const f={...e};""in f&&Ut("cannot specify phase with empty name"),f[""]={};const d={},h=new Set;let y=null;Object.keys(t).forEach(B=>h.add(B));const g=(B,K)=>{const fe=pE(B,K,u);return je=>{const He=uo(je);return fe({...He,G:je.G,ctx:je.ctx,playerID:je.playerID})}},x=B=>K=>{const fe=uo(K);return B({...fe,G:K.G,ctx:K.ctx})},S={onEnd:g(s,Vn.GAME_ON_END),endIf:x(n)};for(const B in f){const K=f[B];if(K.start===!0&&(y=B),K.moves!==void 0)for(const fe of Object.keys(K.moves))d[B+"."+fe]=K.moves[fe],h.add(fe);K.endIf===void 0&&(K.endIf=()=>{}),K.onBegin===void 0&&(K.onBegin=({G:fe})=>fe),K.onEnd===void 0&&(K.onEnd=({G:fe})=>fe),K.turn===void 0&&(K.turn=a),K.turn.order===void 0&&(K.turn.order=G4.DEFAULT),K.turn.onBegin===void 0&&(K.turn.onBegin=({G:fe})=>fe),K.turn.onEnd===void 0&&(K.turn.onEnd=({G:fe})=>fe),K.turn.endIf===void 0&&(K.turn.endIf=()=>!1),K.turn.onMove===void 0&&(K.turn.onMove=({G:fe})=>fe),K.turn.stages===void 0&&(K.turn.stages={}),yf(K.turn,!0);for(const fe in K.turn.stages){const He=K.turn.stages[fe].moves||{};for(const Ue of Object.keys(He)){const xt=B+"."+fe+"."+Ue;d[xt]=He[Ue],h.add(Ue)}}if(K.wrapped={onBegin:g(K.onBegin,Vn.PHASE_ON_BEGIN),onEnd:g(K.onEnd,Vn.PHASE_ON_END),endIf:x(K.endIf)},K.turn.wrapped={onMove:g(K.turn.onMove,Vn.TURN_ON_MOVE),onBegin:g(K.turn.onBegin,Vn.TURN_ON_BEGIN),onEnd:g(K.turn.onEnd,Vn.TURN_ON_END),endIf:x(K.turn.endIf)},typeof K.next!="function"){const{next:fe}=K;K.next=()=>fe||null}K.wrapped.next=x(K.next)}function C(B){return B.phase?f[B.phase]:f[""]}function E(B){return B}function M(B,K){const fe=new Set,je=new Set;for(let He=0;He<K.length;He++){const{fn:Ue,arg:xt,...yt}=K[He];if(Ue===we){je.clear();const At=B.ctx.phase;if(fe.has(At)){const qt={...B.ctx,phase:null};return{...B,ctx:qt}}fe.add(At)}const Vt=[];if(B=Ue(B,{...yt,arg:xt,next:Vt}),Ue===Se)break;const bt=X(B);if(bt){K.push({fn:Se,arg:bt,turn:B.ctx.turn,phase:B.ctx.phase,automatic:!0});continue}const Et=pe(B);if(Et){K.push({fn:we,arg:Et,turn:B.ctx.turn,phase:B.ctx.phase,automatic:!0});continue}if([E,J,G].includes(Ue)){const At=xe(B);if(At){K.push({fn:Ce,arg:At,turn:B.ctx.turn,phase:B.ctx.phase,automatic:!0});continue}}K.push(...Vt)}return B}function N(B,{next:K}){return K.push({fn:D}),B}function D(B,{next:K}){let{G:fe,ctx:je}=B;return fe=C(je).wrapped.onBegin(B),K.push({fn:k}),{...B,G:fe,ctx:je}}function k(B,{currentPlayer:K}){let{ctx:fe}=B;const je=C(fe);K?(fe={...fe,currentPlayer:K},je.turn.activePlayers&&(fe=gf(fe,je.turn.activePlayers))):fe=F4(B,je.turn);const He=fe.turn+1;fe={...fe,turn:He,numMoves:0,_prevActivePlayers:[]};const Ue=je.turn.wrapped.onBegin({...B,ctx:fe});return{...B,G:Ue,ctx:fe,_undo:[],_redo:[]}}function j(B,{arg:K,next:fe,phase:je}){const He=C({phase:je});let{ctx:Ue}=B;if(K&&K.next)if(K.next in f)Ue={...Ue,phase:K.next};else return Ut("invalid phase: "+K.next),B;else Ue={...Ue,phase:He.wrapped.next(B)||null};return B={...B,ctx:Ue},fe.push({fn:D}),B}function Y(B,{arg:K,currentPlayer:fe,next:je}){let{G:He,ctx:Ue}=B;const xt=C(Ue),{endPhase:yt,ctx:Vt}=Y4(B,fe,xt.turn,K);return Ue=Vt,B={...B,G:He,ctx:Ue},yt?je.push({fn:we,turn:Ue.turn,phase:Ue.phase}):je.push({fn:k,currentPlayer:Ue.currentPlayer}),B}function J(B,{arg:K,playerID:fe}){if((typeof K=="string"||K===vf.NULL)&&(K={stage:K}),typeof K!="object")return B;yf(K);let{ctx:je}=B,{activePlayers:He,_activePlayersMinMoves:Ue,_activePlayersMaxMoves:xt,_activePlayersNumMoves:yt}=je;return K.stage!==void 0&&(He===null&&(He={}),He[fe]=K.stage,yt[fe]=0,K.minMoves&&(Ue===null&&(Ue={}),Ue[fe]=K.minMoves),K.maxMoves&&(xt===null&&(xt={}),xt[fe]=K.maxMoves)),je={...je,activePlayers:He,_activePlayersMinMoves:Ue,_activePlayersMaxMoves:xt,_activePlayersNumMoves:yt},{...B,ctx:je}}function G(B,{arg:K}){return{...B,ctx:gf(B.ctx,K)}}function X(B){return S.endIf(B)}function pe(B){return C(B.ctx).wrapped.endIf(B)}function xe(B){const K=C(B.ctx),fe=B.ctx.numMoves||0;return K.turn.maxMoves&&fe>=K.turn.maxMoves?!0:K.turn.wrapped.endIf(B)}function Se(B,{arg:K,phase:fe}){B=we(B,{}),K===void 0&&(K=!0),B={...B,ctx:{...B.ctx,gameover:K}};const je=S.onEnd(B);return{...B,G:je}}function we(B,{arg:K,next:fe,turn:je,automatic:He}){B=Ce(B,{turn:je,force:!0,automatic:!0});const{phase:Ue,turn:xt}=B.ctx;if(fe&&fe.push({fn:j,arg:K,phase:Ue}),Ue===null)return B;const Vt=C(B.ctx).wrapped.onEnd(B),bt={...B.ctx,phase:null},Et=Mc("endPhase",K),{_stateID:At}=B,qt={action:Et,_stateID:At,turn:xt,phase:Ue};He&&(qt.automatic=!0);const Mn=[...B.deltalog||[],qt];return{...B,G:Vt,ctx:bt,deltalog:Mn}}function Ce(B,{arg:K,next:fe,turn:je,force:He,automatic:Ue,playerID:xt}){if(je!==B.ctx.turn)return B;const{currentPlayer:yt,numMoves:Vt,phase:bt,turn:Et}=B.ctx,At=C(B.ctx),qt=Vt||0;if(!He&&At.turn.minMoves&&qt<At.turn.minMoves)return`${At.turn.minMoves}`,B;const Mn=At.turn.wrapped.onEnd(B);fe&&fe.push({fn:Y,arg:K,currentPlayer:yt});let st={...B.ctx,activePlayers:null};if(K&&K.remove){xt=xt||yt;const Rn=st.playOrder.filter(Xs=>Xs!=xt),jr=st.playOrderPos>Rn.length-1?0:st.playOrderPos;if(st={...st,playOrder:Rn,playOrderPos:jr},Rn.length===0)return fe.push({fn:we,turn:Et,phase:bt}),B}const ct=Mc("endTurn",K),{_stateID:Ft}=B,Tn={action:ct,_stateID:Ft,turn:Et,phase:bt};Ue&&(Tn.automatic=!0);const Yn=[...B.deltalog||[],Tn];return{...B,G:Mn,ctx:st,deltalog:Yn,_undo:[],_redo:[]}}function ge(B,{arg:K,next:fe,automatic:je,playerID:He}){He=He||B.ctx.currentPlayer;let{ctx:Ue,_stateID:xt}=B,{activePlayers:yt,_activePlayersNumMoves:Vt,_activePlayersMinMoves:bt,_activePlayersMaxMoves:Et,phase:At,turn:qt}=Ue;const Mn=yt!==null&&He in yt,st=C(Ue);if(!K&&Mn){const Rn=st.turn.stages[yt[He]];Rn&&Rn.next&&(K=Rn.next)}if(fe&&fe.push({fn:J,arg:K,playerID:He}),!Mn)return B;const ct=Vt[He]||0;if(bt&&bt[He]&&ct<bt[He])return`${bt[He]}`,B;yt={...yt},delete yt[He],bt&&(bt={...bt},delete bt[He]),Et&&(Et={...Et},delete Et[He]),Ue=q4({...Ue,activePlayers:yt,_activePlayersMinMoves:bt,_activePlayersMaxMoves:Et});const Tn={action:Mc("endStage",K),_stateID:xt,turn:qt,phase:At};je&&(Tn.automatic=!0);const Yn=[...B.deltalog||[],Tn];return{...B,ctx:Ue,deltalog:Yn}}function De(B,K,fe){const je=C(B),He=je.turn.stages,{activePlayers:Ue}=B;if(Ue&&Ue[fe]!==void 0&&Ue[fe]!==vf.NULL&&He[Ue[fe]]!==void 0&&He[Ue[fe]].moves!==void 0){const yt=He[Ue[fe]].moves;if(K in yt)return yt[K]}else if(je.moves){if(K in je.moves)return je.moves[K]}else if(K in t)return t[K];return null}function U(B,K){const{playerID:fe,type:je}=K,{currentPlayer:He,activePlayers:Ue,_activePlayersMaxMoves:xt}=B.ctx,yt=De(B.ctx,je,fe),Vt=!yt||typeof yt=="function"||yt.noLimit!==!0;let{numMoves:bt,_activePlayersNumMoves:Et}=B.ctx;Vt&&(fe===He&&bt++,Ue&&Et[fe]++),B={...B,ctx:{...B.ctx,numMoves:bt,_activePlayersNumMoves:Et}},xt&&Et[fe]>=xt[fe]&&(B=ge(B,{playerID:fe,automatic:!0}));const qt=C(B.ctx).turn.wrapped.onMove({...B,playerID:fe});return B={...B,G:qt},M(B,[{fn:E}])}function te(B,K,fe){return M(B,[{fn:ge,arg:fe,playerID:K}])}function $(B,K){return M(B,[{fn:ge,playerID:K}])}function Ee(B,K,fe){return M(B,[{fn:G,arg:fe}])}function Ke(B,K,fe){return M(B,[{fn:we,phase:B.ctx.phase,turn:B.ctx.turn,arg:{next:fe}}])}function I(B){return M(B,[{fn:we,phase:B.ctx.phase,turn:B.ctx.turn}])}function ie(B,K,fe){return M(B,[{fn:Ce,turn:B.ctx.turn,phase:B.ctx.phase,arg:fe}])}function de(B,K,fe){return M(B,[{fn:Ce,turn:B.ctx.turn,phase:B.ctx.phase,force:!0,arg:fe}])}function be(B,K,fe){return M(B,[{fn:Se,turn:B.ctx.turn,phase:B.ctx.phase,arg:fe}])}const ve={endStage:$,setStage:te,endTurn:ie,pass:de,endPhase:I,setPhase:Ke,endGame:be,setActivePlayers:Ee},Te=[];c.endTurn!==!1&&Te.push("endTurn"),c.pass!==!1&&Te.push("pass"),c.endPhase!==!1&&Te.push("endPhase"),c.setPhase!==!1&&Te.push("setPhase"),c.endGame!==!1&&Te.push("endGame"),c.setActivePlayers!==!1&&Te.push("setActivePlayers"),c.endStage!==!1&&Te.push("endStage"),c.setStage!==!1&&Te.push("setStage");function ke(B,K){const{type:fe,playerID:je,args:He}=K.payload;return typeof ve[fe]!="function"?B:ve[fe](B,je,...Array.isArray(He)?He:[He])}function vt(B,K,fe){return K.activePlayers?fe in K.activePlayers:K.currentPlayer===fe}return{ctx:B=>({numPlayers:B,turn:0,currentPlayer:"0",playOrder:[...Array.from({length:B})].map((K,fe)=>fe+""),playOrderPos:0,phase:y,activePlayers:null}),init:B=>M(B,[{fn:N}]),isPlayerActive:vt,eventHandlers:ve,eventNames:Object.keys(ve),enabledEventNames:Te,moveMap:d,moveNames:[...h.values()],processMove:U,processEvent:ke,getMove:De}}function Z4(t){return t.processMove!==void 0}function Zc(t){if(Z4(t))return t;if(t.name===void 0&&(t.name="default"),t.deltaState===void 0&&(t.deltaState=!1),t.disableUndo===void 0&&(t.disableUndo=!1),t.setup===void 0&&(t.setup=()=>({})),t.moves===void 0&&(t.moves={}),t.playerView===void 0&&(t.playerView=({G:n})=>n),t.plugins===void 0&&(t.plugins=[]),t.plugins.forEach(n=>{if(n.name===void 0)throw new Error("Plugin missing name attribute");if(n.name.includes(" "))throw new Error(n.name+": Plugin name must not include spaces")}),t.name.includes(" "))throw new Error(t.name+": Game name must not include spaces");const e=Q4(t);return{...t,flow:e,moveNames:e.moveNames,pluginNames:t.plugins.map(n=>n.name),processMove:(n,s)=>{let a=e.getMove(n.ctx,s.type,s.playerID);if(SE(a)&&(a=a.move),a instanceof Function){const c=pE(a,Vn.MOVE,t.plugins);let u=[];s.args!==void 0&&(u=Array.isArray(s.args)?s.args:[s.args]);const f={...uo(n),G:n.G,ctx:n.ctx,playerID:s.playerID};return c(f,...u)}return Ut(`invalid move object: ${s.type}`),n.G}}}function SE(t){return t instanceof Object&&t.move!==void 0}var Bm;(function(t){t.UnauthorizedAction="update/unauthorized_action",t.MatchNotFound="update/match_not_found",t.PatchFailed="update/patch_failed"})(Bm||(Bm={}));var $n;(function(t){t.StaleStateId="action/stale_state_id",t.UnavailableMove="action/unavailable_move",t.InvalidMove="action/invalid_move",t.InactivePlayer="action/inactive_player",t.GameOver="action/gameover",t.ActionDisabled="action/action_disabled",t.ActionInvalid="action/action_invalid",t.PluginActionInvalid="action/plugin_invalid"})($n||($n={}));const _u=t=>t.payload.playerID!==null&&t.payload.playerID!==void 0,J4=(t,e,n)=>{function s(c){return c.undoable!==void 0}function a(c){return c instanceof Function}return s(n)?a(n.undoable)?n.undoable({G:t,ctx:e}):n.undoable:!0};function D1(t,e){if(e.game.disableUndo)return t;const n={G:t.G,ctx:t.ctx,plugins:t.plugins,playerID:e.action.payload.playerID||t.ctx.currentPlayer};return e.action.type==="MAKE_MOVE"&&(n.moveType=e.action.payload.type),{...t,_undo:[...t._undo,n],_redo:[]}}function Hp(t,e,n){const s={action:e,_stateID:t._stateID,turn:t.ctx.turn,phase:t.ctx.phase},a=t.plugins.log.data.metadata;return a!==void 0&&(s.metadata=a),typeof n=="object"&&n.redact===!0?s.redact=!0:typeof n=="object"&&n.redact instanceof Function&&(s.redact=n.redact({G:t.G,ctx:t.ctx})),{...t,deltalog:[s]}}function $p(t,e,n){const[s,a]=mE(t,n);return a?[s,Zn(e,$n.PluginActionInvalid,a)]:[s]}function _E(t){if(!t)return[null,void 0];const{transients:e,...n}=t;return[n,e]}function Zn(t,e,n){return{...t,transients:{error:{type:e,payload:n}}}}const wE=t=>e=>n=>{const s=e(n);switch(n.type){case Gf:return s;default:{const[,a]=_E(t.getState());return typeof a<"u"?(t.dispatch(hE()),{...s,transients:a}):s}}};function Kf({game:t,isClient:e}){return t=Zc(t),(n=null,s)=>{let[a]=_E(n);switch(s.type){case Gf:return a;case qf:{if(a={...a,deltalog:[]},e)return a;if(a.ctx.gameover!==void 0)return Ut("cannot call event after game end"),Zn(a,$n.GameOver);if(_u(s)&&!t.flow.isPlayerActive(a.G,a.ctx,s.payload.playerID))return Ut(`disallowed event: ${s.payload.type}`),Zn(a,$n.InactivePlayer);a=zm(a,{game:t,playerID:s.payload.playerID});let c=t.flow.processEvent(a,s),u;return[c,u]=$p(c,a,{game:t}),u||(c=D1(c,{game:t,action:s}),{...c,_stateID:a._stateID+1})}case Ic:{const c=a={...a,deltalog:[]},u=t.flow.getMove(a.ctx,s.payload.type,s.payload.playerID||a.ctx.currentPlayer);if(u===null)return Ut(`disallowed move: ${s.payload.type}`),Zn(a,$n.UnavailableMove);if(e&&u.client===!1)return a;if(a.ctx.gameover!==void 0)return Ut("cannot make move after game end"),Zn(a,$n.GameOver);if(_u(s)&&!t.flow.isPlayerActive(a.G,a.ctx,s.payload.playerID))return Ut(`disallowed move: ${s.payload.type}`),Zn(a,$n.InactivePlayer);a=zm(a,{game:t,playerID:s.payload.playerID});const f=t.processMove(a,s.payload);if(f===Um)return Ut(`invalid move: ${s.payload.type} args: ${s.payload.args}`),Zn(a,$n.InvalidMove);const d={...a,G:f};if(e&&$4(d,{game:t}))return a;if(a=d,e){let y;return[a,y]=$p(a,c,{game:t}),y||{...a,_stateID:a._stateID+1}}a=Hp(a,s,u),a=t.flow.processMove(a,s.payload);let h;return[a,h]=$p(a,c,{game:t}),h||(a=D1(a,{game:t,action:s}),{...a,_stateID:a._stateID+1})}case Yy:case Ky:case Gy:return s.state;case Yf:{if(a={...a,deltalog:[]},t.disableUndo)return Ut("Undo is not enabled"),Zn(a,$n.ActionDisabled);const{G:c,ctx:u,_undo:f,_redo:d,_stateID:h}=a;if(f.length<2)return Ut("No moves to undo"),Zn(a,$n.ActionInvalid);const y=f[f.length-1],g=f[f.length-2];if(_u(s)&&s.payload.playerID!==y.playerID)return Ut("Cannot undo other players' moves"),Zn(a,$n.ActionInvalid);if(y.moveType){const x=t.flow.getMove(g.ctx,y.moveType,y.playerID);if(!J4(c,u,x))return Ut("Move cannot be undone"),Zn(a,$n.ActionInvalid)}return a=Hp(a,s),{...a,G:g.G,ctx:g.ctx,plugins:g.plugins,_stateID:h+1,_undo:f.slice(0,-1),_redo:[y,...d]}}case Ff:{if(a={...a,deltalog:[]},t.disableUndo)return Ut("Redo is not enabled"),Zn(a,$n.ActionDisabled);const{_undo:c,_redo:u,_stateID:f}=a;if(u.length===0)return Ut("No moves to redo"),Zn(a,$n.ActionInvalid);const d=u[0];return _u(s)&&s.payload.playerID!==d.playerID?(Ut("Cannot redo other players' moves"),Zn(a,$n.ActionInvalid)):(a=Hp(a,s),{...a,G:d.G,ctx:d.ctx,plugins:d.plugins,_stateID:f+1,_undo:[...c,d],_redo:u.slice(1)})}case sE:return I4(a,s,{game:t});case Xy:{const c=a,u=JSON.parse(JSON.stringify(c)),f=bE.applyPatch(u,s.patch);return f.some(h=>h!==null)?(Ut(`Patch ${JSON.stringify(s.patch)} apply failed`),Zn(c,Bm.PatchFailed,f)):u}default:return a}}}function Jy({game:t,numPlayers:e,setupData:n}){t=Zc(t),e||(e=2);const s=t.flow.ctx(e);let a={G:{},ctx:s,plugins:{}};a=B4(a,{game:t}),a=zm(a,{game:t,playerID:void 0});const c=uo(a);a.G=t.setup({...c,ctx:a.ctx},n);let u={...a,_undo:[],_redo:[],_stateID:0};return u=t.flow.init(u),[u]=mE(u,{game:t}),t.disableUndo||(u._undo=[{G:u.G,ctx:u.ctx,plugins:u.plugins}]),u}let Xf=class{constructor({transportDataCallback:e,gameName:n,playerID:s,matchID:a,credentials:c,numPlayers:u}){this.connectionStatusCallback=()=>{},this.isConnected=!1,this.transportDataCallback=e,this.gameName=n||"default",this.playerID=s||null,this.matchID=a||"default",this.credentials=c,this.numPlayers=u||2}subscribeToConnectionStatus(e){this.connectionStatusCallback=e}setConnectionStatus(e){this.isConnected=e,this.connectionStatusCallback()}notifyClient(e){this.transportDataCallback(e)}};var Bc;(function(t){t[t.SYNC=0]="SYNC",t[t.ASYNC=1]="ASYNC"})(Bc||(Bc={}));function Qi(t){return t.type()===Bc.SYNC}class W4{type(){return Bc.ASYNC}async createMatch(e,n){if(this.createGame)return console.warn("The database connector does not implement a createMatch method.",`
Using the deprecated createGame method instead.`),this.createGame(e,n);console.error("The database connector does not implement a createMatch method.")}async listMatches(e){if(this.listGames)return console.warn("The database connector does not implement a listMatches method.",`
Using the deprecated listGames method instead.`),this.listGames(e);console.error("The database connector does not implement a listMatches method.")}}class CE{type(){return Bc.SYNC}connect(){}createMatch(e,n){if(this.createGame)return console.warn("The database connector does not implement a createMatch method.",`
Using the deprecated createGame method instead.`),this.createGame(e,n);console.error("The database connector does not implement a createMatch method.")}listMatches(e){if(this.listGames)return console.warn("The database connector does not implement a listMatches method.",`
Using the deprecated listGames method instead.`),this.listGames(e);console.error("The database connector does not implement a listMatches method.")}}const ek=({game:t,unlisted:e,setupData:n,numPlayers:s})=>{const a={gameName:t.name,unlisted:!!e,players:{},createdAt:Date.now(),updatedAt:Date.now()};n!==void 0&&(a.setupData=n);for(let c=0;c<s;c++)a.players[c]={id:c};return a},EE=({game:t,numPlayers:e,setupData:n,unlisted:s})=>{(!e||typeof e!="number")&&(e=2);const a=t.validateSetupData&&t.validateSetupData(n,e);if(a!==void 0)return{setupDataError:a};const c=ek({game:t,numPlayers:e,setupData:n,unlisted:s}),u=Jy({game:t,numPlayers:e,setupData:n});return{metadata:c,initialState:u}},wu=(t,e,n)=>({...n,G:t.playerView({G:n.G,ctx:n.ctx,playerID:e}),plugins:yE(n,{playerID:e,game:t}),deltalog:void 0,_undo:[],_redo:[]}),TE=t=>(e,n)=>{switch(n.type){case"patch":{const[s,a,c,u]=n.args,f=Vp(u.deltalog,e),d=wu(t,e,u),h=u._stateID,y=wu(t,e,c),g=bE.createPatch(y,d);return{type:"patch",args:[s,a,h,g,f]}}case"update":{const[s,a]=n.args,c=Vp(a.deltalog,e),u=wu(t,e,a);return{type:"update",args:[s,u,c]}}case"sync":{const[s,a]=n.args,c=wu(t,e,a.state),u=Vp(a.log,e),f={...a,state:c,log:u};return{type:"sync",args:[s,f]}}default:return n}};function Vp(t,e){return t===void 0?t:t.map(n=>{if(e!==null&&+e==+n.action.payload.playerID||n.redact!==!0)return n;const s={...n.action.payload,args:null},a={...n,action:{...n.action,payload:s}},{redact:c,...u}=a;return u})}const tk=Object.freeze(Object.defineProperty({__proto__:null,Async:W4,CreateGameReducer:Kf,InitializeGame:Jy,ProcessGameConfig:Zc,Sync:CE,Transport:Xf,createMatch:EE,getFilterPlayerView:TE},Symbol.toStringTag,{value:"Module"})),Wy=bf(tk);var Zi={};function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}function nk(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(Hc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rk(t){var e=nk(t,"string");return Hc(e)=="symbol"?e:e+""}function sk(t,e,n){return(e=rk(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function j1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k1(Object(n),!0).forEach(function(s){sk(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k1(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function vr(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var L1=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),U1=function(){return Math.random().toString(36).substring(7).split("").join(".")},z1={INIT:"@@redux/INIT"+U1(),REPLACE:"@@redux/REPLACE"+U1()};function ik(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function eg(t,e,n){var s;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(vr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(vr(1));return n(eg)(t,e)}if(typeof t!="function")throw new Error(vr(2));var a=t,c=e,u=[],f=u,d=!1;function h(){f===u&&(f=u.slice())}function y(){if(d)throw new Error(vr(3));return c}function g(E){if(typeof E!="function")throw new Error(vr(4));if(d)throw new Error(vr(5));var M=!0;return h(),f.push(E),function(){if(M){if(d)throw new Error(vr(6));M=!1,h();var D=f.indexOf(E);f.splice(D,1),u=null}}}function x(E){if(!ik(E))throw new Error(vr(7));if(typeof E.type>"u")throw new Error(vr(8));if(d)throw new Error(vr(9));try{d=!0,c=a(c,E)}finally{d=!1}for(var M=u=f,N=0;N<M.length;N++){var D=M[N];D()}return E}function S(E){if(typeof E!="function")throw new Error(vr(10));a=E,x({type:z1.REPLACE})}function C(){var E,M=g;return E={subscribe:function(D){if(typeof D!="object"||D===null)throw new Error(vr(11));function k(){D.next&&D.next(y())}k();var j=M(k);return{unsubscribe:j}}},E[L1]=function(){return this},E}return x({type:z1.INIT}),s={dispatch:x,subscribe:g,getState:y,replaceReducer:S},s[L1]=C,s}function RE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(s){return s}:e.length===1?e[0]:e.reduce(function(s,a){return function(){return s(a.apply(void 0,arguments))}})}function AE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(s){return function(){var a=s.apply(void 0,arguments),c=function(){throw new Error(vr(15))},u={getState:a.getState,dispatch:function(){return c.apply(void 0,arguments)}},f=e.map(function(d){return d(u)});return c=RE.apply(void 0,f)(a.dispatch),j1(j1({},a),{},{dispatch:c})}}}const I1=t=>Object.values(t.players).map(e=>{const{credentials:n,...s}=e;return s}),ak=t=>{const{credentials:e,...n}=t.payload;return{...t,payload:n}};class OE{constructor(e,n,s,a){this.game=Zc(e),this.storageAPI=n,this.transportAPI=s,this.subscribeCallback=()=>{},this.auth=a}subscribe(e){this.subscribeCallback=e}async onUpdate(e,n,s,a){if(!e||!e.payload)return{error:"missing action or action payload"};let c;if(Qi(this.storageAPI)?{metadata:c}=this.storageAPI.fetch(s,{metadata:!0}):{metadata:c}=await this.storageAPI.fetch(s,{metadata:!0}),this.auth&&!await this.auth.authenticateCredentials({playerID:a,credentials:e.payload.credentials,metadata:c}))return{error:"unauthorized action"};const u=ak(e),f=s;let d;if(Qi(this.storageAPI)?{state:d}=this.storageAPI.fetch(f,{state:!0}):{state:d}=await this.storageAPI.fetch(f,{state:!0}),d===void 0)return Ut(`game not found, matchID=[${f}]`),{error:"game not found"};if(d.ctx.gameover!==void 0){Ut(`game over - matchID=[${f}] - playerID=[${a}] - action[${u.payload.type}]`);return}const h=Kf({game:this.game}),y=AE(wE),g=eg(h,d,y);if(u.type==Yf||u.type==Ff){const N=d.ctx.activePlayers!==null,D=d.ctx.currentPlayer===a;if(!N&&!D||N&&(d.ctx.activePlayers[a]===void 0||Object.keys(d.ctx.activePlayers).length>1)){Ut(`playerID=[${a}] cannot undo / redo right now`);return}}if(!this.game.flow.isPlayerActive(d.G,d.ctx,a)){Ut(`player not active - playerID=[${a}] - action[${u.payload.type}]`);return}const x=u.type==Ic?this.game.flow.getMove(d.ctx,u.payload.type,a):null;if(u.type==Ic&&!x){Ut(`move not processed - canPlayerMakeMove=false - playerID=[${a}] - action[${u.payload.type}]`);return}if(d._stateID!==n&&!(x&&SE(x)&&x.ignoreStaleStateID)){Ut(`invalid stateID, was=[${n}], expected=[${d._stateID}] - playerID=[${a}] - action[${u.payload.type}]`);return}const S=g.getState();g.dispatch(u),d=g.getState(),this.subscribeCallback({state:d,action:u,matchID:s}),this.game.deltaState?this.transportAPI.sendAll({type:"patch",args:[s,n,S,d]}):this.transportAPI.sendAll({type:"update",args:[s,d]});const{deltalog:C,...E}=d;let M;if(c&&(c.gameover===void 0||c.gameover===null)&&(M={...c,updatedAt:Date.now()},d.ctx.gameover!==void 0&&(M.gameover=d.ctx.gameover)),Qi(this.storageAPI))this.storageAPI.setState(f,E,C),M&&this.storageAPI.setMetadata(f,M);else{const N=[this.storageAPI.setState(f,E,C)];M&&N.push(this.storageAPI.setMetadata(f,M)),await Promise.all(N)}}async onSync(e,n,s,a=2){const c=e,u={state:!0,metadata:!0,log:!0,initialState:!0},f=Qi(this.storageAPI)?this.storageAPI.fetch(c,u):await this.storageAPI.fetch(c,u);let{state:d,initialState:h,log:y,metadata:g}=f;if(this.auth&&n!==void 0&&n!==null&&!await this.auth.authenticateCredentials({playerID:n,credentials:s,metadata:g}))return{error:"unauthorized"};if(d===void 0){const C=EE({game:this.game,unlisted:!0,numPlayers:a,setupData:void 0});if("setupDataError"in C)return{error:"game requires setupData"};h=d=C.initialState,g=C.metadata,this.subscribeCallback({state:d,matchID:e}),Qi(this.storageAPI)?this.storageAPI.createMatch(c,{initialState:h,metadata:g}):await this.storageAPI.createMatch(c,{initialState:h,metadata:g})}const x=g?I1(g):void 0,S={state:d,log:y,filteredMetadata:x,initialState:h};this.transportAPI.send({playerID:n,type:"sync",args:[e,S]})}async onConnectionChange(e,n,s,a){const c=e;if(n==null)return;let u;if(Qi(this.storageAPI)?{metadata:u}=this.storageAPI.fetch(c,{metadata:!0}):{metadata:u}=await this.storageAPI.fetch(c,{metadata:!0}),u===void 0)return Ut(`metadata not found for matchID=[${c}]`),{error:"metadata not found"};if(u.players[n]===void 0)return Ut(`Player not in the match, matchID=[${c}] playerID=[${n}]`),{error:"player not in the match"};if(this.auth&&!await this.auth.authenticateCredentials({playerID:n,credentials:s,metadata:u}))return{error:"unauthorized"};u.players[n].isConnected=a;const f=I1(u);this.transportAPI.sendAll({type:"matchData",args:[e,f]}),Qi(this.storageAPI)?this.storageAPI.setMetadata(c,u):await this.storageAPI.setMetadata(c,u)}async onChatMessage(e,n,s){const a=e;if(this.auth){const{metadata:c}=await this.storageAPI.fetch(a,{metadata:!0});if(!(n&&typeof n.sender=="string"))return{error:"unauthorized"};if(!await this.auth.authenticateCredentials({playerID:n.sender,credentials:s,metadata:c}))return{error:"unauthorized"}}this.transportAPI.sendAll({type:"chat",args:[e,n]})}}const ok=Object.freeze(Object.defineProperty({__proto__:null,Master:OE},Symbol.toStringTag,{value:"Module"})),ck=bf(ok);var mc={},B1;function lk(){if(B1)return mc;B1=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.P2PDB=void 0;const t=Wy;class e extends t.Sync{constructor(){super(...arguments),this.initialState=new Map,this.state=new Map,this.log=new Map,this.metadata=new Map}connect(){}createMatch(s,a){this.initialState.set(s,a.initialState),this.state.set(s,a.initialState),this.log.set(s,[]),this.metadata.set(s,a.metadata)}setState(s,a,c){this.state.set(s,a),c&&this.log.set(s,[...this.log.get(s)||[],...c])}setMetadata(s,a){this.metadata.set(s,a)}fetch(s){return{initialState:this.initialState.get(s),state:this.state.get(s),log:this.log.get(s),metadata:this.metadata.get(s)}}wipe(s){this.initialState.delete(s),this.state.delete(s),this.log.delete(s),this.metadata.delete(s)}listMatches(){return[...this.metadata.keys()]}}return mc.P2PDB=e,mc}var Bs={},H1;function Hm(){if(H1)return Bs;H1=1,Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.authenticate=Bs.signMessage=Bs.generateCredentials=void 0;const t=WC(),e=eE();function n(){return(0,e.encodeBase64)((0,t.randomBytes)(64))}Bs.generateCredentials=n;function s(u,f,d){try{const h=t.sign.open((0,e.decodeBase64)(u),(0,e.decodeBase64)(f));return h!==null&&(0,e.encodeUTF8)(h)===d}catch{return!1}}function a(u,f){return(0,e.encodeBase64)((0,t.sign)((0,e.decodeUTF8)(u),(0,e.decodeBase64)(f)))}Bs.signMessage=a;function c(u,f,d){const{playerID:h,credentials:y,message:g}=f,{metadata:x}=d.fetch(u);if(h==null||!(+h in x.players))return!0;const S=x.players[+h].credentials,C=y?!!g&&s(g,y,h):!1;return!S&&C?(d.setMetadata(u,Object.assign(Object.assign({},x),{players:Object.assign(Object.assign({},x.players),{[+h]:Object.assign(Object.assign({},x.players[+h]),{credentials:y})})})),!0):!!(!S&&!y||S&&S===y&&C)}return Bs.authenticate=c,Bs}var $1;function uk(){if($1)return Zi;$1=1;var t=Zi&&Zi.__rest||function(u,f){var d={};for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&f.indexOf(h)<0&&(d[h]=u[h]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,h=Object.getOwnPropertySymbols(u);y<h.length;y++)f.indexOf(h[y])<0&&Object.prototype.propertyIsEnumerable.call(u,h[y])&&(d[h[y]]=u[h[y]]);return d};Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.P2PHost=void 0;const e=Wy,n=ck,s=lk(),a=Hm();class c{constructor({game:f,numPlayers:d=2,matchID:h}){this.clients=new Map,this.matchID=h,(!f.name||f.name==="default")&&console.error('Using "default" as your game name.\nPlease set the `name` property of your game definition to a unique string to help avoid peer ID conflicts.');const y=(0,e.createMatch)({game:f,numPlayers:d,unlisted:!1,setupData:void 0});if("setupDataError"in y)throw new Error("setupData Error: "+y.setupDataError);this.db=new s.P2PDB,this.db.createMatch(this.matchID,y);const g=(0,e.getFilterPlayerView)(f);this.master=new n.Master(f,this.db,{send:x=>{var{playerID:S}=x,C=t(x,["playerID"]);const E=g(S,C);for(const[M]of this.clients)M.metadata.playerID===S&&M.send(E)},sendAll:x=>{for(const[S]of this.clients){const C=g(S.metadata.playerID,x);S.send(C)}}})}registerClient(f){if(!this.authenticateClient(f))return;const{playerID:h,credentials:y}=f.metadata;this.clients.set(f,f),this.master.onConnectionChange(this.matchID,h,y,!0)}authenticateClient(f){return(0,a.authenticate)(this.matchID,f.metadata,this.db)}unregisterClient(f){const{credentials:d,playerID:h}=f.metadata;this.clients.delete(f),this.master.onConnectionChange(this.matchID,h,d,!1)}processAction(f){switch(f.type){case"update":this.master.onUpdate(...f.args);break;case"chat":this.master.onChatMessage(...f.args);break;case"sync":this.master.onSync(...f.args);break}}}return Zi.P2PHost=c,Zi}var V1;function fk(){return V1||(V1=1,(function(t){var e=Xi&&Xi.__rest||function(S,C){var E={};for(var M in S)Object.prototype.hasOwnProperty.call(S,M)&&C.indexOf(M)<0&&(E[M]=S[M]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var N=0,M=Object.getOwnPropertySymbols(S);N<M.length;N++)C.indexOf(M[N])<0&&Object.prototype.propertyIsEnumerable.call(S,M[N])&&(E[M[N]]=S[M[N]]);return E},n=Xi&&Xi.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(t,"__esModule",{value:!0}),t.P2P=t.generateCredentials=void 0;const s=n(u4),a=WC(),c=eE(),u=Wy,f=uk(),d=Hm();var h=Hm();Object.defineProperty(t,"generateCredentials",{enumerable:!0,get:function(){return h.generateCredentials}});class y{constructor(){this.initialInterval=500,this.maxInterval=32e3,this.interval=this.initialInterval}cancelTask(){this.taskID&&(clearTimeout(this.taskID),delete this.taskID)}schedule(C){this.cancelTask(),this.taskID=setTimeout(()=>{this.interval<this.maxInterval&&(this.interval*=2),C()},this.interval)}clear(){this.cancelTask(),this.interval=this.initialInterval}}class g extends u.Transport{constructor(C){var{isHost:E,onError:M=()=>{},peerOptions:N={}}=C,D=e(C,["isHost","onError","peerOptions"]);super(D),this.peer=null,this.isHost=!!E,this.onError=M,this.peerOptions=N,this.game=D.game,this.retryHandler=new y,this.setCredentials(D.credentials)}get hostID(){if(!this.matchID)throw new Error("matchID must be provided");return`boardgameio-${this.gameName}-matchid-${this.matchID}`.replace(/([^A-Za-z0-9_-]|^[_-]+|[_-]+$)/g,"").replace(/([_-])[_-]+/g,"$1")}setCredentials(C){if(!C){this.privateKey=this.credentials=void 0;return}const E=(0,a.hash)((0,c.decodeUTF8)(C)).slice(0,32),{publicKey:M,secretKey:N}=a.sign.keyPair.fromSeed(E);this.credentials=(0,c.encodeBase64)(M),this.privateKey=(0,c.encodeBase64)(N)}get metadata(){return{playerID:this.playerID,credentials:this.credentials,message:this.playerID&&this.privateKey?(0,d.signMessage)(this.playerID,this.privateKey):void 0}}connect(){if(this.peer=new s.default(this.isHost?this.hostID:void 0,this.peerOptions),this.isHost){const C=new f.P2PHost({game:this.game,numPlayers:this.numPlayers,matchID:this.matchID});this.emit=E=>void C.processAction(E),C.registerClient({send:E=>void this.notifyClient(E),metadata:this.metadata}),this.peer.on("connection",E=>{C.registerClient(E),E.on("data",M=>{C.processAction(M)}),E.on("close",()=>void C.unregisterClient(E)),window&&window.addEventListener("beforeunload",()=>E.close())}),this.peer.on("error",E=>this.onError(E)),this.onConnect()}else this.peer.on("open",()=>void this.connectToHost()),this.peer.on("error",C=>{const E=C;E.type==="network"||E.type==="peer-unavailable"?this.retryHandler.schedule(()=>void this.connectToHost()):this.onError(E)})}connectToHost(){if(!this.peer)return;const C=this.peer.connect(this.hostID,{metadata:this.metadata});this.emit=E=>void C.send(E),C.on("open",()=>void this.onConnect()),C.on("data",E=>void this.notifyClient(E)),window&&window.addEventListener("beforeunload",()=>C.close())}onConnect(){this.retryHandler.clear(),this.setConnectionStatus(!0),this.requestSync()}disconnect(){this.peer&&this.peer.destroy(),this.peer=null,this.retryHandler.clear(),this.setConnectionStatus(!1)}requestSync(){this.emit&&this.emit({type:"sync",args:[this.matchID,this.playerID,this.credentials,this.numPlayers]})}sendAction(C,E){this.emit&&this.emit({type:"update",args:[E,C._stateID,this.matchID,this.playerID]})}sendChatMessage(C,E){this.emit&&this.emit({type:"chat",args:[C,E,this.credentials]})}reconnect(){this.disconnect(),this.connect()}updateMatchID(C){this.matchID=C,this.reconnect()}updatePlayerID(C){this.playerID=C,this.reconnect()}updateCredentials(C){this.setCredentials(C),this.reconnect()}}const x=(S={})=>C=>new g(Object.assign(Object.assign({},C),S));t.P2P=x})(Xi)),Xi}var ds=fk();const qp=(t,e)=>{const n=t.currentRound;!n||n.currentPlayerId===null||t.phase==="guessing"&&(n.revealSongOwnerId=n.currentPlayerId,n.revealSongIndex=n.currentSongIndex,t.timer=null,t.phase="song_reveal",e?.setPhase?.("song_reveal"))},dk=(t,e)=>{const n=t.currentRound;if(!n)return;const s=n.playOrder.length,c=(n.revealSongIndex??n.currentSongIndex??0)+1;if(n.guesses={},n.correctGuessers={},n.revealSongOwnerId=null,n.revealSongIndex=null,n.currentSongIndex=c,c<s){const u=n.playOrder[c]??null;if(n.currentPlayerId=u??null,n.currentPlayerId){t.timer=t.settings.playbackDuration,t.phase="guessing",e?.setPhase?.("guessing");return}}n.currentPlayerId=null,t.timer=null,t.phase="round_results",e?.setPhase?.("round_results")},$c=8,hk={name:"music-showdown",minPlayers:2,maxPlayers:$c,setup:()=>({phase:"lobby",players:{},settings:{playbackDuration:30,totalRounds:3},currentRound:null,totalRounds:3,completedRounds:0,timer:null,maxPlayers:$c,lobbyOrder:[]}),phases:{lobby:{start:!0,moves:{updateSettings:({G:t,playerID:e},n)=>{t.players[e]?.isHost&&(t.settings={...t.settings,...n},t.totalRounds=n.totalRounds||t.totalRounds)},kickPlayer:({G:t,playerID:e},n)=>{!t.players[e]?.isHost||!t.players[n]||n===e||(delete t.players[n],t.lobbyOrder=t.lobbyOrder.filter(a=>a!==n))},startGame:({G:t,playerID:e,events:n})=>{t.players[e]?.isHost&&(t.phase="theme_selection",n?.setPhase?.("theme_selection"))},setPlayerName:({G:t,playerID:e},n)=>{if(!e)return;const s=n.trim().slice(0,24);if(!s)return;const a=t.players[e];if(!(!a&&Object.keys(t.players).length>=t.maxPlayers)){if(a){a.name=s,a.connected=!0,t.lobbyOrder=t.lobbyOrder.filter(c=>c!==e),t.lobbyOrder.includes(e)||t.lobbyOrder.push(e);return}t.players[e]={id:e,name:s,score:0,isHost:e==="0",connected:!0},t.lobbyOrder=t.lobbyOrder.filter(c=>c!==e),t.lobbyOrder.includes(e)||t.lobbyOrder.push(e)}}},next:"theme_selection"},theme_selection:{moves:{setTheme:({G:t,playerID:e},n)=>{t.players[e]?.isHost&&(t.currentRound?t.currentRound.theme=n:t.currentRound={roundNumber:t.completedRounds+1,theme:n,songSelections:{},currentSongIndex:0,currentPlayerId:null,guesses:{},roundScores:{},playOrder:[],correctGuessers:{},guessLog:[],revealSongOwnerId:null,revealSongIndex:null})},confirmTheme:({G:t,playerID:e,events:n})=>{!t.players[e]?.isHost||!t.currentRound?.theme||(t.timer=null,t.phase="song_picking",n?.setPhase?.("song_picking"))}},next:"song_picking"},song_picking:{moves:{selectSong:({G:t,playerID:e},n)=>{const s=t.currentRound;!s||Object.entries(s.songSelections).find(([c,u])=>c!==e&&u.videoId===n.videoId)||(s.songSelections[e]=n)}},endIf:({G:t})=>{if(!t.currentRound)return!1;const n=Object.values(t.players).filter(s=>s.connected).length;return n===0?!1:Object.keys(t.currentRound.songSelections).length>=n},next:"guessing",onEnd:({G:t,ctx:e,events:n})=>{if(!t.currentRound)return;const s=Object.keys(t.currentRound.songSelections),a=e.random,c=a?.Shuffle?a.Shuffle(s):[...s].sort(()=>Math.random()-.5);if(t.currentRound.playOrder=c,t.currentRound.currentSongIndex=0,t.currentRound.guesses={},t.currentRound.correctGuessers={},t.currentRound.revealSongOwnerId=null,t.currentRound.revealSongIndex=null,c.length===0){t.currentRound.currentPlayerId=null,t.timer=null,t.phase="round_results",n?.setPhase?.("round_results");return}t.currentRound.currentPlayerId=c[0],t.timer=t.settings.playbackDuration,t.phase="guessing"}},guessing:{moves:{submitGuess:({G:t,ctx:e,playerID:n,events:s},a)=>{if(!t.currentRound||!t.currentRound.currentPlayerId||n===t.currentRound.currentPlayerId)return;const c=t.currentRound.guesses[n]??[];if(c.some(N=>N.isCorrect))return;const f=t.settings.playbackDuration-(t.timer||0),d=t.currentRound.songSelections[t.currentRound.currentPlayerId],h=!!(d&&$P(a,d.customTitle)),y={guess:a,time:f,isCorrect:h};t.currentRound.guesses[n]=[...c,y];const g=e.random,x={id:g?.UUID?g.UUID():`${t.currentRound.roundNumber}-${n}-${Date.now()}`,playerId:n,playerName:t.players[n]?.name??`Player ${n}`,guess:a,time:f,isCorrect:h,songOwnerId:t.currentRound.currentPlayerId,songOwnerName:t.currentRound.currentPlayerId&&t.players[t.currentRound.currentPlayerId]?t.players[t.currentRound.currentPlayerId].name:null,songIndex:t.currentRound.currentSongIndex};if(t.currentRound.guessLog=[...t.currentRound.guessLog,x],h){t.currentRound.correctGuessers[n]=!0;let N=!0;for(const[j,Y]of Object.entries(t.currentRound.guesses))if(j!==n){for(const J of Y)if(J.isCorrect){J.time<f&&(N=!1);break}if(!N)break}const D=HP(!0,f,t.settings.playbackDuration,N),k=t.players[n];k&&(k.score+=D,t.currentRound.roundScores[n]=(t.currentRound.roundScores[n]||0)+D)}const S=Object.values(t.players).filter(N=>N.connected),C=t.currentRound.currentPlayerId,E=S.filter(N=>N.id!==C).length,M=Object.values(t.currentRound.correctGuessers).filter(Boolean).length;if(E===0||E>0&&M>=E){qp(t,s);return}},tickTimer:({G:t,playerID:e,events:n})=>{if(t.players[e]?.isHost&&t.timer!==null){if(t.timer<=0){t.timer=0,qp(t,n);return}t.timer-=1,t.timer<=0&&(t.timer=0,qp(t,n))}}}},song_reveal:{moves:{continueReveal:({G:t,playerID:e,events:n})=>{t.players[e]?.isHost&&dk(t,n)}},next:"guessing"},round_results:{moves:{nextRound:({G:t,playerID:e,events:n})=>{t.players[e]?.isHost&&(t.completedRounds++,t.completedRounds<t.totalRounds?(t.currentRound=null,t.timer=null,t.phase="theme_selection",n?.setPhase?.("theme_selection")):(t.timer=null,t.phase="game_over",n?.setPhase?.("game_over")))}},next:"theme_selection"},game_over:{moves:{restartLobby:({G:t,playerID:e,events:n})=>{if(t.players[e]?.isHost){for(const a of Object.values(t.players))a.score=0;t.currentRound=null,t.completedRounds=0,t.timer=null,t.totalRounds=t.settings.totalRounds,t.phase="lobby",n?.setPhase?.("lobby")}},endGame:({G:t,events:e})=>{t.phase="lobby",e?.endGame?.()}}}},turn:{activePlayers:{all:"default"}}},ME="musicshowdown.identity",cs="0",aa=1,$m=Math.max(aa,$c-1),Pc="spectator",Jc=t=>`${ME}.${t}`,tg=t=>`${ME}.${t}.used`,q1=(t,e)=>{if(t==="host")return e===cs;const n=Number(e);return Number.isInteger(n)&&n>=aa&&n<=$m},fo=t=>{if(typeof window>"u")return new Set;const e=localStorage.getItem(tg(t));if(!e)return new Set;try{const n=JSON.parse(e);return new Set(n)}catch{return new Set}},ua=(t,e)=>{typeof window>"u"||localStorage.setItem(tg(t),JSON.stringify(Array.from(e)))},xf=(t,e)=>{for(let s=aa;s<=$m;s++){const a=String(s);if(!e.has(a))return e.add(a),ua(t,e),a}const n=String(Math.min($m,Math.max(aa,e.size+aa)));return e.add(n),ua(t,e),n},pk=(t,e,n)=>{if(e==="host")return{playerID:cs,credentials:ds.generateCredentials(),role:e,playerName:n};const s=fo(t);return{playerID:xf(t,s),credentials:ds.generateCredentials(),role:e,playerName:n}};function ng(t){if(typeof window>"u")return null;const e=localStorage.getItem(Jc(t));if(!e)return null;try{return JSON.parse(e)}catch{return null}}function PE(t){return{playerID:Pc,credentials:"",role:"spectator",playerName:t}}function mk(t,e,n){if(typeof window>"u")return{playerID:n??String(aa),credentials:ds.generateCredentials(),role:"peer",playerName:e};const s=fo(t);let a=n;a&&(s.has(a)?a=void 0:(s.add(a),ua(t,s)));const c={playerID:a??xf(t,s),credentials:ds.generateCredentials(),role:"peer",playerName:e};return s.add(c.playerID),ua(t,s),localStorage.setItem(Jc(t),JSON.stringify(c)),c}function yk(t,e){if(typeof window>"u"||!e||e===cs)return;const n=fo(t);n.delete(e)&&ua(t,n)}function NE(t,e,n){const s=e==="spectator"?"peer":e;if(typeof window>"u")return{playerID:s==="host"?cs:String(aa),credentials:ds.generateCredentials(),role:s,playerName:n};const a=Jc(t),c=ng(t),u=fo(t);if(c){let d=c.playerID,h=c.credentials;q1(c.role,c.playerID)||(u.delete(c.playerID),d=c.role==="host"?cs:xf(t,u),h=ds.generateCredentials());const y=c.role==="host"?"host":s,g=y==="host"?cs:d,x={...c,role:y,playerName:n||c.playerName,playerID:g,credentials:h};return q1(x.role,x.playerID)||(u.delete(x.playerID),x.playerID=x.role==="host"?cs:xf(t,u),x.credentials=ds.generateCredentials()),localStorage.setItem(a,JSON.stringify(x)),x}const f=pk(t,s,n);if(s==="peer"){const d=fo(t);d.add(f.playerID),ua(t,d)}return localStorage.setItem(a,JSON.stringify(f)),f}function gk(t,e){const n=e.trim().slice(0,24);if(typeof window>"u")return{playerID:cs,credentials:ds.generateCredentials(),role:"host",playerName:n||e||"Player"};const s=Jc(t),a=fo(t),c=ng(t);c&&c.playerID!==cs&&(a.delete(c.playerID),ua(t,a));const u=n||c?.playerName||"Player",f={playerID:cs,credentials:ds.generateCredentials(),role:"host",playerName:u};localStorage.setItem(s,JSON.stringify(f));try{sessionStorage.setItem("musicshowdown.lastRole","host")}catch{}return f}function vk(t){typeof window>"u"||(localStorage.removeItem(Jc(t)),localStorage.removeItem(tg(t)))}function Vm(t){return[t]}function yc(t,e){const n=t&&Number.isFinite(t)&&t>0?Math.floor(t):DE;return Math.max(0,n-e)}function Cu(t,e=DE){return Number.isNaN(t)||t<0?0:Math.min(Math.floor(t),e)}function qm(t){const e=Math.max(0,Math.floor(t)),n=Math.floor(e/60),s=e%60;return n===0?`${e}s`:`${n}:${s.toString().padStart(2,"0")}`}const Qa=["1960s","1970s","1980s","1990s","2000s","2010s","2020s","Game Soundtracks","Movie Soundtracks","Alternative Rock","FIFA Soundtracks","R&B Grooves","Classic Hip-Hop","Indie Favorites","Top 40 Hits","Chill Electronic","Country Classics","Classic Rock","Modern Country","Reggae Classics","Funk Essentials"],DE=600;function xk({headerControls:t,currentRound:e,settings:n,themeValue:s,isHost:a,handleThemeChange:c,handleRandomTheme:u,mySelection:f,moves:d,effectivePlayerId:h,playerLookup:y,toast:g}){const[x,S]=R.useState(null),[C,E]=R.useState(""),[M,N]=R.useState(0),[D,k]=R.useState(!1),j=R.useRef(null),[Y,J]=R.useState(()=>yc(null,n.playbackDuration)),G=s.trim().length>0,X=e?.songSelections??{},pe=R.useMemo(()=>Array.from(y.values()).filter(U=>U.connected),[y]),xe=R.useCallback(()=>{const U=j.current?.getDuration?.(),te=yc(U,n.playbackDuration);J($=>$===te?$:te),N($=>{const Ee=Cu($,te);return Ee!==$?(j.current?.seekTo?.(Ee,!0),Ee):$})},[n.playbackDuration]);R.useEffect(()=>{xe()},[xe]);const Se=R.useCallback(U=>{S(U),E(ef(U.title)),N(0),k(!1),j.current=null,J(yc(null,n.playbackDuration))},[n.playbackDuration]),we=R.useCallback(()=>{const U=C.trim();if(!x||!U||!e)return;const te=Object.entries(e.songSelections??{}).find(([$,Ee])=>$!==h&&Ee.videoId===x.id);if(te){const[$]=te,Ke=y.get($)?.name??"Another player";g({title:"Song already taken",description:`${Ke} has already locked this song. Pick a different one.`,variant:"destructive"});return}j.current?.stopVideo?.(),d.selectSong?.({videoId:x.id,originalTitle:x.title,customTitle:ef(C),thumbnail:x.thumbnail,startSeconds:M}),g({title:"Song selected",description:"Waiting for other players..."}),S(null),E(""),N(0),k(!1),j.current=null,J(yc(null,n.playbackDuration))},[C,e,h,d,y,x,n.playbackDuration,M,g]),Ce=R.useCallback(()=>{const U=j.current;if(!U)return;U.getPlayerState?.()===window.YT?.PlayerState?.PLAYING?(U.pauseVideo?.(),k(!1)):(U.seekTo?.(M,!0),U.playVideo?.(),k(!0))},[M,D]),ge=R.useCallback(U=>{j.current=U;const te=U.getDuration?.(),$=yc(te,n.playbackDuration);J($),N(Ee=>{const Ke=Cu(Ee,$);return Ke!==Ee?(U.seekTo?.(Ke,!0),Ke):Ee}),U.seekTo?.(M,!0),D?U.playVideo?.():U.pauseVideo?.()},[D,n.playbackDuration,M]),De=R.useCallback(()=>{k(!1)},[]);return b.jsxs("div",{className:"min-h-screen bg-background",children:[t,b.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:b.jsxs("div",{className:"space-y-6",children:[b.jsx(tn,{className:"bg-primary/10 border-primary",children:b.jsxs(un,{children:[b.jsx(fn,{className:"font-heading text-2xl mb-1",children:"Pick Your Song"}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Theme:"," ",b.jsx("span",{className:"font-semibold text-foreground",children:e?.theme??"Pending"})]})]})}),!G&&!f&&b.jsx(tn,{children:b.jsx(yn,{className:"py-8 text-center text-sm text-muted-foreground",children:a?"Set a theme to unlock song selection.":"Waiting for the host to choose a theme."})}),G&&!f&&b.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,1.5fr)_minmax(0,1fr)]",children:[b.jsxs(tn,{className:"lg:col-span-1",children:[b.jsx(un,{children:b.jsx(fn,{className:"font-heading",children:"Search YouTube"})}),b.jsx(yn,{children:b.jsx(GN,{onSelect:Se,selectedVideoId:x?.id})})]}),b.jsxs(tn,{className:"self-start",children:[b.jsxs(un,{children:[b.jsx(fn,{className:"font-heading",children:"Selected Song"}),b.jsx(qr,{children:"Fine-tune the title before locking it in."})]}),b.jsx(yn,{children:x?b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("div",{className:"flex items-center justify-between gap-2",children:b.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Preview"})}),b.jsx("div",{className:"relative overflow-hidden rounded-lg border",children:b.jsx(wm,{videoId:x.id,autoplay:!1,startSeconds:M,interactive:!0,onReady:ge,onEnd:De})})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{children:[b.jsx(ta,{htmlFor:"song-title",children:"Song title to guess"}),b.jsx(qs,{id:"song-title",value:C,onChange:U=>E(U.target.value),className:"mt-2",placeholder:"Edit the title if needed...","data-testid":"input-song-title"}),b.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"This is what other players will try to guess."})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx(ta,{htmlFor:"start-seconds",children:"Start playback at"}),b.jsx("span",{className:"text-xs text-muted-foreground",children:qm(M)})]}),b.jsx(af,{id:"start-seconds",min:0,max:Y,step:1,value:Vm(M),onValueChange:U=>{const te=Cu(U[0]??0,Y);N(te),j.current?.seekTo?.(te,!0)},"data-testid":"slider-start-seconds"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(qs,{type:"number",min:0,max:Y,value:M,onChange:U=>{const te=Cu(Number(U.target.value),Y);N(te),j.current?.seekTo?.(te,!0)},className:"w-24","data-testid":"input-start-seconds"}),b.jsx(wn,{type:"button",variant:"secondary",onClick:Ce,disabled:!j.current,"data-testid":"button-preview",children:D?b.jsxs(b.Fragment,{children:[b.jsx(ZO,{className:"mr-2 h-4 w-4"})," Pause Preview"]}):b.jsxs(b.Fragment,{children:[b.jsx(WO,{className:"mr-2 h-4 w-4"})," Play Preview"]})})]})]}),b.jsx(wn,{onClick:we,className:"w-full",disabled:!C.trim(),"data-testid":"button-confirm-song",children:"Confirm Selection"})]})]}):b.jsx("div",{className:"flex min-h-[220px] items-center justify-center text-center text-sm text-muted-foreground",children:"Choose a song from the search results to review its details here."})})]})]}),f&&b.jsxs(tn,{children:[b.jsx(un,{children:b.jsx(fn,{className:"font-heading",children:"You are all set!"})}),b.jsxs(yn,{className:"space-y-4",children:[b.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start",children:[f.thumbnail?b.jsx("div",{className:"relative w-full max-w-[200px] overflow-hidden rounded-lg border bg-muted sm:w-48",children:b.jsx("img",{src:f.thumbnail,alt:f.customTitle||f.originalTitle,className:"h-full w-full object-cover"})}):null,b.jsxs("div",{className:"space-y-1",children:[b.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Selected song"}),b.jsx("div",{className:"text-lg font-semibold leading-snug",children:f.customTitle||f.originalTitle}),(f.startSeconds??0)>0&&b.jsxs("div",{className:"text-sm text-muted-foreground",children:["Starts at ",qm(f.startSeconds??0)]}),f.customTitle&&f.originalTitle&&f.customTitle.trim()!==f.originalTitle.trim()&&b.jsxs("div",{className:"text-sm text-muted-foreground",children:["Original title: ",f.originalTitle]})]})]}),b.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-waiting-selection",children:"Waiting for other players to finish picking."}),pe.length>0&&b.jsxs("div",{className:"space-y-3",children:[b.jsx("p",{className:"text-sm font-medium text-foreground",children:"Player lock-in status"}),b.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:pe.map(U=>{const te=!!X[U.id],$=U.name?.trim()||`Player ${U.id}`;return b.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-muted/50 px-3 py-2","data-testid":`player-lock-status-${U.id}`,children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Xa,{playerId:U.id,playerName:U.name,size:"sm"}),b.jsx("span",{className:"text-sm font-medium text-foreground",children:$})]}),te?b.jsxs(Ac,{variant:"secondary",className:"flex items-center gap-1 text-xs",children:[b.jsx(h_,{className:"h-3 w-3"}),"Locked In"]}):b.jsxs(Ac,{variant:"outline",className:"flex items-center gap-1 text-xs",children:[b.jsx(p_,{className:"h-3 w-3"}),"Waiting"]})]},U.id)})})]})]})]}),!G&&!f&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[b.jsx("p",{className:"text-sm text-muted-foreground",children:"Need inspiration? Pick a suggestion."}),b.jsx(wn,{variant:"secondary",size:"sm",onClick:u,disabled:!a,"data-testid":"button-random-theme",children:"Surprise Me"})]}),b.jsx("div",{className:"flex flex-wrap gap-2",children:Qa.map(U=>b.jsx(wn,{type:"button",variant:"outline",size:"sm",onClick:()=>c(U),disabled:!a,className:"whitespace-nowrap",children:U},U))})]})]})})]})}function bk({G:t,ctx:e,moves:n,playerID:s,matchID:a,identity:c,isHost:u,isActive:f,isConnected:d,updatePlayerName:h,promoteToHost:y,claimSeat:g,releaseSeat:x}){const{toast:S}=jS(),C=e.phase??t.phase,E=t.currentRound??null,M=t.settings,N=t.timer,D=N??0,[k,j]=R.useState(null),[Y,J]=R.useState({}),[G,X]=R.useState(M),[pe,xe]=R.useState(!1),Se=R.useRef(0),we=R.useCallback(()=>{X(M)},[M]);R.useEffect(()=>{we()},[we]);const Ce=R.useMemo(()=>{const ee=s??c.playerID;return!ee||c.role==="spectator"||ee===Pc?null:ee},[s,c.playerID,c.role]),ge=b.jsx("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:b.jsx(Cy,{})}),De=R.useMemo(()=>u?"You are hosting this match. Leaving will disconnect everyone and all game state will be lost.":"Leaving will disconnect you from the match. You will not be able to join back.",[u]);R.useEffect(()=>{const ee=_=>{_.preventDefault(),_.returnValue=De};return window.addEventListener("beforeunload",ee),()=>window.removeEventListener("beforeunload",ee)},[De]),WA({shouldBlockFn:()=>typeof window>"u"?!1:!window.confirm(De),enableBeforeUnload:!1});const U=R.useRef({hadPresence:!1,pendingRelease:!1}),te=R.useCallback(()=>{if(C!=="lobby")return;const ee=Ce;if(!ee)return;const _=c.playerName.trim();if(!_||U.current.pendingRelease)return;const A=t.players?.[ee];(!A||A.name!==_||!A.connected)&&n.setPlayerName?.(_)},[t.players,c.playerName,n,C,Ce]);R.useEffect(()=>{te()},[te]);const $=Object.values(t.players??{}).map(ee=>ee).sort((ee,_)=>ee.id.localeCompare(_.id)),Ee=E?.theme??"",Ke=Ee.trim().length>0,I=E?.roundScores??{},ie=E?.guesses??{},de=E?.correctGuessers??{},be=E?.guessLog??[],ve=E?.currentPlayerId??null,Te=E?.revealSongOwnerId??null,ke=E?.revealSongIndex??null,vt=C==="song_reveal"&&ke!==null&&ke!==void 0?ke:E?.currentSongIndex??null,B=ve?E?.songSelections?.[ve]??null:null,K=Te?E?.songSelections?.[Te]??null:null,fe=Ce?E?.songSelections?.[Ce]??null:null,je=Ce?ie[Ce]??[]:[],He=je[je.length-1]??null,Ue=!!(Ce&&de[Ce]),xt=!!(C==="guessing"&&ve&&Ce&&ve!==Ce&&!Ue&&(N===null||N>0)),yt=t.lobbyOrder??[],Vt=t.maxPlayers??$c,bt=R.useMemo(()=>{const ee=new Map;return $.forEach(_=>ee.set(_.id,_)),ee},[$]);R.useEffect(()=>{if(C!=="lobby"){U.current.hadPresence=!1,U.current.pendingRelease=!1;return}if(c.role!=="peer"||!Ce){U.current.hadPresence=!1,U.current.pendingRelease=!1;return}if(bt.get(Ce)){U.current.hadPresence=!0,U.current.pendingRelease=!1;return}!U.current.hadPresence||U.current.pendingRelease||(U.current.pendingRelease=!0,S({title:"Removed from lobby",description:"The host removed you from the room.",variant:"destructive"}),x())},[Ce,c.role,C,bt,x,S]);const Et=R.useMemo(()=>{const ee=$.filter(_=>_.connected);return ee.sort((_,A)=>{const T=yt.indexOf(_.id),v=yt.indexOf(A.id);return T===-1&&v===-1?_.id.localeCompare(A.id):T===-1?1:v===-1?-1:T-v}),ee},[yt,$]),At=R.useRef(new Set),qt=R.useRef(new Map);R.useEffect(()=>{if(c.role==="host"){At.current.clear(),qt.current.clear();return}if(c.role==="spectator"){const ee=At.current,_=new Set($.filter(v=>v.connected).map(v=>v.id)),A=()=>{for(let v=1;v<Vt;v+=1){const P=String(v);if(!_.has(P)&&!ee.has(P))return P}return null};let T=A();!T&&ee.size>0&&(ee.clear(),T=A()),T&&(ee.add(T),g(T));return}c.role==="peer"&&(At.current.clear(),qt.current.clear())},[c.role,$,Vt,g]),R.useEffect(()=>{if(c.role!=="peer")return;const ee=c.playerID;if(!ee||ee===Pc)return;if(bt.get(ee)?.connected){qt.current.delete(ee);return}const A=qt.current.get(ee)??0;if(A>=Vt)return;const T=window.setTimeout(()=>{if(bt.get(ee)?.connected){qt.current.delete(ee);return}qt.current.set(ee,A+1),At.current.delete(ee),x()},4e3);return()=>window.clearTimeout(T)},[c.role,c.playerID,bt,x,Vt]),R.useEffect(()=>{if(c.role!=="peer"||d)return;const ee=c.playerID;if(!ee||ee===Pc)return;const _=window.setTimeout(()=>{At.current.delete(ee),qt.current.delete(ee),x()},3e3);return()=>window.clearTimeout(_)},[c.role,c.playerID,d,x]),R.useEffect(()=>{if(C!=="lobby"||c.role!=="peer"||!Ce)return;const ee=c.playerName.trim();if(!ee)return;const _=()=>{try{n.setPlayerName?.(ee)}catch(v){console.warn("Failed to register player name",v)}},A=bt.get(Ce);if(A?.connected){(!A.name||A.name.trim()!==ee)&&_();return}_();const T=window.setInterval(()=>{const v=bt.get(Ce);if(v?.connected){(!v.name||v.name.trim()!==ee)&&_(),window.clearInterval(T);return}_()},1e3);return()=>window.clearInterval(T)},[C,c.role,c.playerName,Ce,bt,n]);const Mn=R.useMemo(()=>{const ee=yt.map(v=>t.players[v]).filter(v=>!!v),_=new Set(ee.map(v=>v.id)),A=$.filter(v=>!_.has(v.id)),T=[...ee,...A];return Array.from({length:Vt},(v,P)=>T[P]??null)},[t.players,yt,Vt,$]),st=R.useMemo(()=>$.map(ee=>({player:ee,roundScore:I[ee.id]??0})).sort((ee,_)=>_.roundScore-ee.roundScore),[$,I]),ct=R.useMemo(()=>[...$].sort((ee,_)=>_.score-ee.score),[$]),Ft=Et.length,Tn=Math.max(Vt-Ft,0),Yn=R.useCallback(ee=>{u&&n.setTheme?.(ee)},[u,n]),Rn=R.useCallback(()=>{if(!u)return;const ee=(E?.theme??"").trim(),_=Qa.length>1?Qa.filter(T=>T!==ee):Qa,A=_[Math.floor(Math.random()*_.length)]??Qa[0];A&&Yn(A)},[E?.theme,Yn,u]),jr=R.useMemo(()=>E?vt==null?[]:be.filter(ee=>ee.songIndex===vt).sort((ee,_)=>ee.time-_.time):[],[vt,E,be]),Xs=ee=>Number.isNaN(ee)||!Number.isFinite(ee)?"0s":`${Math.max(0,Math.round(ee))}s`,Qs=ee=>ee.length===0?b.jsx("div",{className:"flex h-full items-center justify-center px-6 py-12",children:b.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"No guesses yet for this song."})}):b.jsx(ky,{className:"h-[360px] px-6 pb-6",children:b.jsx("div",{className:"space-y-4",children:ee.map(_=>{const A=Ce&&_.playerId===Ce,T=_.isCorrect&&!A;return b.jsxs("div",{className:$t("flex flex-col gap-2",A?"items-end":"items-start"),children:[b.jsxs("div",{className:$t("flex items-start gap-3",A?"flex-row-reverse":"flex-row"),children:[b.jsx(Xa,{playerId:_.playerId,playerName:_.playerName,size:"sm"}),b.jsxs("div",{className:$t("space-y-1",A?"text-right":"text-left"),children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[b.jsx("span",{children:A?"You":_.playerName}),_.isCorrect&&b.jsx(Ac,{children:"Correct"})]}),b.jsx("div",{className:$t("max-w-xs rounded-md px-3 py-2 text-sm",A?"bg-primary text-primary-foreground":"bg-muted/40 text-muted-foreground"),children:T?b.jsx("span",{className:"italic",children:"Correct guess locked in"}):b.jsxs(b.Fragment,{children:['"',_.guess,'"']})})]})]}),b.jsx("span",{className:"text-xs text-muted-foreground",children:Xs(_.time)})]},_.id)})})}),Zs=R.useCallback(()=>{if(!u||C!=="song_picking"&&C!=="guessing"||N===null||N<=0)return;const ee=window.setInterval(()=>{n.tickTimer?.()},1e3);return()=>window.clearInterval(ee)},[u,n,C,N]);R.useEffect(()=>Zs(),[Zs]);const Gn=u?G:M,Xt=R.useMemo(()=>{if(C!=="guessing"||!E)return"inactive";const ee=E.currentSongIndex??E.revealSongIndex??0;return`${E.roundNumber}:${ee}`},[E,C]),gn=Y[Xt]??"",dn=R.useCallback(ee=>{J(_=>({..._,[Xt]:ee}))},[Xt]),xs=R.useCallback(()=>{J(ee=>{if(ee[Xt]===void 0)return ee;const _={...ee};return delete _[Xt],_})},[Xt]),Xr=R.useCallback(()=>{const _=(k??c.playerName).trim().slice(0,24);_&&(h(_),C==="lobby"&&n.setPlayerName?.(_),j(null))},[c.playerName,n,C,k,h]),Qr=R.useCallback(()=>{const ee=gn.trim();!xt||!ee||(n.submitGuess?.(ee),xs())},[xt,gn,n,xs]);R.useEffect(()=>{Se.current=0},[Xt]),R.useEffect(()=>{if(!Ce)return;const _=(ie[Ce]??[]).filter(A=>A.isCorrect).length;_>Se.current&&XN(),Se.current=_},[Ce,ie]);const Zr=R.useCallback(()=>{u&&n.continueReveal?.()},[u,n]),bs=R.useCallback(()=>{n.nextRound?.(),J({})},[n]),Js=R.useCallback(()=>{n.restartLobby?.(),J({})},[n]),Lr=R.useCallback(()=>{n.endGame?.()},[n]),Bn=R.useCallback(ee=>{u&&X(_=>({..._,...ee}))},[u]),Kn=R.useCallback(ee=>{if(!u)return;X(A=>({...A,...ee}));const _=Object.entries(ee).filter(([A,T])=>T!==void 0&&M[A]!==T);_.length&&n.updateSettings?.(Object.fromEntries(_))},[u,n,M]),Jr=async()=>{try{await navigator.clipboard.writeText(a),xe(!0),S({title:"Room code copied!",description:"Share it with your friends to join the game"}),setTimeout(()=>xe(!1),2e3)}catch{S({title:"Unable to copy room code",variant:"destructive"})}},Ws=()=>{if(!u){S({title:"Waiting for host",description:"Only the host can start the game"});return}if(Ft<2){S({title:"Need more players",description:"At least 2 players required to start",variant:"destructive"});return}n.startGame?.()},Wr=ee=>_=>Bn({[ee]:_[0]}),Ur=ee=>_=>Kn({[ee]:_[0]});if(C==="lobby")return b.jsxs("div",{className:"min-h-screen bg-background",children:[ge,b.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-5xl space-y-8",children:[b.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("h1",{className:"text-3xl font-heading font-bold",children:b.jsx(oy,{to:"/music-showdown",className:"inline-flex items-center text-left text-inherit transition-colors hover:text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 focus-visible:ring-offset-background",children:"Music Showdown"})}),b.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground",children:[b.jsx(Ac,{variant:"secondary",className:"uppercase",children:c.role}),b.jsxs("span",{children:["Signed in as ",c.playerName]})]})]}),b.jsxs("div",{className:"flex items-center gap-3 rounded-lg border bg-muted/40 px-4 py-3",children:[b.jsx("div",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wide",children:"Room"}),b.jsx("code",{className:"text-2xl font-mono font-semibold tracking-wider text-primary","data-testid":"text-room-code",children:a}),b.jsx(wn,{variant:"ghost",size:"icon",onClick:Jr,"data-testid":"button-copy-code",children:pe?b.jsx(DO,{className:"h-5 w-5 text-secondary"}):b.jsx($O,{className:"h-5 w-5"})})]})]}),b.jsxs("div",{className:"grid gap-6 lg:grid-cols-[2fr_1.1fr]",children:[b.jsxs(tn,{className:"h-full",children:[b.jsxs(un,{children:[b.jsxs(fn,{className:"font-heading",children:["Players (",Ft,"/",Vt,")"]}),b.jsx(qr,{children:Ft===0?"Waiting for players to join...":`${Ft} connected, ${Tn} open slot${Tn===1?"":"s"}`})]}),b.jsx(yn,{children:b.jsx("div",{className:"space-y-2",children:Mn.map((ee,_)=>b.jsx("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50","data-testid":ee?`player-card-${ee.id}`:`player-card-empty-${_}`,children:ee?b.jsxs(b.Fragment,{children:[b.jsx(Xa,{playerId:ee.id,playerName:ee.name}),b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"font-semibold",children:ee.name}),!ee.connected&&b.jsx("div",{className:"text-xs text-muted-foreground",children:"Not connected"})]}),b.jsx("div",{className:"flex items-center gap-2",children:b.jsx("div",{className:"flex items-center gap-1",children:ee.isHost?b.jsxs(Ac,{variant:"default",className:"gap-1","data-testid":"badge-host",children:[b.jsx(qO,{className:"w-3 h-3"}),"Host"]}):u&&s!==ee.id?b.jsx(wn,{variant:"ghost",size:"icon",className:"h-6 w-6 text-muted-foreground hover:text-destructive",onClick:A=>{A.stopPropagation(),n.kickPlayer?.(ee.id)},title:`Kick ${ee.name}`,children:b.jsx(i3,{className:"w-3.5 h-3.5"})}):null})})]}):b.jsx("div",{className:"flex items-center gap-3 w-full justify-between",children:b.jsxs("div",{className:"flex gap-3 items-center",children:[b.jsx("div",{className:"w-8 h-8 rounded-full bg-muted"}),b.jsxs("span",{className:"text-sm text-muted-foreground",children:["Waiting for player ",_+1]})]})})},ee?ee.id:`empty-${_}`))})})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs(tn,{children:[b.jsxs(un,{children:[b.jsx(fn,{className:"font-heading text-lg",children:"Your Lobby Controls"}),b.jsx(qr,{children:u?"Update your name and start the game once everyone is ready.":"Update your name while the host prepares the game."})]}),b.jsxs(yn,{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(ta,{htmlFor:"player-name",children:"Display name"}),b.jsx(qs,{id:"player-name",placeholder:"Your name",value:k??c.playerName,onChange:ee=>j(ee.target.value),onBlur:Xr,onKeyDown:ee=>ee.key==="Enter"&&Xr(),"data-testid":"input-player-name"}),b.jsx("p",{className:"text-xs text-muted-foreground",children:"Shared with other players in the lobby."})]}),b.jsx(wn,{onClick:Ws,className:"w-full",size:"lg","data-testid":"button-start-game",disabled:!u||Ft<2,children:"Start Game"}),c.role==="spectator"&&b.jsx("p",{className:"text-center text-xs text-muted-foreground",children:"Lobby is full. We'll seat you automatically when a spot opens."}),(!u||Ft<2)&&b.jsx("p",{className:"text-center text-xs text-muted-foreground",children:u?"Need at least 2 players to start.":"Only the host can start the game."})]})]}),b.jsxs(tn,{children:[b.jsxs(un,{className:"pb-3",children:[b.jsx(fn,{className:"font-heading text-lg",children:"Game Settings"}),b.jsx(qr,{children:"Hosts can tweak settings before the game begins."})]}),b.jsxs(yn,{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx(ta,{children:"Number of rounds"}),b.jsx("span",{className:"text-xs text-muted-foreground",children:Gn.totalRounds})]}),b.jsx(af,{min:1,max:10,step:1,value:Vm(Gn.totalRounds),onValueChange:Wr("totalRounds"),onValueCommit:Ur("totalRounds"),disabled:!u})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx(ta,{htmlFor:"playback-duration",children:"Playback duration"}),b.jsxs("span",{className:"text-xs text-muted-foreground",children:[Gn.playbackDuration,"s"]})]}),b.jsx(af,{id:"playback-duration",min:30,max:300,step:5,value:Vm(Gn.playbackDuration),onValueChange:Wr("playbackDuration"),onValueCommit:Ur("playbackDuration"),disabled:!u})]})]})]})]})]})]})]});if(C==="theme_selection")return b.jsxs("div",{className:"min-h-screen bg-background",children:[ge,b.jsx("div",{className:"container mx-auto px-4 py-8 max-w-3xl",children:b.jsxs(tn,{className:"mb-6",children:[b.jsxs(un,{children:[b.jsx(fn,{className:"font-heading text-2xl",children:"Set the Theme"}),b.jsx(qr,{children:"Waiting on the host to set the theme for this round."})]}),b.jsxs(yn,{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx(ta,{htmlFor:"theme",children:"Theme for this round"}),b.jsx(qs,{id:"theme",placeholder:"e.g., 80s Rock, Movie Soundtracks, Summer Vibes...",value:Ee,onChange:ee=>u&&n.setTheme?.(ee.target.value),className:"text-lg mt-2","data-testid":"input-theme",disabled:!u})]}),!Ke&&b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[b.jsx("p",{className:"text-sm text-muted-foreground",children:"Need inspiration? Pick a suggestion."}),b.jsx(wn,{variant:"secondary",size:"sm",onClick:Rn,disabled:!u,"data-testid":"button-random-theme",children:"Surprise Me"})]}),b.jsx("div",{className:"flex flex-wrap gap-2",children:Qa.map(ee=>b.jsx(wn,{type:"button",variant:"outline",size:"sm",onClick:()=>Yn(ee),disabled:!u,className:"whitespace-nowrap",children:ee},ee))})]}),u?b.jsx(wn,{onClick:()=>n.confirmTheme?.(),disabled:!Ee.trim(),className:"w-full","data-testid":"button-confirm-theme",children:"Confirm Theme"}):b.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-waiting-theme",children:"Waiting for the host to confirm the theme..."})]})]})})]});if(C==="song_picking")return b.jsx(xk,{headerControls:ge,currentRound:E,settings:M,themeValue:Ee,isHost:u,handleThemeChange:Yn,handleRandomTheme:Rn,mySelection:fe,moves:n,effectivePlayerId:Ce,playerLookup:bt,toast:S});const ma=!!(Ce&&ve===Ce),Pn=ma?"You selected this song.":Ue?"Correct! Waiting for next song...":"Type your guess...";if(C==="guessing"&&B){const ee=(B.customTitle||B.originalTitle||"").trim(),_=ee?Array.from(ee).map(T=>/\s/.test(T)?" ":"_").join(""):"",A=M.playbackDuration>0?1-D/M.playbackDuration:0;return b.jsxs("div",{className:"min-h-screen bg-background",children:[ge,b.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-5xl space-y-6",children:[b.jsx(tn,{className:"bg-accent/10 border-accent",children:b.jsx(un,{children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx(fn,{className:"font-heading text-2xl",children:"Guess the Song!"}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:[$.find(T=>T.id===ve)?.name??"Mystery player","'s selection"]})]}),b.jsx(MN,{timeRemaining:D,totalTime:M.playbackDuration,variant:"accent"})]})})}),b.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,0.6fr)_minmax(0,1fr)]",children:[b.jsxs("div",{className:"space-y-6",children:[b.jsxs(tn,{children:[b.jsx(un,{className:"pb-0",children:b.jsx(fn,{className:"font-heading text-lg",children:"Now Playing"})}),b.jsx(yn,{className:"pt-4",children:b.jsx("div",{className:"rounded-lg border bg-muted/30 p-2",children:b.jsx(wm,{videoId:B.videoId,autoplay:!0,preventPause:!0,startSeconds:B.startSeconds??0,timerProgress:A})})})]}),b.jsxs(tn,{children:[b.jsx(un,{children:b.jsx(fn,{className:"font-heading text-lg",children:"Player Status"})}),b.jsx(yn,{children:b.jsx("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-3 xl:grid-cols-4",children:$.map(T=>{const v=ie[T.id]??[],P=v.length>0,V=T.id===ve,q=!!de[T.id],ae=v[v.length-1];return b.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-lg bg-muted/50 p-3","data-testid":`player-status-${T.id}`,children:[b.jsx(Xa,{playerId:T.id,playerName:T.name,size:"sm"}),b.jsx("div",{className:"text-xs font-medium text-center",children:T.name}),V?b.jsx(y_,{className:"h-4 w-4 text-primary"}):q?b.jsx(h_,{className:"h-4 w-4 text-secondary"}):P?b.jsx(m_,{className:"h-4 w-4 text-muted-foreground"}):b.jsx(p_,{className:"h-4 w-4 text-muted-foreground"}),!V&&b.jsxs("div",{className:"text-center text-[10px] text-muted-foreground",children:[q?"Correct":P?"Guessing":"Waiting",ae&&!q?` (${ae.guess})`:""]})]},T.id)})})})]})]}),b.jsxs(tn,{className:"flex min-h-[520px] flex-col",children:[b.jsxs(un,{className:"space-y-4",children:[b.jsxs(fn,{className:"flex items-center gap-2 font-heading text-lg",children:[b.jsx(kb,{className:"h-4 w-4"})," Guess Log"]}),_&&b.jsx("div",{className:"rounded-lg border border-dashed border-muted-foreground/40 bg-muted/30 px-4 py-3 text-center",children:b.jsx("div",{className:"font-mono text-lg uppercase tracking-[0.35em] text-muted-foreground",children:_})})]}),b.jsx(yn,{className:"flex-1 overflow-hidden px-0 pb-0",children:Qs(jr)}),b.jsx("div",{className:"border-t bg-muted/20 p-6",children:b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[b.jsx(qs,{placeholder:Pn,value:gn,onChange:T=>dn(T.target.value),onKeyDown:T=>{T.key!=="Enter"||T.nativeEvent.isComposing||(T.preventDefault(),Qr())},className:"text-lg","data-testid":"input-guess",disabled:!xt}),b.jsx(wn,{onClick:Qr,disabled:!xt||!gn.trim(),"data-testid":"button-submit-guess",className:"sm:w-auto",children:"Submit"})]}),!xt&&ma&&b.jsx("p",{className:"text-sm text-muted-foreground",children:"You can't guess your own song."}),!xt&&Ue&&b.jsx("p",{className:"text-sm text-muted-foreground",children:"Great job! You'll rejoin next round."}),He&&!Ue&&b.jsxs("p",{className:"text-xs text-muted-foreground",children:['Last guess: "',He.guess,'" (',Math.max(0,Math.ceil(He.time)),"s)"]})]})})]})]})]})]})}if(C==="song_reveal"&&K&&Te!==null){const ee=$.find(A=>A.id===Te),_=vt!=null&&K?1:void 0;return b.jsxs("div",{className:"min-h-screen bg-background",children:[ge,b.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl space-y-6",children:[b.jsx(tn,{className:"bg-secondary/10 border-secondary",children:b.jsx(un,{children:b.jsxs("div",{className:"flex flex-col gap-2 text-center",children:[b.jsx(fn,{className:"font-heading text-3xl",children:"Song Revealed!"}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:[ee?.name??"Mystery player","'s selection has been uncovered."]})]})})}),b.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,0.9fr)_minmax(0,1.1fr)]",children:[b.jsxs(tn,{className:"overflow-hidden",children:[b.jsx(un,{className:"pb-0",children:b.jsx(fn,{className:"font-heading text-lg",children:"Now Revealed"})}),b.jsxs(yn,{className:"pt-4 space-y-4",children:[b.jsx("div",{className:"rounded-lg border bg-muted/30 p-2",children:b.jsx(wm,{videoId:K.videoId,autoplay:!1,startSeconds:K.startSeconds??0,timerProgress:_,interactive:!0})}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Song Title"}),b.jsx("h2",{className:"text-xl font-bold leading-tight",children:K.customTitle||K.originalTitle})]}),K.thumbnail&&b.jsx("div",{className:"relative w-full overflow-hidden rounded-lg border bg-muted",children:b.jsx("img",{src:K.thumbnail,alt:K.customTitle||K.originalTitle,className:"w-full object-cover"})}),(K.startSeconds??0)>0&&b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Playback started at ",qm(K.startSeconds??0),"."]}),K.customTitle&&K.originalTitle&&K.customTitle.trim()!==K.originalTitle.trim()&&b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Original title: ",K.originalTitle]})]})]})]}),b.jsxs(tn,{className:"flex min-h-[520px] flex-col",children:[b.jsxs(un,{children:[b.jsxs(fn,{className:"flex items-center gap-2 font-heading text-lg",children:[b.jsx(kb,{className:"h-4 w-4"})," Guess Log"]}),b.jsx(qr,{children:"How everyone fared on this song."})]}),b.jsx(yn,{className:"flex-1 overflow-hidden px-0 pb-0",children:Qs(jr)}),b.jsx("div",{className:"border-t bg-muted/20 p-6",children:b.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[ee?b.jsxs("p",{children:["This song was selected by ",b.jsx("span",{className:"font-semibold",children:ee.name}),"."]}):b.jsx("p",{children:"The song owner's identity could not be determined."}),b.jsxs("p",{children:[jr.filter(A=>A.isCorrect).length," player",jr.filter(A=>A.isCorrect).length===1?"":"s"," ","guessed correctly."]})]})}),u&&b.jsx("div",{className:"border-t bg-muted/30 p-6",children:b.jsx(wn,{onClick:Zr,className:"w-full",size:"lg","data-testid":"button-continue-reveal",children:"Continue"})})]})]})]})]})}return C==="round_results"&&E?b.jsxs("div",{className:"min-h-screen bg-background",children:[ge,b.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl space-y-6",children:b.jsxs(tn,{children:[b.jsx(un,{children:b.jsx(fn,{className:"font-heading text-2xl text-center",children:"Round Complete!"})}),b.jsxs(yn,{className:"space-y-6",children:[b.jsxs("div",{className:"text-center space-y-4",children:[b.jsx(dm,{className:"w-16 h-16 text-primary mx-auto"}),b.jsx("h2",{className:"text-xl font-semibold",children:st[0]?.player?`${st[0]?.player.name} won this round!`:"Round complete"}),st[0]&&b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Earned ",st[0].roundScore," points this round"]})]}),b.jsx("div",{className:"space-y-3",children:st.map(({player:ee,roundScore:_},A)=>b.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-muted/50","data-testid":`result-player-${ee.id}`,children:[b.jsxs("div",{className:"text-2xl font-bold text-muted-foreground w-8",children:["#",A+1]}),b.jsx(Xa,{playerId:ee.id,playerName:ee.name}),b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"font-semibold",children:ee.name}),b.jsxs("div",{className:"text-sm text-muted-foreground",children:[_," points this round"]})]}),b.jsx("div",{className:"text-2xl font-bold text-primary",children:ee.score})]},ee.id))}),b.jsx(wn,{onClick:bs,className:"w-full",size:"lg","data-testid":"button-next-round",disabled:!u,children:t.completedRounds+1<M.totalRounds?"Next Round":"View Final Scores"})]})]})})]}):C==="game_over"?b.jsxs("div",{className:"min-h-screen bg-background",children:[ge,b.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl space-y-6",children:b.jsxs(tn,{children:[b.jsx(un,{children:b.jsx(fn,{className:"font-heading text-3xl text-center",children:"Game Over!"})}),b.jsxs(yn,{className:"space-y-8",children:[b.jsxs("div",{className:"text-center space-y-4",children:[b.jsx(dm,{className:"w-24 h-24 text-primary mx-auto"}),b.jsx("h2",{className:"text-2xl font-bold",children:ct[0]?`${ct[0].name} Wins!`:"Thanks for playing!"}),b.jsx("p",{className:"text-muted-foreground",children:"Final standings"})]}),b.jsx("div",{className:"space-y-3",children:ct.map((ee,_)=>b.jsxs("div",{className:`flex items-center gap-4 p-6 rounded-lg ${_===0?"bg-primary/20 border-2 border-primary":_===1?"bg-secondary/20 border-2 border-secondary":"bg-muted/50"}`,"data-testid":`final-player-${ee.id}`,children:[b.jsx("div",{className:"text-3xl font-bold w-12",children:_===0?"":_===1?"":_===2?"":`#${_+1}`}),b.jsx(Xa,{playerId:ee.id,playerName:ee.name,size:"lg"}),b.jsx("div",{className:"flex-1",children:b.jsx("div",{className:"text-xl font-bold",children:ee.name})}),b.jsx("div",{className:"text-3xl font-bold text-primary",children:ee.score})]},ee.id))}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx(wn,{variant:"outline",className:"flex-1","data-testid":"button-new-game",onClick:Js,disabled:!u,children:"Restart Lobby"}),b.jsx(wn,{className:"flex-1","data-testid":"button-back-home",onClick:Lr,disabled:!u,children:"End Session"})]})]})]})})]}):b.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-gradient-to-br from-primary/10 via-background to-secondary/10",children:[ge,b.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_top,_theme(colors.primary/15),transparent_60%)]"}),b.jsx("div",{className:"relative flex min-h-screen flex-col items-center justify-center px-6 py-16",children:b.jsxs("div",{className:"w-full max-w-md space-y-6 rounded-3xl border border-border/50 bg-background/90 p-10 text-center shadow-xl backdrop-blur",children:[b.jsx("div",{className:"flex items-center justify-center",children:b.jsx(py,{className:"h-12 w-12 animate-spin text-primary"})}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h2",{className:"text-2xl font-heading",children:"Connecting to your room"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Setting the stage and syncing players. Hang tightthis should only take a moment."})]}),a?b.jsx("div",{className:"flex justify-center",children:b.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-border/70 bg-muted/40 px-4 py-2 font-mono text-xs uppercase tracking-[0.3em] text-muted-foreground",children:["Room",b.jsx("span",{className:"text-foreground",children:a})]})}):null]})})]})}function Sk(){return b.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:b.jsx(tn,{className:"w-full max-w-md mx-4",children:b.jsxs(yn,{className:"pt-6",children:[b.jsxs("div",{className:"flex mb-4 gap-2",children:[b.jsx(jO,{className:"h-8 w-8 text-red-500"}),b.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),b.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}let _k="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",wk=(t=21)=>{let e="",n=t|0;for(;n--;)e+=_k[Math.random()*64|0];return e};var Fp={},F1;function Ck(){return F1||(F1=1,(function(t,e){if(t.setImmediate)return;var n=1,s={},a=!1,c=t.document,u;function f(D){typeof D!="function"&&(D=new Function(""+D));for(var k=new Array(arguments.length-1),j=0;j<k.length;j++)k[j]=arguments[j+1];var Y={callback:D,args:k};return s[n]=Y,u(n),n++}function d(D){delete s[D]}function h(D){var k=D.callback,j=D.args;switch(j.length){case 0:k();break;case 1:k(j[0]);break;case 2:k(j[0],j[1]);break;case 3:k(j[0],j[1],j[2]);break;default:k.apply(e,j);break}}function y(D){if(a)setTimeout(y,0,D);else{var k=s[D];if(k){a=!0;try{h(k)}finally{d(D),a=!1}}}}function g(){u=function(D){process.nextTick(function(){y(D)})}}function x(){if(t.postMessage&&!t.importScripts){var D=!0,k=t.onmessage;return t.onmessage=function(){D=!1},t.postMessage("","*"),t.onmessage=k,D}}function S(){var D="setImmediate$"+Math.random()+"$",k=function(j){j.source===t&&typeof j.data=="string"&&j.data.indexOf(D)===0&&y(+j.data.slice(D.length))};t.addEventListener?t.addEventListener("message",k,!1):t.attachEvent("onmessage",k),u=function(j){t.postMessage(D+j,"*")}}function C(){var D=new MessageChannel;D.port1.onmessage=function(k){var j=k.data;y(j)},u=function(k){D.port2.postMessage(k)}}function E(){var D=c.documentElement;u=function(k){var j=c.createElement("script");j.onreadystatechange=function(){y(k),j.onreadystatechange=null,D.removeChild(j),j=null},D.appendChild(j)}}function M(){u=function(D){setTimeout(y,0,D)}}var N=Object.getPrototypeOf&&Object.getPrototypeOf(t);N=N&&N.setTimeout?N:t,{}.toString.call(t.process)==="[object process]"?g():x()?S():t.MessageChannel?C():c&&"onreadystatechange"in c.createElement("script")?E():M(),N.setImmediate=f,N.clearImmediate=d})(typeof self>"u"?typeof Hx>"u"?Fp:Hx:self)),Fp}Ck();class Ek{constructor({enumerate:e,seed:n}){this.enumerateFn=e,this.seed=n,this.iterationCounter=0,this._opts={}}addOpt({key:e,range:n,initial:s}){this._opts[e]={range:n,value:s}}getOpt(e){return this._opts[e].value}setOpt(e,n){e in this._opts&&(this._opts[e].value=n)}opts(){return this._opts}enumerate(e,n,s){return this.enumerateFn(e,n,s).map(c=>{if("payload"in c)return c;if("move"in c)return iE(c.move,c.args,s);if("event"in c)return Mc(c.event,c.args,s)})}random(e){let n;if(this.seed!==void 0){const s=this.prngstate?"":this.seed,a=rE(s,this.prngstate);n=a(),this.prngstate=a.state()}else n=Math.random();if(e)if(Array.isArray(e)){const s=Math.floor(n*e.length);return e[s]}else return Math.floor(n*e);return n}}const Tk=25;class Rk extends Ek{constructor({enumerate:e,seed:n,objectives:s,game:a,iterations:c,playoutDepth:u,iterationCallback:f}){super({enumerate:e,seed:n}),s===void 0&&(s=()=>({})),this.objectives=s,this.iterationCallback=f||(()=>{}),this.reducer=Kf({game:a}),this.iterations=c,this.playoutDepth=u,this.addOpt({key:"async",initial:!1}),this.addOpt({key:"iterations",initial:typeof c=="number"?c:1e3,range:{min:1,max:2e3}}),this.addOpt({key:"playoutDepth",initial:typeof u=="number"?u:50,range:{min:1,max:100}})}createNode({state:e,parentAction:n,parent:s,playerID:a}){const{G:c,ctx:u}=e;let f=[],d=[];if(a!==void 0)f=this.enumerate(c,u,a),d=this.objectives(c,u,a);else if(u.activePlayers)for(const h in u.activePlayers)f.push(...this.enumerate(c,u,h)),d.push(this.objectives(c,u,h));else f=this.enumerate(c,u,u.currentPlayer),d=this.objectives(c,u,u.currentPlayer);return{state:e,parent:s,parentAction:n,actions:f,objectives:d,children:[],visits:0,value:0}}select(e){if(e.actions.length>0||e.children.length===0)return e;let n=null,s=0;for(const a of e.children){const c=a.visits+Number.EPSILON,u=a.value/c+Math.sqrt(2*Math.log(e.visits)/c);(n==null||u>s)&&(s=u,n=a)}return this.select(n)}expand(e){const n=e.actions;if(n.length===0||e.state.ctx.gameover!==void 0)return e;const s=this.random(n.length),a=n[s];e.actions.splice(s,1);const c=this.reducer(e.state,a),u=this.createNode({state:c,parentAction:a,parent:e});return e.children.push(u),u}playout({state:e}){let n=this.getOpt("playoutDepth");typeof this.playoutDepth=="function"&&(n=this.playoutDepth(e.G,e.ctx));for(let s=0;s<n&&e.ctx.gameover===void 0;s++){const{G:a,ctx:c}=e;let u=c.currentPlayer;c.activePlayers&&(u=Object.keys(c.activePlayers)[0]);const f=this.enumerate(a,c,u),d=this.objectives(a,c,u),h=Object.keys(d).reduce((x,S)=>{const C=d[S];return C.checker(a,c)?x+C.weight:x},0);if(h>0)return{score:h};if(!f||f.length===0)return;const y=this.random(f.length);e=this.reducer(e,f[y])}return e.ctx.gameover}backpropagate(e,n={}){e.visits++,n.score!==void 0&&(e.value+=n.score),n.draw===!0&&(e.value+=.5),e.parentAction&&n.winner===e.parentAction.payload.playerID&&e.value++,e.parent&&this.backpropagate(e.parent,n)}play(e,n){const s=this.createNode({state:e,playerID:n});let a=this.getOpt("iterations");typeof this.iterations=="function"&&(a=this.iterations(e.G,e.ctx));const c=()=>{let u=null;for(const h of s.children)(u==null||h.visits>u.visits)&&(u=h);return{action:u&&u.parentAction,metadata:s}};return new Promise(u=>{const f=()=>{for(let d=0;d<Tk&&this.iterationCounter<a;d++){const h=this.select(s),y=this.expand(h),g=this.playout(y);this.backpropagate(y,g),this.iterationCounter++}this.iterationCallback({iterationCounter:this.iterationCounter,numIterations:a,metadata:s})};if(this.iterationCounter=0,this.getOpt("async")){const d=()=>{this.iterationCounter<a?(f(),setImmediate(d)):u(c())};d()}else{for(;this.iterationCounter<a;)f();u(c())}})}}class Ak extends Xf{connect(){}disconnect(){}sendAction(){}sendChatMessage(){}requestSync(){}updateCredentials(){}updateMatchID(){}updatePlayerID(){}}const Ok=t=>new Ak(t);class Mk{constructor(){this.debugPanel=null,this.currentClient=null,this.clients=new Map,this.subscribers=new Map}register(e){this.clients.set(e,e),this.mountDebug(e),this.notifySubscribers()}unregister(e){if(this.clients.delete(e),this.currentClient===e){this.unmountDebug();for(const[n]of this.clients){if(this.debugPanel)break;this.mountDebug(n)}}this.notifySubscribers()}subscribe(e){const n=Symbol();return this.subscribers.set(n,e),e(this.getState()),()=>{this.subscribers.delete(n)}}switchPlayerID(e){if(this.currentClient.multiplayer){for(const[n]of this.clients)if(n.playerID===e&&n.debugOpt!==!1&&n.multiplayer===this.currentClient.multiplayer){this.switchToClient(n);return}}this.currentClient.updatePlayerID(e),this.notifySubscribers()}switchToClient(e){e!==this.currentClient&&(this.unmountDebug(),this.mountDebug(e),this.notifySubscribers())}notifySubscribers(){const e=this.getState();this.subscribers.forEach(n=>{n(e)})}getState(){return{client:this.currentClient,debuggableClients:this.getDebuggableClients()}}getDebuggableClients(){return[...this.clients.values()].filter(e=>e.debugOpt!==!1)}mountDebug(e){if(e.debugOpt===!1||this.debugPanel!==null||typeof document>"u")return;let n,s=document.body;e.debugOpt&&e.debugOpt!==!0&&(n=e.debugOpt.impl||n,s=e.debugOpt.target||s),n&&(this.currentClient=e,this.debugPanel=new n({target:s,props:{clientManager:this}}))}unmountDebug(){this.debugPanel.$destroy(),this.debugPanel=null,this.currentClient=null}}const Pk=new Mk;function Fm(t,e,n){return!n&&t==null&&(t=e.getState().ctx.currentPlayer),t}function rg(t,e,n,s,a,c){const u={};for(const f of e)u[f]=(...d)=>{const h=D4[t](f,d,Fm(s,n,c),a);n.dispatch(h)};return u}const Nk=rg.bind(null,"makeMove"),Dk=rg.bind(null,"gameEvent"),kk=rg.bind(null,"plugin");class jk{constructor({game:e,debug:n,numPlayers:s,multiplayer:a,matchID:c,playerID:u,credentials:f,enhancer:d}){this.game=Zc(e),this.playerID=u,this.matchID=c||"default",this.credentials=f,this.multiplayer=a,this.debugOpt=n,this.manager=Pk,this.gameStateOverride=null,this.subscribers={},this._running=!1,this.reducer=Kf({game:this.game,isClient:a!==void 0}),this.initialState=null,a||(this.initialState=Jy({game:this.game,numPlayers:s})),this.reset=()=>{this.store.dispatch(uE(this.initialState))},this.undo=()=>{const S=fE(Fm(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(S)},this.redo=()=>{const S=dE(Fm(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(S)},this.log=[];const x=AE(wE,()=>S=>C=>{const E=S(C);return this.notifySubscribers(),E},S=>C=>E=>{const M=S.getState(),N=C(E);return!("clientOnly"in E)&&E.type!==Gf&&this.transport.sendAction(M,E),N},S=>C=>E=>{const M=C(E),N=S.getState();switch(E.type){case Ic:case qf:case Yf:case Ff:{const D=N.deltalog;this.log=[...this.log,...D];break}case Yy:{this.log=[];break}case Xy:case Ky:{let D=-1;this.log.length>0&&(D=this.log[this.log.length-1]._stateID);let k=E.deltalog||[];k=k.filter(j=>j._stateID>D),this.log=[...this.log,...k];break}case Gy:{this.initialState=E.initialState,this.log=E.log||[];break}}return M});d=d!==void 0?RE(x,d):x,this.store=eg(this.reducer,this.initialState,d),a||(a=Ok),this.transport=a({transportDataCallback:S=>this.receiveTransportData(S),gameKey:e,game:this.game,matchID:c,playerID:u,credentials:f,gameName:this.game.name,numPlayers:s}),this.createDispatchers(),this.chatMessages=[],this.sendChatMessage=S=>{this.transport.sendChatMessage(this.matchID,{id:wk(7),sender:this.playerID,payload:S})}}receiveMatchData(e){this.matchData=e,this.notifySubscribers()}receiveChatMessage(e){this.chatMessages=[...this.chatMessages,e],this.notifySubscribers()}receiveTransportData(e){const[n]=e.args;if(n===this.matchID)switch(e.type){case"sync":{const[,s]=e.args,a=oE(s);this.receiveMatchData(s.filteredMetadata),this.store.dispatch(a);break}case"update":{const[,s,a]=e.args,c=this.store.getState();if(s._stateID>=c._stateID){const u=lE(s,a);this.store.dispatch(u)}break}case"patch":{const[,s,a,c,u]=e.args,f=this.store.getState()._stateID;if(s!==f)break;const d=cE(s,a,c,u);this.store.dispatch(d),this.store.getState()._stateID===f&&this.transport.requestSync();break}case"matchData":{const[,s]=e.args;this.receiveMatchData(s);break}case"chat":{const[,s]=e.args;this.receiveChatMessage(s);break}}}notifySubscribers(){Object.values(this.subscribers).forEach(e=>e(this.getState()))}overrideGameState(e){this.gameStateOverride=e,this.notifySubscribers()}start(){this.transport.connect(),this._running=!0,this.manager.register(this)}stop(){this.transport.disconnect(),this._running=!1,this.manager.unregister(this)}subscribe(e){const n=Object.keys(this.subscribers).length;return this.subscribers[n]=e,this.transport.subscribeToConnectionStatus(()=>this.notifySubscribers()),(this._running||!this.multiplayer)&&e(this.getState()),()=>{delete this.subscribers[n]}}getInitialState(){return this.initialState}getState(){let e=this.store.getState();if(this.gameStateOverride!==null&&(e=this.gameStateOverride),e===null)return e;let n=!0;const s=this.game.flow.isPlayerActive(e.G,e.ctx,this.playerID);return this.multiplayer&&!s&&(n=!1),!this.multiplayer&&this.playerID!==null&&this.playerID!==void 0&&!s&&(n=!1),e.ctx.gameover!==void 0&&(n=!1),this.multiplayer||(e={...e,G:this.game.playerView({G:e.G,ctx:e.ctx,playerID:this.playerID}),plugins:yE(e,this)}),{...e,log:this.log,isActive:n,isConnected:this.transport.isConnected}}createDispatchers(){this.moves=Nk(this.game.moveNames,this.store,this.playerID,this.credentials,this.multiplayer),this.events=Dk(this.game.flow.enabledEventNames,this.store,this.playerID,this.credentials,this.multiplayer),this.plugins=kk(this.game.pluginNames,this.store,this.playerID,this.credentials,this.multiplayer)}updatePlayerID(e){this.playerID=e,this.createDispatchers(),this.transport.updatePlayerID(e),this.notifySubscribers()}updateMatchID(e){this.matchID=e,this.createDispatchers(),this.transport.updateMatchID(e),this.notifySubscribers()}updateCredentials(e){this.credentials=e,this.createDispatchers(),this.transport.updateCredentials(e),this.notifySubscribers()}}function Lk(t){return new jk(t)}const kE=(t,e)=>{if(!t||typeof t!="string")throw new Error(`Expected ${e} string, got "${t}".`)},Ji=t=>kE(t,"game name"),gc=t=>kE(t,"match ID"),vc=(t,e)=>{if(!t)throw new Error(`Expected body, got ${t}.`);for(const n in e){const s=e[n],a=Array.isArray(s)?s:[s],c=t[n];if(!a.includes(typeof c)){const u=a.join("|");throw new TypeError(`Expected body.${n} to be of type ${u}, got ${c}.`)}}};class Uk extends Error{constructor(e,n){super(e),this.details=n}}class zk{constructor({server:e=""}={}){this.server=e.replace(/\/$/,"")}async request(e,n){const s=await fetch(this.server+e,n);if(!s.ok){let a;try{a=await s.clone().json()}catch{try{a=await s.text()}catch(c){a=c.message}}throw new Uk(`HTTP status ${s.status}`,a)}return s.json()}async post(e,n){let s={method:"post",body:JSON.stringify(n.body),headers:{"Content-Type":"application/json"}};return n.init&&(s={...s,...n.init,headers:{...s.headers,...n.init.headers}}),this.request(e,s)}async listGames(e){return this.request("/games",e)}async listMatches(e,n,s){Ji(e);let a="";if(n){const c=[],{isGameover:u,updatedBefore:f,updatedAfter:d}=n;u!==void 0&&c.push(`isGameover=${u}`),f&&c.push(`updatedBefore=${f}`),d&&c.push(`updatedAfter=${d}`),c.length>0&&(a="?"+c.join("&"))}return this.request(`/games/${e}${a}`,s)}async getMatch(e,n,s){return Ji(e),gc(n),this.request(`/games/${e}/${n}`,s)}async createMatch(e,n,s){return Ji(e),vc(n,{numPlayers:"number"}),this.post(`/games/${e}/create`,{body:n,init:s})}async joinMatch(e,n,s,a){return Ji(e),gc(n),vc(s,{playerID:["string","undefined"],playerName:"string"}),this.post(`/games/${e}/${n}/join`,{body:s,init:a})}async leaveMatch(e,n,s,a){Ji(e),gc(n),vc(s,{playerID:"string",credentials:"string"}),await this.post(`/games/${e}/${n}/leave`,{body:s,init:a})}async updatePlayer(e,n,s,a){Ji(e),gc(n),vc(s,{playerID:"string",credentials:"string"}),await this.post(`/games/${e}/${n}/update`,{body:s,init:a})}async playAgain(e,n,s,a){return Ji(e),gc(n),vc(s,{playerID:"string",credentials:"string"}),this.post(`/games/${e}/${n}/playAgain`,{body:s,init:a})}}var Yp={exports:{}},Gp,Y1;function Ik(){if(Y1)return Gp;Y1=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Gp=t,Gp}var Kp,G1;function Bk(){if(G1)return Kp;G1=1;var t=Ik();function e(){}function n(){}return n.resetWarningCache=e,Kp=function(){function s(u,f,d,h,y,g){if(g!==t){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}s.isRequired=s;function a(){return s}var c={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return c.PropTypes=c,c},Kp}var K1;function Hk(){return K1||(K1=1,Yp.exports=Bk()()),Yp.exports}var $k=Hk();const is=Vc($k);var Hr={},Eu={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var X1;function Vk(){if(X1)return Eu;X1=1,Eu.parse=a,Eu.serialize=c;var t=decodeURIComponent,e=encodeURIComponent,n=/; */,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function a(f,d){if(typeof f!="string")throw new TypeError("argument str must be a string");for(var h={},y=d||{},g=f.split(n),x=y.decode||t,S=0;S<g.length;S++){var C=g[S],E=C.indexOf("=");if(!(E<0)){var M=C.substr(0,E).trim(),N=C.substr(++E,C.length).trim();N[0]=='"'&&(N=N.slice(1,-1)),h[M]==null&&(h[M]=u(N,x))}}return h}function c(f,d,h){var y=h||{},g=y.encode||e;if(typeof g!="function")throw new TypeError("option encode is invalid");if(!s.test(f))throw new TypeError("argument name is invalid");var x=g(d);if(x&&!s.test(x))throw new TypeError("argument val is invalid");var S=f+"="+x;if(y.maxAge!=null){var C=y.maxAge-0;if(isNaN(C))throw new Error("maxAge should be a Number");S+="; Max-Age="+Math.floor(C)}if(y.domain){if(!s.test(y.domain))throw new TypeError("option domain is invalid");S+="; Domain="+y.domain}if(y.path){if(!s.test(y.path))throw new TypeError("option path is invalid");S+="; Path="+y.path}if(y.expires){if(typeof y.expires.toUTCString!="function")throw new TypeError("option expires is invalid");S+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(S+="; HttpOnly"),y.secure&&(S+="; Secure"),y.sameSite){var E=typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite;switch(E){case!0:S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"strict":S+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return S}function u(f,d){try{return d(f)}catch{return f}}return Eu}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Xp,Q1;function qk(){if(Q1)return Xp;Q1=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function s(c){if(c==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(c)}function a(){try{if(!Object.assign)return!1;var c=new String("abc");if(c[5]="de",Object.getOwnPropertyNames(c)[0]==="5")return!1;for(var u={},f=0;f<10;f++)u["_"+String.fromCharCode(f)]=f;var d=Object.getOwnPropertyNames(u).map(function(y){return u[y]});if(d.join("")!=="0123456789")return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(y){h[y]=y}),Object.keys(Object.assign({},h)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Xp=a()?Object.assign:function(c,u){for(var f,d=s(c),h,y=1;y<arguments.length;y++){f=Object(arguments[y]);for(var g in f)e.call(f,g)&&(d[g]=f[g]);if(t){h=t(f);for(var x=0;x<h.length;x++)n.call(f,h[x])&&(d[h[x]]=f[h[x]])}}return d},Xp}var Z1;function Fk(){if(Z1)return Hr;Z1=1;var t={};Object.defineProperty(Hr,"__esModule",{value:!0});var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D};Hr.load=g,Hr.loadAll=x,Hr.select=S,Hr.save=C,Hr.remove=E,Hr.setRawCookie=M,Hr.plugToRequest=N;var n=Vk(),s=u(n),a=qk(),c=u(a);function u(D){return D&&D.__esModule?D:{default:D}}var f=typeof document>"u"||typeof process<"u"&&t&&!1,d={},h=void 0;function y(){return h&&!h.headersSent}function g(D,k){var j=f?d:s.default.parse(document.cookie),Y=j&&j[D];if(typeof k>"u"&&(k=!Y||Y[0]!=="{"&&Y[0]!=="["),!k)try{Y=JSON.parse(Y)}catch{}return Y}function x(D){var k=f?d:s.default.parse(document.cookie),j=k;if(typeof D>"u"&&(D=!j||j[0]!=="{"&&j[0]!=="["),!D)try{j=JSON.parse(j)}catch{}return j}function S(D){var k=f?d:s.default.parse(document.cookie);return k?D?Object.keys(k).reduce(function(j,Y){if(!D.test(Y))return j;var J={};return J[Y]=k[Y],(0,c.default)({},j,J)},{}):k:{}}function C(D,k,j){d[D]=k,(typeof k>"u"?"undefined":e(k))==="object"&&(d[D]=JSON.stringify(k)),f||(document.cookie=s.default.serialize(D,d[D],j)),y()&&h.cookie&&h.cookie(D,k,j)}function E(D,k){delete d[D],typeof k>"u"?k={}:typeof k=="string"?k={path:k}:k=(0,c.default)({},k),typeof document<"u"&&(k.expires=new Date(1970,1,1,0,0,1),k.maxAge=0,document.cookie=s.default.serialize(D,"",k)),y()&&h.clearCookie&&h.clearCookie(D,k)}function M(D){D?d=s.default.parse(D):d={}}function N(D,k){return D.cookie?d=D.cookie:D.cookies?d=D.cookies:D.headers&&D.headers.cookie?M(D.headers.cookie):d={},h=k,function(){h=null,d={}}}return Hr.default={setRawCookie:M,load:g,loadAll:x,select:S,save:C,remove:E,plugToRequest:N},Hr}var Yk=Fk();const J1=Vc(Yk),ys=Object.create(null);ys.open="0";ys.close="1";ys.ping="2";ys.pong="3";ys.message="4";ys.upgrade="5";ys.noop="6";const Hu=Object.create(null);Object.keys(ys).forEach(t=>{Hu[ys[t]]=t});const Ym={type:"error",data:"parser error"},jE=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",LE=typeof ArrayBuffer=="function",UE=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,sg=({type:t,data:e},n,s)=>jE&&e instanceof Blob?n?s(e):W1(e,s):LE&&(e instanceof ArrayBuffer||UE(e))?n?s(e):W1(new Blob([e]),s):s(ys[t]+(e||"")),W1=(t,e)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];e("b"+(s||""))},n.readAsDataURL(t)};function eS(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Qp;function Gk(t,e){if(jE&&t.data instanceof Blob)return t.data.arrayBuffer().then(eS).then(e);if(LE&&(t.data instanceof ArrayBuffer||UE(t.data)))return e(eS(t.data));sg(t,!1,n=>{Qp||(Qp=new TextEncoder),e(Qp.encode(n))})}const tS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<tS.length;t++)wc[tS.charCodeAt(t)]=t;const Kk=t=>{let e=t.length*.75,n=t.length,s,a=0,c,u,f,d;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const h=new ArrayBuffer(e),y=new Uint8Array(h);for(s=0;s<n;s+=4)c=wc[t.charCodeAt(s)],u=wc[t.charCodeAt(s+1)],f=wc[t.charCodeAt(s+2)],d=wc[t.charCodeAt(s+3)],y[a++]=c<<2|u>>4,y[a++]=(u&15)<<4|f>>2,y[a++]=(f&3)<<6|d&63;return h},Xk=typeof ArrayBuffer=="function",ig=(t,e)=>{if(typeof t!="string")return{type:"message",data:zE(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:Qk(t.substring(1),e)}:Hu[n]?t.length>1?{type:Hu[n],data:t.substring(1)}:{type:Hu[n]}:Ym},Qk=(t,e)=>{if(Xk){const n=Kk(t);return zE(n,e)}else return{base64:!0,data:t}},zE=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},IE="",Zk=(t,e)=>{const n=t.length,s=new Array(n);let a=0;t.forEach((c,u)=>{sg(c,!1,f=>{s[u]=f,++a===n&&e(s.join(IE))})})},Jk=(t,e)=>{const n=t.split(IE),s=[];for(let a=0;a<n.length;a++){const c=ig(n[a],e);if(s.push(c),c.type==="error")break}return s};function Wk(){return new TransformStream({transform(t,e){Gk(t,n=>{const s=n.length;let a;if(s<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,s);else if(s<65536){a=new Uint8Array(3);const c=new DataView(a.buffer);c.setUint8(0,126),c.setUint16(1,s)}else{a=new Uint8Array(9);const c=new DataView(a.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(s))}t.data&&typeof t.data!="string"&&(a[0]|=128),e.enqueue(a),e.enqueue(n)})}})}let Zp;function Tu(t){return t.reduce((e,n)=>e+n.length,0)}function Ru(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let s=0;for(let a=0;a<e;a++)n[a]=t[0][s++],s===t[0].length&&(t.shift(),s=0);return t.length&&s<t[0].length&&(t[0]=t[0].slice(s)),n}function e5(t,e){Zp||(Zp=new TextDecoder);const n=[];let s=0,a=-1,c=!1;return new TransformStream({transform(u,f){for(n.push(u);;){if(s===0){if(Tu(n)<1)break;const d=Ru(n,1);c=(d[0]&128)===128,a=d[0]&127,a<126?s=3:a===126?s=1:s=2}else if(s===1){if(Tu(n)<2)break;const d=Ru(n,2);a=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),s=3}else if(s===2){if(Tu(n)<8)break;const d=Ru(n,8),h=new DataView(d.buffer,d.byteOffset,d.length),y=h.getUint32(0);if(y>Math.pow(2,21)-1){f.enqueue(Ym);break}a=y*Math.pow(2,32)+h.getUint32(4),s=3}else{if(Tu(n)<a)break;const d=Ru(n,a);f.enqueue(ig(c?d:Zp.decode(d),e)),s=0}if(a===0||a>t){f.enqueue(Ym);break}}}})}const BE=4;function Cn(t){if(t)return t5(t)}function t5(t){for(var e in Cn.prototype)t[e]=Cn.prototype[e];return t}Cn.prototype.on=Cn.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Cn.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Cn.prototype.off=Cn.prototype.removeListener=Cn.prototype.removeAllListeners=Cn.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s,a=0;a<n.length;a++)if(s=n[a],s===e||s.fn===e){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Cn.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,a=n.length;s<a;++s)n[s].apply(this,e)}return this};Cn.prototype.emitReserved=Cn.prototype.emit;Cn.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Cn.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Qf=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Nr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),n5="arraybuffer";function HE(t,...e){return e.reduce((n,s)=>(t.hasOwnProperty(s)&&(n[s]=t[s]),n),{})}const r5=Nr.setTimeout,s5=Nr.clearTimeout;function Zf(t,e){e.useNativeTimers?(t.setTimeoutFn=r5.bind(Nr),t.clearTimeoutFn=s5.bind(Nr)):(t.setTimeoutFn=Nr.setTimeout.bind(Nr),t.clearTimeoutFn=Nr.clearTimeout.bind(Nr))}const i5=1.33;function a5(t){return typeof t=="string"?o5(t):Math.ceil((t.byteLength||t.size)*i5)}function o5(t){let e=0,n=0;for(let s=0,a=t.length;s<a;s++)e=t.charCodeAt(s),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(s++,n+=4);return n}function $E(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function c5(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function l5(t){let e={},n=t.split("&");for(let s=0,a=n.length;s<a;s++){let c=n[s].split("=");e[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return e}class u5 extends Error{constructor(e,n,s){super(e),this.description=n,this.context=s,this.type="TransportError"}}class ag extends Cn{constructor(e){super(),this.writable=!1,Zf(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,s){return super.emitReserved("error",new u5(e,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=ig(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=c5(e);return n.length?"?"+n:""}}class f5 extends ag{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};Jk(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Zk(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=$E()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let VE=!1;try{VE=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const d5=VE;function h5(){}class p5 extends f5{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,n){const s=this.request({method:"POST",data:e});s.on("success",n),s.on("error",(a,c)=>{this.onError("xhr post error",a,c)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=e}}class hs extends Cn{constructor(e,n,s){super(),this.createRequest=e,Zf(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const n=HE(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&s.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var a;s.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=hs.requestsCount++,hs.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=h5,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete hs.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}hs.requestsCount=0;hs.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",nS);else if(typeof addEventListener=="function"){const t="onpagehide"in Nr?"pagehide":"unload";addEventListener(t,nS,!1)}}function nS(){for(let t in hs.requests)hs.requests.hasOwnProperty(t)&&hs.requests[t].abort()}const m5=(function(){const t=qE({xdomain:!1});return t&&t.responseType!==null})();class y5 extends p5{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=m5&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new hs(qE,this.uri(),e)}}function qE(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||d5))return new XMLHttpRequest}catch{}if(!e)try{return new Nr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const FE=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class g5 extends ag{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,s=FE?{}:HE(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,s)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],a=n===e.length-1;sg(s,this.supportsBinary,c=>{try{this.doWrite(s,c)}catch{}a&&Qf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=$E()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Jp=Nr.WebSocket||Nr.MozWebSocket;class v5 extends g5{createSocket(e,n,s){return FE?new Jp(e,n,s):n?new Jp(e,n):new Jp(e)}doWrite(e,n){this.ws.send(n)}}class x5 extends ag{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=e5(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(n).getReader(),a=Wk();a.readable.pipeTo(e.writable),this._writer=a.writable.getWriter();const c=()=>{s.read().then(({done:f,value:d})=>{f||(this.onPacket(d),c())}).catch(f=>{})};c();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this._writer.write(u).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],a=n===e.length-1;this._writer.write(s).then(()=>{a&&Qf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const b5={websocket:v5,webtransport:x5,polling:y5},S5=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,_5=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Gm(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),s=t.indexOf("]");n!=-1&&s!=-1&&(t=t.substring(0,n)+t.substring(n,s).replace(/:/g,";")+t.substring(s,t.length));let a=S5.exec(t||""),c={},u=14;for(;u--;)c[_5[u]]=a[u]||"";return n!=-1&&s!=-1&&(c.source=e,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=w5(c,c.path),c.queryKey=C5(c,c.query),c}function w5(t,e){const n=/\/{2,9}/g,s=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function C5(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,c){a&&(n[a]=c)}),n}const Km=typeof addEventListener=="function"&&typeof removeEventListener=="function",$u=[];Km&&addEventListener("offline",()=>{$u.forEach(t=>t())},!1);class Ai extends Cn{constructor(e,n){if(super(),this.binaryType=n5,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const s=Gm(e);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=Gm(n.host).host);Zf(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const a=s.prototype.name;this.transports.push(a),this._transportsByName[a]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=l5(this.opts.query)),Km&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},$u.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=BE,n.transport=e,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Ai.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Ai.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const a=this.writeBuffer[s].data;if(a&&(n+=a5(a)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Qf(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,s){return this._sendPacket("message",e,n,s),this}send(e,n,s){return this._sendPacket("message",e,n,s),this}_sendPacket(e,n,s,a){if(typeof n=="function"&&(a=n,n=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const c={type:e,data:n,options:s};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(Ai.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Km&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=$u.indexOf(this._offlineEventListener);s!==-1&&$u.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Ai.protocol=BE;class E5 extends Ai{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),s=!1;Ai.priorWebsocketSuccess=!1;const a=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!s)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Ai.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(y(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=n.name,this.emitReserved("upgradeError",x)}}))};function c(){s||(s=!0,y(),n.close(),n=null)}const u=g=>{const x=new Error("probe error: "+g);x.transport=n.name,c(),this.emitReserved("upgradeError",x)};function f(){u("transport closed")}function d(){u("socket closed")}function h(g){n&&g.name!==n.name&&c()}const y=()=>{n.removeListener("open",a),n.removeListener("error",u),n.removeListener("close",f),this.off("close",d),this.off("upgrading",h)};n.once("open",a),n.once("error",u),n.once("close",f),this.once("close",d),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&n.push(e[s]);return n}}let T5=class extends E5{constructor(e,n={}){const s=typeof e=="object"?e:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(a=>b5[a]).filter(a=>!!a)),super(e,s)}};function R5(t,e="",n){let s=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),s=Gm(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const c=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+c+":"+s.port+e,s.href=s.protocol+"://"+c+(n&&n.port===s.port?"":":"+s.port),s}const A5=typeof ArrayBuffer=="function",O5=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,YE=Object.prototype.toString,M5=typeof Blob=="function"||typeof Blob<"u"&&YE.call(Blob)==="[object BlobConstructor]",P5=typeof File=="function"||typeof File<"u"&&YE.call(File)==="[object FileConstructor]";function og(t){return A5&&(t instanceof ArrayBuffer||O5(t))||M5&&t instanceof Blob||P5&&t instanceof File}function Vu(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,s=t.length;n<s;n++)if(Vu(t[n]))return!0;return!1}if(og(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Vu(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Vu(t[n]))return!0;return!1}function N5(t){const e=[],n=t.data,s=t;return s.data=Xm(n,e),s.attachments=e.length,{packet:s,buffers:e}}function Xm(t,e){if(!t)return t;if(og(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let s=0;s<t.length;s++)n[s]=Xm(t[s],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=Xm(t[s],e));return n}return t}function D5(t,e){return t.data=Qm(t.data,e),delete t.attachments,t}function Qm(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Qm(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Qm(t[n],e));return t}const k5=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],j5=5;var Pt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Pt||(Pt={}));class L5{constructor(e){this.replacer=e}encode(e){return(e.type===Pt.EVENT||e.type===Pt.ACK)&&Vu(e)?this.encodeAsBinary({type:e.type===Pt.EVENT?Pt.BINARY_EVENT:Pt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Pt.BINARY_EVENT||e.type===Pt.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=N5(e),s=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(s),a}}function rS(t){return Object.prototype.toString.call(t)==="[object Object]"}class cg extends Cn{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const s=n.type===Pt.BINARY_EVENT;s||n.type===Pt.BINARY_ACK?(n.type=s?Pt.EVENT:Pt.ACK,this.reconstructor=new U5(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(og(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const s={type:Number(e.charAt(0))};if(Pt[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Pt.BINARY_EVENT||s.type===Pt.BINARY_ACK){const c=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const u=e.substring(c,n);if(u!=Number(u)||e.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(u)}if(e.charAt(n+1)==="/"){const c=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););s.nsp=e.substring(c,n)}else s.nsp="/";const a=e.charAt(n+1);if(a!==""&&Number(a)==a){const c=n+1;for(;++n;){const u=e.charAt(n);if(u==null||Number(u)!=u){--n;break}if(n===e.length)break}s.id=Number(e.substring(c,n+1))}if(e.charAt(++n)){const c=this.tryParse(e.substr(n));if(cg.isPayloadValid(s.type,c))s.data=c;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Pt.CONNECT:return rS(n);case Pt.DISCONNECT:return n===void 0;case Pt.CONNECT_ERROR:return typeof n=="string"||rS(n);case Pt.EVENT:case Pt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&k5.indexOf(n[0])===-1);case Pt.ACK:case Pt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class U5{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=D5(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const z5=Object.freeze(Object.defineProperty({__proto__:null,Decoder:cg,Encoder:L5,get PacketType(){return Pt},protocol:j5},Symbol.toStringTag,{value:"Module"}));function Vr(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const I5=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class GE extends Cn{constructor(e,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Vr(e,"open",this.onopen.bind(this)),Vr(e,"packet",this.onpacket.bind(this)),Vr(e,"error",this.onerror.bind(this)),Vr(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var s,a,c;if(I5.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const u={type:Pt.EVENT,data:n};if(u.options={},u.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const y=this.ids++,g=n.pop();this._registerAckCallback(y,g),u.id=y}const f=(a=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||a===void 0?void 0:a.writable,d=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!f||(d?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u)),this.flags={},this}_registerAckCallback(e,n){var s;const a=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(a===void 0){this.acks[e]=n;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let f=0;f<this.sendBuffer.length;f++)this.sendBuffer[f].id===e&&this.sendBuffer.splice(f,1);n.call(this,new Error("operation has timed out"))},a),u=(...f)=>{this.io.clearTimeoutFn(c),n.apply(this,f)};u.withError=!0,this.acks[e]=u}emitWithAck(e,...n){return new Promise((s,a)=>{const c=(u,f)=>u?a(u):s(f);c.withError=!0,n.push(c),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((a,...c)=>s!==this._queue[0]?void 0:(a!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...c)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Pt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Pt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Pt.EVENT:case Pt.BINARY_EVENT:this.onevent(e);break;case Pt.ACK:case Pt.BINARY_ACK:this.onack(e);break;case Pt.DISCONNECT:this.ondisconnect();break;case Pt.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let s=!1;return function(...a){s||(s=!0,n.packet({type:Pt.ACK,id:e,data:a}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Pt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,e.data)}}}function xo(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}xo.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};xo.prototype.reset=function(){this.attempts=0};xo.prototype.setMin=function(t){this.ms=t};xo.prototype.setMax=function(t){this.max=t};xo.prototype.setJitter=function(t){this.jitter=t};class Zm extends Cn{constructor(e,n){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Zf(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new xo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const a=n.parser||z5;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new T5(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=Vr(n,"open",function(){s.onopen(),e&&e()}),c=f=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",f),e?e(f):this.maybeReconnectOnOpen()},u=Vr(n,"error",c);if(this._timeout!==!1){const f=this._timeout,d=this.setTimeoutFn(()=>{a(),c(new Error("timeout")),n.close()},f);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(a),this.subs.push(u),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Vr(e,"ping",this.onping.bind(this)),Vr(e,"data",this.ondata.bind(this)),Vr(e,"error",this.onerror.bind(this)),Vr(e,"close",this.onclose.bind(this)),Vr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Qf(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new GE(this,e,n),this.nsps[e]=s),s}_destroy(e){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let s=0;s<n.length;s++)this.engine.write(n[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(a=>{a?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",a)):e.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const xc={};function qu(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=R5(t,e.path||"/socket.io"),s=n.source,a=n.id,c=n.path,u=xc[a]&&c in xc[a].nsps,f=e.forceNew||e["force new connection"]||e.multiplex===!1||u;let d;return f?d=new Zm(s,e):(xc[a]||(xc[a]=new Zm(s,e)),d=xc[a]),n.query&&!e.query&&(e.query=n.queryKey),d.socket(n.path,e)}Object.assign(qu,{Manager:Zm,Socket:GE,io:qu,connect:qu});class KE extends CE{constructor(){super(),this.state=new Map,this.initial=new Map,this.metadata=new Map,this.log=new Map}createMatch(e,n){this.initial.set(e,n.initialState),this.setState(e,n.initialState),this.setMetadata(e,n.metadata)}setMetadata(e,n){this.metadata.set(e,n)}setState(e,n,s){if(s&&s.length>0){const a=this.log.get(e)||[];this.log.set(e,[...a,...s])}this.state.set(e,n)}fetch(e,n){const s={};return n.state&&(s.state=this.state.get(e)),n.metadata&&(s.metadata=this.metadata.get(e)),n.log&&(s.log=this.log.get(e)||[]),n.initialState&&(s.initialState=this.initial.get(e)),s}wipe(e){this.state.delete(e),this.metadata.delete(e)}listMatches(e){return[...this.metadata.entries()].filter(([,n])=>e?!(e.gameName!==void 0&&n.gameName!==e.gameName||e.where!==void 0&&(e.where.isGameover!==void 0&&n.gameover!==void 0!==e.where.isGameover||e.where.updatedBefore!==void 0&&n.updatedAt>=e.where.updatedBefore||e.where.updatedAfter!==void 0&&n.updatedAt<=e.where.updatedAfter)):!0).map(([n])=>n)}}class B5 extends Map{constructor(e){super(),this.key=e,(JSON.parse(localStorage.getItem(this.key))||[]).forEach(s=>this.set(...s))}sync(){const e=[...this.entries()];localStorage.setItem(this.key,JSON.stringify(e))}set(e,n){return super.set(e,n),this.sync(),this}delete(e){const n=super.delete(e);return this.sync(),n}}class H5 extends KE{constructor(e="bgio"){super();const n=s=>new B5(`${e}_${s}`);this.state=n("state"),this.initial=n("initial"),this.metadata=n("metadata"),this.log=n("log")}}function $5(t,e){if(t.ctx.gameover!==void 0)return null;if(t.ctx.activePlayers){for(const n of Object.keys(e))if(n in t.ctx.activePlayers)return n}else if(t.ctx.currentPlayer in e)return t.ctx.currentPlayer;return null}class V5 extends OE{constructor({game:e,bots:n,storageKey:s,persist:a}){const c={},u={};if(e&&e.ai&&n)for(const g in n){const x=n[g];u[g]=new x({game:e,enumerate:e.ai.enumerate,seed:e.seed})}const f=({playerID:g,...x})=>{const S=c[g];S!==void 0&&S(d(g,x))},d=TE(e),h={send:f,sendAll:g=>{for(const x in c)f({playerID:x,...g})}},y=a?new H5(s):new KE;super(e,y,h),this.connect=(g,x)=>{c[g]=x},this.subscribe(({state:g,matchID:x})=>{if(!n)return;const S=$5(g,u);S!==null&&setTimeout(async()=>{const C=await u[S].play(g,S);await this.onUpdate(C.action,g._stateID,x,C.action.payload.playerID)},100)})}}class q5 extends Xf{constructor({master:e,...n}){super(n),this.master=e}sendChatMessage(e,n){const s=[e,n,this.credentials];this.master.onChatMessage(...s)}sendAction(e,n){this.master.onUpdate(n,e._stateID,this.matchID,this.playerID)}requestSync(){this.master.onSync(this.matchID,this.playerID,this.credentials,this.numPlayers)}connect(){this.setConnectionStatus(!0),this.master.connect(this.playerID,e=>this.notifyClient(e)),this.requestSync()}disconnect(){this.setConnectionStatus(!1)}updateMatchID(e){this.matchID=e,this.connect()}updatePlayerID(e){this.playerID=e,this.connect()}updateCredentials(e){this.credentials=e,this.connect()}}const sS=new Map;function F5({bots:t,persist:e,storageKey:n}={}){return s=>{const{gameKey:a,game:c}=s;let u;const f=sS.get(a);return f&&f.bots===t&&f.storageKey===n&&f.persist===e&&(u=f.master),u||(u=new V5({game:c,bots:t,persist:e,storageKey:n}),sS.set(a,{master:u,bots:t,persist:e,storageKey:n})),new q5({master:u,...s})}}const iS=qu;class Y5 extends Xf{constructor({socket:e,socketOpts:n,server:s,...a}){super(a),this.server=s,this.socket=e,this.socketOpts=n}sendAction(e,n){const s=[n,e._stateID,this.matchID,this.playerID];this.socket.emit("update",...s)}sendChatMessage(e,n){const s=[e,n,this.credentials];this.socket.emit("chat",...s)}connect(){if(!this.socket)if(this.server){let e=this.server;e.search(/^https?:\/\//)==-1&&(e="http://"+this.server),e.slice(-1)!="/"&&(e=e+"/"),this.socket=iS(e+this.gameName,this.socketOpts)}else this.socket=iS("/"+this.gameName,this.socketOpts);this.socket.on("patch",(e,n,s,a,c)=>{this.notifyClient({type:"patch",args:[e,n,s,a,c]})}),this.socket.on("update",(e,n,s)=>{this.notifyClient({type:"update",args:[e,n,s]})}),this.socket.on("sync",(e,n)=>{this.notifyClient({type:"sync",args:[e,n]})}),this.socket.on("matchData",(e,n)=>{this.notifyClient({type:"matchData",args:[e,n]})}),this.socket.on("chat",(e,n)=>{this.notifyClient({type:"chat",args:[e,n]})}),this.socket.on("connect",()=>{this.requestSync(),this.setConnectionStatus(!0)}),this.socket.on("disconnect",()=>{this.setConnectionStatus(!1)})}disconnect(){this.socket.close(),this.socket=null,this.setConnectionStatus(!1)}requestSync(){if(this.socket){const e=[this.matchID,this.playerID,this.credentials,this.numPlayers];this.socket.emit("sync",...e)}}updateMatchID(e){this.matchID=e,this.requestSync()}updatePlayerID(e){this.playerID=e,this.requestSync()}updateCredentials(e){this.credentials=e,this.requestSync()}}function aS({server:t,socketOpts:e}={}){return n=>new Y5({server:t,socketOpts:e,...n})}function XE(t){var e;const{game:n,numPlayers:s,board:a,multiplayer:c,enhancer:u}=t;let{loading:f,debug:d}=t;return f===void 0&&(f=()=>Ne.createElement("div",{className:"bgio-loading"},"connecting...")),e=class extends Ne.Component{constructor(y){super(y),d===void 0&&(d=y.debug),this.client=Lk({game:n,debug:d,numPlayers:s,multiplayer:c,matchID:y.matchID,playerID:y.playerID,credentials:y.credentials,enhancer:u})}componentDidMount(){this.unsubscribe=this.client.subscribe(()=>this.forceUpdate()),this.client.start()}componentWillUnmount(){this.client.stop(),this.unsubscribe()}componentDidUpdate(y){this.props.matchID!=y.matchID&&this.client.updateMatchID(this.props.matchID),this.props.playerID!=y.playerID&&this.client.updatePlayerID(this.props.playerID),this.props.credentials!=y.credentials&&this.client.updateCredentials(this.props.credentials)}render(){const y=this.client.getState();if(y===null)return Ne.createElement(f);let g=null;return a&&(g=Ne.createElement(a,{...y,...this.props,isMultiplayer:!!c,moves:this.client.moves,events:this.client.events,matchID:this.client.matchID,playerID:this.client.playerID,reset:this.client.reset,undo:this.client.undo,redo:this.client.redo,log:this.client.log,matchData:this.client.matchData,sendChatMessage:this.client.sendChatMessage,chatMessages:this.client.chatMessages})),Ne.createElement("div",{className:"bgio-client"},g)}},e.propTypes={matchID:is.string,playerID:is.string,credentials:is.string,debug:is.any},e.defaultProps={matchID:"default",playerID:null,credentials:null,debug:!0},e}class G5{constructor({server:e,gameComponents:n,playerName:s,playerCredentials:a}){this.client=new zk({server:e}),this.gameComponents=n,this.playerName=s||"Visitor",this.playerCredentials=a,this.matches=[]}async refresh(){try{this.matches=[];const e=await this.client.listGames();for(const n of e){if(!this._getGameComponents(n))continue;const{matches:s}=await this.client.listMatches(n);this.matches.push(...s)}}catch(e){throw new Error("failed to retrieve list of matches ("+e+")")}}_getMatchInstance(e){for(const n of this.matches)if(n.matchID===e)return n}_getGameComponents(e){for(const n of this.gameComponents)if(n.game.name===e)return n}_findPlayer(e){for(const n of this.matches)if(n.players.some(s=>s.name===e))return n}async join(e,n,s){try{let a=this._findPlayer(this.playerName);if(a)throw new Error("player has already joined "+a.matchID);if(a=this._getMatchInstance(n),!a)throw new Error("game instance "+n+" not found");const c=await this.client.joinMatch(e,n,{playerID:s,playerName:this.playerName});a.players[Number.parseInt(s)].name=this.playerName,this.playerCredentials=c.playerCredentials}catch(a){throw new Error("failed to join match "+n+" ("+a+")")}}async leave(e,n){try{const s=this._getMatchInstance(n);if(!s)throw new Error("match instance not found");for(const a of s.players)if(a.name===this.playerName){await this.client.leaveMatch(e,n,{playerID:a.id.toString(),credentials:this.playerCredentials}),delete a.name,delete this.playerCredentials;return}throw new Error("player not found in match")}catch(s){throw new Error("failed to leave match "+n+" ("+s+")")}}async disconnect(){const e=this._findPlayer(this.playerName);e&&await this.leave(e.gameName,e.matchID),this.matches=[],this.playerName="Visitor"}async create(e,n){try{const s=this._getGameComponents(e);if(!s)throw new Error("game not found");if(n<s.game.minPlayers||n>s.game.maxPlayers)throw new Error("invalid number of players "+n);await this.client.createMatch(e,{numPlayers:n})}catch(s){throw new Error("failed to create match for "+e+" ("+s+")")}}}function K5(t){return new G5(t)}class QE extends Ne.Component{constructor(){super(...arguments),this.state={playerName:this.props.playerName,nameErrorMsg:""},this.onClickEnter=()=>{this.state.playerName!==""&&this.props.onEnter(this.state.playerName)},this.onKeyPress=e=>{e.key==="Enter"&&this.onClickEnter()},this.onChangePlayerName=e=>{const n=e.target.value.trim();this.setState({playerName:n,nameErrorMsg:n.length>0?"":"empty player name"})}}render(){return Ne.createElement("div",null,Ne.createElement("p",{className:"phase-title"},"Choose a player name:"),Ne.createElement("input",{type:"text",value:this.state.playerName,onChange:this.onChangePlayerName,onKeyPress:this.onKeyPress}),Ne.createElement("span",{className:"buttons"},Ne.createElement("button",{className:"buttons",onClick:this.onClickEnter},"Enter")),Ne.createElement("br",null),Ne.createElement("span",{className:"error-msg"},this.state.nameErrorMsg,Ne.createElement("br",null)))}}QE.defaultProps={playerName:""};class X5 extends Ne.Component{constructor(){super(...arguments),this._createSeat=e=>e.name||"[free]",this._createButtonJoin=(e,n)=>Ne.createElement("button",{key:"button-join-"+e.matchID,onClick:()=>this.props.onClickJoin(e.gameName,e.matchID,""+n)},"Join"),this._createButtonLeave=e=>Ne.createElement("button",{key:"button-leave-"+e.matchID,onClick:()=>this.props.onClickLeave(e.gameName,e.matchID)},"Leave"),this._createButtonPlay=(e,n)=>Ne.createElement("button",{key:"button-play-"+e.matchID,onClick:()=>this.props.onClickPlay(e.gameName,{matchID:e.matchID,playerID:""+n,numPlayers:e.players.length})},"Play"),this._createButtonSpectate=e=>Ne.createElement("button",{key:"button-spectate-"+e.matchID,onClick:()=>this.props.onClickPlay(e.gameName,{matchID:e.matchID,numPlayers:e.players.length})},"Spectate"),this._createInstanceButtons=e=>{const n=e.players.find(a=>a.name===this.props.playerName),s=e.players.find(a=>!a.name);return n&&s?this._createButtonLeave(e):s?this._createButtonJoin(e,s.id):n?Ne.createElement("div",null,[this._createButtonPlay(e,n.id),this._createButtonLeave(e)]):this._createButtonSpectate(e)}}render(){const e=this.props.match;let n="OPEN";return e.players.some(s=>!s.name)||(n="RUNNING"),Ne.createElement("tr",{key:"line-"+e.matchID},Ne.createElement("td",{key:"cell-name-"+e.matchID},e.gameName),Ne.createElement("td",{key:"cell-status-"+e.matchID},n),Ne.createElement("td",{key:"cell-seats-"+e.matchID},e.players.map(s=>this._createSeat(s)).join(", ")),Ne.createElement("td",{key:"cell-buttons-"+e.matchID},this._createInstanceButtons(e)))}}class Q5 extends Ne.Component{constructor(e){super(e),this.state={selectedGame:0,numPlayers:2},this._createGameNameOption=(n,s)=>Ne.createElement("option",{key:"name-option-"+s,value:s},n.game.name),this._createNumPlayersOption=n=>Ne.createElement("option",{key:"num-option-"+n,value:n},n),this._createNumPlayersRange=n=>Array.from({length:n.maxPlayers+1}).map((s,a)=>a).slice(n.minPlayers),this.onChangeNumPlayers=n=>{this.setState({numPlayers:Number.parseInt(n.target.value)})},this.onChangeSelectedGame=n=>{const s=Number.parseInt(n.target.value);this.setState({selectedGame:s,numPlayers:this.props.games[s].game.minPlayers})},this.onClickCreate=()=>{this.props.createMatch(this.props.games[this.state.selectedGame].game.name,this.state.numPlayers)};for(const n of e.games){const s=n.game;s.minPlayers||(s.minPlayers=1),s.maxPlayers||(s.maxPlayers=4),console.assert(s.maxPlayers>=s.minPlayers)}this.state={selectedGame:0,numPlayers:e.games[0].game.minPlayers}}render(){return Ne.createElement("div",null,Ne.createElement("select",{value:this.state.selectedGame,onChange:e=>this.onChangeSelectedGame(e)},this.props.games.map((e,n)=>this._createGameNameOption(e,n))),Ne.createElement("span",null,"Players:"),Ne.createElement("select",{value:this.state.numPlayers,onChange:this.onChangeNumPlayers},this._createNumPlayersRange(this.props.games[this.state.selectedGame].game).map(e=>this._createNumPlayersOption(e))),Ne.createElement("span",{className:"buttons"},Ne.createElement("button",{onClick:this.onClickCreate},"Create")))}}var or;(function(t){t.ENTER="enter",t.PLAY="play",t.LIST="list"})(or||(or={}));class ZE extends Ne.Component{constructor(e){super(e),this.state={phase:or.ENTER,playerName:"Visitor",runningMatch:null,errorMsg:"",credentialStore:{}},this._createConnection=n=>{const s=this.state.playerName;this.connection=K5({server:n.lobbyServer,gameComponents:n.gameComponents,playerName:s,playerCredentials:this.state.credentialStore[s]})},this._updateCredentials=(n,s)=>{this.setState(a=>{const c=Object.assign({},a.credentialStore);return c[n]=s,{credentialStore:c}})},this._updateConnection=async()=>{await this.connection.refresh(),this.forceUpdate()},this._enterLobby=n=>{this._startRefreshInterval(),this.setState({playerName:n,phase:or.LIST})},this._exitLobby=async()=>{this._clearRefreshInterval(),await this.connection.disconnect(),this.setState({phase:or.ENTER,errorMsg:""})},this._createMatch=async(n,s)=>{try{await this.connection.create(n,s),await this.connection.refresh(),this.setState({})}catch(a){this.setState({errorMsg:a.message})}},this._joinMatch=async(n,s,a)=>{try{await this.connection.join(n,s,a),await this.connection.refresh(),this._updateCredentials(this.connection.playerName,this.connection.playerCredentials)}catch(c){this.setState({errorMsg:c.message})}},this._leaveMatch=async(n,s)=>{try{await this.connection.leave(n,s),await this.connection.refresh(),this._updateCredentials(this.connection.playerName,this.connection.playerCredentials)}catch(a){this.setState({errorMsg:a.message})}},this._startMatch=(n,s)=>{const a=this.connection._getGameComponents(n);if(!a){this.setState({errorMsg:"game "+n+" not supported"});return}let c;if(s.numPlayers>1&&(c=this.props.gameServer?aS({server:this.props.gameServer}):aS()),s.numPlayers==1){const d=a.game.maxPlayers,h={};for(let y=1;y<d;y++)h[y+""]=Rk;c=F5({bots:h})}const f={app:this.props.clientFactory({game:a.game,board:a.board,debug:this.props.debug,multiplayer:c}),matchID:s.matchID,playerID:s.numPlayers>1?s.playerID:"0",credentials:this.connection.playerCredentials};this._clearRefreshInterval(),this.setState({phase:or.PLAY,runningMatch:f})},this._exitMatch=()=>{this._startRefreshInterval(),this.setState({phase:or.LIST,runningMatch:null})},this._getPhaseVisibility=n=>this.state.phase!==n?"hidden":"phase",this.renderMatches=(n,s)=>n.map(a=>{const{matchID:c,gameName:u,players:f}=a;return Ne.createElement(X5,{key:"instance-"+c,match:{matchID:c,gameName:u,players:Object.values(f)},playerName:s,onClickJoin:this._joinMatch,onClickLeave:this._leaveMatch,onClickPlay:this._startMatch})}),this._createConnection(this.props)}componentDidMount(){const e=J1.load("lobbyState")||{};e.phase&&e.phase===or.PLAY&&(e.phase=or.LIST),e.phase&&e.phase!==or.ENTER&&this._startRefreshInterval(),this.setState({phase:e.phase||or.ENTER,playerName:e.playerName||"Visitor",credentialStore:e.credentialStore||{}})}componentDidUpdate(e,n){const s=this.state.playerName,a=this.state.credentialStore[s];if(n.phase!==this.state.phase||n.credentialStore[s]!==a||n.playerName!==s){this._createConnection(this.props),this._updateConnection();const c={phase:this.state.phase,playerName:s,credentialStore:this.state.credentialStore};J1.save("lobbyState",c,{path:"/"})}e.refreshInterval!==this.props.refreshInterval&&this._startRefreshInterval()}componentWillUnmount(){this._clearRefreshInterval()}_startRefreshInterval(){this._clearRefreshInterval(),this._currentInterval=setInterval(this._updateConnection,this.props.refreshInterval)}_clearRefreshInterval(){clearInterval(this._currentInterval)}render(){const{gameComponents:e,renderer:n}=this.props,{errorMsg:s,playerName:a,phase:c,runningMatch:u}=this.state;return n?n({errorMsg:s,gameComponents:e,matches:this.connection.matches,phase:c,playerName:a,runningMatch:u,handleEnterLobby:this._enterLobby,handleExitLobby:this._exitLobby,handleCreateMatch:this._createMatch,handleJoinMatch:this._joinMatch,handleLeaveMatch:this._leaveMatch,handleExitMatch:this._exitMatch,handleRefreshMatches:this._updateConnection,handleStartMatch:this._startMatch}):Ne.createElement("div",{id:"lobby-view",style:{padding:50}},Ne.createElement("div",{className:this._getPhaseVisibility(or.ENTER)},Ne.createElement(QE,{key:a,playerName:a,onEnter:this._enterLobby})),Ne.createElement("div",{className:this._getPhaseVisibility(or.LIST)},Ne.createElement("p",null,"Welcome, ",a),Ne.createElement("div",{className:"phase-title",id:"match-creation"},Ne.createElement("span",null,"Create a match:"),Ne.createElement(Q5,{games:e,createMatch:this._createMatch})),Ne.createElement("p",{className:"phase-title"},"Join a match:"),Ne.createElement("div",{id:"instances"},Ne.createElement("table",null,Ne.createElement("tbody",null,this.renderMatches(this.connection.matches,a))),Ne.createElement("span",{className:"error-msg"},s,Ne.createElement("br",null))),Ne.createElement("p",{className:"phase-title"},"Matches that become empty are automatically deleted.")),Ne.createElement("div",{className:this._getPhaseVisibility(or.PLAY)},u&&Ne.createElement(u.app,{matchID:u.matchID,playerID:u.playerID,credentials:u.credentials}),Ne.createElement("div",{className:"buttons",id:"match-exit"},Ne.createElement("button",{onClick:this._exitMatch},"Exit match"))),Ne.createElement("div",{className:"buttons",id:"lobby-exit"},Ne.createElement("button",{onClick:this._exitLobby},"Exit lobby")))}}ZE.propTypes={gameComponents:is.array.isRequired,lobbyServer:is.string,gameServer:is.string,debug:is.bool,clientFactory:is.func,refreshInterval:is.number};ZE.defaultProps={debug:!1,clientFactory:XE,refreshInterval:2e3};function Z5({title:t="Connecting",description:e="Hang tight while we get everything ready.",roomCode:n,topRightSlot:s}){return b.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-gradient-to-br from-primary/10 via-background to-secondary/10",children:[s,b.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_top,_theme(colors.primary/15),transparent_60%)]"}),b.jsx("div",{className:"relative flex min-h-screen flex-col items-center justify-center px-6 py-16",children:b.jsxs("div",{className:"w-full max-w-md space-y-6 rounded-3xl border border-border/50 bg-background/90 p-10 text-center shadow-xl backdrop-blur",children:[b.jsx("div",{className:"flex items-center justify-center",children:b.jsx(py,{className:"h-12 w-12 animate-spin text-primary"})}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h2",{className:"text-2xl font-heading",children:t}),e?b.jsx("p",{className:"text-sm text-muted-foreground",children:e}):null]}),n?b.jsx("div",{className:"flex justify-center",children:b.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-border/70 bg-muted/40 px-4 py-2 font-mono text-xs uppercase tracking-[0.3em] text-muted-foreground",children:["Room",b.jsx("span",{className:"text-foreground",children:n})]})}):null]})})]})}const Jm=()=>typeof window>"u"?"Player":localStorage.getItem("playerName")||"Player",J5=t=>{if(typeof window>"u")return t;const e=sessionStorage.getItem("musicshowdown.pendingRole");if(e==="host"||e==="peer")return sessionStorage.removeItem("musicshowdown.pendingRole"),e;const n=sessionStorage.getItem("musicshowdown.lastRole");return n==="host"||n==="peer"?n:t},W5=t=>{typeof window<"u"&&sessionStorage.setItem("musicshowdown.lastRole",t)},e8=(t,e)=>{const n=typeof window<"u"?sessionStorage.getItem("musicshowdown.pendingRole"):null,s=ng(t);if(s&&!n)return typeof window<"u"&&sessionStorage.setItem("musicshowdown.lastRole",s.role),s;s&&n&&vk(t);const a=J5(e);if(a==="peer")return PE(Jm());const c=NE(t,a,Jm());return typeof window<"u"&&sessionStorage.setItem("musicshowdown.lastRole",c.role),c};function t8({roomCode:t,defaultRole:e,board:n}){const[s,a]=R.useState(()=>e8(t,e)),c=R.useCallback(x=>{a(S=>{const C=typeof x=="function"?x(S):x;return W5(C.role),C})},[]),u=R.useCallback(x=>{const S=x.trim().slice(0,24);S&&(typeof window<"u"&&localStorage.setItem("playerName",S),c(C=>C.role==="spectator"?{...C,playerName:S}:NE(t,C.role,S)))},[t,c]),f=R.useCallback(x=>{c(S=>{const C=x?.trim().slice(0,24)||S.playerName;return gk(t,C)})},[t,c]),d=R.useCallback(x=>{c(S=>{if(S.role==="host")return S;const C=S.playerName.trim()||Jm();return{...mk(t,C,x),role:"peer"}})},[t,c]),h=R.useCallback(()=>{c(x=>x.role!=="peer"||x.playerID===Pc?x:(yk(t,x.playerID),PE(x.playerName)))},[t,c]),y=R.useMemo(()=>{const x=n;return function(C){return b.jsx(x,{...C,identity:s,isHost:s.role==="host",updatePlayerName:u,promoteToHost:f,claimSeat:d,releaseSeat:h})}},[n,s,f,u,d,h]),g=R.useMemo(()=>XE({game:hk,board:y,multiplayer:ds.P2P({isHost:s.role==="host",onError:x=>alert(x.message),peerOptions:{secure:!0}}),numPlayers:$c,debug:!1,loading:()=>b.jsx(Z5,{title:"Connecting to your room",description:"Setting the stage and syncing players. Hang tightthis should only take a moment.",roomCode:t,topRightSlot:b.jsx("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:b.jsx(Cy,{})})})}),[y,s.role]);return b.jsx(g,{matchID:t,playerID:s.role==="spectator"?void 0:s.playerID,credentials:s.role==="spectator"?void 0:s.credentials},`${t}:${s.playerID}:${s.credentials}:${s.role}`)}const Jf=IA({component:zP}),n8=Tf({getParentRoute:()=>Jf,path:"/music-showdown/",component:YP}),JE=Tf({getParentRoute:()=>Jf,path:"/music-showdown/game/$roomCode",component:()=>{const{roomCode:t}=JE.useParams();return typeof window<"u"&&(sessionStorage.getItem("musicshowdown.pendingRole")||sessionStorage.setItem("musicshowdown.pendingRole","peer")),b.jsx(t8,{roomCode:t,defaultRole:"peer",board:bk})}}),r8=Tf({getParentRoute:()=>Jf,path:"*",component:Sk}),s8=Jf.addChildren([n8,JE,r8]),i8=KA({routeTree:s8});l2.createRoot(document.getElementById("root")).render(b.jsx(ZA,{router:i8}));
