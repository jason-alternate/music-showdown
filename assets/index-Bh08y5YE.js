function J1(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const c=Object.getOwnPropertyDescriptor(i,a);c&&Object.defineProperty(t,a,c.get?c:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var Dx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ic(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mf(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){var a=!1;try{a=this instanceof i}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var a=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:function(){return t[i]}})}),n}var Zh={exports:{}},ic={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kx;function YR(){if(kx)return ic;kx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,c){var u=null;if(c!==void 0&&(u=""+c),a.key!==void 0&&(u=""+a.key),"key"in a){c={};for(var f in a)f!=="key"&&(c[f]=a[f])}else c=a;return a=c.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:c}}return ic.Fragment=e,ic.jsx=n,ic.jsxs=n,ic}var jx;function GR(){return jx||(jx=1,Zh.exports=YR()),Zh.exports}var b=GR(),Jh={exports:{}},sc={},Wh={exports:{}},ep={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lx;function KR(){return Lx||(Lx=1,(function(t){function e(H,se){var Z=H.length;H.push(se);e:for(;0<Z;){var ke=Z-1>>>1,Je=H[ke];if(0<a(Je,se))H[ke]=se,H[Z]=Je,Z=ke;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var se=H[0],Z=H.pop();if(Z!==se){H[0]=Z;e:for(var ke=0,Je=H.length,z=Je>>>1;ke<z;){var ee=2*(ke+1)-1,le=H[ee],pe=ee+1,Se=H[pe];if(0>a(le,Z))pe<Je&&0>a(Se,le)?(H[ke]=Se,H[pe]=Z,ke=pe):(H[ke]=le,H[ee]=Z,ke=ee);else if(pe<Je&&0>a(Se,Z))H[ke]=Se,H[pe]=Z,ke=pe;else break e}}return se}function a(H,se){var Z=H.sortIndex-se.sortIndex;return Z!==0?Z:H.id-se.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var d=[],h=[],m=1,g=null,x=3,S=!1,E=!1,C=!1,M=!1,D=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function j(H){for(var se=n(h);se!==null;){if(se.callback===null)i(h);else if(se.startTime<=H)i(h),se.sortIndex=se.expirationTime,e(d,se);else break;se=n(h)}}function Y(H){if(C=!1,j(H),!E)if(n(d)!==null)E=!0,J||(J=!0,Ee());else{var se=n(h);se!==null&&Pe(Y,se.startTime-H)}}var J=!1,V=-1,G=5,me=-1;function xe(){return M?!0:!(t.unstable_now()-me<G)}function ve(){if(M=!1,J){var H=t.unstable_now();me=H;var se=!0;try{e:{E=!1,C&&(C=!1,N(V),V=-1),S=!0;var Z=x;try{t:{for(j(H),g=n(d);g!==null&&!(g.expirationTime>H&&xe());){var ke=g.callback;if(typeof ke=="function"){g.callback=null,x=g.priorityLevel;var Je=ke(g.expirationTime<=H);if(H=t.unstable_now(),typeof Je=="function"){g.callback=Je,j(H),se=!0;break t}g===n(d)&&i(d),j(H)}else i(d);g=n(d)}if(g!==null)se=!0;else{var z=n(h);z!==null&&Pe(Y,z.startTime-H),se=!1}}break e}finally{g=null,x=Z,S=!1}se=void 0}}finally{se?Ee():J=!1}}}var Ee;if(typeof k=="function")Ee=function(){k(ve)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,_e=Ye.port2;Ye.port1.onmessage=ve,Ee=function(){_e.postMessage(null)}}else Ee=function(){D(ve,0)};function Pe(H,se){V=D(function(){H(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(H){switch(x){case 1:case 2:case 3:var se=3;break;default:se=x}var Z=x;x=se;try{return H()}finally{x=Z}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(H,se){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Z=x;x=H;try{return se()}finally{x=Z}},t.unstable_scheduleCallback=function(H,se,Z){var ke=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ke+Z:ke):Z=ke,H){case 1:var Je=-1;break;case 2:Je=250;break;case 5:Je=1073741823;break;case 4:Je=1e4;break;default:Je=5e3}return Je=Z+Je,H={id:m++,callback:se,priorityLevel:H,startTime:Z,expirationTime:Je,sortIndex:-1},Z>ke?(H.sortIndex=Z,e(h,H),n(d)===null&&H===n(h)&&(C?(N(V),V=-1):C=!0,Pe(Y,Z-ke))):(H.sortIndex=Je,e(d,H),E||S||(E=!0,J||(J=!0,Ee()))),H},t.unstable_shouldYield=xe,t.unstable_wrapCallback=function(H){var se=x;return function(){var Z=x;x=se;try{return H.apply(this,arguments)}finally{x=Z}}}})(ep)),ep}var Ux;function XR(){return Ux||(Ux=1,Wh.exports=KR()),Wh.exports}var tp={exports:{}},ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zx;function QR(){if(zx)return ft;zx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function S(z){return z===null||typeof z!="object"?null:(z=x&&z[x]||z["@@iterator"],typeof z=="function"?z:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,M={};function D(z,ee,le){this.props=z,this.context=ee,this.refs=M,this.updater=le||E}D.prototype.isReactComponent={},D.prototype.setState=function(z,ee){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ee,"setState")},D.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function N(){}N.prototype=D.prototype;function k(z,ee,le){this.props=z,this.context=ee,this.refs=M,this.updater=le||E}var j=k.prototype=new N;j.constructor=k,C(j,D.prototype),j.isPureReactComponent=!0;var Y=Array.isArray;function J(){}var V={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function me(z,ee,le){var pe=le.ref;return{$$typeof:t,type:z,key:ee,ref:pe!==void 0?pe:null,props:le}}function xe(z,ee){return me(z.type,ee,z.props)}function ve(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function Ee(z){var ee={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(le){return ee[le]})}var Ye=/\/+/g;function _e(z,ee){return typeof z=="object"&&z!==null&&z.key!=null?Ee(""+z.key):ee.toString(36)}function Pe(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(J,J):(z.status="pending",z.then(function(ee){z.status==="pending"&&(z.status="fulfilled",z.value=ee)},function(ee){z.status==="pending"&&(z.status="rejected",z.reason=ee)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function H(z,ee,le,pe,Se){var Te=typeof z;(Te==="undefined"||Te==="boolean")&&(z=null);var je=!1;if(z===null)je=!0;else switch(Te){case"bigint":case"string":case"number":je=!0;break;case"object":switch(z.$$typeof){case t:case e:je=!0;break;case m:return je=z._init,H(je(z._payload),ee,le,pe,Se)}}if(je)return Se=Se(z),je=pe===""?"."+_e(z,0):pe,Y(Se)?(le="",je!=null&&(le=je.replace(Ye,"$&/")+"/"),H(Se,ee,le,"",function(K){return K})):Se!=null&&(ve(Se)&&(Se=xe(Se,le+(Se.key==null||z&&z.key===Se.key?"":(""+Se.key).replace(Ye,"$&/")+"/")+je)),ee.push(Se)),1;je=0;var Nt=pe===""?".":pe+":";if(Y(z))for(var I=0;I<z.length;I++)pe=z[I],Te=Nt+_e(pe,I),je+=H(pe,ee,le,Te,Se);else if(I=S(z),typeof I=="function")for(z=I.call(z),I=0;!(pe=z.next()).done;)pe=pe.value,Te=Nt+_e(pe,I++),je+=H(pe,ee,le,Te,Se);else if(Te==="object"){if(typeof z.then=="function")return H(Pe(z),ee,le,pe,Se);throw ee=String(z),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return je}function se(z,ee,le){if(z==null)return z;var pe=[],Se=0;return H(z,pe,"","",function(Te){return ee.call(le,Te,Se++)}),pe}function Z(z){if(z._status===-1){var ee=z._result;ee=ee(),ee.then(function(le){(z._status===0||z._status===-1)&&(z._status=1,z._result=le)},function(le){(z._status===0||z._status===-1)&&(z._status=2,z._result=le)}),z._status===-1&&(z._status=0,z._result=ee)}if(z._status===1)return z._result.default;throw z._result}var ke=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},Je={map:se,forEach:function(z,ee,le){se(z,function(){ee.apply(this,arguments)},le)},count:function(z){var ee=0;return se(z,function(){ee++}),ee},toArray:function(z){return se(z,function(ee){return ee})||[]},only:function(z){if(!ve(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return ft.Activity=g,ft.Children=Je,ft.Component=D,ft.Fragment=n,ft.Profiler=a,ft.PureComponent=k,ft.StrictMode=i,ft.Suspense=d,ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,ft.__COMPILER_RUNTIME={__proto__:null,c:function(z){return V.H.useMemoCache(z)}},ft.cache=function(z){return function(){return z.apply(null,arguments)}},ft.cacheSignal=function(){return null},ft.cloneElement=function(z,ee,le){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var pe=C({},z.props),Se=z.key;if(ee!=null)for(Te in ee.key!==void 0&&(Se=""+ee.key),ee)!G.call(ee,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&ee.ref===void 0||(pe[Te]=ee[Te]);var Te=arguments.length-2;if(Te===1)pe.children=le;else if(1<Te){for(var je=Array(Te),Nt=0;Nt<Te;Nt++)je[Nt]=arguments[Nt+2];pe.children=je}return me(z.type,Se,pe)},ft.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:c,_context:z},z},ft.createElement=function(z,ee,le){var pe,Se={},Te=null;if(ee!=null)for(pe in ee.key!==void 0&&(Te=""+ee.key),ee)G.call(ee,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(Se[pe]=ee[pe]);var je=arguments.length-2;if(je===1)Se.children=le;else if(1<je){for(var Nt=Array(je),I=0;I<je;I++)Nt[I]=arguments[I+2];Se.children=Nt}if(z&&z.defaultProps)for(pe in je=z.defaultProps,je)Se[pe]===void 0&&(Se[pe]=je[pe]);return me(z,Te,Se)},ft.createRef=function(){return{current:null}},ft.forwardRef=function(z){return{$$typeof:f,render:z}},ft.isValidElement=ve,ft.lazy=function(z){return{$$typeof:m,_payload:{_status:-1,_result:z},_init:Z}},ft.memo=function(z,ee){return{$$typeof:h,type:z,compare:ee===void 0?null:ee}},ft.startTransition=function(z){var ee=V.T,le={};V.T=le;try{var pe=z(),Se=V.S;Se!==null&&Se(le,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(J,ke)}catch(Te){ke(Te)}finally{ee!==null&&le.types!==null&&(ee.types=le.types),V.T=ee}},ft.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},ft.use=function(z){return V.H.use(z)},ft.useActionState=function(z,ee,le){return V.H.useActionState(z,ee,le)},ft.useCallback=function(z,ee){return V.H.useCallback(z,ee)},ft.useContext=function(z){return V.H.useContext(z)},ft.useDebugValue=function(){},ft.useDeferredValue=function(z,ee){return V.H.useDeferredValue(z,ee)},ft.useEffect=function(z,ee){return V.H.useEffect(z,ee)},ft.useEffectEvent=function(z){return V.H.useEffectEvent(z)},ft.useId=function(){return V.H.useId()},ft.useImperativeHandle=function(z,ee,le){return V.H.useImperativeHandle(z,ee,le)},ft.useInsertionEffect=function(z,ee){return V.H.useInsertionEffect(z,ee)},ft.useLayoutEffect=function(z,ee){return V.H.useLayoutEffect(z,ee)},ft.useMemo=function(z,ee){return V.H.useMemo(z,ee)},ft.useOptimistic=function(z,ee){return V.H.useOptimistic(z,ee)},ft.useReducer=function(z,ee,le){return V.H.useReducer(z,ee,le)},ft.useRef=function(z){return V.H.useRef(z)},ft.useState=function(z){return V.H.useState(z)},ft.useSyncExternalStore=function(z,ee,le){return V.H.useSyncExternalStore(z,ee,le)},ft.useTransition=function(){return V.H.useTransition()},ft.version="19.2.0",ft}var Ix;function Bc(){return Ix||(Ix=1,tp.exports=QR()),tp.exports}var np={exports:{}},qn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bx;function ZR(){if(Bx)return qn;Bx=1;var t=Bc();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function c(d,h,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:d,containerInfo:h,implementation:m}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,qn.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return c(d,h,null,m)},qn.flushSync=function(d){var h=u.T,m=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=h,i.p=m,i.d.f()}},qn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(d,h))},qn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},qn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,g=f(m,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,S=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?i.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:S}):m==="script"&&i.d.X(d,{crossOrigin:g,integrity:x,fetchPriority:S,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},qn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=f(h.as,h.crossOrigin);i.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(d)},qn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,g=f(m,h.crossOrigin);i.d.L(d,m,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},qn.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=f(h.as,h.crossOrigin);i.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(d)},qn.requestFormReset=function(d){i.d.r(d)},qn.unstable_batchedUpdates=function(d,h){return d(h)},qn.useFormState=function(d,h,m){return u.H.useFormState(d,h,m)},qn.useFormStatus=function(){return u.H.useHostTransitionStatus()},qn.version="19.2.0",qn}var Hx;function W1(){if(Hx)return np.exports;Hx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),np.exports=ZR(),np.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x;function JR(){if($x)return sc;$x=1;var t=XR(),e=Bc(),n=W1();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function c(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function d(r){if(c(r)!==r)throw Error(i(188))}function h(r){var s=r.alternate;if(!s){if(s=c(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,l=s;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(l=p.return,l!==null){o=l;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return d(p),r;if(y===l)return d(p),s;y=y.sibling}throw Error(i(188))}if(o.return!==l.return)o=p,l=y;else{for(var _=!1,O=p.child;O;){if(O===o){_=!0,o=p,l=y;break}if(O===l){_=!0,l=p,o=y;break}O=O.sibling}if(!_){for(O=y.child;O;){if(O===o){_=!0,o=y,l=p;break}if(O===l){_=!0,l=y,o=p;break}O=O.sibling}if(!_)throw Error(i(189))}}if(o.alternate!==l)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function m(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=m(r),s!==null)return s;r=r.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),k=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),me=Symbol.for("react.activity"),xe=Symbol.for("react.memo_cache_sentinel"),ve=Symbol.iterator;function Ee(r){return r===null||typeof r!="object"?null:(r=ve&&r[ve]||r["@@iterator"],typeof r=="function"?r:null)}var Ye=Symbol.for("react.client.reference");function _e(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===Ye?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case D:return"Profiler";case M:return"StrictMode";case Y:return"Suspense";case J:return"SuspenseList";case me:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case E:return"Portal";case k:return r.displayName||"Context";case N:return(r._context.displayName||"Context")+".Consumer";case j:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case V:return s=r.displayName||null,s!==null?s:_e(r.type)||"Memo";case G:s=r._payload,r=r._init;try{return _e(r(s))}catch{}}return null}var Pe=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ke=[],Je=-1;function z(r){return{current:r}}function ee(r){0>Je||(r.current=ke[Je],ke[Je]=null,Je--)}function le(r,s){Je++,ke[Je]=r.current,r.current=s}var pe=z(null),Se=z(null),Te=z(null),je=z(null);function Nt(r,s){switch(le(Te,s),le(Se,r),le(pe,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?nx(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=nx(s),r=rx(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ee(pe),le(pe,r)}function I(){ee(pe),ee(Se),ee(Te)}function K(r){r.memoizedState!==null&&le(je,r);var s=pe.current,o=rx(s,r.type);s!==o&&(le(Se,r),le(pe,o))}function fe(r){Se.current===r&&(ee(pe),ee(Se)),je.current===r&&(ee(je),ec._currentValue=Z)}var Ce,Fe;function Ue(r){if(Ce===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Ce=s&&s[1]||"",Fe=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ce+r+Fe}var Tt=!1;function xt(r,s){if(!r||Tt)return"";Tt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(re){var W=re}Reflect.construct(r,[],he)}else{try{he.call()}catch(re){W=re}r.call(he.prototype)}}else{try{throw Error()}catch(re){W=re}(he=r())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(re){if(re&&W&&typeof re.stack=="string")return[re.stack,W.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=l.DetermineComponentFrameRoot(),_=y[0],O=y[1];if(_&&O){var U=_.split(`
`),Q=O.split(`
`);for(p=l=0;l<U.length&&!U[l].includes("DetermineComponentFrameRoot");)l++;for(;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;if(l===U.length||p===Q.length)for(l=U.length-1,p=Q.length-1;1<=l&&0<=p&&U[l]!==Q[p];)p--;for(;1<=l&&0<=p;l--,p--)if(U[l]!==Q[p]){if(l!==1||p!==1)do if(l--,p--,0>p||U[l]!==Q[p]){var oe=`
`+U[l].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=l&&0<=p);break}}}finally{Tt=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Ue(o):""}function Jt(r,s){switch(r.tag){case 26:case 27:case 5:return Ue(r.type);case 16:return Ue("Lazy");case 13:return r.child!==s&&s!==null?Ue("Suspense Fallback"):Ue("Suspense");case 19:return Ue("SuspenseList");case 0:case 15:return xt(r.type,!1);case 11:return xt(r.type.render,!1);case 1:return xt(r.type,!0);case 31:return Ue("Activity");default:return""}}function Dt(r){try{var s="",o=null;do s+=Jt(r,o),o=r,r=r.return;while(r);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var St=Object.prototype.hasOwnProperty,zt=t.unstable_scheduleCallback,Zt=t.unstable_cancelCallback,xn=t.unstable_shouldYield,it=t.unstable_requestPaint,dt=t.unstable_now,cn=t.unstable_getCurrentPriorityLevel,Tn=t.unstable_ImmediatePriority,Er=t.unstable_UserBlockingPriority,hn=t.unstable_NormalPriority,yi=t.unstable_LowPriority,Qr=t.unstable_IdlePriority,Ps=t.log,Ns=t.unstable_setDisableYieldValue,Cr=null,pn=null;function Ln(r){if(typeof Ps=="function"&&Ns(r),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(Cr,r)}catch{}}var ln=Math.clz32?Math.clz32:vi,Xi=Math.log,gi=Math.LN2;function vi(r){return r>>>=0,r===0?32:31-(Xi(r)/gi|0)|0}var Zr=256,xi=262144,Qi=4194304;function zr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Un(r,s,o){var l=r.pendingLanes;if(l===0)return 0;var p=0,y=r.suspendedLanes,_=r.pingedLanes;r=r.warmLanes;var O=l&134217727;return O!==0?(l=O&~y,l!==0?p=zr(l):(_&=O,_!==0?p=zr(_):o||(o=O&~r,o!==0&&(p=zr(o))))):(O=l&~y,O!==0?p=zr(O):_!==0?p=zr(_):o||(o=l&~r,o!==0&&(p=zr(o)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:p}function Vn(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Ir(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zi(){var r=Qi;return Qi<<=1,(Qi&62914560)===0&&(Qi=4194304),r}function ie(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function be(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function at(r,s,o,l,p,y){var _=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var O=r.entanglements,U=r.expirationTimes,Q=r.hiddenUpdates;for(o=_&~o;0<o;){var oe=31-ln(o),he=1<<oe;O[oe]=0,U[oe]=-1;var W=Q[oe];if(W!==null)for(Q[oe]=null,oe=0;oe<W.length;oe++){var re=W[oe];re!==null&&(re.lane&=-536870913)}o&=~he}l!==0&&pt(r,l,0),y!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=y&~(_&~s))}function pt(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var l=31-ln(s);r.entangledLanes|=s,r.entanglements[l]=r.entanglements[l]|1073741824|o&261930}function Yt(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var l=31-ln(o),p=1<<l;p&s|r[l]&s&&(r[l]|=s),o&=~p}}function w(r,s){var o=s&-s;return o=(o&42)!==0?1:A(o),(o&(r.suspendedLanes|s))!==0?0:o}function A(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function R(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function v(){var r=se.p;return r!==0?r:(r=window.event,r===void 0?32:Tx(r.type))}function P(r,s){var o=se.p;try{return se.p=r,s()}finally{se.p=o}}var $=Math.random().toString(36).slice(2),q="__reactFiber$"+$,ae="__reactProps$"+$,we="__reactContainer$"+$,ze="__reactEvents$"+$,Oe="__reactListeners$"+$,Ot="__reactHandles$"+$,Ne="__reactResources$"+$,Ze="__reactMarker$"+$;function nt(r){delete r[q],delete r[ae],delete r[ze],delete r[Oe],delete r[Ot]}function st(r){var s=r[q];if(s)return s;for(var o=r.parentNode;o;){if(s=o[we]||o[q]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=ux(r);r!==null;){if(o=r[q])return o;r=ux(r)}return s}r=o,o=r.parentNode}return null}function rt(r){if(r=r[q]||r[we]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function We(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function et(r){var s=r[Ne];return s||(s=r[Ne]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ie(r){r[Ze]=!0}var Le=new Set,Ke={};function Re(r,s){Me(r,s),Me(r+"Capture",s)}function Me(r,s){for(Ke[r]=s,r=0;r<s.length;r++)Le.add(s[r])}var He=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ae={},te={};function ne(r){return St.call(te,r)?!0:St.call(Ae,r)?!1:He.test(r)?te[r]=!0:(Ae[r]=!0,!1)}function ge(r,s,o){if(ne(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function de(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function ce(r,s,o,l){if(l===null)r.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+l)}}function ye(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Xe(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ut(r,s,o){var l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(_){o=""+_,y.call(this,_)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ct(r){if(!r._valueTracker){var s=Xe(r)?"checked":"value";r._valueTracker=ut(r,s,""+r[s])}}function lt(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),l="";return r&&(l=Xe(r)?r.checked?"true":"false":r.value),r=l,r!==o?(s.setValue(r),!0):!1}function L(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var yt=/[\n"\\]/g;function ot(r){return r.replace(yt,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function wt(r,s,o,l,p,y,_,O){r.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?r.type=_:r.removeAttribute("type"),s!=null?_==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+ye(s)):r.value!==""+ye(s)&&(r.value=""+ye(s)):_!=="submit"&&_!=="reset"||r.removeAttribute("value"),s!=null?_t(r,_,ye(s)):o!=null?_t(r,_,ye(o)):l!=null&&r.removeAttribute("value"),p==null&&y!=null&&(r.defaultChecked=!!y),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.name=""+ye(O):r.removeAttribute("name")}function ht(r,s,o,l,p,y,_,O){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){ct(r);return}o=o!=null?""+ye(o):"",s=s!=null?""+ye(s):o,O||s===r.value||(r.value=s),r.defaultValue=s}l=l??p,l=typeof l!="function"&&typeof l!="symbol"&&!!l,r.checked=O?r.checked:!!l,r.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.name=_),ct(r)}function _t(r,s,o){s==="number"&&L(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function gt(r,s,o,l){if(r=r.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<r.length;o++)p=s.hasOwnProperty("$"+r[o].value),r[o].selected!==p&&(r[o].selected=p),p&&l&&(r[o].defaultSelected=!0)}else{for(o=""+ye(o),s=null,p=0;p<r.length;p++){if(r[p].value===o){r[p].selected=!0,l&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function rn(r,s,o){if(s!=null&&(s=""+ye(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+ye(o):""}function kt(r,s,o,l){if(s==null){if(l!=null){if(o!=null)throw Error(i(92));if(Pe(l)){if(1<l.length)throw Error(i(93));l=l[0]}o=l}o==null&&(o=""),s=o}o=ye(s),r.defaultValue=o,l=r.textContent,l===o&&l!==""&&l!==null&&(r.value=l),ct(r)}function $t(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var sn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wt(r,s,o){var l=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?l?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":l?r.setProperty(s,o):typeof o!="number"||o===0||sn.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function un(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var l in o)!o.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="");for(var p in s)l=s[p],s.hasOwnProperty(p)&&o[p]!==l&&Wt(r,p,l)}else for(var y in s)s.hasOwnProperty(y)&&Wt(r,y,s[y])}function bn(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kc(r){return Dn.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function bi(){}var Kf=null;function Xf(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var pa=null,ma=null;function tg(r){var s=rt(r);if(s&&(r=s.stateNode)){var o=r[ae]||null;e:switch(r=s.stateNode,s.type){case"input":if(wt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ot(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var l=o[s];if(l!==r&&l.form===r.form){var p=l[ae]||null;if(!p)throw Error(i(90));wt(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)l=o[s],l.form===r.form&&lt(l)}break e;case"textarea":rn(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&gt(r,!!o.multiple,s,!1)}}}var Qf=!1;function ng(r,s,o){if(Qf)return r(s,o);Qf=!0;try{var l=r(s);return l}finally{if(Qf=!1,(pa!==null||ma!==null)&&(jl(),pa&&(s=pa,r=ma,ma=pa=null,tg(s),r)))for(s=0;s<r.length;s++)tg(r[s])}}function go(r,s){var o=r.stateNode;if(o===null)return null;var l=o[ae]||null;if(l===null)return null;o=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(r=r.type,l=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!l;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zf=!1;if(Si)try{var vo={};Object.defineProperty(vo,"passive",{get:function(){Zf=!0}}),window.addEventListener("test",vo,vo),window.removeEventListener("test",vo,vo)}catch{Zf=!1}var Ji=null,Jf=null,Xc=null;function rg(){if(Xc)return Xc;var r,s=Jf,o=s.length,l,p="value"in Ji?Ji.value:Ji.textContent,y=p.length;for(r=0;r<o&&s[r]===p[r];r++);var _=o-r;for(l=1;l<=_&&s[o-l]===p[y-l];l++);return Xc=p.slice(r,1<l?1-l:void 0)}function Qc(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Zc(){return!0}function ig(){return!1}function nr(r){function s(o,l,p,y,_){this._reactName=o,this._targetInst=p,this.type=l,this.nativeEvent=y,this.target=_,this.currentTarget=null;for(var O in r)r.hasOwnProperty(O)&&(o=r[O],this[O]=o?o(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Zc:ig,this.isPropagationStopped=ig,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Zc)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Zc)},persist:function(){},isPersistent:Zc}),s}var Ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jc=nr(Ds),xo=g({},Ds,{view:0,detail:0}),qC=nr(xo),Wf,ed,bo,Wc=g({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nd,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==bo&&(bo&&r.type==="mousemove"?(Wf=r.screenX-bo.screenX,ed=r.screenY-bo.screenY):ed=Wf=0,bo=r),Wf)},movementY:function(r){return"movementY"in r?r.movementY:ed}}),sg=nr(Wc),FC=g({},Wc,{dataTransfer:0}),YC=nr(FC),GC=g({},xo,{relatedTarget:0}),td=nr(GC),KC=g({},Ds,{animationName:0,elapsedTime:0,pseudoElement:0}),XC=nr(KC),QC=g({},Ds,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ZC=nr(QC),JC=g({},Ds,{data:0}),ag=nr(JC),WC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nT(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=tT[r])?!!s[r]:!1}function nd(){return nT}var rT=g({},xo,{key:function(r){if(r.key){var s=WC[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Qc(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?eT[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nd,charCode:function(r){return r.type==="keypress"?Qc(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Qc(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),iT=nr(rT),sT=g({},Wc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),og=nr(sT),aT=g({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nd}),oT=nr(aT),cT=g({},Ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),lT=nr(cT),uT=g({},Wc,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),fT=nr(uT),dT=g({},Ds,{newState:0,oldState:0}),hT=nr(dT),pT=[9,13,27,32],rd=Si&&"CompositionEvent"in window,So=null;Si&&"documentMode"in document&&(So=document.documentMode);var mT=Si&&"TextEvent"in window&&!So,cg=Si&&(!rd||So&&8<So&&11>=So),lg=" ",ug=!1;function fg(r,s){switch(r){case"keyup":return pT.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ya=!1;function yT(r,s){switch(r){case"compositionend":return dg(s);case"keypress":return s.which!==32?null:(ug=!0,lg);case"textInput":return r=s.data,r===lg&&ug?null:r;default:return null}}function gT(r,s){if(ya)return r==="compositionend"||!rd&&fg(r,s)?(r=rg(),Xc=Jf=Ji=null,ya=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return cg&&s.locale!=="ko"?null:s.data;default:return null}}var vT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hg(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!vT[r.type]:s==="textarea"}function pg(r,s,o,l){pa?ma?ma.push(l):ma=[l]:pa=l,s=$l(s,"onChange"),0<s.length&&(o=new Jc("onChange","change",null,o,l),r.push({event:o,listeners:s}))}var _o=null,wo=null;function xT(r){Qv(r,0)}function el(r){var s=We(r);if(lt(s))return r}function mg(r,s){if(r==="change")return s}var yg=!1;if(Si){var id;if(Si){var sd="oninput"in document;if(!sd){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),sd=typeof gg.oninput=="function"}id=sd}else id=!1;yg=id&&(!document.documentMode||9<document.documentMode)}function vg(){_o&&(_o.detachEvent("onpropertychange",xg),wo=_o=null)}function xg(r){if(r.propertyName==="value"&&el(wo)){var s=[];pg(s,wo,r,Xf(r)),ng(xT,s)}}function bT(r,s,o){r==="focusin"?(vg(),_o=s,wo=o,_o.attachEvent("onpropertychange",xg)):r==="focusout"&&vg()}function ST(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return el(wo)}function _T(r,s){if(r==="click")return el(s)}function wT(r,s){if(r==="input"||r==="change")return el(s)}function ET(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var fr=typeof Object.is=="function"?Object.is:ET;function Eo(r,s){if(fr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),l=Object.keys(s);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var p=o[l];if(!St.call(s,p)||!fr(r[p],s[p]))return!1}return!0}function bg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Sg(r,s){var o=bg(r);r=0;for(var l;o;){if(o.nodeType===3){if(l=r+o.textContent.length,r<=s&&l>=s)return{node:o,offset:s-r};r=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=bg(o)}}function _g(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?_g(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function wg(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=L(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=L(r.document)}return s}function ad(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var CT=Si&&"documentMode"in document&&11>=document.documentMode,ga=null,od=null,Co=null,cd=!1;function Eg(r,s,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;cd||ga==null||ga!==L(l)||(l=ga,"selectionStart"in l&&ad(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Co&&Eo(Co,l)||(Co=l,l=$l(od,"onSelect"),0<l.length&&(s=new Jc("onSelect","select",null,s,o),r.push({event:s,listeners:l}),s.target=ga)))}function ks(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var va={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},ld={},Cg={};Si&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function js(r){if(ld[r])return ld[r];if(!va[r])return r;var s=va[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Cg)return ld[r]=s[o];return r}var Tg=js("animationend"),Rg=js("animationiteration"),Ag=js("animationstart"),TT=js("transitionrun"),RT=js("transitionstart"),AT=js("transitioncancel"),Og=js("transitionend"),Mg=new Map,ud="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ud.push("scrollEnd");function Br(r,s){Mg.set(r,s),Re(s,[r])}var tl=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Tr=[],xa=0,fd=0;function nl(){for(var r=xa,s=fd=xa=0;s<r;){var o=Tr[s];Tr[s++]=null;var l=Tr[s];Tr[s++]=null;var p=Tr[s];Tr[s++]=null;var y=Tr[s];if(Tr[s++]=null,l!==null&&p!==null){var _=l.pending;_===null?p.next=p:(p.next=_.next,_.next=p),l.pending=p}y!==0&&Pg(o,p,y)}}function rl(r,s,o,l){Tr[xa++]=r,Tr[xa++]=s,Tr[xa++]=o,Tr[xa++]=l,fd|=l,r.lanes|=l,r=r.alternate,r!==null&&(r.lanes|=l)}function dd(r,s,o,l){return rl(r,s,o,l),il(r)}function Ls(r,s){return rl(r,null,null,s),il(r)}function Pg(r,s,o){r.lanes|=o;var l=r.alternate;l!==null&&(l.lanes|=o);for(var p=!1,y=r.return;y!==null;)y.childLanes|=o,l=y.alternate,l!==null&&(l.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(p=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,p&&s!==null&&(p=31-ln(o),r=y.hiddenUpdates,l=r[p],l===null?r[p]=[s]:l.push(s),s.lane=o|536870912),y):null}function il(r){if(50<Go)throw Go=0,Sh=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var ba={};function OT(r,s,o,l){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(r,s,o,l){return new OT(r,s,o,l)}function hd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function _i(r,s){var o=r.alternate;return o===null?(o=dr(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Ng(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function sl(r,s,o,l,p,y){var _=0;if(l=r,typeof r=="function")hd(r)&&(_=1);else if(typeof r=="string")_=kR(r,o,pe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case me:return r=dr(31,o,s,p),r.elementType=me,r.lanes=y,r;case C:return Us(o.children,p,y,s);case M:_=8,p|=24;break;case D:return r=dr(12,o,s,p|2),r.elementType=D,r.lanes=y,r;case Y:return r=dr(13,o,s,p),r.elementType=Y,r.lanes=y,r;case J:return r=dr(19,o,s,p),r.elementType=J,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:_=10;break e;case N:_=9;break e;case j:_=11;break e;case V:_=14;break e;case G:_=16,l=null;break e}_=29,o=Error(i(130,r===null?"null":typeof r,"")),l=null}return s=dr(_,o,s,p),s.elementType=r,s.type=l,s.lanes=y,s}function Us(r,s,o,l){return r=dr(7,r,l,s),r.lanes=o,r}function pd(r,s,o){return r=dr(6,r,null,s),r.lanes=o,r}function Dg(r){var s=dr(18,null,null,0);return s.stateNode=r,s}function md(r,s,o){return s=dr(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var kg=new WeakMap;function Rr(r,s){if(typeof r=="object"&&r!==null){var o=kg.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Dt(s)},kg.set(r,s),s)}return{value:r,source:s,stack:Dt(s)}}var Sa=[],_a=0,al=null,To=0,Ar=[],Or=0,Wi=null,Jr=1,Wr="";function wi(r,s){Sa[_a++]=To,Sa[_a++]=al,al=r,To=s}function jg(r,s,o){Ar[Or++]=Jr,Ar[Or++]=Wr,Ar[Or++]=Wi,Wi=r;var l=Jr;r=Wr;var p=32-ln(l)-1;l&=~(1<<p),o+=1;var y=32-ln(s)+p;if(30<y){var _=p-p%5;y=(l&(1<<_)-1).toString(32),l>>=_,p-=_,Jr=1<<32-ln(s)+p|o<<p|l,Wr=y+r}else Jr=1<<y|o<<p|l,Wr=r}function yd(r){r.return!==null&&(wi(r,1),jg(r,1,0))}function gd(r){for(;r===al;)al=Sa[--_a],Sa[_a]=null,To=Sa[--_a],Sa[_a]=null;for(;r===Wi;)Wi=Ar[--Or],Ar[Or]=null,Wr=Ar[--Or],Ar[Or]=null,Jr=Ar[--Or],Ar[Or]=null}function Lg(r,s){Ar[Or++]=Jr,Ar[Or++]=Wr,Ar[Or++]=Wi,Jr=s.id,Wr=s.overflow,Wi=r}var zn=null,en=null,Mt=!1,es=null,Mr=!1,vd=Error(i(519));function ts(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ro(Rr(s,r)),vd}function Ug(r){var s=r.stateNode,o=r.type,l=r.memoizedProps;switch(s[q]=r,s[ae]=l,o){case"dialog":Ct("cancel",s),Ct("close",s);break;case"iframe":case"object":case"embed":Ct("load",s);break;case"video":case"audio":for(o=0;o<Xo.length;o++)Ct(Xo[o],s);break;case"source":Ct("error",s);break;case"img":case"image":case"link":Ct("error",s),Ct("load",s);break;case"details":Ct("toggle",s);break;case"input":Ct("invalid",s),ht(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ct("invalid",s);break;case"textarea":Ct("invalid",s),kt(s,l.value,l.defaultValue,l.children)}o=l.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||l.suppressHydrationWarning===!0||ex(s.textContent,o)?(l.popover!=null&&(Ct("beforetoggle",s),Ct("toggle",s)),l.onScroll!=null&&Ct("scroll",s),l.onScrollEnd!=null&&Ct("scrollend",s),l.onClick!=null&&(s.onclick=bi),s=!0):s=!1,s||ts(r,!0)}function zg(r){for(zn=r.return;zn;)switch(zn.tag){case 5:case 31:case 13:Mr=!1;return;case 27:case 3:Mr=!0;return;default:zn=zn.return}}function wa(r){if(r!==zn)return!1;if(!Mt)return zg(r),Mt=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Lh(r.type,r.memoizedProps)),o=!o),o&&en&&ts(r),zg(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));en=lx(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));en=lx(r)}else s===27?(s=en,ms(r.type)?(r=Hh,Hh=null,en=r):en=s):en=zn?Nr(r.stateNode.nextSibling):null;return!0}function zs(){en=zn=null,Mt=!1}function xd(){var r=es;return r!==null&&(ar===null?ar=r:ar.push.apply(ar,r),es=null),r}function Ro(r){es===null?es=[r]:es.push(r)}var bd=z(null),Is=null,Ei=null;function ns(r,s,o){le(bd,s._currentValue),s._currentValue=o}function Ci(r){r._currentValue=bd.current,ee(bd)}function Sd(r,s,o){for(;r!==null;){var l=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),r===o)break;r=r.return}}function _d(r,s,o,l){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var y=p.dependencies;if(y!==null){var _=p.child;y=y.firstContext;e:for(;y!==null;){var O=y;y=p;for(var U=0;U<s.length;U++)if(O.context===s[U]){y.lanes|=o,O=y.alternate,O!==null&&(O.lanes|=o),Sd(y.return,o,r),l||(_=null);break e}y=O.next}}else if(p.tag===18){if(_=p.return,_===null)throw Error(i(341));_.lanes|=o,y=_.alternate,y!==null&&(y.lanes|=o),Sd(_,o,r),_=null}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}}function Ea(r,s,o,l){r=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var _=p.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var O=p.type;fr(p.pendingProps.value,_.value)||(r!==null?r.push(O):r=[O])}}else if(p===je.current){if(_=p.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(ec):r=[ec])}p=p.return}r!==null&&_d(s,r,o,l),s.flags|=262144}function ol(r){for(r=r.firstContext;r!==null;){if(!fr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Bs(r){Is=r,Ei=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function In(r){return Ig(Is,r)}function cl(r,s){return Is===null&&Bs(r),Ig(r,s)}function Ig(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ei===null){if(r===null)throw Error(i(308));Ei=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Ei=Ei.next=s;return o}var MT=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,l){r.push(l)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},PT=t.unstable_scheduleCallback,NT=t.unstable_NormalPriority,Sn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wd(){return{controller:new MT,data:new Map,refCount:0}}function Ao(r){r.refCount--,r.refCount===0&&PT(NT,function(){r.controller.abort()})}var Oo=null,Ed=0,Ca=0,Ta=null;function DT(r,s){if(Oo===null){var o=Oo=[];Ed=0,Ca=Rh(),Ta={status:"pending",value:void 0,then:function(l){o.push(l)}}}return Ed++,s.then(Bg,Bg),s}function Bg(){if(--Ed===0&&Oo!==null){Ta!==null&&(Ta.status="fulfilled");var r=Oo;Oo=null,Ca=0,Ta=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function kT(r,s){var o=[],l={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return r.then(function(){l.status="fulfilled",l.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(l.status="rejected",l.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),l}var Hg=H.S;H.S=function(r,s){Ev=dt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&DT(r,s),Hg!==null&&Hg(r,s)};var Hs=z(null);function Cd(){var r=Hs.current;return r!==null?r:Qt.pooledCache}function ll(r,s){s===null?le(Hs,Hs.current):le(Hs,s.pool)}function $g(){var r=Cd();return r===null?null:{parent:Sn._currentValue,pool:r}}var Ra=Error(i(460)),Td=Error(i(474)),ul=Error(i(542)),fl={then:function(){}};function Vg(r){return r=r.status,r==="fulfilled"||r==="rejected"}function qg(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(bi,bi),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Yg(r),r;default:if(typeof s.status=="string")s.then(bi,bi);else{if(r=Qt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(l){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=l}},function(l){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Yg(r),r}throw Vs=s,Ra}}function $s(r){try{var s=r._init;return s(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Vs=o,Ra):o}}var Vs=null;function Fg(){if(Vs===null)throw Error(i(459));var r=Vs;return Vs=null,r}function Yg(r){if(r===Ra||r===ul)throw Error(i(483))}var Aa=null,Mo=0;function dl(r){var s=Mo;return Mo+=1,Aa===null&&(Aa=[]),qg(Aa,r,s)}function Po(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function hl(r,s){throw s.$$typeof===x?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Gg(r){function s(F,B){if(r){var X=F.deletions;X===null?(F.deletions=[B],F.flags|=16):X.push(B)}}function o(F,B){if(!r)return null;for(;B!==null;)s(F,B),B=B.sibling;return null}function l(F){for(var B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function p(F,B){return F=_i(F,B),F.index=0,F.sibling=null,F}function y(F,B,X){return F.index=X,r?(X=F.alternate,X!==null?(X=X.index,X<B?(F.flags|=67108866,B):X):(F.flags|=67108866,B)):(F.flags|=1048576,B)}function _(F){return r&&F.alternate===null&&(F.flags|=67108866),F}function O(F,B,X,ue){return B===null||B.tag!==6?(B=pd(X,F.mode,ue),B.return=F,B):(B=p(B,X),B.return=F,B)}function U(F,B,X,ue){var Qe=X.type;return Qe===C?oe(F,B,X.props.children,ue,X.key):B!==null&&(B.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===G&&$s(Qe)===B.type)?(B=p(B,X.props),Po(B,X),B.return=F,B):(B=sl(X.type,X.key,X.props,null,F.mode,ue),Po(B,X),B.return=F,B)}function Q(F,B,X,ue){return B===null||B.tag!==4||B.stateNode.containerInfo!==X.containerInfo||B.stateNode.implementation!==X.implementation?(B=md(X,F.mode,ue),B.return=F,B):(B=p(B,X.children||[]),B.return=F,B)}function oe(F,B,X,ue,Qe){return B===null||B.tag!==7?(B=Us(X,F.mode,ue,Qe),B.return=F,B):(B=p(B,X),B.return=F,B)}function he(F,B,X){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=pd(""+B,F.mode,X),B.return=F,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return X=sl(B.type,B.key,B.props,null,F.mode,X),Po(X,B),X.return=F,X;case E:return B=md(B,F.mode,X),B.return=F,B;case G:return B=$s(B),he(F,B,X)}if(Pe(B)||Ee(B))return B=Us(B,F.mode,X,null),B.return=F,B;if(typeof B.then=="function")return he(F,dl(B),X);if(B.$$typeof===k)return he(F,cl(F,B),X);hl(F,B)}return null}function W(F,B,X,ue){var Qe=B!==null?B.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Qe!==null?null:O(F,B,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case S:return X.key===Qe?U(F,B,X,ue):null;case E:return X.key===Qe?Q(F,B,X,ue):null;case G:return X=$s(X),W(F,B,X,ue)}if(Pe(X)||Ee(X))return Qe!==null?null:oe(F,B,X,ue,null);if(typeof X.then=="function")return W(F,B,dl(X),ue);if(X.$$typeof===k)return W(F,B,cl(F,X),ue);hl(F,X)}return null}function re(F,B,X,ue,Qe){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return F=F.get(X)||null,O(B,F,""+ue,Qe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case S:return F=F.get(ue.key===null?X:ue.key)||null,U(B,F,ue,Qe);case E:return F=F.get(ue.key===null?X:ue.key)||null,Q(B,F,ue,Qe);case G:return ue=$s(ue),re(F,B,X,ue,Qe)}if(Pe(ue)||Ee(ue))return F=F.get(X)||null,oe(B,F,ue,Qe,null);if(typeof ue.then=="function")return re(F,B,X,dl(ue),Qe);if(ue.$$typeof===k)return re(F,B,X,cl(B,ue),Qe);hl(B,ue)}return null}function Be(F,B,X,ue){for(var Qe=null,jt=null,Ge=B,vt=B=0,At=null;Ge!==null&&vt<X.length;vt++){Ge.index>vt?(At=Ge,Ge=null):At=Ge.sibling;var Lt=W(F,Ge,X[vt],ue);if(Lt===null){Ge===null&&(Ge=At);break}r&&Ge&&Lt.alternate===null&&s(F,Ge),B=y(Lt,B,vt),jt===null?Qe=Lt:jt.sibling=Lt,jt=Lt,Ge=At}if(vt===X.length)return o(F,Ge),Mt&&wi(F,vt),Qe;if(Ge===null){for(;vt<X.length;vt++)Ge=he(F,X[vt],ue),Ge!==null&&(B=y(Ge,B,vt),jt===null?Qe=Ge:jt.sibling=Ge,jt=Ge);return Mt&&wi(F,vt),Qe}for(Ge=l(Ge);vt<X.length;vt++)At=re(Ge,F,vt,X[vt],ue),At!==null&&(r&&At.alternate!==null&&Ge.delete(At.key===null?vt:At.key),B=y(At,B,vt),jt===null?Qe=At:jt.sibling=At,jt=At);return r&&Ge.forEach(function(bs){return s(F,bs)}),Mt&&wi(F,vt),Qe}function tt(F,B,X,ue){if(X==null)throw Error(i(151));for(var Qe=null,jt=null,Ge=B,vt=B=0,At=null,Lt=X.next();Ge!==null&&!Lt.done;vt++,Lt=X.next()){Ge.index>vt?(At=Ge,Ge=null):At=Ge.sibling;var bs=W(F,Ge,Lt.value,ue);if(bs===null){Ge===null&&(Ge=At);break}r&&Ge&&bs.alternate===null&&s(F,Ge),B=y(bs,B,vt),jt===null?Qe=bs:jt.sibling=bs,jt=bs,Ge=At}if(Lt.done)return o(F,Ge),Mt&&wi(F,vt),Qe;if(Ge===null){for(;!Lt.done;vt++,Lt=X.next())Lt=he(F,Lt.value,ue),Lt!==null&&(B=y(Lt,B,vt),jt===null?Qe=Lt:jt.sibling=Lt,jt=Lt);return Mt&&wi(F,vt),Qe}for(Ge=l(Ge);!Lt.done;vt++,Lt=X.next())Lt=re(Ge,F,vt,Lt.value,ue),Lt!==null&&(r&&Lt.alternate!==null&&Ge.delete(Lt.key===null?vt:Lt.key),B=y(Lt,B,vt),jt===null?Qe=Lt:jt.sibling=Lt,jt=Lt);return r&&Ge.forEach(function(FR){return s(F,FR)}),Mt&&wi(F,vt),Qe}function Xt(F,B,X,ue){if(typeof X=="object"&&X!==null&&X.type===C&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case S:e:{for(var Qe=X.key;B!==null;){if(B.key===Qe){if(Qe=X.type,Qe===C){if(B.tag===7){o(F,B.sibling),ue=p(B,X.props.children),ue.return=F,F=ue;break e}}else if(B.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===G&&$s(Qe)===B.type){o(F,B.sibling),ue=p(B,X.props),Po(ue,X),ue.return=F,F=ue;break e}o(F,B);break}else s(F,B);B=B.sibling}X.type===C?(ue=Us(X.props.children,F.mode,ue,X.key),ue.return=F,F=ue):(ue=sl(X.type,X.key,X.props,null,F.mode,ue),Po(ue,X),ue.return=F,F=ue)}return _(F);case E:e:{for(Qe=X.key;B!==null;){if(B.key===Qe)if(B.tag===4&&B.stateNode.containerInfo===X.containerInfo&&B.stateNode.implementation===X.implementation){o(F,B.sibling),ue=p(B,X.children||[]),ue.return=F,F=ue;break e}else{o(F,B);break}else s(F,B);B=B.sibling}ue=md(X,F.mode,ue),ue.return=F,F=ue}return _(F);case G:return X=$s(X),Xt(F,B,X,ue)}if(Pe(X))return Be(F,B,X,ue);if(Ee(X)){if(Qe=Ee(X),typeof Qe!="function")throw Error(i(150));return X=Qe.call(X),tt(F,B,X,ue)}if(typeof X.then=="function")return Xt(F,B,dl(X),ue);if(X.$$typeof===k)return Xt(F,B,cl(F,X),ue);hl(F,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,B!==null&&B.tag===6?(o(F,B.sibling),ue=p(B,X),ue.return=F,F=ue):(o(F,B),ue=pd(X,F.mode,ue),ue.return=F,F=ue),_(F)):o(F,B)}return function(F,B,X,ue){try{Mo=0;var Qe=Xt(F,B,X,ue);return Aa=null,Qe}catch(Ge){if(Ge===Ra||Ge===ul)throw Ge;var jt=dr(29,Ge,null,F.mode);return jt.lanes=ue,jt.return=F,jt}finally{}}}var qs=Gg(!0),Kg=Gg(!1),rs=!1;function Rd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ad(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function is(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ss(r,s,o){var l=r.updateQueue;if(l===null)return null;if(l=l.shared,(It&2)!==0){var p=l.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),l.pending=s,s=il(r),Pg(r,null,o),s}return rl(r,l,s,o),il(r)}function No(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var l=s.lanes;l&=r.pendingLanes,o|=l,s.lanes=o,Yt(r,o)}}function Od(r,s){var o=r.updateQueue,l=r.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=_:y=y.next=_,o=o.next}while(o!==null);y===null?p=y=s:y=y.next=s}else p=y=s;o={baseState:l.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:l.shared,callbacks:l.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Md=!1;function Do(){if(Md){var r=Ta;if(r!==null)throw r}}function ko(r,s,o,l){Md=!1;var p=r.updateQueue;rs=!1;var y=p.firstBaseUpdate,_=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var U=O,Q=U.next;U.next=null,_===null?y=Q:_.next=Q,_=U;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,O=oe.lastBaseUpdate,O!==_&&(O===null?oe.firstBaseUpdate=Q:O.next=Q,oe.lastBaseUpdate=U))}if(y!==null){var he=p.baseState;_=0,oe=Q=U=null,O=y;do{var W=O.lane&-536870913,re=W!==O.lane;if(re?(Rt&W)===W:(l&W)===W){W!==0&&W===Ca&&(Md=!0),oe!==null&&(oe=oe.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Be=r,tt=O;W=s;var Xt=o;switch(tt.tag){case 1:if(Be=tt.payload,typeof Be=="function"){he=Be.call(Xt,he,W);break e}he=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=tt.payload,W=typeof Be=="function"?Be.call(Xt,he,W):Be,W==null)break e;he=g({},he,W);break e;case 2:rs=!0}}W=O.callback,W!==null&&(r.flags|=64,re&&(r.flags|=8192),re=p.callbacks,re===null?p.callbacks=[W]:re.push(W))}else re={lane:W,tag:O.tag,payload:O.payload,callback:O.callback,next:null},oe===null?(Q=oe=re,U=he):oe=oe.next=re,_|=W;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;re=O,O=re.next,re.next=null,p.lastBaseUpdate=re,p.shared.pending=null}}while(!0);oe===null&&(U=he),p.baseState=U,p.firstBaseUpdate=Q,p.lastBaseUpdate=oe,y===null&&(p.shared.lanes=0),us|=_,r.lanes=_,r.memoizedState=he}}function Xg(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Qg(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Xg(o[r],s)}var Oa=z(null),pl=z(0);function Zg(r,s){r=ki,le(pl,r),le(Oa,s),ki=r|s.baseLanes}function Pd(){le(pl,ki),le(Oa,Oa.current)}function Nd(){ki=pl.current,ee(Oa),ee(pl)}var hr=z(null),Pr=null;function as(r){var s=r.alternate;le(mn,mn.current&1),le(hr,r),Pr===null&&(s===null||Oa.current!==null||s.memoizedState!==null)&&(Pr=r)}function Dd(r){le(mn,mn.current),le(hr,r),Pr===null&&(Pr=r)}function Jg(r){r.tag===22?(le(mn,mn.current),le(hr,r),Pr===null&&(Pr=r)):os()}function os(){le(mn,mn.current),le(hr,hr.current)}function pr(r){ee(hr),Pr===r&&(Pr=null),ee(mn)}var mn=z(0);function ml(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Ih(o)||Bh(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ti=0,mt=null,Gt=null,_n=null,yl=!1,Ma=!1,Fs=!1,gl=0,jo=0,Pa=null,jT=0;function fn(){throw Error(i(321))}function kd(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!fr(r[o],s[o]))return!1;return!0}function jd(r,s,o,l,p,y){return Ti=y,mt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=r===null||r.memoizedState===null?j0:Qd,Fs=!1,y=o(l,p),Fs=!1,Ma&&(y=e0(s,o,l,p)),Wg(r),y}function Wg(r){H.H=zo;var s=Gt!==null&&Gt.next!==null;if(Ti=0,_n=Gt=mt=null,yl=!1,jo=0,Pa=null,s)throw Error(i(300));r===null||wn||(r=r.dependencies,r!==null&&ol(r)&&(wn=!0))}function e0(r,s,o,l){mt=r;var p=0;do{if(Ma&&(Pa=null),jo=0,Ma=!1,25<=p)throw Error(i(301));if(p+=1,_n=Gt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=L0,y=s(o,l)}while(Ma);return y}function LT(){var r=H.H,s=r.useState()[0];return s=typeof s.then=="function"?Lo(s):s,r=r.useState()[0],(Gt!==null?Gt.memoizedState:null)!==r&&(mt.flags|=1024),s}function Ld(){var r=gl!==0;return gl=0,r}function Ud(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function zd(r){if(yl){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}yl=!1}Ti=0,_n=Gt=mt=null,Ma=!1,jo=gl=0,Pa=null}function Qn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?mt.memoizedState=_n=r:_n=_n.next=r,_n}function yn(){if(Gt===null){var r=mt.alternate;r=r!==null?r.memoizedState:null}else r=Gt.next;var s=_n===null?mt.memoizedState:_n.next;if(s!==null)_n=s,Gt=r;else{if(r===null)throw mt.alternate===null?Error(i(467)):Error(i(310));Gt=r,r={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},_n===null?mt.memoizedState=_n=r:_n=_n.next=r}return _n}function vl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lo(r){var s=jo;return jo+=1,Pa===null&&(Pa=[]),r=qg(Pa,r,s),s=mt,(_n===null?s.memoizedState:_n.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?j0:Qd),r}function xl(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Lo(r);if(r.$$typeof===k)return In(r)}throw Error(i(438,String(r)))}function Id(r){var s=null,o=mt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var l=mt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=vl(),mt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),l=0;l<r;l++)o[l]=xe;return s.index++,o}function Ri(r,s){return typeof s=="function"?s(r):s}function bl(r){var s=yn();return Bd(s,Gt,r)}function Bd(r,s,o){var l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=o;var p=r.baseQueue,y=l.pending;if(y!==null){if(p!==null){var _=p.next;p.next=y.next,y.next=_}s.baseQueue=p=y,l.pending=null}if(y=r.baseState,p===null)r.memoizedState=y;else{s=p.next;var O=_=null,U=null,Q=s,oe=!1;do{var he=Q.lane&-536870913;if(he!==Q.lane?(Rt&he)===he:(Ti&he)===he){var W=Q.revertLane;if(W===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),he===Ca&&(oe=!0);else if((Ti&W)===W){Q=Q.next,W===Ca&&(oe=!0);continue}else he={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(O=U=he,_=y):U=U.next=he,mt.lanes|=W,us|=W;he=Q.action,Fs&&o(y,he),y=Q.hasEagerState?Q.eagerState:o(y,he)}else W={lane:he,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(O=U=W,_=y):U=U.next=W,mt.lanes|=he,us|=he;Q=Q.next}while(Q!==null&&Q!==s);if(U===null?_=y:U.next=O,!fr(y,r.memoizedState)&&(wn=!0,oe&&(o=Ta,o!==null)))throw o;r.memoizedState=y,r.baseState=_,r.baseQueue=U,l.lastRenderedState=y}return p===null&&(l.lanes=0),[r.memoizedState,l.dispatch]}function Hd(r){var s=yn(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var l=o.dispatch,p=o.pending,y=s.memoizedState;if(p!==null){o.pending=null;var _=p=p.next;do y=r(y,_.action),_=_.next;while(_!==p);fr(y,s.memoizedState)||(wn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,l]}function t0(r,s,o){var l=mt,p=yn(),y=Mt;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=s();var _=!fr((Gt||p).memoizedState,o);if(_&&(p.memoizedState=o,wn=!0),p=p.queue,qd(i0.bind(null,l,p,r),[r]),p.getSnapshot!==s||_||_n!==null&&_n.memoizedState.tag&1){if(l.flags|=2048,Na(9,{destroy:void 0},r0.bind(null,l,p,o,s),null),Qt===null)throw Error(i(349));y||(Ti&127)!==0||n0(l,s,o)}return o}function n0(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=mt.updateQueue,s===null?(s=vl(),mt.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function r0(r,s,o,l){s.value=o,s.getSnapshot=l,s0(s)&&a0(r)}function i0(r,s,o){return o(function(){s0(s)&&a0(r)})}function s0(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!fr(r,o)}catch{return!0}}function a0(r){var s=Ls(r,2);s!==null&&or(s,r,2)}function $d(r){var s=Qn();if(typeof r=="function"){var o=r;if(r=o(),Fs){Ln(!0);try{o()}finally{Ln(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:r},s}function o0(r,s,o,l){return r.baseState=o,Bd(r,Gt,typeof l=="function"?l:Ri)}function UT(r,s,o,l,p){if(wl(r))throw Error(i(485));if(r=s.action,r!==null){var y={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){y.listeners.push(_)}};H.T!==null?o(!0):y.isTransition=!1,l(y),o=s.pending,o===null?(y.next=s.pending=y,c0(s,y)):(y.next=o.next,s.pending=o.next=y)}}function c0(r,s){var o=s.action,l=s.payload,p=r.state;if(s.isTransition){var y=H.T,_={};H.T=_;try{var O=o(p,l),U=H.S;U!==null&&U(_,O),l0(r,s,O)}catch(Q){Vd(r,s,Q)}finally{y!==null&&_.types!==null&&(y.types=_.types),H.T=y}}else try{y=o(p,l),l0(r,s,y)}catch(Q){Vd(r,s,Q)}}function l0(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(l){u0(r,s,l)},function(l){return Vd(r,s,l)}):u0(r,s,o)}function u0(r,s,o){s.status="fulfilled",s.value=o,f0(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,c0(r,o)))}function Vd(r,s,o){var l=r.pending;if(r.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=o,f0(s),s=s.next;while(s!==l)}r.action=null}function f0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function d0(r,s){return s}function h0(r,s){if(Mt){var o=Qt.formState;if(o!==null){e:{var l=mt;if(Mt){if(en){t:{for(var p=en,y=Mr;p.nodeType!==8;){if(!y){p=null;break t}if(p=Nr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){en=Nr(p.nextSibling),l=p.data==="F!";break e}}ts(l)}l=!1}l&&(s=o[0])}}return o=Qn(),o.memoizedState=o.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d0,lastRenderedState:s},o.queue=l,o=N0.bind(null,mt,l),l.dispatch=o,l=$d(!1),y=Xd.bind(null,mt,!1,l.queue),l=Qn(),p={state:s,dispatch:null,action:r,pending:null},l.queue=p,o=UT.bind(null,mt,p,y,o),p.dispatch=o,l.memoizedState=r,[s,o,!1]}function p0(r){var s=yn();return m0(s,Gt,r)}function m0(r,s,o){if(s=Bd(r,s,d0)[0],r=bl(Ri)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Lo(s)}catch(_){throw _===Ra?ul:_}else l=s;s=yn();var p=s.queue,y=p.dispatch;return o!==s.memoizedState&&(mt.flags|=2048,Na(9,{destroy:void 0},zT.bind(null,p,o),null)),[l,y,r]}function zT(r,s){r.action=s}function y0(r){var s=yn(),o=Gt;if(o!==null)return m0(s,o,r);yn(),s=s.memoizedState,o=yn();var l=o.queue.dispatch;return o.memoizedState=r,[s,l,!1]}function Na(r,s,o,l){return r={tag:r,create:o,deps:l,inst:s,next:null},s=mt.updateQueue,s===null&&(s=vl(),mt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(l=o.next,o.next=r,r.next=l,s.lastEffect=r),r}function g0(){return yn().memoizedState}function Sl(r,s,o,l){var p=Qn();mt.flags|=r,p.memoizedState=Na(1|s,{destroy:void 0},o,l===void 0?null:l)}function _l(r,s,o,l){var p=yn();l=l===void 0?null:l;var y=p.memoizedState.inst;Gt!==null&&l!==null&&kd(l,Gt.memoizedState.deps)?p.memoizedState=Na(s,y,o,l):(mt.flags|=r,p.memoizedState=Na(1|s,y,o,l))}function v0(r,s){Sl(8390656,8,r,s)}function qd(r,s){_l(2048,8,r,s)}function IT(r){mt.flags|=4;var s=mt.updateQueue;if(s===null)s=vl(),mt.updateQueue=s,s.events=[r];else{var o=s.events;o===null?s.events=[r]:o.push(r)}}function x0(r){var s=yn().memoizedState;return IT({ref:s,nextImpl:r}),function(){if((It&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function b0(r,s){return _l(4,2,r,s)}function S0(r,s){return _l(4,4,r,s)}function _0(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function w0(r,s,o){o=o!=null?o.concat([r]):null,_l(4,4,_0.bind(null,s,r),o)}function Fd(){}function E0(r,s){var o=yn();s=s===void 0?null:s;var l=o.memoizedState;return s!==null&&kd(s,l[1])?l[0]:(o.memoizedState=[r,s],r)}function C0(r,s){var o=yn();s=s===void 0?null:s;var l=o.memoizedState;if(s!==null&&kd(s,l[1]))return l[0];if(l=r(),Fs){Ln(!0);try{r()}finally{Ln(!1)}}return o.memoizedState=[l,s],l}function Yd(r,s,o){return o===void 0||(Ti&1073741824)!==0&&(Rt&261930)===0?r.memoizedState=s:(r.memoizedState=o,r=Tv(),mt.lanes|=r,us|=r,o)}function T0(r,s,o,l){return fr(o,s)?o:Oa.current!==null?(r=Yd(r,o,l),fr(r,s)||(wn=!0),r):(Ti&42)===0||(Ti&1073741824)!==0&&(Rt&261930)===0?(wn=!0,r.memoizedState=o):(r=Tv(),mt.lanes|=r,us|=r,s)}function R0(r,s,o,l,p){var y=se.p;se.p=y!==0&&8>y?y:8;var _=H.T,O={};H.T=O,Xd(r,!1,s,o);try{var U=p(),Q=H.S;if(Q!==null&&Q(O,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var oe=kT(U,l);Uo(r,s,oe,gr(r))}else Uo(r,s,l,gr(r))}catch(he){Uo(r,s,{then:function(){},status:"rejected",reason:he},gr())}finally{se.p=y,_!==null&&O.types!==null&&(_.types=O.types),H.T=_}}function BT(){}function Gd(r,s,o,l){if(r.tag!==5)throw Error(i(476));var p=A0(r).queue;R0(r,p,s,Z,o===null?BT:function(){return O0(r),o(l)})}function A0(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:Z},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function O0(r){var s=A0(r);s.next===null&&(s=r.alternate.memoizedState),Uo(r,s.next.queue,{},gr())}function Kd(){return In(ec)}function M0(){return yn().memoizedState}function P0(){return yn().memoizedState}function HT(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=gr();r=is(o);var l=ss(s,r,o);l!==null&&(or(l,s,o),No(l,s,o)),s={cache:wd()},r.payload=s;return}s=s.return}}function $T(r,s,o){var l=gr();o={lane:l,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},wl(r)?D0(s,o):(o=dd(r,s,o,l),o!==null&&(or(o,r,l),k0(o,s,l)))}function N0(r,s,o){var l=gr();Uo(r,s,o,l)}function Uo(r,s,o,l){var p={lane:l,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(wl(r))D0(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var _=s.lastRenderedState,O=y(_,o);if(p.hasEagerState=!0,p.eagerState=O,fr(O,_))return rl(r,s,p,0),Qt===null&&nl(),!1}catch{}finally{}if(o=dd(r,s,p,l),o!==null)return or(o,r,l),k0(o,s,l),!0}return!1}function Xd(r,s,o,l){if(l={lane:2,revertLane:Rh(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},wl(r)){if(s)throw Error(i(479))}else s=dd(r,o,l,2),s!==null&&or(s,r,2)}function wl(r){var s=r.alternate;return r===mt||s!==null&&s===mt}function D0(r,s){Ma=yl=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function k0(r,s,o){if((o&4194048)!==0){var l=s.lanes;l&=r.pendingLanes,o|=l,s.lanes=o,Yt(r,o)}}var zo={readContext:In,use:xl,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useLayoutEffect:fn,useInsertionEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useSyncExternalStore:fn,useId:fn,useHostTransitionStatus:fn,useFormState:fn,useActionState:fn,useOptimistic:fn,useMemoCache:fn,useCacheRefresh:fn};zo.useEffectEvent=fn;var j0={readContext:In,use:xl,useCallback:function(r,s){return Qn().memoizedState=[r,s===void 0?null:s],r},useContext:In,useEffect:v0,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Sl(4194308,4,_0.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Sl(4194308,4,r,s)},useInsertionEffect:function(r,s){Sl(4,2,r,s)},useMemo:function(r,s){var o=Qn();s=s===void 0?null:s;var l=r();if(Fs){Ln(!0);try{r()}finally{Ln(!1)}}return o.memoizedState=[l,s],l},useReducer:function(r,s,o){var l=Qn();if(o!==void 0){var p=o(s);if(Fs){Ln(!0);try{o(s)}finally{Ln(!1)}}}else p=s;return l.memoizedState=l.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},l.queue=r,r=r.dispatch=$T.bind(null,mt,r),[l.memoizedState,r]},useRef:function(r){var s=Qn();return r={current:r},s.memoizedState=r},useState:function(r){r=$d(r);var s=r.queue,o=N0.bind(null,mt,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Fd,useDeferredValue:function(r,s){var o=Qn();return Yd(o,r,s)},useTransition:function(){var r=$d(!1);return r=R0.bind(null,mt,r.queue,!0,!1),Qn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var l=mt,p=Qn();if(Mt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),Qt===null)throw Error(i(349));(Rt&127)!==0||n0(l,s,o)}p.memoizedState=o;var y={value:o,getSnapshot:s};return p.queue=y,v0(i0.bind(null,l,y,r),[r]),l.flags|=2048,Na(9,{destroy:void 0},r0.bind(null,l,y,o,s),null),o},useId:function(){var r=Qn(),s=Qt.identifierPrefix;if(Mt){var o=Wr,l=Jr;o=(l&~(1<<32-ln(l)-1)).toString(32)+o,s="_"+s+"R_"+o,o=gl++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=jT++,s="_"+s+"r_"+o.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:Kd,useFormState:h0,useActionState:h0,useOptimistic:function(r){var s=Qn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Xd.bind(null,mt,!0,o),o.dispatch=s,[r,s]},useMemoCache:Id,useCacheRefresh:function(){return Qn().memoizedState=HT.bind(null,mt)},useEffectEvent:function(r){var s=Qn(),o={impl:r};return s.memoizedState=o,function(){if((It&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Qd={readContext:In,use:xl,useCallback:E0,useContext:In,useEffect:qd,useImperativeHandle:w0,useInsertionEffect:b0,useLayoutEffect:S0,useMemo:C0,useReducer:bl,useRef:g0,useState:function(){return bl(Ri)},useDebugValue:Fd,useDeferredValue:function(r,s){var o=yn();return T0(o,Gt.memoizedState,r,s)},useTransition:function(){var r=bl(Ri)[0],s=yn().memoizedState;return[typeof r=="boolean"?r:Lo(r),s]},useSyncExternalStore:t0,useId:M0,useHostTransitionStatus:Kd,useFormState:p0,useActionState:p0,useOptimistic:function(r,s){var o=yn();return o0(o,Gt,r,s)},useMemoCache:Id,useCacheRefresh:P0};Qd.useEffectEvent=x0;var L0={readContext:In,use:xl,useCallback:E0,useContext:In,useEffect:qd,useImperativeHandle:w0,useInsertionEffect:b0,useLayoutEffect:S0,useMemo:C0,useReducer:Hd,useRef:g0,useState:function(){return Hd(Ri)},useDebugValue:Fd,useDeferredValue:function(r,s){var o=yn();return Gt===null?Yd(o,r,s):T0(o,Gt.memoizedState,r,s)},useTransition:function(){var r=Hd(Ri)[0],s=yn().memoizedState;return[typeof r=="boolean"?r:Lo(r),s]},useSyncExternalStore:t0,useId:M0,useHostTransitionStatus:Kd,useFormState:y0,useActionState:y0,useOptimistic:function(r,s){var o=yn();return Gt!==null?o0(o,Gt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Id,useCacheRefresh:P0};L0.useEffectEvent=x0;function Zd(r,s,o,l){s=r.memoizedState,o=o(l,s),o=o==null?s:g({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Jd={enqueueSetState:function(r,s,o){r=r._reactInternals;var l=gr(),p=is(l);p.payload=s,o!=null&&(p.callback=o),s=ss(r,p,l),s!==null&&(or(s,r,l),No(s,r,l))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var l=gr(),p=is(l);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=ss(r,p,l),s!==null&&(or(s,r,l),No(s,r,l))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=gr(),l=is(o);l.tag=2,s!=null&&(l.callback=s),s=ss(r,l,o),s!==null&&(or(s,r,o),No(s,r,o))}};function U0(r,s,o,l,p,y,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(l,y,_):s.prototype&&s.prototype.isPureReactComponent?!Eo(o,l)||!Eo(p,y):!0}function z0(r,s,o,l){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,l),s.state!==r&&Jd.enqueueReplaceState(s,s.state,null)}function Ys(r,s){var o=s;if("ref"in s){o={};for(var l in s)l!=="ref"&&(o[l]=s[l])}if(r=r.defaultProps){o===s&&(o=g({},o));for(var p in r)o[p]===void 0&&(o[p]=r[p])}return o}function I0(r){tl(r)}function B0(r){console.error(r)}function H0(r){tl(r)}function El(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function $0(r,s,o){try{var l=r.onCaughtError;l(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Wd(r,s,o){return o=is(o),o.tag=3,o.payload={element:null},o.callback=function(){El(r,s)},o}function V0(r){return r=is(r),r.tag=3,r}function q0(r,s,o,l){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=l.value;r.payload=function(){return p(y)},r.callback=function(){$0(s,o,l)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(r.callback=function(){$0(s,o,l),typeof p!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var O=l.stack;this.componentDidCatch(l.value,{componentStack:O!==null?O:""})})}function VT(r,s,o,l,p){if(o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=o.alternate,s!==null&&Ea(s,o,p,!0),o=hr.current,o!==null){switch(o.tag){case 31:case 13:return Pr===null?Ll():o.alternate===null&&dn===0&&(dn=3),o.flags&=-257,o.flags|=65536,o.lanes=p,l===fl?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([l]):s.add(l),Eh(r,l,p)),!1;case 22:return o.flags|=65536,l===fl?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([l]):o.add(l)),Eh(r,l,p)),!1}throw Error(i(435,o.tag))}return Eh(r,l,p),Ll(),!1}if(Mt)return s=hr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,l!==vd&&(r=Error(i(422),{cause:l}),Ro(Rr(r,o)))):(l!==vd&&(s=Error(i(423),{cause:l}),Ro(Rr(s,o))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,l=Rr(l,o),p=Wd(r.stateNode,l,p),Od(r,p),dn!==4&&(dn=2)),!1;var y=Error(i(520),{cause:l});if(y=Rr(y,o),Yo===null?Yo=[y]:Yo.push(y),dn!==4&&(dn=2),s===null)return!0;l=Rr(l,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=p&-p,o.lanes|=r,r=Wd(o.stateNode,l,r),Od(o,r),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(fs===null||!fs.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=V0(p),q0(p,r,o,l),Od(o,p),!1}o=o.return}while(o!==null);return!1}var eh=Error(i(461)),wn=!1;function Bn(r,s,o,l){s.child=r===null?Kg(s,null,o,l):qs(s,r.child,o,l)}function F0(r,s,o,l,p){o=o.render;var y=s.ref;if("ref"in l){var _={};for(var O in l)O!=="ref"&&(_[O]=l[O])}else _=l;return Bs(s),l=jd(r,s,o,_,y,p),O=Ld(),r!==null&&!wn?(Ud(r,s,p),Ai(r,s,p)):(Mt&&O&&yd(s),s.flags|=1,Bn(r,s,l,p),s.child)}function Y0(r,s,o,l,p){if(r===null){var y=o.type;return typeof y=="function"&&!hd(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,G0(r,s,y,l,p)):(r=sl(o.type,null,l,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!ch(r,p)){var _=y.memoizedProps;if(o=o.compare,o=o!==null?o:Eo,o(_,l)&&r.ref===s.ref)return Ai(r,s,p)}return s.flags|=1,r=_i(y,l),r.ref=s.ref,r.return=s,s.child=r}function G0(r,s,o,l,p){if(r!==null){var y=r.memoizedProps;if(Eo(y,l)&&r.ref===s.ref)if(wn=!1,s.pendingProps=l=y,ch(r,p))(r.flags&131072)!==0&&(wn=!0);else return s.lanes=r.lanes,Ai(r,s,p)}return th(r,s,o,l,p)}function K0(r,s,o,l){var p=l.children,y=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|o:o,r!==null){for(l=s.child=r.child,p=0;l!==null;)p=p|l.lanes|l.childLanes,l=l.sibling;l=p&~y}else l=0,s.child=null;return X0(r,s,y,o,l)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&ll(s,y!==null?y.cachePool:null),y!==null?Zg(s,y):Pd(),Jg(s);else return l=s.lanes=536870912,X0(r,s,y!==null?y.baseLanes|o:o,o,l)}else y!==null?(ll(s,y.cachePool),Zg(s,y),os(),s.memoizedState=null):(r!==null&&ll(s,null),Pd(),os());return Bn(r,s,p,o),s.child}function Io(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function X0(r,s,o,l,p){var y=Cd();return y=y===null?null:{parent:Sn._currentValue,pool:y},s.memoizedState={baseLanes:o,cachePool:y},r!==null&&ll(s,null),Pd(),Jg(s),r!==null&&Ea(r,s,l,!0),s.childLanes=p,null}function Cl(r,s){return s=Rl({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function Q0(r,s,o){return qs(s,r.child,null,o),r=Cl(s,s.pendingProps),r.flags|=2,pr(s),s.memoizedState=null,r}function qT(r,s,o){var l=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(Mt){if(l.mode==="hidden")return r=Cl(s,l),s.lanes=536870912,Io(null,r);if(Dd(s),(r=en)?(r=cx(r,Mr),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:Wi!==null?{id:Jr,overflow:Wr}:null,retryLane:536870912,hydrationErrors:null},o=Dg(r),o.return=s,s.child=o,zn=s,en=null)):r=null,r===null)throw ts(s);return s.lanes=536870912,null}return Cl(s,l)}var y=r.memoizedState;if(y!==null){var _=y.dehydrated;if(Dd(s),p)if(s.flags&256)s.flags&=-257,s=Q0(r,s,o);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(wn||Ea(r,s,o,!1),p=(o&r.childLanes)!==0,wn||p){if(l=Qt,l!==null&&(_=w(l,o),_!==0&&_!==y.retryLane))throw y.retryLane=_,Ls(r,_),or(l,r,_),eh;Ll(),s=Q0(r,s,o)}else r=y.treeContext,en=Nr(_.nextSibling),zn=s,Mt=!0,es=null,Mr=!1,r!==null&&Lg(s,r),s=Cl(s,l),s.flags|=4096;return s}return r=_i(r.child,{mode:l.mode,children:l.children}),r.ref=s.ref,s.child=r,r.return=s,r}function Tl(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function th(r,s,o,l,p){return Bs(s),o=jd(r,s,o,l,void 0,p),l=Ld(),r!==null&&!wn?(Ud(r,s,p),Ai(r,s,p)):(Mt&&l&&yd(s),s.flags|=1,Bn(r,s,o,p),s.child)}function Z0(r,s,o,l,p,y){return Bs(s),s.updateQueue=null,o=e0(s,l,o,p),Wg(r),l=Ld(),r!==null&&!wn?(Ud(r,s,y),Ai(r,s,y)):(Mt&&l&&yd(s),s.flags|=1,Bn(r,s,o,y),s.child)}function J0(r,s,o,l,p){if(Bs(s),s.stateNode===null){var y=ba,_=o.contextType;typeof _=="object"&&_!==null&&(y=In(_)),y=new o(l,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Jd,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=l,y.state=s.memoizedState,y.refs={},Rd(s),_=o.contextType,y.context=typeof _=="object"&&_!==null?In(_):ba,y.state=s.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Zd(s,o,_,l),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(_=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),_!==y.state&&Jd.enqueueReplaceState(y,y.state,null),ko(s,l,y,p),Do(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(r===null){y=s.stateNode;var O=s.memoizedProps,U=Ys(o,O);y.props=U;var Q=y.context,oe=o.contextType;_=ba,typeof oe=="object"&&oe!==null&&(_=In(oe));var he=o.getDerivedStateFromProps;oe=typeof he=="function"||typeof y.getSnapshotBeforeUpdate=="function",O=s.pendingProps!==O,oe||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(O||Q!==_)&&z0(s,y,l,_),rs=!1;var W=s.memoizedState;y.state=W,ko(s,l,y,p),Do(),Q=s.memoizedState,O||W!==Q||rs?(typeof he=="function"&&(Zd(s,o,he,l),Q=s.memoizedState),(U=rs||U0(s,o,U,l,W,Q,_))?(oe||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=Q),y.props=l,y.state=Q,y.context=_,l=U):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{y=s.stateNode,Ad(r,s),_=s.memoizedProps,oe=Ys(o,_),y.props=oe,he=s.pendingProps,W=y.context,Q=o.contextType,U=ba,typeof Q=="object"&&Q!==null&&(U=In(Q)),O=o.getDerivedStateFromProps,(Q=typeof O=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(_!==he||W!==U)&&z0(s,y,l,U),rs=!1,W=s.memoizedState,y.state=W,ko(s,l,y,p),Do();var re=s.memoizedState;_!==he||W!==re||rs||r!==null&&r.dependencies!==null&&ol(r.dependencies)?(typeof O=="function"&&(Zd(s,o,O,l),re=s.memoizedState),(oe=rs||U0(s,o,oe,l,W,re,U)||r!==null&&r.dependencies!==null&&ol(r.dependencies))?(Q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(l,re,U),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(l,re,U)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||_===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=re),y.props=l,y.state=re,y.context=U,l=oe):(typeof y.componentDidUpdate!="function"||_===r.memoizedProps&&W===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&W===r.memoizedState||(s.flags|=1024),l=!1)}return y=l,Tl(r,s),l=(s.flags&128)!==0,y||l?(y=s.stateNode,o=l&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&l?(s.child=qs(s,r.child,null,p),s.child=qs(s,null,o,p)):Bn(r,s,o,p),s.memoizedState=y.state,r=s.child):r=Ai(r,s,p),r}function W0(r,s,o,l){return zs(),s.flags|=256,Bn(r,s,o,l),s.child}var nh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rh(r){return{baseLanes:r,cachePool:$g()}}function ih(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=yr),r}function ev(r,s,o){var l=s.pendingProps,p=!1,y=(s.flags&128)!==0,_;if((_=y)||(_=r!==null&&r.memoizedState===null?!1:(mn.current&2)!==0),_&&(p=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,r===null){if(Mt){if(p?as(s):os(),(r=en)?(r=cx(r,Mr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:Wi!==null?{id:Jr,overflow:Wr}:null,retryLane:536870912,hydrationErrors:null},o=Dg(r),o.return=s,s.child=o,zn=s,en=null)):r=null,r===null)throw ts(s);return Bh(r)?s.lanes=32:s.lanes=536870912,null}var O=l.children;return l=l.fallback,p?(os(),p=s.mode,O=Rl({mode:"hidden",children:O},p),l=Us(l,p,o,null),O.return=s,l.return=s,O.sibling=l,s.child=O,l=s.child,l.memoizedState=rh(o),l.childLanes=ih(r,_,o),s.memoizedState=nh,Io(null,l)):(as(s),sh(s,O))}var U=r.memoizedState;if(U!==null&&(O=U.dehydrated,O!==null)){if(y)s.flags&256?(as(s),s.flags&=-257,s=ah(r,s,o)):s.memoizedState!==null?(os(),s.child=r.child,s.flags|=128,s=null):(os(),O=l.fallback,p=s.mode,l=Rl({mode:"visible",children:l.children},p),O=Us(O,p,o,null),O.flags|=2,l.return=s,O.return=s,l.sibling=O,s.child=l,qs(s,r.child,null,o),l=s.child,l.memoizedState=rh(o),l.childLanes=ih(r,_,o),s.memoizedState=nh,s=Io(null,l));else if(as(s),Bh(O)){if(_=O.nextSibling&&O.nextSibling.dataset,_)var Q=_.dgst;_=Q,l=Error(i(419)),l.stack="",l.digest=_,Ro({value:l,source:null,stack:null}),s=ah(r,s,o)}else if(wn||Ea(r,s,o,!1),_=(o&r.childLanes)!==0,wn||_){if(_=Qt,_!==null&&(l=w(_,o),l!==0&&l!==U.retryLane))throw U.retryLane=l,Ls(r,l),or(_,r,l),eh;Ih(O)||Ll(),s=ah(r,s,o)}else Ih(O)?(s.flags|=192,s.child=r.child,s=null):(r=U.treeContext,en=Nr(O.nextSibling),zn=s,Mt=!0,es=null,Mr=!1,r!==null&&Lg(s,r),s=sh(s,l.children),s.flags|=4096);return s}return p?(os(),O=l.fallback,p=s.mode,U=r.child,Q=U.sibling,l=_i(U,{mode:"hidden",children:l.children}),l.subtreeFlags=U.subtreeFlags&65011712,Q!==null?O=_i(Q,O):(O=Us(O,p,o,null),O.flags|=2),O.return=s,l.return=s,l.sibling=O,s.child=l,Io(null,l),l=s.child,O=r.child.memoizedState,O===null?O=rh(o):(p=O.cachePool,p!==null?(U=Sn._currentValue,p=p.parent!==U?{parent:U,pool:U}:p):p=$g(),O={baseLanes:O.baseLanes|o,cachePool:p}),l.memoizedState=O,l.childLanes=ih(r,_,o),s.memoizedState=nh,Io(r.child,l)):(as(s),o=r.child,r=o.sibling,o=_i(o,{mode:"visible",children:l.children}),o.return=s,o.sibling=null,r!==null&&(_=s.deletions,_===null?(s.deletions=[r],s.flags|=16):_.push(r)),s.child=o,s.memoizedState=null,o)}function sh(r,s){return s=Rl({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Rl(r,s){return r=dr(22,r,null,s),r.lanes=0,r}function ah(r,s,o){return qs(s,r.child,null,o),r=sh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function tv(r,s,o){r.lanes|=s;var l=r.alternate;l!==null&&(l.lanes|=s),Sd(r.return,s,o)}function oh(r,s,o,l,p,y){var _=r.memoizedState;_===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:p,treeForkCount:y}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=o,_.tailMode=p,_.treeForkCount=y)}function nv(r,s,o){var l=s.pendingProps,p=l.revealOrder,y=l.tail;l=l.children;var _=mn.current,O=(_&2)!==0;if(O?(_=_&1|2,s.flags|=128):_&=1,le(mn,_),Bn(r,s,l,o),l=Mt?To:0,!O&&r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&tv(r,o,s);else if(r.tag===19)tv(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(p){case"forwards":for(o=s.child,p=null;o!==null;)r=o.alternate,r!==null&&ml(r)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),oh(s,!1,p,o,y,l);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&ml(r)===null){s.child=p;break}r=p.sibling,p.sibling=o,o=p,p=r}oh(s,!0,o,null,y,l);break;case"together":oh(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function Ai(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),us|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Ea(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=_i(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=_i(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function ch(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&ol(r)))}function FT(r,s,o){switch(s.tag){case 3:Nt(s,s.stateNode.containerInfo),ns(s,Sn,r.memoizedState.cache),zs();break;case 27:case 5:K(s);break;case 4:Nt(s,s.stateNode.containerInfo);break;case 10:ns(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Dd(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(as(s),s.flags|=128,null):(o&s.child.childLanes)!==0?ev(r,s,o):(as(s),r=Ai(r,s,o),r!==null?r.sibling:null);as(s);break;case 19:var p=(r.flags&128)!==0;if(l=(o&s.childLanes)!==0,l||(Ea(r,s,o,!1),l=(o&s.childLanes)!==0),p){if(l)return nv(r,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),le(mn,mn.current),l)break;return null;case 22:return s.lanes=0,K0(r,s,o,s.pendingProps);case 24:ns(s,Sn,r.memoizedState.cache)}return Ai(r,s,o)}function rv(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)wn=!0;else{if(!ch(r,o)&&(s.flags&128)===0)return wn=!1,FT(r,s,o);wn=(r.flags&131072)!==0}else wn=!1,Mt&&(s.flags&1048576)!==0&&jg(s,To,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(r=$s(s.elementType),s.type=r,typeof r=="function")hd(r)?(l=Ys(r,l),s.tag=1,s=J0(null,s,r,l,o)):(s.tag=0,s=th(null,s,r,l,o));else{if(r!=null){var p=r.$$typeof;if(p===j){s.tag=11,s=F0(null,s,r,l,o);break e}else if(p===V){s.tag=14,s=Y0(null,s,r,l,o);break e}}throw s=_e(r)||r,Error(i(306,s,""))}}return s;case 0:return th(r,s,s.type,s.pendingProps,o);case 1:return l=s.type,p=Ys(l,s.pendingProps),J0(r,s,l,p,o);case 3:e:{if(Nt(s,s.stateNode.containerInfo),r===null)throw Error(i(387));l=s.pendingProps;var y=s.memoizedState;p=y.element,Ad(r,s),ko(s,l,null,o);var _=s.memoizedState;if(l=_.cache,ns(s,Sn,l),l!==y.cache&&_d(s,[Sn],o,!0),Do(),l=_.element,y.isDehydrated)if(y={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=W0(r,s,l,o);break e}else if(l!==p){p=Rr(Error(i(424)),s),Ro(p),s=W0(r,s,l,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(en=Nr(r.firstChild),zn=s,Mt=!0,es=null,Mr=!0,o=Kg(s,null,l,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(zs(),l===p){s=Ai(r,s,o);break e}Bn(r,s,l,o)}s=s.child}return s;case 26:return Tl(r,s),r===null?(o=px(s.type,null,s.pendingProps,null))?s.memoizedState=o:Mt||(o=s.type,r=s.pendingProps,l=Vl(Te.current).createElement(o),l[q]=s,l[ae]=r,Hn(l,o,r),Ie(l),s.stateNode=l):s.memoizedState=px(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return K(s),r===null&&Mt&&(l=s.stateNode=fx(s.type,s.pendingProps,Te.current),zn=s,Mr=!0,p=en,ms(s.type)?(Hh=p,en=Nr(l.firstChild)):en=p),Bn(r,s,s.pendingProps.children,o),Tl(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Mt&&((p=l=en)&&(l=SR(l,s.type,s.pendingProps,Mr),l!==null?(s.stateNode=l,zn=s,en=Nr(l.firstChild),Mr=!1,p=!0):p=!1),p||ts(s)),K(s),p=s.type,y=s.pendingProps,_=r!==null?r.memoizedProps:null,l=y.children,Lh(p,y)?l=null:_!==null&&Lh(p,_)&&(s.flags|=32),s.memoizedState!==null&&(p=jd(r,s,LT,null,null,o),ec._currentValue=p),Tl(r,s),Bn(r,s,l,o),s.child;case 6:return r===null&&Mt&&((r=o=en)&&(o=_R(o,s.pendingProps,Mr),o!==null?(s.stateNode=o,zn=s,en=null,r=!0):r=!1),r||ts(s)),null;case 13:return ev(r,s,o);case 4:return Nt(s,s.stateNode.containerInfo),l=s.pendingProps,r===null?s.child=qs(s,null,l,o):Bn(r,s,l,o),s.child;case 11:return F0(r,s,s.type,s.pendingProps,o);case 7:return Bn(r,s,s.pendingProps,o),s.child;case 8:return Bn(r,s,s.pendingProps.children,o),s.child;case 12:return Bn(r,s,s.pendingProps.children,o),s.child;case 10:return l=s.pendingProps,ns(s,s.type,l.value),Bn(r,s,l.children,o),s.child;case 9:return p=s.type._context,l=s.pendingProps.children,Bs(s),p=In(p),l=l(p),s.flags|=1,Bn(r,s,l,o),s.child;case 14:return Y0(r,s,s.type,s.pendingProps,o);case 15:return G0(r,s,s.type,s.pendingProps,o);case 19:return nv(r,s,o);case 31:return qT(r,s,o);case 22:return K0(r,s,o,s.pendingProps);case 24:return Bs(s),l=In(Sn),r===null?(p=Cd(),p===null&&(p=Qt,y=wd(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),s.memoizedState={parent:l,cache:p},Rd(s),ns(s,Sn,p)):((r.lanes&o)!==0&&(Ad(r,s),ko(s,null,null,o),Do()),p=r.memoizedState,y=s.memoizedState,p.parent!==l?(p={parent:l,cache:l},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ns(s,Sn,l)):(l=y.cache,ns(s,Sn,l),l!==p.cache&&_d(s,[Sn],o,!0))),Bn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Oi(r){r.flags|=4}function lh(r,s,o,l,p){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(p&335544128)===p)if(r.stateNode.complete)r.flags|=8192;else if(Mv())r.flags|=8192;else throw Vs=fl,Td}else r.flags&=-16777217}function iv(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!xx(s))if(Mv())r.flags|=8192;else throw Vs=fl,Td}function Al(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Zi():536870912,r.lanes|=s,La|=s)}function Bo(r,s){if(!Mt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:l.sibling=null}}function tn(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,l=0;if(s)for(var p=r.child;p!==null;)o|=p.lanes|p.childLanes,l|=p.subtreeFlags&65011712,l|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)o|=p.lanes|p.childLanes,l|=p.subtreeFlags,l|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=l,r.childLanes=o,s}function YT(r,s,o){var l=s.pendingProps;switch(gd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(s),null;case 1:return tn(s),null;case 3:return o=s.stateNode,l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ci(Sn),I(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(wa(s)?Oi(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,xd())),tn(s),null;case 26:var p=s.type,y=s.memoizedState;return r===null?(Oi(s),y!==null?(tn(s),iv(s,y)):(tn(s),lh(s,p,null,l,o))):y?y!==r.memoizedState?(Oi(s),tn(s),iv(s,y)):(tn(s),s.flags&=-16777217):(r=r.memoizedProps,r!==l&&Oi(s),tn(s),lh(s,p,r,l,o)),null;case 27:if(fe(s),o=Te.current,p=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==l&&Oi(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return tn(s),null}r=pe.current,wa(s)?Ug(s):(r=fx(p,l,o),s.stateNode=r,Oi(s))}return tn(s),null;case 5:if(fe(s),p=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==l&&Oi(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return tn(s),null}if(y=pe.current,wa(s))Ug(s);else{var _=Vl(Te.current);switch(y){case 1:y=_.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:y=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":y=_.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":y=_.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":y=_.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?y.multiple=!0:l.size&&(y.size=l.size);break;default:y=typeof l.is=="string"?_.createElement(p,{is:l.is}):_.createElement(p)}}y[q]=s,y[ae]=l;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)y.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=y;e:switch(Hn(y,p,l),p){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Oi(s)}}return tn(s),lh(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,o),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==l&&Oi(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(r=Te.current,wa(s)){if(r=s.stateNode,o=s.memoizedProps,l=null,p=zn,p!==null)switch(p.tag){case 27:case 5:l=p.memoizedProps}r[q]=s,r=!!(r.nodeValue===o||l!==null&&l.suppressHydrationWarning===!0||ex(r.nodeValue,o)),r||ts(s,!0)}else r=Vl(r).createTextNode(l),r[q]=s,s.stateNode=r}return tn(s),null;case 31:if(o=s.memoizedState,r===null||r.memoizedState!==null){if(l=wa(s),o!==null){if(r===null){if(!l)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[q]=s}else zs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;tn(s),r=!1}else o=xd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return s.flags&256?(pr(s),s):(pr(s),null);if((s.flags&128)!==0)throw Error(i(558))}return tn(s),null;case 13:if(l=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=wa(s),l!==null&&l.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[q]=s}else zs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;tn(s),p=!1}else p=xd(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(pr(s),s):(pr(s),null)}return pr(s),(s.flags&128)!==0?(s.lanes=o,s):(o=l!==null,r=r!==null&&r.memoizedState!==null,o&&(l=s.child,p=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(p=l.alternate.memoizedState.cachePool.pool),y=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(y=l.memoizedState.cachePool.pool),y!==p&&(l.flags|=2048)),o!==r&&o&&(s.child.flags|=8192),Al(s,s.updateQueue),tn(s),null);case 4:return I(),r===null&&Ph(s.stateNode.containerInfo),tn(s),null;case 10:return Ci(s.type),tn(s),null;case 19:if(ee(mn),l=s.memoizedState,l===null)return tn(s),null;if(p=(s.flags&128)!==0,y=l.rendering,y===null)if(p)Bo(l,!1);else{if(dn!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=ml(r),y!==null){for(s.flags|=128,Bo(l,!1),r=y.updateQueue,s.updateQueue=r,Al(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)Ng(o,r),o=o.sibling;return le(mn,mn.current&1|2),Mt&&wi(s,l.treeForkCount),s.child}r=r.sibling}l.tail!==null&&dt()>Dl&&(s.flags|=128,p=!0,Bo(l,!1),s.lanes=4194304)}else{if(!p)if(r=ml(y),r!==null){if(s.flags|=128,p=!0,r=r.updateQueue,s.updateQueue=r,Al(s,r),Bo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!y.alternate&&!Mt)return tn(s),null}else 2*dt()-l.renderingStartTime>Dl&&o!==536870912&&(s.flags|=128,p=!0,Bo(l,!1),s.lanes=4194304);l.isBackwards?(y.sibling=s.child,s.child=y):(r=l.last,r!==null?r.sibling=y:s.child=y,l.last=y)}return l.tail!==null?(r=l.tail,l.rendering=r,l.tail=r.sibling,l.renderingStartTime=dt(),r.sibling=null,o=mn.current,le(mn,p?o&1|2:o&1),Mt&&wi(s,l.treeForkCount),r):(tn(s),null);case 22:case 23:return pr(s),Nd(),l=s.memoizedState!==null,r!==null?r.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(o&536870912)!==0&&(s.flags&128)===0&&(tn(s),s.subtreeFlags&6&&(s.flags|=8192)):tn(s),o=s.updateQueue,o!==null&&Al(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==o&&(s.flags|=2048),r!==null&&ee(Hs),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ci(Sn),tn(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function GT(r,s){switch(gd(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ci(Sn),I(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return fe(s),null;case 31:if(s.memoizedState!==null){if(pr(s),s.alternate===null)throw Error(i(340));zs()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(pr(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));zs()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ee(mn),null;case 4:return I(),null;case 10:return Ci(s.type),null;case 22:case 23:return pr(s),Nd(),r!==null&&ee(Hs),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ci(Sn),null;case 25:return null;default:return null}}function sv(r,s){switch(gd(s),s.tag){case 3:Ci(Sn),I();break;case 26:case 27:case 5:fe(s);break;case 4:I();break;case 31:s.memoizedState!==null&&pr(s);break;case 13:pr(s);break;case 19:ee(mn);break;case 10:Ci(s.type);break;case 22:case 23:pr(s),Nd(),r!==null&&ee(Hs);break;case 24:Ci(Sn)}}function Ho(r,s){try{var o=s.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var p=l.next;o=p;do{if((o.tag&r)===r){l=void 0;var y=o.create,_=o.inst;l=y(),_.destroy=l}o=o.next}while(o!==p)}}catch(O){qt(s,s.return,O)}}function cs(r,s,o){try{var l=s.updateQueue,p=l!==null?l.lastEffect:null;if(p!==null){var y=p.next;l=y;do{if((l.tag&r)===r){var _=l.inst,O=_.destroy;if(O!==void 0){_.destroy=void 0,p=s;var U=o,Q=O;try{Q()}catch(oe){qt(p,U,oe)}}}l=l.next}while(l!==y)}}catch(oe){qt(s,s.return,oe)}}function av(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{Qg(s,o)}catch(l){qt(r,r.return,l)}}}function ov(r,s,o){o.props=Ys(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(l){qt(r,s,l)}}function $o(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var l=r.stateNode;break;case 30:l=r.stateNode;break;default:l=r.stateNode}typeof o=="function"?r.refCleanup=o(l):o.current=l}}catch(p){qt(r,s,p)}}function ei(r,s){var o=r.ref,l=r.refCleanup;if(o!==null)if(typeof l=="function")try{l()}catch(p){qt(r,s,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){qt(r,s,p)}else o.current=null}function cv(r){var s=r.type,o=r.memoizedProps,l=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&l.focus();break e;case"img":o.src?l.src=o.src:o.srcSet&&(l.srcset=o.srcSet)}}catch(p){qt(r,r.return,p)}}function uh(r,s,o){try{var l=r.stateNode;mR(l,r.type,o,s),l[ae]=s}catch(p){qt(r,r.return,p)}}function lv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ms(r.type)||r.tag===4}function fh(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||lv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ms(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function dh(r,s,o){var l=r.tag;if(l===5||l===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=bi));else if(l!==4&&(l===27&&ms(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(dh(r,s,o),r=r.sibling;r!==null;)dh(r,s,o),r=r.sibling}function Ol(r,s,o){var l=r.tag;if(l===5||l===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(l!==4&&(l===27&&ms(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Ol(r,s,o),r=r.sibling;r!==null;)Ol(r,s,o),r=r.sibling}function uv(r){var s=r.stateNode,o=r.memoizedProps;try{for(var l=r.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Hn(s,l,o),s[q]=r,s[ae]=o}catch(y){qt(r,r.return,y)}}var Mi=!1,En=!1,hh=!1,fv=typeof WeakSet=="function"?WeakSet:Set,kn=null;function KT(r,s){if(r=r.containerInfo,kh=Ql,r=wg(r),ad(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var p=l.anchorOffset,y=l.focusNode;l=l.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var _=0,O=-1,U=-1,Q=0,oe=0,he=r,W=null;t:for(;;){for(var re;he!==o||p!==0&&he.nodeType!==3||(O=_+p),he!==y||l!==0&&he.nodeType!==3||(U=_+l),he.nodeType===3&&(_+=he.nodeValue.length),(re=he.firstChild)!==null;)W=he,he=re;for(;;){if(he===r)break t;if(W===o&&++Q===p&&(O=_),W===y&&++oe===l&&(U=_),(re=he.nextSibling)!==null)break;he=W,W=he.parentNode}he=re}o=O===-1||U===-1?null:{start:O,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(jh={focusedElem:r,selectionRange:o},Ql=!1,kn=s;kn!==null;)if(s=kn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,kn=r;else for(;kn!==null;){switch(s=kn,y=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)p=r[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=s,p=y.memoizedProps,y=y.memoizedState,l=o.stateNode;try{var Be=Ys(o.type,p);r=l.getSnapshotBeforeUpdate(Be,y),l.__reactInternalSnapshotBeforeUpdate=r}catch(tt){qt(o,o.return,tt)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)zh(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":zh(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,kn=r;break}kn=s.return}}function dv(r,s,o){var l=o.flags;switch(o.tag){case 0:case 11:case 15:Ni(r,o),l&4&&Ho(5,o);break;case 1:if(Ni(r,o),l&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(_){qt(o,o.return,_)}else{var p=Ys(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(p,s,r.__reactInternalSnapshotBeforeUpdate)}catch(_){qt(o,o.return,_)}}l&64&&av(o),l&512&&$o(o,o.return);break;case 3:if(Ni(r,o),l&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Qg(r,s)}catch(_){qt(o,o.return,_)}}break;case 27:s===null&&l&4&&uv(o);case 26:case 5:Ni(r,o),s===null&&l&4&&cv(o),l&512&&$o(o,o.return);break;case 12:Ni(r,o);break;case 31:Ni(r,o),l&4&&mv(r,o);break;case 13:Ni(r,o),l&4&&yv(r,o),l&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=rR.bind(null,o),wR(r,o))));break;case 22:if(l=o.memoizedState!==null||Mi,!l){s=s!==null&&s.memoizedState!==null||En,p=Mi;var y=En;Mi=l,(En=s)&&!y?Di(r,o,(o.subtreeFlags&8772)!==0):Ni(r,o),Mi=p,En=y}break;case 30:break;default:Ni(r,o)}}function hv(r){var s=r.alternate;s!==null&&(r.alternate=null,hv(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&nt(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var an=null,rr=!1;function Pi(r,s,o){for(o=o.child;o!==null;)pv(r,s,o),o=o.sibling}function pv(r,s,o){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Cr,o)}catch{}switch(o.tag){case 26:En||ei(o,s),Pi(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:En||ei(o,s);var l=an,p=rr;ms(o.type)&&(an=o.stateNode,rr=!1),Pi(r,s,o),Zo(o.stateNode),an=l,rr=p;break;case 5:En||ei(o,s);case 6:if(l=an,p=rr,an=null,Pi(r,s,o),an=l,rr=p,an!==null)if(rr)try{(an.nodeType===9?an.body:an.nodeName==="HTML"?an.ownerDocument.body:an).removeChild(o.stateNode)}catch(y){qt(o,s,y)}else try{an.removeChild(o.stateNode)}catch(y){qt(o,s,y)}break;case 18:an!==null&&(rr?(r=an,ax(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),qa(r)):ax(an,o.stateNode));break;case 4:l=an,p=rr,an=o.stateNode.containerInfo,rr=!0,Pi(r,s,o),an=l,rr=p;break;case 0:case 11:case 14:case 15:cs(2,o,s),En||cs(4,o,s),Pi(r,s,o);break;case 1:En||(ei(o,s),l=o.stateNode,typeof l.componentWillUnmount=="function"&&ov(o,s,l)),Pi(r,s,o);break;case 21:Pi(r,s,o);break;case 22:En=(l=En)||o.memoizedState!==null,Pi(r,s,o),En=l;break;default:Pi(r,s,o)}}function mv(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{qa(r)}catch(o){qt(s,s.return,o)}}}function yv(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{qa(r)}catch(o){qt(s,s.return,o)}}function XT(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new fv),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new fv),s;default:throw Error(i(435,r.tag))}}function Ml(r,s){var o=XT(r);s.forEach(function(l){if(!o.has(l)){o.add(l);var p=iR.bind(null,r,l);l.then(p,p)}})}function ir(r,s){var o=s.deletions;if(o!==null)for(var l=0;l<o.length;l++){var p=o[l],y=r,_=s,O=_;e:for(;O!==null;){switch(O.tag){case 27:if(ms(O.type)){an=O.stateNode,rr=!1;break e}break;case 5:an=O.stateNode,rr=!1;break e;case 3:case 4:an=O.stateNode.containerInfo,rr=!0;break e}O=O.return}if(an===null)throw Error(i(160));pv(y,_,p),an=null,rr=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)gv(s,r),s=s.sibling}var Hr=null;function gv(r,s){var o=r.alternate,l=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ir(s,r),sr(r),l&4&&(cs(3,r,r.return),Ho(3,r),cs(5,r,r.return));break;case 1:ir(s,r),sr(r),l&512&&(En||o===null||ei(o,o.return)),l&64&&Mi&&(r=r.updateQueue,r!==null&&(l=r.callbacks,l!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?l:o.concat(l))));break;case 26:var p=Hr;if(ir(s,r),sr(r),l&512&&(En||o===null||ei(o,o.return)),l&4){var y=o!==null?o.memoizedState:null;if(l=r.memoizedState,o===null)if(l===null)if(r.stateNode===null){e:{l=r.type,o=r.memoizedProps,p=p.ownerDocument||p;t:switch(l){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Ze]||y[q]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(l),p.head.insertBefore(y,p.querySelector("head > title"))),Hn(y,l,o),y[q]=r,Ie(y),l=y;break e;case"link":var _=gx("link","href",p).get(l+(o.href||""));if(_){for(var O=0;O<_.length;O++)if(y=_[O],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(O,1);break t}}y=p.createElement(l),Hn(y,l,o),p.head.appendChild(y);break;case"meta":if(_=gx("meta","content",p).get(l+(o.content||""))){for(O=0;O<_.length;O++)if(y=_[O],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(O,1);break t}}y=p.createElement(l),Hn(y,l,o),p.head.appendChild(y);break;default:throw Error(i(468,l))}y[q]=r,Ie(y),l=y}r.stateNode=l}else vx(p,r.type,r.stateNode);else r.stateNode=yx(p,l,r.memoizedProps);else y!==l?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,l===null?vx(p,r.type,r.stateNode):yx(p,l,r.memoizedProps)):l===null&&r.stateNode!==null&&uh(r,r.memoizedProps,o.memoizedProps)}break;case 27:ir(s,r),sr(r),l&512&&(En||o===null||ei(o,o.return)),o!==null&&l&4&&uh(r,r.memoizedProps,o.memoizedProps);break;case 5:if(ir(s,r),sr(r),l&512&&(En||o===null||ei(o,o.return)),r.flags&32){p=r.stateNode;try{$t(p,"")}catch(Be){qt(r,r.return,Be)}}l&4&&r.stateNode!=null&&(p=r.memoizedProps,uh(r,p,o!==null?o.memoizedProps:p)),l&1024&&(hh=!0);break;case 6:if(ir(s,r),sr(r),l&4){if(r.stateNode===null)throw Error(i(162));l=r.memoizedProps,o=r.stateNode;try{o.nodeValue=l}catch(Be){qt(r,r.return,Be)}}break;case 3:if(Yl=null,p=Hr,Hr=ql(s.containerInfo),ir(s,r),Hr=p,sr(r),l&4&&o!==null&&o.memoizedState.isDehydrated)try{qa(s.containerInfo)}catch(Be){qt(r,r.return,Be)}hh&&(hh=!1,vv(r));break;case 4:l=Hr,Hr=ql(r.stateNode.containerInfo),ir(s,r),sr(r),Hr=l;break;case 12:ir(s,r),sr(r);break;case 31:ir(s,r),sr(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Ml(r,l)));break;case 13:ir(s,r),sr(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Nl=dt()),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Ml(r,l)));break;case 22:p=r.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,Q=Mi,oe=En;if(Mi=Q||p,En=oe||U,ir(s,r),En=oe,Mi=Q,sr(r),l&8192)e:for(s=r.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||U||Mi||En||Gs(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){U=o=s;try{if(y=U.stateNode,p)_=y.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{O=U.stateNode;var he=U.memoizedProps.style,W=he!=null&&he.hasOwnProperty("display")?he.display:null;O.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(Be){qt(U,U.return,Be)}}}else if(s.tag===6){if(o===null){U=s;try{U.stateNode.nodeValue=p?"":U.memoizedProps}catch(Be){qt(U,U.return,Be)}}}else if(s.tag===18){if(o===null){U=s;try{var re=U.stateNode;p?ox(re,!0):ox(U.stateNode,!1)}catch(Be){qt(U,U.return,Be)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=r.updateQueue,l!==null&&(o=l.retryQueue,o!==null&&(l.retryQueue=null,Ml(r,o))));break;case 19:ir(s,r),sr(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,Ml(r,l)));break;case 30:break;case 21:break;default:ir(s,r),sr(r)}}function sr(r){var s=r.flags;if(s&2){try{for(var o,l=r.return;l!==null;){if(lv(l)){o=l;break}l=l.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var p=o.stateNode,y=fh(r);Ol(r,y,p);break;case 5:var _=o.stateNode;o.flags&32&&($t(_,""),o.flags&=-33);var O=fh(r);Ol(r,O,_);break;case 3:case 4:var U=o.stateNode.containerInfo,Q=fh(r);dh(r,Q,U);break;default:throw Error(i(161))}}catch(oe){qt(r,r.return,oe)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function vv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;vv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Ni(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)dv(r,s.alternate,s),s=s.sibling}function Gs(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:cs(4,s,s.return),Gs(s);break;case 1:ei(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&ov(s,s.return,o),Gs(s);break;case 27:Zo(s.stateNode);case 26:case 5:ei(s,s.return),Gs(s);break;case 22:s.memoizedState===null&&Gs(s);break;case 30:Gs(s);break;default:Gs(s)}r=r.sibling}}function Di(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,p=r,y=s,_=y.flags;switch(y.tag){case 0:case 11:case 15:Di(p,y,o),Ho(4,y);break;case 1:if(Di(p,y,o),l=y,p=l.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Q){qt(l,l.return,Q)}if(l=y,p=l.updateQueue,p!==null){var O=l.stateNode;try{var U=p.shared.hiddenCallbacks;if(U!==null)for(p.shared.hiddenCallbacks=null,p=0;p<U.length;p++)Xg(U[p],O)}catch(Q){qt(l,l.return,Q)}}o&&_&64&&av(y),$o(y,y.return);break;case 27:uv(y);case 26:case 5:Di(p,y,o),o&&l===null&&_&4&&cv(y),$o(y,y.return);break;case 12:Di(p,y,o);break;case 31:Di(p,y,o),o&&_&4&&mv(p,y);break;case 13:Di(p,y,o),o&&_&4&&yv(p,y);break;case 22:y.memoizedState===null&&Di(p,y,o),$o(y,y.return);break;case 30:break;default:Di(p,y,o)}s=s.sibling}}function ph(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Ao(o))}function mh(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Ao(r))}function $r(r,s,o,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)xv(r,s,o,l),s=s.sibling}function xv(r,s,o,l){var p=s.flags;switch(s.tag){case 0:case 11:case 15:$r(r,s,o,l),p&2048&&Ho(9,s);break;case 1:$r(r,s,o,l);break;case 3:$r(r,s,o,l),p&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Ao(r)));break;case 12:if(p&2048){$r(r,s,o,l),r=s.stateNode;try{var y=s.memoizedProps,_=y.id,O=y.onPostCommit;typeof O=="function"&&O(_,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(U){qt(s,s.return,U)}}else $r(r,s,o,l);break;case 31:$r(r,s,o,l);break;case 13:$r(r,s,o,l);break;case 23:break;case 22:y=s.stateNode,_=s.alternate,s.memoizedState!==null?y._visibility&2?$r(r,s,o,l):Vo(r,s):y._visibility&2?$r(r,s,o,l):(y._visibility|=2,Da(r,s,o,l,(s.subtreeFlags&10256)!==0||!1)),p&2048&&ph(_,s);break;case 24:$r(r,s,o,l),p&2048&&mh(s.alternate,s);break;default:$r(r,s,o,l)}}function Da(r,s,o,l,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=r,_=s,O=o,U=l,Q=_.flags;switch(_.tag){case 0:case 11:case 15:Da(y,_,O,U,p),Ho(8,_);break;case 23:break;case 22:var oe=_.stateNode;_.memoizedState!==null?oe._visibility&2?Da(y,_,O,U,p):Vo(y,_):(oe._visibility|=2,Da(y,_,O,U,p)),p&&Q&2048&&ph(_.alternate,_);break;case 24:Da(y,_,O,U,p),p&&Q&2048&&mh(_.alternate,_);break;default:Da(y,_,O,U,p)}s=s.sibling}}function Vo(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,l=s,p=l.flags;switch(l.tag){case 22:Vo(o,l),p&2048&&ph(l.alternate,l);break;case 24:Vo(o,l),p&2048&&mh(l.alternate,l);break;default:Vo(o,l)}s=s.sibling}}var qo=8192;function ka(r,s,o){if(r.subtreeFlags&qo)for(r=r.child;r!==null;)bv(r,s,o),r=r.sibling}function bv(r,s,o){switch(r.tag){case 26:ka(r,s,o),r.flags&qo&&r.memoizedState!==null&&jR(o,Hr,r.memoizedState,r.memoizedProps);break;case 5:ka(r,s,o);break;case 3:case 4:var l=Hr;Hr=ql(r.stateNode.containerInfo),ka(r,s,o),Hr=l;break;case 22:r.memoizedState===null&&(l=r.alternate,l!==null&&l.memoizedState!==null?(l=qo,qo=16777216,ka(r,s,o),qo=l):ka(r,s,o));break;default:ka(r,s,o)}}function Sv(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Fo(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var l=s[o];kn=l,wv(l,r)}Sv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)_v(r),r=r.sibling}function _v(r){switch(r.tag){case 0:case 11:case 15:Fo(r),r.flags&2048&&cs(9,r,r.return);break;case 3:Fo(r);break;case 12:Fo(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Pl(r)):Fo(r);break;default:Fo(r)}}function Pl(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var l=s[o];kn=l,wv(l,r)}Sv(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:cs(8,s,s.return),Pl(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Pl(s));break;default:Pl(s)}r=r.sibling}}function wv(r,s){for(;kn!==null;){var o=kn;switch(o.tag){case 0:case 11:case 15:cs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var l=o.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ao(o.memoizedState.cache)}if(l=o.child,l!==null)l.return=o,kn=l;else e:for(o=r;kn!==null;){l=kn;var p=l.sibling,y=l.return;if(hv(l),l===o){kn=null;break e}if(p!==null){p.return=y,kn=p;break e}kn=y}}}var QT={getCacheForType:function(r){var s=In(Sn),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o},cacheSignal:function(){return In(Sn).controller.signal}},ZT=typeof WeakMap=="function"?WeakMap:Map,It=0,Qt=null,Et=null,Rt=0,Vt=0,mr=null,ls=!1,ja=!1,yh=!1,ki=0,dn=0,us=0,Ks=0,gh=0,yr=0,La=0,Yo=null,ar=null,vh=!1,Nl=0,Ev=0,Dl=1/0,kl=null,fs=null,Rn=0,ds=null,Ua=null,ji=0,xh=0,bh=null,Cv=null,Go=0,Sh=null;function gr(){return(It&2)!==0&&Rt!==0?Rt&-Rt:H.T!==null?Rh():v()}function Tv(){if(yr===0)if((Rt&536870912)===0||Mt){var r=xi;xi<<=1,(xi&3932160)===0&&(xi=262144),yr=r}else yr=536870912;return r=hr.current,r!==null&&(r.flags|=32),yr}function or(r,s,o){(r===Qt&&(Vt===2||Vt===9)||r.cancelPendingCommit!==null)&&(za(r,0),hs(r,Rt,yr,!1)),be(r,o),((It&2)===0||r!==Qt)&&(r===Qt&&((It&2)===0&&(Ks|=o),dn===4&&hs(r,Rt,yr,!1)),ti(r))}function Rv(r,s,o){if((It&6)!==0)throw Error(i(327));var l=!o&&(s&127)===0&&(s&r.expiredLanes)===0||Vn(r,s),p=l?eR(r,s):wh(r,s,!0),y=l;do{if(p===0){ja&&!l&&hs(r,s,0,!1);break}else{if(o=r.current.alternate,y&&!JT(o)){p=wh(r,s,!1),y=!1;continue}if(p===2){if(y=s,r.errorRecoveryDisabledLanes&y)var _=0;else _=r.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var O=r;p=Yo;var U=O.current.memoizedState.isDehydrated;if(U&&(za(O,_).flags|=256),_=wh(O,_,!1),_!==2){if(yh&&!U){O.errorRecoveryDisabledLanes|=y,Ks|=y,p=4;break e}y=ar,ar=p,y!==null&&(ar===null?ar=y:ar.push.apply(ar,y))}p=_}if(y=!1,p!==2)continue}}if(p===1){za(r,0),hs(r,s,0,!0);break}e:{switch(l=r,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:hs(l,s,yr,!ls);break e;case 2:ar=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(p=Nl+300-dt(),10<p)){if(hs(l,s,yr,!ls),Un(l,0,!0)!==0)break e;ji=s,l.timeoutHandle=ix(Av.bind(null,l,o,ar,kl,vh,s,yr,Ks,La,ls,y,"Throttled",-0,0),p);break e}Av(l,o,ar,kl,vh,s,yr,Ks,La,ls,y,null,-0,0)}}break}while(!0);ti(r)}function Av(r,s,o,l,p,y,_,O,U,Q,oe,he,W,re){if(r.timeoutHandle=-1,he=s.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bi},bv(s,y,he);var Be=(y&62914560)===y?Nl-dt():(y&4194048)===y?Ev-dt():0;if(Be=LR(he,Be),Be!==null){ji=y,r.cancelPendingCommit=Be(Lv.bind(null,r,s,y,o,l,p,_,O,U,oe,he,null,W,re)),hs(r,y,_,!Q);return}}Lv(r,s,y,o,l,p,_,O,U)}function JT(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var l=0;l<o.length;l++){var p=o[l],y=p.getSnapshot;p=p.value;try{if(!fr(y(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function hs(r,s,o,l){s&=~gh,s&=~Ks,r.suspendedLanes|=s,r.pingedLanes&=~s,l&&(r.warmLanes|=s),l=r.expirationTimes;for(var p=s;0<p;){var y=31-ln(p),_=1<<y;l[y]=-1,p&=~_}o!==0&&pt(r,o,s)}function jl(){return(It&6)===0?(Ko(0),!1):!0}function _h(){if(Et!==null){if(Vt===0)var r=Et.return;else r=Et,Ei=Is=null,zd(r),Aa=null,Mo=0,r=Et;for(;r!==null;)sv(r.alternate,r),r=r.return;Et=null}}function za(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,vR(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),ji=0,_h(),Qt=r,Et=o=_i(r.current,null),Rt=s,Vt=0,mr=null,ls=!1,ja=Vn(r,s),yh=!1,La=yr=gh=Ks=us=dn=0,ar=Yo=null,vh=!1,(s&8)!==0&&(s|=s&32);var l=r.entangledLanes;if(l!==0)for(r=r.entanglements,l&=s;0<l;){var p=31-ln(l),y=1<<p;s|=r[p],l&=~y}return ki=s,nl(),o}function Ov(r,s){mt=null,H.H=zo,s===Ra||s===ul?(s=Fg(),Vt=3):s===Td?(s=Fg(),Vt=4):Vt=s===eh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,mr=s,Et===null&&(dn=1,El(r,Rr(s,r.current)))}function Mv(){var r=hr.current;return r===null?!0:(Rt&4194048)===Rt?Pr===null:(Rt&62914560)===Rt||(Rt&536870912)!==0?r===Pr:!1}function Pv(){var r=H.H;return H.H=zo,r===null?zo:r}function Nv(){var r=H.A;return H.A=QT,r}function Ll(){dn=4,ls||(Rt&4194048)!==Rt&&hr.current!==null||(ja=!0),(us&134217727)===0&&(Ks&134217727)===0||Qt===null||hs(Qt,Rt,yr,!1)}function wh(r,s,o){var l=It;It|=2;var p=Pv(),y=Nv();(Qt!==r||Rt!==s)&&(kl=null,za(r,s)),s=!1;var _=dn;e:do try{if(Vt!==0&&Et!==null){var O=Et,U=mr;switch(Vt){case 8:_h(),_=6;break e;case 3:case 2:case 9:case 6:hr.current===null&&(s=!0);var Q=Vt;if(Vt=0,mr=null,Ia(r,O,U,Q),o&&ja){_=0;break e}break;default:Q=Vt,Vt=0,mr=null,Ia(r,O,U,Q)}}WT(),_=dn;break}catch(oe){Ov(r,oe)}while(!0);return s&&r.shellSuspendCounter++,Ei=Is=null,It=l,H.H=p,H.A=y,Et===null&&(Qt=null,Rt=0,nl()),_}function WT(){for(;Et!==null;)Dv(Et)}function eR(r,s){var o=It;It|=2;var l=Pv(),p=Nv();Qt!==r||Rt!==s?(kl=null,Dl=dt()+500,za(r,s)):ja=Vn(r,s);e:do try{if(Vt!==0&&Et!==null){s=Et;var y=mr;t:switch(Vt){case 1:Vt=0,mr=null,Ia(r,s,y,1);break;case 2:case 9:if(Vg(y)){Vt=0,mr=null,kv(s);break}s=function(){Vt!==2&&Vt!==9||Qt!==r||(Vt=7),ti(r)},y.then(s,s);break e;case 3:Vt=7;break e;case 4:Vt=5;break e;case 7:Vg(y)?(Vt=0,mr=null,kv(s)):(Vt=0,mr=null,Ia(r,s,y,7));break;case 5:var _=null;switch(Et.tag){case 26:_=Et.memoizedState;case 5:case 27:var O=Et;if(_?xx(_):O.stateNode.complete){Vt=0,mr=null;var U=O.sibling;if(U!==null)Et=U;else{var Q=O.return;Q!==null?(Et=Q,Ul(Q)):Et=null}break t}}Vt=0,mr=null,Ia(r,s,y,5);break;case 6:Vt=0,mr=null,Ia(r,s,y,6);break;case 8:_h(),dn=6;break e;default:throw Error(i(462))}}tR();break}catch(oe){Ov(r,oe)}while(!0);return Ei=Is=null,H.H=l,H.A=p,It=o,Et!==null?0:(Qt=null,Rt=0,nl(),dn)}function tR(){for(;Et!==null&&!xn();)Dv(Et)}function Dv(r){var s=rv(r.alternate,r,ki);r.memoizedProps=r.pendingProps,s===null?Ul(r):Et=s}function kv(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=Z0(o,s,s.pendingProps,s.type,void 0,Rt);break;case 11:s=Z0(o,s,s.pendingProps,s.type.render,s.ref,Rt);break;case 5:zd(s);default:sv(o,s),s=Et=Ng(s,ki),s=rv(o,s,ki)}r.memoizedProps=r.pendingProps,s===null?Ul(r):Et=s}function Ia(r,s,o,l){Ei=Is=null,zd(s),Aa=null,Mo=0;var p=s.return;try{if(VT(r,p,s,o,Rt)){dn=1,El(r,Rr(o,r.current)),Et=null;return}}catch(y){if(p!==null)throw Et=p,y;dn=1,El(r,Rr(o,r.current)),Et=null;return}s.flags&32768?(Mt||l===1?r=!0:ja||(Rt&536870912)!==0?r=!1:(ls=r=!0,(l===2||l===9||l===3||l===6)&&(l=hr.current,l!==null&&l.tag===13&&(l.flags|=16384))),jv(s,r)):Ul(s)}function Ul(r){var s=r;do{if((s.flags&32768)!==0){jv(s,ls);return}r=s.return;var o=YT(s.alternate,s,ki);if(o!==null){Et=o;return}if(s=s.sibling,s!==null){Et=s;return}Et=s=r}while(s!==null);dn===0&&(dn=5)}function jv(r,s){do{var o=GT(r.alternate,r);if(o!==null){o.flags&=32767,Et=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Et=r;return}Et=r=o}while(r!==null);dn=6,Et=null}function Lv(r,s,o,l,p,y,_,O,U){r.cancelPendingCommit=null;do zl();while(Rn!==0);if((It&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=fd,at(r,o,y,_,O,U),r===Qt&&(Et=Qt=null,Rt=0),Ua=s,ds=r,ji=o,xh=y,bh=p,Cv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,sR(hn,function(){return Hv(),null})):(r.callbackNode=null,r.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,p=se.p,se.p=2,_=It,It|=4;try{KT(r,s,o)}finally{It=_,se.p=p,H.T=l}}Rn=1,Uv(),zv(),Iv()}}function Uv(){if(Rn===1){Rn=0;var r=ds,s=Ua,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var l=se.p;se.p=2;var p=It;It|=4;try{gv(s,r);var y=jh,_=wg(r.containerInfo),O=y.focusedElem,U=y.selectionRange;if(_!==O&&O&&O.ownerDocument&&_g(O.ownerDocument.documentElement,O)){if(U!==null&&ad(O)){var Q=U.start,oe=U.end;if(oe===void 0&&(oe=Q),"selectionStart"in O)O.selectionStart=Q,O.selectionEnd=Math.min(oe,O.value.length);else{var he=O.ownerDocument||document,W=he&&he.defaultView||window;if(W.getSelection){var re=W.getSelection(),Be=O.textContent.length,tt=Math.min(U.start,Be),Xt=U.end===void 0?tt:Math.min(U.end,Be);!re.extend&&tt>Xt&&(_=Xt,Xt=tt,tt=_);var F=Sg(O,tt),B=Sg(O,Xt);if(F&&B&&(re.rangeCount!==1||re.anchorNode!==F.node||re.anchorOffset!==F.offset||re.focusNode!==B.node||re.focusOffset!==B.offset)){var X=he.createRange();X.setStart(F.node,F.offset),re.removeAllRanges(),tt>Xt?(re.addRange(X),re.extend(B.node,B.offset)):(X.setEnd(B.node,B.offset),re.addRange(X))}}}}for(he=[],re=O;re=re.parentNode;)re.nodeType===1&&he.push({element:re,left:re.scrollLeft,top:re.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<he.length;O++){var ue=he[O];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Ql=!!kh,jh=kh=null}finally{It=p,se.p=l,H.T=o}}r.current=s,Rn=2}}function zv(){if(Rn===2){Rn=0;var r=ds,s=Ua,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var l=se.p;se.p=2;var p=It;It|=4;try{dv(r,s.alternate,s)}finally{It=p,se.p=l,H.T=o}}Rn=3}}function Iv(){if(Rn===4||Rn===3){Rn=0,it();var r=ds,s=Ua,o=ji,l=Cv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Rn=5:(Rn=0,Ua=ds=null,Bv(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(fs=null),R(o),s=s.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Cr,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=H.T,p=se.p,se.p=2,H.T=null;try{for(var y=r.onRecoverableError,_=0;_<l.length;_++){var O=l[_];y(O.value,{componentStack:O.stack})}}finally{H.T=s,se.p=p}}(ji&3)!==0&&zl(),ti(r),p=r.pendingLanes,(o&261930)!==0&&(p&42)!==0?r===Sh?Go++:(Go=0,Sh=r):Go=0,Ko(0)}}function Bv(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Ao(s)))}function zl(){return Uv(),zv(),Iv(),Hv()}function Hv(){if(Rn!==5)return!1;var r=ds,s=xh;xh=0;var o=R(ji),l=H.T,p=se.p;try{se.p=32>o?32:o,H.T=null,o=bh,bh=null;var y=ds,_=ji;if(Rn=0,Ua=ds=null,ji=0,(It&6)!==0)throw Error(i(331));var O=It;if(It|=4,_v(y.current),xv(y,y.current,_,o),It=O,Ko(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Cr,y)}catch{}return!0}finally{se.p=p,H.T=l,Bv(r,s)}}function $v(r,s,o){s=Rr(o,s),s=Wd(r.stateNode,s,2),r=ss(r,s,2),r!==null&&(be(r,2),ti(r))}function qt(r,s,o){if(r.tag===3)$v(r,r,o);else for(;s!==null;){if(s.tag===3){$v(s,r,o);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fs===null||!fs.has(l))){r=Rr(o,r),o=V0(2),l=ss(s,o,2),l!==null&&(q0(o,l,s,r),be(l,2),ti(l));break}}s=s.return}}function Eh(r,s,o){var l=r.pingCache;if(l===null){l=r.pingCache=new ZT;var p=new Set;l.set(s,p)}else p=l.get(s),p===void 0&&(p=new Set,l.set(s,p));p.has(o)||(yh=!0,p.add(o),r=nR.bind(null,r,s,o),s.then(r,r))}function nR(r,s,o){var l=r.pingCache;l!==null&&l.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Qt===r&&(Rt&o)===o&&(dn===4||dn===3&&(Rt&62914560)===Rt&&300>dt()-Nl?(It&2)===0&&za(r,0):gh|=o,La===Rt&&(La=0)),ti(r)}function Vv(r,s){s===0&&(s=Zi()),r=Ls(r,s),r!==null&&(be(r,s),ti(r))}function rR(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),Vv(r,o)}function iR(r,s){var o=0;switch(r.tag){case 31:case 13:var l=r.stateNode,p=r.memoizedState;p!==null&&(o=p.retryLane);break;case 19:l=r.stateNode;break;case 22:l=r.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),Vv(r,o)}function sR(r,s){return zt(r,s)}var Il=null,Ba=null,Ch=!1,Bl=!1,Th=!1,ps=0;function ti(r){r!==Ba&&r.next===null&&(Ba===null?Il=Ba=r:Ba=Ba.next=r),Bl=!0,Ch||(Ch=!0,oR())}function Ko(r,s){if(!Th&&Bl){Th=!0;do for(var o=!1,l=Il;l!==null;){if(r!==0){var p=l.pendingLanes;if(p===0)var y=0;else{var _=l.suspendedLanes,O=l.pingedLanes;y=(1<<31-ln(42|r)+1)-1,y&=p&~(_&~O),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Gv(l,y))}else y=Rt,y=Un(l,l===Qt?y:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(y&3)===0||Vn(l,y)||(o=!0,Gv(l,y));l=l.next}while(o);Th=!1}}function aR(){qv()}function qv(){Bl=Ch=!1;var r=0;ps!==0&&gR()&&(r=ps);for(var s=dt(),o=null,l=Il;l!==null;){var p=l.next,y=Fv(l,s);y===0?(l.next=null,o===null?Il=p:o.next=p,p===null&&(Ba=o)):(o=l,(r!==0||(y&3)!==0)&&(Bl=!0)),l=p}Rn!==0&&Rn!==5||Ko(r),ps!==0&&(ps=0)}function Fv(r,s){for(var o=r.suspendedLanes,l=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var _=31-ln(y),O=1<<_,U=p[_];U===-1?((O&o)===0||(O&l)!==0)&&(p[_]=Ir(O,s)):U<=s&&(r.expiredLanes|=O),y&=~O}if(s=Qt,o=Rt,o=Un(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l=r.callbackNode,o===0||r===s&&(Vt===2||Vt===9)||r.cancelPendingCommit!==null)return l!==null&&l!==null&&Zt(l),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Vn(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(l!==null&&Zt(l),R(o)){case 2:case 8:o=Er;break;case 32:o=hn;break;case 268435456:o=Qr;break;default:o=hn}return l=Yv.bind(null,r),o=zt(o,l),r.callbackPriority=s,r.callbackNode=o,s}return l!==null&&l!==null&&Zt(l),r.callbackPriority=2,r.callbackNode=null,2}function Yv(r,s){if(Rn!==0&&Rn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(zl()&&r.callbackNode!==o)return null;var l=Rt;return l=Un(r,r===Qt?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l===0?null:(Rv(r,l,s),Fv(r,dt()),r.callbackNode!=null&&r.callbackNode===o?Yv.bind(null,r):null)}function Gv(r,s){if(zl())return null;Rv(r,s,!0)}function oR(){xR(function(){(It&6)!==0?zt(Tn,aR):qv()})}function Rh(){if(ps===0){var r=Ca;r===0&&(r=Zr,Zr<<=1,(Zr&261888)===0&&(Zr=256)),ps=r}return ps}function Kv(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Kc(""+r)}function Xv(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function cR(r,s,o,l,p){if(s==="submit"&&o&&o.stateNode===p){var y=Kv((p[ae]||null).action),_=l.submitter;_&&(s=(s=_[ae]||null)?Kv(s.formAction):_.getAttribute("formAction"),s!==null&&(y=s,_=null));var O=new Jc("action","action",null,l,p);r.push({event:O,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ps!==0){var U=_?Xv(p,_):new FormData(p);Gd(o,{pending:!0,data:U,method:p.method,action:y},null,U)}}else typeof y=="function"&&(O.preventDefault(),U=_?Xv(p,_):new FormData(p),Gd(o,{pending:!0,data:U,method:p.method,action:y},y,U))},currentTarget:p}]})}}for(var Ah=0;Ah<ud.length;Ah++){var Oh=ud[Ah],lR=Oh.toLowerCase(),uR=Oh[0].toUpperCase()+Oh.slice(1);Br(lR,"on"+uR)}Br(Tg,"onAnimationEnd"),Br(Rg,"onAnimationIteration"),Br(Ag,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(TT,"onTransitionRun"),Br(RT,"onTransitionStart"),Br(AT,"onTransitionCancel"),Br(Og,"onTransitionEnd"),Me("onMouseEnter",["mouseout","mouseover"]),Me("onMouseLeave",["mouseout","mouseover"]),Me("onPointerEnter",["pointerout","pointerover"]),Me("onPointerLeave",["pointerout","pointerover"]),Re("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Re("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Re("onBeforeInput",["compositionend","keypress","textInput","paste"]),Re("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Re("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Re("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xo));function Qv(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var l=r[o],p=l.event;l=l.listeners;e:{var y=void 0;if(s)for(var _=l.length-1;0<=_;_--){var O=l[_],U=O.instance,Q=O.currentTarget;if(O=O.listener,U!==y&&p.isPropagationStopped())break e;y=O,p.currentTarget=Q;try{y(p)}catch(oe){tl(oe)}p.currentTarget=null,y=U}else for(_=0;_<l.length;_++){if(O=l[_],U=O.instance,Q=O.currentTarget,O=O.listener,U!==y&&p.isPropagationStopped())break e;y=O,p.currentTarget=Q;try{y(p)}catch(oe){tl(oe)}p.currentTarget=null,y=U}}}}function Ct(r,s){var o=s[ze];o===void 0&&(o=s[ze]=new Set);var l=r+"__bubble";o.has(l)||(Zv(s,r,2,!1),o.add(l))}function Mh(r,s,o){var l=0;s&&(l|=4),Zv(o,r,l,s)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function Ph(r){if(!r[Hl]){r[Hl]=!0,Le.forEach(function(o){o!=="selectionchange"&&(fR.has(o)||Mh(o,!1,r),Mh(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Hl]||(s[Hl]=!0,Mh("selectionchange",!1,s))}}function Zv(r,s,o,l){switch(Tx(s)){case 2:var p=IR;break;case 8:p=BR;break;default:p=Yh}o=p.bind(null,s,o,r),p=void 0,!Zf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),l?p!==void 0?r.addEventListener(s,o,{capture:!0,passive:p}):r.addEventListener(s,o,!0):p!==void 0?r.addEventListener(s,o,{passive:p}):r.addEventListener(s,o,!1)}function Nh(r,s,o,l,p){var y=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var O=l.stateNode.containerInfo;if(O===p)break;if(_===4)for(_=l.return;_!==null;){var U=_.tag;if((U===3||U===4)&&_.stateNode.containerInfo===p)return;_=_.return}for(;O!==null;){if(_=st(O),_===null)return;if(U=_.tag,U===5||U===6||U===26||U===27){l=y=_;continue e}O=O.parentNode}}l=l.return}ng(function(){var Q=y,oe=Xf(o),he=[];e:{var W=Mg.get(r);if(W!==void 0){var re=Jc,Be=r;switch(r){case"keypress":if(Qc(o)===0)break e;case"keydown":case"keyup":re=iT;break;case"focusin":Be="focus",re=td;break;case"focusout":Be="blur",re=td;break;case"beforeblur":case"afterblur":re=td;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=sg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=YC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=oT;break;case Tg:case Rg:case Ag:re=XC;break;case Og:re=lT;break;case"scroll":case"scrollend":re=qC;break;case"wheel":re=fT;break;case"copy":case"cut":case"paste":re=ZC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=og;break;case"toggle":case"beforetoggle":re=hT}var tt=(s&4)!==0,Xt=!tt&&(r==="scroll"||r==="scrollend"),F=tt?W!==null?W+"Capture":null:W;tt=[];for(var B=Q,X;B!==null;){var ue=B;if(X=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||X===null||F===null||(ue=go(B,F),ue!=null&&tt.push(Qo(B,ue,X))),Xt)break;B=B.return}0<tt.length&&(W=new re(W,Be,null,o,oe),he.push({event:W,listeners:tt}))}}if((s&7)===0){e:{if(W=r==="mouseover"||r==="pointerover",re=r==="mouseout"||r==="pointerout",W&&o!==Kf&&(Be=o.relatedTarget||o.fromElement)&&(st(Be)||Be[we]))break e;if((re||W)&&(W=oe.window===oe?oe:(W=oe.ownerDocument)?W.defaultView||W.parentWindow:window,re?(Be=o.relatedTarget||o.toElement,re=Q,Be=Be?st(Be):null,Be!==null&&(Xt=c(Be),tt=Be.tag,Be!==Xt||tt!==5&&tt!==27&&tt!==6)&&(Be=null)):(re=null,Be=Q),re!==Be)){if(tt=sg,ue="onMouseLeave",F="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(tt=og,ue="onPointerLeave",F="onPointerEnter",B="pointer"),Xt=re==null?W:We(re),X=Be==null?W:We(Be),W=new tt(ue,B+"leave",re,o,oe),W.target=Xt,W.relatedTarget=X,ue=null,st(oe)===Q&&(tt=new tt(F,B+"enter",Be,o,oe),tt.target=X,tt.relatedTarget=Xt,ue=tt),Xt=ue,re&&Be)t:{for(tt=dR,F=re,B=Be,X=0,ue=F;ue;ue=tt(ue))X++;ue=0;for(var Qe=B;Qe;Qe=tt(Qe))ue++;for(;0<X-ue;)F=tt(F),X--;for(;0<ue-X;)B=tt(B),ue--;for(;X--;){if(F===B||B!==null&&F===B.alternate){tt=F;break t}F=tt(F),B=tt(B)}tt=null}else tt=null;re!==null&&Jv(he,W,re,tt,!1),Be!==null&&Xt!==null&&Jv(he,Xt,Be,tt,!0)}}e:{if(W=Q?We(Q):window,re=W.nodeName&&W.nodeName.toLowerCase(),re==="select"||re==="input"&&W.type==="file")var jt=mg;else if(hg(W))if(yg)jt=wT;else{jt=ST;var Ge=bT}else re=W.nodeName,!re||re.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Q&&bn(Q.elementType)&&(jt=mg):jt=_T;if(jt&&(jt=jt(r,Q))){pg(he,jt,o,oe);break e}Ge&&Ge(r,W,Q),r==="focusout"&&Q&&W.type==="number"&&Q.memoizedProps.value!=null&&_t(W,"number",W.value)}switch(Ge=Q?We(Q):window,r){case"focusin":(hg(Ge)||Ge.contentEditable==="true")&&(ga=Ge,od=Q,Co=null);break;case"focusout":Co=od=ga=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,Eg(he,o,oe);break;case"selectionchange":if(CT)break;case"keydown":case"keyup":Eg(he,o,oe)}var vt;if(rd)e:{switch(r){case"compositionstart":var At="onCompositionStart";break e;case"compositionend":At="onCompositionEnd";break e;case"compositionupdate":At="onCompositionUpdate";break e}At=void 0}else ya?fg(r,o)&&(At="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(At="onCompositionStart");At&&(cg&&o.locale!=="ko"&&(ya||At!=="onCompositionStart"?At==="onCompositionEnd"&&ya&&(vt=rg()):(Ji=oe,Jf="value"in Ji?Ji.value:Ji.textContent,ya=!0)),Ge=$l(Q,At),0<Ge.length&&(At=new ag(At,r,null,o,oe),he.push({event:At,listeners:Ge}),vt?At.data=vt:(vt=dg(o),vt!==null&&(At.data=vt)))),(vt=mT?yT(r,o):gT(r,o))&&(At=$l(Q,"onBeforeInput"),0<At.length&&(Ge=new ag("onBeforeInput","beforeinput",null,o,oe),he.push({event:Ge,listeners:At}),Ge.data=vt)),cR(he,r,Q,o,oe)}Qv(he,s)})}function Qo(r,s,o){return{instance:r,listener:s,currentTarget:o}}function $l(r,s){for(var o=s+"Capture",l=[];r!==null;){var p=r,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=go(r,o),p!=null&&l.unshift(Qo(r,p,y)),p=go(r,s),p!=null&&l.push(Qo(r,p,y))),r.tag===3)return l;r=r.return}return[]}function dR(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Jv(r,s,o,l,p){for(var y=s._reactName,_=[];o!==null&&o!==l;){var O=o,U=O.alternate,Q=O.stateNode;if(O=O.tag,U!==null&&U===l)break;O!==5&&O!==26&&O!==27||Q===null||(U=Q,p?(Q=go(o,y),Q!=null&&_.unshift(Qo(o,Q,U))):p||(Q=go(o,y),Q!=null&&_.push(Qo(o,Q,U)))),o=o.return}_.length!==0&&r.push({event:s,listeners:_})}var hR=/\r\n?/g,pR=/\u0000|\uFFFD/g;function Wv(r){return(typeof r=="string"?r:""+r).replace(hR,`
`).replace(pR,"")}function ex(r,s){return s=Wv(s),Wv(r)===s}function Kt(r,s,o,l,p,y){switch(o){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||$t(r,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&$t(r,""+l);break;case"className":de(r,"class",l);break;case"tabIndex":de(r,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":de(r,o,l);break;case"style":un(r,l,y);break;case"data":if(s!=="object"){de(r,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(o);break}l=Kc(""+l),r.setAttribute(o,l);break;case"action":case"formAction":if(typeof l=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&Kt(r,s,"name",p.name,p,null),Kt(r,s,"formEncType",p.formEncType,p,null),Kt(r,s,"formMethod",p.formMethod,p,null),Kt(r,s,"formTarget",p.formTarget,p,null)):(Kt(r,s,"encType",p.encType,p,null),Kt(r,s,"method",p.method,p,null),Kt(r,s,"target",p.target,p,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(o);break}l=Kc(""+l),r.setAttribute(o,l);break;case"onClick":l!=null&&(r.onclick=bi);break;case"onScroll":l!=null&&Ct("scroll",r);break;case"onScrollEnd":l!=null&&Ct("scrollend",r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(o=l.__html,o!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":r.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){r.removeAttribute("xlink:href");break}o=Kc(""+l),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,""+l):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":l===!0?r.setAttribute(o,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,l):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?r.setAttribute(o,l):r.removeAttribute(o);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?r.removeAttribute(o):r.setAttribute(o,l);break;case"popover":Ct("beforetoggle",r),Ct("toggle",r),ge(r,"popover",l);break;case"xlinkActuate":ce(r,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ce(r,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ce(r,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ce(r,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ce(r,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ce(r,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ce(r,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ce(r,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ce(r,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ge(r,"is",l);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Nn.get(o)||o,ge(r,o,l))}}function Dh(r,s,o,l,p,y){switch(o){case"style":un(r,l,y);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(o=l.__html,o!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof l=="string"?$t(r,l):(typeof l=="number"||typeof l=="bigint")&&$t(r,""+l);break;case"onScroll":l!=null&&Ct("scroll",r);break;case"onScrollEnd":l!=null&&Ct("scrollend",r);break;case"onClick":l!=null&&(r.onclick=bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ke.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),y=r[ae]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(s,y,p),typeof l=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,l,p);break e}o in r?r[o]=l:l===!0?r.setAttribute(o,""):ge(r,o,l)}}}function Hn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",r),Ct("load",r);var l=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var _=o[y];if(_!=null)switch(y){case"src":l=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Kt(r,s,y,_,o,null)}}p&&Kt(r,s,"srcSet",o.srcSet,o,null),l&&Kt(r,s,"src",o.src,o,null);return;case"input":Ct("invalid",r);var O=y=_=p=null,U=null,Q=null;for(l in o)if(o.hasOwnProperty(l)){var oe=o[l];if(oe!=null)switch(l){case"name":p=oe;break;case"type":_=oe;break;case"checked":U=oe;break;case"defaultChecked":Q=oe;break;case"value":y=oe;break;case"defaultValue":O=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(i(137,s));break;default:Kt(r,s,l,oe,o,null)}}ht(r,y,O,U,Q,_,p,!1);return;case"select":Ct("invalid",r),l=_=y=null;for(p in o)if(o.hasOwnProperty(p)&&(O=o[p],O!=null))switch(p){case"value":y=O;break;case"defaultValue":_=O;break;case"multiple":l=O;default:Kt(r,s,p,O,o,null)}s=y,o=_,r.multiple=!!l,s!=null?gt(r,!!l,s,!1):o!=null&&gt(r,!!l,o,!0);return;case"textarea":Ct("invalid",r),y=p=l=null;for(_ in o)if(o.hasOwnProperty(_)&&(O=o[_],O!=null))switch(_){case"value":l=O;break;case"defaultValue":p=O;break;case"children":y=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(i(91));break;default:Kt(r,s,_,O,o,null)}kt(r,l,p,y);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(l=o[U],l!=null))switch(U){case"selected":r.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(r,s,U,l,o,null)}return;case"dialog":Ct("beforetoggle",r),Ct("toggle",r),Ct("cancel",r),Ct("close",r);break;case"iframe":case"object":Ct("load",r);break;case"video":case"audio":for(l=0;l<Xo.length;l++)Ct(Xo[l],r);break;case"image":Ct("error",r),Ct("load",r);break;case"details":Ct("toggle",r);break;case"embed":case"source":case"link":Ct("error",r),Ct("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(l=o[Q],l!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Kt(r,s,Q,l,o,null)}return;default:if(bn(s)){for(oe in o)o.hasOwnProperty(oe)&&(l=o[oe],l!==void 0&&Dh(r,s,oe,l,o,void 0));return}}for(O in o)o.hasOwnProperty(O)&&(l=o[O],l!=null&&Kt(r,s,O,l,o,null))}function mR(r,s,o,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,_=null,O=null,U=null,Q=null,oe=null;for(re in o){var he=o[re];if(o.hasOwnProperty(re)&&he!=null)switch(re){case"checked":break;case"value":break;case"defaultValue":U=he;default:l.hasOwnProperty(re)||Kt(r,s,re,null,l,he)}}for(var W in l){var re=l[W];if(he=o[W],l.hasOwnProperty(W)&&(re!=null||he!=null))switch(W){case"type":y=re;break;case"name":p=re;break;case"checked":Q=re;break;case"defaultChecked":oe=re;break;case"value":_=re;break;case"defaultValue":O=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,s));break;default:re!==he&&Kt(r,s,W,re,l,he)}}wt(r,_,O,U,Q,oe,y,p);return;case"select":re=_=O=W=null;for(y in o)if(U=o[y],o.hasOwnProperty(y)&&U!=null)switch(y){case"value":break;case"multiple":re=U;default:l.hasOwnProperty(y)||Kt(r,s,y,null,l,U)}for(p in l)if(y=l[p],U=o[p],l.hasOwnProperty(p)&&(y!=null||U!=null))switch(p){case"value":W=y;break;case"defaultValue":O=y;break;case"multiple":_=y;default:y!==U&&Kt(r,s,p,y,l,U)}s=O,o=_,l=re,W!=null?gt(r,!!o,W,!1):!!l!=!!o&&(s!=null?gt(r,!!o,s,!0):gt(r,!!o,o?[]:"",!1));return;case"textarea":re=W=null;for(O in o)if(p=o[O],o.hasOwnProperty(O)&&p!=null&&!l.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Kt(r,s,O,null,l,p)}for(_ in l)if(p=l[_],y=o[_],l.hasOwnProperty(_)&&(p!=null||y!=null))switch(_){case"value":W=p;break;case"defaultValue":re=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&Kt(r,s,_,p,l,y)}rn(r,W,re);return;case"option":for(var Be in o)if(W=o[Be],o.hasOwnProperty(Be)&&W!=null&&!l.hasOwnProperty(Be))switch(Be){case"selected":r.selected=!1;break;default:Kt(r,s,Be,null,l,W)}for(U in l)if(W=l[U],re=o[U],l.hasOwnProperty(U)&&W!==re&&(W!=null||re!=null))switch(U){case"selected":r.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:Kt(r,s,U,W,l,re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in o)W=o[tt],o.hasOwnProperty(tt)&&W!=null&&!l.hasOwnProperty(tt)&&Kt(r,s,tt,null,l,W);for(Q in l)if(W=l[Q],re=o[Q],l.hasOwnProperty(Q)&&W!==re&&(W!=null||re!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:Kt(r,s,Q,W,l,re)}return;default:if(bn(s)){for(var Xt in o)W=o[Xt],o.hasOwnProperty(Xt)&&W!==void 0&&!l.hasOwnProperty(Xt)&&Dh(r,s,Xt,void 0,l,W);for(oe in l)W=l[oe],re=o[oe],!l.hasOwnProperty(oe)||W===re||W===void 0&&re===void 0||Dh(r,s,oe,W,l,re);return}}for(var F in o)W=o[F],o.hasOwnProperty(F)&&W!=null&&!l.hasOwnProperty(F)&&Kt(r,s,F,null,l,W);for(he in l)W=l[he],re=o[he],!l.hasOwnProperty(he)||W===re||W==null&&re==null||Kt(r,s,he,W,l,re)}function tx(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yR(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,o=performance.getEntriesByType("resource"),l=0;l<o.length;l++){var p=o[l],y=p.transferSize,_=p.initiatorType,O=p.duration;if(y&&O&&tx(_)){for(_=0,O=p.responseEnd,l+=1;l<o.length;l++){var U=o[l],Q=U.startTime;if(Q>O)break;var oe=U.transferSize,he=U.initiatorType;oe&&tx(he)&&(U=U.responseEnd,_+=oe*(U<O?1:(O-Q)/(U-Q)))}if(--l,s+=8*(y+_)/(p.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var kh=null,jh=null;function Vl(r){return r.nodeType===9?r:r.ownerDocument}function nx(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rx(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Lh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Uh=null;function gR(){var r=window.event;return r&&r.type==="popstate"?r===Uh?!1:(Uh=r,!0):(Uh=null,!1)}var ix=typeof setTimeout=="function"?setTimeout:void 0,vR=typeof clearTimeout=="function"?clearTimeout:void 0,sx=typeof Promise=="function"?Promise:void 0,xR=typeof queueMicrotask=="function"?queueMicrotask:typeof sx<"u"?function(r){return sx.resolve(null).then(r).catch(bR)}:ix;function bR(r){setTimeout(function(){throw r})}function ms(r){return r==="head"}function ax(r,s){var o=s,l=0;do{var p=o.nextSibling;if(r.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(l===0){r.removeChild(p),qa(s);return}l--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")l++;else if(o==="html")Zo(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,Zo(o);for(var y=o.firstChild;y;){var _=y.nextSibling,O=y.nodeName;y[Ze]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=_}}else o==="body"&&Zo(r.ownerDocument.body);o=p}while(o);qa(s)}function ox(r,s){var o=r;r=0;do{var l=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),l&&l.nodeType===8)if(o=l.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=l}while(o)}function zh(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":zh(o),nt(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function SR(r,s,o,l){for(;r.nodeType===1;){var p=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(l){if(!r[Ze])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Nr(r.nextSibling),r===null)break}return null}function _R(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Nr(r.nextSibling),r===null))return null;return r}function cx(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=Nr(r.nextSibling),r===null))return null;return r}function Ih(r){return r.data==="$?"||r.data==="$~"}function Bh(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function wR(r,s){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||o.readyState!=="loading")s();else{var l=function(){s(),o.removeEventListener("DOMContentLoaded",l)};o.addEventListener("DOMContentLoaded",l),r._reactRetry=l}}function Nr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var Hh=null;function lx(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(s===0)return Nr(r.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}r=r.nextSibling}return null}function ux(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return r;s--}else o!=="/$"&&o!=="/&"||s++}r=r.previousSibling}return null}function fx(r,s,o){switch(s=Vl(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Zo(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);nt(r)}var Dr=new Map,dx=new Set;function ql(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Li=se.d;se.d={f:ER,r:CR,D:TR,C:RR,L:AR,m:OR,X:PR,S:MR,M:NR};function ER(){var r=Li.f(),s=jl();return r||s}function CR(r){var s=rt(r);s!==null&&s.tag===5&&s.type==="form"?O0(s):Li.r(r)}var Ha=typeof document>"u"?null:document;function hx(r,s,o){var l=Ha;if(l&&typeof s=="string"&&s){var p=ot(s);p='link[rel="'+r+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),dx.has(p)||(dx.add(p),r={rel:r,crossOrigin:o,href:s},l.querySelector(p)===null&&(s=l.createElement("link"),Hn(s,"link",r),Ie(s),l.head.appendChild(s)))}}function TR(r){Li.D(r),hx("dns-prefetch",r,null)}function RR(r,s){Li.C(r,s),hx("preconnect",r,s)}function AR(r,s,o){Li.L(r,s,o);var l=Ha;if(l&&r&&s){var p='link[rel="preload"][as="'+ot(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+ot(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+ot(o.imageSizes)+'"]')):p+='[href="'+ot(r)+'"]';var y=p;switch(s){case"style":y=$a(r);break;case"script":y=Va(r)}Dr.has(y)||(r=g({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Dr.set(y,r),l.querySelector(p)!==null||s==="style"&&l.querySelector(Jo(y))||s==="script"&&l.querySelector(Wo(y))||(s=l.createElement("link"),Hn(s,"link",r),Ie(s),l.head.appendChild(s)))}}function OR(r,s){Li.m(r,s);var o=Ha;if(o&&r){var l=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+ot(l)+'"][href="'+ot(r)+'"]',y=p;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Va(r)}if(!Dr.has(y)&&(r=g({rel:"modulepreload",href:r},s),Dr.set(y,r),o.querySelector(p)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Wo(y)))return}l=o.createElement("link"),Hn(l,"link",r),Ie(l),o.head.appendChild(l)}}}function MR(r,s,o){Li.S(r,s,o);var l=Ha;if(l&&r){var p=et(l).hoistableStyles,y=$a(r);s=s||"default";var _=p.get(y);if(!_){var O={loading:0,preload:null};if(_=l.querySelector(Jo(y)))O.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Dr.get(y))&&$h(r,o);var U=_=l.createElement("link");Ie(U),Hn(U,"link",r),U._p=new Promise(function(Q,oe){U.onload=Q,U.onerror=oe}),U.addEventListener("load",function(){O.loading|=1}),U.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Fl(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:O},p.set(y,_)}}}function PR(r,s){Li.X(r,s);var o=Ha;if(o&&r){var l=et(o).hoistableScripts,p=Va(r),y=l.get(p);y||(y=o.querySelector(Wo(p)),y||(r=g({src:r,async:!0},s),(s=Dr.get(p))&&Vh(r,s),y=o.createElement("script"),Ie(y),Hn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(p,y))}}function NR(r,s){Li.M(r,s);var o=Ha;if(o&&r){var l=et(o).hoistableScripts,p=Va(r),y=l.get(p);y||(y=o.querySelector(Wo(p)),y||(r=g({src:r,async:!0,type:"module"},s),(s=Dr.get(p))&&Vh(r,s),y=o.createElement("script"),Ie(y),Hn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},l.set(p,y))}}function px(r,s,o,l){var p=(p=Te.current)?ql(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=$a(o.href),o=et(p).hoistableStyles,l=o.get(s),l||(l={type:"style",instance:null,count:0,state:null},o.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=$a(o.href);var y=et(p).hoistableStyles,_=y.get(r);if(_||(p=p.ownerDocument||p,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,_),(y=p.querySelector(Jo(r)))&&!y._p&&(_.instance=y,_.state.loading=5),Dr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Dr.set(r,o),y||DR(p,r,o,_.state))),s&&l===null)throw Error(i(528,""));return _}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Va(o),o=et(p).hoistableScripts,l=o.get(s),l||(l={type:"script",instance:null,count:0,state:null},o.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function $a(r){return'href="'+ot(r)+'"'}function Jo(r){return'link[rel="stylesheet"]['+r+"]"}function mx(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function DR(r,s,o,l){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=r.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Hn(s,"link",o),Ie(s),r.head.appendChild(s))}function Va(r){return'[src="'+ot(r)+'"]'}function Wo(r){return"script[async]"+r}function yx(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var l=r.querySelector('style[data-href~="'+ot(o.href)+'"]');if(l)return s.instance=l,Ie(l),l;var p=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return l=(r.ownerDocument||r).createElement("style"),Ie(l),Hn(l,"style",p),Fl(l,o.precedence,r),s.instance=l;case"stylesheet":p=$a(o.href);var y=r.querySelector(Jo(p));if(y)return s.state.loading|=4,s.instance=y,Ie(y),y;l=mx(o),(p=Dr.get(p))&&$h(l,p),y=(r.ownerDocument||r).createElement("link"),Ie(y);var _=y;return _._p=new Promise(function(O,U){_.onload=O,_.onerror=U}),Hn(y,"link",l),s.state.loading|=4,Fl(y,o.precedence,r),s.instance=y;case"script":return y=Va(o.src),(p=r.querySelector(Wo(y)))?(s.instance=p,Ie(p),p):(l=o,(p=Dr.get(y))&&(l=g({},o),Vh(l,p)),r=r.ownerDocument||r,p=r.createElement("script"),Ie(p),Hn(p,"link",l),r.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Fl(l,o.precedence,r));return s.instance}function Fl(r,s,o){for(var l=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=l.length?l[l.length-1]:null,y=p,_=0;_<l.length;_++){var O=l[_];if(O.dataset.precedence===s)y=O;else if(y!==p)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function $h(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Vh(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Yl=null;function gx(r,s,o){if(Yl===null){var l=new Map,p=Yl=new Map;p.set(o,l)}else p=Yl,l=p.get(o),l||(l=new Map,p.set(o,l));if(l.has(r))return l;for(l.set(r,null),o=o.getElementsByTagName(r),p=0;p<o.length;p++){var y=o[p];if(!(y[Ze]||y[q]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var _=y.getAttribute(s)||"";_=r+_;var O=l.get(_);O?O.push(y):l.set(_,[y])}}return l}function vx(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function kR(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function xx(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function jR(r,s,o,l){if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=$a(l.href),y=s.querySelector(Jo(p));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=Gl.bind(r),s.then(r,r)),o.state.loading|=4,o.instance=y,Ie(y);return}y=s.ownerDocument||s,l=mx(l),(p=Dr.get(p))&&$h(l,p),y=y.createElement("link"),Ie(y);var _=y;_._p=new Promise(function(O,U){_.onload=O,_.onerror=U}),Hn(y,"link",l),o.instance=y}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=Gl.bind(r),s.addEventListener("load",o),s.addEventListener("error",o))}}var qh=0;function LR(r,s){return r.stylesheets&&r.count===0&&Xl(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var l=setTimeout(function(){if(r.stylesheets&&Xl(r,r.stylesheets),r.unsuspend){var y=r.unsuspend;r.unsuspend=null,y()}},6e4+s);0<r.imgBytes&&qh===0&&(qh=62500*yR());var p=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Xl(r,r.stylesheets),r.unsuspend)){var y=r.unsuspend;r.unsuspend=null,y()}},(r.imgBytes>qh?50:800)+s);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(l),clearTimeout(p)}}:null}function Gl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xl(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Kl=null;function Xl(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Kl=new Map,s.forEach(UR,r),Kl=null,Gl.call(r))}function UR(r,s){if(!(s.state.loading&4)){var o=Kl.get(r);if(o)var l=o.get(null);else{o=new Map,Kl.set(r,o);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var _=p[y];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),l=_)}l&&o.set(null,l)}p=s.instance,_=p.getAttribute("data-precedence"),y=o.get(_)||l,y===l&&o.set(null,p),o.set(_,p),this.count++,l=Gl.bind(this),p.addEventListener("load",l),p.addEventListener("error",l),y?y.parentNode.insertBefore(p,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),s.state.loading|=4}}var ec={$$typeof:k,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function zR(r,s,o,l,p,y,_,O,U){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ie(0),this.hiddenUpdates=ie(null),this.identifierPrefix=l,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function bx(r,s,o,l,p,y,_,O,U,Q,oe,he){return r=new zR(r,s,o,_,U,Q,oe,he,O),s=1,y===!0&&(s|=24),y=dr(3,null,null,s),r.current=y,y.stateNode=r,s=wd(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:l,isDehydrated:o,cache:s},Rd(y),r}function Sx(r){return r?(r=ba,r):ba}function _x(r,s,o,l,p,y){p=Sx(p),l.context===null?l.context=p:l.pendingContext=p,l=is(s),l.payload={element:o},y=y===void 0?null:y,y!==null&&(l.callback=y),o=ss(r,l,s),o!==null&&(or(o,r,s),No(o,r,s))}function wx(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Fh(r,s){wx(r,s),(r=r.alternate)&&wx(r,s)}function Ex(r){if(r.tag===13||r.tag===31){var s=Ls(r,67108864);s!==null&&or(s,r,67108864),Fh(r,67108864)}}function Cx(r){if(r.tag===13||r.tag===31){var s=gr();s=A(s);var o=Ls(r,s);o!==null&&or(o,r,s),Fh(r,s)}}var Ql=!0;function IR(r,s,o,l){var p=H.T;H.T=null;var y=se.p;try{se.p=2,Yh(r,s,o,l)}finally{se.p=y,H.T=p}}function BR(r,s,o,l){var p=H.T;H.T=null;var y=se.p;try{se.p=8,Yh(r,s,o,l)}finally{se.p=y,H.T=p}}function Yh(r,s,o,l){if(Ql){var p=Gh(l);if(p===null)Nh(r,s,l,Zl,o),Rx(r,l);else if($R(p,r,s,o,l))l.stopPropagation();else if(Rx(r,l),s&4&&-1<HR.indexOf(r)){for(;p!==null;){var y=rt(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var _=zr(y.pendingLanes);if(_!==0){var O=y;for(O.pendingLanes|=2,O.entangledLanes|=2;_;){var U=1<<31-ln(_);O.entanglements[1]|=U,_&=~U}ti(y),(It&6)===0&&(Dl=dt()+500,Ko(0))}}break;case 31:case 13:O=Ls(y,2),O!==null&&or(O,y,2),jl(),Fh(y,2)}if(y=Gh(l),y===null&&Nh(r,s,l,Zl,o),y===p)break;p=y}p!==null&&l.stopPropagation()}else Nh(r,s,l,null,o)}}function Gh(r){return r=Xf(r),Kh(r)}var Zl=null;function Kh(r){if(Zl=null,r=st(r),r!==null){var s=c(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===31){if(r=f(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Zl=r,null}function Tx(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cn()){case Tn:return 2;case Er:return 8;case hn:case yi:return 32;case Qr:return 268435456;default:return 32}default:return 32}}var Xh=!1,ys=null,gs=null,vs=null,tc=new Map,nc=new Map,xs=[],HR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rx(r,s){switch(r){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":tc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":nc.delete(s.pointerId)}}function rc(r,s,o,l,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:o,eventSystemFlags:l,nativeEvent:y,targetContainers:[p]},s!==null&&(s=rt(s),s!==null&&Ex(s)),r):(r.eventSystemFlags|=l,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function $R(r,s,o,l,p){switch(s){case"focusin":return ys=rc(ys,r,s,o,l,p),!0;case"dragenter":return gs=rc(gs,r,s,o,l,p),!0;case"mouseover":return vs=rc(vs,r,s,o,l,p),!0;case"pointerover":var y=p.pointerId;return tc.set(y,rc(tc.get(y)||null,r,s,o,l,p)),!0;case"gotpointercapture":return y=p.pointerId,nc.set(y,rc(nc.get(y)||null,r,s,o,l,p)),!0}return!1}function Ax(r){var s=st(r.target);if(s!==null){var o=c(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,P(r.priority,function(){Cx(o)});return}}else if(s===31){if(s=f(o),s!==null){r.blockedOn=s,P(r.priority,function(){Cx(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Jl(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Gh(r.nativeEvent);if(o===null){o=r.nativeEvent;var l=new o.constructor(o.type,o);Kf=l,o.target.dispatchEvent(l),Kf=null}else return s=rt(o),s!==null&&Ex(s),r.blockedOn=o,!1;s.shift()}return!0}function Ox(r,s,o){Jl(r)&&o.delete(s)}function VR(){Xh=!1,ys!==null&&Jl(ys)&&(ys=null),gs!==null&&Jl(gs)&&(gs=null),vs!==null&&Jl(vs)&&(vs=null),tc.forEach(Ox),nc.forEach(Ox)}function Wl(r,s){r.blockedOn===s&&(r.blockedOn=null,Xh||(Xh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,VR)))}var eu=null;function Mx(r){eu!==r&&(eu=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){eu===r&&(eu=null);for(var s=0;s<r.length;s+=3){var o=r[s],l=r[s+1],p=r[s+2];if(typeof l!="function"){if(Kh(l||o)===null)continue;break}var y=rt(o);y!==null&&(r.splice(s,3),s-=3,Gd(y,{pending:!0,data:p,method:o.method,action:l},l,p))}}))}function qa(r){function s(U){return Wl(U,r)}ys!==null&&Wl(ys,r),gs!==null&&Wl(gs,r),vs!==null&&Wl(vs,r),tc.forEach(s),nc.forEach(s);for(var o=0;o<xs.length;o++){var l=xs[o];l.blockedOn===r&&(l.blockedOn=null)}for(;0<xs.length&&(o=xs[0],o.blockedOn===null);)Ax(o),o.blockedOn===null&&xs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(l=0;l<o.length;l+=3){var p=o[l],y=o[l+1],_=p[ae]||null;if(typeof y=="function")_||Mx(o);else if(_){var O=null;if(y&&y.hasAttribute("formAction")){if(p=y,_=y[ae]||null)O=_.formAction;else if(Kh(p)!==null)continue}else O=_.action;typeof O=="function"?o[l+1]=O:(o.splice(l,3),l-=3),Mx(o)}}}function Px(){function r(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(_){return p=_})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),l||setTimeout(o,20)}function o(){if(!l&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,p=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){l=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function Qh(r){this._internalRoot=r}tu.prototype.render=Qh.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,l=gr();_x(o,l,r,s,null,null)},tu.prototype.unmount=Qh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;_x(r.current,2,null,r,null,null),jl(),s[we]=null}};function tu(r){this._internalRoot=r}tu.prototype.unstable_scheduleHydration=function(r){if(r){var s=v();r={blockedOn:null,target:r,priority:s};for(var o=0;o<xs.length&&s!==0&&s<xs[o].priority;o++);xs.splice(o,0,r),o===0&&Ax(r)}};var Nx=e.version;if(Nx!=="19.2.0")throw Error(i(527,Nx,"19.2.0"));se.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(s),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var qR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{Cr=nu.inject(qR),pn=nu}catch{}}return sc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,l="",p=I0,y=B0,_=H0;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=bx(r,1,!1,null,null,o,l,null,p,y,_,Px),r[we]=s.current,Ph(r),new Qh(s)},sc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var l=!1,p="",y=I0,_=B0,O=H0,U=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),s=bx(r,1,!0,s,o??null,l,p,U,y,_,O,Px),s.context=Sx(null),o=s.current,l=gr(),l=A(l),p=is(l),p.callback=null,ss(o,p,l),o=l,s.current.lanes=o,be(s,o),ti(s),r[we]=s.current,Ph(r),new tu(s)},sc.version="19.2.0",sc}var Vx;function WR(){if(Vx)return Jh.exports;Vx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jh.exports=JR(),Jh.exports}var e2=WR();const Ka=new WeakMap,wu=new WeakMap,Hu={current:[]};let rp=!1,_c=0;const vc=new Set,ru=new Map;function eS(t){const e=Array.from(t).sort((n,i)=>n instanceof Xa&&n.options.deps.includes(i)?1:i instanceof Xa&&i.options.deps.includes(n)?-1:0);for(const n of e){if(Hu.current.includes(n))continue;Hu.current.push(n),n.recompute();const i=wu.get(n);if(i)for(const a of i){const c=Ka.get(a);c&&eS(c)}}}function t2(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function n2(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function tS(t){if(_c>0&&!ru.has(t)&&ru.set(t,t.prevState),vc.add(t),!(_c>0)&&!rp)try{for(rp=!0;vc.size>0;){const e=Array.from(vc);vc.clear();for(const n of e){const i=ru.get(n)??n.prevState;n.prevState=i,t2(n)}for(const n of e){const i=Ka.get(n);i&&(Hu.current.push(n),eS(i))}for(const n of e){const i=Ka.get(n);if(i)for(const a of i)n2(a)}}}finally{rp=!1,Hu.current=[],ru.clear()}}function wc(t){_c++;try{t()}finally{if(_c--,_c===0){const e=vc.values().next().value;e&&tS(e)}}}function r2(t){return typeof t=="function"}class Xp{constructor(e,n){this.listeners=new Set,this.subscribe=i=>{var a,c;this.listeners.add(i);const u=(c=(a=this.options)==null?void 0:a.onSubscribe)==null?void 0:c.call(a,i,this);return()=>{this.listeners.delete(i),u?.()}},this.prevState=e,this.state=e,this.options=n}setState(e){var n,i,a;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(e):r2(e)?this.state=e(this.prevState):this.state=e,(a=(i=this.options)==null?void 0:i.onUpdate)==null||a.call(i),tS(this)}}class Xa{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=this.options.deps.length,i=new Array(n),a=new Array(n);for(let c=0;c<n;c++){const u=this.options.deps[c];i[c]=u.prevState,a[c]=u.state}return this.lastSeenDepValues=a,{prevDepVals:i,currDepVals:a,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,i;this.prevState=this.state;const a=this.getDepVals();this.state=this.options.fn(a),(i=(n=this.options).onUpdate)==null||i.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const c of this.options.deps)c instanceof Xa&&c.checkIfRecalculationNeededDeeply();let n=!1;const i=this.lastSeenDepValues,{currDepVals:a}=this.getDepVals();for(let c=0;c<a.length;c++)if(a[c]!==i[c]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var i,a;this.listeners.add(n);const c=(a=(i=this.options).onSubscribe)==null?void 0:a.call(i,n,this);return()=>{this.listeners.delete(n),c?.()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const n of e)if(n instanceof Xa)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof Xp){let i=Ka.get(n);i||(i=new Set,Ka.set(n,i)),i.add(this);let a=wu.get(this);a||(a=new Set,wu.set(this,a)),a.add(n)}}unregisterFromGraph(e=this.options.deps){for(const n of e)if(n instanceof Xa)this.unregisterFromGraph(n.options.deps);else if(n instanceof Xp){const i=Ka.get(n);i&&i.delete(this);const a=wu.get(this);a&&a.delete(n)}}}const ws="__TSR_index",qx="popstate",Fx="beforeunload";function i2(t){let e=t.getLocation();const n=new Set,i=u=>{e=t.getLocation(),n.forEach(f=>f({location:e,action:u}))},a=u=>{t.notifyOnIndexChange??!0?i(u):e=t.getLocation()},c=async({task:u,navigateOpts:f,...d})=>{if(f?.ignoreBlocker??!1){u();return}const m=t.getBlockers?.()??[],g=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&m.length&&g)for(const x of m){const S=$u(d.path,d.state);if(await x.blockerFn({currentLocation:e,nextLocation:S,action:d.type})){t.onBlocked?.();return}}u()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:u=>(n.add(u),()=>{n.delete(u)}),push:(u,f,d)=>{const h=e.state[ws];f=Yx(h+1,f),c({task:()=>{t.pushState(u,f),i({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:u,state:f})},replace:(u,f,d)=>{const h=e.state[ws];f=Yx(h,f),c({task:()=>{t.replaceState(u,f),i({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:u,state:f})},go:(u,f)=>{c({task:()=>{t.go(u),a({type:"GO",index:u})},navigateOpts:f,type:"GO"})},back:u=>{c({task:()=>{t.back(u?.ignoreBlocker??!1),a({type:"BACK"})},navigateOpts:u,type:"BACK"})},forward:u=>{c({task:()=>{t.forward(u?.ignoreBlocker??!1),a({type:"FORWARD"})},navigateOpts:u,type:"FORWARD"})},canGoBack:()=>e.state[ws]!==0,createHref:u=>t.createHref(u),block:u=>{if(!t.setBlockers)return()=>{};const f=t.getBlockers?.()??[];return t.setBlockers([...f,u]),()=>{const d=t.getBlockers?.()??[];t.setBlockers?.(d.filter(h=>h!==u))}},flush:()=>t.flush?.(),destroy:()=>t.destroy?.(),notify:i}}function Yx(t,e){e||(e={});const n=Ym();return{...e,key:n,__TSR_key:n,[ws]:t}}function s2(t){const e=typeof document<"u"?window:void 0,n=e.history.pushState,i=e.history.replaceState;let a=[];const c=()=>a,u=G=>a=G,f=(G=>G),d=(()=>$u(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state));if(!e.history.state?.__TSR_key&&!e.history.state?.key){const G=Ym();e.history.replaceState({[ws]:0,key:G,__TSR_key:G},"")}let h=d(),m,g=!1,x=!1,S=!1,E=!1;const C=()=>h;let M,D;const N=()=>{M&&(V._ignoreSubscribers=!0,(M.isPush?e.history.pushState:e.history.replaceState)(M.state,"",M.href),V._ignoreSubscribers=!1,M=void 0,D=void 0,m=void 0)},k=(G,me,xe)=>{const ve=f(me);D||(m=h),h=$u(me,xe),M={href:ve,state:xe,isPush:M?.isPush||G==="push"},D||(D=Promise.resolve().then(()=>N()))},j=G=>{h=d(),V.notify({type:G})},Y=async()=>{if(x){x=!1;return}const G=d(),me=G.state[ws]-h.state[ws],xe=me===1,ve=me===-1,Ee=!xe&&!ve||g;g=!1;const Ye=Ee?"GO":ve?"BACK":"FORWARD",_e=Ee?{type:"GO",index:me}:{type:ve?"BACK":"FORWARD"};if(S)S=!1;else{const Pe=c();if(typeof document<"u"&&Pe.length){for(const H of Pe)if(await H.blockerFn({currentLocation:h,nextLocation:G,action:Ye})){x=!0,e.history.go(1),V.notify(_e);return}}}h=d(),V.notify(_e)},J=G=>{if(E){E=!1;return}let me=!1;const xe=c();if(typeof document<"u"&&xe.length)for(const ve of xe){const Ee=ve.enableBeforeUnload??!0;if(Ee===!0){me=!0;break}if(typeof Ee=="function"&&Ee()===!0){me=!0;break}}if(me)return G.preventDefault(),G.returnValue=""},V=i2({getLocation:C,getLength:()=>e.history.length,pushState:(G,me)=>k("push",G,me),replaceState:(G,me)=>k("replace",G,me),back:G=>(G&&(S=!0),E=!0,e.history.back()),forward:G=>{G&&(S=!0),E=!0,e.history.forward()},go:G=>{g=!0,e.history.go(G)},createHref:G=>f(G),flush:N,destroy:()=>{e.history.pushState=n,e.history.replaceState=i,e.removeEventListener(Fx,J,{capture:!0}),e.removeEventListener(qx,Y)},onBlocked:()=>{m&&h!==m&&(h=m)},getBlockers:c,setBlockers:u,notifyOnIndexChange:!1});return e.addEventListener(Fx,J,{capture:!0}),e.addEventListener(qx,Y),e.history.pushState=function(...G){const me=n.apply(e.history,G);return V._ignoreSubscribers||j("PUSH"),me},e.history.replaceState=function(...G){const me=i.apply(e.history,G);return V._ignoreSubscribers||j("REPLACE"),me},V}function $u(t,e){const n=t.indexOf("#"),i=t.indexOf("?"),a=Ym();return{href:t,pathname:t.substring(0,n>0?i>0?Math.min(n,i):n:i>0?i:t.length),hash:n>-1?t.substring(n):"",search:i>-1?t.slice(i,n===-1?void 0:n):"",state:e||{[ws]:0,key:a,__TSR_key:a}}}function Ym(){return(Math.random()+1).toString(36).substring(7)}function Qp(t){return t[t.length-1]}function a2(t){return typeof t=="function"}function ra(t,e){return a2(t)?t(e):t}const o2=Object.prototype.hasOwnProperty;function kr(t,e){if(t===e)return t;const n=e,i=Xx(t)&&Xx(n);if(!i&&!(Vu(t)&&Vu(n)))return n;const a=i?t:Gx(t);if(!a)return n;const c=i?n:Gx(n);if(!c)return n;const u=a.length,f=c.length,d=i?new Array(f):{};let h=0;for(let m=0;m<f;m++){const g=i?m:c[m],x=t[g],S=n[g];if(x===S){d[g]=x,(i?m<u:o2.call(t,g))&&h++;continue}if(x===null||S===null||typeof x!="object"||typeof S!="object"){d[g]=S;continue}const E=kr(x,S);d[g]=E,E===x&&h++}return u===f&&h===u?t:d}function Gx(t){const e=[],n=Object.getOwnPropertyNames(t);for(const a of n){if(!Object.prototype.propertyIsEnumerable.call(t,a))return!1;e.push(a)}const i=Object.getOwnPropertySymbols(t);for(const a of i){if(!Object.prototype.propertyIsEnumerable.call(t,a))return!1;e.push(a)}return e}function Vu(t){if(!Kx(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!Kx(n)||!n.hasOwnProperty("isPrototypeOf"))}function Kx(t){return Object.prototype.toString.call(t)==="[object Object]"}function Xx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ia(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let i=0,a=t.length;i<a;i++)if(!ia(t[i],e[i],n))return!1;return!0}if(Vu(t)&&Vu(e)){const i=n?.ignoreUndefined??!0;if(n?.partial){for(const u in e)if((!i||e[u]!==void 0)&&!ia(t[u],e[u],n))return!1;return!0}let a=0;if(!i)a=Object.keys(t).length;else for(const u in t)t[u]!==void 0&&a++;let c=0;for(const u in e)if((!i||e[u]!==void 0)&&(c++,c>a||!ia(t[u],e[u],n)))return!1;return a===c}return!1}function to(t){let e,n;const i=new Promise((a,c)=>{e=a,n=c});return i.status="pending",i.resolve=a=>{i.status="resolved",i.value=a,e(a),t?.(a)},i.reject=a=>{i.status="rejected",n(a)},i}function Es(t){return!!(t&&typeof t=="object"&&typeof t.then=="function")}var c2="Invariant failed";function Yi(t,e){if(!t)throw new Error(c2)}const lr="__root__",oi=0,oa=1,no=2,ro=3;function qi(t){return Gm(t.filter(e=>e!==void 0).join("/"))}function Gm(t){return t.replace(/\/{2,}/g,"/")}function Km(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Cs(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function Eu(t){return Cs(Km(t))}function qu(t,e){return t?.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function l2(t,e,n){return qu(t,n)===qu(e,n)}function u2(t){const{type:e,value:n}=t;if(e===oi)return n;const{prefixSegment:i,suffixSegment:a}=t;if(e===oa){const c=n.substring(1);if(i&&a)return`${i}{$${c}}${a}`;if(i)return`${i}{$${c}}`;if(a)return`{$${c}}${a}`}if(e===ro){const c=n.substring(1);return i&&a?`${i}{-$${c}}${a}`:i?`${i}{-$${c}}`:a?`{-$${c}}${a}`:`{-$${c}}`}if(e===no){if(i&&a)return`${i}{$}${a}`;if(i)return`${i}{$}`;if(a)return`{$}${a}`}return n}function f2({base:t,to:e,trailingSlash:n="never",parseCache:i}){let a=nS(t,i).slice();const c=yf(e,i);a.length>1&&Qp(a)?.value==="/"&&a.pop();for(let d=0,h=c.length;d<h;d++){const m=c[d],g=m.value;g==="/"?d?d===h-1&&a.push(m):a=[m]:g===".."?a.pop():g==="."||a.push(m)}a.length>1&&(Qp(a).value==="/"?n==="never"&&a.pop():n==="always"&&a.push({type:oi,value:"/"}));const u=a.map(u2);return qi(u)}const nS=(t,e)=>rS(t,e,!0),yf=(t,e)=>rS(t,e,!1),rS=(t,e,n)=>{if(!t)return[];const i=e?.get(t);if(i)return i;const a=g2(t,n);return e?.set(t,a),a},d2=/^\$.{1,}$/,h2=/^(.*?)\{(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,p2=/^(.*?)\{-(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,m2=/^\$$/,y2=/^(.*?)\{\$\}(.*)$/;function g2(t,e){t=Gm(t);const n=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),n.push({type:oi,value:"/"})),!t)return n;const i=t.split("/").filter(Boolean);return n.push(...i.map(a=>{const c=!e&&a!==lr&&a.slice(-1)==="_"?a.slice(0,-1):a,u=c.match(y2);if(u){const h=u[1],m=u[2];return{type:no,value:"$",prefixSegment:h||void 0,suffixSegment:m||void 0}}const f=c.match(p2);if(f){const h=f[1],m=f[2],g=f[3];return{type:ro,value:m,prefixSegment:h||void 0,suffixSegment:g||void 0}}const d=c.match(h2);if(d){const h=d[1],m=d[2],g=d[3];return{type:oa,value:""+m,prefixSegment:h||void 0,suffixSegment:g||void 0}}if(d2.test(c)){const h=c.substring(1);return{type:oa,value:"$"+h,prefixSegment:void 0,suffixSegment:void 0}}return m2.test(c)?{type:no,value:"$",prefixSegment:void 0,suffixSegment:void 0}:{type:oi,value:c.includes("%25")?c.split("%25").map(h=>decodeURI(h)).join("%25"):decodeURI(c)}})),t.slice(-1)==="/"&&(t=t.substring(1),n.push({type:oi,value:"/"})),n}function iu({path:t,params:e,leaveWildcards:n,leaveParams:i,decodeCharMap:a,parseCache:c}){const u=yf(t,c);function f(g){const x=e[g],S=typeof x=="string";return g==="*"||g==="_splat"?S?encodeURI(x):x:S?v2(x,a):x}let d=!1;const h={},m=qi(u.map(g=>{if(g.type===oi)return g.value;if(g.type===no){h._splat=e._splat,h["*"]=e._splat;const x=g.prefixSegment||"",S=g.suffixSegment||"";if(!e._splat)return d=!0,n?`${x}${g.value}${S}`:x||S?`${x}${S}`:void 0;const E=f("_splat");return n?`${x}${g.value}${E??""}${S}`:`${x}${E}${S}`}if(g.type===oa){const x=g.value.substring(1);!d&&!(x in e)&&(d=!0),h[x]=e[x];const S=g.prefixSegment||"",E=g.suffixSegment||"";if(i){const C=f(g.value);return`${S}${g.value}${C??""}${E}`}return`${S}${f(x)??"undefined"}${E}`}if(g.type===ro){const x=g.value.substring(1),S=g.prefixSegment||"",E=g.suffixSegment||"";if(!(x in e)||e[x]==null)return n?`${S}${x}${E}`:S||E?`${S}${E}`:void 0;if(h[x]=e[x],i){const C=f(g.value);return`${S}${g.value}${C??""}${E}`}return n?`${S}${x}${f(x)??""}${E}`:`${S}${f(x)??""}${E}`}return g.value}));return{usedParams:h,interpolatedPath:m,isMissingParams:d}}function v2(t,e){let n=encodeURIComponent(t);if(e)for(const[i,a]of e)n=n.replaceAll(i,a);return n}function Zp(t,e,n){const i=x2(t,e,n);if(!(e.to&&!i))return i??{}}function x2(t,{to:e,fuzzy:n,caseSensitive:i},a){const c=e,u=nS(t.startsWith("/")?t:`/${t}`,a),f=yf(c.startsWith("/")?c:`/${c}`,a),d={};return b2(u,f,d,n,i)?d:void 0}function b2(t,e,n,i,a){let c=0,u=0;for(;c<t.length||u<e.length;){const f=t[c],d=e[u];if(d){if(d.type===no){const h=t.slice(c);let m;if(d.prefixSegment||d.suffixSegment){if(!f)return!1;const g=d.prefixSegment||"",x=d.suffixSegment||"",S=f.value;if("prefixSegment"in d&&!S.startsWith(g)||"suffixSegment"in d&&!t[t.length-1]?.value.endsWith(x))return!1;let E=decodeURI(qi(h.map(C=>C.value)));g&&E.startsWith(g)&&(E=E.slice(g.length)),x&&E.endsWith(x)&&(E=E.slice(0,E.length-x.length)),m=E}else m=decodeURI(qi(h.map(g=>g.value)));return n["*"]=m,n._splat=m,!0}if(d.type===oi){if(d.value==="/"&&!f?.value){u++;continue}if(f){if(a){if(d.value!==f.value)return!1}else if(d.value.toLowerCase()!==f.value.toLowerCase())return!1;c++,u++;continue}else return!1}if(d.type===oa){if(!f||f.value==="/")return!1;let h="",m=!1;if(d.prefixSegment||d.suffixSegment){const g=d.prefixSegment||"",x=d.suffixSegment||"",S=f.value;if(g&&!S.startsWith(g)||x&&!S.endsWith(x))return!1;let E=S;g&&E.startsWith(g)&&(E=E.slice(g.length)),x&&E.endsWith(x)&&(E=E.slice(0,E.length-x.length)),h=decodeURIComponent(E),m=!0}else h=decodeURIComponent(f.value),m=!0;m&&(n[d.value.substring(1)]=h,c++),u++;continue}if(d.type===ro){if(!f){u++;continue}if(f.value==="/"){u++;continue}let h="",m=!1;if(d.prefixSegment||d.suffixSegment){const g=d.prefixSegment||"",x=d.suffixSegment||"",S=f.value;if((!g||S.startsWith(g))&&(!x||S.endsWith(x))){let E=S;g&&E.startsWith(g)&&(E=E.slice(g.length)),x&&E.endsWith(x)&&(E=E.slice(0,E.length-x.length)),h=decodeURIComponent(E),m=!0}}else{let g=!0;for(let x=u+1;x<e.length;x++){const S=e[x];if(S?.type===oi&&S.value===f.value){g=!1;break}if(S?.type===oa||S?.type===no){t.length<e.length&&(g=!1);break}}g&&(h=decodeURIComponent(f.value),m=!0)}m&&(n[d.value.substring(1)]=h,c++),u++;continue}}if(c<t.length&&u>=e.length)return n["**"]=qi(t.slice(c).map(h=>h.value)),!!i&&e[e.length-1]?.value!=="/";if(u<e.length&&c>=t.length){for(let h=u;h<e.length;h++)if(e[h]?.type!==ro)return!1;break}break}return!0}const S2=.75,_2=1,w2=.5,E2=.4,C2=.25,T2=.2,R2=.05,A2=.02,O2=.01,Qx=2e-4,Zx=1e-4;function Jx(t,e){return t.prefixSegment&&t.suffixSegment?e+R2+Qx*t.prefixSegment.length+Zx*t.suffixSegment.length:t.prefixSegment?e+A2+Qx*t.prefixSegment.length:t.suffixSegment?e+O2+Zx*t.suffixSegment.length:e}function M2(t){const e=[];return t.forEach((i,a)=>{if(i.isRoot||!i.path)return;const c=Km(i.fullPath);let u=yf(c),f=0;for(;u.length>f+1&&u[f]?.value==="/";)f++;f>0&&(u=u.slice(f));let d=0,h=!1;const m=u.map((g,x)=>{if(g.value==="/")return S2;if(g.type===oi)return _2;let S;g.type===oa?S=w2:g.type===ro?(S=E2,d++):S=C2;for(let E=x+1;E<u.length;E++){const C=u[E];if(C.type===oi&&C.value!=="/")return h=!0,Jx(g,S+T2)}return Jx(g,S)});e.push({child:i,trimmed:c,parsed:u,index:a,scores:m,optionalParamCount:d,hasStaticAfter:h})}),e.sort((i,a)=>{const c=Math.min(i.scores.length,a.scores.length);for(let u=0;u<c;u++)if(i.scores[u]!==a.scores[u])return a.scores[u]-i.scores[u];if(i.scores.length!==a.scores.length){if(i.optionalParamCount!==a.optionalParamCount){if(i.hasStaticAfter===a.hasStaticAfter)return i.optionalParamCount-a.optionalParamCount;if(i.hasStaticAfter&&!a.hasStaticAfter)return-1;if(!i.hasStaticAfter&&a.hasStaticAfter)return 1}return a.scores.length-i.scores.length}for(let u=0;u<c;u++)if(i.parsed[u].value!==a.parsed[u].value)return i.parsed[u].value>a.parsed[u].value?1:-1;return i.index-a.index}).map((i,a)=>(i.child.rank=a,i.child))}function P2({routeTree:t,initRoute:e}){const n={},i={},a=u=>{u.forEach((f,d)=>{e?.(f,d);const h=n[f.id];if(Yi(!h,`Duplicate routes found with id: ${String(f.id)}`),n[f.id]=f,!f.isRoot&&f.path){const g=Cs(f.fullPath);(!i[g]||f.fullPath.endsWith("/"))&&(i[g]=f)}const m=f.children;m?.length&&a(m)})};a([t]);const c=M2(Object.values(n));return{routesById:n,routesByPath:i,flatRoutes:c}}function Gr(t){return!!t?.isNotFound}function N2(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const Fu="tsr-scroll-restoration-v1_3",D2=(t,e)=>{let n;return(...i)=>{n||(n=setTimeout(()=>{t(...i),n=null},e))}};function k2(){const t=N2();if(!t)return null;const e=t.getItem(Fu);let n=e?JSON.parse(e):{};return{state:n,set:i=>(n=ra(i,n)||n,t.setItem(Fu,JSON.stringify(n)))}}const su=k2(),Jp=t=>t.state.__TSR_key||t.href;function j2(t){const e=[];let n;for(;n=t.parentNode;)e.push(`${t.tagName}:nth-child(${Array.prototype.indexOf.call(n.children,t)+1})`),t=n;return`${e.reverse().join(" > ")}`.toLowerCase()}let Yu=!1;function iS({storageKey:t,key:e,behavior:n,shouldScrollRestoration:i,scrollToTopSelectors:a,location:c}){let u;try{u=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(h){console.error(h);return}const f=e||window.history.state?.__TSR_key,d=u[f];Yu=!0;e:{if(i&&d&&Object.keys(d).length>0){for(const g in d){const x=d[g];if(g==="window")window.scrollTo({top:x.scrollY,left:x.scrollX,behavior:n});else if(g){const S=document.querySelector(g);S&&(S.scrollLeft=x.scrollX,S.scrollTop=x.scrollY)}}break e}const h=(c??window.location).hash.split("#",2)[1];if(h){const g=window.history.state?.__hashScrollIntoViewOptions??!0;if(g){const x=document.getElementById(h);x&&x.scrollIntoView(g)}break e}const m={top:0,left:0,behavior:n};if(window.scrollTo(m),a)for(const g of a){if(g==="window")continue;const x=typeof g=="function"?g():document.querySelector(g);x&&x.scrollTo(m)}}Yu=!1}function L2(t,e){if(!su&&!t.isServer||((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),t.isServer||t.isScrollRestorationSetup||!su))return;t.isScrollRestorationSetup=!0,Yu=!1;const i=t.options.getScrollRestorationKey||Jp;window.history.scrollRestoration="manual";const a=c=>{if(Yu||!t.isScrollRestoring)return;let u="";if(c.target===document||c.target===window)u="window";else{const d=c.target.getAttribute("data-scroll-restoration-id");d?u=`[data-scroll-restoration-id="${d}"]`:u=j2(c.target)}const f=i(t.state.location);su.set(d=>{const h=d[f]||={},m=h[u]||={};if(u==="window")m.scrollX=window.scrollX||0,m.scrollY=window.scrollY||0;else if(u){const g=document.querySelector(u);g&&(m.scrollX=g.scrollLeft||0,m.scrollY=g.scrollTop||0)}return d})};typeof document<"u"&&document.addEventListener("scroll",D2(a,100),!0),t.subscribe("onRendered",c=>{const u=i(c.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation})||(iS({storageKey:Fu,key:u,behavior:t.options.scrollRestorationBehavior,shouldScrollRestoration:t.isScrollRestoring,scrollToTopSelectors:t.options.scrollToTopSelectors,location:t.history.location}),t.isScrollRestoring&&su.set(f=>(f[u]||={},f)))})}function U2(t){if(typeof document<"u"&&document.querySelector){const e=t.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&t.state.location.hash!==""){const n=document.getElementById(t.state.location.hash);n&&n.scrollIntoView(e)}}}function z2(t,e=String){const n=new URLSearchParams;for(const i in t){const a=t[i];a!==void 0&&n.set(i,e(a))}return n.toString()}function ip(t){return t?t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t:""}function I2(t){const e=new URLSearchParams(t),n={};for(const[i,a]of e.entries()){const c=n[i];c==null?n[i]=ip(a):Array.isArray(c)?c.push(ip(a)):n[i]=[c,ip(a)]}return n}const B2=$2(JSON.parse),H2=V2(JSON.stringify,JSON.parse);function $2(t){return e=>{e[0]==="?"&&(e=e.substring(1));const n=I2(e);for(const i in n){const a=n[i];if(typeof a=="string")try{n[i]=t(a)}catch{}}return n}}function V2(t,e){const n=typeof e=="function";function i(a){if(typeof a=="object"&&a!==null)try{return t(a)}catch{}else if(n&&typeof a=="string")try{return e(a),t(a)}catch{}return a}return a=>{const c=z2(a,i);return c?`?${c}`:""}}function q2(t){if(t.statusCode=t.statusCode||t.code||307,!t.reloadDocument&&typeof t.href=="string")try{new URL(t.href),t.reloadDocument=!0}catch{}const e=new Headers(t.headers);t.href&&e.get("Location")===null&&e.set("Location",t.href);const n=new Response(null,{status:t.statusCode,headers:e});if(n.options=t,t.throw)throw n;return n}function si(t){return t instanceof Response&&!!t.options}function F2(t){const e=new Map;let n,i;const a=c=>{c.next&&(c.prev?(c.prev.next=c.next,c.next.prev=c.prev,c.next=void 0,i&&(i.next=c,c.prev=i)):(c.next.prev=void 0,n=c.next,c.next=void 0,i&&(c.prev=i,i.next=c)),i=c)};return{get(c){const u=e.get(c);if(u)return a(u),u.value},set(c,u){if(e.size>=t&&n){const d=n;e.delete(d.key),d.next&&(n=d.next,d.next.prev=void 0),d===i&&(i=void 0)}const f=e.get(c);if(f)f.value=u,a(f);else{const d={key:c,value:u,prev:i};i&&(i.next=d),i=d,n||(n=d),e.set(c,d)}}}}const Cu=t=>{if(!t.rendered)return t.rendered=!0,t.onReady?.()},gf=(t,e)=>!!(t.preload&&!t.router.state.matches.some(n=>n.id===e)),sS=(t,e)=>{const n=t.router.routesById[e.routeId??""]??t.router.routeTree;!n.options.notFoundComponent&&t.router.options?.defaultNotFoundComponent&&(n.options.notFoundComponent=t.router.options.defaultNotFoundComponent),Yi(n.options.notFoundComponent);const i=t.matches.find(a=>a.routeId===n.id);Yi(i,"Could not find match for route: "+n.id),t.updateMatch(i.id,a=>({...a,status:"notFound",error:e,isFetching:!1})),e.routerCode==="BEFORE_LOAD"&&n.parentRoute&&(e.routeId=n.parentRoute.id,sS(t,e))},_s=(t,e,n)=>{if(!(!si(n)&&!Gr(n))){if(si(n)&&n.redirectHandled&&!n.options.reloadDocument)throw n;if(e){e._nonReactive.beforeLoadPromise?.resolve(),e._nonReactive.loaderPromise?.resolve(),e._nonReactive.beforeLoadPromise=void 0,e._nonReactive.loaderPromise=void 0;const i=si(n)?"redirected":"notFound";t.updateMatch(e.id,a=>({...a,status:i,isFetching:!1,error:n})),Gr(n)&&!n.routeId&&(n.routeId=e.routeId),e._nonReactive.loadPromise?.resolve()}throw si(n)?(t.rendered=!0,n.options._fromLocation=t.location,n.redirectHandled=!0,n=t.router.resolveRedirect(n),n):(sS(t,n),n)}},aS=(t,e)=>{const n=t.router.getMatch(e);return!!(!t.router.isServer&&n._nonReactive.dehydrated||t.router.isServer&&n.ssr===!1)},ac=(t,e,n,i)=>{const{id:a,routeId:c}=t.matches[e],u=t.router.looseRoutesById[c];if(n instanceof Promise)throw n;n.routerCode=i,t.firstBadMatchIndex??=e,_s(t,t.router.getMatch(a),n);try{u.options.onError?.(n)}catch(f){n=f,_s(t,t.router.getMatch(a),n)}t.updateMatch(a,f=>(f._nonReactive.beforeLoadPromise?.resolve(),f._nonReactive.beforeLoadPromise=void 0,f._nonReactive.loadPromise?.resolve(),{...f,error:n,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},Y2=(t,e,n,i)=>{const a=t.router.getMatch(e),c=t.matches[n-1]?.id,u=c?t.router.getMatch(c):void 0;if(t.router.isShell()){a.ssr=e===lr;return}if(u?.ssr===!1){a.ssr=!1;return}const f=S=>S===!0&&u?.ssr==="data-only"?"data-only":S,d=t.router.options.defaultSsr??!0;if(i.options.ssr===void 0){a.ssr=f(d);return}if(typeof i.options.ssr!="function"){a.ssr=f(i.options.ssr);return}const{search:h,params:m}=a,g={search:au(h,a.searchError),params:au(m,a.paramsError),location:t.location,matches:t.matches.map(S=>({index:S.index,pathname:S.pathname,fullPath:S.fullPath,staticData:S.staticData,id:S.id,routeId:S.routeId,search:au(S.search,S.searchError),params:au(S.params,S.paramsError),ssr:S.ssr}))},x=i.options.ssr(g);if(Es(x))return x.then(S=>{a.ssr=f(S??d)});a.ssr=f(x??d)},oS=(t,e,n,i)=>{if(i._nonReactive.pendingTimeout!==void 0)return;const a=n.options.pendingMs??t.router.options.defaultPendingMs;if(!!(t.onReady&&!t.router.isServer&&!gf(t,e)&&(n.options.loader||n.options.beforeLoad||uS(n))&&typeof a=="number"&&a!==1/0&&(n.options.pendingComponent??t.router.options?.defaultPendingComponent))){const u=setTimeout(()=>{Cu(t)},a);i._nonReactive.pendingTimeout=u}},G2=(t,e,n)=>{const i=t.router.getMatch(e);if(!i._nonReactive.beforeLoadPromise&&!i._nonReactive.loaderPromise)return;oS(t,e,n,i);const a=()=>{const c=t.router.getMatch(e);c.preload&&(c.status==="redirected"||c.status==="notFound")&&_s(t,c,c.error)};return i._nonReactive.beforeLoadPromise?i._nonReactive.beforeLoadPromise.then(a):a()},K2=(t,e,n,i)=>{const a=t.router.getMatch(e),c=a._nonReactive.loadPromise;a._nonReactive.loadPromise=to(()=>{c?.resolve()});const{paramsError:u,searchError:f}=a;u&&ac(t,n,u,"PARSE_PARAMS"),f&&ac(t,n,f,"VALIDATE_SEARCH"),oS(t,e,i,a);const d=new AbortController,h=t.matches[n-1]?.id,x={...(h?t.router.getMatch(h):void 0)?.context??t.router.options.context??void 0,...a.__routeContext};let S=!1;const E=()=>{S||(S=!0,t.updateMatch(e,V=>({...V,isFetching:"beforeLoad",fetchCount:V.fetchCount+1,abortController:d,context:x})))},C=()=>{a._nonReactive.beforeLoadPromise?.resolve(),a._nonReactive.beforeLoadPromise=void 0,t.updateMatch(e,V=>({...V,isFetching:!1}))};if(!i.options.beforeLoad){wc(()=>{E(),C()});return}a._nonReactive.beforeLoadPromise=to();const{search:M,params:D,cause:N}=a,k=gf(t,e),j={search:M,abortController:d,params:D,preload:k,context:x,location:t.location,navigate:V=>t.router.navigate({...V,_fromLocation:t.location}),buildLocation:t.router.buildLocation,cause:k?"preload":N,matches:t.matches,...t.router.options.additionalContext},Y=V=>{if(V===void 0){wc(()=>{E(),C()});return}(si(V)||Gr(V))&&(E(),ac(t,n,V,"BEFORE_LOAD")),wc(()=>{E(),t.updateMatch(e,G=>({...G,__beforeLoadContext:V,context:{...G.context,...V}})),C()})};let J;try{if(J=i.options.beforeLoad(j),Es(J))return E(),J.catch(V=>{ac(t,n,V,"BEFORE_LOAD")}).then(Y)}catch(V){E(),ac(t,n,V,"BEFORE_LOAD")}Y(J)},X2=(t,e)=>{const{id:n,routeId:i}=t.matches[e],a=t.router.looseRoutesById[i],c=()=>{if(t.router.isServer){const d=Y2(t,n,e,a);if(Es(d))return d.then(f)}return f()},u=()=>K2(t,n,e,a),f=()=>{if(aS(t,n))return;const d=G2(t,n,a);return Es(d)?d.then(u):u()};return c()},Ec=(t,e,n)=>{const i=t.router.getMatch(e);if(!i||!n.options.head&&!n.options.scripts&&!n.options.headers)return;const a={matches:t.matches,match:i,params:i.params,loaderData:i.loaderData};return Promise.all([n.options.head?.(a),n.options.scripts?.(a),n.options.headers?.(a)]).then(([c,u,f])=>{const d=c?.meta,h=c?.links,m=c?.scripts,g=c?.styles;return{meta:d,links:h,headScripts:m,headers:f,scripts:u,styles:g}})},cS=(t,e,n,i)=>{const a=t.matchPromises[n-1],{params:c,loaderDeps:u,abortController:f,context:d,cause:h}=t.router.getMatch(e),m=gf(t,e);return{params:c,deps:u,preload:!!m,parentMatchPromise:a,abortController:f,context:d,location:t.location,navigate:g=>t.router.navigate({...g,_fromLocation:t.location}),cause:m?"preload":h,route:i,...t.router.options.additionalContext}},Wx=async(t,e,n,i)=>{try{const a=t.router.getMatch(e);try{(!t.router.isServer||a.ssr===!0)&&lS(i);const c=i.options.loader?.(cS(t,e,n,i)),u=i.options.loader&&Es(c);if(!!(u||i._lazyPromise||i._componentsPromise||i.options.head||i.options.scripts||i.options.headers||a._nonReactive.minPendingPromise)&&t.updateMatch(e,g=>({...g,isFetching:"loader"})),i.options.loader){const g=u?await c:c;_s(t,t.router.getMatch(e),g),g!==void 0&&t.updateMatch(e,x=>({...x,loaderData:g}))}i._lazyPromise&&await i._lazyPromise;const d=Ec(t,e,i),h=d?await d:void 0,m=a._nonReactive.minPendingPromise;m&&await m,i._componentsPromise&&await i._componentsPromise,t.updateMatch(e,g=>({...g,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),...h}))}catch(c){let u=c;const f=a._nonReactive.minPendingPromise;f&&await f,Gr(c)&&await i.options.notFoundComponent?.preload?.(),_s(t,t.router.getMatch(e),c);try{i.options.onError?.(c)}catch(m){u=m,_s(t,t.router.getMatch(e),m)}const d=Ec(t,e,i),h=d?await d:void 0;t.updateMatch(e,m=>({...m,error:u,status:"error",isFetching:!1,...h}))}}catch(a){const c=t.router.getMatch(e);if(c){const u=Ec(t,e,i);if(u){const f=await u;t.updateMatch(e,d=>({...d,...f}))}c._nonReactive.loaderPromise=void 0}_s(t,c,a)}},Q2=async(t,e)=>{const{id:n,routeId:i}=t.matches[e];let a=!1,c=!1;const u=t.router.looseRoutesById[i];if(aS(t,n)){if(t.router.isServer){const h=Ec(t,n,u);if(h){const m=await h;t.updateMatch(n,g=>({...g,...m}))}return t.router.getMatch(n)}}else{const h=t.router.getMatch(n);if(h._nonReactive.loaderPromise){if(h.status==="success"&&!t.sync&&!h.preload)return h;await h._nonReactive.loaderPromise;const m=t.router.getMatch(n);m.error&&_s(t,m,m.error)}else{const m=Date.now()-h.updatedAt,g=gf(t,n),x=g?u.options.preloadStaleTime??t.router.options.defaultPreloadStaleTime??3e4:u.options.staleTime??t.router.options.defaultStaleTime??0,S=u.options.shouldReload,E=typeof S=="function"?S(cS(t,n,e,u)):S,C=!!g&&!t.router.state.matches.some(k=>k.id===n),M=t.router.getMatch(n);M._nonReactive.loaderPromise=to(),C!==M.preload&&t.updateMatch(n,k=>({...k,preload:C}));const{status:D,invalid:N}=M;if(a=D==="success"&&(N||(E??m>x)),!(g&&u.options.preload===!1))if(a&&!t.sync)c=!0,(async()=>{try{await Wx(t,n,e,u);const k=t.router.getMatch(n);k._nonReactive.loaderPromise?.resolve(),k._nonReactive.loadPromise?.resolve(),k._nonReactive.loaderPromise=void 0}catch(k){si(k)&&await t.router.navigate(k.options)}})();else if(D!=="success"||a&&t.sync)await Wx(t,n,e,u);else{const k=Ec(t,n,u);if(k){const j=await k;t.updateMatch(n,Y=>({...Y,...j}))}}}}const f=t.router.getMatch(n);c||(f._nonReactive.loaderPromise?.resolve(),f._nonReactive.loadPromise?.resolve()),clearTimeout(f._nonReactive.pendingTimeout),f._nonReactive.pendingTimeout=void 0,c||(f._nonReactive.loaderPromise=void 0),f._nonReactive.dehydrated=void 0;const d=c?f.isFetching:!1;return d!==f.isFetching||f.invalid!==!1?(t.updateMatch(n,h=>({...h,isFetching:d,invalid:!1})),t.router.getMatch(n)):f};async function eb(t){const e=Object.assign(t,{matchPromises:[]});!e.router.isServer&&e.router.state.matches.some(n=>n._forcePending)&&Cu(e);try{for(let a=0;a<e.matches.length;a++){const c=X2(e,a);Es(c)&&await c}const n=e.firstBadMatchIndex??e.matches.length;for(let a=0;a<n;a++)e.matchPromises.push(Q2(e,a));await Promise.all(e.matchPromises);const i=Cu(e);Es(i)&&await i}catch(n){if(Gr(n)&&!e.preload){const i=Cu(e);throw Es(i)&&await i,n}if(si(n))throw n}return e.matches}async function lS(t){if(!t._lazyLoaded&&t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(e=>{const{id:n,...i}=e.options;Object.assign(t.options,i),t._lazyLoaded=!0,t._lazyPromise=void 0}):t._lazyLoaded=!0),!t._componentsLoaded&&t._componentsPromise===void 0){const e=()=>{const n=[];for(const i of fS){const a=t.options[i]?.preload;a&&n.push(a())}if(n.length)return Promise.all(n).then(()=>{t._componentsLoaded=!0,t._componentsPromise=void 0});t._componentsLoaded=!0,t._componentsPromise=void 0};t._componentsPromise=t._lazyPromise?t._lazyPromise.then(e):e()}return t._componentsPromise}function au(t,e){return e?{status:"error",error:e}:{status:"success",value:t}}function uS(t){for(const e of fS)if(t.options[e]?.preload)return!0;return!1}const fS=["component","errorComponent","pendingComponent","notFoundComponent"];function Z2(t){return{input:({url:e})=>{for(const n of t)e=dS(n,e);return e},output:({url:e})=>{for(let n=t.length-1;n>=0;n--)e=hS(t[n],e);return e}}}function J2(t){const e=Eu(t.basepath),n=`/${e}`,i=`${n}/`,a=t.caseSensitive?n:n.toLowerCase(),c=t.caseSensitive?i:i.toLowerCase();return{input:({url:u})=>{const f=t.caseSensitive?u.pathname:u.pathname.toLowerCase();return f===a?u.pathname="/":f.startsWith(c)&&(u.pathname=u.pathname.slice(n.length)),u},output:({url:u})=>(u.pathname=qi(["/",e,u.pathname]),u)}}function dS(t,e){const n=t?.input?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function hS(t,e){const n=t?.output?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function sa(t){const e=t.resolvedLocation,n=t.location,i=e?.pathname!==n.pathname,a=e?.href!==n.href,c=e?.hash!==n.hash;return{fromLocation:e,toLocation:n,pathChanged:i,hrefChanged:a,hashChanged:c}}class W2{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options,a=this.basepath??i?.basepath??"/",c=this.basepath===void 0,u=i?.rewrite;this.options={...i,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(x=>[encodeURIComponent(x),x])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=s2())),this.origin=this.options.origin,this.origin||(!this.isServer&&window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new Xp(tA(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(x=>!["redirected"].includes(x.status))}}}),L2(this));let f=!1;const d=this.options.basepath??"/",h=this.options.rewrite;if(c||a!==d||u!==h){this.basepath=d;const x=[];Eu(d)!==""&&x.push(J2({basepath:d})),h&&x.push(h),this.rewrite=x.length===0?void 0:x.length===1?x[0]:Z2(x),this.history&&this.updateLatestLocation(),f=!0}f&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:n,routesByPath:i,flatRoutes:a}=P2({routeTree:this.routeTree,initRoute:(u,f)=>{u.init({originalIndex:f})}});this.routesById=n,this.routesByPath=i,this.flatRoutes=a;const c=this.options.notFoundRoute;c&&(c.init({originalIndex:99999999999}),this.routesById[c.id]=c)},this.subscribe=(n,i)=>{const a={eventType:n,fn:i};return this.subscribers.add(a),()=>{this.subscribers.delete(a)}},this.emit=n=>{this.subscribers.forEach(i=>{i.eventType===n.type&&i.fn(n)})},this.parseLocation=(n,i)=>{const a=({href:d,state:h})=>{const m=new URL(d,this.origin),g=dS(this.rewrite,m),x=this.options.parseSearch(g.search),S=this.options.stringifySearch(x);g.search=S;const E=g.href.replace(g.origin,""),{pathname:C,hash:M}=g;return{href:E,publicHref:d,url:g.href,pathname:C,searchStr:S,search:kr(i?.search,x),hash:M.split("#").reverse()[0]??"",state:kr(i?.state,h)}},c=a(n),{__tempLocation:u,__tempKey:f}=c.state;if(u&&(!f||f===this.tempLocationKey)){const d=a(u);return d.state.key=c.state.key,d.state.__TSR_key=c.state.__TSR_key,delete d.state.__tempLocation,{...d,maskedLocation:c}}return c},this.resolvePathWithBase=(n,i)=>f2({base:n,to:Gm(i),trailingSlash:this.options.trailingSlash,parseCache:this.parsePathnameCache}),this.matchRoutes=(n,i,a)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:i},a):this.matchRoutesInternal(n,i),this.parsePathnameCache=F2(1e3),this.getMatchedRoutes=(n,i)=>nA({pathname:n,routePathname:i,caseSensitive:this.options.caseSensitive,routesByPath:this.routesByPath,routesById:this.routesById,flatRoutes:this.flatRoutes,parseCache:this.parsePathnameCache}),this.cancelMatch=n=>{const i=this.getMatch(n);i&&(i.abortController.abort(),clearTimeout(i._nonReactive.pendingTimeout),i._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{this.state.pendingMatches?.forEach(n=>{this.cancelMatch(n.id)})},this.buildLocation=n=>{const i=(c={})=>{const u=c._fromLocation||this.latestLocation,f=this.matchRoutes(u,{_buildLocation:!0}),d=Qp(f);c.from;const h=c.unsafeRelative==="path"?u.pathname:c.from??d.fullPath,m=this.resolvePathWithBase(h,"."),g=d.search,x={...d.params},S=c.to?this.resolvePathWithBase(m,`${c.to}`):this.resolvePathWithBase(m,"."),E=c.params===!1||c.params===null?{}:(c.params??!0)===!0?x:Object.assign(x,ra(c.params,x)),C=iu({path:S,params:E,parseCache:this.parsePathnameCache}).interpolatedPath,M=this.matchRoutes(C,void 0,{_buildLocation:!0}).map(xe=>this.looseRoutesById[xe.routeId]);if(Object.keys(E).length>0)for(const xe of M){const ve=xe.options.params?.stringify??xe.options.stringifyParams;ve&&Object.assign(E,ve(E))}const D=iu({path:S,params:E,leaveWildcards:!1,leaveParams:n.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath;let N=g;if(n._includeValidateSearch&&this.options.search?.strict){const xe={};M.forEach(ve=>{if(ve.options.validateSearch)try{Object.assign(xe,Wp(ve.options.validateSearch,{...xe,...N}))}catch{}}),N=xe}N=rA({search:N,dest:c,destRoutes:M,_includeValidateSearch:n._includeValidateSearch}),N=kr(g,N);const k=this.options.stringifySearch(N),j=c.hash===!0?u.hash:c.hash?ra(c.hash,u.hash):void 0,Y=j?`#${j}`:"";let J=c.state===!0?u.state:c.state?ra(c.state,u.state):{};J=kr(u.state,J);const V=`${D}${k}${Y}`,G=new URL(V,this.origin),me=hS(this.rewrite,G);return{publicHref:me.pathname+me.search+me.hash,href:V,url:me.href,pathname:D,search:N,searchStr:k,state:J,hash:j??"",unmaskOnReload:c.unmaskOnReload}},a=(c={},u)=>{const f=i(c);let d=u?i(u):void 0;if(!d){let h={};const m=this.options.routeMasks?.find(g=>{const x=Zp(f.pathname,{to:g.from,caseSensitive:!1,fuzzy:!1},this.parsePathnameCache);return x?(h=x,!0):!1});if(m){const{from:g,...x}=m;u={from:n.from,...x,params:h},d=i(u)}}return d&&(f.maskedLocation=d),f};return n.mask?a(n,{from:n.from,...n.mask}):a(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:i,...a})=>{const c=()=>{const d=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];d.forEach(m=>{a.state[m]=this.latestLocation.state[m]});const h=ia(a.state,this.latestLocation.state);return d.forEach(m=>{delete a.state[m]}),h},u=Cs(this.latestLocation.href)===Cs(a.href),f=this.commitLocationPromise;if(this.commitLocationPromise=to(()=>{f?.resolve()}),u&&c())this.load();else{let{maskedLocation:d,hashScrollIntoView:h,...m}=a;d&&(m={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...m,search:m.searchStr,state:{...m.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(m.unmaskOnReload??this.options.unmaskOnReload??!1)&&(m.state.__tempKey=this.tempLocationKey)),m.state.__hashScrollIntoViewOptions=h??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[a.replace?"replace":"push"](m.publicHref,m.state,{ignoreBlocker:i})}return this.resetNextScroll=a.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:i,hashScrollIntoView:a,viewTransition:c,ignoreBlocker:u,href:f,...d}={})=>{if(f){const m=this.history.location.state.__TSR_index,g=$u(f,{__TSR_index:n?m:m+1});d.to=g.pathname,d.search=this.options.parseSearch(g.search),d.hash=g.hash.slice(1)}const h=this.buildLocation({...d,_includeValidateSearch:!0});return this.commitLocation({...h,viewTransition:c,replace:n,resetScroll:i,hashScrollIntoView:a,ignoreBlocker:u})},this.navigate=({to:n,reloadDocument:i,href:a,...c})=>{if(!i&&a)try{new URL(`${a}`),i=!0}catch{}return i?(a||(a=this.buildLocation({to:n,...c}).url),c.replace?window.location.replace(a):window.location.href=a,Promise.resolve()):this.buildAndCommitLocation({...c,href:a,to:n,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.updateLatestLocation(),this.isServer){const i=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0}),a=c=>{try{return encodeURI(decodeURI(c))}catch{return c}};if(Eu(a(this.latestLocation.href))!==Eu(a(i.href))){let c=i.url;throw this.origin&&c.startsWith(this.origin)&&(c=c.replace(this.origin,"")||"/"),q2({href:c})}}const n=this.matchRoutes(this.latestLocation);this.__store.setState(i=>({...i,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:n,cachedMatches:i.cachedMatches.filter(a=>!n.some(c=>c.id===a.id))}))},this.load=async n=>{let i,a,c;for(c=new Promise(f=>{this.startTransition(async()=>{try{this.beforeLoad();const d=this.latestLocation,h=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...sa({resolvedLocation:h,location:d})}),this.emit({type:"onBeforeLoad",...sa({resolvedLocation:h,location:d})}),await eb({router:this,sync:n?.sync,matches:this.state.pendingMatches,location:d,updateMatch:this.updateMatch,onReady:async()=>{this.startViewTransition(async()=>{let m,g,x;wc(()=>{this.__store.setState(S=>{const E=S.matches,C=S.pendingMatches||S.matches;return m=E.filter(M=>!C.some(D=>D.id===M.id)),g=C.filter(M=>!E.some(D=>D.id===M.id)),x=E.filter(M=>C.some(D=>D.id===M.id)),{...S,isLoading:!1,loadedAt:Date.now(),matches:C,pendingMatches:void 0,cachedMatches:[...S.cachedMatches,...m.filter(M=>M.status!=="error")]}}),this.clearExpiredCache()}),[[m,"onLeave"],[g,"onEnter"],[x,"onStay"]].forEach(([S,E])=>{S.forEach(C=>{this.looseRoutesById[C.routeId].options[E]?.(C)})})})}})}catch(d){si(d)?(i=d,this.isServer||this.navigate({...i.options,replace:!0,ignoreBlocker:!0})):Gr(d)&&(a=d),this.__store.setState(h=>({...h,statusCode:i?i.status:a?404:h.matches.some(m=>m.status==="error")?500:200,redirect:i}))}this.latestLoadPromise===c&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),f()})}),this.latestLoadPromise=c,await c;this.latestLoadPromise&&c!==this.latestLoadPromise;)await this.latestLoadPromise;let u;this.hasNotFoundMatch()?u=404:this.__store.state.matches.some(f=>f.status==="error")&&(u=500),u!==void 0&&this.__store.setState(f=>({...f,statusCode:u}))},this.startViewTransition=n=>{const i=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,i&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let a;if(typeof i=="object"&&this.isViewTransitionTypesSupported){const c=this.latestLocation,u=this.state.resolvedLocation,f=typeof i.types=="function"?i.types(sa({resolvedLocation:u,location:c})):i.types;if(f===!1){n();return}a={update:n,types:f}}else a=n;document.startViewTransition(a)}else n()},this.updateMatch=(n,i)=>{const a=this.state.pendingMatches?.some(c=>c.id===n)?"pendingMatches":this.state.matches.some(c=>c.id===n)?"matches":this.state.cachedMatches.some(c=>c.id===n)?"cachedMatches":"";a&&this.__store.setState(c=>({...c,[a]:c[a]?.map(u=>u.id===n?i(u):u)}))},this.getMatch=n=>{const i=a=>a.id===n;return this.state.cachedMatches.find(i)??this.state.pendingMatches?.find(i)??this.state.matches.find(i)},this.invalidate=n=>{const i=a=>n?.filter?.(a)??!0?{...a,invalid:!0,...n?.forcePending||a.status==="error"?{status:"pending",error:void 0}:void 0}:a;return this.__store.setState(a=>({...a,matches:a.matches.map(i),cachedMatches:a.cachedMatches.map(i),pendingMatches:a.pendingMatches?.map(i)})),this.shouldViewTransition=!1,this.load({sync:n?.sync})},this.resolveRedirect=n=>{if(!n.options.href){const i=this.buildLocation(n.options);let a=i.url;this.origin&&a.startsWith(this.origin)&&(a=a.replace(this.origin,"")||"/"),n.options.href=i.href,n.headers.set("Location",a)}return n.headers.get("Location")||n.headers.set("Location",n.options.href),n},this.clearCache=n=>{const i=n?.filter;i!==void 0?this.__store.setState(a=>({...a,cachedMatches:a.cachedMatches.filter(c=>!i(c))})):this.__store.setState(a=>({...a,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=i=>{const a=this.looseRoutesById[i.routeId];if(!a.options.loader)return!0;const c=(i.preload?a.options.preloadGcTime??this.options.defaultPreloadGcTime:a.options.gcTime??this.options.defaultGcTime)??300*1e3;return i.status==="error"?!0:Date.now()-i.updatedAt>=c};this.clearCache({filter:n})},this.loadRouteChunk=lS,this.preloadRoute=async n=>{const i=this.buildLocation(n);let a=this.matchRoutes(i,{throwOnError:!0,preload:!0,dest:n});const c=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(f=>f.id)),u=new Set([...c,...this.state.cachedMatches.map(f=>f.id)]);wc(()=>{a.forEach(f=>{u.has(f.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,f]}))})});try{return a=await eb({router:this,matches:a,location:i,preload:!0,updateMatch:(f,d)=>{c.has(f)?a=a.map(h=>h.id===f?d(h):h):this.updateMatch(f,d)}}),a}catch(f){if(si(f))return f.options.reloadDocument?void 0:await this.preloadRoute({...f.options,_fromLocation:i});Gr(f)||console.error(f);return}},this.matchRoute=(n,i)=>{const a={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},c=this.buildLocation(a);if(i?.pending&&this.state.status!=="pending")return!1;const f=(i?.pending===void 0?!this.state.isLoading:i.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,d=Zp(f.pathname,{...i,to:c.pathname},this.parsePathnameCache);return!d||n.params&&!ia(d,n.params,{partial:!0})?!1:d&&(i?.includeSearch??!0)?ia(f.search,c.search,{partial:!0})?d:!1:d},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??H2,parseSearch:e.parseSearch??B2}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(e,n){const{foundRoute:i,matchedRoutes:a,routeParams:c}=this.getMatchedRoutes(e.pathname,n?.dest?.to);let u=!1;(i?i.path!=="/"&&c["**"]:Cs(e.pathname))&&(this.options.notFoundRoute?a.push(this.options.notFoundRoute):u=!0);const f=(()=>{if(u){if(this.options.notFoundMode!=="root")for(let m=a.length-1;m>=0;m--){const g=a[m];if(g.children)return g.id}return lr}})(),d=[],h=m=>m?.id?m.context??this.options.context??void 0:this.options.context??void 0;return a.forEach((m,g)=>{const x=d[g-1],[S,E,C]=(()=>{const Ee=x?.search??e.search,Ye=x?._strictSearch??void 0;try{const _e=Wp(m.options.validateSearch,{...Ee})??void 0;return[{...Ee,..._e},{...Ye,..._e},void 0]}catch(_e){let Pe=_e;if(_e instanceof Gu||(Pe=new Gu(_e.message,{cause:_e})),n?.throwOnError)throw Pe;return[Ee,{},Pe]}})(),M=m.options.loaderDeps?.({search:S})??"",D=M?JSON.stringify(M):"",{interpolatedPath:N,usedParams:k}=iu({path:m.fullPath,params:c,decodeCharMap:this.pathParamsDecodeCharMap}),j=iu({path:m.id,params:c,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath+D,Y=this.getMatch(j),J=this.state.matches.find(Ee=>Ee.routeId===m.id),V=Y?._strictParams??k;let G;if(!Y){const Ee=m.options.params?.parse??m.options.parseParams;if(Ee)try{Object.assign(V,Ee(V))}catch(Ye){if(G=new eA(Ye.message,{cause:Ye}),n?.throwOnError)throw G}}Object.assign(c,V);const me=J?"stay":"enter";let xe;if(Y)xe={...Y,cause:me,params:J?kr(J.params,c):c,_strictParams:V,search:kr(J?J.search:Y.search,S),_strictSearch:E};else{const Ee=m.options.loader||m.options.beforeLoad||m.lazyFn||uS(m)?"pending":"success";xe={id:j,index:g,routeId:m.id,params:J?kr(J.params,c):c,_strictParams:V,pathname:N,updatedAt:Date.now(),search:J?kr(J.search,S):S,_strictSearch:E,searchError:void 0,status:Ee,isFetching:!1,error:void 0,paramsError:G,__routeContext:void 0,_nonReactive:{loadPromise:to()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:me,loaderDeps:J?kr(J.loaderDeps,M):M,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:m.options.staticData||{},fullPath:m.fullPath}}n?.preload||(xe.globalNotFound=f===m.id),xe.searchError=C;const ve=h(x);xe.context={...ve,...xe.__routeContext,...xe.__beforeLoadContext},d.push(xe)}),d.forEach((m,g)=>{const x=this.looseRoutesById[m.routeId];if(!this.getMatch(m.id)&&n?._buildLocation!==!0){const E=d[g-1],C=h(E);if(x.options.context){const M={deps:m.loaderDeps,params:m.params,context:C??{},location:e,navigate:D=>this.navigate({...D,_fromLocation:e}),buildLocation:this.buildLocation,cause:m.cause,abortController:m.abortController,preload:!!m.preload,matches:d};m.__routeContext=x.options.context(M)??void 0}m.context={...C,...m.__routeContext,...m.__beforeLoadContext}}}),d}}class Gu extends Error{}class eA extends Error{}function tA(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Wp(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new Gu("Async validation not supported");if(n.issues)throw new Gu(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function nA({pathname:t,routePathname:e,caseSensitive:n,routesByPath:i,routesById:a,flatRoutes:c,parseCache:u}){let f={};const d=Cs(t),h=S=>Zp(d,{to:S.fullPath,caseSensitive:S.options?.caseSensitive??n,fuzzy:!0},u);let m=e!==void 0?i[e]:void 0;if(m)f=h(m);else{let S;for(const E of c){const C=h(E);if(C)if(E.path!=="/"&&C["**"])S||(S={foundRoute:E,routeParams:C});else{m=E,f=C;break}}!m&&S&&(m=S.foundRoute,f=S.routeParams)}let g=m||a[lr];const x=[g];for(;g.parentRoute;)g=g.parentRoute,x.push(g);return x.reverse(),{matchedRoutes:x,routeParams:f,foundRoute:m}}function rA({search:t,dest:e,destRoutes:n,_includeValidateSearch:i}){const a=n.reduce((f,d)=>{const h=[];if("search"in d.options)d.options.search?.middlewares&&h.push(...d.options.search.middlewares);else if(d.options.preSearchFilters||d.options.postSearchFilters){const m=({search:g,next:x})=>{let S=g;"preSearchFilters"in d.options&&d.options.preSearchFilters&&(S=d.options.preSearchFilters.reduce((C,M)=>M(C),g));const E=x(S);return"postSearchFilters"in d.options&&d.options.postSearchFilters?d.options.postSearchFilters.reduce((C,M)=>M(C),E):E};h.push(m)}if(i&&d.options.validateSearch){const m=({search:g,next:x})=>{const S=x(g);try{return{...S,...Wp(d.options.validateSearch,S)??void 0}}catch{return S}};h.push(m)}return f.concat(h)},[])??[],c=({search:f})=>e.search?e.search===!0?f:ra(e.search,f):{};a.push(c);const u=(f,d)=>{if(f>=a.length)return d;const h=a[f];return h({search:d,next:g=>u(f+1,g)})};return u(0,t)}const iA="Error preloading route! ";class pS{constructor(e){if(this.init=n=>{this.originalIndex=n.originalIndex;const i=this.options,a=!i?.path&&!i?.id;this.parentRoute=this.options.getParentRoute?.(),a?this._path=lr:this.parentRoute||Yi(!1);let c=a?lr:i?.path;c&&c!=="/"&&(c=Km(c));const u=i?.id||c;let f=a?lr:qi([this.parentRoute.id===lr?"":this.parentRoute.id,u]);c===lr&&(c="/"),f!==lr&&(f=qi(["/",f]));const d=f===lr?"/":qi([this.parentRoute.fullPath,c]);this._path=c,this._id=f,this._fullPath=d,this._to=d},this.clone=n=>{this._path=n._path,this._id=n._id,this._fullPath=n._fullPath,this._to=n._to,this.options.getParentRoute=n.options.getParentRoute,this.children=n.children},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.options=e||{},this.isRoot=!e?.getParentRoute,e?.id&&e?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class sA extends pS{constructor(e){super(e)}}var T=Bc();const De=Ic(T),aA=J1({__proto__:null,default:De},[T]);function Xm(t){const e=t.errorComponent??vf;return b.jsx(oA,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:i})=>n?T.createElement(e,{error:n,reset:i}):t.children})}class oA extends T.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function vf({error:t}){const[e,n]=T.useState(!1);return b.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[b.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),b.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(i=>!i),children:e?"Hide Error":"Show Error"})]}),b.jsx("div",{style:{height:".25rem"}}),e?b.jsx("div",{children:b.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?b.jsx("code",{children:t.message}):null})}):null]})}function cA({children:t,fallback:e=null}){return lA()?b.jsx(De.Fragment,{children:t}):b.jsx(De.Fragment,{children:e})}function lA(){return De.useSyncExternalStore(uA,()=>!0,()=>!1)}function uA(){return()=>{}}var sp={exports:{}},ap={},op={exports:{}},cp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tb;function fA(){if(tb)return cp;tb=1;var t=Bc();function e(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var n=typeof Object.is=="function"?Object.is:e,i=t.useState,a=t.useEffect,c=t.useLayoutEffect,u=t.useDebugValue;function f(g,x){var S=x(),E=i({inst:{value:S,getSnapshot:x}}),C=E[0].inst,M=E[1];return c(function(){C.value=S,C.getSnapshot=x,d(C)&&M({inst:C})},[g,S,x]),a(function(){return d(C)&&M({inst:C}),g(function(){d(C)&&M({inst:C})})},[g]),u(S),S}function d(g){var x=g.getSnapshot;g=g.value;try{var S=x();return!n(g,S)}catch{return!0}}function h(g,x){return x()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:f;return cp.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,cp}var nb;function mS(){return nb||(nb=1,op.exports=fA()),op.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rb;function dA(){if(rb)return ap;rb=1;var t=Bc(),e=mS();function n(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var i=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,c=t.useRef,u=t.useEffect,f=t.useMemo,d=t.useDebugValue;return ap.useSyncExternalStoreWithSelector=function(h,m,g,x,S){var E=c(null);if(E.current===null){var C={hasValue:!1,value:null};E.current=C}else C=E.current;E=f(function(){function D(J){if(!N){if(N=!0,k=J,J=x(J),S!==void 0&&C.hasValue){var V=C.value;if(S(V,J))return j=V}return j=J}if(V=j,i(k,J))return V;var G=x(J);return S!==void 0&&S(V,G)?(k=J,V):(k=J,j=G)}var N=!1,k,j,Y=g===void 0?null:g;return[function(){return D(m())},Y===null?void 0:function(){return D(Y())}]},[m,g,x,S]);var M=a(h,E[0],E[1]);return u(function(){C.hasValue=!0,C.value=M},[M]),d(M),M},ap}var ib;function hA(){return ib||(ib=1,sp.exports=dA()),sp.exports}var pA=hA();function mA(t,e=n=>n){return pA.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,yA)}function yA(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[i,a]of t)if(!e.has(i)||!Object.is(a,e.get(i)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();const n=sb(t);if(n.length!==sb(e).length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!Object.is(t[n[i]],e[n[i]]))return!1;return!0}function sb(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}const lp=T.createContext(null);function yS(){return typeof document>"u"?lp:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=lp,lp)}function wr(t){const e=T.useContext(yS());return t?.warn,e}function ur(t){const e=wr({warn:t?.router===void 0}),n=t?.router||e,i=T.useRef(void 0);return mA(n.__store,a=>{if(t?.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const c=kr(i.current,t.select(a));return i.current=c,c}return t.select(a)}return a})}const xf=T.createContext(void 0),gA=T.createContext(void 0);function fi(t){const e=T.useContext(t.from?gA:xf);return ur({select:i=>{const a=i.matches.find(c=>t.from?t.from===c.routeId:c.id===e);if(Yi(!((t.shouldThrow??!0)&&!a),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),a!==void 0)return t.select?t.select(a):a},structuralSharing:t.structuralSharing})}function Qm(t){return fi({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function Zm(t){const{select:e,...n}=t;return fi({...n,select:i=>e?e(i.loaderDeps):i.loaderDeps})}function Jm(t){return fi({from:t.from,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,strict:t.strict,select:e=>{const n=t.strict===!1?e.params:e._strictParams;return t.select?t.select(n):n}})}function Wm(t){return fi({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function bf(t){const e=wr();return T.useCallback(n=>e.navigate({...n,from:n.from??t?.from}),[t?.from,e])}var Hc=W1();const vA=Ic(Hc),ou=typeof window<"u"?T.useLayoutEffect:T.useEffect;function up(t){const e=T.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function xA(t,e,n={},i={}){T.useEffect(()=>{if(!t.current||i.disabled||typeof IntersectionObserver!="function")return;const a=new IntersectionObserver(([c])=>{e(c)},n);return a.observe(t.current),()=>{a.disconnect()}},[e,n,i.disabled,t])}function bA(t){const e=T.useRef(null);return T.useImperativeHandle(t,()=>e.current,[]),e}function SA(t,e){const n=wr(),[i,a]=T.useState(!1),c=T.useRef(!1),u=bA(e),{activeProps:f,inactiveProps:d,activeOptions:h,to:m,preload:g,preloadDelay:x,hashScrollIntoView:S,replace:E,startTransition:C,resetScroll:M,viewTransition:D,children:N,target:k,disabled:j,style:Y,className:J,onClick:V,onFocus:G,onMouseEnter:me,onMouseLeave:xe,onTouchStart:ve,ignoreBlocker:Ee,params:Ye,search:_e,hash:Pe,state:H,mask:se,reloadDocument:Z,unsafeRelative:ke,from:Je,_fromLocation:z,...ee}=t,le=ur({select:it=>it.location.search,structuralSharing:!0}),pe=t.from,Se=T.useMemo(()=>({...t,from:pe}),[n,le,pe,t._fromLocation,t.hash,t.to,t.search,t.params,t.state,t.mask,t.unsafeRelative]),Te=T.useMemo(()=>n.buildLocation({...Se}),[n,Se]),je=T.useMemo(()=>{if(j)return;let it=Te.maskedLocation?Te.maskedLocation.url:Te.url,dt=!1;return n.origin&&(it.startsWith(n.origin)?it=n.history.createHref(it.replace(n.origin,""))||"/":dt=!0),{href:it,external:dt}},[j,Te.maskedLocation,Te.url,n.origin,n.history]),Nt=T.useMemo(()=>{if(je?.external)return je.href;try{return new URL(m),m}catch{}},[m,je]),I=t.reloadDocument||Nt?!1:g??n.options.defaultPreload,K=x??n.options.defaultPreloadDelay??0,fe=ur({select:it=>{if(Nt)return!1;if(h?.exact){if(!l2(it.location.pathname,Te.pathname,n.basepath))return!1}else{const dt=qu(it.location.pathname,n.basepath),cn=qu(Te.pathname,n.basepath);if(!(dt.startsWith(cn)&&(dt.length===cn.length||dt[cn.length]==="/")))return!1}return(h?.includeSearch??!0)&&!ia(it.location.search,Te.search,{partial:!h?.exact,ignoreUndefined:!h?.explicitUndefined})?!1:h?.includeHash?it.location.hash===Te.hash:!0}}),Ce=T.useCallback(()=>{n.preloadRoute({...Se}).catch(it=>{console.warn(it),console.warn(iA)})},[n,Se]),Fe=T.useCallback(it=>{it?.isIntersecting&&Ce()},[Ce]);xA(u,Fe,TA,{disabled:!!j||I!=="viewport"}),T.useEffect(()=>{c.current||!j&&I==="render"&&(Ce(),c.current=!0)},[j,Ce,I]);const Ue=it=>{const dt=it.currentTarget.target,cn=k!==void 0?k:dt;if(!j&&!RA(it)&&!it.defaultPrevented&&(!cn||cn==="_self")&&it.button===0){it.preventDefault(),Hc.flushSync(()=>{a(!0)});const Tn=n.subscribe("onResolved",()=>{Tn(),a(!1)});n.navigate({...Se,replace:E,resetScroll:M,hashScrollIntoView:S,startTransition:C,viewTransition:D,ignoreBlocker:Ee})}};if(Nt)return{...ee,ref:u,href:Nt,...N&&{children:N},...k&&{target:k},...j&&{disabled:j},...Y&&{style:Y},...J&&{className:J},...V&&{onClick:V},...G&&{onFocus:G},...me&&{onMouseEnter:me},...xe&&{onMouseLeave:xe},...ve&&{onTouchStart:ve}};const Tt=it=>{j||I&&Ce()},xt=Tt,Jt=it=>{if(!(j||!I))if(!K)Ce();else{const dt=it.target;if(oc.has(dt))return;const cn=setTimeout(()=>{oc.delete(dt),Ce()},K);oc.set(dt,cn)}},Dt=it=>{if(j||!I||!K)return;const dt=it.target,cn=oc.get(dt);cn&&(clearTimeout(cn),oc.delete(dt))},St=fe?ra(f,{})??_A:fp,zt=fe?fp:ra(d,{})??fp,Zt=[J,St.className,zt.className].filter(Boolean).join(" "),xn=(Y||St.style||zt.style)&&{...Y,...St.style,...zt.style};return{...ee,...St,...zt,href:je?.href,ref:u,onClick:cc([V,Ue]),onFocus:cc([G,Tt]),onMouseEnter:cc([me,Jt]),onMouseLeave:cc([xe,Dt]),onTouchStart:cc([ve,xt]),disabled:!!j,target:k,...xn&&{style:xn},...Zt&&{className:Zt},...j&&wA,...fe&&EA,...i&&CA}}const fp={},_A={className:"active"},wA={role:"link","aria-disabled":!0},EA={"data-status":"active","aria-current":"page"},CA={"data-transitioning":"transitioning"},oc=new WeakMap,TA={rootMargin:"100px"},cc=t=>e=>{for(const n of t)if(n){if(e.defaultPrevented)return;n(e)}},ey=T.forwardRef((t,e)=>{const{_asChild:n,...i}=t,{type:a,ref:c,...u}=SA(i,e),f=typeof i.children=="function"?i.children({isActive:u["data-status"]==="active"}):i.children;return n===void 0&&delete u.disabled,T.createElement(n||"a",{...u,ref:c},f)});function RA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}class AA extends pS{constructor(e){super(e),this.useMatch=n=>fi({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>fi({...n,from:this.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>Wm({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>Jm({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>Zm({...n,from:this.id}),this.useLoaderData=n=>Qm({...n,from:this.id}),this.useNavigate=()=>bf({from:this.fullPath}),this.Link=De.forwardRef((n,i)=>b.jsx(ey,{ref:i,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function Sf(t){return new AA(t)}class OA extends sA{constructor(e){super(e),this.useMatch=n=>fi({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>fi({...n,from:this.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>Wm({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>Jm({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>Zm({...n,from:this.id}),this.useLoaderData=n=>Qm({...n,from:this.id}),this.useNavigate=()=>bf({from:this.fullPath}),this.Link=De.forwardRef((n,i)=>b.jsx(ey,{ref:i,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function MA(t){return new OA(t)}function ab(t){return typeof t=="object"?new ob(t,{silent:!0}).createRoute(t):new ob(t,{silent:!0}).createRoute}class ob{constructor(e,n){this.path=e,this.createRoute=i=>{this.silent;const a=Sf(i);return a.isRoot=!1,a},this.silent=n?.silent}}class cb{constructor(e){this.useMatch=n=>fi({select:n?.select,from:this.options.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>fi({from:this.options.id,select:i=>n?.select?n.select(i.context):i.context}),this.useSearch=n=>Wm({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useParams=n=>Jm({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>Zm({...n,from:this.options.id}),this.useLoaderData=n=>Qm({...n,from:this.options.id}),this.useNavigate=()=>{const n=wr();return bf({from:n.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function lb(t){return typeof t=="object"?new cb(t):e=>new cb({id:t,...e})}function PA(){const t=wr(),e=T.useRef({router:t,mounted:!1}),[n,i]=T.useState(!1),{hasPendingMatches:a,isLoading:c}=ur({select:g=>({isLoading:g.isLoading,hasPendingMatches:g.matches.some(x=>x.status==="pending")}),structuralSharing:!0}),u=up(c),f=c||n||a,d=up(f),h=c||a,m=up(h);return t.startTransition=g=>{i(!0),T.startTransition(()=>{g(),i(!1)})},T.useEffect(()=>{const g=t.history.subscribe(t.load),x=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Cs(t.latestLocation.href)!==Cs(x.href)&&t.commitLocation({...x,replace:!0}),()=>{g()}},[t,t.history]),ou(()=>{if(typeof window<"u"&&t.ssr||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(x){console.error(x)}})()},[t]),ou(()=>{u&&!c&&t.emit({type:"onLoad",...sa(t.state)})},[u,t,c]),ou(()=>{m&&!h&&t.emit({type:"onBeforeRouteMount",...sa(t.state)})},[h,m,t]),ou(()=>{d&&!f&&(t.emit({type:"onResolved",...sa(t.state)}),t.__store.setState(g=>({...g,status:"idle",resolvedLocation:g.location})),U2(t))},[f,d,t]),null}function NA(t){const e=ur({select:n=>`not-found-${n.location.pathname}-${n.status}`});return b.jsx(Xm,{getResetKey:()=>e,onCatch:(n,i)=>{if(Gr(n))t.onCatch?.(n,i);else throw n},errorComponent:({error:n})=>{if(Gr(n))return t.fallback?.(n);throw n},children:t.children})}function DA(){return b.jsx("p",{children:"Not Found"})}function Ga(t){return b.jsx(b.Fragment,{children:t.children})}function gS(t,e,n){return e.options.notFoundComponent?b.jsx(e.options.notFoundComponent,{data:n}):t.options.defaultNotFoundComponent?b.jsx(t.options.defaultNotFoundComponent,{data:n}):b.jsx(DA,{})}function kA({children:t}){const e=wr();return e.isServer?b.jsx("script",{nonce:e.options.ssr?.nonce,className:"$tsr",dangerouslySetInnerHTML:{__html:[t].filter(Boolean).join(`
`)+";$_TSR.c()"}}):null}function jA(){const t=wr();if(!t.isScrollRestoring||!t.isServer||typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation}))return null;const n=(t.options.getScrollRestorationKey||Jp)(t.latestLocation),i=n!==Jp(t.latestLocation)?n:void 0,a={storageKey:Fu,shouldScrollRestoration:!0};return i&&(a.key=i),b.jsx(kA,{children:`(${iS.toString()})(${JSON.stringify(a)})`})}const vS=T.memo(function({matchId:e}){const n=wr(),i=ur({select:D=>{const N=D.matches.find(k=>k.id===e);return Yi(N),{routeId:N.routeId,ssr:N.ssr,_displayPending:N._displayPending}},structuralSharing:!0}),a=n.routesById[i.routeId],c=a.options.pendingComponent??n.options.defaultPendingComponent,u=c?b.jsx(c,{}):null,f=a.options.errorComponent??n.options.defaultErrorComponent,d=a.options.onCatch??n.options.defaultOnCatch,h=a.isRoot?a.options.notFoundComponent??n.options.notFoundRoute?.options.component:a.options.notFoundComponent,m=i.ssr===!1||i.ssr==="data-only",g=(!a.isRoot||a.options.wrapInSuspense||m)&&(a.options.wrapInSuspense??c??(a.options.errorComponent?.preload||m))?T.Suspense:Ga,x=f?Xm:Ga,S=h?NA:Ga,E=ur({select:D=>D.loadedAt}),C=ur({select:D=>{const N=D.matches.findIndex(k=>k.id===e);return D.matches[N-1]?.routeId}}),M=a.isRoot?a.options.shellComponent??Ga:Ga;return b.jsxs(M,{children:[b.jsx(xf.Provider,{value:e,children:b.jsx(g,{fallback:u,children:b.jsx(x,{getResetKey:()=>E,errorComponent:f||vf,onCatch:(D,N)=>{if(Gr(D))throw D;d?.(D,N)},children:b.jsx(S,{fallback:D=>{if(!h||D.routeId&&D.routeId!==i.routeId||!D.routeId&&!a.isRoot)throw D;return T.createElement(h,D)},children:m||i._displayPending?b.jsx(cA,{fallback:u,children:b.jsx(ub,{matchId:e})}):b.jsx(ub,{matchId:e})})})})}),C===lr&&n.options.scrollRestoration?b.jsxs(b.Fragment,{children:[b.jsx(LA,{}),b.jsx(jA,{})]}):null]})});function LA(){const t=wr(),e=T.useRef(void 0);return b.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(e.current===void 0||e.current.href!==t.latestLocation.href)&&(t.emit({type:"onRendered",...sa(t.state)}),e.current=t.latestLocation)}},t.latestLocation.state.__TSR_key)}const ub=T.memo(function({matchId:e}){const n=wr(),{match:i,key:a,routeId:c}=ur({select:d=>{const h=d.matches.find(E=>E.id===e),m=h.routeId,x=(n.routesById[m].options.remountDeps??n.options.defaultRemountDeps)?.({routeId:m,loaderDeps:h.loaderDeps,params:h._strictParams,search:h._strictSearch});return{key:x?JSON.stringify(x):void 0,routeId:m,match:{id:h.id,status:h.status,error:h.error,_forcePending:h._forcePending,_displayPending:h._displayPending}}},structuralSharing:!0}),u=n.routesById[c],f=T.useMemo(()=>{const d=u.options.component??n.options.defaultComponent;return d?b.jsx(d,{},a):b.jsx(xS,{})},[a,u.options.component,n.options.defaultComponent]);if(i._displayPending)throw n.getMatch(i.id)?._nonReactive.displayPendingPromise;if(i._forcePending)throw n.getMatch(i.id)?._nonReactive.minPendingPromise;if(i.status==="pending"){const d=u.options.pendingMinMs??n.options.defaultPendingMinMs;if(d){const h=n.getMatch(i.id);if(h&&!h._nonReactive.minPendingPromise&&!n.isServer){const m=to();h._nonReactive.minPendingPromise=m,setTimeout(()=>{m.resolve(),h._nonReactive.minPendingPromise=void 0},d)}}throw n.getMatch(i.id)?._nonReactive.loadPromise}if(i.status==="notFound")return Yi(Gr(i.error)),gS(n,u,i.error);if(i.status==="redirected")throw Yi(si(i.error)),n.getMatch(i.id)?._nonReactive.loadPromise;if(i.status==="error"){if(n.isServer){const d=(u.options.errorComponent??n.options.defaultErrorComponent)||vf;return b.jsx(d,{error:i.error,reset:void 0,info:{componentStack:""}})}throw i.error}return f}),xS=T.memo(function(){const e=wr(),n=T.useContext(xf),i=ur({select:h=>h.matches.find(m=>m.id===n)?.routeId}),a=e.routesById[i],c=ur({select:h=>{const g=h.matches.find(x=>x.id===n);return Yi(g),g.globalNotFound}}),u=ur({select:h=>{const m=h.matches,g=m.findIndex(x=>x.id===n);return m[g+1]?.id}}),f=e.options.defaultPendingComponent?b.jsx(e.options.defaultPendingComponent,{}):null;if(c)return gS(e,a,void 0);if(!u)return null;const d=b.jsx(vS,{matchId:u});return n===lr?b.jsx(T.Suspense,{fallback:f,children:d}):d});function UA(){const t=wr(),n=t.routesById[lr].options.pendingComponent??t.options.defaultPendingComponent,i=n?b.jsx(n,{}):null,a=t.isServer||typeof document<"u"&&t.ssr?Ga:T.Suspense,c=b.jsxs(a,{fallback:i,children:[!t.isServer&&b.jsx(PA,{}),b.jsx(zA,{})]});return t.options.InnerWrap?b.jsx(t.options.InnerWrap,{children:c}):c}function zA(){const t=wr(),e=ur({select:a=>a.matches[0]?.id}),n=ur({select:a=>a.loadedAt}),i=e?b.jsx(vS,{matchId:e}):null;return b.jsx(xf.Provider,{value:e,children:t.options.disableGlobalCatchBoundary?i:b.jsx(Xm,{getResetKey:()=>n,errorComponent:vf,onCatch:a=>{a.message||a.toString()},children:i})})}const IA=t=>new BA(t);class BA extends W2{constructor(e){super(e)}}typeof globalThis<"u"?(globalThis.createFileRoute=ab,globalThis.createLazyFileRoute=lb):typeof window<"u"&&(window.createFileRoute=ab,window.createLazyFileRoute=lb);function HA({router:t,children:e,...n}){Object.keys(n).length>0&&t.update({...t.options,...n,context:{...t.options.context,...n.context}});const i=yS(),a=b.jsx(i.Provider,{value:t,children:e});return t.options.Wrap?b.jsx(t.options.Wrap,{children:a}):a}function $A({router:t,...e}){return b.jsx(HA,{router:t,...e,children:b.jsx(UA,{})})}var _f=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},VA={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},qA=class{#e=VA;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},em=new qA;function FA(t){setTimeout(t,0)}var wf=typeof window>"u"||"Deno"in globalThis;function qr(){}function YA(t,e){return typeof t=="function"?t(e):t}function GA(t){return typeof t=="number"&&t>=0&&t!==1/0}function KA(t,e){return Math.max(t+(e||0)-Date.now(),0)}function tm(t,e){return typeof t=="function"?t(e):t}function XA(t,e){return typeof t=="function"?t(e):t}function fb(t,e){const{type:n="all",exact:i,fetchStatus:a,predicate:c,queryKey:u,stale:f}=t;if(u){if(i){if(e.queryHash!==ty(u,e.options))return!1}else if(!Oc(e.queryKey,u))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||a&&a!==e.state.fetchStatus||c&&!c(e))}function db(t,e){const{exact:n,status:i,predicate:a,mutationKey:c}=t;if(c){if(!e.options.mutationKey)return!1;if(n){if(Ac(e.options.mutationKey)!==Ac(c))return!1}else if(!Oc(e.options.mutationKey,c))return!1}return!(i&&e.state.status!==i||a&&!a(e))}function ty(t,e){return(e?.queryKeyHashFn||Ac)(t)}function Ac(t){return JSON.stringify(t,(e,n)=>nm(n)?Object.keys(n).sort().reduce((i,a)=>(i[a]=n[a],i),{}):n)}function Oc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Oc(t[n],e[n])):!1}var QA=Object.prototype.hasOwnProperty;function bS(t,e){if(t===e)return t;const n=hb(t)&&hb(e);if(!n&&!(nm(t)&&nm(e)))return e;const a=(n?t:Object.keys(t)).length,c=n?e:Object.keys(e),u=c.length,f=n?new Array(u):{};let d=0;for(let h=0;h<u;h++){const m=n?h:c[h],g=t[m],x=e[m];if(g===x){f[m]=g,(n?h<a:QA.call(t,m))&&d++;continue}if(g===null||x===null||typeof g!="object"||typeof x!="object"){f[m]=x;continue}const S=bS(g,x);f[m]=S,S===g&&d++}return a===u&&d===a?t:f}function hb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function nm(t){if(!pb(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!pb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function pb(t){return Object.prototype.toString.call(t)==="[object Object]"}function ZA(t){return new Promise(e=>{em.setTimeout(e,t)})}function JA(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?bS(t,e):e}function WA(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function e6(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var ny=Symbol();function SS(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===ny?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var t6=class extends _f{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!wf&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},_S=new t6;function n6(){let t,e;const n=new Promise((a,c)=>{t=a,e=c});n.status="pending",n.catch(()=>{});function i(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{i({status:"fulfilled",value:a}),t(a)},n.reject=a=>{i({status:"rejected",reason:a}),e(a)},n}var r6=FA;function i6(){let t=[],e=0,n=f=>{f()},i=f=>{f()},a=r6;const c=f=>{e?t.push(f):a(()=>{n(f)})},u=()=>{const f=t;t=[],f.length&&a(()=>{i(()=>{f.forEach(d=>{n(d)})})})};return{batch:f=>{let d;e++;try{d=f()}finally{e--,e||u()}return d},batchCalls:f=>(...d)=>{c(()=>{f(...d)})},schedule:c,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{i=f},setScheduler:f=>{a=f}}}var er=i6(),s6=class extends _f{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!wf&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Ku=new s6;function a6(t){return Math.min(1e3*2**t,3e4)}function wS(t){return(t??"online")==="online"?Ku.isOnline():!0}var rm=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function ES(t){let e=!1,n=0,i;const a=n6(),c=()=>a.status!=="pending",u=C=>{if(!c()){const M=new rm(C);x(M),t.onCancel?.(M)}},f=()=>{e=!0},d=()=>{e=!1},h=()=>_S.isFocused()&&(t.networkMode==="always"||Ku.isOnline())&&t.canRun(),m=()=>wS(t.networkMode)&&t.canRun(),g=C=>{c()||(i?.(),a.resolve(C))},x=C=>{c()||(i?.(),a.reject(C))},S=()=>new Promise(C=>{i=M=>{(c()||h())&&C(M)},t.onPause?.()}).then(()=>{i=void 0,c()||t.onContinue?.()}),E=()=>{if(c())return;let C;const M=n===0?t.initialPromise:void 0;try{C=M??t.fn()}catch(D){C=Promise.reject(D)}Promise.resolve(C).then(g).catch(D=>{if(c())return;const N=t.retry??(wf?0:3),k=t.retryDelay??a6,j=typeof k=="function"?k(n,D):k,Y=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,D);if(e||!Y){x(D);return}n++,t.onFail?.(n,D),ZA(j).then(()=>h()?void 0:S()).then(()=>{e?x(D):E()})})};return{promise:a,status:()=>a.status,cancel:u,continue:()=>(i?.(),a),cancelRetry:f,continueRetry:d,canStart:m,start:()=>(m()?E():S().then(E),a)}}var CS=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),GA(this.gcTime)&&(this.#e=em.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(wf?1/0:300*1e3))}clearGcTimeout(){this.#e&&(em.clearTimeout(this.#e),this.#e=void 0)}},o6=class extends CS{#e;#t;#n;#i;#r;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#n=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=mb(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=mb(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=JA(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(qr).catch(qr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>XA(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ny||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>tm(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!KA(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(d=>d.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},a=()=>{const f=SS(this.options,e),h=(()=>{const m={client:this.#i,queryKey:this.queryKey,meta:this.meta};return i(m),m})();return this.#o=!1,this.options.persister?this.options.persister(f,h,this):f(h)},u=(()=>{const f={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:a};return i(f),f})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#s({type:"fetch",meta:u.fetchOptions?.meta}),this.#r=ES({initialPromise:e?.initialPromise,fn:u.fetchFn,onCancel:f=>{f instanceof rm&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(f,d)=>{this.#s({type:"failed",failureCount:f,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const f=await this.#r.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof rm){if(f.silent)return this.#r.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#s({type:"error",error:f}),this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...c6(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?i:void 0,i;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),er.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function c6(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function mb(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function yb(t){return{onFetch:(e,n)=>{const i=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,c=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let f={pages:[],pageParams:[]},d=0;const h=async()=>{let m=!1;const g=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},x=SS(e.options,e.fetchOptions),S=async(E,C,M)=>{if(m)return Promise.reject();if(C==null&&E.pages.length)return Promise.resolve(E);const N=(()=>{const J={client:e.client,queryKey:e.queryKey,pageParam:C,direction:M?"backward":"forward",meta:e.options.meta};return g(J),J})(),k=await x(N),{maxPages:j}=e.options,Y=M?e6:WA;return{pages:Y(E.pages,k,j),pageParams:Y(E.pageParams,C,j)}};if(a&&c.length){const E=a==="backward",C=E?l6:gb,M={pages:c,pageParams:u},D=C(i,M);f=await S(M,D,E)}else{const E=t??c.length;do{const C=d===0?u[0]??i.initialPageParam:gb(i,f);if(d>0&&C==null)break;f=await S(f,C),d++}while(d<E)}return f};e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=h}}}function gb(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function l6(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var u6=class extends CS{#e;#t;#n;#i;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||f6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=ES({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(c,u)=>{this.#r({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",a=!this.#i.canStart();try{if(i)e();else{this.#r({type:"pending",variables:t,isPaused:a}),await this.#n.config.onMutate?.(t,this,n);const u=await this.options.onMutate?.(t,n);u!==this.state.context&&this.#r({type:"pending",context:u,variables:t,isPaused:a})}const c=await this.#i.start();return await this.#n.config.onSuccess?.(c,t,this.state.context,this,n),await this.options.onSuccess?.(c,t,this.state.context,n),await this.#n.config.onSettled?.(c,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(c,null,t,this.state.context,n),this.#r({type:"success",data:c}),c}catch(c){try{throw await this.#n.config.onError?.(c,t,this.state.context,this,n),await this.options.onError?.(c,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,c,t,this.state.context,n),c}finally{this.#r({type:"error",error:c})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),er.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function f6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var d6=class extends _f{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const i=new u6({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(i),i}add(t){this.#e.add(t);const e=cu(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=cu(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=cu(t);if(typeof e=="string"){const i=this.#t.get(e)?.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){const e=cu(t);return typeof e=="string"?this.#t.get(e)?.find(i=>i!==t&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){er.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>db(e,n))}findAll(t={}){return this.getAll().filter(e=>db(t,e))}notify(t){er.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return er.batch(()=>Promise.all(t.map(e=>e.continue().catch(qr))))}};function cu(t){return t.options.scope?.id}var h6=class extends _f{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const i=e.queryKey,a=e.queryHash??ty(i,e);let c=this.get(a);return c||(c=new o6({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(c)),c}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){er.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>fb(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>fb(t,n)):e}notify(t){er.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){er.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){er.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},p6=class{#e;#t;#n;#i;#r;#a;#o;#s;constructor(t={}){this.#e=t.queryCache||new h6,this.#t=t.mutationCache||new d6,this.#n=t.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=_S.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Ku.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(tm(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),c=this.#e.get(i.queryHash)?.state.data,u=YA(e,c);if(u!==void 0)return this.#e.build(this,i).setData(u,{...n,manual:!0})}setQueriesData(t,e,n){return er.batch(()=>this.#e.findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;er.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return er.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=er.batch(()=>this.#e.findAll(t).map(a=>a.cancel(n)));return Promise.all(i).then(qr).catch(qr)}invalidateQueries(t,e={}){return er.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=er.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let c=a.fetch(void 0,n);return n.throwOnError||(c=c.catch(qr)),a.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(i).then(qr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(tm(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(qr).catch(qr)}fetchInfiniteQuery(t){return t.behavior=yb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(qr).catch(qr)}ensureInfiniteQueryData(t){return t.behavior=yb(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ku.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#i.set(Ac(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(i=>{Oc(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Ac(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(i=>{Oc(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ty(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ny&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},m6=T.createContext(void 0),y6=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),b.jsx(m6.Provider,{value:t,children:e}));async function g6(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const v6=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return await g6(n),await n.json()},x6=new p6({defaultOptions:{queries:{queryFn:v6({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),b6=1,S6=1e3;let dp=0;function _6(){return dp=(dp+1)%Number.MAX_SAFE_INTEGER,dp.toString()}const hp=new Map,vb=t=>{if(hp.has(t))return;const e=setTimeout(()=>{hp.delete(t),Cc({type:"REMOVE_TOAST",toastId:t})},S6);hp.set(t,e)},w6=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,b6)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?vb(n):t.toasts.forEach(i=>{vb(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===n||n===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Tu=[];let Ru={toasts:[]};function Cc(t){Ru=w6(Ru,t),Tu.forEach(e=>{e(Ru)})}function E6({...t}){const e=_6(),n=a=>Cc({type:"UPDATE_TOAST",toast:{...a,id:e}}),i=()=>Cc({type:"DISMISS_TOAST",toastId:e});return Cc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:a=>{a||i()}}}),{id:e,dismiss:i,update:n}}function TS(){const[t,e]=T.useState(Ru);return T.useEffect(()=>(Tu.push(e),()=>{const n=Tu.indexOf(e);n>-1&&Tu.splice(n,1)}),[t]),{...t,toast:E6,dismiss:n=>Cc({type:"DISMISS_TOAST",toastId:n})}}function Ut(t,e,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t?.(a),n===!1||!a.defaultPrevented)return e?.(a)}}function xb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function RS(...t){return e=>{let n=!1;const i=t.map(a=>{const c=xb(a,e);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let a=0;a<i.length;a++){const c=i[a];typeof c=="function"?c():xb(t[a],null)}}}}function on(...t){return T.useCallback(RS(...t),t)}function Ms(t,e=[]){let n=[];function i(c,u){const f=T.createContext(u),d=n.length;n=[...n,u];const h=g=>{const{scope:x,children:S,...E}=g,C=x?.[t]?.[d]||f,M=T.useMemo(()=>E,Object.values(E));return b.jsx(C.Provider,{value:M,children:S})};h.displayName=c+"Provider";function m(g,x){const S=x?.[t]?.[d]||f,E=T.useContext(S);if(E)return E;if(u!==void 0)return u;throw new Error(`\`${g}\` must be used within \`${c}\``)}return[h,m]}const a=()=>{const c=n.map(u=>T.createContext(u));return function(f){const d=f?.[t]||c;return T.useMemo(()=>({[`__scope${t}`]:{...f,[t]:d}}),[f,d])}};return a.scopeName=t,[i,C6(a,...e)]}function C6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const u=i.reduce((f,{useScope:d,scopeName:h})=>{const g=d(c)[`__scope${h}`];return{...f,...g}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function Xu(t){const e=R6(t),n=T.forwardRef((i,a)=>{const{children:c,...u}=i,f=T.Children.toArray(c),d=f.find(O6);if(d){const h=d.props.children,m=f.map(g=>g===d?T.Children.count(h)>1?T.Children.only(null):T.isValidElement(h)?h.props.children:null:g);return b.jsx(e,{...u,ref:a,children:T.isValidElement(h)?T.cloneElement(h,void 0,m):null})}return b.jsx(e,{...u,ref:a,children:c})});return n.displayName=`${t}.Slot`,n}var T6=Xu("Slot");function R6(t){const e=T.forwardRef((n,i)=>{const{children:a,...c}=n;if(T.isValidElement(a)){const u=P6(a),f=M6(c,a.props);return a.type!==T.Fragment&&(f.ref=i?RS(i,u):u),T.cloneElement(a,f)}return T.Children.count(a)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var AS=Symbol("radix.slottable");function A6(t){const e=({children:n})=>b.jsx(b.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=AS,e}function O6(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===AS}function M6(t,e){const n={...e};for(const i in e){const a=t[i],c=e[i];/^on[A-Z]/.test(i)?a&&c?n[i]=(...f)=>{const d=c(...f);return a(...f),d}:a&&(n[i]=a):i==="style"?n[i]={...a,...c}:i==="className"&&(n[i]=[a,c].filter(Boolean).join(" "))}return{...t,...n}}function P6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function OS(t){const e=t+"CollectionProvider",[n,i]=Ms(e),[a,c]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=C=>{const{scope:M,children:D}=C,N=De.useRef(null),k=De.useRef(new Map).current;return b.jsx(a,{scope:M,itemMap:k,collectionRef:N,children:D})};u.displayName=e;const f=t+"CollectionSlot",d=Xu(f),h=De.forwardRef((C,M)=>{const{scope:D,children:N}=C,k=c(f,D),j=on(M,k.collectionRef);return b.jsx(d,{ref:j,children:N})});h.displayName=f;const m=t+"CollectionItemSlot",g="data-radix-collection-item",x=Xu(m),S=De.forwardRef((C,M)=>{const{scope:D,children:N,...k}=C,j=De.useRef(null),Y=on(M,j),J=c(m,D);return De.useEffect(()=>(J.itemMap.set(j,{ref:j,...k}),()=>void J.itemMap.delete(j))),b.jsx(x,{[g]:"",ref:Y,children:N})});S.displayName=m;function E(C){const M=c(t+"CollectionConsumer",C);return De.useCallback(()=>{const N=M.collectionRef.current;if(!N)return[];const k=Array.from(N.querySelectorAll(`[${g}]`));return Array.from(M.itemMap.values()).sort((J,V)=>k.indexOf(J.ref.current)-k.indexOf(V.ref.current))},[M.collectionRef,M.itemMap])}return[{Provider:u,Slot:h,ItemSlot:S},E,i]}var N6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ht=N6.reduce((t,e)=>{const n=Xu(`Primitive.${e}`),i=T.forwardRef((a,c)=>{const{asChild:u,...f}=a,d=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(d,{...f,ref:c})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function MS(t,e){t&&Hc.flushSync(()=>t.dispatchEvent(e))}function Kn(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>e.current?.(...n),[])}function D6(t,e=globalThis?.document){const n=Kn(t);T.useEffect(()=>{const i=a=>{a.key==="Escape"&&n(a)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var k6="DismissableLayer",im="dismissableLayer.update",j6="dismissableLayer.pointerDownOutside",L6="dismissableLayer.focusOutside",bb,PS=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ry=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...d}=t,h=T.useContext(PS),[m,g]=T.useState(null),x=m?.ownerDocument??globalThis?.document,[,S]=T.useState({}),E=on(e,V=>g(V)),C=Array.from(h.layers),[M]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),D=C.indexOf(M),N=m?C.indexOf(m):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,j=N>=D,Y=z6(V=>{const G=V.target,me=[...h.branches].some(xe=>xe.contains(G));!j||me||(a?.(V),u?.(V),V.defaultPrevented||f?.())},x),J=I6(V=>{const G=V.target;[...h.branches].some(xe=>xe.contains(G))||(c?.(V),u?.(V),V.defaultPrevented||f?.())},x);return D6(V=>{N===h.layers.size-1&&(i?.(V),!V.defaultPrevented&&f&&(V.preventDefault(),f()))},x),T.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(bb=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),Sb(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=bb)}},[m,x,n,h]),T.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),Sb())},[m,h]),T.useEffect(()=>{const V=()=>S({});return document.addEventListener(im,V),()=>document.removeEventListener(im,V)},[]),b.jsx(Ht.div,{...d,ref:E,style:{pointerEvents:k?j?"auto":"none":void 0,...t.style},onFocusCapture:Ut(t.onFocusCapture,J.onFocusCapture),onBlurCapture:Ut(t.onBlurCapture,J.onBlurCapture),onPointerDownCapture:Ut(t.onPointerDownCapture,Y.onPointerDownCapture)})});ry.displayName=k6;var U6="DismissableLayerBranch",NS=T.forwardRef((t,e)=>{const n=T.useContext(PS),i=T.useRef(null),a=on(e,i);return T.useEffect(()=>{const c=i.current;if(c)return n.branches.add(c),()=>{n.branches.delete(c)}},[n.branches]),b.jsx(Ht.div,{...t,ref:a})});NS.displayName=U6;function z6(t,e=globalThis?.document){const n=Kn(t),i=T.useRef(!1),a=T.useRef(()=>{});return T.useEffect(()=>{const c=f=>{if(f.target&&!i.current){let d=function(){DS(j6,n,h,{discrete:!0})};const h={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=d,e.addEventListener("click",a.current,{once:!0})):d()}else e.removeEventListener("click",a.current);i.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",c),e.removeEventListener("click",a.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function I6(t,e=globalThis?.document){const n=Kn(t),i=T.useRef(!1);return T.useEffect(()=>{const a=c=>{c.target&&!i.current&&DS(L6,n,{originalEvent:c},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Sb(){const t=new CustomEvent(im);document.dispatchEvent(t)}function DS(t,e,n,{discrete:i}){const a=n.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&a.addEventListener(t,e,{once:!0}),i?MS(a,c):a.dispatchEvent(c)}var B6=ry,H6=NS,Lr=globalThis?.document?T.useLayoutEffect:()=>{},$6="Portal",kS=T.forwardRef((t,e)=>{const{container:n,...i}=t,[a,c]=T.useState(!1);Lr(()=>c(!0),[]);const u=n||a&&globalThis?.document?.body;return u?vA.createPortal(b.jsx(Ht.div,{...i,ref:e}),u):null});kS.displayName=$6;function V6(t,e){return T.useReducer((n,i)=>e[n][i]??n,t)}var ua=t=>{const{present:e,children:n}=t,i=q6(e),a=typeof n=="function"?n({present:i.isPresent}):T.Children.only(n),c=on(i.ref,F6(a));return typeof n=="function"||i.isPresent?T.cloneElement(a,{ref:c}):null};ua.displayName="Presence";function q6(t){const[e,n]=T.useState(),i=T.useRef(null),a=T.useRef(t),c=T.useRef("none"),u=t?"mounted":"unmounted",[f,d]=V6(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const h=lu(i.current);c.current=f==="mounted"?h:"none"},[f]),Lr(()=>{const h=i.current,m=a.current;if(m!==t){const x=c.current,S=lu(h);t?d("MOUNT"):S==="none"||h?.display==="none"?d("UNMOUNT"):d(m&&x!==S?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,d]),Lr(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,g=S=>{const C=lu(i.current).includes(CSS.escape(S.animationName));if(S.target===e&&C&&(d("ANIMATION_END"),!a.current)){const M=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=M)})}},x=S=>{S.target===e&&(c.current=lu(i.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:T.useCallback(h=>{i.current=h?getComputedStyle(h):null,n(h)},[])}}function lu(t){return t?.animationName||"none"}function F6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Y6=aA[" useInsertionEffect ".trim().toString()]||Lr;function jS({prop:t,defaultProp:e,onChange:n=()=>{},caller:i}){const[a,c,u]=G6({defaultProp:e,onChange:n}),f=t!==void 0,d=f?t:a;{const m=T.useRef(t!==void 0);T.useEffect(()=>{const g=m.current;g!==f&&console.warn(`${i} is changing from ${g?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=f},[f,i])}const h=T.useCallback(m=>{if(f){const g=K6(m)?m(t):m;g!==t&&u.current?.(g)}else c(m)},[f,t,c,u]);return[d,h]}function G6({defaultProp:t,onChange:e}){const[n,i]=T.useState(t),a=T.useRef(n),c=T.useRef(e);return Y6(()=>{c.current=e},[e]),T.useEffect(()=>{a.current!==n&&(c.current?.(n),a.current=n)},[n,a]),[n,i,c]}function K6(t){return typeof t=="function"}var X6=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Q6="VisuallyHidden",Ef=T.forwardRef((t,e)=>b.jsx(Ht.span,{...t,ref:e,style:{...X6,...t.style}}));Ef.displayName=Q6;var Z6=Ef,iy="ToastProvider",[sy,J6,W6]=OS("Toast"),[LS]=Ms("Toast",[W6]),[eO,Cf]=LS(iy),US=t=>{const{__scopeToast:e,label:n="Notification",duration:i=5e3,swipeDirection:a="right",swipeThreshold:c=50,children:u}=t,[f,d]=T.useState(null),[h,m]=T.useState(0),g=T.useRef(!1),x=T.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${iy}\`. Expected non-empty \`string\`.`),b.jsx(sy.Provider,{scope:e,children:b.jsx(eO,{scope:e,label:n,duration:i,swipeDirection:a,swipeThreshold:c,toastCount:h,viewport:f,onViewportChange:d,onToastAdd:T.useCallback(()=>m(S=>S+1),[]),onToastRemove:T.useCallback(()=>m(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:x,children:u})})};US.displayName=iy;var zS="ToastViewport",tO=["F8"],sm="toast.viewportPause",am="toast.viewportResume",IS=T.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:i=tO,label:a="Notifications ({hotkey})",...c}=t,u=Cf(zS,n),f=J6(n),d=T.useRef(null),h=T.useRef(null),m=T.useRef(null),g=T.useRef(null),x=on(e,g,u.onViewportChange),S=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=u.toastCount>0;T.useEffect(()=>{const M=D=>{i.length!==0&&i.every(k=>D[k]||D.code===k)&&g.current?.focus()};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[i]),T.useEffect(()=>{const M=d.current,D=g.current;if(E&&M&&D){const N=()=>{if(!u.isClosePausedRef.current){const J=new CustomEvent(sm);D.dispatchEvent(J),u.isClosePausedRef.current=!0}},k=()=>{if(u.isClosePausedRef.current){const J=new CustomEvent(am);D.dispatchEvent(J),u.isClosePausedRef.current=!1}},j=J=>{!M.contains(J.relatedTarget)&&k()},Y=()=>{M.contains(document.activeElement)||k()};return M.addEventListener("focusin",N),M.addEventListener("focusout",j),M.addEventListener("pointermove",N),M.addEventListener("pointerleave",Y),window.addEventListener("blur",N),window.addEventListener("focus",k),()=>{M.removeEventListener("focusin",N),M.removeEventListener("focusout",j),M.removeEventListener("pointermove",N),M.removeEventListener("pointerleave",Y),window.removeEventListener("blur",N),window.removeEventListener("focus",k)}}},[E,u.isClosePausedRef]);const C=T.useCallback(({tabbingDirection:M})=>{const N=f().map(k=>{const j=k.ref.current,Y=[j,...pO(j)];return M==="forwards"?Y:Y.reverse()});return(M==="forwards"?N.reverse():N).flat()},[f]);return T.useEffect(()=>{const M=g.current;if(M){const D=N=>{const k=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!k){const Y=document.activeElement,J=N.shiftKey;if(N.target===M&&J){h.current?.focus();return}const me=C({tabbingDirection:J?"backwards":"forwards"}),xe=me.findIndex(ve=>ve===Y);pp(me.slice(xe+1))?N.preventDefault():J?h.current?.focus():m.current?.focus()}};return M.addEventListener("keydown",D),()=>M.removeEventListener("keydown",D)}},[f,C]),b.jsxs(H6,{ref:d,role:"region","aria-label":a.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&b.jsx(om,{ref:h,onFocusFromOutsideViewport:()=>{const M=C({tabbingDirection:"forwards"});pp(M)}}),b.jsx(sy.Slot,{scope:n,children:b.jsx(Ht.ol,{tabIndex:-1,...c,ref:x})}),E&&b.jsx(om,{ref:m,onFocusFromOutsideViewport:()=>{const M=C({tabbingDirection:"backwards"});pp(M)}})]})});IS.displayName=zS;var BS="ToastFocusProxy",om=T.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:i,...a}=t,c=Cf(BS,n);return b.jsx(Ef,{tabIndex:0,...a,ref:e,style:{position:"fixed"},onFocus:u=>{const f=u.relatedTarget;!c.viewport?.contains(f)&&i()}})});om.displayName=BS;var $c="Toast",nO="toast.swipeStart",rO="toast.swipeMove",iO="toast.swipeCancel",sO="toast.swipeEnd",HS=T.forwardRef((t,e)=>{const{forceMount:n,open:i,defaultOpen:a,onOpenChange:c,...u}=t,[f,d]=jS({prop:i,defaultProp:a??!0,onChange:c,caller:$c});return b.jsx(ua,{present:n||f,children:b.jsx(cO,{open:f,...u,ref:e,onClose:()=>d(!1),onPause:Kn(t.onPause),onResume:Kn(t.onResume),onSwipeStart:Ut(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ut(t.onSwipeMove,h=>{const{x:m,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:Ut(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ut(t.onSwipeEnd,h=>{const{x:m,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),d(!1)})})})});HS.displayName=$c;var[aO,oO]=LS($c,{onClose(){}}),cO=T.forwardRef((t,e)=>{const{__scopeToast:n,type:i="foreground",duration:a,open:c,onClose:u,onEscapeKeyDown:f,onPause:d,onResume:h,onSwipeStart:m,onSwipeMove:g,onSwipeCancel:x,onSwipeEnd:S,...E}=t,C=Cf($c,n),[M,D]=T.useState(null),N=on(e,_e=>D(_e)),k=T.useRef(null),j=T.useRef(null),Y=a||C.duration,J=T.useRef(0),V=T.useRef(Y),G=T.useRef(0),{onToastAdd:me,onToastRemove:xe}=C,ve=Kn(()=>{M?.contains(document.activeElement)&&C.viewport?.focus(),u()}),Ee=T.useCallback(_e=>{!_e||_e===1/0||(window.clearTimeout(G.current),J.current=new Date().getTime(),G.current=window.setTimeout(ve,_e))},[ve]);T.useEffect(()=>{const _e=C.viewport;if(_e){const Pe=()=>{Ee(V.current),h?.()},H=()=>{const se=new Date().getTime()-J.current;V.current=V.current-se,window.clearTimeout(G.current),d?.()};return _e.addEventListener(sm,H),_e.addEventListener(am,Pe),()=>{_e.removeEventListener(sm,H),_e.removeEventListener(am,Pe)}}},[C.viewport,Y,d,h,Ee]),T.useEffect(()=>{c&&!C.isClosePausedRef.current&&Ee(Y)},[c,Y,C.isClosePausedRef,Ee]),T.useEffect(()=>(me(),()=>xe()),[me,xe]);const Ye=T.useMemo(()=>M?KS(M):null,[M]);return C.viewport?b.jsxs(b.Fragment,{children:[Ye&&b.jsx(lO,{__scopeToast:n,role:"status","aria-live":i==="foreground"?"assertive":"polite",children:Ye}),b.jsx(aO,{scope:n,onClose:ve,children:Hc.createPortal(b.jsx(sy.ItemSlot,{scope:n,children:b.jsx(B6,{asChild:!0,onEscapeKeyDown:Ut(f,()=>{C.isFocusedToastEscapeKeyDownRef.current||ve(),C.isFocusedToastEscapeKeyDownRef.current=!1}),children:b.jsx(Ht.li,{tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":C.swipeDirection,...E,ref:N,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ut(t.onKeyDown,_e=>{_e.key==="Escape"&&(f?.(_e.nativeEvent),_e.nativeEvent.defaultPrevented||(C.isFocusedToastEscapeKeyDownRef.current=!0,ve()))}),onPointerDown:Ut(t.onPointerDown,_e=>{_e.button===0&&(k.current={x:_e.clientX,y:_e.clientY})}),onPointerMove:Ut(t.onPointerMove,_e=>{if(!k.current)return;const Pe=_e.clientX-k.current.x,H=_e.clientY-k.current.y,se=!!j.current,Z=["left","right"].includes(C.swipeDirection),ke=["left","up"].includes(C.swipeDirection)?Math.min:Math.max,Je=Z?ke(0,Pe):0,z=Z?0:ke(0,H),ee=_e.pointerType==="touch"?10:2,le={x:Je,y:z},pe={originalEvent:_e,delta:le};se?(j.current=le,uu(rO,g,pe,{discrete:!1})):_b(le,C.swipeDirection,ee)?(j.current=le,uu(nO,m,pe,{discrete:!1}),_e.target.setPointerCapture(_e.pointerId)):(Math.abs(Pe)>ee||Math.abs(H)>ee)&&(k.current=null)}),onPointerUp:Ut(t.onPointerUp,_e=>{const Pe=j.current,H=_e.target;if(H.hasPointerCapture(_e.pointerId)&&H.releasePointerCapture(_e.pointerId),j.current=null,k.current=null,Pe){const se=_e.currentTarget,Z={originalEvent:_e,delta:Pe};_b(Pe,C.swipeDirection,C.swipeThreshold)?uu(sO,S,Z,{discrete:!0}):uu(iO,x,Z,{discrete:!0}),se.addEventListener("click",ke=>ke.preventDefault(),{once:!0})}})})})}),C.viewport)})]}):null}),lO=t=>{const{__scopeToast:e,children:n,...i}=t,a=Cf($c,e),[c,u]=T.useState(!1),[f,d]=T.useState(!1);return dO(()=>u(!0)),T.useEffect(()=>{const h=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(h)},[]),f?null:b.jsx(kS,{asChild:!0,children:b.jsx(Ef,{...i,children:c&&b.jsxs(b.Fragment,{children:[a.label," ",n]})})})},uO="ToastTitle",$S=T.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t;return b.jsx(Ht.div,{...i,ref:e})});$S.displayName=uO;var fO="ToastDescription",VS=T.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t;return b.jsx(Ht.div,{...i,ref:e})});VS.displayName=fO;var qS="ToastAction",FS=T.forwardRef((t,e)=>{const{altText:n,...i}=t;return n.trim()?b.jsx(GS,{altText:n,asChild:!0,children:b.jsx(ay,{...i,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${qS}\`. Expected non-empty \`string\`.`),null)});FS.displayName=qS;var YS="ToastClose",ay=T.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t,a=oO(YS,n);return b.jsx(GS,{asChild:!0,children:b.jsx(Ht.button,{type:"button",...i,ref:e,onClick:Ut(t.onClick,a.onClose)})})});ay.displayName=YS;var GS=T.forwardRef((t,e)=>{const{__scopeToast:n,altText:i,...a}=t;return b.jsx(Ht.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...a,ref:e})});function KS(t){const e=[];return Array.from(t.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&e.push(i.textContent),hO(i)){const a=i.ariaHidden||i.hidden||i.style.display==="none",c=i.dataset.radixToastAnnounceExclude==="";if(!a)if(c){const u=i.dataset.radixToastAnnounceAlt;u&&e.push(u)}else e.push(...KS(i))}}),e}function uu(t,e,n,{discrete:i}){const a=n.originalEvent.currentTarget,c=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&a.addEventListener(t,e,{once:!0}),i?MS(a,c):a.dispatchEvent(c)}var _b=(t,e,n=0)=>{const i=Math.abs(t.x),a=Math.abs(t.y),c=i>a;return e==="left"||e==="right"?c&&i>n:!c&&a>n};function dO(t=()=>{}){const e=Kn(t);Lr(()=>{let n=0,i=0;return n=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(i)}},[e])}function hO(t){return t.nodeType===t.ELEMENT_NODE}function pO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const a=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||a?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function pp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var mO=US,XS=IS,QS=HS,ZS=$S,JS=VS,WS=FS,e_=ay;function t_(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=t_(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function n_(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=t_(t))&&(i&&(i+=" "),i+=e);return i}const wb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Eb=n_,Tf=(t,e)=>n=>{var i;if(e?.variants==null)return Eb(t,n?.class,n?.className);const{variants:a,defaultVariants:c}=e,u=Object.keys(a).map(h=>{const m=n?.[h],g=c?.[h];if(m===null)return null;const x=wb(m)||wb(g);return a[h][x]}),f=n&&Object.entries(n).reduce((h,m)=>{let[g,x]=m;return x===void 0||(h[g]=x),h},{}),d=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((h,m)=>{let{class:g,className:x,...S}=m;return Object.entries(S).every(E=>{let[C,M]=E;return Array.isArray(M)?M.includes({...c,...f}[C]):{...c,...f}[C]===M})?[...h,g,x]:h},[]);return Eb(t,u,d,n?.class,n?.className)};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),Cb=t=>{const e=gO(t);return e.charAt(0).toUpperCase()+e.slice(1)},r_=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),vO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:c,iconNode:u,...f},d)=>T.createElement("svg",{ref:d,...xO,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:r_("lucide",a),...!c&&!vO(f)&&{"aria-hidden":"true"},...f},[...u.map(([h,m])=>T.createElement(h,m)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=(t,e)=>{const n=T.forwardRef(({className:i,...a},c)=>T.createElement(bO,{ref:c,iconNode:e,className:r_(`lucide-${yO(Cb(t))}`,`lucide-${t}`,i),...a}));return n.displayName=Cb(t),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_O=Pn("check",SO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],EO=Pn("circle-alert",wO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],TO=Pn("circle-check-big",CO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],AO=Pn("circle-check",RO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],MO=Pn("circle",OO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],i_=Pn("clock",PO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],DO=Pn("copy",NO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],jO=Pn("crown",kO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],oy=Pn("loader-circle",LO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],zO=Pn("message-square",UO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],BO=Pn("moon",IO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],s_=Pn("music",HO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],VO=Pn("pause",$O);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],FO=Pn("play",qO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],a_=Pn("search",YO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],KO=Pn("sun",GO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],cm=Pn("trophy",XO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ZO=Pn("users",QO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],WO=Pn("x",JO),cy="-",eM=t=>{const e=nM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:u=>{const f=u.split(cy);return f[0]===""&&f.length!==1&&f.shift(),o_(f,e)||tM(u)},getConflictingClassGroupIds:(u,f)=>{const d=n[u]||[];return f&&i[u]?[...d,...i[u]]:d}}},o_=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),a=i?o_(t.slice(1),i):void 0;if(a)return a;if(e.validators.length===0)return;const c=t.join(cy);return e.validators.find(({validator:u})=>u(c))?.classGroupId},Tb=/^\[(.+)\]$/,tM=t=>{if(Tb.test(t)){const e=Tb.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},nM=t=>{const{theme:e,classGroups:n}=t,i={nextPart:new Map,validators:[]};for(const a in n)lm(n[a],i,a,e);return i},lm=(t,e,n,i)=>{t.forEach(a=>{if(typeof a=="string"){const c=a===""?e:Rb(e,a);c.classGroupId=n;return}if(typeof a=="function"){if(rM(a)){lm(a(i),e,n,i);return}e.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([c,u])=>{lm(u,Rb(e,c),n,i)})})},Rb=(t,e)=>{let n=t;return e.split(cy).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},rM=t=>t.isThemeGetter,iM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;const a=(c,u)=>{n.set(c,u),e++,e>t&&(e=0,i=n,n=new Map)};return{get(c){let u=n.get(c);if(u!==void 0)return u;if((u=i.get(c))!==void 0)return a(c,u),u},set(c,u){n.has(c)?n.set(c,u):a(c,u)}}},um="!",fm=":",sM=fm.length,aM=t=>{const{prefix:e,experimentalParseClassName:n}=t;let i=a=>{const c=[];let u=0,f=0,d=0,h;for(let E=0;E<a.length;E++){let C=a[E];if(u===0&&f===0){if(C===fm){c.push(a.slice(d,E)),d=E+sM;continue}if(C==="/"){h=E;continue}}C==="["?u++:C==="]"?u--:C==="("?f++:C===")"&&f--}const m=c.length===0?a:a.substring(d),g=oM(m),x=g!==m,S=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:g,maybePostfixModifierPosition:S}};if(e){const a=e+fm,c=i;i=u=>u.startsWith(a)?c(u.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const a=i;i=c=>n({className:c,parseClassName:a})}return i},oM=t=>t.endsWith(um)?t.substring(0,t.length-1):t.startsWith(um)?t.substring(1):t,cM=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const a=[];let c=[];return i.forEach(u=>{u[0]==="["||e[u]?(a.push(...c.sort(),u),c=[]):c.push(u)}),a.push(...c.sort()),a}},lM=t=>({cache:iM(t.cacheSize),parseClassName:aM(t),sortModifiers:cM(t),...eM(t)}),uM=/\s+/,fM=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:c}=e,u=[],f=t.trim().split(uM);let d="";for(let h=f.length-1;h>=0;h-=1){const m=f[h],{isExternal:g,modifiers:x,hasImportantModifier:S,baseClassName:E,maybePostfixModifierPosition:C}=n(m);if(g){d=m+(d.length>0?" "+d:d);continue}let M=!!C,D=i(M?E.substring(0,C):E);if(!D){if(!M){d=m+(d.length>0?" "+d:d);continue}if(D=i(E),!D){d=m+(d.length>0?" "+d:d);continue}M=!1}const N=c(x).join(":"),k=S?N+um:N,j=k+D;if(u.includes(j))continue;u.push(j);const Y=a(D,M);for(let J=0;J<Y.length;++J){const V=Y[J];u.push(k+V)}d=m+(d.length>0?" "+d:d)}return d};function dM(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=c_(e))&&(i&&(i+=" "),i+=n);return i}const c_=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=c_(t[i]))&&(n&&(n+=" "),n+=e);return n};function hM(t,...e){let n,i,a,c=u;function u(d){const h=e.reduce((m,g)=>g(m),t());return n=lM(h),i=n.cache.get,a=n.cache.set,c=f,f(d)}function f(d){const h=i(d);if(h)return h;const m=fM(d,n);return a(d,m),m}return function(){return c(dM.apply(null,arguments))}}const An=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},l_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,u_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,pM=/^\d+\/\d+$/,mM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,vM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Fa=t=>pM.test(t),bt=t=>!!t&&!Number.isNaN(Number(t)),Ss=t=>!!t&&Number.isInteger(Number(t)),mp=t=>t.endsWith("%")&&bt(t.slice(0,-1)),Ui=t=>mM.test(t),bM=()=>!0,SM=t=>yM.test(t)&&!gM.test(t),f_=()=>!1,_M=t=>vM.test(t),wM=t=>xM.test(t),EM=t=>!$e(t)&&!Ve(t),CM=t=>lo(t,p_,f_),$e=t=>l_.test(t),Xs=t=>lo(t,m_,SM),yp=t=>lo(t,MM,bt),Ab=t=>lo(t,d_,f_),TM=t=>lo(t,h_,wM),fu=t=>lo(t,y_,_M),Ve=t=>u_.test(t),lc=t=>uo(t,m_),RM=t=>uo(t,PM),Ob=t=>uo(t,d_),AM=t=>uo(t,p_),OM=t=>uo(t,h_),du=t=>uo(t,y_,!0),lo=(t,e,n)=>{const i=l_.exec(t);return i?i[1]?e(i[1]):n(i[2]):!1},uo=(t,e,n=!1)=>{const i=u_.exec(t);return i?i[1]?e(i[1]):n:!1},d_=t=>t==="position"||t==="percentage",h_=t=>t==="image"||t==="url",p_=t=>t==="length"||t==="size"||t==="bg-size",m_=t=>t==="length",MM=t=>t==="number",PM=t=>t==="family-name",y_=t=>t==="shadow",NM=()=>{const t=An("color"),e=An("font"),n=An("text"),i=An("font-weight"),a=An("tracking"),c=An("leading"),u=An("breakpoint"),f=An("container"),d=An("spacing"),h=An("radius"),m=An("shadow"),g=An("inset-shadow"),x=An("text-shadow"),S=An("drop-shadow"),E=An("blur"),C=An("perspective"),M=An("aspect"),D=An("ease"),N=An("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Y=()=>[...j(),Ve,$e],J=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto","contain","none"],G=()=>[Ve,$e,d],me=()=>[Fa,"full","auto",...G()],xe=()=>[Ss,"none","subgrid",Ve,$e],ve=()=>["auto",{span:["full",Ss,Ve,$e]},Ss,Ve,$e],Ee=()=>[Ss,"auto",Ve,$e],Ye=()=>["auto","min","max","fr",Ve,$e],_e=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Pe=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...G()],se=()=>[Fa,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...G()],Z=()=>[t,Ve,$e],ke=()=>[...j(),Ob,Ab,{position:[Ve,$e]}],Je=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",AM,CM,{size:[Ve,$e]}],ee=()=>[mp,lc,Xs],le=()=>["","none","full",h,Ve,$e],pe=()=>["",bt,lc,Xs],Se=()=>["solid","dashed","dotted","double"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],je=()=>[bt,mp,Ob,Ab],Nt=()=>["","none",E,Ve,$e],I=()=>["none",bt,Ve,$e],K=()=>["none",bt,Ve,$e],fe=()=>[bt,Ve,$e],Ce=()=>[Fa,"full",...G()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ui],breakpoint:[Ui],color:[bM],container:[Ui],"drop-shadow":[Ui],ease:["in","out","in-out"],font:[EM],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ui],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ui],shadow:[Ui],spacing:["px",bt],text:[Ui],"text-shadow":[Ui],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Fa,$e,Ve,M]}],container:["container"],columns:[{columns:[bt,$e,Ve,f]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Y()}],overflow:[{overflow:J()}],"overflow-x":[{"overflow-x":J()}],"overflow-y":[{"overflow-y":J()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:me()}],"inset-x":[{"inset-x":me()}],"inset-y":[{"inset-y":me()}],start:[{start:me()}],end:[{end:me()}],top:[{top:me()}],right:[{right:me()}],bottom:[{bottom:me()}],left:[{left:me()}],visibility:["visible","invisible","collapse"],z:[{z:[Ss,"auto",Ve,$e]}],basis:[{basis:[Fa,"full","auto",f,...G()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[bt,Fa,"auto","initial","none",$e]}],grow:[{grow:["",bt,Ve,$e]}],shrink:[{shrink:["",bt,Ve,$e]}],order:[{order:[Ss,"first","last","none",Ve,$e]}],"grid-cols":[{"grid-cols":xe()}],"col-start-end":[{col:ve()}],"col-start":[{"col-start":Ee()}],"col-end":[{"col-end":Ee()}],"grid-rows":[{"grid-rows":xe()}],"row-start-end":[{row:ve()}],"row-start":[{"row-start":Ee()}],"row-end":[{"row-end":Ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Ye()}],"auto-rows":[{"auto-rows":Ye()}],gap:[{gap:G()}],"gap-x":[{"gap-x":G()}],"gap-y":[{"gap-y":G()}],"justify-content":[{justify:[..._e(),"normal"]}],"justify-items":[{"justify-items":[...Pe(),"normal"]}],"justify-self":[{"justify-self":["auto",...Pe()]}],"align-content":[{content:["normal",..._e()]}],"align-items":[{items:[...Pe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Pe(),{baseline:["","last"]}]}],"place-content":[{"place-content":_e()}],"place-items":[{"place-items":[...Pe(),"baseline"]}],"place-self":[{"place-self":["auto",...Pe()]}],p:[{p:G()}],px:[{px:G()}],py:[{py:G()}],ps:[{ps:G()}],pe:[{pe:G()}],pt:[{pt:G()}],pr:[{pr:G()}],pb:[{pb:G()}],pl:[{pl:G()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":G()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":G()}],"space-y-reverse":["space-y-reverse"],size:[{size:se()}],w:[{w:[f,"screen",...se()]}],"min-w":[{"min-w":[f,"screen","none",...se()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...se()]}],h:[{h:["screen","lh",...se()]}],"min-h":[{"min-h":["screen","lh","none",...se()]}],"max-h":[{"max-h":["screen","lh",...se()]}],"font-size":[{text:["base",n,lc,Xs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Ve,yp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",mp,$e]}],"font-family":[{font:[RM,$e,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ve,$e]}],"line-clamp":[{"line-clamp":[bt,"none",Ve,yp]}],leading:[{leading:[c,...G()]}],"list-image":[{"list-image":["none",Ve,$e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ve,$e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Z()}],"text-color":[{text:Z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Se(),"wavy"]}],"text-decoration-thickness":[{decoration:[bt,"from-font","auto",Ve,Xs]}],"text-decoration-color":[{decoration:Z()}],"underline-offset":[{"underline-offset":[bt,"auto",Ve,$e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve,$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve,$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ke()}],"bg-repeat":[{bg:Je()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ss,Ve,$e],radial:["",Ve,$e],conic:[Ss,Ve,$e]},OM,TM]}],"bg-color":[{bg:Z()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:Z()}],"gradient-via":[{via:Z()}],"gradient-to":[{to:Z()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:pe()}],"border-w-x":[{"border-x":pe()}],"border-w-y":[{"border-y":pe()}],"border-w-s":[{"border-s":pe()}],"border-w-e":[{"border-e":pe()}],"border-w-t":[{"border-t":pe()}],"border-w-r":[{"border-r":pe()}],"border-w-b":[{"border-b":pe()}],"border-w-l":[{"border-l":pe()}],"divide-x":[{"divide-x":pe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":pe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Se(),"hidden","none"]}],"divide-style":[{divide:[...Se(),"hidden","none"]}],"border-color":[{border:Z()}],"border-color-x":[{"border-x":Z()}],"border-color-y":[{"border-y":Z()}],"border-color-s":[{"border-s":Z()}],"border-color-e":[{"border-e":Z()}],"border-color-t":[{"border-t":Z()}],"border-color-r":[{"border-r":Z()}],"border-color-b":[{"border-b":Z()}],"border-color-l":[{"border-l":Z()}],"divide-color":[{divide:Z()}],"outline-style":[{outline:[...Se(),"none","hidden"]}],"outline-offset":[{"outline-offset":[bt,Ve,$e]}],"outline-w":[{outline:["",bt,lc,Xs]}],"outline-color":[{outline:Z()}],shadow:[{shadow:["","none",m,du,fu]}],"shadow-color":[{shadow:Z()}],"inset-shadow":[{"inset-shadow":["none",g,du,fu]}],"inset-shadow-color":[{"inset-shadow":Z()}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Z()}],"ring-offset-w":[{"ring-offset":[bt,Xs]}],"ring-offset-color":[{"ring-offset":Z()}],"inset-ring-w":[{"inset-ring":pe()}],"inset-ring-color":[{"inset-ring":Z()}],"text-shadow":[{"text-shadow":["none",x,du,fu]}],"text-shadow-color":[{"text-shadow":Z()}],opacity:[{opacity:[bt,Ve,$e]}],"mix-blend":[{"mix-blend":[...Te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[bt]}],"mask-image-linear-from-pos":[{"mask-linear-from":je()}],"mask-image-linear-to-pos":[{"mask-linear-to":je()}],"mask-image-linear-from-color":[{"mask-linear-from":Z()}],"mask-image-linear-to-color":[{"mask-linear-to":Z()}],"mask-image-t-from-pos":[{"mask-t-from":je()}],"mask-image-t-to-pos":[{"mask-t-to":je()}],"mask-image-t-from-color":[{"mask-t-from":Z()}],"mask-image-t-to-color":[{"mask-t-to":Z()}],"mask-image-r-from-pos":[{"mask-r-from":je()}],"mask-image-r-to-pos":[{"mask-r-to":je()}],"mask-image-r-from-color":[{"mask-r-from":Z()}],"mask-image-r-to-color":[{"mask-r-to":Z()}],"mask-image-b-from-pos":[{"mask-b-from":je()}],"mask-image-b-to-pos":[{"mask-b-to":je()}],"mask-image-b-from-color":[{"mask-b-from":Z()}],"mask-image-b-to-color":[{"mask-b-to":Z()}],"mask-image-l-from-pos":[{"mask-l-from":je()}],"mask-image-l-to-pos":[{"mask-l-to":je()}],"mask-image-l-from-color":[{"mask-l-from":Z()}],"mask-image-l-to-color":[{"mask-l-to":Z()}],"mask-image-x-from-pos":[{"mask-x-from":je()}],"mask-image-x-to-pos":[{"mask-x-to":je()}],"mask-image-x-from-color":[{"mask-x-from":Z()}],"mask-image-x-to-color":[{"mask-x-to":Z()}],"mask-image-y-from-pos":[{"mask-y-from":je()}],"mask-image-y-to-pos":[{"mask-y-to":je()}],"mask-image-y-from-color":[{"mask-y-from":Z()}],"mask-image-y-to-color":[{"mask-y-to":Z()}],"mask-image-radial":[{"mask-radial":[Ve,$e]}],"mask-image-radial-from-pos":[{"mask-radial-from":je()}],"mask-image-radial-to-pos":[{"mask-radial-to":je()}],"mask-image-radial-from-color":[{"mask-radial-from":Z()}],"mask-image-radial-to-color":[{"mask-radial-to":Z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[bt]}],"mask-image-conic-from-pos":[{"mask-conic-from":je()}],"mask-image-conic-to-pos":[{"mask-conic-to":je()}],"mask-image-conic-from-color":[{"mask-conic-from":Z()}],"mask-image-conic-to-color":[{"mask-conic-to":Z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ke()}],"mask-repeat":[{mask:Je()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ve,$e]}],filter:[{filter:["","none",Ve,$e]}],blur:[{blur:Nt()}],brightness:[{brightness:[bt,Ve,$e]}],contrast:[{contrast:[bt,Ve,$e]}],"drop-shadow":[{"drop-shadow":["","none",S,du,fu]}],"drop-shadow-color":[{"drop-shadow":Z()}],grayscale:[{grayscale:["",bt,Ve,$e]}],"hue-rotate":[{"hue-rotate":[bt,Ve,$e]}],invert:[{invert:["",bt,Ve,$e]}],saturate:[{saturate:[bt,Ve,$e]}],sepia:[{sepia:["",bt,Ve,$e]}],"backdrop-filter":[{"backdrop-filter":["","none",Ve,$e]}],"backdrop-blur":[{"backdrop-blur":Nt()}],"backdrop-brightness":[{"backdrop-brightness":[bt,Ve,$e]}],"backdrop-contrast":[{"backdrop-contrast":[bt,Ve,$e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",bt,Ve,$e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[bt,Ve,$e]}],"backdrop-invert":[{"backdrop-invert":["",bt,Ve,$e]}],"backdrop-opacity":[{"backdrop-opacity":[bt,Ve,$e]}],"backdrop-saturate":[{"backdrop-saturate":[bt,Ve,$e]}],"backdrop-sepia":[{"backdrop-sepia":["",bt,Ve,$e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":G()}],"border-spacing-x":[{"border-spacing-x":G()}],"border-spacing-y":[{"border-spacing-y":G()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ve,$e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[bt,"initial",Ve,$e]}],ease:[{ease:["linear","initial",D,Ve,$e]}],delay:[{delay:[bt,Ve,$e]}],animate:[{animate:["none",N,Ve,$e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,Ve,$e]}],"perspective-origin":[{"perspective-origin":Y()}],rotate:[{rotate:I()}],"rotate-x":[{"rotate-x":I()}],"rotate-y":[{"rotate-y":I()}],"rotate-z":[{"rotate-z":I()}],scale:[{scale:K()}],"scale-x":[{"scale-x":K()}],"scale-y":[{"scale-y":K()}],"scale-z":[{"scale-z":K()}],"scale-3d":["scale-3d"],skew:[{skew:fe()}],"skew-x":[{"skew-x":fe()}],"skew-y":[{"skew-y":fe()}],transform:[{transform:[Ve,$e,"","none","gpu","cpu"]}],"transform-origin":[{origin:Y()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ce()}],"translate-x":[{"translate-x":Ce()}],"translate-y":[{"translate-y":Ce()}],"translate-z":[{"translate-z":Ce()}],"translate-none":["translate-none"],accent:[{accent:Z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve,$e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve,$e]}],fill:[{fill:["none",...Z()]}],"stroke-w":[{stroke:[bt,lc,Xs,yp]}],stroke:[{stroke:["none",...Z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},DM=hM(NM);function Ft(...t){return DM(n_(t))}const kM=mO,g_=T.forwardRef(({className:t,...e},n)=>b.jsx(XS,{ref:n,className:Ft("fixed top-0 z-100 flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));g_.displayName=XS.displayName;const jM=Tf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-(--radix-toast-swipe-end-x) data-[swipe=move]:translate-x-(--radix-toast-swipe-move-x) data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),v_=T.forwardRef(({className:t,variant:e,...n},i)=>b.jsx(QS,{ref:i,className:Ft(jM({variant:e}),t),...n}));v_.displayName=QS.displayName;const LM=T.forwardRef(({className:t,...e},n)=>b.jsx(WS,{ref:n,className:Ft("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));LM.displayName=WS.displayName;const x_=T.forwardRef(({className:t,...e},n)=>b.jsx(e_,{ref:n,className:Ft("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:b.jsx(WO,{className:"h-4 w-4"})}));x_.displayName=e_.displayName;const b_=T.forwardRef(({className:t,...e},n)=>b.jsx(ZS,{ref:n,className:Ft("text-sm font-semibold",t),...e}));b_.displayName=ZS.displayName;const S_=T.forwardRef(({className:t,...e},n)=>b.jsx(JS,{ref:n,className:Ft("text-sm opacity-90",t),...e}));S_.displayName=JS.displayName;function UM(){const{toasts:t}=TS();return b.jsxs(kM,{children:[t.map(({id:e,title:n,description:i,action:a,...c})=>b.jsxs(v_,{...c,children:[b.jsxs("div",{className:"grid gap-1",children:[n&&b.jsx(b_,{children:n}),i&&b.jsx(S_,{children:i})]}),a,b.jsx(x_,{})]},e)),b.jsx(g_,{})]})}const zM=["top","right","bottom","left"],As=Math.min,xr=Math.max,Qu=Math.round,hu=Math.floor,ci=t=>({x:t,y:t}),IM={left:"right",right:"left",bottom:"top",top:"bottom"},BM={start:"end",end:"start"};function dm(t,e,n){return xr(t,As(e,n))}function Gi(t,e){return typeof t=="function"?t(e):t}function Ki(t){return t.split("-")[0]}function fo(t){return t.split("-")[1]}function ly(t){return t==="x"?"y":"x"}function uy(t){return t==="y"?"height":"width"}const HM=new Set(["top","bottom"]);function ai(t){return HM.has(Ki(t))?"y":"x"}function fy(t){return ly(ai(t))}function $M(t,e,n){n===void 0&&(n=!1);const i=fo(t),a=fy(t),c=uy(a);let u=a==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[c]>e.floating[c]&&(u=Zu(u)),[u,Zu(u)]}function VM(t){const e=Zu(t);return[hm(t),e,hm(e)]}function hm(t){return t.replace(/start|end/g,e=>BM[e])}const Mb=["left","right"],Pb=["right","left"],qM=["top","bottom"],FM=["bottom","top"];function YM(t,e,n){switch(t){case"top":case"bottom":return n?e?Pb:Mb:e?Mb:Pb;case"left":case"right":return e?qM:FM;default:return[]}}function GM(t,e,n,i){const a=fo(t);let c=YM(Ki(t),n==="start",i);return a&&(c=c.map(u=>u+"-"+a),e&&(c=c.concat(c.map(hm)))),c}function Zu(t){return t.replace(/left|right|bottom|top/g,e=>IM[e])}function KM(t){return{top:0,right:0,bottom:0,left:0,...t}}function __(t){return typeof t!="number"?KM(t):{top:t,right:t,bottom:t,left:t}}function Ju(t){const{x:e,y:n,width:i,height:a}=t;return{width:i,height:a,top:n,left:e,right:e+i,bottom:n+a,x:e,y:n}}function Nb(t,e,n){let{reference:i,floating:a}=t;const c=ai(e),u=fy(e),f=uy(u),d=Ki(e),h=c==="y",m=i.x+i.width/2-a.width/2,g=i.y+i.height/2-a.height/2,x=i[f]/2-a[f]/2;let S;switch(d){case"top":S={x:m,y:i.y-a.height};break;case"bottom":S={x:m,y:i.y+i.height};break;case"right":S={x:i.x+i.width,y:g};break;case"left":S={x:i.x-a.width,y:g};break;default:S={x:i.x,y:i.y}}switch(fo(e)){case"start":S[u]-=x*(n&&h?-1:1);break;case"end":S[u]+=x*(n&&h?-1:1);break}return S}const XM=async(t,e,n)=>{const{placement:i="bottom",strategy:a="absolute",middleware:c=[],platform:u}=n,f=c.filter(Boolean),d=await(u.isRTL==null?void 0:u.isRTL(e));let h=await u.getElementRects({reference:t,floating:e,strategy:a}),{x:m,y:g}=Nb(h,i,d),x=i,S={},E=0;for(let C=0;C<f.length;C++){const{name:M,fn:D}=f[C],{x:N,y:k,data:j,reset:Y}=await D({x:m,y:g,initialPlacement:i,placement:x,strategy:a,middlewareData:S,rects:h,platform:u,elements:{reference:t,floating:e}});m=N??m,g=k??g,S={...S,[M]:{...S[M],...j}},Y&&E<=50&&(E++,typeof Y=="object"&&(Y.placement&&(x=Y.placement),Y.rects&&(h=Y.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:a}):Y.rects),{x:m,y:g}=Nb(h,x,d)),C=-1)}return{x:m,y:g,placement:x,strategy:a,middlewareData:S}};async function Mc(t,e){var n;e===void 0&&(e={});const{x:i,y:a,platform:c,rects:u,elements:f,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:x=!1,padding:S=0}=Gi(e,t),E=__(S),M=f[x?g==="floating"?"reference":"floating":g],D=Ju(await c.getClippingRect({element:(n=await(c.isElement==null?void 0:c.isElement(M)))==null||n?M:M.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:h,rootBoundary:m,strategy:d})),N=g==="floating"?{x:i,y:a,width:u.floating.width,height:u.floating.height}:u.reference,k=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),j=await(c.isElement==null?void 0:c.isElement(k))?await(c.getScale==null?void 0:c.getScale(k))||{x:1,y:1}:{x:1,y:1},Y=Ju(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:N,offsetParent:k,strategy:d}):N);return{top:(D.top-Y.top+E.top)/j.y,bottom:(Y.bottom-D.bottom+E.bottom)/j.y,left:(D.left-Y.left+E.left)/j.x,right:(Y.right-D.right+E.right)/j.x}}const QM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:a,rects:c,platform:u,elements:f,middlewareData:d}=e,{element:h,padding:m=0}=Gi(t,e)||{};if(h==null)return{};const g=__(m),x={x:n,y:i},S=fy(a),E=uy(S),C=await u.getDimensions(h),M=S==="y",D=M?"top":"left",N=M?"bottom":"right",k=M?"clientHeight":"clientWidth",j=c.reference[E]+c.reference[S]-x[S]-c.floating[E],Y=x[S]-c.reference[S],J=await(u.getOffsetParent==null?void 0:u.getOffsetParent(h));let V=J?J[k]:0;(!V||!await(u.isElement==null?void 0:u.isElement(J)))&&(V=f.floating[k]||c.floating[E]);const G=j/2-Y/2,me=V/2-C[E]/2-1,xe=As(g[D],me),ve=As(g[N],me),Ee=xe,Ye=V-C[E]-ve,_e=V/2-C[E]/2+G,Pe=dm(Ee,_e,Ye),H=!d.arrow&&fo(a)!=null&&_e!==Pe&&c.reference[E]/2-(_e<Ee?xe:ve)-C[E]/2<0,se=H?_e<Ee?_e-Ee:_e-Ye:0;return{[S]:x[S]+se,data:{[S]:Pe,centerOffset:_e-Pe-se,...H&&{alignmentOffset:se}},reset:H}}}),ZM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:a,middlewareData:c,rects:u,initialPlacement:f,platform:d,elements:h}=e,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:x,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:C=!0,...M}=Gi(t,e);if((n=c.arrow)!=null&&n.alignmentOffset)return{};const D=Ki(a),N=ai(f),k=Ki(f)===f,j=await(d.isRTL==null?void 0:d.isRTL(h.floating)),Y=x||(k||!C?[Zu(f)]:VM(f)),J=E!=="none";!x&&J&&Y.push(...GM(f,C,E,j));const V=[f,...Y],G=await Mc(e,M),me=[];let xe=((i=c.flip)==null?void 0:i.overflows)||[];if(m&&me.push(G[D]),g){const _e=$M(a,u,j);me.push(G[_e[0]],G[_e[1]])}if(xe=[...xe,{placement:a,overflows:me}],!me.every(_e=>_e<=0)){var ve,Ee;const _e=(((ve=c.flip)==null?void 0:ve.index)||0)+1,Pe=V[_e];if(Pe&&(!(g==="alignment"?N!==ai(Pe):!1)||xe.every(Z=>ai(Z.placement)===N?Z.overflows[0]>0:!0)))return{data:{index:_e,overflows:xe},reset:{placement:Pe}};let H=(Ee=xe.filter(se=>se.overflows[0]<=0).sort((se,Z)=>se.overflows[1]-Z.overflows[1])[0])==null?void 0:Ee.placement;if(!H)switch(S){case"bestFit":{var Ye;const se=(Ye=xe.filter(Z=>{if(J){const ke=ai(Z.placement);return ke===N||ke==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(ke=>ke>0).reduce((ke,Je)=>ke+Je,0)]).sort((Z,ke)=>Z[1]-ke[1])[0])==null?void 0:Ye[0];se&&(H=se);break}case"initialPlacement":H=f;break}if(a!==H)return{reset:{placement:H}}}return{}}}};function Db(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function kb(t){return zM.some(e=>t[e]>=0)}const JM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...a}=Gi(t,e);switch(i){case"referenceHidden":{const c=await Mc(e,{...a,elementContext:"reference"}),u=Db(c,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:kb(u)}}}case"escaped":{const c=await Mc(e,{...a,altBoundary:!0}),u=Db(c,n.floating);return{data:{escapedOffsets:u,escaped:kb(u)}}}default:return{}}}}},w_=new Set(["left","top"]);async function WM(t,e){const{placement:n,platform:i,elements:a}=t,c=await(i.isRTL==null?void 0:i.isRTL(a.floating)),u=Ki(n),f=fo(n),d=ai(n)==="y",h=w_.has(u)?-1:1,m=c&&d?-1:1,g=Gi(e,t);let{mainAxis:x,crossAxis:S,alignmentAxis:E}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return f&&typeof E=="number"&&(S=f==="end"?E*-1:E),d?{x:S*m,y:x*h}:{x:x*h,y:S*m}}const e3=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:a,y:c,placement:u,middlewareData:f}=e,d=await WM(e,t);return u===((n=f.offset)==null?void 0:n.placement)&&(i=f.arrow)!=null&&i.alignmentOffset?{}:{x:a+d.x,y:c+d.y,data:{...d,placement:u}}}}},t3=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:a}=e,{mainAxis:c=!0,crossAxis:u=!1,limiter:f={fn:M=>{let{x:D,y:N}=M;return{x:D,y:N}}},...d}=Gi(t,e),h={x:n,y:i},m=await Mc(e,d),g=ai(Ki(a)),x=ly(g);let S=h[x],E=h[g];if(c){const M=x==="y"?"top":"left",D=x==="y"?"bottom":"right",N=S+m[M],k=S-m[D];S=dm(N,S,k)}if(u){const M=g==="y"?"top":"left",D=g==="y"?"bottom":"right",N=E+m[M],k=E-m[D];E=dm(N,E,k)}const C=f.fn({...e,[x]:S,[g]:E});return{...C,data:{x:C.x-n,y:C.y-i,enabled:{[x]:c,[g]:u}}}}}},n3=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:a,rects:c,middlewareData:u}=e,{offset:f=0,mainAxis:d=!0,crossAxis:h=!0}=Gi(t,e),m={x:n,y:i},g=ai(a),x=ly(g);let S=m[x],E=m[g];const C=Gi(f,e),M=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(d){const k=x==="y"?"height":"width",j=c.reference[x]-c.floating[k]+M.mainAxis,Y=c.reference[x]+c.reference[k]-M.mainAxis;S<j?S=j:S>Y&&(S=Y)}if(h){var D,N;const k=x==="y"?"width":"height",j=w_.has(Ki(a)),Y=c.reference[g]-c.floating[k]+(j&&((D=u.offset)==null?void 0:D[g])||0)+(j?0:M.crossAxis),J=c.reference[g]+c.reference[k]+(j?0:((N=u.offset)==null?void 0:N[g])||0)-(j?M.crossAxis:0);E<Y?E=Y:E>J&&(E=J)}return{[x]:S,[g]:E}}}},r3=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:a,rects:c,platform:u,elements:f}=e,{apply:d=()=>{},...h}=Gi(t,e),m=await Mc(e,h),g=Ki(a),x=fo(a),S=ai(a)==="y",{width:E,height:C}=c.floating;let M,D;g==="top"||g==="bottom"?(M=g,D=x===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(D=g,M=x==="end"?"top":"bottom");const N=C-m.top-m.bottom,k=E-m.left-m.right,j=As(C-m[M],N),Y=As(E-m[D],k),J=!e.middlewareData.shift;let V=j,G=Y;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(G=k),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(V=N),J&&!x){const xe=xr(m.left,0),ve=xr(m.right,0),Ee=xr(m.top,0),Ye=xr(m.bottom,0);S?G=E-2*(xe!==0||ve!==0?xe+ve:xr(m.left,m.right)):V=C-2*(Ee!==0||Ye!==0?Ee+Ye:xr(m.top,m.bottom))}await d({...e,availableWidth:G,availableHeight:V});const me=await u.getDimensions(f.floating);return E!==me.width||C!==me.height?{reset:{rects:!0}}:{}}}};function Rf(){return typeof window<"u"}function ho(t){return E_(t)?(t.nodeName||"").toLowerCase():"#document"}function br(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function pi(t){var e;return(e=(E_(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function E_(t){return Rf()?t instanceof Node||t instanceof br(t).Node:!1}function Kr(t){return Rf()?t instanceof Element||t instanceof br(t).Element:!1}function di(t){return Rf()?t instanceof HTMLElement||t instanceof br(t).HTMLElement:!1}function jb(t){return!Rf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof br(t).ShadowRoot}const i3=new Set(["inline","contents"]);function Vc(t){const{overflow:e,overflowX:n,overflowY:i,display:a}=Xr(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!i3.has(a)}const s3=new Set(["table","td","th"]);function a3(t){return s3.has(ho(t))}const o3=[":popover-open",":modal"];function Af(t){return o3.some(e=>{try{return t.matches(e)}catch{return!1}})}const c3=["transform","translate","scale","rotate","perspective"],l3=["transform","translate","scale","rotate","perspective","filter"],u3=["paint","layout","strict","content"];function dy(t){const e=hy(),n=Kr(t)?Xr(t):t;return c3.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||l3.some(i=>(n.willChange||"").includes(i))||u3.some(i=>(n.contain||"").includes(i))}function f3(t){let e=Os(t);for(;di(e)&&!io(e);){if(dy(e))return e;if(Af(e))return null;e=Os(e)}return null}function hy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const d3=new Set(["html","body","#document"]);function io(t){return d3.has(ho(t))}function Xr(t){return br(t).getComputedStyle(t)}function Of(t){return Kr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Os(t){if(ho(t)==="html")return t;const e=t.assignedSlot||t.parentNode||jb(t)&&t.host||pi(t);return jb(e)?e.host:e}function C_(t){const e=Os(t);return io(e)?t.ownerDocument?t.ownerDocument.body:t.body:di(e)&&Vc(e)?e:C_(e)}function Pc(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const a=C_(t),c=a===((i=t.ownerDocument)==null?void 0:i.body),u=br(a);if(c){const f=pm(u);return e.concat(u,u.visualViewport||[],Vc(a)?a:[],f&&n?Pc(f):[])}return e.concat(a,Pc(a,[],n))}function pm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function T_(t){const e=Xr(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const a=di(t),c=a?t.offsetWidth:n,u=a?t.offsetHeight:i,f=Qu(n)!==c||Qu(i)!==u;return f&&(n=c,i=u),{width:n,height:i,$:f}}function py(t){return Kr(t)?t:t.contextElement}function Qa(t){const e=py(t);if(!di(e))return ci(1);const n=e.getBoundingClientRect(),{width:i,height:a,$:c}=T_(e);let u=(c?Qu(n.width):n.width)/i,f=(c?Qu(n.height):n.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const h3=ci(0);function R_(t){const e=br(t);return!hy()||!e.visualViewport?h3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function p3(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==br(t)?!1:e}function ca(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),c=py(t);let u=ci(1);e&&(i?Kr(i)&&(u=Qa(i)):u=Qa(t));const f=p3(c,n,i)?R_(c):ci(0);let d=(a.left+f.x)/u.x,h=(a.top+f.y)/u.y,m=a.width/u.x,g=a.height/u.y;if(c){const x=br(c),S=i&&Kr(i)?br(i):i;let E=x,C=pm(E);for(;C&&i&&S!==E;){const M=Qa(C),D=C.getBoundingClientRect(),N=Xr(C),k=D.left+(C.clientLeft+parseFloat(N.paddingLeft))*M.x,j=D.top+(C.clientTop+parseFloat(N.paddingTop))*M.y;d*=M.x,h*=M.y,m*=M.x,g*=M.y,d+=k,h+=j,E=br(C),C=pm(E)}}return Ju({width:m,height:g,x:d,y:h})}function Mf(t,e){const n=Of(t).scrollLeft;return e?e.left+n:ca(pi(t)).left+n}function A_(t,e){const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-Mf(t,n),a=n.top+e.scrollTop;return{x:i,y:a}}function m3(t){let{elements:e,rect:n,offsetParent:i,strategy:a}=t;const c=a==="fixed",u=pi(i),f=e?Af(e.floating):!1;if(i===u||f&&c)return n;let d={scrollLeft:0,scrollTop:0},h=ci(1);const m=ci(0),g=di(i);if((g||!g&&!c)&&((ho(i)!=="body"||Vc(u))&&(d=Of(i)),di(i))){const S=ca(i);h=Qa(i),m.x=S.x+i.clientLeft,m.y=S.y+i.clientTop}const x=u&&!g&&!c?A_(u,d):ci(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-d.scrollLeft*h.x+m.x+x.x,y:n.y*h.y-d.scrollTop*h.y+m.y+x.y}}function y3(t){return Array.from(t.getClientRects())}function g3(t){const e=pi(t),n=Of(t),i=t.ownerDocument.body,a=xr(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),c=xr(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let u=-n.scrollLeft+Mf(t);const f=-n.scrollTop;return Xr(i).direction==="rtl"&&(u+=xr(e.clientWidth,i.clientWidth)-a),{width:a,height:c,x:u,y:f}}const Lb=25;function v3(t,e){const n=br(t),i=pi(t),a=n.visualViewport;let c=i.clientWidth,u=i.clientHeight,f=0,d=0;if(a){c=a.width,u=a.height;const m=hy();(!m||m&&e==="fixed")&&(f=a.offsetLeft,d=a.offsetTop)}const h=Mf(i);if(h<=0){const m=i.ownerDocument,g=m.body,x=getComputedStyle(g),S=m.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,E=Math.abs(i.clientWidth-g.clientWidth-S);E<=Lb&&(c-=E)}else h<=Lb&&(c+=h);return{width:c,height:u,x:f,y:d}}const x3=new Set(["absolute","fixed"]);function b3(t,e){const n=ca(t,!0,e==="fixed"),i=n.top+t.clientTop,a=n.left+t.clientLeft,c=di(t)?Qa(t):ci(1),u=t.clientWidth*c.x,f=t.clientHeight*c.y,d=a*c.x,h=i*c.y;return{width:u,height:f,x:d,y:h}}function Ub(t,e,n){let i;if(e==="viewport")i=v3(t,n);else if(e==="document")i=g3(pi(t));else if(Kr(e))i=b3(e,n);else{const a=R_(t);i={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Ju(i)}function O_(t,e){const n=Os(t);return n===e||!Kr(n)||io(n)?!1:Xr(n).position==="fixed"||O_(n,e)}function S3(t,e){const n=e.get(t);if(n)return n;let i=Pc(t,[],!1).filter(f=>Kr(f)&&ho(f)!=="body"),a=null;const c=Xr(t).position==="fixed";let u=c?Os(t):t;for(;Kr(u)&&!io(u);){const f=Xr(u),d=dy(u);!d&&f.position==="fixed"&&(a=null),(c?!d&&!a:!d&&f.position==="static"&&!!a&&x3.has(a.position)||Vc(u)&&!d&&O_(t,u))?i=i.filter(m=>m!==u):a=f,u=Os(u)}return e.set(t,i),i}function _3(t){let{element:e,boundary:n,rootBoundary:i,strategy:a}=t;const u=[...n==="clippingAncestors"?Af(e)?[]:S3(e,this._c):[].concat(n),i],f=u[0],d=u.reduce((h,m)=>{const g=Ub(e,m,a);return h.top=xr(g.top,h.top),h.right=As(g.right,h.right),h.bottom=As(g.bottom,h.bottom),h.left=xr(g.left,h.left),h},Ub(e,f,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function w3(t){const{width:e,height:n}=T_(t);return{width:e,height:n}}function E3(t,e,n){const i=di(e),a=pi(e),c=n==="fixed",u=ca(t,!0,c,e);let f={scrollLeft:0,scrollTop:0};const d=ci(0);function h(){d.x=Mf(a)}if(i||!i&&!c)if((ho(e)!=="body"||Vc(a))&&(f=Of(e)),i){const S=ca(e,!0,c,e);d.x=S.x+e.clientLeft,d.y=S.y+e.clientTop}else a&&h();c&&!i&&a&&h();const m=a&&!i&&!c?A_(a,f):ci(0),g=u.left+f.scrollLeft-d.x-m.x,x=u.top+f.scrollTop-d.y-m.y;return{x:g,y:x,width:u.width,height:u.height}}function gp(t){return Xr(t).position==="static"}function zb(t,e){if(!di(t)||Xr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return pi(t)===n&&(n=n.ownerDocument.body),n}function M_(t,e){const n=br(t);if(Af(t))return n;if(!di(t)){let a=Os(t);for(;a&&!io(a);){if(Kr(a)&&!gp(a))return a;a=Os(a)}return n}let i=zb(t,e);for(;i&&a3(i)&&gp(i);)i=zb(i,e);return i&&io(i)&&gp(i)&&!dy(i)?n:i||f3(t)||n}const C3=async function(t){const e=this.getOffsetParent||M_,n=this.getDimensions,i=await n(t.floating);return{reference:E3(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function T3(t){return Xr(t).direction==="rtl"}const R3={convertOffsetParentRelativeRectToViewportRelativeRect:m3,getDocumentElement:pi,getClippingRect:_3,getOffsetParent:M_,getElementRects:C3,getClientRects:y3,getDimensions:w3,getScale:Qa,isElement:Kr,isRTL:T3};function P_(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function A3(t,e){let n=null,i;const a=pi(t);function c(){var f;clearTimeout(i),(f=n)==null||f.disconnect(),n=null}function u(f,d){f===void 0&&(f=!1),d===void 0&&(d=1),c();const h=t.getBoundingClientRect(),{left:m,top:g,width:x,height:S}=h;if(f||e(),!x||!S)return;const E=hu(g),C=hu(a.clientWidth-(m+x)),M=hu(a.clientHeight-(g+S)),D=hu(m),k={rootMargin:-E+"px "+-C+"px "+-M+"px "+-D+"px",threshold:xr(0,As(1,d))||1};let j=!0;function Y(J){const V=J[0].intersectionRatio;if(V!==d){if(!j)return u();V?u(!1,V):i=setTimeout(()=>{u(!1,1e-7)},1e3)}V===1&&!P_(h,t.getBoundingClientRect())&&u(),j=!1}try{n=new IntersectionObserver(Y,{...k,root:a.ownerDocument})}catch{n=new IntersectionObserver(Y,k)}n.observe(t)}return u(!0),c}function O3(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:d=!1}=i,h=py(t),m=a||c?[...h?Pc(h):[],...Pc(e)]:[];m.forEach(D=>{a&&D.addEventListener("scroll",n,{passive:!0}),c&&D.addEventListener("resize",n)});const g=h&&f?A3(h,n):null;let x=-1,S=null;u&&(S=new ResizeObserver(D=>{let[N]=D;N&&N.target===h&&S&&(S.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var k;(k=S)==null||k.observe(e)})),n()}),h&&!d&&S.observe(h),S.observe(e));let E,C=d?ca(t):null;d&&M();function M(){const D=ca(t);C&&!P_(C,D)&&n(),C=D,E=requestAnimationFrame(M)}return n(),()=>{var D;m.forEach(N=>{a&&N.removeEventListener("scroll",n),c&&N.removeEventListener("resize",n)}),g?.(),(D=S)==null||D.disconnect(),S=null,d&&cancelAnimationFrame(E)}}const M3=e3,P3=t3,N3=ZM,D3=r3,k3=JM,Ib=QM,j3=n3,L3=(t,e,n)=>{const i=new Map,a={platform:R3,...n},c={...a.platform,_c:i};return XM(t,e,{...a,platform:c})};var U3=typeof document<"u",z3=function(){},Au=U3?T.useLayoutEffect:z3;function Wu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!Wu(t[i],e[i]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,a[i]))return!1;for(i=n;i--!==0;){const c=a[i];if(!(c==="_owner"&&t.$$typeof)&&!Wu(t[c],e[c]))return!1}return!0}return t!==t&&e!==e}function N_(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Bb(t,e){const n=N_(t);return Math.round(e*n)/n}function vp(t){const e=T.useRef(t);return Au(()=>{e.current=t}),e}function I3(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:a,elements:{reference:c,floating:u}={},transform:f=!0,whileElementsMounted:d,open:h}=t,[m,g]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[x,S]=T.useState(i);Wu(x,i)||S(i);const[E,C]=T.useState(null),[M,D]=T.useState(null),N=T.useCallback(Z=>{Z!==J.current&&(J.current=Z,C(Z))},[]),k=T.useCallback(Z=>{Z!==V.current&&(V.current=Z,D(Z))},[]),j=c||E,Y=u||M,J=T.useRef(null),V=T.useRef(null),G=T.useRef(m),me=d!=null,xe=vp(d),ve=vp(a),Ee=vp(h),Ye=T.useCallback(()=>{if(!J.current||!V.current)return;const Z={placement:e,strategy:n,middleware:x};ve.current&&(Z.platform=ve.current),L3(J.current,V.current,Z).then(ke=>{const Je={...ke,isPositioned:Ee.current!==!1};_e.current&&!Wu(G.current,Je)&&(G.current=Je,Hc.flushSync(()=>{g(Je)}))})},[x,e,n,ve,Ee]);Au(()=>{h===!1&&G.current.isPositioned&&(G.current.isPositioned=!1,g(Z=>({...Z,isPositioned:!1})))},[h]);const _e=T.useRef(!1);Au(()=>(_e.current=!0,()=>{_e.current=!1}),[]),Au(()=>{if(j&&(J.current=j),Y&&(V.current=Y),j&&Y){if(xe.current)return xe.current(j,Y,Ye);Ye()}},[j,Y,Ye,xe,me]);const Pe=T.useMemo(()=>({reference:J,floating:V,setReference:N,setFloating:k}),[N,k]),H=T.useMemo(()=>({reference:j,floating:Y}),[j,Y]),se=T.useMemo(()=>{const Z={position:n,left:0,top:0};if(!H.floating)return Z;const ke=Bb(H.floating,m.x),Je=Bb(H.floating,m.y);return f?{...Z,transform:"translate("+ke+"px, "+Je+"px)",...N_(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ke,top:Je}},[n,f,H.floating,m.x,m.y]);return T.useMemo(()=>({...m,update:Ye,refs:Pe,elements:H,floatingStyles:se}),[m,Ye,Pe,H,se])}const B3=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:a}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?Ib({element:i.current,padding:a}).fn(n):{}:i?Ib({element:i,padding:a}).fn(n):{}}}},H3=(t,e)=>({...M3(t),options:[t,e]}),$3=(t,e)=>({...P3(t),options:[t,e]}),V3=(t,e)=>({...j3(t),options:[t,e]}),q3=(t,e)=>({...N3(t),options:[t,e]}),F3=(t,e)=>({...D3(t),options:[t,e]}),Y3=(t,e)=>({...k3(t),options:[t,e]}),G3=(t,e)=>({...B3(t),options:[t,e]});var K3="Arrow",D_=T.forwardRef((t,e)=>{const{children:n,width:i=10,height:a=5,...c}=t;return b.jsx(Ht.svg,{...c,ref:e,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:b.jsx("polygon",{points:"0,0 30,0 15,10"})})});D_.displayName=K3;var X3=D_;function k_(t){const[e,n]=T.useState(void 0);return Lr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const c=a[0];let u,f;if("borderBoxSize"in c){const d=c.borderBoxSize,h=Array.isArray(d)?d[0]:d;u=h.inlineSize,f=h.blockSize}else u=t.offsetWidth,f=t.offsetHeight;n({width:u,height:f})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var j_="Popper",[L_,U_]=Ms(j_),[F8,z_]=L_(j_),I_="PopperAnchor",B_=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...a}=t,c=z_(I_,n),u=T.useRef(null),f=on(e,u),d=T.useRef(null);return T.useEffect(()=>{const h=d.current;d.current=i?.current||u.current,h!==d.current&&c.onAnchorChange(d.current)}),i?null:b.jsx(Ht.div,{...a,ref:f})});B_.displayName=I_;var my="PopperContent",[Q3,Z3]=L_(my),H_=T.forwardRef((t,e)=>{const{__scopePopper:n,side:i="bottom",sideOffset:a=0,align:c="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:x=!1,updatePositionStrategy:S="optimized",onPlaced:E,...C}=t,M=z_(my,n),[D,N]=T.useState(null),k=on(e,je=>N(je)),[j,Y]=T.useState(null),J=k_(j),V=J?.width??0,G=J?.height??0,me=i+(c!=="center"?"-"+c:""),xe=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},ve=Array.isArray(h)?h:[h],Ee=ve.length>0,Ye={padding:xe,boundary:ve.filter(W3),altBoundary:Ee},{refs:_e,floatingStyles:Pe,placement:H,isPositioned:se,middlewareData:Z}=I3({strategy:"fixed",placement:me,whileElementsMounted:(...je)=>O3(...je,{animationFrame:S==="always"}),elements:{reference:M.anchor},middleware:[H3({mainAxis:a+G,alignmentAxis:u}),d&&$3({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?V3():void 0,...Ye}),d&&q3({...Ye}),F3({...Ye,apply:({elements:je,rects:Nt,availableWidth:I,availableHeight:K})=>{const{width:fe,height:Ce}=Nt.reference,Fe=je.floating.style;Fe.setProperty("--radix-popper-available-width",`${I}px`),Fe.setProperty("--radix-popper-available-height",`${K}px`),Fe.setProperty("--radix-popper-anchor-width",`${fe}px`),Fe.setProperty("--radix-popper-anchor-height",`${Ce}px`)}}),j&&G3({element:j,padding:f}),eP({arrowWidth:V,arrowHeight:G}),x&&Y3({strategy:"referenceHidden",...Ye})]}),[ke,Je]=q_(H),z=Kn(E);Lr(()=>{se&&z?.()},[se,z]);const ee=Z.arrow?.x,le=Z.arrow?.y,pe=Z.arrow?.centerOffset!==0,[Se,Te]=T.useState();return Lr(()=>{D&&Te(window.getComputedStyle(D).zIndex)},[D]),b.jsx("div",{ref:_e.setFloating,"data-radix-popper-content-wrapper":"",style:{...Pe,transform:se?Pe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[Z.transformOrigin?.x,Z.transformOrigin?.y].join(" "),...Z.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:b.jsx(Q3,{scope:n,placedSide:ke,onArrowChange:Y,arrowX:ee,arrowY:le,shouldHideArrow:pe,children:b.jsx(Ht.div,{"data-side":ke,"data-align":Je,...C,ref:k,style:{...C.style,animation:se?void 0:"none"}})})})});H_.displayName=my;var $_="PopperArrow",J3={top:"bottom",right:"left",bottom:"top",left:"right"},V_=T.forwardRef(function(e,n){const{__scopePopper:i,...a}=e,c=Z3($_,i),u=J3[c.placedSide];return b.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:b.jsx(X3,{...a,ref:n,style:{...a.style,display:"block"}})})});V_.displayName=$_;function W3(t){return t!==null}var eP=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:i,middlewareData:a}=e,u=a.arrow?.centerOffset!==0,f=u?0:t.arrowWidth,d=u?0:t.arrowHeight,[h,m]=q_(n),g={start:"0%",center:"50%",end:"100%"}[m],x=(a.arrow?.x??0)+f/2,S=(a.arrow?.y??0)+d/2;let E="",C="";return h==="bottom"?(E=u?g:`${x}px`,C=`${-d}px`):h==="top"?(E=u?g:`${x}px`,C=`${i.floating.height+d}px`):h==="right"?(E=`${-d}px`,C=u?g:`${S}px`):h==="left"&&(E=`${i.floating.width+d}px`,C=u?g:`${S}px`),{data:{x:E,y:C}}}});function q_(t){const[e,n="center"]=t.split("-");return[e,n]}var tP=B_,nP=H_,rP=V_,[Pf]=Ms("Tooltip",[U_]),yy=U_(),F_="TooltipProvider",iP=700,Hb="tooltip.open",[sP,Y_]=Pf(F_),G_=t=>{const{__scopeTooltip:e,delayDuration:n=iP,skipDelayDuration:i=300,disableHoverableContent:a=!1,children:c}=t,u=T.useRef(!0),f=T.useRef(!1),d=T.useRef(0);return T.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),b.jsx(sP,{scope:e,isOpenDelayedRef:u,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(d.current),u.current=!1},[]),onClose:T.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>u.current=!0,i)},[i]),isPointerInTransitRef:f,onPointerInTransitChange:T.useCallback(h=>{f.current=h},[]),disableHoverableContent:a,children:c})};G_.displayName=F_;var K_="Tooltip",[Y8,Nf]=Pf(K_),mm="TooltipTrigger",aP=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...i}=t,a=Nf(mm,n),c=Y_(mm,n),u=yy(n),f=T.useRef(null),d=on(e,f,a.onTriggerChange),h=T.useRef(!1),m=T.useRef(!1),g=T.useCallback(()=>h.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),b.jsx(tP,{asChild:!0,...u,children:b.jsx(Ht.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...i,ref:d,onPointerMove:Ut(t.onPointerMove,x=>{x.pointerType!=="touch"&&!m.current&&!c.isPointerInTransitRef.current&&(a.onTriggerEnter(),m.current=!0)}),onPointerLeave:Ut(t.onPointerLeave,()=>{a.onTriggerLeave(),m.current=!1}),onPointerDown:Ut(t.onPointerDown,()=>{a.open&&a.onClose(),h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Ut(t.onFocus,()=>{h.current||a.onOpen()}),onBlur:Ut(t.onBlur,a.onClose),onClick:Ut(t.onClick,a.onClose)})})});aP.displayName=mm;var oP="TooltipPortal",[G8,cP]=Pf(oP,{forceMount:void 0}),so="TooltipContent",X_=T.forwardRef((t,e)=>{const n=cP(so,t.__scopeTooltip),{forceMount:i=n.forceMount,side:a="top",...c}=t,u=Nf(so,t.__scopeTooltip);return b.jsx(ua,{present:i||u.open,children:u.disableHoverableContent?b.jsx(Q_,{side:a,...c,ref:e}):b.jsx(lP,{side:a,...c,ref:e})})}),lP=T.forwardRef((t,e)=>{const n=Nf(so,t.__scopeTooltip),i=Y_(so,t.__scopeTooltip),a=T.useRef(null),c=on(e,a),[u,f]=T.useState(null),{trigger:d,onClose:h}=n,m=a.current,{onPointerInTransitChange:g}=i,x=T.useCallback(()=>{f(null),g(!1)},[g]),S=T.useCallback((E,C)=>{const M=E.currentTarget,D={x:E.clientX,y:E.clientY},N=pP(D,M.getBoundingClientRect()),k=mP(D,N),j=yP(C.getBoundingClientRect()),Y=vP([...k,...j]);f(Y),g(!0)},[g]);return T.useEffect(()=>()=>x(),[x]),T.useEffect(()=>{if(d&&m){const E=M=>S(M,m),C=M=>S(M,d);return d.addEventListener("pointerleave",E),m.addEventListener("pointerleave",C),()=>{d.removeEventListener("pointerleave",E),m.removeEventListener("pointerleave",C)}}},[d,m,S,x]),T.useEffect(()=>{if(u){const E=C=>{const M=C.target,D={x:C.clientX,y:C.clientY},N=d?.contains(M)||m?.contains(M),k=!gP(D,u);N?x():k&&(x(),h())};return document.addEventListener("pointermove",E),()=>document.removeEventListener("pointermove",E)}},[d,m,u,h,x]),b.jsx(Q_,{...t,ref:c})}),[uP,fP]=Pf(K_,{isInside:!1}),dP=A6("TooltipContent"),Q_=T.forwardRef((t,e)=>{const{__scopeTooltip:n,children:i,"aria-label":a,onEscapeKeyDown:c,onPointerDownOutside:u,...f}=t,d=Nf(so,n),h=yy(n),{onClose:m}=d;return T.useEffect(()=>(document.addEventListener(Hb,m),()=>document.removeEventListener(Hb,m)),[m]),T.useEffect(()=>{if(d.trigger){const g=x=>{x.target?.contains(d.trigger)&&m()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[d.trigger,m]),b.jsx(ry,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:g=>g.preventDefault(),onDismiss:m,children:b.jsxs(nP,{"data-state":d.stateAttribute,...h,...f,ref:e,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[b.jsx(dP,{children:i}),b.jsx(uP,{scope:n,isInside:!0,children:b.jsx(Z6,{id:d.contentId,role:"tooltip",children:a||i})})]})})});X_.displayName=so;var Z_="TooltipArrow",hP=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...i}=t,a=yy(n);return fP(Z_,n).isInside?null:b.jsx(rP,{...a,...i,ref:e})});hP.displayName=Z_;function pP(t,e){const n=Math.abs(e.top-t.y),i=Math.abs(e.bottom-t.y),a=Math.abs(e.right-t.x),c=Math.abs(e.left-t.x);switch(Math.min(n,i,a,c)){case c:return"left";case a:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function mP(t,e,n=5){const i=[];switch(e){case"top":i.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":i.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":i.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":i.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return i}function yP(t){const{top:e,right:n,bottom:i,left:a}=t;return[{x:a,y:e},{x:n,y:e},{x:n,y:i},{x:a,y:i}]}function gP(t,e){const{x:n,y:i}=t;let a=!1;for(let c=0,u=e.length-1;c<e.length;u=c++){const f=e[c],d=e[u],h=f.x,m=f.y,g=d.x,x=d.y;m>i!=x>i&&n<(g-h)*(i-m)/(x-m)+h&&(a=!a)}return a}function vP(t){const e=t.slice();return e.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),xP(e)}function xP(t){if(t.length<=1)return t.slice();const e=[];for(let i=0;i<t.length;i++){const a=t[i];for(;e.length>=2;){const c=e[e.length-1],u=e[e.length-2];if((c.x-u.x)*(a.y-u.y)>=(c.y-u.y)*(a.x-u.x))e.pop();else break}e.push(a)}e.pop();const n=[];for(let i=t.length-1;i>=0;i--){const a=t[i];for(;n.length>=2;){const c=n[n.length-1],u=n[n.length-2];if((c.x-u.x)*(a.y-u.y)>=(c.y-u.y)*(a.x-u.x))n.pop();else break}n.push(a)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var bP=G_,J_=X_;const SP=bP,_P=T.forwardRef(({className:t,sideOffset:e=4,...n},i)=>b.jsx(J_,{ref:i,sideOffset:e,className:Ft("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--radix-tooltip-content-transform-origin)",t),...n}));_P.displayName=J_.displayName;const wP={theme:"dark",setTheme:()=>null},W_=T.createContext(wP);function EP({children:t,defaultTheme:e="dark",...n}){const[i,a]=T.useState(()=>localStorage.getItem("theme")||e);T.useEffect(()=>{const u=window.document.documentElement;u.classList.remove("light","dark"),u.classList.add(i)},[i]);const c={theme:i,setTheme:u=>{localStorage.setItem("theme",u),a(u)}};return b.jsx(W_.Provider,{...n,value:c,children:t})}const CP=()=>{const t=T.useContext(W_);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function TP(){return b.jsxs(y6,{client:x6,children:[b.jsx(EP,{defaultTheme:"dark",children:b.jsxs(SP,{children:[b.jsx(UM,{}),b.jsx(xS,{})]})}),null]})}const RP=Tf("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Yn=T.forwardRef(({className:t,variant:e,size:n,asChild:i=!1,...a},c)=>{const u=i?T6:"button";return b.jsx(u,{className:Ft(RP({variant:e,size:n,className:t})),ref:c,...a})});Yn.displayName="Button";const Hi=T.forwardRef(({className:t,type:e,...n},i)=>b.jsx("input",{type:e,className:Ft("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:i,...n}));Hi.displayName="Input";const gn=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:Ft("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));gn.displayName="Card";const On=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:Ft("flex flex-col space-y-1.5 p-6",t),...e}));On.displayName="CardHeader";const Mn=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:Ft("text-2xl font-semibold leading-none tracking-tight",t),...e}));Mn.displayName="CardTitle";const ii=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:Ft("text-sm text-muted-foreground",t),...e}));ii.displayName="CardDescription";const jn=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:Ft("p-6 pt-0",t),...e}));jn.displayName="CardContent";const AP=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:Ft("flex items-center p-6 pt-0",t),...e}));AP.displayName="CardFooter";function gy(){const{theme:t,setTheme:e}=CP();return b.jsxs(Yn,{variant:"ghost",size:"icon",onClick:()=>e(t==="light"?"dark":"light"),"data-testid":"button-theme-toggle",children:[b.jsx(KO,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),b.jsx(BO,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),b.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}function OP(t,e,n,i){const c=i?50:0,u=1-e/n,f=Math.floor(u*50);return 100+c+f}function MP(t,e){const n=t.toLowerCase().trim(),i=e.toLowerCase().trim();if(n===i)return!0;const a=n.replace(/[^\w\s]/g,"").replace(/\s+/g," "),c=i.replace(/[^\w\s]/g,"").replace(/\s+/g," ");return a===c}function PP(){const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let n=0;n<6;n++)e+=t[Math.floor(Math.random()*t.length)];return e}function NP(t){const e=["from-purple-500 to-pink-500","from-blue-500 to-cyan-500","from-green-500 to-emerald-500","from-orange-500 to-red-500","from-yellow-500 to-amber-500","from-indigo-500 to-purple-500","from-pink-500 to-rose-500","from-teal-500 to-green-500"];let n=0;for(let i=0;i<t.length;i++)n=t.charCodeAt(i)+((n<<5)-n);return e[Math.abs(n)%e.length]}function DP(t){const e=t.trim().split(" ");return e.length>=2?(e[0][0]+e[e.length-1][0]).toUpperCase():t.slice(0,2).toUpperCase()}function kP(){const t=bf(),[e,n]=T.useState(""),[i,a]=T.useState(""),c=d=>{const h=d.trim();return h.length<2?(alert("Name must be at least 2 characters long"),null):h.length>24?(alert("Name must be 24 characters or fewer"),null):/^[\w\s'-]+$/.test(h)?h:(alert("Name can only contain letters, numbers, spaces, apostrophes, and hyphens"),null)},u=()=>{const d=c(i);if(!d)return;const h=PP();localStorage.setItem("playerName",d),typeof window<"u"&&(sessionStorage.setItem("musicshowdown.pendingRole","host"),sessionStorage.setItem("musicshowdown.lastRole","host")),t({to:"/music-showdown/game/$roomCode",params:{roomCode:h}})},f=()=>{const d=c(i);if(d){if(!e.trim()){alert("Please enter a room code");return}if(e.length!==6){alert("Room code must be 6 characters");return}localStorage.setItem("playerName",d),typeof window<"u"&&(sessionStorage.setItem("musicshowdown.pendingRole","peer"),sessionStorage.setItem("musicshowdown.lastRole","peer")),t({to:"/music-showdown/game/$roomCode",params:{roomCode:e.toUpperCase()}})}};return b.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-gradient-to-br from-emerald-50 via-emerald-100 to-emerald-200 text-foreground transition-colors dark:from-emerald-950 dark:via-emerald-900 dark:to-emerald-950",children:[b.jsx("div",{className:"absolute top-4 right-4 z-10",children:b.jsx(gy,{})}),b.jsx("div",{className:"relative z-10",children:b.jsxs("div",{className:"container mx-auto px-4 py-16",children:[b.jsxs("header",{className:"mx-auto max-w-3xl text-center",children:[b.jsx("h1",{className:"mb-4 text-5xl font-heading font-bold tracking-tight md:text-6xl",children:"Music Showdown"}),b.jsx("p",{className:"text-lg text-muted-foreground md:text-xl",children:"Pick a name, create or join a room, and start guessing songs with friends."})]}),b.jsx("section",{className:"mx-auto mt-12 max-w-4xl",children:b.jsxs(gn,{className:"w-full border border-emerald-200/60 bg-background/90 shadow-sm backdrop-blur-sm dark:border-emerald-800/60 dark:bg-card/90",children:[b.jsxs(On,{children:[b.jsx(Mn,{className:"text-2xl font-heading",children:"1. Choose your display name"}),b.jsx(ii,{children:"Everyone in the room will see you by this name."})]}),b.jsx(jn,{children:b.jsx(Hi,{placeholder:"Your name",value:i,onChange:d=>a(d.target.value),onKeyDown:d=>d.key==="Enter"&&u(),className:"text-lg","data-testid":"input-player-name"})})]})}),b.jsx("section",{className:"mx-auto mt-10 max-w-4xl",children:b.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[b.jsxs(gn,{className:"border border-emerald-200/60 bg-background/90 shadow-sm backdrop-blur-sm dark:border-emerald-800/60 dark:bg-card/90",children:[b.jsxs(On,{children:[b.jsx(Mn,{className:"text-xl font-heading",children:"2A. Host a new room"}),b.jsx(ii,{children:"Create a room and share the code with your friends."})]}),b.jsx(jn,{children:b.jsx(Yn,{onClick:u,size:"lg",className:"w-full text-lg font-semibold",disabled:!i.trim(),"data-testid":"button-create-room",children:"Create Room"})})]}),b.jsxs(gn,{className:"border border-emerald-200/60 bg-background/90 shadow-sm backdrop-blur-sm dark:border-emerald-800/60 dark:bg-card/90",children:[b.jsxs(On,{children:[b.jsx(Mn,{className:"text-xl font-heading",children:"2B. Join an existing room"}),b.jsx(ii,{children:"Enter the room code shared by the host."})]}),b.jsxs(jn,{className:"space-y-4",children:[b.jsx(Hi,{placeholder:"Room code",value:e,onChange:d=>n(d.target.value.toUpperCase()),onKeyDown:d=>d.key==="Enter"&&f(),className:"font-mono uppercase text-lg",maxLength:6,"data-testid":"input-room-code"}),b.jsx(Yn,{onClick:f,variant:"secondary",disabled:!i.trim()||!e.trim(),"data-testid":"button-join-room",children:"Join Room"})]})]})]})}),b.jsxs("section",{className:"mx-auto mt-16 max-w-5xl",children:[b.jsx("h2",{className:"mb-8 text-center text-3xl font-heading font-bold",children:"How to Play"}),b.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[{icon:ZO,title:"1. Create Room",description:"Host creates a room and shares the code with friends"},{icon:s_,title:"2. Pick Songs",description:"Host sets a theme, players search YouTube for matching songs"},{icon:a_,title:"3. Guess Away",description:"Listen to each song and try to guess the title quickly"},{icon:cm,title:"4. Win Points",description:"First and fastest correct guesses earn the most points"}].map((d,h)=>b.jsx(gn,{className:"border border-emerald-200/60 bg-background/90 text-center shadow-sm backdrop-blur-sm dark:border-emerald-800/60 dark:bg-card/90",children:b.jsxs(On,{className:"text-center",children:[b.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-emerald-200/60 dark:bg-emerald-900/40",children:b.jsx(d.icon,{className:"h-8 w-8 text-emerald-700 dark:text-emerald-300"})}),b.jsx(Mn,{className:"text-lg font-heading",children:d.title}),b.jsx(ii,{className:"text-sm",children:d.description})]})},h))})]})]})}),b.jsx("a",{className:"block px-4 pb-6 text-center text-xs text-muted-foreground/80",href:"https://www.flaticon.com/free-icons/music-note",title:"music note icons",children:"Music note icons created by Freepik - Flaticon"})]})}const jP=Tf("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border border-(--badge-outline) shadow-xs"}},defaultVariants:{variant:"default"}});function xp({className:t,variant:e,...n}){return b.jsx("div",{className:Ft(jP({variant:e}),t),...n})}function vy(t,[e,n]){return Math.min(n,Math.max(e,t))}var LP=T.createContext(void 0);function ew(t){const e=T.useContext(LP);return t||e||"ltr"}function UP(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var tw=["PageUp","PageDown"],nw=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],rw={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},po="Slider",[ym,zP,IP]=OS(po),[iw]=Ms(po,[IP]),[BP,Df]=iw(po),sw=T.forwardRef((t,e)=>{const{name:n,min:i=0,max:a=100,step:c=1,orientation:u="horizontal",disabled:f=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[i],value:m,onValueChange:g=()=>{},onValueCommit:x=()=>{},inverted:S=!1,form:E,...C}=t,M=T.useRef(new Set),D=T.useRef(0),k=u==="horizontal"?HP:$P,[j=[],Y]=jS({prop:m,defaultProp:h,onChange:ve=>{[...M.current][D.current]?.focus(),g(ve)}}),J=T.useRef(j);function V(ve){const Ee=GP(j,ve);xe(ve,Ee)}function G(ve){xe(ve,D.current)}function me(){const ve=J.current[D.current];j[D.current]!==ve&&x(j)}function xe(ve,Ee,{commit:Ye}={commit:!1}){const _e=ZP(c),Pe=JP(Math.round((ve-i)/c)*c+i,_e),H=vy(Pe,[i,a]);Y((se=[])=>{const Z=FP(se,H,Ee);if(QP(Z,d*c)){D.current=Z.indexOf(H);const ke=String(Z)!==String(se);return ke&&Ye&&x(Z),ke?Z:se}else return se})}return b.jsx(BP,{scope:t.__scopeSlider,name:n,disabled:f,min:i,max:a,valueIndexToChangeRef:D,thumbs:M.current,values:j,orientation:u,form:E,children:b.jsx(ym.Provider,{scope:t.__scopeSlider,children:b.jsx(ym.Slot,{scope:t.__scopeSlider,children:b.jsx(k,{"aria-disabled":f,"data-disabled":f?"":void 0,...C,ref:e,onPointerDown:Ut(C.onPointerDown,()=>{f||(J.current=j)}),min:i,max:a,inverted:S,onSlideStart:f?void 0:V,onSlideMove:f?void 0:G,onSlideEnd:f?void 0:me,onHomeKeyDown:()=>!f&&xe(i,0,{commit:!0}),onEndKeyDown:()=>!f&&xe(a,j.length-1,{commit:!0}),onStepKeyDown:({event:ve,direction:Ee})=>{if(!f){const Pe=tw.includes(ve.key)||ve.shiftKey&&nw.includes(ve.key)?10:1,H=D.current,se=j[H],Z=c*Pe*Ee;xe(se+Z,H,{commit:!0})}}})})})})});sw.displayName=po;var[aw,ow]=iw(po,{startEdge:"left",endEdge:"right",size:"width",direction:1}),HP=T.forwardRef((t,e)=>{const{min:n,max:i,dir:a,inverted:c,onSlideStart:u,onSlideMove:f,onSlideEnd:d,onStepKeyDown:h,...m}=t,[g,x]=T.useState(null),S=on(e,k=>x(k)),E=T.useRef(void 0),C=ew(a),M=C==="ltr",D=M&&!c||!M&&c;function N(k){const j=E.current||g.getBoundingClientRect(),Y=[0,j.width],V=xy(Y,D?[n,i]:[i,n]);return E.current=j,V(k-j.left)}return b.jsx(aw,{scope:t.__scopeSlider,startEdge:D?"left":"right",endEdge:D?"right":"left",direction:D?1:-1,size:"width",children:b.jsx(cw,{dir:C,"data-orientation":"horizontal",...m,ref:S,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:k=>{const j=N(k.clientX);u?.(j)},onSlideMove:k=>{const j=N(k.clientX);f?.(j)},onSlideEnd:()=>{E.current=void 0,d?.()},onStepKeyDown:k=>{const Y=rw[D?"from-left":"from-right"].includes(k.key);h?.({event:k,direction:Y?-1:1})}})})}),$P=T.forwardRef((t,e)=>{const{min:n,max:i,inverted:a,onSlideStart:c,onSlideMove:u,onSlideEnd:f,onStepKeyDown:d,...h}=t,m=T.useRef(null),g=on(e,m),x=T.useRef(void 0),S=!a;function E(C){const M=x.current||m.current.getBoundingClientRect(),D=[0,M.height],k=xy(D,S?[i,n]:[n,i]);return x.current=M,k(C-M.top)}return b.jsx(aw,{scope:t.__scopeSlider,startEdge:S?"bottom":"top",endEdge:S?"top":"bottom",size:"height",direction:S?1:-1,children:b.jsx(cw,{"data-orientation":"vertical",...h,ref:g,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:C=>{const M=E(C.clientY);c?.(M)},onSlideMove:C=>{const M=E(C.clientY);u?.(M)},onSlideEnd:()=>{x.current=void 0,f?.()},onStepKeyDown:C=>{const D=rw[S?"from-bottom":"from-top"].includes(C.key);d?.({event:C,direction:D?-1:1})}})})}),cw=T.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:i,onSlideMove:a,onSlideEnd:c,onHomeKeyDown:u,onEndKeyDown:f,onStepKeyDown:d,...h}=t,m=Df(po,n);return b.jsx(Ht.span,{...h,ref:e,onKeyDown:Ut(t.onKeyDown,g=>{g.key==="Home"?(u(g),g.preventDefault()):g.key==="End"?(f(g),g.preventDefault()):tw.concat(nw).includes(g.key)&&(d(g),g.preventDefault())}),onPointerDown:Ut(t.onPointerDown,g=>{const x=g.target;x.setPointerCapture(g.pointerId),g.preventDefault(),m.thumbs.has(x)?x.focus():i(g)}),onPointerMove:Ut(t.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&a(g)}),onPointerUp:Ut(t.onPointerUp,g=>{const x=g.target;x.hasPointerCapture(g.pointerId)&&(x.releasePointerCapture(g.pointerId),c(g))})})}),lw="SliderTrack",uw=T.forwardRef((t,e)=>{const{__scopeSlider:n,...i}=t,a=Df(lw,n);return b.jsx(Ht.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...i,ref:e})});uw.displayName=lw;var gm="SliderRange",fw=T.forwardRef((t,e)=>{const{__scopeSlider:n,...i}=t,a=Df(gm,n),c=ow(gm,n),u=T.useRef(null),f=on(e,u),d=a.values.length,h=a.values.map(x=>pw(x,a.min,a.max)),m=d>1?Math.min(...h):0,g=100-Math.max(...h);return b.jsx(Ht.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...i,ref:f,style:{...t.style,[c.startEdge]:m+"%",[c.endEdge]:g+"%"}})});fw.displayName=gm;var vm="SliderThumb",dw=T.forwardRef((t,e)=>{const n=zP(t.__scopeSlider),[i,a]=T.useState(null),c=on(e,f=>a(f)),u=T.useMemo(()=>i?n().findIndex(f=>f.ref.current===i):-1,[n,i]);return b.jsx(VP,{...t,ref:c,index:u})}),VP=T.forwardRef((t,e)=>{const{__scopeSlider:n,index:i,name:a,...c}=t,u=Df(vm,n),f=ow(vm,n),[d,h]=T.useState(null),m=on(e,N=>h(N)),g=d?u.form||!!d.closest("form"):!0,x=k_(d),S=u.values[i],E=S===void 0?0:pw(S,u.min,u.max),C=YP(i,u.values.length),M=x?.[f.size],D=M?KP(M,E,f.direction):0;return T.useEffect(()=>{if(d)return u.thumbs.add(d),()=>{u.thumbs.delete(d)}},[d,u.thumbs]),b.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[f.startEdge]:`calc(${E}% + ${D}px)`},children:[b.jsx(ym.ItemSlot,{scope:t.__scopeSlider,children:b.jsx(Ht.span,{role:"slider","aria-label":t["aria-label"]||C,"aria-valuemin":u.min,"aria-valuenow":S,"aria-valuemax":u.max,"aria-orientation":u.orientation,"data-orientation":u.orientation,"data-disabled":u.disabled?"":void 0,tabIndex:u.disabled?void 0:0,...c,ref:m,style:S===void 0?{display:"none"}:t.style,onFocus:Ut(t.onFocus,()=>{u.valueIndexToChangeRef.current=i})})}),g&&b.jsx(hw,{name:a??(u.name?u.name+(u.values.length>1?"[]":""):void 0),form:u.form,value:S},i)]})});dw.displayName=vm;var qP="RadioBubbleInput",hw=T.forwardRef(({__scopeSlider:t,value:e,...n},i)=>{const a=T.useRef(null),c=on(a,i),u=UP(e);return T.useEffect(()=>{const f=a.current;if(!f)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(u!==e&&m){const g=new Event("input",{bubbles:!0});m.call(f,e),f.dispatchEvent(g)}},[u,e]),b.jsx(Ht.input,{style:{display:"none"},...n,ref:c,defaultValue:e})});hw.displayName=qP;function FP(t=[],e,n){const i=[...t];return i[n]=e,i.sort((a,c)=>a-c)}function pw(t,e,n){const c=100/(n-e)*(t-e);return vy(c,[0,100])}function YP(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function GP(t,e){if(t.length===1)return 0;const n=t.map(a=>Math.abs(a-e)),i=Math.min(...n);return n.indexOf(i)}function KP(t,e,n){const i=t/2,c=xy([0,50],[0,i]);return(i-c(e)*n)*n}function XP(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function QP(t,e){if(e>0){const n=XP(t);return Math.min(...n)>=e}return!0}function xy(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const i=(e[1]-e[0])/(t[1]-t[0]);return e[0]+i*(n-t[0])}}function ZP(t){return(String(t).split(".")[1]||"").length}function JP(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var mw=sw,WP=uw,eN=fw,tN=dw;const Ou=T.forwardRef(({className:t,...e},n)=>b.jsxs(mw,{ref:n,className:Ft("relative flex w-full touch-none select-none items-center",t),...e,children:[b.jsx(WP,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:b.jsx(eN,{className:"absolute h-full bg-primary"})}),b.jsx(tN,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Ou.displayName=mw.displayName;var nN="Label",yw=T.forwardRef((t,e)=>b.jsx(Ht.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));yw.displayName=nN;var gw=yw;const rN=Tf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ea=T.forwardRef(({className:t,...e},n)=>b.jsx(gw,{ref:n,className:Ft(rN(),t),...e}));ea.displayName=gw.displayName;var iN=mS();function sN(){return iN.useSyncExternalStore(aN,()=>!0,()=>!1)}function aN(){return()=>{}}var by="Avatar",[oN]=Ms(by),[cN,vw]=oN(by),xw=T.forwardRef((t,e)=>{const{__scopeAvatar:n,...i}=t,[a,c]=T.useState("idle");return b.jsx(cN,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:c,children:b.jsx(Ht.span,{...i,ref:e})})});xw.displayName=by;var bw="AvatarImage",Sw=T.forwardRef((t,e)=>{const{__scopeAvatar:n,src:i,onLoadingStatusChange:a=()=>{},...c}=t,u=vw(bw,n),f=lN(i,c),d=Kn(h=>{a(h),u.onImageLoadingStatusChange(h)});return Lr(()=>{f!=="idle"&&d(f)},[f,d]),f==="loaded"?b.jsx(Ht.img,{...c,ref:e,src:i}):null});Sw.displayName=bw;var _w="AvatarFallback",ww=T.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:i,...a}=t,c=vw(_w,n),[u,f]=T.useState(i===void 0);return T.useEffect(()=>{if(i!==void 0){const d=window.setTimeout(()=>f(!0),i);return()=>window.clearTimeout(d)}},[i]),u&&c.imageLoadingStatus!=="loaded"?b.jsx(Ht.span,{...a,ref:e}):null});ww.displayName=_w;function $b(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function lN(t,{referrerPolicy:e,crossOrigin:n}){const i=sN(),a=T.useRef(null),c=i?(a.current||(a.current=new window.Image),a.current):null,[u,f]=T.useState(()=>$b(c,t));return Lr(()=>{f($b(c,t))},[c,t]),Lr(()=>{const d=g=>()=>{f(g)};if(!c)return;const h=d("loaded"),m=d("error");return c.addEventListener("load",h),c.addEventListener("error",m),e&&(c.referrerPolicy=e),typeof n=="string"&&(c.crossOrigin=n),()=>{c.removeEventListener("load",h),c.removeEventListener("error",m)}},[c,n,e]),u}var Ew=xw,Cw=Sw,Tw=ww;const Rw=T.forwardRef(({className:t,...e},n)=>b.jsx(Ew,{ref:n,className:Ft(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));Rw.displayName=Ew.displayName;const uN=T.forwardRef(({className:t,...e},n)=>b.jsx(Cw,{ref:n,className:Ft("aspect-square h-full w-full",t),...e}));uN.displayName=Cw.displayName;const Aw=T.forwardRef(({className:t,...e},n)=>b.jsx(Tw,{ref:n,className:Ft("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Aw.displayName=Tw.displayName;function uc({playerId:t,playerName:e,size:n="md"}){const i={sm:"h-8 w-8 text-xs",md:"h-12 w-12 text-sm",lg:"h-16 w-16 text-base"};return b.jsx(Rw,{className:i[n],children:b.jsx(Aw,{className:`bg-linear-to-br ${NP(t)} text-white font-semibold`,children:DP(e)})})}var Sy="Progress",_y=100,[fN]=Ms(Sy),[dN,hN]=fN(Sy),Ow=T.forwardRef((t,e)=>{const{__scopeProgress:n,value:i=null,max:a,getValueLabel:c=pN,...u}=t;(a||a===0)&&!Vb(a)&&console.error(mN(`${a}`,"Progress"));const f=Vb(a)?a:_y;i!==null&&!qb(i,f)&&console.error(yN(`${i}`,"Progress"));const d=qb(i,f)?i:null,h=ef(d)?c(d,f):void 0;return b.jsx(dN,{scope:n,value:d,max:f,children:b.jsx(Ht.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":ef(d)?d:void 0,"aria-valuetext":h,role:"progressbar","data-state":Nw(d,f),"data-value":d??void 0,"data-max":f,...u,ref:e})})});Ow.displayName=Sy;var Mw="ProgressIndicator",Pw=T.forwardRef((t,e)=>{const{__scopeProgress:n,...i}=t,a=hN(Mw,n);return b.jsx(Ht.div,{"data-state":Nw(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...i,ref:e})});Pw.displayName=Mw;function pN(t,e){return`${Math.round(t/e*100)}%`}function Nw(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function ef(t){return typeof t=="number"}function Vb(t){return ef(t)&&!isNaN(t)&&t>0}function qb(t,e){return ef(t)&&!isNaN(t)&&t<=e&&t>=0}function mN(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${_y}\`.`}function yN(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${_y} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Dw=Ow,gN=Pw;const kw=T.forwardRef(({className:t,value:e,...n},i)=>b.jsx(Dw,{ref:i,className:Ft("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:b.jsx(gN,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));kw.displayName=Dw.displayName;function vN({timeRemaining:t,totalTime:e,variant:n="default"}){const i=t/e*100,a=i<25;return b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[b.jsx(i_,{className:`w-4 h-4 ${a?"text-accent animate-pulse":"text-muted-foreground"}`}),b.jsxs("span",{className:a?"text-accent font-bold":"",children:[Math.max(0,Math.ceil(t)),"s"]})]}),b.jsxs("span",{className:"text-xs text-muted-foreground",children:["/ ",e,"s"]})]}),b.jsx(kw,{value:i,className:`h-2 ${a?"animate-pulse":""}`,"data-testid":"progress-timer"})]})}const xN={BASE_URL:"/music-showdown/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};async function bN(){const t="AIzaSyBo_-vy2fUDR_isXL4llWGOJJImxvsmYbU";return console.log("@@@ import.meta.env",xN),t}let pu=null;async function SN(t){if(pu===null&&(pu=await bN()),!pu)throw console.error("YouTube API key not configured"),new Error("YouTube API key not configured. Please add VITE_YOUTUBE_API_KEY to your environment.");const e=new URLSearchParams({part:"snippet",q:t,type:"video",maxResults:"12",videoEmbeddable:"true",videoCategoryId:"10",key:pu}),n=await fetch(`https://www.googleapis.com/youtube/v3/search?${e.toString()}`);if(!n.ok)throw new Error("Failed to search YouTube");return(await n.json()).items?.map(a=>({id:a.id?.videoId||"",title:a.snippet?.title||"",thumbnail:a.snippet?.thumbnails?.medium?.url||"",channelTitle:a.snippet?.channelTitle||""}))||[]}function _N(t,e){return T.useReducer((n,i)=>e[n][i]??n,t)}var wy="ScrollArea",[jw]=Ms(wy),[wN,Ur]=jw(wy),Lw=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:i="hover",dir:a,scrollHideDelay:c=600,...u}=t,[f,d]=T.useState(null),[h,m]=T.useState(null),[g,x]=T.useState(null),[S,E]=T.useState(null),[C,M]=T.useState(null),[D,N]=T.useState(0),[k,j]=T.useState(0),[Y,J]=T.useState(!1),[V,G]=T.useState(!1),me=on(e,ve=>d(ve)),xe=ew(a);return b.jsx(wN,{scope:n,type:i,dir:xe,scrollHideDelay:c,scrollArea:f,viewport:h,onViewportChange:m,content:g,onContentChange:x,scrollbarX:S,onScrollbarXChange:E,scrollbarXEnabled:Y,onScrollbarXEnabledChange:J,scrollbarY:C,onScrollbarYChange:M,scrollbarYEnabled:V,onScrollbarYEnabledChange:G,onCornerWidthChange:N,onCornerHeightChange:j,children:b.jsx(Ht.div,{dir:xe,...u,ref:me,style:{position:"relative","--radix-scroll-area-corner-width":D+"px","--radix-scroll-area-corner-height":k+"px",...t.style}})})});Lw.displayName=wy;var Uw="ScrollAreaViewport",zw=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:i,nonce:a,...c}=t,u=Ur(Uw,n),f=T.useRef(null),d=on(e,f,u.onViewportChange);return b.jsxs(b.Fragment,{children:[b.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),b.jsx(Ht.div,{"data-radix-scroll-area-viewport":"",...c,ref:d,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...t.style},children:b.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});zw.displayName=Uw;var mi="ScrollAreaScrollbar",Ey=T.forwardRef((t,e)=>{const{forceMount:n,...i}=t,a=Ur(mi,t.__scopeScrollArea),{onScrollbarXEnabledChange:c,onScrollbarYEnabledChange:u}=a,f=t.orientation==="horizontal";return T.useEffect(()=>(f?c(!0):u(!0),()=>{f?c(!1):u(!1)}),[f,c,u]),a.type==="hover"?b.jsx(EN,{...i,ref:e,forceMount:n}):a.type==="scroll"?b.jsx(CN,{...i,ref:e,forceMount:n}):a.type==="auto"?b.jsx(Iw,{...i,ref:e,forceMount:n}):a.type==="always"?b.jsx(Cy,{...i,ref:e}):null});Ey.displayName=mi;var EN=T.forwardRef((t,e)=>{const{forceMount:n,...i}=t,a=Ur(mi,t.__scopeScrollArea),[c,u]=T.useState(!1);return T.useEffect(()=>{const f=a.scrollArea;let d=0;if(f){const h=()=>{window.clearTimeout(d),u(!0)},m=()=>{d=window.setTimeout(()=>u(!1),a.scrollHideDelay)};return f.addEventListener("pointerenter",h),f.addEventListener("pointerleave",m),()=>{window.clearTimeout(d),f.removeEventListener("pointerenter",h),f.removeEventListener("pointerleave",m)}}},[a.scrollArea,a.scrollHideDelay]),b.jsx(ua,{present:n||c,children:b.jsx(Iw,{"data-state":c?"visible":"hidden",...i,ref:e})})}),CN=T.forwardRef((t,e)=>{const{forceMount:n,...i}=t,a=Ur(mi,t.__scopeScrollArea),c=t.orientation==="horizontal",u=jf(()=>d("SCROLL_END"),100),[f,d]=_N("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return T.useEffect(()=>{if(f==="idle"){const h=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(h)}},[f,a.scrollHideDelay,d]),T.useEffect(()=>{const h=a.viewport,m=c?"scrollLeft":"scrollTop";if(h){let g=h[m];const x=()=>{const S=h[m];g!==S&&(d("SCROLL"),u()),g=S};return h.addEventListener("scroll",x),()=>h.removeEventListener("scroll",x)}},[a.viewport,c,d,u]),b.jsx(ua,{present:n||f!=="hidden",children:b.jsx(Cy,{"data-state":f==="hidden"?"hidden":"visible",...i,ref:e,onPointerEnter:Ut(t.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Ut(t.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),Iw=T.forwardRef((t,e)=>{const n=Ur(mi,t.__scopeScrollArea),{forceMount:i,...a}=t,[c,u]=T.useState(!1),f=t.orientation==="horizontal",d=jf(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,m=n.viewport.offsetHeight<n.viewport.scrollHeight;u(f?h:m)}},10);return ao(n.viewport,d),ao(n.content,d),b.jsx(ua,{present:i||c,children:b.jsx(Cy,{"data-state":c?"visible":"hidden",...a,ref:e})})}),Cy=T.forwardRef((t,e)=>{const{orientation:n="vertical",...i}=t,a=Ur(mi,t.__scopeScrollArea),c=T.useRef(null),u=T.useRef(0),[f,d]=T.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=qw(f.viewport,f.content),m={...i,sizes:f,onSizesChange:d,hasThumb:h>0&&h<1,onThumbChange:x=>c.current=x,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:x=>u.current=x};function g(x,S){return PN(x,u.current,f,S)}return n==="horizontal"?b.jsx(TN,{...m,ref:e,onThumbPositionChange:()=>{if(a.viewport&&c.current){const x=a.viewport.scrollLeft,S=Fb(x,f,a.dir);c.current.style.transform=`translate3d(${S}px, 0, 0)`}},onWheelScroll:x=>{a.viewport&&(a.viewport.scrollLeft=x)},onDragScroll:x=>{a.viewport&&(a.viewport.scrollLeft=g(x,a.dir))}}):n==="vertical"?b.jsx(RN,{...m,ref:e,onThumbPositionChange:()=>{if(a.viewport&&c.current){const x=a.viewport.scrollTop,S=Fb(x,f);c.current.style.transform=`translate3d(0, ${S}px, 0)`}},onWheelScroll:x=>{a.viewport&&(a.viewport.scrollTop=x)},onDragScroll:x=>{a.viewport&&(a.viewport.scrollTop=g(x))}}):null}),TN=T.forwardRef((t,e)=>{const{sizes:n,onSizesChange:i,...a}=t,c=Ur(mi,t.__scopeScrollArea),[u,f]=T.useState(),d=T.useRef(null),h=on(e,d,c.onScrollbarXChange);return T.useEffect(()=>{d.current&&f(getComputedStyle(d.current))},[d]),b.jsx(Hw,{"data-orientation":"horizontal",...a,ref:h,sizes:n,style:{bottom:0,left:c.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:c.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":kf(n)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.x),onDragScroll:m=>t.onDragScroll(m.x),onWheelScroll:(m,g)=>{if(c.viewport){const x=c.viewport.scrollLeft+m.deltaX;t.onWheelScroll(x),Yw(x,g)&&m.preventDefault()}},onResize:()=>{d.current&&c.viewport&&u&&i({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:nf(u.paddingLeft),paddingEnd:nf(u.paddingRight)}})}})}),RN=T.forwardRef((t,e)=>{const{sizes:n,onSizesChange:i,...a}=t,c=Ur(mi,t.__scopeScrollArea),[u,f]=T.useState(),d=T.useRef(null),h=on(e,d,c.onScrollbarYChange);return T.useEffect(()=>{d.current&&f(getComputedStyle(d.current))},[d]),b.jsx(Hw,{"data-orientation":"vertical",...a,ref:h,sizes:n,style:{top:0,right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":kf(n)+"px",...t.style},onThumbPointerDown:m=>t.onThumbPointerDown(m.y),onDragScroll:m=>t.onDragScroll(m.y),onWheelScroll:(m,g)=>{if(c.viewport){const x=c.viewport.scrollTop+m.deltaY;t.onWheelScroll(x),Yw(x,g)&&m.preventDefault()}},onResize:()=>{d.current&&c.viewport&&u&&i({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:nf(u.paddingTop),paddingEnd:nf(u.paddingBottom)}})}})}),[AN,Bw]=jw(mi),Hw=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:i,hasThumb:a,onThumbChange:c,onThumbPointerUp:u,onThumbPointerDown:f,onThumbPositionChange:d,onDragScroll:h,onWheelScroll:m,onResize:g,...x}=t,S=Ur(mi,n),[E,C]=T.useState(null),M=on(e,me=>C(me)),D=T.useRef(null),N=T.useRef(""),k=S.viewport,j=i.content-i.viewport,Y=Kn(m),J=Kn(d),V=jf(g,10);function G(me){if(D.current){const xe=me.clientX-D.current.left,ve=me.clientY-D.current.top;h({x:xe,y:ve})}}return T.useEffect(()=>{const me=xe=>{const ve=xe.target;E?.contains(ve)&&Y(xe,j)};return document.addEventListener("wheel",me,{passive:!1}),()=>document.removeEventListener("wheel",me,{passive:!1})},[k,E,j,Y]),T.useEffect(J,[i,J]),ao(E,V),ao(S.content,V),b.jsx(AN,{scope:n,scrollbar:E,hasThumb:a,onThumbChange:Kn(c),onThumbPointerUp:Kn(u),onThumbPositionChange:J,onThumbPointerDown:Kn(f),children:b.jsx(Ht.div,{...x,ref:M,style:{position:"absolute",...x.style},onPointerDown:Ut(t.onPointerDown,me=>{me.button===0&&(me.target.setPointerCapture(me.pointerId),D.current=E.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",S.viewport&&(S.viewport.style.scrollBehavior="auto"),G(me))}),onPointerMove:Ut(t.onPointerMove,G),onPointerUp:Ut(t.onPointerUp,me=>{const xe=me.target;xe.hasPointerCapture(me.pointerId)&&xe.releasePointerCapture(me.pointerId),document.body.style.webkitUserSelect=N.current,S.viewport&&(S.viewport.style.scrollBehavior=""),D.current=null})})})}),tf="ScrollAreaThumb",$w=T.forwardRef((t,e)=>{const{forceMount:n,...i}=t,a=Bw(tf,t.__scopeScrollArea);return b.jsx(ua,{present:n||a.hasThumb,children:b.jsx(ON,{ref:e,...i})})}),ON=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:i,...a}=t,c=Ur(tf,n),u=Bw(tf,n),{onThumbPositionChange:f}=u,d=on(e,g=>u.onThumbChange(g)),h=T.useRef(void 0),m=jf(()=>{h.current&&(h.current(),h.current=void 0)},100);return T.useEffect(()=>{const g=c.viewport;if(g){const x=()=>{if(m(),!h.current){const S=NN(g,f);h.current=S,f()}};return f(),g.addEventListener("scroll",x),()=>g.removeEventListener("scroll",x)}},[c.viewport,m,f]),b.jsx(Ht.div,{"data-state":u.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:Ut(t.onPointerDownCapture,g=>{const S=g.target.getBoundingClientRect(),E=g.clientX-S.left,C=g.clientY-S.top;u.onThumbPointerDown({x:E,y:C})}),onPointerUp:Ut(t.onPointerUp,u.onThumbPointerUp)})});$w.displayName=tf;var Ty="ScrollAreaCorner",Vw=T.forwardRef((t,e)=>{const n=Ur(Ty,t.__scopeScrollArea),i=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&i?b.jsx(MN,{...t,ref:e}):null});Vw.displayName=Ty;var MN=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,...i}=t,a=Ur(Ty,n),[c,u]=T.useState(0),[f,d]=T.useState(0),h=!!(c&&f);return ao(a.scrollbarX,()=>{const m=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(m),d(m)}),ao(a.scrollbarY,()=>{const m=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(m),u(m)}),h?b.jsx(Ht.div,{...i,ref:e,style:{width:c,height:f,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function nf(t){return t?parseInt(t,10):0}function qw(t,e){const n=t/e;return isNaN(n)?0:n}function kf(t){const e=qw(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=(t.scrollbar.size-n)*e;return Math.max(i,18)}function PN(t,e,n,i="ltr"){const a=kf(n),c=a/2,u=e||c,f=a-u,d=n.scrollbar.paddingStart+u,h=n.scrollbar.size-n.scrollbar.paddingEnd-f,m=n.content-n.viewport,g=i==="ltr"?[0,m]:[m*-1,0];return Fw([d,h],g)(t)}function Fb(t,e,n="ltr"){const i=kf(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,c=e.scrollbar.size-a,u=e.content-e.viewport,f=c-i,d=n==="ltr"?[0,u]:[u*-1,0],h=vy(t,d);return Fw([0,u],[0,f])(h)}function Fw(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const i=(e[1]-e[0])/(t[1]-t[0]);return e[0]+i*(n-t[0])}}function Yw(t,e){return t>0&&t<e}var NN=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},i=0;return(function a(){const c={left:t.scrollLeft,top:t.scrollTop},u=n.left!==c.left,f=n.top!==c.top;(u||f)&&e(),n=c,i=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(i)};function jf(t,e){const n=Kn(t),i=T.useRef(0);return T.useEffect(()=>()=>window.clearTimeout(i.current),[]),T.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(n,e)},[n,e])}function ao(t,e){const n=Kn(e);Lr(()=>{let i=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(n)});return a.observe(t),()=>{window.cancelAnimationFrame(i),a.unobserve(t)}}},[t,n])}var Gw=Lw,DN=zw,kN=Vw;const Ry=T.forwardRef(({className:t,children:e,...n},i)=>b.jsxs(Gw,{ref:i,className:Ft("relative overflow-hidden",t),...n,children:[b.jsx(DN,{className:"h-full w-full rounded-[inherit]",children:e}),b.jsx(Kw,{}),b.jsx(kN,{})]}));Ry.displayName=Gw.displayName;const Kw=T.forwardRef(({className:t,orientation:e="vertical",...n},i)=>b.jsx(Ey,{ref:i,orientation:e,className:Ft("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-px",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-px",t),...n,children:b.jsx($w,{className:"relative flex-1 rounded-full bg-border"})}));Kw.displayName=Ey.displayName;function jN({onSelect:t,selectedVideoId:e}){const[n,i]=T.useState(""),[a,c]=T.useState([]),[u,f]=T.useState(!1),d=async()=>{if(n.trim()){f(!0);try{const h=await SN(n);c(h)}catch(h){console.error("Search failed:",h)}finally{f(!1)}}};return b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("div",{className:"relative flex-1",children:[b.jsx(a_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),b.jsx(Hi,{placeholder:"Search for a song...",value:n,onChange:h=>i(h.target.value),onKeyDown:h=>h.key==="Enter"&&d(),className:"pl-10","data-testid":"input-youtube-search"})]}),b.jsx(Yn,{onClick:d,disabled:u||!n.trim(),"data-testid":"button-search",children:u?b.jsx(oy,{className:"w-4 h-4 animate-spin"}):"Search"})]}),a.length>0&&b.jsx(Ry,{className:"h-[420px] rounded-lg border p-5",children:b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:a.map(h=>b.jsx(gn,{className:Ft("group cursor-pointer border transition-all hover:border-primary/40 hover:shadow-md",e===h.id?"border-primary bg-primary/10 shadow-sm ring-2 ring-primary":"border-border"),onClick:()=>t(h),"data-testid":`card-video-${h.id}`,children:b.jsxs(jn,{className:"relative space-y-3 p-3",children:[b.jsx("img",{src:h.thumbnail,alt:h.title,className:"w-full aspect-video object-cover rounded-md mb-2"}),b.jsx("h3",{className:"font-semibold text-sm line-clamp-2 mb-1",children:h.title}),b.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:h.channelTitle}),e===h.id&&b.jsxs("div",{className:"absolute right-3 top-3 flex items-center gap-1 rounded-full bg-primary/90 px-2 py-1 text-xs font-semibold text-primary-foreground",children:[b.jsx(AO,{className:"h-4 w-4"}),"Selected"]})]})},h.id))})})]})}function Yb({videoId:t,onReady:e,onEnd:n,autoplay:i=!0,startSeconds:a=0,endSeconds:c,preventPause:u=!1,timerProgress:f,interactive:d=!1}){const h=T.useRef(null),m=T.useRef(null);return T.useEffect(()=>{if(!window.YT){const x=document.createElement("script");x.src="https://www.youtube.com/iframe_api";const S=document.getElementsByTagName("script")[0];S.parentNode?.insertBefore(x,S)}const g=()=>{h.current&&window.YT&&window.YT.Player&&(m.current=new window.YT.Player(h.current,{videoId:t,playerVars:{autoplay:i?1:0,start:a,end:c,controls:d?1:0,disablekb:d?0:1,fs:0,modestbranding:1,rel:0,iv_load_policy:3},events:{onReady:x=>{i&&x.target.playVideo(),e?.(x.target)},onStateChange:x=>{if(u&&x.data===window.YT.PlayerState.PAUSED){x.target.playVideo();return}x.data===window.YT.PlayerState.ENDED&&n?.()}}}))};return window.YT&&window.YT.Player?g():window.onYouTubeIframeAPIReady=g,()=>{m.current&&m.current.destroy()}},[t,i,a,c,e,n,u,d]),b.jsxs("div",{className:"relative aspect-video w-full bg-black rounded-lg overflow-hidden",children:[b.jsx("div",{ref:h,className:d?"w-full h-full":"pointer-events-none w-full h-full","data-testid":"youtube-player"}),f!==void 0&&b.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-lg",style:{backgroundColor:`rgba(0,0,0,${1-.75*f})`}})]})}const bp=(t,e)=>{const n=t.currentRound;if(!n)return;const i=n.currentSongIndex+1;if(i<n.playOrder.length){n.currentSongIndex=i;const a=n.playOrder[i];n.currentPlayerId=a??null,n.guesses={},n.correctGuessers={},t.timer=t.settings.playbackDuration;return}n.currentSongIndex=i,n.currentPlayerId=null,n.guesses={},n.correctGuessers={},t.timer=null,t.phase="round_results",e?.setPhase?.("round_results")},Nc=8,LN={name:"music-showdown",minPlayers:2,maxPlayers:Nc,moves:{restoreState:({G:t,playerID:e,events:n},i)=>{if(e!=="0")return;let a;try{a=JSON.parse(JSON.stringify(i))}catch{return}a.players[e]&&(a.players[e].connected=!0,a.players[e].isHost=!0),t.phase=a.phase,t.players={...a.players},t.settings={...a.settings},t.currentRound=a.currentRound?{...a.currentRound,songSelections:{...a.currentRound.songSelections},guesses:Object.fromEntries(Object.entries(a.currentRound.guesses).map(([c,u])=>[c,u.map(f=>({...f}))])),roundScores:{...a.currentRound.roundScores},playOrder:[...a.currentRound.playOrder],correctGuessers:{...a.currentRound.correctGuessers},guessLog:a.currentRound.guessLog.map(c=>({...c}))}:null,t.totalRounds=a.totalRounds,t.completedRounds=a.completedRounds,t.timer=a.timer,t.maxPlayers=a.maxPlayers,t.lobbyOrder=[...a.lobbyOrder],n?.setPhase?.(a.phase)}},setup:({ctx:t})=>({phase:"lobby",players:{},settings:{playbackDuration:30,totalRounds:3},currentRound:null,totalRounds:3,completedRounds:0,timer:null,maxPlayers:Nc,lobbyOrder:[]}),phases:{lobby:{start:!0,moves:{updateSettings:({G:t,playerID:e},n)=>{t.players[e]?.isHost&&(t.settings={...t.settings,...n},t.totalRounds=n.totalRounds||t.totalRounds)},startGame:({G:t,playerID:e,events:n})=>{t.players[e]?.isHost&&(t.phase="theme_selection",n?.setPhase?.("theme_selection"))},setPlayerName:({G:t,playerID:e},n)=>{if(!e)return;const i=n.trim().slice(0,24);if(!i)return;const a=t.players[e];if(!(!a&&Object.keys(t.players).length>=t.maxPlayers)){if(a){a.name=i,a.connected=!0,t.lobbyOrder=t.lobbyOrder.filter(c=>c!==e),t.lobbyOrder.includes(e)||t.lobbyOrder.push(e);return}t.players[e]={id:e,name:i,score:0,isHost:e==="0",connected:!0},t.lobbyOrder=t.lobbyOrder.filter(c=>c!==e),t.lobbyOrder.includes(e)||t.lobbyOrder.push(e)}}},next:"theme_selection"},theme_selection:{moves:{setTheme:({G:t,playerID:e},n)=>{t.players[e]?.isHost&&(t.currentRound?t.currentRound.theme=n:t.currentRound={roundNumber:t.completedRounds+1,theme:n,songSelections:{},currentSongIndex:0,currentPlayerId:null,guesses:{},roundScores:{},playOrder:[],correctGuessers:{},guessLog:[]})},confirmTheme:({G:t,playerID:e,events:n})=>{!t.players[e]?.isHost||!t.currentRound?.theme||(t.timer=null,t.phase="song_picking",n?.setPhase?.("song_picking"))}},next:"song_picking"},song_picking:{moves:{selectSong:({G:t,playerID:e},n)=>{const i=t.currentRound;!i||Object.entries(i.songSelections).find(([c,u])=>c!==e&&u.videoId===n.videoId)||(i.songSelections[e]=n)}},endIf:({G:t})=>{if(!t.currentRound)return!1;const n=Object.values(t.players).filter(i=>i.connected).length;return n===0?!1:Object.keys(t.currentRound.songSelections).length>=n},next:"guessing",onEnd:({G:t,ctx:e,events:n})=>{if(!t.currentRound)return;const i=Object.keys(t.currentRound.songSelections),a=e.random,c=a?.Shuffle?a.Shuffle(i):[...i].sort(()=>Math.random()-.5);if(t.currentRound.playOrder=c,t.currentRound.currentSongIndex=0,t.currentRound.guesses={},t.currentRound.correctGuessers={},c.length===0){t.currentRound.currentPlayerId=null,t.timer=null,t.phase="round_results",n?.setPhase?.("round_results");return}t.currentRound.currentPlayerId=c[0],t.timer=t.settings.playbackDuration,t.phase="guessing"}},guessing:{moves:{submitGuess:({G:t,ctx:e,playerID:n,events:i},a)=>{if(!t.currentRound||!t.currentRound.currentPlayerId||n===t.currentRound.currentPlayerId)return;const c=t.currentRound.guesses[n]??[];if(c.some(D=>D.isCorrect))return;const f=t.settings.playbackDuration-(t.timer||0),d=t.currentRound.songSelections[t.currentRound.currentPlayerId],h=!!(d&&MP(a,d.customTitle)),m={guess:a,time:f,isCorrect:h};t.currentRound.guesses[n]=[...c,m];const g=e.random,x={id:g?.UUID?g.UUID():`${t.currentRound.roundNumber}-${n}-${Date.now()}`,playerId:n,playerName:t.players[n]?.name??`Player ${n}`,guess:a,time:f,isCorrect:h,songOwnerId:t.currentRound.currentPlayerId,songOwnerName:t.currentRound.currentPlayerId&&t.players[t.currentRound.currentPlayerId]?t.players[t.currentRound.currentPlayerId].name:null,songIndex:t.currentRound.currentSongIndex};if(t.currentRound.guessLog=[...t.currentRound.guessLog,x],h){t.currentRound.correctGuessers[n]=!0;let D=!0;for(const[j,Y]of Object.entries(t.currentRound.guesses))if(j!==n){for(const J of Y)if(J.isCorrect){J.time<f&&(D=!1);break}if(!D)break}const N=OP(!0,f,t.settings.playbackDuration,D),k=t.players[n];k&&(k.score+=N,t.currentRound.roundScores[n]=(t.currentRound.roundScores[n]||0)+N)}const S=Object.values(t.players).filter(D=>D.connected),E=t.currentRound.currentPlayerId,C=S.filter(D=>D.id!==E).length,M=Object.values(t.currentRound.correctGuessers).filter(Boolean).length;(C===0||C>0&&M>=C)&&bp(t,i)},tickTimer:({G:t,playerID:e,events:n})=>{if(t.players[e]?.isHost&&t.timer!==null){if(t.timer<=0){t.timer=0,bp(t,n);return}t.timer-=1,t.timer<=0&&(t.timer=0,bp(t,n))}}}},round_results:{moves:{nextRound:({G:t,playerID:e,events:n})=>{t.players[e]?.isHost&&(t.completedRounds++,t.completedRounds<t.totalRounds?(t.currentRound=null,t.timer=null,t.phase="theme_selection",n?.setPhase?.("theme_selection")):(t.timer=null,t.phase="game_over",n?.setPhase?.("game_over")))}},next:"theme_selection"},game_over:{moves:{restartLobby:({G:t,playerID:e,events:n})=>{if(t.players[e]?.isHost){for(const a of Object.values(t.players))a.score=0;t.currentRound=null,t.completedRounds=0,t.timer=null,t.totalRounds=t.settings.totalRounds,t.phase="lobby",n?.setPhase?.("lobby")}},endGame:({G:t,events:e})=>{t.phase="lobby",e?.endGame?.()}}}},turn:{activePlayers:{all:"default"}}};function Sp(t){return[t]}function Ya(t,e){const n=t&&Number.isFinite(t)&&t>0?Math.floor(t):Xw;return Math.max(0,n-e)}function mu(t,e=Xw){return Number.isNaN(t)||t<0?0:Math.min(Math.floor(t),e)}function Gb(t){const e=Math.max(0,Math.floor(t)),n=Math.floor(e/60),i=e%60;return n===0?`${e}s`:`${n}:${i.toString().padStart(2,"0")}`}const fc=["1960s","1970s","1980s","1990s","2000s","2010s","2020s","Game Soundtracks","Movie Soundtracks","Alternative Rock","FIFA Soundtracks","R&B Grooves","Classic Hip-Hop","Indie Favorites","Top 40 Hits","Chill Electronic","Country Classics","Classic Rock","Modern Country","Reggae Classics","Funk Essentials"],UN="musicshowdown.state",Xw=600,Qw=t=>`${UN}.${t}`,zN=t=>{if(typeof window>"u")return null;const e=localStorage.getItem(Qw(t));if(!e)return null;try{return JSON.parse(e)}catch{return null}},IN=(t,e)=>{typeof window>"u"||localStorage.setItem(Qw(t),JSON.stringify(e))};function BN({G:t,ctx:e,moves:n,playerID:i,matchID:a,identity:c,isHost:u,updatePlayerName:f,promoteToHost:d}){const{toast:h}=TS(),m=e.phase??t.phase,g=t.currentRound??null,x=t.settings,S=t.timer,E=S??0,[C,M]=T.useState(c.playerName),[D,N]=T.useState(g?.theme??""),[k,j]=T.useState(null),[Y,J]=T.useState(""),[V,G]=T.useState(0),[me,xe]=T.useState(!1),ve=T.useRef(null),[Ee,Ye]=T.useState(()=>Ya(null,x.playbackDuration)),[_e,Pe]=T.useState(""),[H,se]=T.useState(x),[Z,ke]=T.useState(!1),Je=T.useRef(null),z=T.useRef(!1);T.useEffect(()=>{M(c.playerName)},[c.playerName]),T.useEffect(()=>{N(g?.theme??"")},[g?.theme]),T.useEffect(()=>{se(x),Ye(ie=>{const be=Ya(k?ve.current?.getDuration?.():null,x.playbackDuration),at=mu(V,be);return at!==V&&(G(at),ve.current?.seekTo?.(at,!0)),be!==ie?be:ie})},[x]);const ee=i??c.playerID,le=b.jsx("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:b.jsx(gy,{})});T.useEffect(()=>{if(m!=="lobby")return;const ie=ee;if(!ie)return;const be=c.playerName.trim();if(!be)return;const at=t.players?.[ie];(!at||at.name!==be||!at.connected)&&(n.setPlayerName?.(be),G(0),xe(!1),ve.current=null)},[t.players,c.playerName,n,m,ee]),T.useEffect(()=>{m!=="song_picking"&&(j(null),J(""),G(0),xe(!1),ve.current=null,Ye(Ya(null,x.playbackDuration))),m!=="guessing"&&Pe("")},[m]),T.useEffect(()=>{if(!u||z.current)return;z.current=!0;const ie=zN(a);ie&&n.restoreState?.(ie)},[u,a,n]),T.useEffect(()=>{if(!u||!z.current||!t.players||Object.keys(t.players).length===0)return;const ie=JSON.stringify(t);Je.current!==ie&&(Je.current=ie,IN(a,t))},[t,u,a]);const pe=Object.values(t.players??{}).map(ie=>ie).sort((ie,be)=>ie.id.localeCompare(be.id)),Se=g?.theme??D,Te=g?.roundScores??{},je=g?.guesses??{},Nt=g?.correctGuessers??{},I=g?.guessLog??[],K=g?.currentPlayerId??null,fe=K?g?.songSelections?.[K]??null:null,Ce=ee?g?.songSelections?.[ee]??null:null,Fe=ee?je[ee]??[]:[],Ue=Fe[Fe.length-1]??null,Tt=!!(ee&&Nt[ee]),xt=!!(m==="guessing"&&K&&ee&&K!==ee&&!Tt&&(S===null||S>0)),Jt=t.lobbyOrder??[],Dt=t.maxPlayers??Nc,St=T.useMemo(()=>{const ie=pe.filter(be=>be.connected);return ie.sort((be,at)=>{const pt=Jt.indexOf(be.id),Yt=Jt.indexOf(at.id);return pt===-1&&Yt===-1?be.id.localeCompare(at.id):pt===-1?1:Yt===-1?-1:pt-Yt}),ie},[Jt,pe]);T.useEffect(()=>{if(c.role==="host"||!ee||pe.find(pt=>pt.isHost&&pt.connected)||!pe.find(pt=>pt.id===ee)?.connected)return;const at=St[0];!at||at.id!==ee||(d(c.playerName),h({title:"Host reassigned",description:"You are now the host for this room."}))},[St,ee,c.playerName,c.role,pe,d,h]);const zt=T.useMemo(()=>{const ie=Jt.map(Yt=>t.players[Yt]).filter(Yt=>!!Yt),be=new Set(ie.map(Yt=>Yt.id)),at=pe.filter(Yt=>!be.has(Yt.id)),pt=[...ie,...at];return Array.from({length:Dt},(Yt,w)=>pt[w]??null)},[t.players,Jt,Dt,pe]),Zt=T.useMemo(()=>pe.map(ie=>({player:ie,roundScore:Te[ie.id]??0})).sort((ie,be)=>be.roundScore-ie.roundScore),[pe,Te]),xn=T.useMemo(()=>[...pe].sort((ie,be)=>be.score-ie.score),[pe]),it=St.length,dt=Math.max(Dt-it,0),cn=()=>{if(!u)return;const ie=(g?.theme??D).trim(),be=fc.length>1?fc.filter(pt=>pt!==ie):fc,at=be[Math.floor(Math.random()*be.length)]??fc[0];at&&Qr(at)};T.useMemo(()=>[...I].sort((ie,be)=>ie.songIndex!==be.songIndex?ie.songIndex-be.songIndex:ie.time-be.time),[I]);const Tn=T.useMemo(()=>{if(!g)return[];const ie=g.currentSongIndex;return ie==null?[]:I.filter(be=>be.songIndex===ie).sort((be,at)=>be.time-at.time)},[I,g?.currentSongIndex]),Er=ie=>Number.isNaN(ie)||!Number.isFinite(ie)?"0s":`${Math.max(0,Math.round(ie))}s`;T.useEffect(()=>{m==="guessing"&&Pe("")},[m,K]),T.useEffect(()=>{if(!u||m!=="song_picking"&&m!=="guessing"||S===null||S<=0)return;const ie=window.setInterval(()=>{n.tickTimer?.()},1e3);return()=>window.clearInterval(ie)},[u,m,S,n]);const hn=u?H:x,yi=()=>{const ie=C.trim().slice(0,24);ie&&(f(ie),m==="lobby"&&n.setPlayerName?.(ie))},Qr=ie=>{N(ie),u&&n.setTheme?.(ie)},Ps=ie=>{j(ie),J(ie.title),G(0),xe(!1),ve.current?.stopVideo?.(),ve.current=null,Ye(Ya(null,x.playbackDuration))},Ns=()=>{const ie=Y.trim();if(!k||!ie)return;const be=Object.entries(t.currentRound?.songSelections??{}).find(([at,pt])=>at!==ee&&pt.videoId===k.id);if(be){const[at]=be,Yt=t.players?.[at]?.name??"Another player";h({title:"Song already taken",description:`${Yt} has already locked this song. Pick a different one.`,variant:"destructive"});return}ve.current?.stopVideo?.(),n.selectSong?.({videoId:k.id,originalTitle:k.title,customTitle:ie,thumbnail:k.thumbnail,startSeconds:V}),h({title:"Song selected",description:"Waiting for other players..."}),j(null),J(""),G(0),xe(!1),ve.current=null,Ye(Ya(null,x.playbackDuration))},Cr=()=>{const ie=ve.current;if(!ie)return;ie.getPlayerState?.()===window.YT?.PlayerState?.PLAYING?(ie.pauseVideo?.(),xe(!1)):(ie.seekTo?.(V,!0),ie.playVideo?.(),xe(!0))},pn=ie=>{ve.current=ie;const be=ie.getDuration?.(),at=Ya(be,x.playbackDuration);Ye(at),G(pt=>{const Yt=mu(pt,at);return Yt!==pt?(ie.seekTo?.(Yt,!0),Yt):pt}),ie.seekTo?.(V,!0),me?ie.playVideo?.():ie.pauseVideo?.()},Ln=()=>{xe(!1)},ln=()=>{const ie=_e.trim();!xt||!ie||(n.submitGuess?.(ie),Pe(""))},Xi=()=>{n.nextRound?.(),N(""),j(null),J(""),Pe("")},gi=()=>{n.restartLobby?.(),N(""),j(null),J(""),Pe("")},vi=()=>{n.endGame?.()},Zr=ie=>{u&&se(be=>({...be,...ie}))},xi=ie=>{if(!u)return;se(at=>({...at,...ie}));const be=Object.entries(ie).filter(([at,pt])=>pt!==void 0&&x[at]!==pt);be.length&&n.updateSettings?.(Object.fromEntries(be))},Qi=async()=>{try{await navigator.clipboard.writeText(a),ke(!0),h({title:"Room code copied!",description:"Share it with your friends to join the game"}),setTimeout(()=>ke(!1),2e3)}catch{h({title:"Unable to copy room code",variant:"destructive"})}},zr=()=>{if(!u){h({title:"Waiting for host",description:"Only the host can start the game"});return}if(it<2){h({title:"Need more players",description:"At least 2 players required to start",variant:"destructive"});return}n.startGame?.()},Un=ie=>be=>Zr({[ie]:be[0]}),Vn=ie=>be=>xi({[ie]:be[0]});if(m==="lobby")return b.jsxs("div",{className:"min-h-screen bg-background",children:[le,b.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-5xl space-y-8",children:[b.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("h1",{className:"text-3xl font-heading font-bold",children:b.jsx(ey,{to:"/music-showdown",className:"inline-flex items-center text-left text-inherit transition-colors hover:text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 focus-visible:ring-offset-background",children:"Music Showdown"})}),b.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground",children:[b.jsx(xp,{variant:"secondary",className:"uppercase",children:c.role}),b.jsxs("span",{children:["Signed in as ",c.playerName]})]})]}),b.jsxs("div",{className:"flex items-center gap-3 rounded-lg border bg-muted/40 px-4 py-3",children:[b.jsx("div",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wide",children:"Room"}),b.jsx("code",{className:"text-2xl font-mono font-semibold tracking-wider text-primary","data-testid":"text-room-code",children:a}),b.jsx(Yn,{variant:"ghost",size:"icon",onClick:Qi,"data-testid":"button-copy-code",children:Z?b.jsx(_O,{className:"h-5 w-5 text-secondary"}):b.jsx(DO,{className:"h-5 w-5"})})]})]}),b.jsxs("div",{className:"grid gap-6 lg:grid-cols-[2fr_1.1fr]",children:[b.jsxs(gn,{className:"h-full",children:[b.jsxs(On,{children:[b.jsxs(Mn,{className:"font-heading",children:["Players (",it,"/",Dt,")"]}),b.jsx(ii,{children:it===0?"Waiting for players to join...":`${it} connected, ${dt} open slot${dt===1?"":"s"}`})]}),b.jsx(jn,{children:b.jsx("div",{className:"space-y-2",children:zt.map((ie,be)=>b.jsx("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50","data-testid":ie?`player-card-${ie.id}`:`player-card-empty-${be}`,children:ie?b.jsxs(b.Fragment,{children:[b.jsx(uc,{playerId:ie.id,playerName:ie.name}),b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"font-semibold",children:ie.name}),!ie.connected&&b.jsx("div",{className:"text-xs text-muted-foreground",children:"Not connected"})]}),b.jsx("div",{className:"flex items-center gap-2",children:ie.isHost&&b.jsxs(xp,{variant:"default",className:"gap-1","data-testid":"badge-host",children:[b.jsx(jO,{className:"w-3 h-3"}),"Host"]})})]}):b.jsx("div",{className:"flex items-center gap-3 w-full justify-between",children:b.jsxs("div",{className:"flex gap-3 items-center",children:[b.jsx("div",{className:"w-8 h-8 rounded-full bg-muted"}),b.jsxs("span",{className:"text-sm text-muted-foreground",children:["Waiting for player ",be+1]})]})})},ie?ie.id:`empty-${be}`))})})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs(gn,{children:[b.jsxs(On,{children:[b.jsx(Mn,{className:"font-heading text-lg",children:"Your Lobby Controls"}),b.jsx(ii,{children:u?"Update your name and start the game once everyone is ready.":"Update your name while the host prepares the game."})]}),b.jsxs(jn,{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(ea,{htmlFor:"player-name",children:"Display name"}),b.jsx(Hi,{id:"player-name",placeholder:"Your name",value:C,onChange:ie=>M(ie.target.value),onBlur:yi,onKeyDown:ie=>ie.key==="Enter"&&yi(),"data-testid":"input-player-name"}),b.jsx("p",{className:"text-xs text-muted-foreground",children:"Shared with other players in the lobby."})]}),b.jsx(Yn,{onClick:zr,className:"w-full",size:"lg","data-testid":"button-start-game",disabled:!u||it<2,children:"Start Game"}),(!u||it<2)&&b.jsx("p",{className:"text-center text-xs text-muted-foreground",children:u?"Need at least 2 players to start.":"Only the host can start the game."})]})]}),b.jsxs(gn,{children:[b.jsxs(On,{className:"pb-3",children:[b.jsx(Mn,{className:"font-heading text-lg",children:"Game Settings"}),b.jsx(ii,{children:"Hosts can tweak settings before the game begins."})]}),b.jsxs(jn,{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx(ea,{children:"Number of rounds"}),b.jsx("span",{className:"text-xs text-muted-foreground",children:hn.totalRounds})]}),b.jsx(Ou,{min:1,max:10,step:1,value:Sp(hn.totalRounds),onValueChange:Un("totalRounds"),onValueCommit:Vn("totalRounds"),disabled:!u})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx(ea,{htmlFor:"playback-duration",children:"Playback duration"}),b.jsxs("span",{className:"text-xs text-muted-foreground",children:[hn.playbackDuration,"s"]})]}),b.jsx(Ou,{id:"playback-duration",min:30,max:300,step:5,value:Sp(hn.playbackDuration),onValueChange:Un("playbackDuration"),onValueCommit:Vn("playbackDuration"),disabled:!u})]})]})]})]})]})]})]});if(m==="theme_selection")return b.jsxs("div",{className:"min-h-screen bg-background",children:[le,b.jsx("div",{className:"container mx-auto px-4 py-8 max-w-3xl",children:b.jsxs(gn,{className:"mb-6",children:[b.jsxs(On,{children:[b.jsx(Mn,{className:"font-heading text-2xl",children:"Set the Theme"}),b.jsx(ii,{children:"Waiting on the host to set the theme for this round."})]}),b.jsxs(jn,{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx(ea,{htmlFor:"theme",children:"Theme for this round"}),b.jsx(Hi,{id:"theme",placeholder:"e.g., 80s Rock, Movie Soundtracks, Summer Vibes...",value:Se,onChange:ie=>Qr(ie.target.value),className:"text-lg mt-2","data-testid":"input-theme",disabled:!u})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[b.jsx("p",{className:"text-sm text-muted-foreground",children:"Need inspiration? Pick a suggestion."}),b.jsx(Yn,{variant:"secondary",size:"sm",onClick:cn,disabled:!u,"data-testid":"button-random-theme",children:"Surprise Me"})]}),b.jsx("div",{className:"flex flex-wrap gap-2",children:fc.map(ie=>b.jsx(Yn,{type:"button",variant:"outline",size:"sm",onClick:()=>Qr(ie),disabled:!u,className:"whitespace-nowrap",children:ie},ie))})]}),u?b.jsx(Yn,{onClick:()=>n.confirmTheme?.(),disabled:!Se.trim(),className:"w-full","data-testid":"button-confirm-theme",children:"Confirm Theme"}):b.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-waiting-theme",children:"Waiting for the host to confirm the theme..."})]})]})})]});if(m==="song_picking")return b.jsxs("div",{className:"min-h-screen bg-background",children:[le,b.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:b.jsxs("div",{className:"space-y-6",children:[b.jsx(gn,{className:"bg-primary/10 border-primary",children:b.jsxs(On,{children:[b.jsx(Mn,{className:"font-heading text-2xl mb-1",children:"Pick Your Song"}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Theme:"," ",b.jsx("span",{className:"font-semibold text-foreground",children:g?.theme??"Pending"})]})]})}),!Ce&&b.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,1.5fr)_minmax(0,1fr)]",children:[b.jsxs(gn,{className:"lg:col-span-1",children:[b.jsx(On,{children:b.jsx(Mn,{className:"font-heading",children:"Search YouTube"})}),b.jsx(jn,{children:b.jsx(jN,{onSelect:Ps,selectedVideoId:k?.id})})]}),b.jsxs(gn,{className:"self-start",children:[b.jsxs(On,{children:[b.jsx(Mn,{className:"font-heading",children:"Selected Song"}),b.jsx(ii,{children:"Fine-tune the title before locking it in."})]}),b.jsx(jn,{children:k?b.jsxs("div",{className:"space-y-4",children:[b.jsx("div",{className:"overflow-hidden rounded-lg border",children:b.jsx(Yb,{videoId:k.id,autoplay:!1,startSeconds:V,interactive:!0,onReady:pn,onEnd:Ln})}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{children:[b.jsx(ea,{htmlFor:"song-title",children:"Song title to guess"}),b.jsx(Hi,{id:"song-title",value:Y,onChange:ie=>J(ie.target.value),className:"mt-2",placeholder:"Edit the title if needed...","data-testid":"input-song-title"}),b.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"This is what other players will try to guess."})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx(ea,{htmlFor:"start-seconds",children:"Start playback at"}),b.jsx("span",{className:"text-xs text-muted-foreground",children:Gb(V)})]}),b.jsx(Ou,{id:"start-seconds",min:0,max:Ee,step:1,value:Sp(V),onValueChange:ie=>{const be=mu(ie[0]??0,Ee);G(be),ve.current?.seekTo?.(be,!0)},"data-testid":"slider-start-seconds"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Hi,{type:"number",min:0,max:Ee,value:V,onChange:ie=>{const be=mu(Number(ie.target.value),Ee);G(be),ve.current?.seekTo?.(be,!0)},className:"w-24","data-testid":"input-start-seconds"}),b.jsx(Yn,{type:"button",variant:"secondary",onClick:Cr,disabled:!ve.current,"data-testid":"button-preview",children:me?b.jsxs(b.Fragment,{children:[b.jsx(VO,{className:"mr-2 h-4 w-4"})," Pause Preview"]}):b.jsxs(b.Fragment,{children:[b.jsx(FO,{className:"mr-2 h-4 w-4"})," Play Preview"]})})]})]}),b.jsx(Yn,{onClick:Ns,className:"w-full",disabled:!Y.trim(),"data-testid":"button-confirm-song",children:"Confirm Selection"})]})]}):b.jsx("div",{className:"flex min-h-[220px] items-center justify-center text-center text-sm text-muted-foreground",children:"Choose a song from the search results to review its details here."})})]})]}),Ce&&b.jsxs(gn,{children:[b.jsx(On,{children:b.jsx(Mn,{className:"font-heading",children:"You are all set!"})}),b.jsxs(jn,{className:"space-y-4",children:[b.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start",children:[Ce.thumbnail?b.jsx("div",{className:"relative w-full max-w-[200px] overflow-hidden rounded-lg border bg-muted sm:w-48",children:b.jsx("img",{src:Ce.thumbnail,alt:Ce.customTitle||Ce.originalTitle,className:"h-full w-full object-cover"})}):null,b.jsxs("div",{className:"space-y-1",children:[b.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Selected song"}),b.jsx("div",{className:"text-lg font-semibold leading-snug",children:Ce.customTitle||Ce.originalTitle}),(Ce.startSeconds??0)>0&&b.jsxs("div",{className:"text-sm text-muted-foreground",children:["Starts at ",Gb(Ce.startSeconds??0)]}),Ce.customTitle&&Ce.originalTitle&&Ce.customTitle.trim()!==Ce.originalTitle.trim()&&b.jsxs("div",{className:"text-sm text-muted-foreground",children:["Original title: ",Ce.originalTitle]})]})]}),b.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-waiting-selection",children:"Waiting for other players to finish picking."})]})]})]})})]});const Ir=!!(ee&&K===ee),Zi=Ir?"You selected this song.":Tt?"Correct! Waiting for next song...":"Type your guess...";if(m==="guessing"&&fe){const ie=x.playbackDuration>0?1-E/x.playbackDuration:0;return b.jsxs("div",{className:"min-h-screen bg-background",children:[le,b.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-5xl space-y-6",children:[b.jsx(gn,{className:"bg-accent/10 border-accent",children:b.jsx(On,{children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx(Mn,{className:"font-heading text-2xl",children:"Guess the Song!"}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:[pe.find(be=>be.id===K)?.name??"Mystery player","'s selection"]})]}),b.jsx(vN,{timeRemaining:E,totalTime:x.playbackDuration,variant:"accent"})]})})}),b.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,0.6fr)_minmax(0,1fr)]",children:[b.jsxs("div",{className:"space-y-6",children:[b.jsxs(gn,{children:[b.jsx(On,{className:"pb-0",children:b.jsx(Mn,{className:"font-heading text-lg",children:"Now Playing"})}),b.jsx(jn,{className:"pt-4",children:b.jsx("div",{className:"rounded-lg border bg-muted/30 p-2",children:b.jsx(Yb,{videoId:fe.videoId,autoplay:!0,preventPause:!0,startSeconds:fe.startSeconds??0,timerProgress:ie})})})]}),b.jsxs(gn,{children:[b.jsx(On,{children:b.jsx(Mn,{className:"font-heading text-lg",children:"Player Status"})}),b.jsx(jn,{children:b.jsx("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-3 xl:grid-cols-4",children:pe.map(be=>{const at=je[be.id]??[],pt=at.length>0,Yt=be.id===K,w=!!Nt[be.id],A=at[at.length-1];return b.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-lg bg-muted/50 p-3","data-testid":`player-status-${be.id}`,children:[b.jsx(uc,{playerId:be.id,playerName:be.name,size:"sm"}),b.jsx("div",{className:"text-xs font-medium text-center",children:be.name}),Yt?b.jsx(s_,{className:"h-4 w-4 text-primary"}):w?b.jsx(TO,{className:"h-4 w-4 text-secondary"}):pt?b.jsx(i_,{className:"h-4 w-4 text-muted-foreground"}):b.jsx(MO,{className:"h-4 w-4 text-muted-foreground"}),!Yt&&b.jsxs("div",{className:"text-center text-[10px] text-muted-foreground",children:[w?"Correct":pt?"Guessing":"Waiting",A&&!w?` (${A.guess})`:""]})]},be.id)})})})]})]}),b.jsxs(gn,{className:"flex min-h-[520px] flex-col",children:[b.jsx(On,{children:b.jsxs(Mn,{className:"flex items-center gap-2 font-heading text-lg",children:[b.jsx(zO,{className:"h-4 w-4"})," Guess Log"]})}),b.jsx(jn,{className:"flex-1 overflow-hidden px-0 pb-0",children:Tn.length===0?b.jsx("div",{className:"flex h-full items-center justify-center px-6 py-12",children:b.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"No guesses yet for this song."})}):b.jsx(Ry,{className:"h-[360px] px-6 pb-6",children:b.jsx("div",{className:"space-y-4",children:Tn.map(be=>{const at=ee&&be.playerId===ee;return b.jsxs("div",{className:Ft("flex flex-col gap-2",at?"items-end":"items-start"),children:[b.jsxs("div",{className:Ft("flex items-start gap-3",at?"flex-row-reverse":"flex-row"),children:[b.jsx(uc,{playerId:be.playerId,playerName:be.playerName,size:"sm"}),b.jsxs("div",{className:Ft("space-y-1",at?"text-right":"text-left"),children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[b.jsx("span",{children:at?"You":be.playerName}),be.isCorrect&&b.jsx(xp,{children:"Correct"})]}),b.jsxs("div",{className:Ft("max-w-xs rounded-md px-3 py-2 text-sm",at?"bg-primary text-primary-foreground":"bg-muted/40 text-muted-foreground"),children:['"',be.guess,'"']})]})]}),b.jsx("span",{className:"text-xs text-muted-foreground",children:Er(be.time)})]},be.id)})})})}),b.jsx("div",{className:"border-t bg-muted/20 p-6",children:b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[b.jsx(Hi,{placeholder:Zi,value:_e,onChange:be=>Pe(be.target.value),onKeyDown:be=>be.key==="Enter"&&ln(),className:"text-lg","data-testid":"input-guess",disabled:!xt}),b.jsx(Yn,{onClick:ln,disabled:!xt||!_e.trim(),"data-testid":"button-submit-guess",className:"sm:w-auto",children:"Submit"})]}),!xt&&Ir&&b.jsx("p",{className:"text-sm text-muted-foreground",children:"You can't guess your own song."}),!xt&&Tt&&b.jsx("p",{className:"text-sm text-muted-foreground",children:"Great job! You'll rejoin next round."}),Ue&&!Tt&&b.jsxs("p",{className:"text-xs text-muted-foreground",children:['Last guess: "',Ue.guess,'" (',Math.max(0,Math.ceil(Ue.time)),"s)"]})]})})]})]})]})]})}return m==="round_results"&&g?b.jsxs("div",{className:"min-h-screen bg-background",children:[le,b.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl space-y-6",children:b.jsxs(gn,{children:[b.jsx(On,{children:b.jsx(Mn,{className:"font-heading text-2xl text-center",children:"Round Complete!"})}),b.jsxs(jn,{className:"space-y-6",children:[b.jsxs("div",{className:"text-center space-y-4",children:[b.jsx(cm,{className:"w-16 h-16 text-primary mx-auto"}),b.jsx("h2",{className:"text-xl font-semibold",children:Zt[0]?.player?`${Zt[0]?.player.name} won this round!`:"Round complete"}),Zt[0]&&b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Earned ",Zt[0].roundScore," points this round"]})]}),b.jsx("div",{className:"space-y-3",children:Zt.map(({player:ie,roundScore:be},at)=>b.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-muted/50","data-testid":`result-player-${ie.id}`,children:[b.jsxs("div",{className:"text-2xl font-bold text-muted-foreground w-8",children:["#",at+1]}),b.jsx(uc,{playerId:ie.id,playerName:ie.name}),b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"font-semibold",children:ie.name}),b.jsxs("div",{className:"text-sm text-muted-foreground",children:[be," points this round"]})]}),b.jsx("div",{className:"text-2xl font-bold text-primary",children:ie.score})]},ie.id))}),b.jsx(Yn,{onClick:Xi,className:"w-full",size:"lg","data-testid":"button-next-round",disabled:!u,children:t.completedRounds+1<x.totalRounds?"Next Round":"View Final Scores"})]})]})})]}):m==="game_over"?b.jsxs("div",{className:"min-h-screen bg-background",children:[le,b.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl space-y-6",children:b.jsxs(gn,{children:[b.jsx(On,{children:b.jsx(Mn,{className:"font-heading text-3xl text-center",children:"Game Over!"})}),b.jsxs(jn,{className:"space-y-8",children:[b.jsxs("div",{className:"text-center space-y-4",children:[b.jsx(cm,{className:"w-24 h-24 text-primary mx-auto"}),b.jsx("h2",{className:"text-2xl font-bold",children:xn[0]?`${xn[0].name} Wins!`:"Thanks for playing!"}),b.jsx("p",{className:"text-muted-foreground",children:"Final standings"})]}),b.jsx("div",{className:"space-y-3",children:xn.map((ie,be)=>b.jsxs("div",{className:`flex items-center gap-4 p-6 rounded-lg ${be===0?"bg-primary/20 border-2 border-primary":be===1?"bg-secondary/20 border-2 border-secondary":"bg-muted/50"}`,"data-testid":`final-player-${ie.id}`,children:[b.jsx("div",{className:"text-3xl font-bold w-12",children:be===0?"":be===1?"":be===2?"":`#${be+1}`}),b.jsx(uc,{playerId:ie.id,playerName:ie.name,size:"lg"}),b.jsx("div",{className:"flex-1",children:b.jsx("div",{className:"text-xl font-bold",children:ie.name})}),b.jsx("div",{className:"text-3xl font-bold text-primary",children:ie.score})]},ie.id))}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx(Yn,{variant:"outline",className:"flex-1","data-testid":"button-new-game",onClick:gi,disabled:!u,children:"Restart Lobby"}),b.jsx(Yn,{className:"flex-1","data-testid":"button-back-home",onClick:vi,disabled:!u,children:"End Session"})]})]})]})})]}):b.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-gradient-to-br from-primary/10 via-background to-secondary/10",children:[le,b.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_top,_theme(colors.primary/15),transparent_60%)]"}),b.jsx("div",{className:"relative flex min-h-screen flex-col items-center justify-center px-6 py-16",children:b.jsxs("div",{className:"w-full max-w-md space-y-6 rounded-3xl border border-border/50 bg-background/90 p-10 text-center shadow-xl backdrop-blur",children:[b.jsx("div",{className:"flex items-center justify-center",children:b.jsx(oy,{className:"h-12 w-12 animate-spin text-primary"})}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h2",{className:"text-2xl font-heading",children:"Connecting to your room"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Setting the stage and syncing players. Hang tightthis should only take a moment."})]}),a?b.jsx("div",{className:"flex justify-center",children:b.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-border/70 bg-muted/40 px-4 py-2 font-mono text-xs uppercase tracking-[0.3em] text-muted-foreground",children:["Room",b.jsx("span",{className:"text-foreground",children:a})]})}):null]})})]})}function HN(){return b.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:b.jsx(gn,{className:"w-full max-w-md mx-4",children:b.jsxs(jn,{className:"pt-6",children:[b.jsxs("div",{className:"flex mb-4 gap-2",children:[b.jsx(EO,{className:"h-8 w-8 text-red-500"}),b.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),b.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}let $N="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",VN=(t=21)=>{let e="",n=t|0;for(;n--;)e+=$N[Math.random()*64|0];return e};function Yr(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(a){return"'"+a+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function oo(t){return!!t&&!!t[Sr]}function la(t){var e;return!!t&&((function(n){if(!n||typeof n!="object")return!1;var i=Object.getPrototypeOf(n);if(i===null)return!0;var a=Object.hasOwnProperty.call(i,"constructor")&&i.constructor;return a===Object||typeof a=="function"&&Function.toString.call(a)===ZN})(t)||Array.isArray(t)||!!t[t1]||!!(!((e=t.constructor)===null||e===void 0)&&e[t1])||Ay(t)||Oy(t))}function Dc(t,e,n){n===void 0&&(n=!1),mo(t)===0?(n?Object.keys:ky)(t).forEach((function(i){n&&typeof i=="symbol"||e(i,t[i],t)})):t.forEach((function(i,a){return e(a,i,t)}))}function mo(t){var e=t[Sr];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Ay(t)?2:Oy(t)?3:0}function xm(t,e){return mo(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function qN(t,e){return mo(t)===2?t.get(e):t[e]}function Zw(t,e,n){var i=mo(t);i===2?t.set(e,n):i===3?t.add(n):t[e]=n}function FN(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Ay(t){return XN&&t instanceof Map}function Oy(t){return QN&&t instanceof Set}function ta(t){return t.o||t.t}function My(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=JN(t);delete e[Sr];for(var n=ky(e),i=0;i<n.length;i++){var a=n[i],c=e[a];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(e[a]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[a]})}return Object.create(Object.getPrototypeOf(t),e)}function Py(t,e){return e===void 0&&(e=!1),Ny(t)||oo(t)||!la(t)||(mo(t)>1&&(t.set=t.add=t.clear=t.delete=YN),Object.freeze(t),e&&Dc(t,(function(n,i){return Py(i,!0)}),!0)),t}function YN(){Yr(2)}function Ny(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function li(t){var e=WN[t];return e||Yr(18,t),e}function Kb(){return kc}function _p(t,e){e&&(li("Patches"),t.u=[],t.s=[],t.v=e)}function rf(t){bm(t),t.p.forEach(GN),t.p=null}function bm(t){t===kc&&(kc=t.l)}function Xb(t){return kc={p:[],l:kc,h:t,m:!0,_:0}}function GN(t){var e=t[Sr];e.i===0||e.i===1?e.j():e.g=!0}function wp(t,e){e._=e.p.length;var n=e.p[0],i=t!==void 0&&t!==n;return e.h.O||li("ES5").S(e,t,i),i?(n[Sr].P&&(rf(e),Yr(4)),la(t)&&(t=sf(e,t),e.l||af(e,t)),e.u&&li("Patches").M(n[Sr].t,t,e.u,e.s)):t=sf(e,n,[]),rf(e),e.u&&e.v(e.u,e.s),t!==Jw?t:void 0}function sf(t,e,n){if(Ny(e))return e;var i=e[Sr];if(!i)return Dc(e,(function(f,d){return Qb(t,i,e,f,d,n)}),!0),e;if(i.A!==t)return e;if(!i.P)return af(t,i.t,!0),i.t;if(!i.I){i.I=!0,i.A._--;var a=i.i===4||i.i===5?i.o=My(i.k):i.o,c=a,u=!1;i.i===3&&(c=new Set(a),a.clear(),u=!0),Dc(c,(function(f,d){return Qb(t,i,a,f,d,n,u)})),af(t,a,!1),n&&t.u&&li("Patches").N(i,n,t.u,t.s)}return i.o}function Qb(t,e,n,i,a,c,u){if(oo(a)){var f=sf(t,a,c&&e&&e.i!==3&&!xm(e.R,i)?c.concat(i):void 0);if(Zw(n,i,f),!oo(f))return;t.m=!1}else u&&n.add(a);if(la(a)&&!Ny(a)){if(!t.h.D&&t._<1)return;sf(t,a),e&&e.A.l||af(t,a)}}function af(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&Py(e,n)}function Ep(t,e){var n=t[Sr];return(n?ta(n):t)[e]}function Zb(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var i=Object.getOwnPropertyDescriptor(n,e);if(i)return i;n=Object.getPrototypeOf(n)}}function Sm(t){t.P||(t.P=!0,t.l&&Sm(t.l))}function Cp(t){t.o||(t.o=My(t.t))}function _m(t,e,n){var i=Ay(e)?li("MapSet").F(e,n):Oy(e)?li("MapSet").T(e,n):t.O?(function(a,c){var u=Array.isArray(a),f={i:u?1:0,A:c?c.A:Kb(),P:!1,I:!1,R:{},l:c,t:a,k:null,o:null,j:null,C:!1},d=f,h=wm;u&&(d=[f],h=xc);var m=Proxy.revocable(d,h),g=m.revoke,x=m.proxy;return f.k=x,f.j=g,x})(e,n):li("ES5").J(e,n);return(n?n.A:Kb()).p.push(i),i}function KN(t){return oo(t)||Yr(22,t),(function e(n){if(!la(n))return n;var i,a=n[Sr],c=mo(n);if(a){if(!a.P&&(a.i<4||!li("ES5").K(a)))return a.t;a.I=!0,i=Jb(n,c),a.I=!1}else i=Jb(n,c);return Dc(i,(function(u,f){a&&qN(a.t,u)===f||Zw(i,u,e(f))})),c===3?new Set(i):i})(t)}function Jb(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return My(t)}var Wb,kc,Dy=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",XN=typeof Map<"u",QN=typeof Set<"u",e1=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Jw=Dy?Symbol.for("immer-nothing"):((Wb={})["immer-nothing"]=!0,Wb),t1=Dy?Symbol.for("immer-draftable"):"__$immer_draftable",Sr=Dy?Symbol.for("immer-state"):"__$immer_state",ZN=""+Object.prototype.constructor,ky=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,JN=Object.getOwnPropertyDescriptors||function(t){var e={};return ky(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},WN={},wm={get:function(t,e){if(e===Sr)return t;var n=ta(t);if(!xm(n,e))return(function(a,c,u){var f,d=Zb(c,u);return d?"value"in d?d.value:(f=d.get)===null||f===void 0?void 0:f.call(a.k):void 0})(t,n,e);var i=n[e];return t.I||!la(i)?i:i===Ep(t.t,e)?(Cp(t),t.o[e]=_m(t.A.h,i,t)):i},has:function(t,e){return e in ta(t)},ownKeys:function(t){return Reflect.ownKeys(ta(t))},set:function(t,e,n){var i=Zb(ta(t),e);if(i?.set)return i.set.call(t.k,n),!0;if(!t.P){var a=Ep(ta(t),e),c=a?.[Sr];if(c&&c.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(FN(n,a)&&(n!==void 0||xm(t.t,e)))return!0;Cp(t),Sm(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Ep(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Cp(t),Sm(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=ta(t),i=Reflect.getOwnPropertyDescriptor(n,e);return i&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:i.enumerable,value:n[e]}},defineProperty:function(){Yr(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Yr(12)}},xc={};Dc(wm,(function(t,e){xc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),xc.deleteProperty=function(t,e){return xc.set.call(this,t,e,void 0)},xc.set=function(t,e,n){return wm.set.call(this,t[0],e,n,t[0])};var eD=(function(){function t(n){var i=this;this.O=e1,this.D=!0,this.produce=function(a,c,u){if(typeof a=="function"&&typeof c!="function"){var f=c;c=a;var d=i;return function(C){var M=this;C===void 0&&(C=f);for(var D=arguments.length,N=Array(D>1?D-1:0),k=1;k<D;k++)N[k-1]=arguments[k];return d.produce(C,(function(j){var Y;return(Y=c).call.apply(Y,[M,j].concat(N))}))}}var h;if(typeof c!="function"&&Yr(6),u!==void 0&&typeof u!="function"&&Yr(7),la(a)){var m=Xb(i),g=_m(i,a,void 0),x=!0;try{h=c(g),x=!1}finally{x?rf(m):bm(m)}return typeof Promise<"u"&&h instanceof Promise?h.then((function(C){return _p(m,u),wp(C,m)}),(function(C){throw rf(m),C})):(_p(m,u),wp(h,m))}if(!a||typeof a!="object"){if((h=c(a))===void 0&&(h=a),h===Jw&&(h=void 0),i.D&&Py(h,!0),u){var S=[],E=[];li("Patches").M(a,h,S,E),u(S,E)}return h}Yr(21,a)},this.produceWithPatches=function(a,c){if(typeof a=="function")return function(h){for(var m=arguments.length,g=Array(m>1?m-1:0),x=1;x<m;x++)g[x-1]=arguments[x];return i.produceWithPatches(h,(function(S){return a.apply(void 0,[S].concat(g))}))};var u,f,d=i.produce(a,c,(function(h,m){u=h,f=m}));return typeof Promise<"u"&&d instanceof Promise?d.then((function(h){return[h,u,f]})):[d,u,f]},typeof n?.useProxies=="boolean"&&this.setUseProxies(n.useProxies),typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){la(n)||Yr(8),oo(n)&&(n=KN(n));var i=Xb(this),a=_m(this,n,void 0);return a[Sr].C=!0,bm(i),a},e.finishDraft=function(n,i){var a=n&&n[Sr],c=a.A;return _p(c,i),wp(void 0,c)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!e1&&Yr(20),this.O=n},e.applyPatches=function(n,i){var a;for(a=i.length-1;a>=0;a--){var c=i[a];if(c.path.length===0&&c.op==="replace"){n=c.value;break}}a>-1&&(i=i.slice(a+1));var u=li("Patches").$;return oo(n)?u(n,i):this.produce(n,(function(f){return u(f,i)}))},t})(),_r=new eD,tD=_r.produce;_r.produceWithPatches.bind(_r);_r.setAutoFreeze.bind(_r);_r.setUseProxies.bind(_r);_r.applyPatches.bind(_r);_r.createDraft.bind(_r);_r.finishDraft.bind(_r);class nD{constructor(e){const n=rD();this.c=1,this.s0=n(" "),this.s1=n(" "),this.s2=n(" "),this.s0-=n(e),this.s0<0&&(this.s0+=1),this.s1-=n(e),this.s1<0&&(this.s1+=1),this.s2-=n(e),this.s2<0&&(this.s2+=1)}next(){const e=2091639*this.s0+this.c*23283064365386963e-26;return this.s0=this.s1,this.s1=this.s2,this.s2=e-(this.c=Math.trunc(e))}}function rD(){let t=4022871197;return function(n){const i=n.toString();for(let a=0;a<i.length;a++){t+=i.charCodeAt(a);let c=.02519603282416938*t;t=c>>>0,c-=t,c*=t,t=c>>>0,c-=t,t+=c*4294967296}return(t>>>0)*23283064365386963e-26}}function n1(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function Ww(t,e){const n=new nD(t),i=n.next.bind(n);return e&&n1(e,n),i.state=()=>n1(n,{}),i}class r1{constructor(e){this.state=e||{seed:"0"},this.used=!1}static seed(){return Date.now().toString(36).slice(-10)}isUsed(){return this.used}getState(){return this.state}_random(){this.used=!0;const e=this.state,n=e.prngstate?"":e.seed,i=Ww(n,e.prngstate),a=i();return this.state={...e,prngstate:i.state()},a}api(){const e=this._random.bind(this),n={D4:4,D6:6,D8:8,D10:10,D12:12,D20:20},i={};for(const c in n){const u=n[c];i[c]=f=>f===void 0?Math.floor(e()*u)+1:Array.from({length:f}).map(()=>Math.floor(e()*u)+1)}function a(c=6,u){return u===void 0?Math.floor(e()*c)+1:Array.from({length:u}).map(()=>Math.floor(e()*c)+1)}return{...i,Die:a,Number:()=>e(),Shuffle:c=>{const u=[...c];let f=c.length,d=0;const h=Array.from({length:f});for(;f;){const m=Math.trunc(f*e());h[d++]=u[m],u[m]=u[--f]}return h},_private:this}}}const iD={name:"random",noClient:({api:t})=>t._private.isUsed(),flush:({api:t})=>t._private.getState(),api:({data:t})=>new r1(t).api(),setup:({game:t})=>{let{seed:e}=t;return e===void 0&&(e=r1.seed()),{seed:e}},playerView:()=>{}};var Tp,i1;function sD(){if(i1)return Tp;i1=1;var t="[object Object]";function e(x){var S=!1;if(x!=null&&typeof x.toString!="function")try{S=!!(x+"")}catch{}return S}function n(x,S){return function(E){return x(S(E))}}var i=Function.prototype,a=Object.prototype,c=i.toString,u=a.hasOwnProperty,f=c.call(Object),d=a.toString,h=n(Object.getPrototypeOf,Object);function m(x){return!!x&&typeof x=="object"}function g(x){if(!m(x)||d.call(x)!=t||e(x))return!1;var S=h(x);if(S===null)return!0;var E=u.call(S,"constructor")&&S.constructor;return typeof E=="function"&&E instanceof E&&c.call(E)==f}return Tp=g,Tp}sD();const jc="MAKE_MOVE",Lf="GAME_EVENT",Uf="REDO",jy="RESET",Ly="SYNC",zf="UNDO",Uy="UPDATE",zy="PATCH",eE="PLUGIN",If="STRIP_TRANSIENTS",tE=(t,e,n,i)=>({type:jc,payload:{type:t,args:e,playerID:n,credentials:i}}),Tc=(t,e,n,i)=>({type:Lf,payload:{type:t,args:e,playerID:n,credentials:i}}),nE=(t,e,n,i)=>({type:Lf,payload:{type:t,args:e,playerID:n,credentials:i},automatic:!0}),rE=t=>({type:Ly,state:t.state,log:t.log,initialState:t.initialState,clientOnly:!0}),iE=(t,e,n,i)=>({type:zy,prevStateID:t,stateID:e,patch:n,deltalog:i,clientOnly:!0}),sE=(t,e)=>({type:Uy,state:t,deltalog:e,clientOnly:!0}),aE=t=>({type:jy,state:t,clientOnly:!0}),oE=(t,e)=>({type:zf,payload:{type:null,args:null,playerID:t,credentials:e}}),cE=(t,e)=>({type:Uf,payload:{type:null,args:null,playerID:t,credentials:e}}),aD=(t,e,n,i)=>({type:eE,payload:{type:t,args:e,playerID:n,credentials:i}}),lE=()=>({type:If});var oD=Object.freeze({__proto__:null,makeMove:tE,gameEvent:Tc,automaticGameEvent:nE,sync:rE,patch:iE,update:sE,reset:aE,undo:oE,redo:cE,plugin:aD,stripTransients:lE});const Em="INVALID_MOVE",cD={name:"plugin-immer",fnWrap:t=>(e,...n)=>{let i=!1;const a=tD(e.G,c=>{const u=t({...e,G:c},...n);if(u===Em){i=!0;return}return u});return i?Em:a}};var Gn;(function(t){t.MOVE="MOVE",t.GAME_ON_END="GAME_ON_END",t.PHASE_ON_BEGIN="PHASE_ON_BEGIN",t.PHASE_ON_END="PHASE_ON_END",t.TURN_ON_BEGIN="TURN_ON_BEGIN",t.TURN_ON_MOVE="TURN_ON_MOVE",t.TURN_ON_END="TURN_ON_END"})(Gn||(Gn={}));var Bi;(function(t){t.CalledOutsideHook="Events must be called from moves or the `onBegin`, `onEnd`, and `onMove` hooks.\nThis error probably means you called an event from other game code, like an `endIf` trigger or one of the `turn.order` methods.",t.EndTurnInOnEnd="`endTurn` is disallowed in `onEnd` hooks  the turn is already ending.",t.MaxTurnEndings=`Maximum number of turn endings exceeded for this update.
This likely means game code is triggering an infinite loop.`,t.PhaseEventInOnEnd="`setPhase` & `endPhase` are disallowed in a phases `onEnd` hook  the phase is already ending.\nIf youre trying to dynamically choose the next phase when a phase ends, use the phases `next` trigger.",t.StageEventInOnEnd="`setStage`, `endStage` & `setActivePlayers` are disallowed in `onEnd` hooks.",t.StageEventInPhaseBegin="`setStage`, `endStage` & `setActivePlayers` are disallowed in a phases `onBegin` hook.\nUse `setActivePlayers` in a `turn.onBegin` hook or declare stages with `turn.activePlayers` instead.",t.StageEventInTurnBegin="`setStage` & `endStage` are disallowed in `turn.onBegin`.\nUse `setActivePlayers` or declare stages with `turn.activePlayers` instead."})(Bi||(Bi={}));class lD{constructor(e,n,i){this.flow=e,this.playerID=i,this.dispatch=[],this.initialTurn=n.turn,this.updateTurnContext(n,void 0),this.maxEndedTurnsPerAction=n.numPlayers*100}api(){const e={_private:this};for(const n of this.flow.eventNames)e[n]=(...i)=>{this.dispatch.push({type:n,args:i,phase:this.currentPhase,turn:this.currentTurn,calledFrom:this.currentMethod,error:new Error("Events Plugin Error")})};return e}isUsed(){return this.dispatch.length>0}updateTurnContext(e,n){this.currentPhase=e.phase,this.currentTurn=e.turn,this.currentMethod=n}unsetCurrentMethod(){this.currentMethod=void 0}update(e){const n=e,i=({stack:a},c)=>({...n,plugins:{...n.plugins,events:{...n.plugins.events,data:{error:c+`
`+a}}}});e:for(let a=0;a<this.dispatch.length;a++){const c=this.dispatch[a],u=c.turn!==e.ctx.turn;if(this.currentTurn-this.initialTurn>=this.maxEndedTurnsPerAction)return i(c.error,Bi.MaxTurnEndings);if(c.calledFrom===void 0)return i(c.error,Bi.CalledOutsideHook);if(e.ctx.gameover)break e;switch(c.type){case"endStage":case"setStage":case"setActivePlayers":{switch(c.calledFrom){case Gn.TURN_ON_END:case Gn.PHASE_ON_END:return i(c.error,Bi.StageEventInOnEnd);case Gn.PHASE_ON_BEGIN:return i(c.error,Bi.StageEventInPhaseBegin);case Gn.TURN_ON_BEGIN:if(c.type==="setActivePlayers")break;return i(c.error,Bi.StageEventInTurnBegin)}if(u)continue e;break}case"endTurn":{if(c.calledFrom===Gn.TURN_ON_END||c.calledFrom===Gn.PHASE_ON_END)return i(c.error,Bi.EndTurnInOnEnd);if(u)continue e;break}case"endPhase":case"setPhase":{if(c.calledFrom===Gn.PHASE_ON_END)return i(c.error,Bi.PhaseEventInOnEnd);if(c.phase!==e.ctx.phase)continue e;break}}const d=nE(c.type,c.args,this.playerID);e=this.flow.processEvent(e,d)}return e}}const Iy={name:"events",noClient:({api:t})=>t._private.isUsed(),isInvalid:({data:t})=>t.error||!1,fnWrap:(t,e)=>(n,...i)=>{const a=n.events;a&&a._private.updateTurnContext(n.ctx,e);const c=t(n,...i);return a&&a._private.unsetCurrentMethod(),c},dangerouslyFlushRawState:({state:t,api:e})=>e._private.update(t),api:({game:t,ctx:e,playerID:n})=>new lD(t.flow,e,n).api()},uD={name:"log",flush:()=>({}),api:({data:t})=>({setMetadata:e=>{t.metadata=e}}),setup:()=>({})},fD={name:"plugin-serializable",fnWrap:t=>(e,...n)=>t(e,...n)},dD=(...t)=>console.error(...t);function Bt(t){dD("ERROR:",t)}const By=[cD,iD,uD,fD],qc=[...By,Iy],hD=(t,e,n)=>(n.game.plugins.filter(i=>i.action!==void 0).filter(i=>i.name===e.payload.type).forEach(i=>{const a=i.name,c=t.plugins[a]||{data:{}},u=i.action(c.data,e.payload);t={...t,plugins:{...t.plugins,[a]:{...c,data:u}}}}),t),co=({plugins:t})=>Object.entries(t||{}).reduce((e,[n,{api:i}])=>(e[n]=i,e),{}),uE=(t,e,n)=>[...By,...n,Iy].filter(i=>i.fnWrap!==void 0).reduce((i,{fnWrap:a})=>a(i,e),t),pD=(t,e)=>([...qc,...e.game.plugins].filter(n=>n.setup!==void 0).forEach(n=>{const i=n.name,a=n.setup({G:t.G,ctx:t.ctx,game:e.game});t={...t,plugins:{...t.plugins,[i]:{data:a}}}}),t),Cm=(t,e)=>([...qc,...e.game.plugins].filter(n=>n.api!==void 0).forEach(n=>{const i=n.name,a=t.plugins[i]||{data:{}},c=n.api({G:t.G,ctx:t.ctx,data:a.data,game:e.game,playerID:e.playerID});t={...t,plugins:{...t.plugins,[i]:{...a,api:c}}}}),t),mD=(t,e)=>([...By,...e.game.plugins,Iy].reverse().forEach(n=>{const i=n.name,a=t.plugins[i]||{data:{}};if(n.flush){const c=n.flush({G:t.G,ctx:t.ctx,game:e.game,api:a.api,data:a.data});t={...t,plugins:{...t.plugins,[n.name]:{data:c}}}}else if(n.dangerouslyFlushRawState){t=n.dangerouslyFlushRawState({state:t,game:e.game,api:a.api,data:a.data});const c=t.plugins[i].data;t={...t,plugins:{...t.plugins,[n.name]:{data:c}}}}}),t),yD=(t,e)=>[...qc,...e.game.plugins].filter(n=>n.noClient!==void 0).map(n=>{const i=n.name,a=t.plugins[i];return a?n.noClient({G:t.G,ctx:t.ctx,game:e.game,api:a.api,data:a.data}):!1}).includes(!0),gD=(t,e)=>[...qc,...e.game.plugins].filter(i=>i.isInvalid!==void 0).map(i=>{const{name:a}=i,c=t.plugins[a],u=i.isInvalid({G:t.G,ctx:t.ctx,game:e.game,data:c&&c.data});return u?{plugin:a,message:u}:!1}).find(i=>i)||!1,fE=(t,e)=>{const n=mD(t,e),i=gD(n,e);if(!i)return[n];const{plugin:a,message:c}=i;return Bt(`${a} plugin declared action invalid:
${c}`),[t,i]},dE=({G:t,ctx:e,plugins:n={}},{game:i,playerID:a})=>([...qc,...i.plugins].forEach(({name:c,playerView:u})=>{if(!u)return;const{data:f}=n[c]||{data:{}},d=u({G:t,ctx:e,game:i,data:f,playerID:a});n={...n,[c]:{data:d}}}),n);function of(t,e=!1){t.moveLimit&&(e&&(t.minMoves=t.moveLimit),t.maxMoves=t.moveLimit,delete t.moveLimit)}function cf(t,e){let n={},i=[],a=null,c={},u={};if(Array.isArray(e)){const d={};e.forEach(h=>d[h]=lf.NULL),n=d}else{if(of(e),e.next&&(a=e.next),e.revert&&(i=[...t._prevActivePlayers,{activePlayers:t.activePlayers,_activePlayersMinMoves:t._activePlayersMinMoves,_activePlayersMaxMoves:t._activePlayersMaxMoves,_activePlayersNumMoves:t._activePlayersNumMoves}]),e.currentPlayer!==void 0&&yu(n,c,u,t.currentPlayer,e.currentPlayer),e.others!==void 0)for(let d=0;d<t.playOrder.length;d++){const h=t.playOrder[d];h!==t.currentPlayer&&yu(n,c,u,h,e.others)}if(e.all!==void 0)for(let d=0;d<t.playOrder.length;d++){const h=t.playOrder[d];yu(n,c,u,h,e.all)}if(e.value)for(const d in e.value)yu(n,c,u,d,e.value[d]);if(e.minMoves)for(const d in n)c[d]===void 0&&(c[d]=e.minMoves);if(e.maxMoves)for(const d in n)u[d]===void 0&&(u[d]=e.maxMoves)}Object.keys(n).length===0&&(n=null),Object.keys(c).length===0&&(c=null),Object.keys(u).length===0&&(u=null);const f={};for(const d in n)f[d]=0;return{...t,activePlayers:n,_activePlayersMinMoves:c,_activePlayersMaxMoves:u,_activePlayersNumMoves:f,_prevActivePlayers:i,_nextActivePlayers:a}}function vD(t){let{activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:i,_activePlayersNumMoves:a,_prevActivePlayers:c,_nextActivePlayers:u}=t;if(e&&Object.keys(e).length===0)if(u)t=cf(t,u),{activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:i,_activePlayersNumMoves:a,_prevActivePlayers:c}=t;else if(c.length>0){const f=c.length-1;({activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:i,_activePlayersNumMoves:a}=c[f]),c=c.slice(0,f)}else e=null,n=null,i=null;return{...t,activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:i,_activePlayersNumMoves:a,_prevActivePlayers:c}}function yu(t,e,n,i,a){(typeof a!="object"||a===lf.NULL)&&(a={stage:a}),a.stage!==void 0&&(of(a),t[i]=a.stage,a.minMoves&&(e[i]=a.minMoves),a.maxMoves&&(n[i]=a.maxMoves))}function Tm(t,e){return t[e]+""}function xD(t,e){let{G:n,ctx:i}=t;const{numPlayers:a}=i,u={...co(t),G:n,ctx:i},f=e.order;let d=[...Array.from({length:a})].map((x,S)=>S+"");f.playOrder!==void 0&&(d=f.playOrder(u));const h=f.first(u),m=typeof h;m!=="number"&&Bt(`invalid value returned by turn.order.first  expected number got ${m} ${h}.`);const g=Tm(d,h);return i={...i,currentPlayer:g,playOrderPos:h,playOrder:d},i=cf(i,e.activePlayers||{}),i}function bD(t,e,n,i){const a=n.order;let{G:c,ctx:u}=t,f=u.playOrderPos,d=!1;if(i&&i!==!0)typeof i!="object"&&Bt(`invalid argument to endTurn: ${i}`),Object.keys(i).forEach(h=>{switch(h){case"remove":e=Tm(u.playOrder,f);break;case"next":f=u.playOrder.indexOf(i.next),e=i.next;break;default:Bt(`invalid argument to endTurn: ${h}`)}});else{const m={...co(t),G:c,ctx:u},g=a.next(m),x=typeof g;g!==void 0&&x!=="number"&&Bt(`invalid value returned by turn.order.next  expected number or undefined got ${x} ${g}.`),g===void 0?d=!0:(f=g,e=Tm(u.playOrder,f))}return u={...u,playOrderPos:f,currentPlayer:e},{endPhase:d,ctx:u}}const SD={DEFAULT:{first:({ctx:t})=>t.turn===0?t.playOrderPos:(t.playOrderPos+1)%t.playOrder.length,next:({ctx:t})=>(t.playOrderPos+1)%t.playOrder.length}},lf={NULL:null};var Rp={},zi={},s1;function hE(){if(s1)return zi;s1=1,Object.defineProperty(zi,"__esModule",{value:!0}),zi.Pointer=zi.escapeToken=zi.unescapeToken=void 0;function t(i){return i.replace(/~1/g,"/").replace(/~0/g,"~")}zi.unescapeToken=t;function e(i){return i.replace(/~/g,"~0").replace(/\//g,"~1")}zi.escapeToken=e;var n=(function(){function i(a){a===void 0&&(a=[""]),this.tokens=a}return i.fromJSON=function(a){var c=a.split("/").map(t);if(c[0]!=="")throw new Error("Invalid JSON Pointer: ".concat(a));return new i(c)},i.prototype.toString=function(){return this.tokens.map(e).join("/")},i.prototype.evaluate=function(a){for(var c=null,u="",f=a,d=1,h=this.tokens.length;d<h;d++)c=f,u=this.tokens[d],!(u=="__proto__"||u=="constructor"||u=="prototype")&&(f=(c||{})[u]);return{parent:c,key:u,value:f}},i.prototype.get=function(a){return this.evaluate(a).value},i.prototype.set=function(a,c){var u=this.evaluate(a);u.parent&&(u.parent[u.key]=c)},i.prototype.push=function(a){this.tokens.push(a)},i.prototype.add=function(a){var c=this.tokens.concat(String(a));return new i(c)},i})();return zi.Pointer=n,zi}var nn={},Ap={},a1;function pE(){return a1||(a1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.clone=t.objectType=t.hasOwnProperty=void 0,t.hasOwnProperty=Object.prototype.hasOwnProperty;function e(a){return a===void 0?"undefined":a===null?"null":Array.isArray(a)?"array":typeof a}t.objectType=e;function n(a){return a!=null&&typeof a=="object"}function i(a){if(!n(a))return a;if(a.constructor==Array){for(var c=a.length,u=new Array(c),f=0;f<c;f++)u[f]=i(a[f]);return u}if(a.constructor==Date){var d=new Date(+a);return d}var h={};for(var m in a)t.hasOwnProperty.call(a,m)&&(h[m]=i(a[m]));return h}t.clone=i})(Ap)),Ap}var Zn={},o1;function mE(){if(o1)return Zn;o1=1,Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.diffAny=Zn.diffObjects=Zn.diffArrays=Zn.intersection=Zn.subtract=Zn.isDestructive=void 0;var t=pE();function e(m){var g=m.op;return g==="remove"||g==="replace"||g==="copy"||g==="move"}Zn.isDestructive=e;function n(m,g){var x={};for(var S in m)t.hasOwnProperty.call(m,S)&&m[S]!==void 0&&(x[S]=1);for(var E in g)t.hasOwnProperty.call(g,E)&&g[E]!==void 0&&delete x[E];return Object.keys(x)}Zn.subtract=n;function i(m){for(var g=m.length,x={},S=0;S<g;S++){var E=m[S];for(var C in E)t.hasOwnProperty.call(E,C)&&E[C]!==void 0&&(x[C]=(x[C]||0)+1)}for(var C in x)x[C]<g&&delete x[C];return Object.keys(x)}Zn.intersection=i;function a(m){return m.op==="add"}function c(m){return m.op==="remove"}function u(m,g){return{operations:m.operations.concat(g),cost:m.cost+1}}function f(m,g,x,S){S===void 0&&(S=h);var E={"0,0":{operations:[],cost:0}};function C(j,Y){var J="".concat(j,",").concat(Y),V=E[J];if(V===void 0){if(j>0&&Y>0&&!S(m[j-1],g[Y-1],x.add(String(j-1))).length)V=C(j-1,Y-1);else{var G=[];if(j>0){var me=C(j-1,Y),xe={op:"remove",index:j-1};G.push(u(me,xe))}if(Y>0){var ve=C(j,Y-1),Ee={op:"add",index:j-1,value:g[Y-1]};G.push(u(ve,Ee))}if(j>0&&Y>0){var Ye=C(j-1,Y-1),_e={op:"replace",index:j-1,original:m[j-1],value:g[Y-1]};G.push(u(Ye,_e))}var Pe=G.sort(function(H,se){return H.cost-se.cost})[0];V=Pe}E[J]=V}return V}var M=isNaN(m.length)||m.length<=0?0:m.length,D=isNaN(g.length)||g.length<=0?0:g.length,N=C(M,D).operations,k=N.reduce(function(j,Y){var J=j[0],V=j[1];if(a(Y)){var G=Y.index+1+V,me=G<M+V?String(G):"-",xe={op:Y.op,path:x.add(me).toString(),value:Y.value};return[J.concat(xe),V+1]}else if(c(Y)){var xe={op:Y.op,path:x.add(String(Y.index+V)).toString()};return[J.concat(xe),V-1]}else{var ve=x.add(String(Y.index+V)),Ee=S(Y.original,Y.value,ve);return[J.concat.apply(J,Ee),V]}},[[],0])[0];return k}Zn.diffArrays=f;function d(m,g,x,S){S===void 0&&(S=h);var E=[];return n(m,g).forEach(function(C){E.push({op:"remove",path:x.add(C).toString()})}),n(g,m).forEach(function(C){E.push({op:"add",path:x.add(C).toString(),value:g[C]})}),i([m,g]).forEach(function(C){E.push.apply(E,S(m[C],g[C],x.add(C)))}),E}Zn.diffObjects=d;function h(m,g,x,S){if(S===void 0&&(S=h),m===g)return[];var E=(0,t.objectType)(m),C=(0,t.objectType)(g);return E=="array"&&C=="array"?f(m,g,x,S):E=="object"&&C=="object"?d(m,g,x,S):[{op:"replace",path:x.toString(),value:g}]}return Zn.diffAny=h,Zn}var c1;function _D(){if(c1)return nn;c1=1;var t=nn&&nn.__extends||(function(){var M=function(D,N){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,j){k.__proto__=j}||function(k,j){for(var Y in j)Object.prototype.hasOwnProperty.call(j,Y)&&(k[Y]=j[Y])},M(D,N)};return function(D,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");M(D,N);function k(){this.constructor=D}D.prototype=N===null?Object.create(N):(k.prototype=N.prototype,new k)}})();Object.defineProperty(nn,"__esModule",{value:!0}),nn.apply=nn.InvalidOperationError=nn.test=nn.copy=nn.move=nn.replace=nn.remove=nn.add=nn.TestError=nn.MissingError=void 0;var e=hE(),n=pE(),i=mE(),a=(function(M){t(D,M);function D(N){var k=M.call(this,"Value required at path: ".concat(N))||this;return k.path=N,k.name="MissingError",k}return D})(Error);nn.MissingError=a;var c=(function(M){t(D,M);function D(N,k){var j=M.call(this,"Test failed: ".concat(N," != ").concat(k))||this;return j.actual=N,j.expected=k,j.name="TestError",j}return D})(Error);nn.TestError=c;function u(M,D,N){if(Array.isArray(M))if(D=="-")M.push(N);else{var k=parseInt(D,10);M.splice(k,0,N)}else M[D]=N}function f(M,D){if(Array.isArray(M)){var N=parseInt(D,10);M.splice(N,1)}else delete M[D]}function d(M,D){var N=e.Pointer.fromJSON(D.path).evaluate(M);return N.parent===void 0?new a(D.path):(u(N.parent,N.key,(0,n.clone)(D.value)),null)}nn.add=d;function h(M,D){var N=e.Pointer.fromJSON(D.path).evaluate(M);return N.value===void 0?new a(D.path):(f(N.parent,N.key),null)}nn.remove=h;function m(M,D){var N=e.Pointer.fromJSON(D.path).evaluate(M);if(N.parent===null)return new a(D.path);if(Array.isArray(N.parent)){if(parseInt(N.key,10)>=N.parent.length)return new a(D.path)}else if(N.value===void 0)return new a(D.path);return N.parent[N.key]=(0,n.clone)(D.value),null}nn.replace=m;function g(M,D){var N=e.Pointer.fromJSON(D.from).evaluate(M);if(N.value===void 0)return new a(D.from);var k=e.Pointer.fromJSON(D.path).evaluate(M);return k.parent===void 0?new a(D.path):(f(N.parent,N.key),u(k.parent,k.key,N.value),null)}nn.move=g;function x(M,D){var N=e.Pointer.fromJSON(D.from).evaluate(M);if(N.value===void 0)return new a(D.from);var k=e.Pointer.fromJSON(D.path).evaluate(M);return k.parent===void 0?new a(D.path):(u(k.parent,k.key,(0,n.clone)(N.value)),null)}nn.copy=x;function S(M,D){var N=e.Pointer.fromJSON(D.path).evaluate(M);return(0,i.diffAny)(N.value,D.value,new e.Pointer).length?new c(N.value,D.value):null}nn.test=S;var E=(function(M){t(D,M);function D(N){var k=M.call(this,"Invalid operation: ".concat(N.op))||this;return k.operation=N,k.name="InvalidOperationError",k}return D})(Error);nn.InvalidOperationError=E;function C(M,D){switch(D.op){case"add":return d(M,D);case"remove":return h(M,D);case"replace":return m(M,D);case"move":return g(M,D);case"copy":return x(M,D);case"test":return S(M,D)}return new E(D)}return nn.apply=C,nn}var l1;function wD(){return l1||(l1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createTests=t.createPatch=t.applyPatch=t.Pointer=void 0;var e=hE();Object.defineProperty(t,"Pointer",{enumerable:!0,get:function(){return e.Pointer}});var n=_D(),i=mE();function a(h,m){return m.map(function(g){return(0,n.apply)(h,g)})}t.applyPatch=a;function c(h){function m(g,x,S){var E=h(g,x,S);return Array.isArray(E)?E:(0,i.diffAny)(g,x,S,m)}return m}function u(h,m,g){var x=new e.Pointer;return(g?c(g):i.diffAny)(h,m,x)}t.createPatch=u;function f(h,m){var g=e.Pointer.fromJSON(m).evaluate(h);if(g!==void 0)return{op:"test",path:m,value:g.value}}function d(h,m){var g=new Array;return m.filter(i.isDestructive).forEach(function(x){var S=f(h,x.path);if(S&&g.push(S),"from"in x){var E=f(h,x.from);E&&g.push(E)}}),g}t.createTests=d})(Rp)),Rp}var yE=wD();function ED({moves:t,phases:e,endIf:n,onEnd:i,turn:a,events:c,plugins:u}){t===void 0&&(t={}),c===void 0&&(c={}),u===void 0&&(u=[]),e===void 0&&(e={}),n||(n=()=>{}),i||(i=({G:I})=>I),a||(a={});const f={...e};""in f&&Bt("cannot specify phase with empty name"),f[""]={};const d={},h=new Set;let m=null;Object.keys(t).forEach(I=>h.add(I));const g=(I,K)=>{const fe=uE(I,K,u);return Ce=>{const Fe=co(Ce);return fe({...Fe,G:Ce.G,ctx:Ce.ctx,playerID:Ce.playerID})}},x=I=>K=>{const fe=co(K);return I({...fe,G:K.G,ctx:K.ctx})},S={onEnd:g(i,Gn.GAME_ON_END),endIf:x(n)};for(const I in f){const K=f[I];if(K.start===!0&&(m=I),K.moves!==void 0)for(const fe of Object.keys(K.moves))d[I+"."+fe]=K.moves[fe],h.add(fe);K.endIf===void 0&&(K.endIf=()=>{}),K.onBegin===void 0&&(K.onBegin=({G:fe})=>fe),K.onEnd===void 0&&(K.onEnd=({G:fe})=>fe),K.turn===void 0&&(K.turn=a),K.turn.order===void 0&&(K.turn.order=SD.DEFAULT),K.turn.onBegin===void 0&&(K.turn.onBegin=({G:fe})=>fe),K.turn.onEnd===void 0&&(K.turn.onEnd=({G:fe})=>fe),K.turn.endIf===void 0&&(K.turn.endIf=()=>!1),K.turn.onMove===void 0&&(K.turn.onMove=({G:fe})=>fe),K.turn.stages===void 0&&(K.turn.stages={}),of(K.turn,!0);for(const fe in K.turn.stages){const Fe=K.turn.stages[fe].moves||{};for(const Ue of Object.keys(Fe)){const Tt=I+"."+fe+"."+Ue;d[Tt]=Fe[Ue],h.add(Ue)}}if(K.wrapped={onBegin:g(K.onBegin,Gn.PHASE_ON_BEGIN),onEnd:g(K.onEnd,Gn.PHASE_ON_END),endIf:x(K.endIf)},K.turn.wrapped={onMove:g(K.turn.onMove,Gn.TURN_ON_MOVE),onBegin:g(K.turn.onBegin,Gn.TURN_ON_BEGIN),onEnd:g(K.turn.onEnd,Gn.TURN_ON_END),endIf:x(K.turn.endIf)},typeof K.next!="function"){const{next:fe}=K;K.next=()=>fe||null}K.wrapped.next=x(K.next)}function E(I){return I.phase?f[I.phase]:f[""]}function C(I){return I}function M(I,K){const fe=new Set,Ce=new Set;for(let Fe=0;Fe<K.length;Fe++){const{fn:Ue,arg:Tt,...xt}=K[Fe];if(Ue===Ee){Ce.clear();const zt=I.ctx.phase;if(fe.has(zt)){const Zt={...I.ctx,phase:null};return{...I,ctx:Zt}}fe.add(zt)}const Jt=[];if(I=Ue(I,{...xt,arg:Tt,next:Jt}),Ue===ve)break;const Dt=G(I);if(Dt){K.push({fn:ve,arg:Dt,turn:I.ctx.turn,phase:I.ctx.phase,automatic:!0});continue}const St=me(I);if(St){K.push({fn:Ee,arg:St,turn:I.ctx.turn,phase:I.ctx.phase,automatic:!0});continue}if([C,J,V].includes(Ue)){const zt=xe(I);if(zt){K.push({fn:Ye,arg:zt,turn:I.ctx.turn,phase:I.ctx.phase,automatic:!0});continue}}K.push(...Jt)}return I}function D(I,{next:K}){return K.push({fn:N}),I}function N(I,{next:K}){let{G:fe,ctx:Ce}=I;return fe=E(Ce).wrapped.onBegin(I),K.push({fn:k}),{...I,G:fe,ctx:Ce}}function k(I,{currentPlayer:K}){let{ctx:fe}=I;const Ce=E(fe);K?(fe={...fe,currentPlayer:K},Ce.turn.activePlayers&&(fe=cf(fe,Ce.turn.activePlayers))):fe=xD(I,Ce.turn);const Fe=fe.turn+1;fe={...fe,turn:Fe,numMoves:0,_prevActivePlayers:[]};const Ue=Ce.turn.wrapped.onBegin({...I,ctx:fe});return{...I,G:Ue,ctx:fe,_undo:[],_redo:[]}}function j(I,{arg:K,next:fe,phase:Ce}){const Fe=E({phase:Ce});let{ctx:Ue}=I;if(K&&K.next)if(K.next in f)Ue={...Ue,phase:K.next};else return Bt("invalid phase: "+K.next),I;else Ue={...Ue,phase:Fe.wrapped.next(I)||null};return I={...I,ctx:Ue},fe.push({fn:N}),I}function Y(I,{arg:K,currentPlayer:fe,next:Ce}){let{G:Fe,ctx:Ue}=I;const Tt=E(Ue),{endPhase:xt,ctx:Jt}=bD(I,fe,Tt.turn,K);return Ue=Jt,I={...I,G:Fe,ctx:Ue},xt?Ce.push({fn:Ee,turn:Ue.turn,phase:Ue.phase}):Ce.push({fn:k,currentPlayer:Ue.currentPlayer}),I}function J(I,{arg:K,playerID:fe}){if((typeof K=="string"||K===lf.NULL)&&(K={stage:K}),typeof K!="object")return I;of(K);let{ctx:Ce}=I,{activePlayers:Fe,_activePlayersMinMoves:Ue,_activePlayersMaxMoves:Tt,_activePlayersNumMoves:xt}=Ce;return K.stage!==void 0&&(Fe===null&&(Fe={}),Fe[fe]=K.stage,xt[fe]=0,K.minMoves&&(Ue===null&&(Ue={}),Ue[fe]=K.minMoves),K.maxMoves&&(Tt===null&&(Tt={}),Tt[fe]=K.maxMoves)),Ce={...Ce,activePlayers:Fe,_activePlayersMinMoves:Ue,_activePlayersMaxMoves:Tt,_activePlayersNumMoves:xt},{...I,ctx:Ce}}function V(I,{arg:K}){return{...I,ctx:cf(I.ctx,K)}}function G(I){return S.endIf(I)}function me(I){return E(I.ctx).wrapped.endIf(I)}function xe(I){const K=E(I.ctx),fe=I.ctx.numMoves||0;return K.turn.maxMoves&&fe>=K.turn.maxMoves?!0:K.turn.wrapped.endIf(I)}function ve(I,{arg:K,phase:fe}){I=Ee(I,{}),K===void 0&&(K=!0),I={...I,ctx:{...I.ctx,gameover:K}};const Ce=S.onEnd(I);return{...I,G:Ce}}function Ee(I,{arg:K,next:fe,turn:Ce,automatic:Fe}){I=Ye(I,{turn:Ce,force:!0,automatic:!0});const{phase:Ue,turn:Tt}=I.ctx;if(fe&&fe.push({fn:j,arg:K,phase:Ue}),Ue===null)return I;const Jt=E(I.ctx).wrapped.onEnd(I),Dt={...I.ctx,phase:null},St=Tc("endPhase",K),{_stateID:zt}=I,Zt={action:St,_stateID:zt,turn:Tt,phase:Ue};Fe&&(Zt.automatic=!0);const xn=[...I.deltalog||[],Zt];return{...I,G:Jt,ctx:Dt,deltalog:xn}}function Ye(I,{arg:K,next:fe,turn:Ce,force:Fe,automatic:Ue,playerID:Tt}){if(Ce!==I.ctx.turn)return I;const{currentPlayer:xt,numMoves:Jt,phase:Dt,turn:St}=I.ctx,zt=E(I.ctx),Zt=Jt||0;if(!Fe&&zt.turn.minMoves&&Zt<zt.turn.minMoves)return`${zt.turn.minMoves}`,I;const xn=zt.turn.wrapped.onEnd(I);fe&&fe.push({fn:Y,arg:K,currentPlayer:xt});let it={...I.ctx,activePlayers:null};if(K&&K.remove){Tt=Tt||xt;const hn=it.playOrder.filter(Qr=>Qr!=Tt),yi=it.playOrderPos>hn.length-1?0:it.playOrderPos;if(it={...it,playOrder:hn,playOrderPos:yi},hn.length===0)return fe.push({fn:Ee,turn:St,phase:Dt}),I}const dt=Tc("endTurn",K),{_stateID:cn}=I,Tn={action:dt,_stateID:cn,turn:St,phase:Dt};Ue&&(Tn.automatic=!0);const Er=[...I.deltalog||[],Tn];return{...I,G:xn,ctx:it,deltalog:Er,_undo:[],_redo:[]}}function _e(I,{arg:K,next:fe,automatic:Ce,playerID:Fe}){Fe=Fe||I.ctx.currentPlayer;let{ctx:Ue,_stateID:Tt}=I,{activePlayers:xt,_activePlayersNumMoves:Jt,_activePlayersMinMoves:Dt,_activePlayersMaxMoves:St,phase:zt,turn:Zt}=Ue;const xn=xt!==null&&Fe in xt,it=E(Ue);if(!K&&xn){const hn=it.turn.stages[xt[Fe]];hn&&hn.next&&(K=hn.next)}if(fe&&fe.push({fn:J,arg:K,playerID:Fe}),!xn)return I;const dt=Jt[Fe]||0;if(Dt&&Dt[Fe]&&dt<Dt[Fe])return`${Dt[Fe]}`,I;xt={...xt},delete xt[Fe],Dt&&(Dt={...Dt},delete Dt[Fe]),St&&(St={...St},delete St[Fe]),Ue=vD({...Ue,activePlayers:xt,_activePlayersMinMoves:Dt,_activePlayersMaxMoves:St});const Tn={action:Tc("endStage",K),_stateID:Tt,turn:Zt,phase:zt};Ce&&(Tn.automatic=!0);const Er=[...I.deltalog||[],Tn];return{...I,ctx:Ue,deltalog:Er}}function Pe(I,K,fe){const Ce=E(I),Fe=Ce.turn.stages,{activePlayers:Ue}=I;if(Ue&&Ue[fe]!==void 0&&Ue[fe]!==lf.NULL&&Fe[Ue[fe]]!==void 0&&Fe[Ue[fe]].moves!==void 0){const xt=Fe[Ue[fe]].moves;if(K in xt)return xt[K]}else if(Ce.moves){if(K in Ce.moves)return Ce.moves[K]}else if(K in t)return t[K];return null}function H(I,K){const{playerID:fe,type:Ce}=K,{currentPlayer:Fe,activePlayers:Ue,_activePlayersMaxMoves:Tt}=I.ctx,xt=Pe(I.ctx,Ce,fe),Jt=!xt||typeof xt=="function"||xt.noLimit!==!0;let{numMoves:Dt,_activePlayersNumMoves:St}=I.ctx;Jt&&(fe===Fe&&Dt++,Ue&&St[fe]++),I={...I,ctx:{...I.ctx,numMoves:Dt,_activePlayersNumMoves:St}},Tt&&St[fe]>=Tt[fe]&&(I=_e(I,{playerID:fe,automatic:!0}));const Zt=E(I.ctx).turn.wrapped.onMove({...I,playerID:fe});return I={...I,G:Zt},M(I,[{fn:C}])}function se(I,K,fe){return M(I,[{fn:_e,arg:fe,playerID:K}])}function Z(I,K){return M(I,[{fn:_e,playerID:K}])}function ke(I,K,fe){return M(I,[{fn:V,arg:fe}])}function Je(I,K,fe){return M(I,[{fn:Ee,phase:I.ctx.phase,turn:I.ctx.turn,arg:{next:fe}}])}function z(I){return M(I,[{fn:Ee,phase:I.ctx.phase,turn:I.ctx.turn}])}function ee(I,K,fe){return M(I,[{fn:Ye,turn:I.ctx.turn,phase:I.ctx.phase,arg:fe}])}function le(I,K,fe){return M(I,[{fn:Ye,turn:I.ctx.turn,phase:I.ctx.phase,force:!0,arg:fe}])}function pe(I,K,fe){return M(I,[{fn:ve,turn:I.ctx.turn,phase:I.ctx.phase,arg:fe}])}const Se={endStage:Z,setStage:se,endTurn:ee,pass:le,endPhase:z,setPhase:Je,endGame:pe,setActivePlayers:ke},Te=[];c.endTurn!==!1&&Te.push("endTurn"),c.pass!==!1&&Te.push("pass"),c.endPhase!==!1&&Te.push("endPhase"),c.setPhase!==!1&&Te.push("setPhase"),c.endGame!==!1&&Te.push("endGame"),c.setActivePlayers!==!1&&Te.push("setActivePlayers"),c.endStage!==!1&&Te.push("endStage"),c.setStage!==!1&&Te.push("setStage");function je(I,K){const{type:fe,playerID:Ce,args:Fe}=K.payload;return typeof Se[fe]!="function"?I:Se[fe](I,Ce,...Array.isArray(Fe)?Fe:[Fe])}function Nt(I,K,fe){return K.activePlayers?fe in K.activePlayers:K.currentPlayer===fe}return{ctx:I=>({numPlayers:I,turn:0,currentPlayer:"0",playOrder:[...Array.from({length:I})].map((K,fe)=>fe+""),playOrderPos:0,phase:m,activePlayers:null}),init:I=>M(I,[{fn:D}]),isPlayerActive:Nt,eventHandlers:Se,eventNames:Object.keys(Se),enabledEventNames:Te,moveMap:d,moveNames:[...h.values()],processMove:H,processEvent:je,getMove:Pe}}function CD(t){return t.processMove!==void 0}function Fc(t){if(CD(t))return t;if(t.name===void 0&&(t.name="default"),t.deltaState===void 0&&(t.deltaState=!1),t.disableUndo===void 0&&(t.disableUndo=!1),t.setup===void 0&&(t.setup=()=>({})),t.moves===void 0&&(t.moves={}),t.playerView===void 0&&(t.playerView=({G:n})=>n),t.plugins===void 0&&(t.plugins=[]),t.plugins.forEach(n=>{if(n.name===void 0)throw new Error("Plugin missing name attribute");if(n.name.includes(" "))throw new Error(n.name+": Plugin name must not include spaces")}),t.name.includes(" "))throw new Error(t.name+": Game name must not include spaces");const e=ED(t);return{...t,flow:e,moveNames:e.moveNames,pluginNames:t.plugins.map(n=>n.name),processMove:(n,i)=>{let a=e.getMove(n.ctx,i.type,i.playerID);if(gE(a)&&(a=a.move),a instanceof Function){const c=uE(a,Gn.MOVE,t.plugins);let u=[];i.args!==void 0&&(u=Array.isArray(i.args)?i.args:[i.args]);const f={...co(n),G:n.G,ctx:n.ctx,playerID:i.playerID};return c(f,...u)}return Bt(`invalid move object: ${i.type}`),n.G}}}function gE(t){return t instanceof Object&&t.move!==void 0}var Rm;(function(t){t.UnauthorizedAction="update/unauthorized_action",t.MatchNotFound="update/match_not_found",t.PatchFailed="update/patch_failed"})(Rm||(Rm={}));var Fn;(function(t){t.StaleStateId="action/stale_state_id",t.UnavailableMove="action/unavailable_move",t.InvalidMove="action/invalid_move",t.InactivePlayer="action/inactive_player",t.GameOver="action/gameover",t.ActionDisabled="action/action_disabled",t.ActionInvalid="action/action_invalid",t.PluginActionInvalid="action/plugin_invalid"})(Fn||(Fn={}));const gu=t=>t.payload.playerID!==null&&t.payload.playerID!==void 0,TD=(t,e,n)=>{function i(c){return c.undoable!==void 0}function a(c){return c instanceof Function}return i(n)?a(n.undoable)?n.undoable({G:t,ctx:e}):n.undoable:!0};function u1(t,e){if(e.game.disableUndo)return t;const n={G:t.G,ctx:t.ctx,plugins:t.plugins,playerID:e.action.payload.playerID||t.ctx.currentPlayer};return e.action.type==="MAKE_MOVE"&&(n.moveType=e.action.payload.type),{...t,_undo:[...t._undo,n],_redo:[]}}function Op(t,e,n){const i={action:e,_stateID:t._stateID,turn:t.ctx.turn,phase:t.ctx.phase},a=t.plugins.log.data.metadata;return a!==void 0&&(i.metadata=a),typeof n=="object"&&n.redact===!0?i.redact=!0:typeof n=="object"&&n.redact instanceof Function&&(i.redact=n.redact({G:t.G,ctx:t.ctx})),{...t,deltalog:[i]}}function Mp(t,e,n){const[i,a]=fE(t,n);return a?[i,Jn(e,Fn.PluginActionInvalid,a)]:[i]}function vE(t){if(!t)return[null,void 0];const{transients:e,...n}=t;return[n,e]}function Jn(t,e,n){return{...t,transients:{error:{type:e,payload:n}}}}const xE=t=>e=>n=>{const i=e(n);switch(n.type){case If:return i;default:{const[,a]=vE(t.getState());return typeof a<"u"?(t.dispatch(lE()),{...i,transients:a}):i}}};function Bf({game:t,isClient:e}){return t=Fc(t),(n=null,i)=>{let[a]=vE(n);switch(i.type){case If:return a;case Lf:{if(a={...a,deltalog:[]},e)return a;if(a.ctx.gameover!==void 0)return Bt("cannot call event after game end"),Jn(a,Fn.GameOver);if(gu(i)&&!t.flow.isPlayerActive(a.G,a.ctx,i.payload.playerID))return Bt(`disallowed event: ${i.payload.type}`),Jn(a,Fn.InactivePlayer);a=Cm(a,{game:t,playerID:i.payload.playerID});let c=t.flow.processEvent(a,i),u;return[c,u]=Mp(c,a,{game:t}),u||(c=u1(c,{game:t,action:i}),{...c,_stateID:a._stateID+1})}case jc:{const c=a={...a,deltalog:[]},u=t.flow.getMove(a.ctx,i.payload.type,i.payload.playerID||a.ctx.currentPlayer);if(u===null)return Bt(`disallowed move: ${i.payload.type}`),Jn(a,Fn.UnavailableMove);if(e&&u.client===!1)return a;if(a.ctx.gameover!==void 0)return Bt("cannot make move after game end"),Jn(a,Fn.GameOver);if(gu(i)&&!t.flow.isPlayerActive(a.G,a.ctx,i.payload.playerID))return Bt(`disallowed move: ${i.payload.type}`),Jn(a,Fn.InactivePlayer);a=Cm(a,{game:t,playerID:i.payload.playerID});const f=t.processMove(a,i.payload);if(f===Em)return Bt(`invalid move: ${i.payload.type} args: ${i.payload.args}`),Jn(a,Fn.InvalidMove);const d={...a,G:f};if(e&&yD(d,{game:t}))return a;if(a=d,e){let m;return[a,m]=Mp(a,c,{game:t}),m||{...a,_stateID:a._stateID+1}}a=Op(a,i,u),a=t.flow.processMove(a,i.payload);let h;return[a,h]=Mp(a,c,{game:t}),h||(a=u1(a,{game:t,action:i}),{...a,_stateID:a._stateID+1})}case jy:case Uy:case Ly:return i.state;case zf:{if(a={...a,deltalog:[]},t.disableUndo)return Bt("Undo is not enabled"),Jn(a,Fn.ActionDisabled);const{G:c,ctx:u,_undo:f,_redo:d,_stateID:h}=a;if(f.length<2)return Bt("No moves to undo"),Jn(a,Fn.ActionInvalid);const m=f[f.length-1],g=f[f.length-2];if(gu(i)&&i.payload.playerID!==m.playerID)return Bt("Cannot undo other players' moves"),Jn(a,Fn.ActionInvalid);if(m.moveType){const x=t.flow.getMove(g.ctx,m.moveType,m.playerID);if(!TD(c,u,x))return Bt("Move cannot be undone"),Jn(a,Fn.ActionInvalid)}return a=Op(a,i),{...a,G:g.G,ctx:g.ctx,plugins:g.plugins,_stateID:h+1,_undo:f.slice(0,-1),_redo:[m,...d]}}case Uf:{if(a={...a,deltalog:[]},t.disableUndo)return Bt("Redo is not enabled"),Jn(a,Fn.ActionDisabled);const{_undo:c,_redo:u,_stateID:f}=a;if(u.length===0)return Bt("No moves to redo"),Jn(a,Fn.ActionInvalid);const d=u[0];return gu(i)&&i.payload.playerID!==d.playerID?(Bt("Cannot redo other players' moves"),Jn(a,Fn.ActionInvalid)):(a=Op(a,i),{...a,G:d.G,ctx:d.ctx,plugins:d.plugins,_stateID:f+1,_undo:[...c,d],_redo:u.slice(1)})}case eE:return hD(a,i,{game:t});case zy:{const c=a,u=JSON.parse(JSON.stringify(c)),f=yE.applyPatch(u,i.patch);return f.some(h=>h!==null)?(Bt(`Patch ${JSON.stringify(i.patch)} apply failed`),Jn(c,Rm.PatchFailed,f)):u}default:return a}}}var Pp={},f1;function RD(){return f1||(f1=1,(function(t,e){if(t.setImmediate)return;var n=1,i={},a=!1,c=t.document,u;function f(N){typeof N!="function"&&(N=new Function(""+N));for(var k=new Array(arguments.length-1),j=0;j<k.length;j++)k[j]=arguments[j+1];var Y={callback:N,args:k};return i[n]=Y,u(n),n++}function d(N){delete i[N]}function h(N){var k=N.callback,j=N.args;switch(j.length){case 0:k();break;case 1:k(j[0]);break;case 2:k(j[0],j[1]);break;case 3:k(j[0],j[1],j[2]);break;default:k.apply(e,j);break}}function m(N){if(a)setTimeout(m,0,N);else{var k=i[N];if(k){a=!0;try{h(k)}finally{d(N),a=!1}}}}function g(){u=function(N){process.nextTick(function(){m(N)})}}function x(){if(t.postMessage&&!t.importScripts){var N=!0,k=t.onmessage;return t.onmessage=function(){N=!1},t.postMessage("","*"),t.onmessage=k,N}}function S(){var N="setImmediate$"+Math.random()+"$",k=function(j){j.source===t&&typeof j.data=="string"&&j.data.indexOf(N)===0&&m(+j.data.slice(N.length))};t.addEventListener?t.addEventListener("message",k,!1):t.attachEvent("onmessage",k),u=function(j){t.postMessage(N+j,"*")}}function E(){var N=new MessageChannel;N.port1.onmessage=function(k){var j=k.data;m(j)},u=function(k){N.port2.postMessage(k)}}function C(){var N=c.documentElement;u=function(k){var j=c.createElement("script");j.onreadystatechange=function(){m(k),j.onreadystatechange=null,N.removeChild(j),j=null},N.appendChild(j)}}function M(){u=function(N){setTimeout(m,0,N)}}var D=Object.getPrototypeOf&&Object.getPrototypeOf(t);D=D&&D.setTimeout?D:t,{}.toString.call(t.process)==="[object process]"?g():x()?S():t.MessageChannel?E():c&&"onreadystatechange"in c.createElement("script")?C():M(),D.setImmediate=f,D.clearImmediate=d})(typeof self>"u"?typeof Dx>"u"?Pp:Dx:self)),Pp}RD();class AD{constructor({enumerate:e,seed:n}){this.enumerateFn=e,this.seed=n,this.iterationCounter=0,this._opts={}}addOpt({key:e,range:n,initial:i}){this._opts[e]={range:n,value:i}}getOpt(e){return this._opts[e].value}setOpt(e,n){e in this._opts&&(this._opts[e].value=n)}opts(){return this._opts}enumerate(e,n,i){return this.enumerateFn(e,n,i).map(c=>{if("payload"in c)return c;if("move"in c)return tE(c.move,c.args,i);if("event"in c)return Tc(c.event,c.args,i)})}random(e){let n;if(this.seed!==void 0){const i=this.prngstate?"":this.seed,a=Ww(i,this.prngstate);n=a(),this.prngstate=a.state()}else n=Math.random();if(e)if(Array.isArray(e)){const i=Math.floor(n*e.length);return e[i]}else return Math.floor(n*e);return n}}const OD=25;class MD extends AD{constructor({enumerate:e,seed:n,objectives:i,game:a,iterations:c,playoutDepth:u,iterationCallback:f}){super({enumerate:e,seed:n}),i===void 0&&(i=()=>({})),this.objectives=i,this.iterationCallback=f||(()=>{}),this.reducer=Bf({game:a}),this.iterations=c,this.playoutDepth=u,this.addOpt({key:"async",initial:!1}),this.addOpt({key:"iterations",initial:typeof c=="number"?c:1e3,range:{min:1,max:2e3}}),this.addOpt({key:"playoutDepth",initial:typeof u=="number"?u:50,range:{min:1,max:100}})}createNode({state:e,parentAction:n,parent:i,playerID:a}){const{G:c,ctx:u}=e;let f=[],d=[];if(a!==void 0)f=this.enumerate(c,u,a),d=this.objectives(c,u,a);else if(u.activePlayers)for(const h in u.activePlayers)f.push(...this.enumerate(c,u,h)),d.push(this.objectives(c,u,h));else f=this.enumerate(c,u,u.currentPlayer),d=this.objectives(c,u,u.currentPlayer);return{state:e,parent:i,parentAction:n,actions:f,objectives:d,children:[],visits:0,value:0}}select(e){if(e.actions.length>0||e.children.length===0)return e;let n=null,i=0;for(const a of e.children){const c=a.visits+Number.EPSILON,u=a.value/c+Math.sqrt(2*Math.log(e.visits)/c);(n==null||u>i)&&(i=u,n=a)}return this.select(n)}expand(e){const n=e.actions;if(n.length===0||e.state.ctx.gameover!==void 0)return e;const i=this.random(n.length),a=n[i];e.actions.splice(i,1);const c=this.reducer(e.state,a),u=this.createNode({state:c,parentAction:a,parent:e});return e.children.push(u),u}playout({state:e}){let n=this.getOpt("playoutDepth");typeof this.playoutDepth=="function"&&(n=this.playoutDepth(e.G,e.ctx));for(let i=0;i<n&&e.ctx.gameover===void 0;i++){const{G:a,ctx:c}=e;let u=c.currentPlayer;c.activePlayers&&(u=Object.keys(c.activePlayers)[0]);const f=this.enumerate(a,c,u),d=this.objectives(a,c,u),h=Object.keys(d).reduce((x,S)=>{const E=d[S];return E.checker(a,c)?x+E.weight:x},0);if(h>0)return{score:h};if(!f||f.length===0)return;const m=this.random(f.length);e=this.reducer(e,f[m])}return e.ctx.gameover}backpropagate(e,n={}){e.visits++,n.score!==void 0&&(e.value+=n.score),n.draw===!0&&(e.value+=.5),e.parentAction&&n.winner===e.parentAction.payload.playerID&&e.value++,e.parent&&this.backpropagate(e.parent,n)}play(e,n){const i=this.createNode({state:e,playerID:n});let a=this.getOpt("iterations");typeof this.iterations=="function"&&(a=this.iterations(e.G,e.ctx));const c=()=>{let u=null;for(const h of i.children)(u==null||h.visits>u.visits)&&(u=h);return{action:u&&u.parentAction,metadata:i}};return new Promise(u=>{const f=()=>{for(let d=0;d<OD&&this.iterationCounter<a;d++){const h=this.select(i),m=this.expand(h),g=this.playout(m);this.backpropagate(m,g),this.iterationCounter++}this.iterationCallback({iterationCounter:this.iterationCounter,numIterations:a,metadata:i})};if(this.iterationCounter=0,this.getOpt("async")){const d=()=>{this.iterationCounter<a?(f(),setImmediate(d)):u(c())};d()}else{for(;this.iterationCounter<a;)f();u(c())}})}}function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function PD(t,e){if(Lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(Lc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ND(t){var e=PD(t,"string");return Lc(e)=="symbol"?e:e+""}function DD(t,e,n){return(e=ND(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function h1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d1(Object(n),!0).forEach(function(i){DD(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d1(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function vr(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var p1=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),m1=function(){return Math.random().toString(36).substring(7).split("").join(".")},y1={INIT:"@@redux/INIT"+m1(),REPLACE:"@@redux/REPLACE"+m1()};function kD(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Hy(t,e,n){var i;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(vr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(vr(1));return n(Hy)(t,e)}if(typeof t!="function")throw new Error(vr(2));var a=t,c=e,u=[],f=u,d=!1;function h(){f===u&&(f=u.slice())}function m(){if(d)throw new Error(vr(3));return c}function g(C){if(typeof C!="function")throw new Error(vr(4));if(d)throw new Error(vr(5));var M=!0;return h(),f.push(C),function(){if(M){if(d)throw new Error(vr(6));M=!1,h();var N=f.indexOf(C);f.splice(N,1),u=null}}}function x(C){if(!kD(C))throw new Error(vr(7));if(typeof C.type>"u")throw new Error(vr(8));if(d)throw new Error(vr(9));try{d=!0,c=a(c,C)}finally{d=!1}for(var M=u=f,D=0;D<M.length;D++){var N=M[D];N()}return C}function S(C){if(typeof C!="function")throw new Error(vr(10));a=C,x({type:y1.REPLACE})}function E(){var C,M=g;return C={subscribe:function(N){if(typeof N!="object"||N===null)throw new Error(vr(11));function k(){N.next&&N.next(m())}k();var j=M(k);return{unsubscribe:j}}},C[p1]=function(){return this},C}return x({type:y1.INIT}),i={dispatch:x,subscribe:g,getState:m,replaceReducer:S},i[p1]=E,i}function bE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(i){return i}:e.length===1?e[0]:e.reduce(function(i,a){return function(){return i(a.apply(void 0,arguments))}})}function SE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(i){return function(){var a=i.apply(void 0,arguments),c=function(){throw new Error(vr(15))},u={getState:a.getState,dispatch:function(){return c.apply(void 0,arguments)}},f=e.map(function(d){return d(u)});return c=bE.apply(void 0,f)(a.dispatch),h1(h1({},a),{},{dispatch:c})}}}function $y({game:t,numPlayers:e,setupData:n}){t=Fc(t),e||(e=2);const i=t.flow.ctx(e);let a={G:{},ctx:i,plugins:{}};a=pD(a,{game:t}),a=Cm(a,{game:t,playerID:void 0});const c=co(a);a.G=t.setup({...c,ctx:a.ctx},n);let u={...a,_undo:[],_redo:[],_stateID:0};return u=t.flow.init(u),[u]=fE(u,{game:t}),t.disableUndo||(u._undo=[{G:u.G,ctx:u.ctx,plugins:u.plugins}]),u}let Hf=class{constructor({transportDataCallback:e,gameName:n,playerID:i,matchID:a,credentials:c,numPlayers:u}){this.connectionStatusCallback=()=>{},this.isConnected=!1,this.transportDataCallback=e,this.gameName=n||"default",this.playerID=i||null,this.matchID=a||"default",this.credentials=c,this.numPlayers=u||2}subscribeToConnectionStatus(e){this.connectionStatusCallback=e}setConnectionStatus(e){this.isConnected=e,this.connectionStatusCallback()}notifyClient(e){this.transportDataCallback(e)}};class jD extends Hf{connect(){}disconnect(){}sendAction(){}sendChatMessage(){}requestSync(){}updateCredentials(){}updateMatchID(){}updatePlayerID(){}}const LD=t=>new jD(t);class UD{constructor(){this.debugPanel=null,this.currentClient=null,this.clients=new Map,this.subscribers=new Map}register(e){this.clients.set(e,e),this.mountDebug(e),this.notifySubscribers()}unregister(e){if(this.clients.delete(e),this.currentClient===e){this.unmountDebug();for(const[n]of this.clients){if(this.debugPanel)break;this.mountDebug(n)}}this.notifySubscribers()}subscribe(e){const n=Symbol();return this.subscribers.set(n,e),e(this.getState()),()=>{this.subscribers.delete(n)}}switchPlayerID(e){if(this.currentClient.multiplayer){for(const[n]of this.clients)if(n.playerID===e&&n.debugOpt!==!1&&n.multiplayer===this.currentClient.multiplayer){this.switchToClient(n);return}}this.currentClient.updatePlayerID(e),this.notifySubscribers()}switchToClient(e){e!==this.currentClient&&(this.unmountDebug(),this.mountDebug(e),this.notifySubscribers())}notifySubscribers(){const e=this.getState();this.subscribers.forEach(n=>{n(e)})}getState(){return{client:this.currentClient,debuggableClients:this.getDebuggableClients()}}getDebuggableClients(){return[...this.clients.values()].filter(e=>e.debugOpt!==!1)}mountDebug(e){if(e.debugOpt===!1||this.debugPanel!==null||typeof document>"u")return;let n,i=document.body;e.debugOpt&&e.debugOpt!==!0&&(n=e.debugOpt.impl||n,i=e.debugOpt.target||i),n&&(this.currentClient=e,this.debugPanel=new n({target:i,props:{clientManager:this}}))}unmountDebug(){this.debugPanel.$destroy(),this.debugPanel=null,this.currentClient=null}}const zD=new UD;function Am(t,e,n){return!n&&t==null&&(t=e.getState().ctx.currentPlayer),t}function Vy(t,e,n,i,a,c){const u={};for(const f of e)u[f]=(...d)=>{const h=oD[t](f,d,Am(i,n,c),a);n.dispatch(h)};return u}const ID=Vy.bind(null,"makeMove"),BD=Vy.bind(null,"gameEvent"),HD=Vy.bind(null,"plugin");class $D{constructor({game:e,debug:n,numPlayers:i,multiplayer:a,matchID:c,playerID:u,credentials:f,enhancer:d}){this.game=Fc(e),this.playerID=u,this.matchID=c||"default",this.credentials=f,this.multiplayer=a,this.debugOpt=n,this.manager=zD,this.gameStateOverride=null,this.subscribers={},this._running=!1,this.reducer=Bf({game:this.game,isClient:a!==void 0}),this.initialState=null,a||(this.initialState=$y({game:this.game,numPlayers:i})),this.reset=()=>{this.store.dispatch(aE(this.initialState))},this.undo=()=>{const S=oE(Am(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(S)},this.redo=()=>{const S=cE(Am(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(S)},this.log=[];const x=SE(xE,()=>S=>E=>{const C=S(E);return this.notifySubscribers(),C},S=>E=>C=>{const M=S.getState(),D=E(C);return!("clientOnly"in C)&&C.type!==If&&this.transport.sendAction(M,C),D},S=>E=>C=>{const M=E(C),D=S.getState();switch(C.type){case jc:case Lf:case zf:case Uf:{const N=D.deltalog;this.log=[...this.log,...N];break}case jy:{this.log=[];break}case zy:case Uy:{let N=-1;this.log.length>0&&(N=this.log[this.log.length-1]._stateID);let k=C.deltalog||[];k=k.filter(j=>j._stateID>N),this.log=[...this.log,...k];break}case Ly:{this.initialState=C.initialState,this.log=C.log||[];break}}return M});d=d!==void 0?bE(x,d):x,this.store=Hy(this.reducer,this.initialState,d),a||(a=LD),this.transport=a({transportDataCallback:S=>this.receiveTransportData(S),gameKey:e,game:this.game,matchID:c,playerID:u,credentials:f,gameName:this.game.name,numPlayers:i}),this.createDispatchers(),this.chatMessages=[],this.sendChatMessage=S=>{this.transport.sendChatMessage(this.matchID,{id:VN(7),sender:this.playerID,payload:S})}}receiveMatchData(e){this.matchData=e,this.notifySubscribers()}receiveChatMessage(e){this.chatMessages=[...this.chatMessages,e],this.notifySubscribers()}receiveTransportData(e){const[n]=e.args;if(n===this.matchID)switch(e.type){case"sync":{const[,i]=e.args,a=rE(i);this.receiveMatchData(i.filteredMetadata),this.store.dispatch(a);break}case"update":{const[,i,a]=e.args,c=this.store.getState();if(i._stateID>=c._stateID){const u=sE(i,a);this.store.dispatch(u)}break}case"patch":{const[,i,a,c,u]=e.args,f=this.store.getState()._stateID;if(i!==f)break;const d=iE(i,a,c,u);this.store.dispatch(d),this.store.getState()._stateID===f&&this.transport.requestSync();break}case"matchData":{const[,i]=e.args;this.receiveMatchData(i);break}case"chat":{const[,i]=e.args;this.receiveChatMessage(i);break}}}notifySubscribers(){Object.values(this.subscribers).forEach(e=>e(this.getState()))}overrideGameState(e){this.gameStateOverride=e,this.notifySubscribers()}start(){this.transport.connect(),this._running=!0,this.manager.register(this)}stop(){this.transport.disconnect(),this._running=!1,this.manager.unregister(this)}subscribe(e){const n=Object.keys(this.subscribers).length;return this.subscribers[n]=e,this.transport.subscribeToConnectionStatus(()=>this.notifySubscribers()),(this._running||!this.multiplayer)&&e(this.getState()),()=>{delete this.subscribers[n]}}getInitialState(){return this.initialState}getState(){let e=this.store.getState();if(this.gameStateOverride!==null&&(e=this.gameStateOverride),e===null)return e;let n=!0;const i=this.game.flow.isPlayerActive(e.G,e.ctx,this.playerID);return this.multiplayer&&!i&&(n=!1),!this.multiplayer&&this.playerID!==null&&this.playerID!==void 0&&!i&&(n=!1),e.ctx.gameover!==void 0&&(n=!1),this.multiplayer||(e={...e,G:this.game.playerView({G:e.G,ctx:e.ctx,playerID:this.playerID}),plugins:dE(e,this)}),{...e,log:this.log,isActive:n,isConnected:this.transport.isConnected}}createDispatchers(){this.moves=ID(this.game.moveNames,this.store,this.playerID,this.credentials,this.multiplayer),this.events=BD(this.game.flow.enabledEventNames,this.store,this.playerID,this.credentials,this.multiplayer),this.plugins=HD(this.game.pluginNames,this.store,this.playerID,this.credentials,this.multiplayer)}updatePlayerID(e){this.playerID=e,this.createDispatchers(),this.transport.updatePlayerID(e),this.notifySubscribers()}updateMatchID(e){this.matchID=e,this.createDispatchers(),this.transport.updateMatchID(e),this.notifySubscribers()}updateCredentials(e){this.credentials=e,this.createDispatchers(),this.transport.updateCredentials(e),this.notifySubscribers()}}function VD(t){return new $D(t)}const _E=(t,e)=>{if(!t||typeof t!="string")throw new Error(`Expected ${e} string, got "${t}".`)},Qs=t=>_E(t,"game name"),dc=t=>_E(t,"match ID"),hc=(t,e)=>{if(!t)throw new Error(`Expected body, got ${t}.`);for(const n in e){const i=e[n],a=Array.isArray(i)?i:[i],c=t[n];if(!a.includes(typeof c)){const u=a.join("|");throw new TypeError(`Expected body.${n} to be of type ${u}, got ${c}.`)}}};class qD extends Error{constructor(e,n){super(e),this.details=n}}class FD{constructor({server:e=""}={}){this.server=e.replace(/\/$/,"")}async request(e,n){const i=await fetch(this.server+e,n);if(!i.ok){let a;try{a=await i.clone().json()}catch{try{a=await i.text()}catch(c){a=c.message}}throw new qD(`HTTP status ${i.status}`,a)}return i.json()}async post(e,n){let i={method:"post",body:JSON.stringify(n.body),headers:{"Content-Type":"application/json"}};return n.init&&(i={...i,...n.init,headers:{...i.headers,...n.init.headers}}),this.request(e,i)}async listGames(e){return this.request("/games",e)}async listMatches(e,n,i){Qs(e);let a="";if(n){const c=[],{isGameover:u,updatedBefore:f,updatedAfter:d}=n;u!==void 0&&c.push(`isGameover=${u}`),f&&c.push(`updatedBefore=${f}`),d&&c.push(`updatedAfter=${d}`),c.length>0&&(a="?"+c.join("&"))}return this.request(`/games/${e}${a}`,i)}async getMatch(e,n,i){return Qs(e),dc(n),this.request(`/games/${e}/${n}`,i)}async createMatch(e,n,i){return Qs(e),hc(n,{numPlayers:"number"}),this.post(`/games/${e}/create`,{body:n,init:i})}async joinMatch(e,n,i,a){return Qs(e),dc(n),hc(i,{playerID:["string","undefined"],playerName:"string"}),this.post(`/games/${e}/${n}/join`,{body:i,init:a})}async leaveMatch(e,n,i,a){Qs(e),dc(n),hc(i,{playerID:"string",credentials:"string"}),await this.post(`/games/${e}/${n}/leave`,{body:i,init:a})}async updatePlayer(e,n,i,a){Qs(e),dc(n),hc(i,{playerID:"string",credentials:"string"}),await this.post(`/games/${e}/${n}/update`,{body:i,init:a})}async playAgain(e,n,i,a){return Qs(e),dc(n),hc(i,{playerID:"string",credentials:"string"}),this.post(`/games/${e}/${n}/playAgain`,{body:i,init:a})}}var Np={exports:{}},Dp,g1;function YD(){if(g1)return Dp;g1=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Dp=t,Dp}var kp,v1;function GD(){if(v1)return kp;v1=1;var t=YD();function e(){}function n(){}return n.resetWarningCache=e,kp=function(){function i(u,f,d,h,m,g){if(g!==t){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}i.isRequired=i;function a(){return i}var c={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return c.PropTypes=c,c},kp}var x1;function KD(){return x1||(x1=1,Np.exports=GD()()),Np.exports}var XD=KD();const ri=Ic(XD);var Vr={},vu={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var b1;function QD(){if(b1)return vu;b1=1,vu.parse=a,vu.serialize=c;var t=decodeURIComponent,e=encodeURIComponent,n=/; */,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function a(f,d){if(typeof f!="string")throw new TypeError("argument str must be a string");for(var h={},m=d||{},g=f.split(n),x=m.decode||t,S=0;S<g.length;S++){var E=g[S],C=E.indexOf("=");if(!(C<0)){var M=E.substr(0,C).trim(),D=E.substr(++C,E.length).trim();D[0]=='"'&&(D=D.slice(1,-1)),h[M]==null&&(h[M]=u(D,x))}}return h}function c(f,d,h){var m=h||{},g=m.encode||e;if(typeof g!="function")throw new TypeError("option encode is invalid");if(!i.test(f))throw new TypeError("argument name is invalid");var x=g(d);if(x&&!i.test(x))throw new TypeError("argument val is invalid");var S=f+"="+x;if(m.maxAge!=null){var E=m.maxAge-0;if(isNaN(E))throw new Error("maxAge should be a Number");S+="; Max-Age="+Math.floor(E)}if(m.domain){if(!i.test(m.domain))throw new TypeError("option domain is invalid");S+="; Domain="+m.domain}if(m.path){if(!i.test(m.path))throw new TypeError("option path is invalid");S+="; Path="+m.path}if(m.expires){if(typeof m.expires.toUTCString!="function")throw new TypeError("option expires is invalid");S+="; Expires="+m.expires.toUTCString()}if(m.httpOnly&&(S+="; HttpOnly"),m.secure&&(S+="; Secure"),m.sameSite){var C=typeof m.sameSite=="string"?m.sameSite.toLowerCase():m.sameSite;switch(C){case!0:S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"strict":S+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return S}function u(f,d){try{return d(f)}catch{return f}}return vu}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var jp,S1;function ZD(){if(S1)return jp;S1=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function i(c){if(c==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(c)}function a(){try{if(!Object.assign)return!1;var c=new String("abc");if(c[5]="de",Object.getOwnPropertyNames(c)[0]==="5")return!1;for(var u={},f=0;f<10;f++)u["_"+String.fromCharCode(f)]=f;var d=Object.getOwnPropertyNames(u).map(function(m){return u[m]});if(d.join("")!=="0123456789")return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(m){h[m]=m}),Object.keys(Object.assign({},h)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return jp=a()?Object.assign:function(c,u){for(var f,d=i(c),h,m=1;m<arguments.length;m++){f=Object(arguments[m]);for(var g in f)e.call(f,g)&&(d[g]=f[g]);if(t){h=t(f);for(var x=0;x<h.length;x++)n.call(f,h[x])&&(d[h[x]]=f[h[x]])}}return d},jp}var _1;function JD(){if(_1)return Vr;_1=1;var t={};Object.defineProperty(Vr,"__esModule",{value:!0});var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N};Vr.load=g,Vr.loadAll=x,Vr.select=S,Vr.save=E,Vr.remove=C,Vr.setRawCookie=M,Vr.plugToRequest=D;var n=QD(),i=u(n),a=ZD(),c=u(a);function u(N){return N&&N.__esModule?N:{default:N}}var f=typeof document>"u"||typeof process<"u"&&t&&!1,d={},h=void 0;function m(){return h&&!h.headersSent}function g(N,k){var j=f?d:i.default.parse(document.cookie),Y=j&&j[N];if(typeof k>"u"&&(k=!Y||Y[0]!=="{"&&Y[0]!=="["),!k)try{Y=JSON.parse(Y)}catch{}return Y}function x(N){var k=f?d:i.default.parse(document.cookie),j=k;if(typeof N>"u"&&(N=!j||j[0]!=="{"&&j[0]!=="["),!N)try{j=JSON.parse(j)}catch{}return j}function S(N){var k=f?d:i.default.parse(document.cookie);return k?N?Object.keys(k).reduce(function(j,Y){if(!N.test(Y))return j;var J={};return J[Y]=k[Y],(0,c.default)({},j,J)},{}):k:{}}function E(N,k,j){d[N]=k,(typeof k>"u"?"undefined":e(k))==="object"&&(d[N]=JSON.stringify(k)),f||(document.cookie=i.default.serialize(N,d[N],j)),m()&&h.cookie&&h.cookie(N,k,j)}function C(N,k){delete d[N],typeof k>"u"?k={}:typeof k=="string"?k={path:k}:k=(0,c.default)({},k),typeof document<"u"&&(k.expires=new Date(1970,1,1,0,0,1),k.maxAge=0,document.cookie=i.default.serialize(N,"",k)),m()&&h.clearCookie&&h.clearCookie(N,k)}function M(N){N?d=i.default.parse(N):d={}}function D(N,k){return N.cookie?d=N.cookie:N.cookies?d=N.cookies:N.headers&&N.headers.cookie?M(N.headers.cookie):d={},h=k,function(){h=null,d={}}}return Vr.default={setRawCookie:M,load:g,loadAll:x,select:S,save:E,remove:C,plugToRequest:D},Vr}var WD=JD();const w1=Ic(WD);var Uc;(function(t){t[t.SYNC=0]="SYNC",t[t.ASYNC=1]="ASYNC"})(Uc||(Uc={}));function Zs(t){return t.type()===Uc.SYNC}class e4{type(){return Uc.ASYNC}async createMatch(e,n){if(this.createGame)return console.warn("The database connector does not implement a createMatch method.",`
Using the deprecated createGame method instead.`),this.createGame(e,n);console.error("The database connector does not implement a createMatch method.")}async listMatches(e){if(this.listGames)return console.warn("The database connector does not implement a listMatches method.",`
Using the deprecated listGames method instead.`),this.listGames(e);console.error("The database connector does not implement a listMatches method.")}}class wE{type(){return Uc.SYNC}connect(){}createMatch(e,n){if(this.createGame)return console.warn("The database connector does not implement a createMatch method.",`
Using the deprecated createGame method instead.`),this.createGame(e,n);console.error("The database connector does not implement a createMatch method.")}listMatches(e){if(this.listGames)return console.warn("The database connector does not implement a listMatches method.",`
Using the deprecated listGames method instead.`),this.listGames(e);console.error("The database connector does not implement a listMatches method.")}}const t4=({game:t,unlisted:e,setupData:n,numPlayers:i})=>{const a={gameName:t.name,unlisted:!!e,players:{},createdAt:Date.now(),updatedAt:Date.now()};n!==void 0&&(a.setupData=n);for(let c=0;c<i;c++)a.players[c]={id:c};return a},EE=({game:t,numPlayers:e,setupData:n,unlisted:i})=>{(!e||typeof e!="number")&&(e=2);const a=t.validateSetupData&&t.validateSetupData(n,e);if(a!==void 0)return{setupDataError:a};const c=t4({game:t,numPlayers:e,setupData:n,unlisted:i}),u=$y({game:t,numPlayers:e,setupData:n});return{metadata:c,initialState:u}},E1=t=>Object.values(t.players).map(e=>{const{credentials:n,...i}=e;return i}),n4=t=>{const{credentials:e,...n}=t.payload;return{...t,payload:n}};class CE{constructor(e,n,i,a){this.game=Fc(e),this.storageAPI=n,this.transportAPI=i,this.subscribeCallback=()=>{},this.auth=a}subscribe(e){this.subscribeCallback=e}async onUpdate(e,n,i,a){if(!e||!e.payload)return{error:"missing action or action payload"};let c;if(Zs(this.storageAPI)?{metadata:c}=this.storageAPI.fetch(i,{metadata:!0}):{metadata:c}=await this.storageAPI.fetch(i,{metadata:!0}),this.auth&&!await this.auth.authenticateCredentials({playerID:a,credentials:e.payload.credentials,metadata:c}))return{error:"unauthorized action"};const u=n4(e),f=i;let d;if(Zs(this.storageAPI)?{state:d}=this.storageAPI.fetch(f,{state:!0}):{state:d}=await this.storageAPI.fetch(f,{state:!0}),d===void 0)return Bt(`game not found, matchID=[${f}]`),{error:"game not found"};if(d.ctx.gameover!==void 0){Bt(`game over - matchID=[${f}] - playerID=[${a}] - action[${u.payload.type}]`);return}const h=Bf({game:this.game}),m=SE(xE),g=Hy(h,d,m);if(u.type==zf||u.type==Uf){const D=d.ctx.activePlayers!==null,N=d.ctx.currentPlayer===a;if(!D&&!N||D&&(d.ctx.activePlayers[a]===void 0||Object.keys(d.ctx.activePlayers).length>1)){Bt(`playerID=[${a}] cannot undo / redo right now`);return}}if(!this.game.flow.isPlayerActive(d.G,d.ctx,a)){Bt(`player not active - playerID=[${a}] - action[${u.payload.type}]`);return}const x=u.type==jc?this.game.flow.getMove(d.ctx,u.payload.type,a):null;if(u.type==jc&&!x){Bt(`move not processed - canPlayerMakeMove=false - playerID=[${a}] - action[${u.payload.type}]`);return}if(d._stateID!==n&&!(x&&gE(x)&&x.ignoreStaleStateID)){Bt(`invalid stateID, was=[${n}], expected=[${d._stateID}] - playerID=[${a}] - action[${u.payload.type}]`);return}const S=g.getState();g.dispatch(u),d=g.getState(),this.subscribeCallback({state:d,action:u,matchID:i}),this.game.deltaState?this.transportAPI.sendAll({type:"patch",args:[i,n,S,d]}):this.transportAPI.sendAll({type:"update",args:[i,d]});const{deltalog:E,...C}=d;let M;if(c&&(c.gameover===void 0||c.gameover===null)&&(M={...c,updatedAt:Date.now()},d.ctx.gameover!==void 0&&(M.gameover=d.ctx.gameover)),Zs(this.storageAPI))this.storageAPI.setState(f,C,E),M&&this.storageAPI.setMetadata(f,M);else{const D=[this.storageAPI.setState(f,C,E)];M&&D.push(this.storageAPI.setMetadata(f,M)),await Promise.all(D)}}async onSync(e,n,i,a=2){const c=e,u={state:!0,metadata:!0,log:!0,initialState:!0},f=Zs(this.storageAPI)?this.storageAPI.fetch(c,u):await this.storageAPI.fetch(c,u);let{state:d,initialState:h,log:m,metadata:g}=f;if(this.auth&&n!==void 0&&n!==null&&!await this.auth.authenticateCredentials({playerID:n,credentials:i,metadata:g}))return{error:"unauthorized"};if(d===void 0){const E=EE({game:this.game,unlisted:!0,numPlayers:a,setupData:void 0});if("setupDataError"in E)return{error:"game requires setupData"};h=d=E.initialState,g=E.metadata,this.subscribeCallback({state:d,matchID:e}),Zs(this.storageAPI)?this.storageAPI.createMatch(c,{initialState:h,metadata:g}):await this.storageAPI.createMatch(c,{initialState:h,metadata:g})}const x=g?E1(g):void 0,S={state:d,log:m,filteredMetadata:x,initialState:h};this.transportAPI.send({playerID:n,type:"sync",args:[e,S]})}async onConnectionChange(e,n,i,a){const c=e;if(n==null)return;let u;if(Zs(this.storageAPI)?{metadata:u}=this.storageAPI.fetch(c,{metadata:!0}):{metadata:u}=await this.storageAPI.fetch(c,{metadata:!0}),u===void 0)return Bt(`metadata not found for matchID=[${c}]`),{error:"metadata not found"};if(u.players[n]===void 0)return Bt(`Player not in the match, matchID=[${c}] playerID=[${n}]`),{error:"player not in the match"};if(this.auth&&!await this.auth.authenticateCredentials({playerID:n,credentials:i,metadata:u}))return{error:"unauthorized"};u.players[n].isConnected=a;const f=E1(u);this.transportAPI.sendAll({type:"matchData",args:[e,f]}),Zs(this.storageAPI)?this.storageAPI.setMetadata(c,u):await this.storageAPI.setMetadata(c,u)}async onChatMessage(e,n,i){const a=e;if(this.auth){const{metadata:c}=await this.storageAPI.fetch(a,{metadata:!0});if(!(n&&typeof n.sender=="string"))return{error:"unauthorized"};if(!await this.auth.authenticateCredentials({playerID:n.sender,credentials:i,metadata:c}))return{error:"unauthorized"}}this.transportAPI.sendAll({type:"chat",args:[e,n]})}}const xu=(t,e,n)=>({...n,G:t.playerView({G:n.G,ctx:n.ctx,playerID:e}),plugins:dE(n,{playerID:e,game:t}),deltalog:void 0,_undo:[],_redo:[]}),TE=t=>(e,n)=>{switch(n.type){case"patch":{const[i,a,c,u]=n.args,f=Lp(u.deltalog,e),d=xu(t,e,u),h=u._stateID,m=xu(t,e,c),g=yE.createPatch(m,d);return{type:"patch",args:[i,a,h,g,f]}}case"update":{const[i,a]=n.args,c=Lp(a.deltalog,e),u=xu(t,e,a);return{type:"update",args:[i,u,c]}}case"sync":{const[i,a]=n.args,c=xu(t,e,a.state),u=Lp(a.log,e),f={...a,state:c,log:u};return{type:"sync",args:[i,f]}}default:return n}};function Lp(t,e){return t===void 0?t:t.map(n=>{if(e!==null&&+e==+n.action.payload.playerID||n.redact!==!0)return n;const i={...n.action.payload,args:null},a={...n,action:{...n.action,payload:i}},{redact:c,...u}=a;return u})}const hi=Object.create(null);hi.open="0";hi.close="1";hi.ping="2";hi.pong="3";hi.message="4";hi.upgrade="5";hi.noop="6";const Mu=Object.create(null);Object.keys(hi).forEach(t=>{Mu[hi[t]]=t});const Om={type:"error",data:"parser error"},RE=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",AE=typeof ArrayBuffer=="function",OE=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,qy=({type:t,data:e},n,i)=>RE&&e instanceof Blob?n?i(e):C1(e,i):AE&&(e instanceof ArrayBuffer||OE(e))?n?i(e):C1(new Blob([e]),i):i(hi[t]+(e||"")),C1=(t,e)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];e("b"+(i||""))},n.readAsDataURL(t)};function T1(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Up;function r4(t,e){if(RE&&t.data instanceof Blob)return t.data.arrayBuffer().then(T1).then(e);if(AE&&(t.data instanceof ArrayBuffer||OE(t.data)))return e(T1(t.data));qy(t,!1,n=>{Up||(Up=new TextEncoder),e(Up.encode(n))})}const R1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<R1.length;t++)bc[R1.charCodeAt(t)]=t;const i4=t=>{let e=t.length*.75,n=t.length,i,a=0,c,u,f,d;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const h=new ArrayBuffer(e),m=new Uint8Array(h);for(i=0;i<n;i+=4)c=bc[t.charCodeAt(i)],u=bc[t.charCodeAt(i+1)],f=bc[t.charCodeAt(i+2)],d=bc[t.charCodeAt(i+3)],m[a++]=c<<2|u>>4,m[a++]=(u&15)<<4|f>>2,m[a++]=(f&3)<<6|d&63;return h},s4=typeof ArrayBuffer=="function",Fy=(t,e)=>{if(typeof t!="string")return{type:"message",data:ME(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:a4(t.substring(1),e)}:Mu[n]?t.length>1?{type:Mu[n],data:t.substring(1)}:{type:Mu[n]}:Om},a4=(t,e)=>{if(s4){const n=i4(t);return ME(n,e)}else return{base64:!0,data:t}},ME=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},PE="",o4=(t,e)=>{const n=t.length,i=new Array(n);let a=0;t.forEach((c,u)=>{qy(c,!1,f=>{i[u]=f,++a===n&&e(i.join(PE))})})},c4=(t,e)=>{const n=t.split(PE),i=[];for(let a=0;a<n.length;a++){const c=Fy(n[a],e);if(i.push(c),c.type==="error")break}return i};function l4(){return new TransformStream({transform(t,e){r4(t,n=>{const i=n.length;let a;if(i<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,i);else if(i<65536){a=new Uint8Array(3);const c=new DataView(a.buffer);c.setUint8(0,126),c.setUint16(1,i)}else{a=new Uint8Array(9);const c=new DataView(a.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(i))}t.data&&typeof t.data!="string"&&(a[0]|=128),e.enqueue(a),e.enqueue(n)})}})}let zp;function bu(t){return t.reduce((e,n)=>e+n.length,0)}function Su(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let i=0;for(let a=0;a<e;a++)n[a]=t[0][i++],i===t[0].length&&(t.shift(),i=0);return t.length&&i<t[0].length&&(t[0]=t[0].slice(i)),n}function u4(t,e){zp||(zp=new TextDecoder);const n=[];let i=0,a=-1,c=!1;return new TransformStream({transform(u,f){for(n.push(u);;){if(i===0){if(bu(n)<1)break;const d=Su(n,1);c=(d[0]&128)===128,a=d[0]&127,a<126?i=3:a===126?i=1:i=2}else if(i===1){if(bu(n)<2)break;const d=Su(n,2);a=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),i=3}else if(i===2){if(bu(n)<8)break;const d=Su(n,8),h=new DataView(d.buffer,d.byteOffset,d.length),m=h.getUint32(0);if(m>Math.pow(2,21)-1){f.enqueue(Om);break}a=m*Math.pow(2,32)+h.getUint32(4),i=3}else{if(bu(n)<a)break;const d=Su(n,a);f.enqueue(Fy(c?d:zp.decode(d),e)),i=0}if(a===0||a>t){f.enqueue(Om);break}}}})}const NE=4;function Cn(t){if(t)return f4(t)}function f4(t){for(var e in Cn.prototype)t[e]=Cn.prototype[e];return t}Cn.prototype.on=Cn.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Cn.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Cn.prototype.off=Cn.prototype.removeListener=Cn.prototype.removeAllListeners=Cn.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i,a=0;a<n.length;a++)if(i=n[a],i===e||i.fn===e){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Cn.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,a=n.length;i<a;++i)n[i].apply(this,e)}return this};Cn.prototype.emitReserved=Cn.prototype.emit;Cn.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Cn.prototype.hasListeners=function(t){return!!this.listeners(t).length};const $f=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),jr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),d4="arraybuffer";function DE(t,...e){return e.reduce((n,i)=>(t.hasOwnProperty(i)&&(n[i]=t[i]),n),{})}const h4=jr.setTimeout,p4=jr.clearTimeout;function Vf(t,e){e.useNativeTimers?(t.setTimeoutFn=h4.bind(jr),t.clearTimeoutFn=p4.bind(jr)):(t.setTimeoutFn=jr.setTimeout.bind(jr),t.clearTimeoutFn=jr.clearTimeout.bind(jr))}const m4=1.33;function y4(t){return typeof t=="string"?g4(t):Math.ceil((t.byteLength||t.size)*m4)}function g4(t){let e=0,n=0;for(let i=0,a=t.length;i<a;i++)e=t.charCodeAt(i),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(i++,n+=4);return n}function kE(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function v4(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function x4(t){let e={},n=t.split("&");for(let i=0,a=n.length;i<a;i++){let c=n[i].split("=");e[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return e}class b4 extends Error{constructor(e,n,i){super(e),this.description=n,this.context=i,this.type="TransportError"}}class Yy extends Cn{constructor(e){super(),this.writable=!1,Vf(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,i){return super.emitReserved("error",new b4(e,n,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Fy(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=v4(e);return n.length?"?"+n:""}}class S4 extends Yy{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};c4(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,o4(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=kE()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let jE=!1;try{jE=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const _4=jE;function w4(){}class E4 extends S4{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}}doWrite(e,n){const i=this.request({method:"POST",data:e});i.on("success",n),i.on("error",(a,c)=>{this.onError("xhr post error",a,c)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=e}}class ui extends Cn{constructor(e,n,i){super(),this.createRequest=e,Vf(this,i),this._opts=i,this._method=i.method||"GET",this._uri=n,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var e;const n=DE(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(n);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&i.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var a;i.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=ui.requestsCount++,ui.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=w4,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ui.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ui.requestsCount=0;ui.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",A1);else if(typeof addEventListener=="function"){const t="onpagehide"in jr?"pagehide":"unload";addEventListener(t,A1,!1)}}function A1(){for(let t in ui.requests)ui.requests.hasOwnProperty(t)&&ui.requests[t].abort()}const C4=(function(){const t=LE({xdomain:!1});return t&&t.responseType!==null})();class T4 extends E4{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=C4&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new ui(LE,this.uri(),e)}}function LE(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||_4))return new XMLHttpRequest}catch{}if(!e)try{return new jr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const UE=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class R4 extends Yy{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,i=UE?{}:DE(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,i)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],a=n===e.length-1;qy(i,this.supportsBinary,c=>{try{this.doWrite(i,c)}catch{}a&&$f(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=kE()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Ip=jr.WebSocket||jr.MozWebSocket;class A4 extends R4{createSocket(e,n,i){return UE?new Ip(e,n,i):n?new Ip(e,n):new Ip(e)}doWrite(e,n){this.ws.send(n)}}class O4 extends Yy{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=u4(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(n).getReader(),a=l4();a.readable.pipeTo(e.writable),this._writer=a.writable.getWriter();const c=()=>{i.read().then(({done:f,value:d})=>{f||(this.onPacket(d),c())}).catch(f=>{})};c();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this._writer.write(u).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],a=n===e.length-1;this._writer.write(i).then(()=>{a&&$f(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const M4={websocket:A4,webtransport:O4,polling:T4},P4=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,N4=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Mm(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),i=t.indexOf("]");n!=-1&&i!=-1&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));let a=P4.exec(t||""),c={},u=14;for(;u--;)c[N4[u]]=a[u]||"";return n!=-1&&i!=-1&&(c.source=e,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=D4(c,c.path),c.queryKey=k4(c,c.query),c}function D4(t,e){const n=/\/{2,9}/g,i=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function k4(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,a,c){a&&(n[a]=c)}),n}const Pm=typeof addEventListener=="function"&&typeof removeEventListener=="function",Pu=[];Pm&&addEventListener("offline",()=>{Pu.forEach(t=>t())},!1);class Ts extends Cn{constructor(e,n){if(super(),this.binaryType=d4,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const i=Mm(e);n.hostname=i.host,n.secure=i.protocol==="https"||i.protocol==="wss",n.port=i.port,i.query&&(n.query=i.query)}else n.host&&(n.hostname=Mm(n.host).host);Vf(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(i=>{const a=i.prototype.name;this.transports.push(a),this._transportsByName[a]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=x4(this.opts.query)),Pm&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Pu.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=NE,n.transport=e,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Ts.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Ts.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const a=this.writeBuffer[i].data;if(a&&(n+=y4(a)),i>0&&n>this._maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,$f(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,i){return this._sendPacket("message",e,n,i),this}send(e,n,i){return this._sendPacket("message",e,n,i),this}_sendPacket(e,n,i,a){if(typeof n=="function"&&(a=n,n=void 0),typeof i=="function"&&(a=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const c={type:e,data:n,options:i};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}_onError(e){if(Ts.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Pm&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=Pu.indexOf(this._offlineEventListener);i!==-1&&Pu.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Ts.protocol=NE;class j4 extends Ts{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),i=!1;Ts.priorWebsocketSuccess=!1;const a=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!i)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Ts.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(m(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=n.name,this.emitReserved("upgradeError",x)}}))};function c(){i||(i=!0,m(),n.close(),n=null)}const u=g=>{const x=new Error("probe error: "+g);x.transport=n.name,c(),this.emitReserved("upgradeError",x)};function f(){u("transport closed")}function d(){u("socket closed")}function h(g){n&&g.name!==n.name&&c()}const m=()=>{n.removeListener("open",a),n.removeListener("error",u),n.removeListener("close",f),this.off("close",d),this.off("upgrading",h)};n.once("open",a),n.once("error",u),n.once("close",f),this.once("close",d),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let i=0;i<e.length;i++)~this.transports.indexOf(e[i])&&n.push(e[i]);return n}}let L4=class extends j4{constructor(e,n={}){const i=typeof e=="object"?e:n;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(a=>M4[a]).filter(a=>!!a)),super(e,i)}};function U4(t,e="",n){let i=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),i=Mm(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const c=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+c+":"+i.port+e,i.href=i.protocol+"://"+c+(n&&n.port===i.port?"":":"+i.port),i}const z4=typeof ArrayBuffer=="function",I4=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,zE=Object.prototype.toString,B4=typeof Blob=="function"||typeof Blob<"u"&&zE.call(Blob)==="[object BlobConstructor]",H4=typeof File=="function"||typeof File<"u"&&zE.call(File)==="[object FileConstructor]";function Gy(t){return z4&&(t instanceof ArrayBuffer||I4(t))||B4&&t instanceof Blob||H4&&t instanceof File}function Nu(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,i=t.length;n<i;n++)if(Nu(t[n]))return!0;return!1}if(Gy(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Nu(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Nu(t[n]))return!0;return!1}function $4(t){const e=[],n=t.data,i=t;return i.data=Nm(n,e),i.attachments=e.length,{packet:i,buffers:e}}function Nm(t,e){if(!t)return t;if(Gy(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=Nm(t[i],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=Nm(t[i],e));return n}return t}function V4(t,e){return t.data=Dm(t.data,e),delete t.attachments,t}function Dm(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Dm(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Dm(t[n],e));return t}const q4=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],F4=5;var Pt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Pt||(Pt={}));let Y4=class{constructor(e){this.replacer=e}encode(e){return(e.type===Pt.EVENT||e.type===Pt.ACK)&&Nu(e)?this.encodeAsBinary({type:e.type===Pt.EVENT?Pt.BINARY_EVENT:Pt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Pt.BINARY_EVENT||e.type===Pt.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=$4(e),i=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(i),a}};function O1(t){return Object.prototype.toString.call(t)==="[object Object]"}let G4=class IE extends Cn{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const i=n.type===Pt.BINARY_EVENT;i||n.type===Pt.BINARY_ACK?(n.type=i?Pt.EVENT:Pt.ACK,this.reconstructor=new K4(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Gy(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const i={type:Number(e.charAt(0))};if(Pt[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===Pt.BINARY_EVENT||i.type===Pt.BINARY_ACK){const c=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const u=e.substring(c,n);if(u!=Number(u)||e.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(u)}if(e.charAt(n+1)==="/"){const c=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););i.nsp=e.substring(c,n)}else i.nsp="/";const a=e.charAt(n+1);if(a!==""&&Number(a)==a){const c=n+1;for(;++n;){const u=e.charAt(n);if(u==null||Number(u)!=u){--n;break}if(n===e.length)break}i.id=Number(e.substring(c,n+1))}if(e.charAt(++n)){const c=this.tryParse(e.substr(n));if(IE.isPayloadValid(i.type,c))i.data=c;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Pt.CONNECT:return O1(n);case Pt.DISCONNECT:return n===void 0;case Pt.CONNECT_ERROR:return typeof n=="string"||O1(n);case Pt.EVENT:case Pt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&q4.indexOf(n[0])===-1);case Pt.ACK:case Pt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}};class K4{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=V4(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const X4=Object.freeze(Object.defineProperty({__proto__:null,Decoder:G4,Encoder:Y4,get PacketType(){return Pt},protocol:F4},Symbol.toStringTag,{value:"Module"}));function Fr(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const Q4=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class BE extends Cn{constructor(e,n,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Fr(e,"open",this.onopen.bind(this)),Fr(e,"packet",this.onpacket.bind(this)),Fr(e,"error",this.onerror.bind(this)),Fr(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var i,a,c;if(Q4.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const u={type:Pt.EVENT,data:n};if(u.options={},u.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const m=this.ids++,g=n.pop();this._registerAckCallback(m,g),u.id=m}const f=(a=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||a===void 0?void 0:a.writable,d=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!f||(d?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u)),this.flags={},this}_registerAckCallback(e,n){var i;const a=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(a===void 0){this.acks[e]=n;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let f=0;f<this.sendBuffer.length;f++)this.sendBuffer[f].id===e&&this.sendBuffer.splice(f,1);n.call(this,new Error("operation has timed out"))},a),u=(...f)=>{this.io.clearTimeoutFn(c),n.apply(this,f)};u.withError=!0,this.acks[e]=u}emitWithAck(e,...n){return new Promise((i,a)=>{const c=(u,f)=>u?a(u):i(f);c.withError=!0,n.push(c),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((a,...c)=>i!==this._queue[0]?void 0:(a!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...c)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Pt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(i=>String(i.id)===e)){const i=this.acks[e];delete this.acks[e],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Pt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Pt.EVENT:case Pt.BINARY_EVENT:this.onevent(e);break;case Pt.ACK:case Pt.BINARY_ACK:this.onack(e);break;case Pt.DISCONNECT:this.ondisconnect();break;case Pt.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let i=!1;return function(...a){i||(i=!0,n.packet({type:Pt.ACK,id:e,data:a}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Pt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,e.data)}}}function yo(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}yo.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};yo.prototype.reset=function(){this.attempts=0};yo.prototype.setMin=function(t){this.ms=t};yo.prototype.setMax=function(t){this.max=t};yo.prototype.setJitter=function(t){this.jitter=t};class km extends Cn{constructor(e,n){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Vf(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new yo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const a=n.parser||X4;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new L4(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const a=Fr(n,"open",function(){i.onopen(),e&&e()}),c=f=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",f),e?e(f):this.maybeReconnectOnOpen()},u=Fr(n,"error",c);if(this._timeout!==!1){const f=this._timeout,d=this.setTimeoutFn(()=>{a(),c(new Error("timeout")),n.close()},f);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(a),this.subs.push(u),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Fr(e,"ping",this.onping.bind(this)),Fr(e,"data",this.ondata.bind(this)),Fr(e,"error",this.onerror.bind(this)),Fr(e,"close",this.onclose.bind(this)),Fr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){$f(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new BE(this,e,n),this.nsps[e]=i),i}_destroy(e){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let i=0;i<n.length;i++)this.engine.write(n[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(a=>{a?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",a)):e.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const pc={};function Du(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=U4(t,e.path||"/socket.io"),i=n.source,a=n.id,c=n.path,u=pc[a]&&c in pc[a].nsps,f=e.forceNew||e["force new connection"]||e.multiplex===!1||u;let d;return f?d=new km(i,e):(pc[a]||(pc[a]=new km(i,e)),d=pc[a]),n.query&&!e.query&&(e.query=n.queryKey),d.socket(n.path,e)}Object.assign(Du,{Manager:km,Socket:BE,io:Du,connect:Du});class HE extends wE{constructor(){super(),this.state=new Map,this.initial=new Map,this.metadata=new Map,this.log=new Map}createMatch(e,n){this.initial.set(e,n.initialState),this.setState(e,n.initialState),this.setMetadata(e,n.metadata)}setMetadata(e,n){this.metadata.set(e,n)}setState(e,n,i){if(i&&i.length>0){const a=this.log.get(e)||[];this.log.set(e,[...a,...i])}this.state.set(e,n)}fetch(e,n){const i={};return n.state&&(i.state=this.state.get(e)),n.metadata&&(i.metadata=this.metadata.get(e)),n.log&&(i.log=this.log.get(e)||[]),n.initialState&&(i.initialState=this.initial.get(e)),i}wipe(e){this.state.delete(e),this.metadata.delete(e)}listMatches(e){return[...this.metadata.entries()].filter(([,n])=>e?!(e.gameName!==void 0&&n.gameName!==e.gameName||e.where!==void 0&&(e.where.isGameover!==void 0&&n.gameover!==void 0!==e.where.isGameover||e.where.updatedBefore!==void 0&&n.updatedAt>=e.where.updatedBefore||e.where.updatedAfter!==void 0&&n.updatedAt<=e.where.updatedAfter)):!0).map(([n])=>n)}}class Z4 extends Map{constructor(e){super(),this.key=e,(JSON.parse(localStorage.getItem(this.key))||[]).forEach(i=>this.set(...i))}sync(){const e=[...this.entries()];localStorage.setItem(this.key,JSON.stringify(e))}set(e,n){return super.set(e,n),this.sync(),this}delete(e){const n=super.delete(e);return this.sync(),n}}class J4 extends HE{constructor(e="bgio"){super();const n=i=>new Z4(`${e}_${i}`);this.state=n("state"),this.initial=n("initial"),this.metadata=n("metadata"),this.log=n("log")}}function W4(t,e){if(t.ctx.gameover!==void 0)return null;if(t.ctx.activePlayers){for(const n of Object.keys(e))if(n in t.ctx.activePlayers)return n}else if(t.ctx.currentPlayer in e)return t.ctx.currentPlayer;return null}class e5 extends CE{constructor({game:e,bots:n,storageKey:i,persist:a}){const c={},u={};if(e&&e.ai&&n)for(const g in n){const x=n[g];u[g]=new x({game:e,enumerate:e.ai.enumerate,seed:e.seed})}const f=({playerID:g,...x})=>{const S=c[g];S!==void 0&&S(d(g,x))},d=TE(e),h={send:f,sendAll:g=>{for(const x in c)f({playerID:x,...g})}},m=a?new J4(i):new HE;super(e,m,h),this.connect=(g,x)=>{c[g]=x},this.subscribe(({state:g,matchID:x})=>{if(!n)return;const S=W4(g,u);S!==null&&setTimeout(async()=>{const E=await u[S].play(g,S);await this.onUpdate(E.action,g._stateID,x,E.action.payload.playerID)},100)})}}class t5 extends Hf{constructor({master:e,...n}){super(n),this.master=e}sendChatMessage(e,n){const i=[e,n,this.credentials];this.master.onChatMessage(...i)}sendAction(e,n){this.master.onUpdate(n,e._stateID,this.matchID,this.playerID)}requestSync(){this.master.onSync(this.matchID,this.playerID,this.credentials,this.numPlayers)}connect(){this.setConnectionStatus(!0),this.master.connect(this.playerID,e=>this.notifyClient(e)),this.requestSync()}disconnect(){this.setConnectionStatus(!1)}updateMatchID(e){this.matchID=e,this.connect()}updatePlayerID(e){this.playerID=e,this.connect()}updateCredentials(e){this.credentials=e,this.connect()}}const M1=new Map;function n5({bots:t,persist:e,storageKey:n}={}){return i=>{const{gameKey:a,game:c}=i;let u;const f=M1.get(a);return f&&f.bots===t&&f.storageKey===n&&f.persist===e&&(u=f.master),u||(u=new e5({game:c,bots:t,persist:e,storageKey:n}),M1.set(a,{master:u,bots:t,persist:e,storageKey:n})),new t5({master:u,...i})}}const P1=Du;class r5 extends Hf{constructor({socket:e,socketOpts:n,server:i,...a}){super(a),this.server=i,this.socket=e,this.socketOpts=n}sendAction(e,n){const i=[n,e._stateID,this.matchID,this.playerID];this.socket.emit("update",...i)}sendChatMessage(e,n){const i=[e,n,this.credentials];this.socket.emit("chat",...i)}connect(){if(!this.socket)if(this.server){let e=this.server;e.search(/^https?:\/\//)==-1&&(e="http://"+this.server),e.slice(-1)!="/"&&(e=e+"/"),this.socket=P1(e+this.gameName,this.socketOpts)}else this.socket=P1("/"+this.gameName,this.socketOpts);this.socket.on("patch",(e,n,i,a,c)=>{this.notifyClient({type:"patch",args:[e,n,i,a,c]})}),this.socket.on("update",(e,n,i)=>{this.notifyClient({type:"update",args:[e,n,i]})}),this.socket.on("sync",(e,n)=>{this.notifyClient({type:"sync",args:[e,n]})}),this.socket.on("matchData",(e,n)=>{this.notifyClient({type:"matchData",args:[e,n]})}),this.socket.on("chat",(e,n)=>{this.notifyClient({type:"chat",args:[e,n]})}),this.socket.on("connect",()=>{this.requestSync(),this.setConnectionStatus(!0)}),this.socket.on("disconnect",()=>{this.setConnectionStatus(!1)})}disconnect(){this.socket.close(),this.socket=null,this.setConnectionStatus(!1)}requestSync(){if(this.socket){const e=[this.matchID,this.playerID,this.credentials,this.numPlayers];this.socket.emit("sync",...e)}}updateMatchID(e){this.matchID=e,this.requestSync()}updatePlayerID(e){this.playerID=e,this.requestSync()}updateCredentials(e){this.credentials=e,this.requestSync()}}function N1({server:t,socketOpts:e}={}){return n=>new r5({server:t,socketOpts:e,...n})}function $E(t){var e;const{game:n,numPlayers:i,board:a,multiplayer:c,enhancer:u}=t;let{loading:f,debug:d}=t;return f===void 0&&(f=()=>De.createElement("div",{className:"bgio-loading"},"connecting...")),e=class extends De.Component{constructor(m){super(m),d===void 0&&(d=m.debug),this.client=VD({game:n,debug:d,numPlayers:i,multiplayer:c,matchID:m.matchID,playerID:m.playerID,credentials:m.credentials,enhancer:u})}componentDidMount(){this.unsubscribe=this.client.subscribe(()=>this.forceUpdate()),this.client.start()}componentWillUnmount(){this.client.stop(),this.unsubscribe()}componentDidUpdate(m){this.props.matchID!=m.matchID&&this.client.updateMatchID(this.props.matchID),this.props.playerID!=m.playerID&&this.client.updatePlayerID(this.props.playerID),this.props.credentials!=m.credentials&&this.client.updateCredentials(this.props.credentials)}render(){const m=this.client.getState();if(m===null)return De.createElement(f);let g=null;return a&&(g=De.createElement(a,{...m,...this.props,isMultiplayer:!!c,moves:this.client.moves,events:this.client.events,matchID:this.client.matchID,playerID:this.client.playerID,reset:this.client.reset,undo:this.client.undo,redo:this.client.redo,log:this.client.log,matchData:this.client.matchData,sendChatMessage:this.client.sendChatMessage,chatMessages:this.client.chatMessages})),De.createElement("div",{className:"bgio-client"},g)}},e.propTypes={matchID:ri.string,playerID:ri.string,credentials:ri.string,debug:ri.any},e.defaultProps={matchID:"default",playerID:null,credentials:null,debug:!0},e}class i5{constructor({server:e,gameComponents:n,playerName:i,playerCredentials:a}){this.client=new FD({server:e}),this.gameComponents=n,this.playerName=i||"Visitor",this.playerCredentials=a,this.matches=[]}async refresh(){try{this.matches=[];const e=await this.client.listGames();for(const n of e){if(!this._getGameComponents(n))continue;const{matches:i}=await this.client.listMatches(n);this.matches.push(...i)}}catch(e){throw new Error("failed to retrieve list of matches ("+e+")")}}_getMatchInstance(e){for(const n of this.matches)if(n.matchID===e)return n}_getGameComponents(e){for(const n of this.gameComponents)if(n.game.name===e)return n}_findPlayer(e){for(const n of this.matches)if(n.players.some(i=>i.name===e))return n}async join(e,n,i){try{let a=this._findPlayer(this.playerName);if(a)throw new Error("player has already joined "+a.matchID);if(a=this._getMatchInstance(n),!a)throw new Error("game instance "+n+" not found");const c=await this.client.joinMatch(e,n,{playerID:i,playerName:this.playerName});a.players[Number.parseInt(i)].name=this.playerName,this.playerCredentials=c.playerCredentials}catch(a){throw new Error("failed to join match "+n+" ("+a+")")}}async leave(e,n){try{const i=this._getMatchInstance(n);if(!i)throw new Error("match instance not found");for(const a of i.players)if(a.name===this.playerName){await this.client.leaveMatch(e,n,{playerID:a.id.toString(),credentials:this.playerCredentials}),delete a.name,delete this.playerCredentials;return}throw new Error("player not found in match")}catch(i){throw new Error("failed to leave match "+n+" ("+i+")")}}async disconnect(){const e=this._findPlayer(this.playerName);e&&await this.leave(e.gameName,e.matchID),this.matches=[],this.playerName="Visitor"}async create(e,n){try{const i=this._getGameComponents(e);if(!i)throw new Error("game not found");if(n<i.game.minPlayers||n>i.game.maxPlayers)throw new Error("invalid number of players "+n);await this.client.createMatch(e,{numPlayers:n})}catch(i){throw new Error("failed to create match for "+e+" ("+i+")")}}}function s5(t){return new i5(t)}class VE extends De.Component{constructor(){super(...arguments),this.state={playerName:this.props.playerName,nameErrorMsg:""},this.onClickEnter=()=>{this.state.playerName!==""&&this.props.onEnter(this.state.playerName)},this.onKeyPress=e=>{e.key==="Enter"&&this.onClickEnter()},this.onChangePlayerName=e=>{const n=e.target.value.trim();this.setState({playerName:n,nameErrorMsg:n.length>0?"":"empty player name"})}}render(){return De.createElement("div",null,De.createElement("p",{className:"phase-title"},"Choose a player name:"),De.createElement("input",{type:"text",value:this.state.playerName,onChange:this.onChangePlayerName,onKeyPress:this.onKeyPress}),De.createElement("span",{className:"buttons"},De.createElement("button",{className:"buttons",onClick:this.onClickEnter},"Enter")),De.createElement("br",null),De.createElement("span",{className:"error-msg"},this.state.nameErrorMsg,De.createElement("br",null)))}}VE.defaultProps={playerName:""};class a5 extends De.Component{constructor(){super(...arguments),this._createSeat=e=>e.name||"[free]",this._createButtonJoin=(e,n)=>De.createElement("button",{key:"button-join-"+e.matchID,onClick:()=>this.props.onClickJoin(e.gameName,e.matchID,""+n)},"Join"),this._createButtonLeave=e=>De.createElement("button",{key:"button-leave-"+e.matchID,onClick:()=>this.props.onClickLeave(e.gameName,e.matchID)},"Leave"),this._createButtonPlay=(e,n)=>De.createElement("button",{key:"button-play-"+e.matchID,onClick:()=>this.props.onClickPlay(e.gameName,{matchID:e.matchID,playerID:""+n,numPlayers:e.players.length})},"Play"),this._createButtonSpectate=e=>De.createElement("button",{key:"button-spectate-"+e.matchID,onClick:()=>this.props.onClickPlay(e.gameName,{matchID:e.matchID,numPlayers:e.players.length})},"Spectate"),this._createInstanceButtons=e=>{const n=e.players.find(a=>a.name===this.props.playerName),i=e.players.find(a=>!a.name);return n&&i?this._createButtonLeave(e):i?this._createButtonJoin(e,i.id):n?De.createElement("div",null,[this._createButtonPlay(e,n.id),this._createButtonLeave(e)]):this._createButtonSpectate(e)}}render(){const e=this.props.match;let n="OPEN";return e.players.some(i=>!i.name)||(n="RUNNING"),De.createElement("tr",{key:"line-"+e.matchID},De.createElement("td",{key:"cell-name-"+e.matchID},e.gameName),De.createElement("td",{key:"cell-status-"+e.matchID},n),De.createElement("td",{key:"cell-seats-"+e.matchID},e.players.map(i=>this._createSeat(i)).join(", ")),De.createElement("td",{key:"cell-buttons-"+e.matchID},this._createInstanceButtons(e)))}}class o5 extends De.Component{constructor(e){super(e),this.state={selectedGame:0,numPlayers:2},this._createGameNameOption=(n,i)=>De.createElement("option",{key:"name-option-"+i,value:i},n.game.name),this._createNumPlayersOption=n=>De.createElement("option",{key:"num-option-"+n,value:n},n),this._createNumPlayersRange=n=>Array.from({length:n.maxPlayers+1}).map((i,a)=>a).slice(n.minPlayers),this.onChangeNumPlayers=n=>{this.setState({numPlayers:Number.parseInt(n.target.value)})},this.onChangeSelectedGame=n=>{const i=Number.parseInt(n.target.value);this.setState({selectedGame:i,numPlayers:this.props.games[i].game.minPlayers})},this.onClickCreate=()=>{this.props.createMatch(this.props.games[this.state.selectedGame].game.name,this.state.numPlayers)};for(const n of e.games){const i=n.game;i.minPlayers||(i.minPlayers=1),i.maxPlayers||(i.maxPlayers=4),console.assert(i.maxPlayers>=i.minPlayers)}this.state={selectedGame:0,numPlayers:e.games[0].game.minPlayers}}render(){return De.createElement("div",null,De.createElement("select",{value:this.state.selectedGame,onChange:e=>this.onChangeSelectedGame(e)},this.props.games.map((e,n)=>this._createGameNameOption(e,n))),De.createElement("span",null,"Players:"),De.createElement("select",{value:this.state.numPlayers,onChange:this.onChangeNumPlayers},this._createNumPlayersRange(this.props.games[this.state.selectedGame].game).map(e=>this._createNumPlayersOption(e))),De.createElement("span",{className:"buttons"},De.createElement("button",{onClick:this.onClickCreate},"Create")))}}var cr;(function(t){t.ENTER="enter",t.PLAY="play",t.LIST="list"})(cr||(cr={}));class qE extends De.Component{constructor(e){super(e),this.state={phase:cr.ENTER,playerName:"Visitor",runningMatch:null,errorMsg:"",credentialStore:{}},this._createConnection=n=>{const i=this.state.playerName;this.connection=s5({server:n.lobbyServer,gameComponents:n.gameComponents,playerName:i,playerCredentials:this.state.credentialStore[i]})},this._updateCredentials=(n,i)=>{this.setState(a=>{const c=Object.assign({},a.credentialStore);return c[n]=i,{credentialStore:c}})},this._updateConnection=async()=>{await this.connection.refresh(),this.forceUpdate()},this._enterLobby=n=>{this._startRefreshInterval(),this.setState({playerName:n,phase:cr.LIST})},this._exitLobby=async()=>{this._clearRefreshInterval(),await this.connection.disconnect(),this.setState({phase:cr.ENTER,errorMsg:""})},this._createMatch=async(n,i)=>{try{await this.connection.create(n,i),await this.connection.refresh(),this.setState({})}catch(a){this.setState({errorMsg:a.message})}},this._joinMatch=async(n,i,a)=>{try{await this.connection.join(n,i,a),await this.connection.refresh(),this._updateCredentials(this.connection.playerName,this.connection.playerCredentials)}catch(c){this.setState({errorMsg:c.message})}},this._leaveMatch=async(n,i)=>{try{await this.connection.leave(n,i),await this.connection.refresh(),this._updateCredentials(this.connection.playerName,this.connection.playerCredentials)}catch(a){this.setState({errorMsg:a.message})}},this._startMatch=(n,i)=>{const a=this.connection._getGameComponents(n);if(!a){this.setState({errorMsg:"game "+n+" not supported"});return}let c;if(i.numPlayers>1&&(c=this.props.gameServer?N1({server:this.props.gameServer}):N1()),i.numPlayers==1){const d=a.game.maxPlayers,h={};for(let m=1;m<d;m++)h[m+""]=MD;c=n5({bots:h})}const f={app:this.props.clientFactory({game:a.game,board:a.board,debug:this.props.debug,multiplayer:c}),matchID:i.matchID,playerID:i.numPlayers>1?i.playerID:"0",credentials:this.connection.playerCredentials};this._clearRefreshInterval(),this.setState({phase:cr.PLAY,runningMatch:f})},this._exitMatch=()=>{this._startRefreshInterval(),this.setState({phase:cr.LIST,runningMatch:null})},this._getPhaseVisibility=n=>this.state.phase!==n?"hidden":"phase",this.renderMatches=(n,i)=>n.map(a=>{const{matchID:c,gameName:u,players:f}=a;return De.createElement(a5,{key:"instance-"+c,match:{matchID:c,gameName:u,players:Object.values(f)},playerName:i,onClickJoin:this._joinMatch,onClickLeave:this._leaveMatch,onClickPlay:this._startMatch})}),this._createConnection(this.props)}componentDidMount(){const e=w1.load("lobbyState")||{};e.phase&&e.phase===cr.PLAY&&(e.phase=cr.LIST),e.phase&&e.phase!==cr.ENTER&&this._startRefreshInterval(),this.setState({phase:e.phase||cr.ENTER,playerName:e.playerName||"Visitor",credentialStore:e.credentialStore||{}})}componentDidUpdate(e,n){const i=this.state.playerName,a=this.state.credentialStore[i];if(n.phase!==this.state.phase||n.credentialStore[i]!==a||n.playerName!==i){this._createConnection(this.props),this._updateConnection();const c={phase:this.state.phase,playerName:i,credentialStore:this.state.credentialStore};w1.save("lobbyState",c,{path:"/"})}e.refreshInterval!==this.props.refreshInterval&&this._startRefreshInterval()}componentWillUnmount(){this._clearRefreshInterval()}_startRefreshInterval(){this._clearRefreshInterval(),this._currentInterval=setInterval(this._updateConnection,this.props.refreshInterval)}_clearRefreshInterval(){clearInterval(this._currentInterval)}render(){const{gameComponents:e,renderer:n}=this.props,{errorMsg:i,playerName:a,phase:c,runningMatch:u}=this.state;return n?n({errorMsg:i,gameComponents:e,matches:this.connection.matches,phase:c,playerName:a,runningMatch:u,handleEnterLobby:this._enterLobby,handleExitLobby:this._exitLobby,handleCreateMatch:this._createMatch,handleJoinMatch:this._joinMatch,handleLeaveMatch:this._leaveMatch,handleExitMatch:this._exitMatch,handleRefreshMatches:this._updateConnection,handleStartMatch:this._startMatch}):De.createElement("div",{id:"lobby-view",style:{padding:50}},De.createElement("div",{className:this._getPhaseVisibility(cr.ENTER)},De.createElement(VE,{key:a,playerName:a,onEnter:this._enterLobby})),De.createElement("div",{className:this._getPhaseVisibility(cr.LIST)},De.createElement("p",null,"Welcome, ",a),De.createElement("div",{className:"phase-title",id:"match-creation"},De.createElement("span",null,"Create a match:"),De.createElement(o5,{games:e,createMatch:this._createMatch})),De.createElement("p",{className:"phase-title"},"Join a match:"),De.createElement("div",{id:"instances"},De.createElement("table",null,De.createElement("tbody",null,this.renderMatches(this.connection.matches,a))),De.createElement("span",{className:"error-msg"},i,De.createElement("br",null))),De.createElement("p",{className:"phase-title"},"Matches that become empty are automatically deleted.")),De.createElement("div",{className:this._getPhaseVisibility(cr.PLAY)},u&&De.createElement(u.app,{matchID:u.matchID,playerID:u.playerID,credentials:u.credentials}),De.createElement("div",{className:"buttons",id:"match-exit"},De.createElement("button",{onClick:this._exitMatch},"Exit match"))),De.createElement("div",{className:"buttons",id:"lobby-exit"},De.createElement("button",{onClick:this._exitLobby},"Exit lobby")))}}qE.propTypes={gameComponents:ri.array.isRequired,lobbyServer:ri.string,gameServer:ri.string,debug:ri.bool,clientFactory:ri.func,refreshInterval:ri.number};qE.defaultProps={debug:!1,clientFactory:$E,refreshInterval:2e3};var Js={};class c5{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const n of this._parts)e.push(n);return l5(e).buffer}}function l5(t){let e=0;for(const a of t)e+=a.byteLength;const n=new Uint8Array(e);let i=0;for(const a of t){const c=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);n.set(c,i),i+=a.byteLength}return n}function FE(t){return new u5(t).unpack()}function YE(t){const e=new f5,n=e.pack(t);return n instanceof Promise?n.then(()=>e.getBuffer()):e.getBuffer()}class u5{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let n;if((n=e^160)<=15)return this.unpack_raw(n);if((n=e^176)<=15)return this.unpack_string(n);if((n=e^144)<=15)return this.unpack_array(n);if((n=e^128)<=15)return this.unpack_map(n);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),n=(e[0]&255)*256+(e[1]&255);return this.index+=2,n}unpack_uint32(){const e=this.read(4),n=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,n}unpack_uint64(){const e=this.read(8),n=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,n}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,n}unpack_string(e){const n=this.read(e);let i=0,a="",c,u;for(;i<e;)c=n[i],c<160?(u=c,i++):(c^192)<32?(u=(c&31)<<6|n[i+1]&63,i+=2):(c^224)<16?(u=(c&15)<<12|(n[i+1]&63)<<6|n[i+2]&63,i+=3):(u=(c&7)<<18|(n[i+1]&63)<<12|(n[i+2]&63)<<6|n[i+3]&63,i+=4),a+=String.fromCodePoint(u);return this.index+=e,a}unpack_array(e){const n=new Array(e);for(let i=0;i<e;i++)n[i]=this.unpack();return n}unpack_map(e){const n={};for(let i=0;i<e;i++){const a=this.unpack();n[a]=this.unpack()}return n}unpack_float(){const e=this.unpack_uint32(),n=e>>31,i=(e>>23&255)-127,a=e&8388607|8388608;return(n===0?1:-1)*a*2**(i-23)}unpack_double(){const e=this.unpack_uint32(),n=this.unpack_uint32(),i=e>>31,a=(e>>20&2047)-1023,u=(e&1048575|1048576)*2**(a-20)+n*2**(a-52);return(i===0?1:-1)*u}read(e){const n=this.index;if(n+e<=this.length)return this.dataView.subarray(n,n+e);throw new Error("BinaryPackFailure: read index out of range")}}class f5{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const n=e.constructor;if(e instanceof Array){const i=this.pack_array(e);if(i instanceof Promise)return i.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const i=e;this.pack_bin(new Uint8Array(i.buffer,i.byteOffset,i.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(i=>{this.pack_bin(new Uint8Array(i)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const i=this.pack_object(e);if(i instanceof Promise)return i.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const n=e.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const n=this._textEncoder.encode(e),i=n.length;if(i<=15)this.pack_uint8(176+i);else if(i<=65535)this._bufferBuilder.append(216),this.pack_uint16(i);else if(i<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(i);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(e){const n=e.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const i=a=>{if(a<n){const c=this.pack(e[a]);return c instanceof Promise?c.then(()=>i(a+1)):i(a+1)}};return i(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let n=0;e<0&&(n=1,e=-e);const i=Math.floor(Math.log(e)/Math.LN2),a=e/2**i-1,c=Math.floor(a*2**52),u=2**32,f=n<<31|i+1023<<20|c/u&1048575,d=c%u;this._bufferBuilder.append(203),this.pack_int32(f),this.pack_int32(d)}pack_object(e){const n=Object.keys(e),i=n.length;if(i<=15)this.pack_uint8(128+i);else if(i<=65535)this._bufferBuilder.append(222),this.pack_uint16(i);else if(i<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(i);else throw new Error("Invalid length");const a=c=>{if(c<n.length){const u=n[c];if(e.hasOwnProperty(u)){this.pack(u);const f=this.pack(e[u]);if(f instanceof Promise)return f.then(()=>a(c+1))}return a(c+1)}};return a(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const n=e&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(e){const n=e/4294967296,i=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((i&4278190080)>>>24),this._bufferBuilder.append((i&16711680)>>>16),this._bufferBuilder.append((i&65280)>>>8),this._bufferBuilder.append(i&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const n=Math.floor(e/4294967296),i=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((i&4278190080)>>>24),this._bufferBuilder.append((i&16711680)>>>16),this._bufferBuilder.append((i&65280)>>>8),this._bufferBuilder.append(i&255)}constructor(){this._bufferBuilder=new c5,this._textEncoder=new TextEncoder}}let GE=!0,KE=!0;function Sc(t,e,n){const i=t.match(e);return i&&i.length>=n&&parseFloat(i[n],10)}function fa(t,e,n){if(!t.RTCPeerConnection)return;const i=t.RTCPeerConnection.prototype,a=i.addEventListener;i.addEventListener=function(u,f){if(u!==e)return a.apply(this,arguments);const d=h=>{const m=n(h);m&&(f.handleEvent?f.handleEvent(m):f(m))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(f,d),a.apply(this,[u,d])};const c=i.removeEventListener;i.removeEventListener=function(u,f){if(u!==e||!this._eventMap||!this._eventMap[e])return c.apply(this,arguments);if(!this._eventMap[e].has(f))return c.apply(this,arguments);const d=this._eventMap[e].get(f);return this._eventMap[e].delete(f),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,c.apply(this,[u,d])},Object.defineProperty(i,"on"+e,{get(){return this["_on"+e]},set(u){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),u&&this.addEventListener(e,this["_on"+e]=u)},enumerable:!0,configurable:!0})}function d5(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(GE=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function h5(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(KE=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function XE(){if(typeof window=="object"){if(GE)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Ky(t,e){KE&&console.warn(t+" is deprecated, please use "+e+" instead.")}function p5(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.userAgentData&&n.userAgentData.brands){const i=n.userAgentData.brands.find(a=>a.brand==="Chromium");if(i)return{browser:"chrome",version:parseInt(i.version,10)}}if(n.mozGetUserMedia)e.browser="firefox",e.version=parseInt(Sc(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(Sc(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(Sc(n.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype,e._safariVersion=Sc(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function D1(t){return Object.prototype.toString.call(t)==="[object Object]"}function QE(t){return D1(t)?Object.keys(t).reduce(function(e,n){const i=D1(t[n]),a=i?QE(t[n]):t[n],c=i&&!Object.keys(a).length;return a===void 0||c?e:Object.assign(e,{[n]:a})},{}):t}function jm(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(i=>{i.endsWith("Id")?jm(t,t.get(e[i]),n):i.endsWith("Ids")&&e[i].forEach(a=>{jm(t,t.get(a),n)})}))}function k1(t,e,n){const i=n?"outbound-rtp":"inbound-rtp",a=new Map;if(e===null)return a;const c=[];return t.forEach(u=>{u.type==="track"&&u.trackIdentifier===e.id&&c.push(u)}),c.forEach(u=>{t.forEach(f=>{f.type===i&&f.trackId===u.id&&jm(t,f,a)})}),a}const j1=XE;function ZE(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const i=function(f){if(typeof f!="object"||f.mandatory||f.optional)return f;const d={};return Object.keys(f).forEach(h=>{if(h==="require"||h==="advanced"||h==="mediaSource")return;const m=typeof f[h]=="object"?f[h]:{ideal:f[h]};m.exact!==void 0&&typeof m.exact=="number"&&(m.min=m.max=m.exact);const g=function(x,S){return x?x+S.charAt(0).toUpperCase()+S.slice(1):S==="deviceId"?"sourceId":S};if(m.ideal!==void 0){d.optional=d.optional||[];let x={};typeof m.ideal=="number"?(x[g("min",h)]=m.ideal,d.optional.push(x),x={},x[g("max",h)]=m.ideal,d.optional.push(x)):(x[g("",h)]=m.ideal,d.optional.push(x))}m.exact!==void 0&&typeof m.exact!="number"?(d.mandatory=d.mandatory||{},d.mandatory[g("",h)]=m.exact):["min","max"].forEach(x=>{m[x]!==void 0&&(d.mandatory=d.mandatory||{},d.mandatory[g(x,h)]=m[x])})}),f.advanced&&(d.optional=(d.optional||[]).concat(f.advanced)),d},a=function(f,d){if(e.version>=61)return d(f);if(f=JSON.parse(JSON.stringify(f)),f&&typeof f.audio=="object"){const h=function(m,g,x){g in m&&!(x in m)&&(m[x]=m[g],delete m[g])};f=JSON.parse(JSON.stringify(f)),h(f.audio,"autoGainControl","googAutoGainControl"),h(f.audio,"noiseSuppression","googNoiseSuppression"),f.audio=i(f.audio)}if(f&&typeof f.video=="object"){let h=f.video.facingMode;h=h&&(typeof h=="object"?h:{ideal:h});const m=e.version<66;if(h&&(h.exact==="user"||h.exact==="environment"||h.ideal==="user"||h.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!m)){delete f.video.facingMode;let g;if(h.exact==="environment"||h.ideal==="environment"?g=["back","rear"]:(h.exact==="user"||h.ideal==="user")&&(g=["front"]),g)return n.mediaDevices.enumerateDevices().then(x=>{x=x.filter(E=>E.kind==="videoinput");let S=x.find(E=>g.some(C=>E.label.toLowerCase().includes(C)));return!S&&x.length&&g.includes("back")&&(S=x[x.length-1]),S&&(f.video.deviceId=h.exact?{exact:S.deviceId}:{ideal:S.deviceId}),f.video=i(f.video),j1("chrome: "+JSON.stringify(f)),d(f)})}f.video=i(f.video)}return j1("chrome: "+JSON.stringify(f)),d(f)},c=function(f){return e.version>=64?f:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[f.name]||f.name,message:f.message,constraint:f.constraint||f.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},u=function(f,d,h){a(f,m=>{n.webkitGetUserMedia(m,d,g=>{h&&h(c(g))})})};if(n.getUserMedia=u.bind(n),n.mediaDevices.getUserMedia){const f=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(d){return a(d,h=>f(h).then(m=>{if(h.audio&&!m.getAudioTracks().length||h.video&&!m.getVideoTracks().length)throw m.getTracks().forEach(g=>{g.stop()}),new DOMException("","NotFoundError");return m},m=>Promise.reject(c(m))))}}}function JE(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function WE(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=i=>{i.stream.addEventListener("addtrack",a=>{let c;t.RTCPeerConnection.prototype.getReceivers?c=this.getReceivers().find(f=>f.track&&f.track.id===a.track.id):c={track:a.track};const u=new Event("track");u.track=a.track,u.receiver=c,u.transceiver={receiver:c},u.streams=[i.stream],this.dispatchEvent(u)}),i.stream.getTracks().forEach(a=>{let c;t.RTCPeerConnection.prototype.getReceivers?c=this.getReceivers().find(f=>f.track&&f.track.id===a.id):c={track:a};const u=new Event("track");u.track=a,u.receiver=c,u.transceiver={receiver:c},u.streams=[i.stream],this.dispatchEvent(u)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else fa(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function eC(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(a,c){return{track:c,get dtmf(){return this._dtmf===void 0&&(c.kind==="audio"?this._dtmf=a.createDTMFSender(c):this._dtmf=null),this._dtmf},_pc:a}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const a=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(f,d){let h=a.apply(this,arguments);return h||(h=e(this,f),this._senders.push(h)),h};const c=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(f){c.apply(this,arguments);const d=this._senders.indexOf(f);d!==-1&&this._senders.splice(d,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(c){this._senders=this._senders||[],n.apply(this,[c]),c.getTracks().forEach(u=>{this._senders.push(e(this,u))})};const i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(c){this._senders=this._senders||[],i.apply(this,[c]),c.getTracks().forEach(u=>{const f=this._senders.find(d=>d.track===u);f&&this._senders.splice(this._senders.indexOf(f),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const i=e.apply(this,[]);return i.forEach(a=>a._pc=this),i},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function tC(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const c=n.apply(this,[]);return c.forEach(u=>u._pc=this),c});const i=t.RTCPeerConnection.prototype.addTrack;i&&(t.RTCPeerConnection.prototype.addTrack=function(){const c=i.apply(this,arguments);return c._pc=this,c}),t.RTCRtpSender.prototype.getStats=function(){const c=this;return this._pc.getStats().then(u=>k1(u,c.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const a=n.apply(this,[]);return a.forEach(c=>c._pc=this),a}),fa(t,"track",i=>(i.receiver._pc=i.srcElement,i)),t.RTCRtpReceiver.prototype.getStats=function(){const a=this;return this._pc.getStats().then(c=>k1(c,a.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const i=arguments[0];let a,c,u;return this.getSenders().forEach(f=>{f.track===i&&(a?u=!0:a=f)}),this.getReceivers().forEach(f=>(f.track===i&&(c?u=!0:c=f),f.track===i)),u||a&&c?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):a?a.getStats():c?c.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function nC(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(u=>this._shimmedLocalStreams[u][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(u,f){if(!f)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const d=e.apply(this,arguments);return this._shimmedLocalStreams[f.id]?this._shimmedLocalStreams[f.id].indexOf(d)===-1&&this._shimmedLocalStreams[f.id].push(d):this._shimmedLocalStreams[f.id]=[f,d],d};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(u){this._shimmedLocalStreams=this._shimmedLocalStreams||{},u.getTracks().forEach(h=>{if(this.getSenders().find(g=>g.track===h))throw new DOMException("Track already exists.","InvalidAccessError")});const f=this.getSenders();n.apply(this,arguments);const d=this.getSenders().filter(h=>f.indexOf(h)===-1);this._shimmedLocalStreams[u.id]=[u].concat(d)};const i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(u){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[u.id],i.apply(this,arguments)};const a=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(u){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},u&&Object.keys(this._shimmedLocalStreams).forEach(f=>{const d=this._shimmedLocalStreams[f].indexOf(u);d!==-1&&this._shimmedLocalStreams[f].splice(d,1),this._shimmedLocalStreams[f].length===1&&delete this._shimmedLocalStreams[f]}),a.apply(this,arguments)}}function rC(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return nC(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const m=n.apply(this);return this._reverseStreams=this._reverseStreams||{},m.map(g=>this._reverseStreams[g.id])};const i=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(m){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},m.getTracks().forEach(g=>{if(this.getSenders().find(S=>S.track===g))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[m.id]){const g=new t.MediaStream(m.getTracks());this._streams[m.id]=g,this._reverseStreams[g.id]=m,m=g}i.apply(this,[m])};const a=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(m){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},a.apply(this,[this._streams[m.id]||m]),delete this._reverseStreams[this._streams[m.id]?this._streams[m.id].id:m.id],delete this._streams[m.id]},t.RTCPeerConnection.prototype.addTrack=function(m,g){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const x=[].slice.call(arguments,1);if(x.length!==1||!x[0].getTracks().find(C=>C===m))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(C=>C.track===m))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const E=this._streams[g.id];if(E)E.addTrack(m),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const C=new t.MediaStream([m]);this._streams[g.id]=C,this._reverseStreams[C.id]=g,this.addStream(C)}return this.getSenders().find(C=>C.track===m)};function c(h,m){let g=m.sdp;return Object.keys(h._reverseStreams||[]).forEach(x=>{const S=h._reverseStreams[x],E=h._streams[S.id];g=g.replace(new RegExp(E.id,"g"),S.id)}),new RTCSessionDescription({type:m.type,sdp:g})}function u(h,m){let g=m.sdp;return Object.keys(h._reverseStreams||[]).forEach(x=>{const S=h._reverseStreams[x],E=h._streams[S.id];g=g.replace(new RegExp(S.id,"g"),E.id)}),new RTCSessionDescription({type:m.type,sdp:g})}["createOffer","createAnswer"].forEach(function(h){const m=t.RTCPeerConnection.prototype[h],g={[h](){const x=arguments;return arguments.length&&typeof arguments[0]=="function"?m.apply(this,[E=>{const C=c(this,E);x[0].apply(null,[C])},E=>{x[1]&&x[1].apply(null,E)},arguments[2]]):m.apply(this,arguments).then(E=>c(this,E))}};t.RTCPeerConnection.prototype[h]=g[h]});const f=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?f.apply(this,arguments):(arguments[0]=u(this,arguments[0]),f.apply(this,arguments))};const d=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const h=d.get.apply(this);return h.type===""?h:c(this,h)}}),t.RTCPeerConnection.prototype.removeTrack=function(m){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!m._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(m._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let x;Object.keys(this._streams).forEach(S=>{this._streams[S].getTracks().find(C=>m.track===C)&&(x=this._streams[S])}),x&&(x.getTracks().length===1?this.removeStream(this._reverseStreams[x.id]):x.removeTrack(m.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Lm(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const i=t.RTCPeerConnection.prototype[n],a={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=a[n]})}function iC(t,e){fa(t,"negotiationneeded",n=>{const i=n.target;if(!((e.version<72||i.getConfiguration&&i.getConfiguration().sdpSemantics==="plan-b")&&i.signalingState!=="stable"))return n})}const L1=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:iC,shimAddTrackRemoveTrack:rC,shimAddTrackRemoveTrackWithNative:nC,shimGetSendersWithDtmf:eC,shimGetUserMedia:ZE,shimMediaStream:JE,shimOnTrack:WE,shimPeerConnection:Lm,shimSenderReceiverGetStats:tC},Symbol.toStringTag,{value:"Module"}));function sC(t,e){const n=t&&t.navigator,i=t&&t.MediaStreamTrack;if(n.getUserMedia=function(a,c,u){Ky("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(a).then(c,u)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const a=function(u,f,d){f in u&&!(d in u)&&(u[d]=u[f],delete u[f])},c=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(u){return typeof u=="object"&&typeof u.audio=="object"&&(u=JSON.parse(JSON.stringify(u)),a(u.audio,"autoGainControl","mozAutoGainControl"),a(u.audio,"noiseSuppression","mozNoiseSuppression")),c(u)},i&&i.prototype.getSettings){const u=i.prototype.getSettings;i.prototype.getSettings=function(){const f=u.apply(this,arguments);return a(f,"mozAutoGainControl","autoGainControl"),a(f,"mozNoiseSuppression","noiseSuppression"),f}}if(i&&i.prototype.applyConstraints){const u=i.prototype.applyConstraints;i.prototype.applyConstraints=function(f){return this.kind==="audio"&&typeof f=="object"&&(f=JSON.parse(JSON.stringify(f)),a(f,"autoGainControl","mozAutoGainControl"),a(f,"noiseSuppression","mozNoiseSuppression")),u.apply(this,[f])}}}}function m5(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(i){if(!(i&&i.video)){const a=new DOMException("getDisplayMedia without video constraints is undefined");return a.name="NotFoundError",a.code=8,Promise.reject(a)}return i.video===!0?i.video={mediaSource:e}:i.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(i)})}function aC(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Um(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(a){const c=t.RTCPeerConnection.prototype[a],u={[a](){return arguments[0]=new(a==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),c.apply(this,arguments)}};t.RTCPeerConnection.prototype[a]=u[a]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},i=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[c,u,f]=arguments;return i.apply(this,[c||null]).then(d=>{if(e.version<53&&!u)try{d.forEach(h=>{h.type=n[h.type]||h.type})}catch(h){if(h.name!=="TypeError")throw h;d.forEach((m,g)=>{d.set(g,Object.assign({},m,{type:n[m.type]||m.type}))})}return d}).then(u,f)}}function oC(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const a=e.apply(this,[]);return a.forEach(c=>c._pc=this),a});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const a=n.apply(this,arguments);return a._pc=this,a}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function cC(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const i=e.apply(this,[]);return i.forEach(a=>a._pc=this),i}),fa(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function lC(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){Ky("removeStream","removeTrack"),this.getSenders().forEach(i=>{i.track&&n.getTracks().includes(i.track)&&this.removeTrack(i)})})}function uC(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function fC(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let i=arguments[1]&&arguments[1].sendEncodings;i===void 0&&(i=[]),i=[...i];const a=i.length>0;a&&i.forEach(u=>{if("rid"in u&&!/^[a-z0-9]{0,16}$/i.test(u.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in u&&!(parseFloat(u.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in u&&!(parseFloat(u.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const c=e.apply(this,arguments);if(a){const{sender:u}=c,f=u.getParameters();(!("encodings"in f)||f.encodings.length===1&&Object.keys(f.encodings[0]).length===0)&&(f.encodings=i,u.sendEncodings=i,this.setParametersPromises.push(u.setParameters(f).then(()=>{delete u.sendEncodings}).catch(()=>{delete u.sendEncodings})))}return c})}function dC(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const i=e.apply(this,arguments);return"encodings"in i||(i.encodings=[].concat(this.sendEncodings||[{}])),i})}function hC(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function pC(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const U1=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:fC,shimCreateAnswer:pC,shimCreateOffer:hC,shimGetDisplayMedia:m5,shimGetParameters:dC,shimGetUserMedia:sC,shimOnTrack:aC,shimPeerConnection:Um,shimRTCDataChannel:uC,shimReceiverGetStats:cC,shimRemoveStream:lC,shimSenderGetStats:oC},Symbol.toStringTag,{value:"Module"}));function mC(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(i){this._localStreams||(this._localStreams=[]),this._localStreams.includes(i)||this._localStreams.push(i),i.getAudioTracks().forEach(a=>e.call(this,a,i)),i.getVideoTracks().forEach(a=>e.call(this,a,i))},t.RTCPeerConnection.prototype.addTrack=function(i,...a){return a&&a.forEach(c=>{this._localStreams?this._localStreams.includes(c)||this._localStreams.push(c):this._localStreams=[c]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const i=this._localStreams.indexOf(n);if(i===-1)return;this._localStreams.splice(i,1);const a=n.getTracks();this.getSenders().forEach(c=>{a.includes(c.track)&&this.removeTrack(c)})})}}function yC(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=i=>{i.streams.forEach(a=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(a))return;this._remoteStreams.push(a);const c=new Event("addstream");c.stream=a,this.dispatchEvent(c)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const i=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(a){a.streams.forEach(c=>{if(i._remoteStreams||(i._remoteStreams=[]),i._remoteStreams.indexOf(c)>=0)return;i._remoteStreams.push(c);const u=new Event("addstream");u.stream=c,i.dispatchEvent(u)})}),e.apply(i,arguments)}}}function gC(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,i=e.createAnswer,a=e.setLocalDescription,c=e.setRemoteDescription,u=e.addIceCandidate;e.createOffer=function(h,m){const g=arguments.length>=2?arguments[2]:arguments[0],x=n.apply(this,[g]);return m?(x.then(h,m),Promise.resolve()):x},e.createAnswer=function(h,m){const g=arguments.length>=2?arguments[2]:arguments[0],x=i.apply(this,[g]);return m?(x.then(h,m),Promise.resolve()):x};let f=function(d,h,m){const g=a.apply(this,[d]);return m?(g.then(h,m),Promise.resolve()):g};e.setLocalDescription=f,f=function(d,h,m){const g=c.apply(this,[d]);return m?(g.then(h,m),Promise.resolve()):g},e.setRemoteDescription=f,f=function(d,h,m){const g=u.apply(this,[d]);return m?(g.then(h,m),Promise.resolve()):g},e.addIceCandidate=f}function vC(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,i=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=a=>i(xC(a))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(i,a,c){e.mediaDevices.getUserMedia(i).then(a,c)}).bind(e))}function xC(t){return t&&t.video!==void 0?Object.assign({},t,{video:QE(t.video)}):t}function bC(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(i,a){if(i&&i.iceServers){const c=[];for(let u=0;u<i.iceServers.length;u++){let f=i.iceServers[u];f.urls===void 0&&f.url?(Ky("RTCIceServer.url","RTCIceServer.urls"),f=JSON.parse(JSON.stringify(f)),f.urls=f.url,delete f.url,c.push(f)):c.push(i.iceServers[u])}i.iceServers=c}return new e(i,a)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function SC(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function _C(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(i){if(i){typeof i.offerToReceiveAudio<"u"&&(i.offerToReceiveAudio=!!i.offerToReceiveAudio);const a=this.getTransceivers().find(u=>u.receiver.track.kind==="audio");i.offerToReceiveAudio===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):i.offerToReceiveAudio===!0&&!a&&this.addTransceiver("audio",{direction:"recvonly"}),typeof i.offerToReceiveVideo<"u"&&(i.offerToReceiveVideo=!!i.offerToReceiveVideo);const c=this.getTransceivers().find(u=>u.receiver.track.kind==="video");i.offerToReceiveVideo===!1&&c?c.direction==="sendrecv"?c.setDirection?c.setDirection("sendonly"):c.direction="sendonly":c.direction==="recvonly"&&(c.setDirection?c.setDirection("inactive"):c.direction="inactive"):i.offerToReceiveVideo===!0&&!c&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function wC(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const z1=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:wC,shimCallbacksAPI:gC,shimConstraints:xC,shimCreateOfferLegacy:_C,shimGetUserMedia:vC,shimLocalStreamsAPI:mC,shimRTCIceServerUrls:bC,shimRemoteStreamsAPI:yC,shimTrackEventTransceiver:SC},Symbol.toStringTag,{value:"Module"}));var Bp={exports:{}},I1;function y5(){return I1||(I1=1,(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(i=>i.trim())},e.splitSections=function(n){return n.split(`
m=`).map((a,c)=>(c>0?"m="+a:a).trim()+`\r
`)},e.getDescription=function(n){const i=e.splitSections(n);return i&&i[0]},e.getMediaSections=function(n){const i=e.splitSections(n);return i.shift(),i},e.matchPrefix=function(n,i){return e.splitLines(n).filter(a=>a.indexOf(i)===0)},e.parseCandidate=function(n){let i;n.indexOf("a=candidate:")===0?i=n.substring(12).split(" "):i=n.substring(10).split(" ");const a={foundation:i[0],component:{1:"rtp",2:"rtcp"}[i[1]]||i[1],protocol:i[2].toLowerCase(),priority:parseInt(i[3],10),ip:i[4],address:i[4],port:parseInt(i[5],10),type:i[7]};for(let c=8;c<i.length;c+=2)switch(i[c]){case"raddr":a.relatedAddress=i[c+1];break;case"rport":a.relatedPort=parseInt(i[c+1],10);break;case"tcptype":a.tcpType=i[c+1];break;case"ufrag":a.ufrag=i[c+1],a.usernameFragment=i[c+1];break;default:a[i[c]]===void 0&&(a[i[c]]=i[c+1]);break}return a},e.writeCandidate=function(n){const i=[];i.push(n.foundation);const a=n.component;a==="rtp"?i.push(1):a==="rtcp"?i.push(2):i.push(a),i.push(n.protocol.toUpperCase()),i.push(n.priority),i.push(n.address||n.ip),i.push(n.port);const c=n.type;return i.push("typ"),i.push(c),c!=="host"&&n.relatedAddress&&n.relatedPort&&(i.push("raddr"),i.push(n.relatedAddress),i.push("rport"),i.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(i.push("tcptype"),i.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(i.push("ufrag"),i.push(n.usernameFragment||n.ufrag)),"candidate:"+i.join(" ")},e.parseIceOptions=function(n){return n.substring(14).split(" ")},e.parseRtpMap=function(n){let i=n.substring(9).split(" ");const a={payloadType:parseInt(i.shift(),10)};return i=i[0].split("/"),a.name=i[0],a.clockRate=parseInt(i[1],10),a.channels=i.length===3?parseInt(i[2],10):1,a.numChannels=a.channels,a},e.writeRtpMap=function(n){let i=n.payloadType;n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType);const a=n.channels||n.numChannels||1;return"a=rtpmap:"+i+" "+n.name+"/"+n.clockRate+(a!==1?"/"+a:"")+`\r
`},e.parseExtmap=function(n){const i=n.substring(9).split(" ");return{id:parseInt(i[0],10),direction:i[0].indexOf("/")>0?i[0].split("/")[1]:"sendrecv",uri:i[1],attributes:i.slice(2).join(" ")}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},e.parseFmtp=function(n){const i={};let a;const c=n.substring(n.indexOf(" ")+1).split(";");for(let u=0;u<c.length;u++)a=c[u].trim().split("="),i[a[0].trim()]=a[1];return i},e.writeFmtp=function(n){let i="",a=n.payloadType;if(n.preferredPayloadType!==void 0&&(a=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const c=[];Object.keys(n.parameters).forEach(u=>{n.parameters[u]!==void 0?c.push(u+"="+n.parameters[u]):c.push(u)}),i+="a=fmtp:"+a+" "+c.join(";")+`\r
`}return i},e.parseRtcpFb=function(n){const i=n.substring(n.indexOf(" ")+1).split(" ");return{type:i.shift(),parameter:i.join(" ")}},e.writeRtcpFb=function(n){let i="",a=n.payloadType;return n.preferredPayloadType!==void 0&&(a=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(c=>{i+="a=rtcp-fb:"+a+" "+c.type+(c.parameter&&c.parameter.length?" "+c.parameter:"")+`\r
`}),i},e.parseSsrcMedia=function(n){const i=n.indexOf(" "),a={ssrc:parseInt(n.substring(7,i),10)},c=n.indexOf(":",i);return c>-1?(a.attribute=n.substring(i+1,c),a.value=n.substring(c+1)):a.attribute=n.substring(i+1),a},e.parseSsrcGroup=function(n){const i=n.substring(13).split(" ");return{semantics:i.shift(),ssrcs:i.map(a=>parseInt(a,10))}},e.getMid=function(n){const i=e.matchPrefix(n,"a=mid:")[0];if(i)return i.substring(6)},e.parseFingerprint=function(n){const i=n.substring(14).split(" ");return{algorithm:i[0].toLowerCase(),value:i[1].toUpperCase()}},e.getDtlsParameters=function(n,i){return{role:"auto",fingerprints:e.matchPrefix(n+i,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,i){let a="a=setup:"+i+`\r
`;return n.fingerprints.forEach(c=>{a+="a=fingerprint:"+c.algorithm+" "+c.value+`\r
`}),a},e.parseCryptoLine=function(n){const i=n.substring(9).split(" ");return{tag:parseInt(i[0],10),cryptoSuite:i[1],keyParams:i[2],sessionParams:i.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const i=n.substring(7).split("|");return{keyMethod:"inline",keySalt:i[0],lifeTime:i[1],mkiValue:i[2]?i[2].split(":")[0]:void 0,mkiLength:i[2]?i[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,i){return e.matchPrefix(n+i,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,i){const a=e.matchPrefix(n+i,"a=ice-ufrag:")[0],c=e.matchPrefix(n+i,"a=ice-pwd:")[0];return a&&c?{usernameFragment:a.substring(12),password:c.substring(10)}:null},e.writeIceParameters=function(n){let i="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(i+=`a=ice-lite\r
`),i},e.parseRtpParameters=function(n){const i={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},c=e.splitLines(n)[0].split(" ");i.profile=c[2];for(let f=3;f<c.length;f++){const d=c[f],h=e.matchPrefix(n,"a=rtpmap:"+d+" ")[0];if(h){const m=e.parseRtpMap(h),g=e.matchPrefix(n,"a=fmtp:"+d+" ");switch(m.parameters=g.length?e.parseFmtp(g[0]):{},m.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+d+" ").map(e.parseRtcpFb),i.codecs.push(m),m.name.toUpperCase()){case"RED":case"ULPFEC":i.fecMechanisms.push(m.name.toUpperCase());break}}}e.matchPrefix(n,"a=extmap:").forEach(f=>{i.headerExtensions.push(e.parseExtmap(f))});const u=e.matchPrefix(n,"a=rtcp-fb:* ").map(e.parseRtcpFb);return i.codecs.forEach(f=>{u.forEach(d=>{f.rtcpFeedback.find(m=>m.type===d.type&&m.parameter===d.parameter)||f.rtcpFeedback.push(d)})}),i},e.writeRtpDescription=function(n,i){let a="";a+="m="+n+" ",a+=i.codecs.length>0?"9":"0",a+=" "+(i.profile||"UDP/TLS/RTP/SAVPF")+" ",a+=i.codecs.map(u=>u.preferredPayloadType!==void 0?u.preferredPayloadType:u.payloadType).join(" ")+`\r
`,a+=`c=IN IP4 0.0.0.0\r
`,a+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,i.codecs.forEach(u=>{a+=e.writeRtpMap(u),a+=e.writeFmtp(u),a+=e.writeRtcpFb(u)});let c=0;return i.codecs.forEach(u=>{u.maxptime>c&&(c=u.maxptime)}),c>0&&(a+="a=maxptime:"+c+`\r
`),i.headerExtensions&&i.headerExtensions.forEach(u=>{a+=e.writeExtmap(u)}),a},e.parseRtpEncodingParameters=function(n){const i=[],a=e.parseRtpParameters(n),c=a.fecMechanisms.indexOf("RED")!==-1,u=a.fecMechanisms.indexOf("ULPFEC")!==-1,f=e.matchPrefix(n,"a=ssrc:").map(x=>e.parseSsrcMedia(x)).filter(x=>x.attribute==="cname"),d=f.length>0&&f[0].ssrc;let h;const m=e.matchPrefix(n,"a=ssrc-group:FID").map(x=>x.substring(17).split(" ").map(E=>parseInt(E,10)));m.length>0&&m[0].length>1&&m[0][0]===d&&(h=m[0][1]),a.codecs.forEach(x=>{if(x.name.toUpperCase()==="RTX"&&x.parameters.apt){let S={ssrc:d,codecPayloadType:parseInt(x.parameters.apt,10)};d&&h&&(S.rtx={ssrc:h}),i.push(S),c&&(S=JSON.parse(JSON.stringify(S)),S.fec={ssrc:d,mechanism:u?"red+ulpfec":"red"},i.push(S))}}),i.length===0&&d&&i.push({ssrc:d});let g=e.matchPrefix(n,"b=");return g.length&&(g[0].indexOf("b=TIAS:")===0?g=parseInt(g[0].substring(7),10):g[0].indexOf("b=AS:")===0?g=parseInt(g[0].substring(5),10)*1e3*.95-2e3*8:g=void 0,i.forEach(x=>{x.maxBitrate=g})),i},e.parseRtcpParameters=function(n){const i={},a=e.matchPrefix(n,"a=ssrc:").map(f=>e.parseSsrcMedia(f)).filter(f=>f.attribute==="cname")[0];a&&(i.cname=a.value,i.ssrc=a.ssrc);const c=e.matchPrefix(n,"a=rtcp-rsize");i.reducedSize=c.length>0,i.compound=c.length===0;const u=e.matchPrefix(n,"a=rtcp-mux");return i.mux=u.length>0,i},e.writeRtcpParameters=function(n){let i="";return n.reducedSize&&(i+=`a=rtcp-rsize\r
`),n.mux&&(i+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(i+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),i},e.parseMsid=function(n){let i;const a=e.matchPrefix(n,"a=msid:");if(a.length===1)return i=a[0].substring(7).split(" "),{stream:i[0],track:i[1]};const c=e.matchPrefix(n,"a=ssrc:").map(u=>e.parseSsrcMedia(u)).filter(u=>u.attribute==="msid");if(c.length>0)return i=c[0].value.split(" "),{stream:i[0],track:i[1]}},e.parseSctpDescription=function(n){const i=e.parseMLine(n),a=e.matchPrefix(n,"a=max-message-size:");let c;a.length>0&&(c=parseInt(a[0].substring(19),10)),isNaN(c)&&(c=65536);const u=e.matchPrefix(n,"a=sctp-port:");if(u.length>0)return{port:parseInt(u[0].substring(12),10),protocol:i.fmt,maxMessageSize:c};const f=e.matchPrefix(n,"a=sctpmap:");if(f.length>0){const d=f[0].substring(10).split(" ");return{port:parseInt(d[0],10),protocol:d[1],maxMessageSize:c}}},e.writeSctpDescription=function(n,i){let a=[];return n.protocol!=="DTLS/SCTP"?a=["m="+n.kind+" 9 "+n.protocol+" "+i.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+i.port+`\r
`]:a=["m="+n.kind+" 9 "+n.protocol+" "+i.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+i.port+" "+i.protocol+` 65535\r
`],i.maxMessageSize!==void 0&&a.push("a=max-message-size:"+i.maxMessageSize+`\r
`),a.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,i,a){let c;const u=i!==void 0?i:2;return n?c=n:c=e.generateSessionId(),`v=0\r
o=`+(a||"thisisadapterortc")+" "+c+" "+u+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,i){const a=e.splitLines(n);for(let c=0;c<a.length;c++)switch(a[c]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return a[c].substring(2)}return i?e.getDirection(i):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substring(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const a=e.splitLines(n)[0].substring(2).split(" ");return{kind:a[0],port:parseInt(a[1],10),protocol:a[2],fmt:a.slice(3).join(" ")}},e.parseOLine=function(n){const a=e.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:a[0],sessionId:a[1],sessionVersion:parseInt(a[2],10),netType:a[3],addressType:a[4],address:a[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const i=e.splitLines(n);for(let a=0;a<i.length;a++)if(i[a].length<2||i[a].charAt(1)!=="=")return!1;return!0},t.exports=e})(Bp)),Bp.exports}var EC=y5();const Za=Ic(EC),g5=J1({__proto__:null,default:Za},[EC]);function ku(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(i){if(typeof i=="object"&&i.candidate&&i.candidate.indexOf("a=")===0&&(i=JSON.parse(JSON.stringify(i)),i.candidate=i.candidate.substring(2)),i.candidate&&i.candidate.length){const a=new e(i),c=Za.parseCandidate(i.candidate);for(const u in c)u in a||Object.defineProperty(a,u,{value:c[u]});return a.toJSON=function(){return{candidate:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex,usernameFragment:a.usernameFragment}},a}return new e(i)},t.RTCIceCandidate.prototype=e.prototype,fa(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function zm(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||fa(t,"icecandidate",e=>{if(e.candidate){const n=Za.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function ju(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(f){if(!f||!f.sdp)return!1;const d=Za.splitSections(f.sdp);return d.shift(),d.some(h=>{const m=Za.parseMLine(h);return m&&m.kind==="application"&&m.protocol.indexOf("SCTP")!==-1})},i=function(f){const d=f.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(d===null||d.length<2)return-1;const h=parseInt(d[1],10);return h!==h?-1:h},a=function(f){let d=65536;return e.browser==="firefox"&&(e.version<57?f===-1?d=16384:d=2147483637:e.version<60?d=e.version===57?65535:65536:d=2147483637),d},c=function(f,d){let h=65536;e.browser==="firefox"&&e.version===57&&(h=65535);const m=Za.matchPrefix(f.sdp,"a=max-message-size:");return m.length>0?h=parseInt(m[0].substring(19),10):e.browser==="firefox"&&d!==-1&&(h=2147483637),h},u=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:d}=this.getConfiguration();d==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const d=i(arguments[0]),h=a(d),m=c(arguments[0],d);let g;h===0&&m===0?g=Number.POSITIVE_INFINITY:h===0||m===0?g=Math.max(h,m):g=Math.min(h,m);const x={};Object.defineProperty(x,"maxMessageSize",{get(){return g}}),this._sctp=x}return u.apply(this,arguments)}}function Lu(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(i,a){const c=i.send;i.send=function(){const f=arguments[0],d=f.length||f.size||f.byteLength;if(i.readyState==="open"&&a.sctp&&d>a.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+a.sctp.maxMessageSize+" bytes)");return c.apply(i,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const a=n.apply(this,arguments);return e(a,this),a},fa(t,"datachannel",i=>(e(i.channel,i.target),i))}function Im(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const i=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=a=>{const c=a.target;if(c._lastConnectionState!==c.connectionState){c._lastConnectionState=c.connectionState;const u=new Event("connectionstatechange",a);c.dispatchEvent(u)}return a},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),i.apply(this,arguments)}})}function Bm(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(a){if(a&&a.sdp&&a.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const c=a.sdp.split(`
`).filter(u=>u.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&a instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:a.type,sdp:c}):a.sdp=c}return n.apply(this,arguments)}}function Uu(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function zu(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let a=arguments[0]||{};if(typeof a!="object"||a.type&&a.sdp)return n.apply(this,arguments);if(a={type:a.type,sdp:a.sdp},!a.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":a.type="offer";break;default:a.type="answer";break}return a.sdp||a.type!=="offer"&&a.type!=="answer"?n.apply(this,[a]):(a.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(u=>n.apply(this,[u]))})}const v5=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Bm,shimAddIceCandidateNullOrEmpty:Uu,shimConnectionState:Im,shimMaxMessageSize:ju,shimParameterlessSetLocalDescription:zu,shimRTCIceCandidate:ku,shimRTCIceCandidateRelayProtocol:zm,shimSendThrowTypeError:Lu},Symbol.toStringTag,{value:"Module"}));function x5({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=XE,i=p5(t),a={browserDetails:i,commonShim:v5,extractVersion:Sc,disableLog:d5,disableWarnings:h5,sdp:g5};switch(i.browser){case"chrome":if(!L1||!Lm||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),a;if(i.version===null)return n("Chrome shim can not determine version, not shimming."),a;n("adapter.js shimming chrome."),a.browserShim=L1,Uu(t,i),zu(t),ZE(t,i),JE(t),Lm(t,i),WE(t),rC(t,i),eC(t),tC(t),iC(t,i),ku(t),zm(t),Im(t),ju(t,i),Lu(t),Bm(t,i);break;case"firefox":if(!U1||!Um||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),a;n("adapter.js shimming firefox."),a.browserShim=U1,Uu(t,i),zu(t),sC(t,i),Um(t,i),aC(t),lC(t),oC(t),cC(t),uC(t),fC(t),dC(t),hC(t),pC(t),ku(t),Im(t),ju(t,i),Lu(t);break;case"safari":if(!z1||!e.shimSafari)return n("Safari shim is not included in this adapter release."),a;n("adapter.js shimming safari."),a.browserShim=z1,Uu(t,i),zu(t),bC(t),_C(t),gC(t),mC(t),yC(t),SC(t),vC(t),wC(t),ku(t),zm(t),ju(t,i),Lu(t),Bm(t,i);break;default:n("Unsupported browser!");break}return a}const B1=x5({window:typeof window>"u"?void 0:window});var na=4294967295;function b5(t,e,n){var i=n/4294967296,a=n;t.setUint32(e,i),t.setUint32(e+4,a)}function CC(t,e,n){var i=Math.floor(n/4294967296),a=n;t.setUint32(e,i),t.setUint32(e+4,a)}function TC(t,e){var n=t.getInt32(e),i=t.getUint32(e+4);return n*4294967296+i}function S5(t,e){var n=t.getUint32(e),i=t.getUint32(e+4);return n*4294967296+i}var Xy={},Hp,$p,Vp,qf=(typeof process>"u"||((Hp=process==null?void 0:Xy)===null||Hp===void 0?void 0:Hp.TEXT_ENCODING)!=="never")&&typeof TextEncoder<"u"&&typeof TextDecoder<"u";function H1(t){for(var e=t.length,n=0,i=0;i<e;){var a=t.charCodeAt(i++);if((a&4294967168)===0){n++;continue}else if((a&4294965248)===0)n+=2;else{if(a>=55296&&a<=56319&&i<e){var c=t.charCodeAt(i);(c&64512)===56320&&(++i,a=((a&1023)<<10)+(c&1023)+65536)}(a&4294901760)===0?n+=3:n+=4}}return n}function _5(t,e,n){for(var i=t.length,a=n,c=0;c<i;){var u=t.charCodeAt(c++);if((u&4294967168)===0){e[a++]=u;continue}else if((u&4294965248)===0)e[a++]=u>>6&31|192;else{if(u>=55296&&u<=56319&&c<i){var f=t.charCodeAt(c);(f&64512)===56320&&(++c,u=((u&1023)<<10)+(f&1023)+65536)}(u&4294901760)===0?(e[a++]=u>>12&15|224,e[a++]=u>>6&63|128):(e[a++]=u>>18&7|240,e[a++]=u>>12&63|128,e[a++]=u>>6&63|128)}e[a++]=u&63|128}}var Rc=qf?new TextEncoder:void 0,w5=qf?typeof process<"u"&&(($p=process==null?void 0:Xy)===null||$p===void 0?void 0:$p.TEXT_ENCODING)!=="force"?200:0:na;function E5(t,e,n){e.set(Rc.encode(t),n)}function C5(t,e,n){Rc.encodeInto(t,e.subarray(n))}var T5=Rc?.encodeInto?C5:E5,R5=4096;function RC(t,e,n){for(var i=e,a=i+n,c=[],u="";i<a;){var f=t[i++];if((f&128)===0)c.push(f);else if((f&224)===192){var d=t[i++]&63;c.push((f&31)<<6|d)}else if((f&240)===224){var d=t[i++]&63,h=t[i++]&63;c.push((f&31)<<12|d<<6|h)}else if((f&248)===240){var d=t[i++]&63,h=t[i++]&63,m=t[i++]&63,g=(f&7)<<18|d<<12|h<<6|m;g>65535&&(g-=65536,c.push(g>>>10&1023|55296),g=56320|g&1023),c.push(g)}else c.push(f);c.length>=R5&&(u+=String.fromCharCode.apply(String,c),c.length=0)}return c.length>0&&(u+=String.fromCharCode.apply(String,c)),u}var A5=qf?new TextDecoder:null,O5=qf?typeof process<"u"&&((Vp=process==null?void 0:Xy)===null||Vp===void 0?void 0:Vp.TEXT_DECODER)!=="force"?200:0:na;function M5(t,e,n){var i=t.subarray(e,e+n);return A5.decode(i)}var _u=(function(){function t(e,n){this.type=e,this.data=n}return t})(),P5=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(i[c]=a[c])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}})(),ni=(function(t){P5(e,t);function e(n){var i=t.call(this,n)||this,a=Object.create(e.prototype);return Object.setPrototypeOf(i,a),Object.defineProperty(i,"name",{configurable:!0,enumerable:!1,value:e.name}),i}return e})(Error),N5=-1,D5=4294967296-1,k5=17179869184-1;function j5(t){var e=t.sec,n=t.nsec;if(e>=0&&n>=0&&e<=k5)if(n===0&&e<=D5){var i=new Uint8Array(4),a=new DataView(i.buffer);return a.setUint32(0,e),i}else{var c=e/4294967296,u=e&4294967295,i=new Uint8Array(8),a=new DataView(i.buffer);return a.setUint32(0,n<<2|c&3),a.setUint32(4,u),i}else{var i=new Uint8Array(12),a=new DataView(i.buffer);return a.setUint32(0,n),CC(a,4,e),i}}function L5(t){var e=t.getTime(),n=Math.floor(e/1e3),i=(e-n*1e3)*1e6,a=Math.floor(i/1e9);return{sec:n+a,nsec:i-a*1e9}}function U5(t){if(t instanceof Date){var e=L5(t);return j5(e)}else return null}function z5(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:{var n=e.getUint32(0),i=0;return{sec:n,nsec:i}}case 8:{var a=e.getUint32(0),c=e.getUint32(4),n=(a&3)*4294967296+c,i=a>>>2;return{sec:n,nsec:i}}case 12:{var n=TC(e,4),i=e.getUint32(0);return{sec:n,nsec:i}}default:throw new ni("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(t.length))}}function I5(t){var e=z5(t);return new Date(e.sec*1e3+e.nsec/1e6)}var B5={type:N5,encode:U5,decode:I5},AC=(function(){function t(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(B5)}return t.prototype.register=function(e){var n=e.type,i=e.encode,a=e.decode;if(n>=0)this.encoders[n]=i,this.decoders[n]=a;else{var c=1+n;this.builtInEncoders[c]=i,this.builtInDecoders[c]=a}},t.prototype.tryToEncode=function(e,n){for(var i=0;i<this.builtInEncoders.length;i++){var a=this.builtInEncoders[i];if(a!=null){var c=a(e,n);if(c!=null){var u=-1-i;return new _u(u,c)}}}for(var i=0;i<this.encoders.length;i++){var a=this.encoders[i];if(a!=null){var c=a(e,n);if(c!=null){var u=i;return new _u(u,c)}}}return e instanceof _u?e:null},t.prototype.decode=function(e,n,i){var a=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return a?a(e,n,i):new _u(n,e)},t.defaultCodec=new t,t})();function uf(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer?new Uint8Array(t):Uint8Array.from(t)}function H5(t){if(t instanceof ArrayBuffer)return new DataView(t);var e=uf(t);return new DataView(e.buffer,e.byteOffset,e.byteLength)}var $5=100,V5=2048,q5=(function(){function t(e,n,i,a,c,u,f,d){e===void 0&&(e=AC.defaultCodec),n===void 0&&(n=void 0),i===void 0&&(i=$5),a===void 0&&(a=V5),c===void 0&&(c=!1),u===void 0&&(u=!1),f===void 0&&(f=!1),d===void 0&&(d=!1),this.extensionCodec=e,this.context=n,this.maxDepth=i,this.initialBufferSize=a,this.sortKeys=c,this.forceFloat32=u,this.ignoreUndefined=f,this.forceIntegerToFloat=d,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return t.prototype.reinitializeState=function(){this.pos=0},t.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},t.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},t.prototype.doEncode=function(e,n){if(n>this.maxDepth)throw new Error("Too deep objects in depth ".concat(n));e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.encodeObject(e,n)},t.prototype.ensureBufferSizeToWrite=function(e){var n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)},t.prototype.resizeBuffer=function(e){var n=new ArrayBuffer(e),i=new Uint8Array(n),a=new DataView(n);i.set(this.bytes),this.view=a,this.bytes=i},t.prototype.encodeNil=function(){this.writeU8(192)},t.prototype.encodeBoolean=function(e){e===!1?this.writeU8(194):this.writeU8(195)},t.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},t.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error("Too long string: ".concat(e," bytes in UTF-8"))},t.prototype.encodeString=function(e){var n=5,i=e.length;if(i>w5){var a=H1(e);this.ensureBufferSizeToWrite(n+a),this.writeStringHeader(a),T5(e,this.bytes,this.pos),this.pos+=a}else{var a=H1(e);this.ensureBufferSizeToWrite(n+a),this.writeStringHeader(a),_5(e,this.bytes,this.pos),this.pos+=a}},t.prototype.encodeObject=function(e,n){var i=this.extensionCodec.tryToEncode(e,this.context);if(i!=null)this.encodeExtension(i);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)))},t.prototype.encodeBinary=function(e){var n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error("Too large binary: ".concat(n));var i=uf(e);this.writeU8a(i)},t.prototype.encodeArray=function(e,n){var i=e.length;if(i<16)this.writeU8(144+i);else if(i<65536)this.writeU8(220),this.writeU16(i);else if(i<4294967296)this.writeU8(221),this.writeU32(i);else throw new Error("Too large array: ".concat(i));for(var a=0,c=e;a<c.length;a++){var u=c[a];this.doEncode(u,n+1)}},t.prototype.countWithoutUndefined=function(e,n){for(var i=0,a=0,c=n;a<c.length;a++){var u=c[a];e[u]!==void 0&&i++}return i},t.prototype.encodeMap=function(e,n){var i=Object.keys(e);this.sortKeys&&i.sort();var a=this.ignoreUndefined?this.countWithoutUndefined(e,i):i.length;if(a<16)this.writeU8(128+a);else if(a<65536)this.writeU8(222),this.writeU16(a);else if(a<4294967296)this.writeU8(223),this.writeU32(a);else throw new Error("Too large map object: ".concat(a));for(var c=0,u=i;c<u.length;c++){var f=u[c],d=e[f];this.ignoreUndefined&&d===void 0||(this.encodeString(f),this.doEncode(d,n+1))}},t.prototype.encodeExtension=function(e){var n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error("Too large extension object: ".concat(n));this.writeI8(e.type),this.writeU8a(e.data)},t.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},t.prototype.writeU8a=function(e){var n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n},t.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},t.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},t.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},t.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},t.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},t.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},t.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},t.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),b5(this.view,this.pos,e),this.pos+=8},t.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),CC(this.view,this.pos,e),this.pos+=8},t})();function qp(t){return"".concat(t<0?"-":"","0x").concat(Math.abs(t).toString(16).padStart(2,"0"))}var F5=16,Y5=16,G5=(function(){function t(e,n){e===void 0&&(e=F5),n===void 0&&(n=Y5),this.maxKeyLength=e,this.maxLengthPerKey=n,this.hit=0,this.miss=0,this.caches=[];for(var i=0;i<this.maxKeyLength;i++)this.caches.push([])}return t.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},t.prototype.find=function(e,n,i){var a=this.caches[i-1];e:for(var c=0,u=a;c<u.length;c++){for(var f=u[c],d=f.bytes,h=0;h<i;h++)if(d[h]!==e[n+h])continue e;return f.str}return null},t.prototype.store=function(e,n){var i=this.caches[e.length-1],a={bytes:e,str:n};i.length>=this.maxLengthPerKey?i[Math.random()*i.length|0]=a:i.push(a)},t.prototype.decode=function(e,n,i){var a=this.find(e,n,i);if(a!=null)return this.hit++,a;this.miss++;var c=RC(e,n,i),u=Uint8Array.prototype.slice.call(e,n,n+i);return this.store(u,c),c},t})(),K5=function(t,e,n,i){function a(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function f(m){try{h(i.next(m))}catch(g){u(g)}}function d(m){try{h(i.throw(m))}catch(g){u(g)}}function h(m){m.done?c(m.value):a(m.value).then(f,d)}h((i=i.apply(t,e||[])).next())})},Fp=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,a,c,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(h){return function(m){return d([h,m])}}function d(h){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,a&&(c=h[0]&2?a.return:h[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,h[1])).done)return c;switch(a=0,c&&(h=[h[0]&2,c.value]),h[0]){case 0:case 1:c=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,a=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!c||h[1]>c[0]&&h[1]<c[3])){n.label=h[1];break}if(h[0]===6&&n.label<c[1]){n.label=c[1],c=h;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(h);break}c[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(m){h=[6,m],a=0}finally{i=c=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},$1=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(c){n[c]=t[c]&&function(u){return new Promise(function(f,d){u=t[c](u),a(f,d,u.done,u.value)})}}function a(c,u,f,d){Promise.resolve(d).then(function(h){c({value:h,done:f})},u)}},Ja=function(t){return this instanceof Ja?(this.v=t,this):new Ja(t)},X5=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),a,c=[];return a={},u("next"),u("throw"),u("return"),a[Symbol.asyncIterator]=function(){return this},a;function u(x){i[x]&&(a[x]=function(S){return new Promise(function(E,C){c.push([x,S,E,C])>1||f(x,S)})})}function f(x,S){try{d(i[x](S))}catch(E){g(c[0][3],E)}}function d(x){x.value instanceof Ja?Promise.resolve(x.value.v).then(h,m):g(c[0][2],x)}function h(x){f("next",x)}function m(x){f("throw",x)}function g(x,S){x(S),c.shift(),c.length&&f(c[0][0],c[0][1])}},Q5=function(t){var e=typeof t;return e==="string"||e==="number"},mc=-1,Qy=new DataView(new ArrayBuffer(0)),Z5=new Uint8Array(Qy.buffer),Hm=(function(){try{Qy.getInt8(0)}catch(t){return t.constructor}throw new Error("never reached")})(),V1=new Hm("Insufficient data"),J5=new G5,W5=(function(){function t(e,n,i,a,c,u,f,d){e===void 0&&(e=AC.defaultCodec),n===void 0&&(n=void 0),i===void 0&&(i=na),a===void 0&&(a=na),c===void 0&&(c=na),u===void 0&&(u=na),f===void 0&&(f=na),d===void 0&&(d=J5),this.extensionCodec=e,this.context=n,this.maxStrLength=i,this.maxBinLength=a,this.maxArrayLength=c,this.maxMapLength=u,this.maxExtLength=f,this.keyDecoder=d,this.totalPos=0,this.pos=0,this.view=Qy,this.bytes=Z5,this.headByte=mc,this.stack=[]}return t.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=mc,this.stack.length=0},t.prototype.setBuffer=function(e){this.bytes=uf(e),this.view=H5(this.bytes),this.pos=0},t.prototype.appendBuffer=function(e){if(this.headByte===mc&&!this.hasRemaining(1))this.setBuffer(e);else{var n=this.bytes.subarray(this.pos),i=uf(e),a=new Uint8Array(n.length+i.length);a.set(n),a.set(i,n.length),this.setBuffer(a)}},t.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},t.prototype.createExtraByteError=function(e){var n=this,i=n.view,a=n.pos;return new RangeError("Extra ".concat(i.byteLength-a," of ").concat(i.byteLength," byte(s) found at buffer[").concat(e,"]"))},t.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n},t.prototype.decodeMulti=function(e){return Fp(this,function(n){switch(n.label){case 0:this.reinitializeState(),this.setBuffer(e),n.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return n.sent(),[3,1];case 3:return[2]}})},t.prototype.decodeAsync=function(e){var n,i,a,c;return K5(this,void 0,void 0,function(){var u,f,d,h,m,g,x,S;return Fp(this,function(E){switch(E.label){case 0:u=!1,E.label=1;case 1:E.trys.push([1,6,7,12]),n=$1(e),E.label=2;case 2:return[4,n.next()];case 3:if(i=E.sent(),!!i.done)return[3,5];if(d=i.value,u)throw this.createExtraByteError(this.totalPos);this.appendBuffer(d);try{f=this.doDecodeSync(),u=!0}catch(C){if(!(C instanceof Hm))throw C}this.totalPos+=this.pos,E.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return h=E.sent(),a={error:h},[3,12];case 7:return E.trys.push([7,,10,11]),i&&!i.done&&(c=n.return)?[4,c.call(n)]:[3,9];case 8:E.sent(),E.label=9;case 9:return[3,11];case 10:if(a)throw a.error;return[7];case 11:return[7];case 12:if(u){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,f]}throw m=this,g=m.headByte,x=m.pos,S=m.totalPos,new RangeError("Insufficient data in parsing ".concat(qp(g)," at ").concat(S," (").concat(x," in the current buffer)"))}})})},t.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},t.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},t.prototype.decodeMultiAsync=function(e,n){return X5(this,arguments,function(){var a,c,u,f,d,h,m,g,x;return Fp(this,function(S){switch(S.label){case 0:a=n,c=-1,S.label=1;case 1:S.trys.push([1,13,14,19]),u=$1(e),S.label=2;case 2:return[4,Ja(u.next())];case 3:if(f=S.sent(),!!f.done)return[3,12];if(d=f.value,n&&c===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(d),a&&(c=this.readArraySize(),a=!1,this.complete()),S.label=4;case 4:S.trys.push([4,9,,10]),S.label=5;case 5:return[4,Ja(this.doDecodeSync())];case 6:return[4,S.sent()];case 7:return S.sent(),--c===0?[3,8]:[3,5];case 8:return[3,10];case 9:if(h=S.sent(),!(h instanceof Hm))throw h;return[3,10];case 10:this.totalPos+=this.pos,S.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return m=S.sent(),g={error:m},[3,19];case 14:return S.trys.push([14,,17,18]),f&&!f.done&&(x=u.return)?[4,Ja(x.call(u))]:[3,16];case 15:S.sent(),S.label=16;case 16:return[3,18];case 17:if(g)throw g.error;return[7];case 18:return[7];case 19:return[2]}})})},t.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),n=void 0;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){var i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e<160){var i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else{var a=e-160;n=this.decodeUtf8String(a,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)n=this.readI64();else if(e===217){var a=this.lookU8();n=this.decodeUtf8String(a,1)}else if(e===218){var a=this.lookU16();n=this.decodeUtf8String(a,2)}else if(e===219){var a=this.lookU32();n=this.decodeUtf8String(a,4)}else if(e===220){var i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===221){var i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else n=[]}else if(e===222){var i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===223){var i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else n={}}else if(e===196){var i=this.lookU8();n=this.decodeBinary(i,1)}else if(e===197){var i=this.lookU16();n=this.decodeBinary(i,2)}else if(e===198){var i=this.lookU32();n=this.decodeBinary(i,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){var i=this.lookU8();n=this.decodeExtension(i,1)}else if(e===200){var i=this.lookU16();n=this.decodeExtension(i,2)}else if(e===201){var i=this.lookU32();n=this.decodeExtension(i,4)}else throw new ni("Unrecognized type byte: ".concat(qp(e)));this.complete();for(var c=this.stack;c.length>0;){var u=c[c.length-1];if(u.type===0)if(u.array[u.position]=n,u.position++,u.position===u.size)c.pop(),n=u.array;else continue e;else if(u.type===1){if(!Q5(n))throw new ni("The type of key must be string or number but "+typeof n);if(n==="__proto__")throw new ni("The key __proto__ is not allowed");u.key=n,u.type=2;continue e}else if(u.map[u.key]=n,u.readCount++,u.readCount===u.size)c.pop(),n=u.map;else{u.key=null,u.type=1;continue e}}return n}},t.prototype.readHeadByte=function(){return this.headByte===mc&&(this.headByte=this.readU8()),this.headByte},t.prototype.complete=function(){this.headByte=mc},t.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new ni("Unrecognized array type byte: ".concat(qp(e)))}}},t.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new ni("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},t.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new ni("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:new Array(e),position:0})},t.prototype.decodeUtf8String=function(e,n){var i;if(e>this.maxStrLength)throw new ni("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+n+e)throw V1;var a=this.pos+n,c;return this.stateIsMapKey()&&(!((i=this.keyDecoder)===null||i===void 0)&&i.canBeCached(e))?c=this.keyDecoder.decode(this.bytes,a,e):e>O5?c=M5(this.bytes,a,e):c=RC(this.bytes,a,e),this.pos+=n+e,c},t.prototype.stateIsMapKey=function(){if(this.stack.length>0){var e=this.stack[this.stack.length-1];return e.type===1}return!1},t.prototype.decodeBinary=function(e,n){if(e>this.maxBinLength)throw new ni("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+n))throw V1;var i=this.pos+n,a=this.bytes.subarray(i,i+e);return this.pos+=n+e,a},t.prototype.decodeExtension=function(e,n){if(e>this.maxExtLength)throw new ni("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var i=this.view.getInt8(this.pos+n),a=this.decodeBinary(e,n+1);return this.extensionCodec.decode(a,i,this.context)},t.prototype.lookU8=function(){return this.view.getUint8(this.pos)},t.prototype.lookU16=function(){return this.view.getUint16(this.pos)},t.prototype.lookU32=function(){return this.view.getUint32(this.pos)},t.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},t.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},t.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},t.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},t.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},t.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},t.prototype.readU64=function(){var e=S5(this.view,this.pos);return this.pos+=8,e},t.prototype.readI64=function(){var e=TC(this.view,this.pos);return this.pos+=8,e},t.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},t.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},t})(),e8={},t8=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,a,c,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(h){return function(m){return d([h,m])}}function d(h){if(i)throw new TypeError("Generator is already executing.");for(;n;)try{if(i=1,a&&(c=h[0]&2?a.return:h[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,h[1])).done)return c;switch(a=0,c&&(h=[h[0]&2,c.value]),h[0]){case 0:case 1:c=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,a=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!c||h[1]>c[0]&&h[1]<c[3])){n.label=h[1];break}if(h[0]===6&&n.label<c[1]){n.label=c[1],c=h;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(h);break}c[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(m){h=[6,m],a=0}finally{i=c=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},Wa=function(t){return this instanceof Wa?(this.v=t,this):new Wa(t)},n8=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),a,c=[];return a={},u("next"),u("throw"),u("return"),a[Symbol.asyncIterator]=function(){return this},a;function u(x){i[x]&&(a[x]=function(S){return new Promise(function(E,C){c.push([x,S,E,C])>1||f(x,S)})})}function f(x,S){try{d(i[x](S))}catch(E){g(c[0][3],E)}}function d(x){x.value instanceof Wa?Promise.resolve(x.value.v).then(h,m):g(c[0][2],x)}function h(x){f("next",x)}function m(x){f("throw",x)}function g(x,S){x(S),c.shift(),c.length&&f(c[0][0],c[0][1])}};function r8(t){return t[Symbol.asyncIterator]!=null}function i8(t){if(t==null)throw new Error("Assertion Failure: value must not be null nor undefined")}function s8(t){return n8(this,arguments,function(){var n,i,a,c;return t8(this,function(u){switch(u.label){case 0:n=t.getReader(),u.label=1;case 1:u.trys.push([1,,9,10]),u.label=2;case 2:return[4,Wa(n.read())];case 3:return i=u.sent(),a=i.done,c=i.value,a?[4,Wa(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return i8(c),[4,Wa(c)];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function a8(t){return r8(t)?t:s8(t)}function o8(t,e){e===void 0&&(e=e8);var n=a8(t),i=new W5(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength);return i.decodeStream(n)}function da(t,e,n,i){Object.defineProperty(t,e,{get:n,set:i,enumerable:!0,configurable:!0})}class OC{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const n=[],i=e.byteLength,a=Math.ceil(i/this.chunkedMTU);let c=0,u=0;for(;u<i;){const f=Math.min(i,u+this.chunkedMTU),d=e.slice(u,f),h={__peerData:this._dataCount,n:c,data:d,total:a};n.push(h),u=f,c++}return this._dataCount++,n}}}function c8(t){let e=0;for(const a of t)e+=a.byteLength;const n=new Uint8Array(e);let i=0;for(const a of t)n.set(a,i),i+=a.byteLength;return n}const Yp=B1.default||B1,yc=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const t=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(t)?t==="chrome"?e>=this.minChromeVersion:t==="firefox"?e>=this.minFirefoxVersion:t==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return Yp.browserDetails.browser}getVersion(){return Yp.browserDetails.version||0}isUnifiedPlanSupported(){const t=this.getBrowser(),e=Yp.browserDetails.version||0;if(t==="chrome"&&e<this.minChromeVersion)return!1;if(t==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,i=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),i=!0}catch{}finally{n&&n.close()}return i}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},l8=t=>!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t),MC=()=>Math.random().toString(36).slice(2),q1={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class u8 extends OC{noop(){}blobToArrayBuffer(e,n){const i=new FileReader;return i.onload=function(a){a.target&&n(a.target.result)},i.readAsArrayBuffer(e),i}binaryStringToArrayBuffer(e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=q1,this.browser=yc.getBrowser(),this.browserVersion=yc.getVersion(),this.pack=YE,this.unpack=FE,this.supports=(function(){const n={browser:yc.isBrowserSupported(),webRTC:yc.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let i;try{i=new RTCPeerConnection(q1),n.audioVideo=!0;let a;try{a=i.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!a.ordered;try{a.binaryType="blob",n.binaryBlob=!yc.isIOS}catch{}}catch{}finally{a&&a.close()}}catch{}finally{i&&i.close()}return n})(),this.validateId=l8,this.randomToken=MC}}const Wn=new u8,f8="PeerJS: ";class d8{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...n){const i=[f8,...n];for(const a in i)i[a]instanceof Error&&(i[a]="("+i[a].name+") "+i[a].message);e>=3?console.log(...i):e>=2?console.warn("WARNING",...i):e>=1&&console.error("ERROR",...i)}constructor(){this._logLevel=0}}var qe=new d8,Zy={},h8=Object.prototype.hasOwnProperty,tr="~";function zc(){}Object.create&&(zc.prototype=Object.create(null),new zc().__proto__||(tr=!1));function p8(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function PC(t,e,n,i,a){if(typeof n!="function")throw new TypeError("The listener must be a function");var c=new p8(n,i||t,a),u=tr?tr+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],c]:t._events[u].push(c):(t._events[u]=c,t._eventsCount++),t}function Iu(t,e){--t._eventsCount===0?t._events=new zc:delete t._events[e]}function Xn(){this._events=new zc,this._eventsCount=0}Xn.prototype.eventNames=function(){var e=[],n,i;if(this._eventsCount===0)return e;for(i in n=this._events)h8.call(n,i)&&e.push(tr?i.slice(1):i);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(n)):e};Xn.prototype.listeners=function(e){var n=tr?tr+e:e,i=this._events[n];if(!i)return[];if(i.fn)return[i.fn];for(var a=0,c=i.length,u=new Array(c);a<c;a++)u[a]=i[a].fn;return u};Xn.prototype.listenerCount=function(e){var n=tr?tr+e:e,i=this._events[n];return i?i.fn?1:i.length:0};Xn.prototype.emit=function(e,n,i,a,c,u){var f=tr?tr+e:e;if(!this._events[f])return!1;var d=this._events[f],h=arguments.length,m,g;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),h){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,n),!0;case 3:return d.fn.call(d.context,n,i),!0;case 4:return d.fn.call(d.context,n,i,a),!0;case 5:return d.fn.call(d.context,n,i,a,c),!0;case 6:return d.fn.call(d.context,n,i,a,c,u),!0}for(g=1,m=new Array(h-1);g<h;g++)m[g-1]=arguments[g];d.fn.apply(d.context,m)}else{var x=d.length,S;for(g=0;g<x;g++)switch(d[g].once&&this.removeListener(e,d[g].fn,void 0,!0),h){case 1:d[g].fn.call(d[g].context);break;case 2:d[g].fn.call(d[g].context,n);break;case 3:d[g].fn.call(d[g].context,n,i);break;case 4:d[g].fn.call(d[g].context,n,i,a);break;default:if(!m)for(S=1,m=new Array(h-1);S<h;S++)m[S-1]=arguments[S];d[g].fn.apply(d[g].context,m)}}return!0};Xn.prototype.on=function(e,n,i){return PC(this,e,n,i,!1)};Xn.prototype.once=function(e,n,i){return PC(this,e,n,i,!0)};Xn.prototype.removeListener=function(e,n,i,a){var c=tr?tr+e:e;if(!this._events[c])return this;if(!n)return Iu(this,c),this;var u=this._events[c];if(u.fn)u.fn===n&&(!a||u.once)&&(!i||u.context===i)&&Iu(this,c);else{for(var f=0,d=[],h=u.length;f<h;f++)(u[f].fn!==n||a&&!u[f].once||i&&u[f].context!==i)&&d.push(u[f]);d.length?this._events[c]=d.length===1?d[0]:d:Iu(this,c)}return this};Xn.prototype.removeAllListeners=function(e){var n;return e?(n=tr?tr+e:e,this._events[n]&&Iu(this,n)):(this._events=new zc,this._eventsCount=0),this};Xn.prototype.off=Xn.prototype.removeListener;Xn.prototype.addListener=Xn.prototype.on;Xn.prefixed=tr;Xn.EventEmitter=Xn;Zy=Xn;var ha={};da(ha,"ConnectionType",()=>Fi);da(ha,"PeerErrorType",()=>vn);da(ha,"BaseConnectionErrorType",()=>ff);da(ha,"DataConnectionErrorType",()=>Ff);da(ha,"SerializationType",()=>Yc);da(ha,"SocketEventType",()=>$i);da(ha,"ServerMessageType",()=>$n);var Fi=(function(t){return t.Data="data",t.Media="media",t})({}),vn=(function(t){return t.BrowserIncompatible="browser-incompatible",t.Disconnected="disconnected",t.InvalidID="invalid-id",t.InvalidKey="invalid-key",t.Network="network",t.PeerUnavailable="peer-unavailable",t.SslUnavailable="ssl-unavailable",t.ServerError="server-error",t.SocketError="socket-error",t.SocketClosed="socket-closed",t.UnavailableID="unavailable-id",t.WebRTC="webrtc",t})({}),ff=(function(t){return t.NegotiationFailed="negotiation-failed",t.ConnectionClosed="connection-closed",t})({}),Ff=(function(t){return t.NotOpenYet="not-open-yet",t.MessageToBig="message-too-big",t})({}),Yc=(function(t){return t.Binary="binary",t.BinaryUTF8="binary-utf8",t.JSON="json",t.None="raw",t})({}),$i=(function(t){return t.Message="message",t.Disconnected="disconnected",t.Error="error",t.Close="close",t})({}),$n=(function(t){return t.Heartbeat="HEARTBEAT",t.Candidate="CANDIDATE",t.Offer="OFFER",t.Answer="ANSWER",t.Open="OPEN",t.Error="ERROR",t.IdTaken="ID-TAKEN",t.InvalidKey="INVALID-KEY",t.Leave="LEAVE",t.Expire="EXPIRE",t})({});const NC="1.5.5";class m8 extends Zy.EventEmitter{constructor(e,n,i,a,c,u=5e3){super(),this.pingInterval=u,this._disconnected=!0,this._messagesQueue=[];const f=e?"wss://":"ws://";this._baseUrl=f+n+":"+i+a+"peerjs?key="+c}start(e,n){this._id=e;const i=`${this._baseUrl}&id=${e}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(i+"&version="+NC),this._disconnected=!1,this._socket.onmessage=a=>{let c;try{c=JSON.parse(a.data),qe.log("Server message received:",c)}catch{qe.log("Invalid server message",a.data);return}this.emit($i.Message,c)},this._socket.onclose=a=>{this._disconnected||(qe.log("Socket closed.",a),this._cleanup(),this._disconnected=!0,this.emit($i.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),qe.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){qe.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:$n.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const n of e)this.send(n)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit($i.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(e);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class DC{constructor(e){this.connection=e}startConnection(e){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===Fi.Media&&e._stream&&this._addTracksToConnection(e._stream,n),e.originator){const i=this.connection,a={ordered:!!e.reliable},c=n.createDataChannel(i.label,a);i._initializeDataChannel(c),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){qe.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const n=this.connection.peer,i=this.connection.connectionId,a=this.connection.type,c=this.connection.provider;qe.log("Listening for ICE candidates."),e.onicecandidate=u=>{!u.candidate||!u.candidate.candidate||(qe.log(`Received ICE candidates for ${n}:`,u.candidate),c.socket.send({type:$n.Candidate,payload:{candidate:u.candidate,type:a,connectionId:i},dst:n}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":qe.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(ff.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":qe.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(ff.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":qe.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},qe.log("Listening for data channel"),e.ondatachannel=u=>{qe.log("Received data channel");const f=u.channel;c.getConnection(n,i)._initializeDataChannel(f)},qe.log("Listening for remote stream"),e.ontrack=u=>{qe.log("Received remote stream");const f=u.streams[0],d=c.getConnection(n,i);if(d.type===Fi.Media){const h=d;this._addStreamToMediaConnection(f,h)}}}cleanup(){qe.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const n=e.signalingState!=="closed";let i=!1;const a=this.connection.dataChannel;a&&(i=!!a.readyState&&a.readyState!=="closed"),(n||i)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const i=await e.createOffer(this.connection.options.constraints);qe.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(i.sdp=this.connection.options.sdpTransform(i.sdp)||i.sdp);try{await e.setLocalDescription(i),qe.log("Set localDescription:",i,`for:${this.connection.peer}`);let a={sdp:i,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===Fi.Data){const c=this.connection;a={...a,label:c.label,reliable:c.reliable,serialization:c.serialization}}n.socket.send({type:$n.Offer,payload:a,dst:this.connection.peer})}catch(a){a!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(vn.WebRTC,a),qe.log("Failed to setLocalDescription, ",a))}}catch(i){n.emitError(vn.WebRTC,i),qe.log("Failed to createOffer, ",i)}}async _makeAnswer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const i=await e.createAnswer();qe.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(i.sdp=this.connection.options.sdpTransform(i.sdp)||i.sdp);try{await e.setLocalDescription(i),qe.log("Set localDescription:",i,`for:${this.connection.peer}`),n.socket.send({type:$n.Answer,payload:{sdp:i,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(a){n.emitError(vn.WebRTC,a),qe.log("Failed to setLocalDescription, ",a)}}catch(i){n.emitError(vn.WebRTC,i),qe.log("Failed to create answer, ",i)}}async handleSDP(e,n){n=new RTCSessionDescription(n);const i=this.connection.peerConnection,a=this.connection.provider;qe.log("Setting remote description",n);const c=this;try{await i.setRemoteDescription(n),qe.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await c._makeAnswer()}catch(u){a.emitError(vn.WebRTC,u),qe.log("Failed to setRemoteDescription, ",u)}}async handleCandidate(e){qe.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),qe.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(vn.WebRTC,n),qe.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(e,n){if(qe.log(`add tracks from stream ${e.id} to peer connection`),!n.addTrack)return qe.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(i=>{n.addTrack(i,e)})}_addStreamToMediaConnection(e,n){qe.log(`add stream ${e.id} to media connection ${n.connectionId}`),n.addStream(e)}}class kC extends Zy.EventEmitter{emitError(e,n){qe.error("Error:",n),this.emit("error",new jC(`${e}`,n))}}class jC extends Error{constructor(e,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=e}}class LC extends kC{get open(){return this._open}constructor(e,n,i){super(),this.peer=e,this.provider=n,this.options=i,this._open=!1,this.metadata=i.metadata}}class df extends LC{static#e=this.ID_PREFIX="mc_";get type(){return Fi.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,n,i){super(e,n,i),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||df.ID_PREFIX+Wn.randomToken(),this._negotiator=new DC(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{qe.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{qe.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){qe.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const n=e.type,i=e.payload;switch(e.type){case $n.Answer:this._negotiator.handleSDP(n,i.sdp),this._open=!0;break;case $n.Candidate:this._negotiator.handleCandidate(i.candidate);break;default:qe.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(e,n={}){if(this._localStream){qe.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const i=this.provider._getMessages(this.connectionId);for(const a of i)this.handleMessage(a);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}}class y8{constructor(e){this._options=e}_buildRequest(e){const n=this._options.secure?"https":"http",{host:i,port:a,path:c,key:u}=this._options,f=new URL(`${n}://${i}:${a}${c}${u}/${e}`);return f.searchParams.set("ts",`${Date.now()}${Math.random()}`),f.searchParams.set("version",NC),fetch(f.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){qe.error("Error retrieving ID",e);let n="";throw this._options.path==="/"&&this._options.host!==Wn.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let n="";throw this._options.host===Wn.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw qe.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}class aa extends LC{static#e=this.ID_PREFIX="dc_";static#t=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return Fi.Data}constructor(e,n,i){super(e,n,i),this.connectionId=this.options.connectionId||aa.ID_PREFIX+MC(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new DC(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{qe.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{qe.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{qe.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,n=!1){if(!this.open){this.emitError(Ff.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,n)}async handleMessage(e){const n=e.payload;switch(e.type){case $n.Answer:await this._negotiator.handleSDP(e.type,n.sdp);break;case $n.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:qe.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}}class Yf extends aa{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>aa.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(n){return qe.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class Gp extends Yf{close(e){super.close(e),this._chunkedData={}}constructor(e,n,i){super(e,n,i),this.chunker=new OC,this.serialization=Yc.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const n=FE(e),i=n.__peerData;if(i){if(i.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(e){const n=e.__peerData,i=this._chunkedData[n]||{data:[],count:0,total:e.total};if(i.data[e.n]=new Uint8Array(e.data),i.count++,this._chunkedData[n]=i,i.total===i.count){delete this._chunkedData[n];const a=c8(i.data);this._handleDataMessage({data:a})}}_send(e,n){const i=YE(e);if(i instanceof Promise)return this._send_blob(i);if(!n&&i.byteLength>this.chunker.chunkedMTU){this._sendChunks(i);return}this._bufferedSend(i)}async _send_blob(e){const n=await e;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(e){const n=this.chunker.chunk(e);qe.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const i of n)this.send(i,!0)}}class g8 extends Yf{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,n){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=Yc.None}}class v8 extends Yf{_handleDataMessage({data:e}){const n=this.parse(this.decoder.decode(e)),i=n.__peerData;if(i&&i.type==="close"){this.close();return}this.emit("data",n)}_send(e,n){const i=this.encoder.encode(this.stringify(e));if(i.byteLength>=Wn.chunkedMTU){this.emitError(Ff.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(i)}constructor(...e){super(...e),this.serialization=Yc.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}class Gc extends kC{static#e=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[n,i]of this._connections)e[n]=i;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,n){super(),this._serializers={raw:g8,json:v8,binary:Gp,"binary-utf8":Gp,default:Gp},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let i;if(e&&e.constructor==Object?n=e:e&&(i=e.toString()),n={debug:0,host:Wn.CLOUD_HOST,port:Wn.CLOUD_PORT,path:"/",key:Gc.DEFAULT_KEY,token:Wn.randomToken(),config:Wn.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Wn.CLOUD_HOST?this._options.secure=Wn.isSecure():this._options.host==Wn.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&qe.setLogFunction(this._options.logFunction),qe.logLevel=this._options.debug||0,this._api=new y8(n),this._socket=this._createServerConnection(),!Wn.supports.audioVideo&&!Wn.supports.data){this._delayedAbort(vn.BrowserIncompatible,"The current browser does not support WebRTC");return}if(i&&!Wn.validateId(i)){this._delayedAbort(vn.InvalidID,`ID "${i}" is invalid`);return}i?this._initialize(i):this._api.retrieveId().then(a=>this._initialize(a)).catch(a=>this._abort(vn.ServerError,a))}_createServerConnection(){const e=new m8(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on($i.Message,n=>{this._handleMessage(n)}),e.on($i.Error,n=>{this._abort(vn.SocketError,n)}),e.on($i.Disconnected,()=>{this.disconnected||(this.emitError(vn.Network,"Lost connection to server."),this.disconnect())}),e.on($i.Close,()=>{this.disconnected||this._abort(vn.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const n=e.type,i=e.payload,a=e.src;switch(n){case $n.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case $n.Error:this._abort(vn.ServerError,i.msg);break;case $n.IdTaken:this._abort(vn.UnavailableID,`ID "${this.id}" is taken`);break;case $n.InvalidKey:this._abort(vn.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case $n.Leave:qe.log(`Received leave message from ${a}`),this._cleanupPeer(a),this._connections.delete(a);break;case $n.Expire:this.emitError(vn.PeerUnavailable,`Could not connect to peer ${a}`);break;case $n.Offer:{const c=i.connectionId;let u=this.getConnection(a,c);if(u&&(u.close(),qe.warn(`Offer received for existing Connection ID:${c}`)),i.type===Fi.Media){const d=new df(a,this,{connectionId:c,_payload:i,metadata:i.metadata});u=d,this._addConnection(a,u),this.emit("call",d)}else if(i.type===Fi.Data){const d=new this._serializers[i.serialization](a,this,{connectionId:c,_payload:i,metadata:i.metadata,label:i.label,serialization:i.serialization,reliable:i.reliable});u=d,this._addConnection(a,u),this.emit("connection",d)}else{qe.warn(`Received malformed connection type:${i.type}`);return}const f=this._getMessages(c);for(const d of f)u.handleMessage(d);break}default:{if(!i){qe.warn(`You received a malformed message from ${a} of type ${n}`);return}const c=i.connectionId,u=this.getConnection(a,c);u&&u.peerConnection?u.handleMessage(e):c?this._storeMessage(c,e):qe.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,n){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(n)}_getMessages(e){const n=this._lostMessages.get(e);return n?(this._lostMessages.delete(e),n):[]}connect(e,n={}){if(n={serialization:"default",...n},this.disconnected){qe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(vn.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const i=new this._serializers[n.serialization](e,this,n);return this._addConnection(e,i),i}call(e,n,i={}){if(this.disconnected){qe.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(vn.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){qe.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const a=new df(e,this,{...i,_stream:n});return this._addConnection(e,a),a}_addConnection(e,n){qe.log(`add connection ${n.type}:${n.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(n)}_removeConnection(e){const n=this._connections.get(e.peer);if(n){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,n){const i=this._connections.get(e);if(!i)return null;for(const a of i)if(a.connectionId===n)return a;return null}_delayedAbort(e,n){setTimeout(()=>{this._abort(e,n)},0)}_abort(e,n){qe.error("Aborting!"),this.emitError(e,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(qe.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const n=this._connections.get(e);if(n)for(const i of n)i.close()}disconnect(){if(this.disconnected)return;const e=this.id;qe.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)qe.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)qe.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=n=>{}){this._api.listAllPeers().then(n=>e(n)).catch(n=>this._abort(vn.ServerError,n))}}class UC extends aa{constructor(e,n,i){super(e,n,{...i,reliable:!0}),this._CHUNK_SIZE=32768,this._splitStream=new TransformStream({transform:(a,c)=>{for(let u=0;u<a.length;u+=this._CHUNK_SIZE)c.enqueue(a.subarray(u,u+this._CHUNK_SIZE))}}),this._rawSendStream=new WritableStream({write:async(a,c)=>{const u=new Promise(f=>this.dataChannel.addEventListener("bufferedamountlow",f,{once:!0}));await(this.dataChannel.bufferedAmount<=aa.MAX_BUFFERED_AMOUNT-a.byteLength||u);try{this.dataChannel.send(a)}catch(f){qe.error(`DC#:${this.connectionId} Error when sending:`,f),c.error(f),this.close()}}}),this.writer=this._splitStream.writable.getWriter(),this._rawReadStream=new ReadableStream({start:a=>{this.once("open",()=>{this.dataChannel.addEventListener("message",c=>{a.enqueue(c.data)})})}}),this._splitStream.readable.pipeTo(this._rawSendStream)}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.bufferedAmountLowThreshold=aa.MAX_BUFFERED_AMOUNT/2}}class $m extends UC{constructor(e,n,i){super(e,n,i),this.serialization="MsgPack",this._encoder=new q5,(async()=>{for await(const a of o8(this._rawReadStream)){if(a.__peerData?.type==="close"){this.close();return}this.emit("data",a)}})()}_send(e){return this.writer.write(this._encoder.encode(e))}}class x8 extends Gc{constructor(...e){super(...e),this._serializers={MsgPack:$m,default:$m}}}var b8=Gc;const S8=Object.freeze(Object.defineProperty({__proto__:null,BaseConnectionErrorType:ff,BufferedConnection:Yf,ConnectionType:Fi,DataConnectionErrorType:Ff,MsgPack:$m,MsgPackPeer:x8,Peer:Gc,PeerError:jC,PeerErrorType:vn,SerializationType:Yc,ServerMessageType:$n,SocketEventType:$i,StreamConnection:UC,default:b8,util:Wn},Symbol.toStringTag,{value:"Module"})),_8=mf(S8);function w8(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Kp={exports:{}};const E8={},C8=Object.freeze(Object.defineProperty({__proto__:null,default:E8},Symbol.toStringTag,{value:"Module"})),T8=mf(C8);var F1;function zC(){return F1||(F1=1,(function(t){(function(e){var n=function(w){var A,R=new Float64Array(16);if(w)for(A=0;A<w.length;A++)R[A]=w[A];return R},i=function(){throw new Error("no PRNG")},a=new Uint8Array(16),c=new Uint8Array(32);c[0]=9;var u=n(),f=n([1]),d=n([56129,1]),h=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),m=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),g=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),x=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),S=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function E(w,A,R,v){w[A]=R>>24&255,w[A+1]=R>>16&255,w[A+2]=R>>8&255,w[A+3]=R&255,w[A+4]=v>>24&255,w[A+5]=v>>16&255,w[A+6]=v>>8&255,w[A+7]=v&255}function C(w,A,R,v,P){var $,q=0;for($=0;$<P;$++)q|=w[A+$]^R[v+$];return(1&q-1>>>8)-1}function M(w,A,R,v){return C(w,A,R,v,16)}function D(w,A,R,v){return C(w,A,R,v,32)}function N(w,A,R,v){for(var P=v[0]&255|(v[1]&255)<<8|(v[2]&255)<<16|(v[3]&255)<<24,$=R[0]&255|(R[1]&255)<<8|(R[2]&255)<<16|(R[3]&255)<<24,q=R[4]&255|(R[5]&255)<<8|(R[6]&255)<<16|(R[7]&255)<<24,ae=R[8]&255|(R[9]&255)<<8|(R[10]&255)<<16|(R[11]&255)<<24,we=R[12]&255|(R[13]&255)<<8|(R[14]&255)<<16|(R[15]&255)<<24,ze=v[4]&255|(v[5]&255)<<8|(v[6]&255)<<16|(v[7]&255)<<24,Oe=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,Ot=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,Ne=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,Ze=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,nt=v[8]&255|(v[9]&255)<<8|(v[10]&255)<<16|(v[11]&255)<<24,st=R[16]&255|(R[17]&255)<<8|(R[18]&255)<<16|(R[19]&255)<<24,rt=R[20]&255|(R[21]&255)<<8|(R[22]&255)<<16|(R[23]&255)<<24,We=R[24]&255|(R[25]&255)<<8|(R[26]&255)<<16|(R[27]&255)<<24,et=R[28]&255|(R[29]&255)<<8|(R[30]&255)<<16|(R[31]&255)<<24,Ie=v[12]&255|(v[13]&255)<<8|(v[14]&255)<<16|(v[15]&255)<<24,Le=P,Ke=$,Re=q,Me=ae,He=we,Ae=ze,te=Oe,ne=Ot,ge=Ne,de=Ze,ce=nt,ye=st,Xe=rt,ut=We,ct=et,lt=Ie,L,yt=0;yt<20;yt+=2)L=Le+Xe|0,He^=L<<7|L>>>25,L=He+Le|0,ge^=L<<9|L>>>23,L=ge+He|0,Xe^=L<<13|L>>>19,L=Xe+ge|0,Le^=L<<18|L>>>14,L=Ae+Ke|0,de^=L<<7|L>>>25,L=de+Ae|0,ut^=L<<9|L>>>23,L=ut+de|0,Ke^=L<<13|L>>>19,L=Ke+ut|0,Ae^=L<<18|L>>>14,L=ce+te|0,ct^=L<<7|L>>>25,L=ct+ce|0,Re^=L<<9|L>>>23,L=Re+ct|0,te^=L<<13|L>>>19,L=te+Re|0,ce^=L<<18|L>>>14,L=lt+ye|0,Me^=L<<7|L>>>25,L=Me+lt|0,ne^=L<<9|L>>>23,L=ne+Me|0,ye^=L<<13|L>>>19,L=ye+ne|0,lt^=L<<18|L>>>14,L=Le+Me|0,Ke^=L<<7|L>>>25,L=Ke+Le|0,Re^=L<<9|L>>>23,L=Re+Ke|0,Me^=L<<13|L>>>19,L=Me+Re|0,Le^=L<<18|L>>>14,L=Ae+He|0,te^=L<<7|L>>>25,L=te+Ae|0,ne^=L<<9|L>>>23,L=ne+te|0,He^=L<<13|L>>>19,L=He+ne|0,Ae^=L<<18|L>>>14,L=ce+de|0,ye^=L<<7|L>>>25,L=ye+ce|0,ge^=L<<9|L>>>23,L=ge+ye|0,de^=L<<13|L>>>19,L=de+ge|0,ce^=L<<18|L>>>14,L=lt+ct|0,Xe^=L<<7|L>>>25,L=Xe+lt|0,ut^=L<<9|L>>>23,L=ut+Xe|0,ct^=L<<13|L>>>19,L=ct+ut|0,lt^=L<<18|L>>>14;Le=Le+P|0,Ke=Ke+$|0,Re=Re+q|0,Me=Me+ae|0,He=He+we|0,Ae=Ae+ze|0,te=te+Oe|0,ne=ne+Ot|0,ge=ge+Ne|0,de=de+Ze|0,ce=ce+nt|0,ye=ye+st|0,Xe=Xe+rt|0,ut=ut+We|0,ct=ct+et|0,lt=lt+Ie|0,w[0]=Le>>>0&255,w[1]=Le>>>8&255,w[2]=Le>>>16&255,w[3]=Le>>>24&255,w[4]=Ke>>>0&255,w[5]=Ke>>>8&255,w[6]=Ke>>>16&255,w[7]=Ke>>>24&255,w[8]=Re>>>0&255,w[9]=Re>>>8&255,w[10]=Re>>>16&255,w[11]=Re>>>24&255,w[12]=Me>>>0&255,w[13]=Me>>>8&255,w[14]=Me>>>16&255,w[15]=Me>>>24&255,w[16]=He>>>0&255,w[17]=He>>>8&255,w[18]=He>>>16&255,w[19]=He>>>24&255,w[20]=Ae>>>0&255,w[21]=Ae>>>8&255,w[22]=Ae>>>16&255,w[23]=Ae>>>24&255,w[24]=te>>>0&255,w[25]=te>>>8&255,w[26]=te>>>16&255,w[27]=te>>>24&255,w[28]=ne>>>0&255,w[29]=ne>>>8&255,w[30]=ne>>>16&255,w[31]=ne>>>24&255,w[32]=ge>>>0&255,w[33]=ge>>>8&255,w[34]=ge>>>16&255,w[35]=ge>>>24&255,w[36]=de>>>0&255,w[37]=de>>>8&255,w[38]=de>>>16&255,w[39]=de>>>24&255,w[40]=ce>>>0&255,w[41]=ce>>>8&255,w[42]=ce>>>16&255,w[43]=ce>>>24&255,w[44]=ye>>>0&255,w[45]=ye>>>8&255,w[46]=ye>>>16&255,w[47]=ye>>>24&255,w[48]=Xe>>>0&255,w[49]=Xe>>>8&255,w[50]=Xe>>>16&255,w[51]=Xe>>>24&255,w[52]=ut>>>0&255,w[53]=ut>>>8&255,w[54]=ut>>>16&255,w[55]=ut>>>24&255,w[56]=ct>>>0&255,w[57]=ct>>>8&255,w[58]=ct>>>16&255,w[59]=ct>>>24&255,w[60]=lt>>>0&255,w[61]=lt>>>8&255,w[62]=lt>>>16&255,w[63]=lt>>>24&255}function k(w,A,R,v){for(var P=v[0]&255|(v[1]&255)<<8|(v[2]&255)<<16|(v[3]&255)<<24,$=R[0]&255|(R[1]&255)<<8|(R[2]&255)<<16|(R[3]&255)<<24,q=R[4]&255|(R[5]&255)<<8|(R[6]&255)<<16|(R[7]&255)<<24,ae=R[8]&255|(R[9]&255)<<8|(R[10]&255)<<16|(R[11]&255)<<24,we=R[12]&255|(R[13]&255)<<8|(R[14]&255)<<16|(R[15]&255)<<24,ze=v[4]&255|(v[5]&255)<<8|(v[6]&255)<<16|(v[7]&255)<<24,Oe=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,Ot=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,Ne=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,Ze=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,nt=v[8]&255|(v[9]&255)<<8|(v[10]&255)<<16|(v[11]&255)<<24,st=R[16]&255|(R[17]&255)<<8|(R[18]&255)<<16|(R[19]&255)<<24,rt=R[20]&255|(R[21]&255)<<8|(R[22]&255)<<16|(R[23]&255)<<24,We=R[24]&255|(R[25]&255)<<8|(R[26]&255)<<16|(R[27]&255)<<24,et=R[28]&255|(R[29]&255)<<8|(R[30]&255)<<16|(R[31]&255)<<24,Ie=v[12]&255|(v[13]&255)<<8|(v[14]&255)<<16|(v[15]&255)<<24,Le=P,Ke=$,Re=q,Me=ae,He=we,Ae=ze,te=Oe,ne=Ot,ge=Ne,de=Ze,ce=nt,ye=st,Xe=rt,ut=We,ct=et,lt=Ie,L,yt=0;yt<20;yt+=2)L=Le+Xe|0,He^=L<<7|L>>>25,L=He+Le|0,ge^=L<<9|L>>>23,L=ge+He|0,Xe^=L<<13|L>>>19,L=Xe+ge|0,Le^=L<<18|L>>>14,L=Ae+Ke|0,de^=L<<7|L>>>25,L=de+Ae|0,ut^=L<<9|L>>>23,L=ut+de|0,Ke^=L<<13|L>>>19,L=Ke+ut|0,Ae^=L<<18|L>>>14,L=ce+te|0,ct^=L<<7|L>>>25,L=ct+ce|0,Re^=L<<9|L>>>23,L=Re+ct|0,te^=L<<13|L>>>19,L=te+Re|0,ce^=L<<18|L>>>14,L=lt+ye|0,Me^=L<<7|L>>>25,L=Me+lt|0,ne^=L<<9|L>>>23,L=ne+Me|0,ye^=L<<13|L>>>19,L=ye+ne|0,lt^=L<<18|L>>>14,L=Le+Me|0,Ke^=L<<7|L>>>25,L=Ke+Le|0,Re^=L<<9|L>>>23,L=Re+Ke|0,Me^=L<<13|L>>>19,L=Me+Re|0,Le^=L<<18|L>>>14,L=Ae+He|0,te^=L<<7|L>>>25,L=te+Ae|0,ne^=L<<9|L>>>23,L=ne+te|0,He^=L<<13|L>>>19,L=He+ne|0,Ae^=L<<18|L>>>14,L=ce+de|0,ye^=L<<7|L>>>25,L=ye+ce|0,ge^=L<<9|L>>>23,L=ge+ye|0,de^=L<<13|L>>>19,L=de+ge|0,ce^=L<<18|L>>>14,L=lt+ct|0,Xe^=L<<7|L>>>25,L=Xe+lt|0,ut^=L<<9|L>>>23,L=ut+Xe|0,ct^=L<<13|L>>>19,L=ct+ut|0,lt^=L<<18|L>>>14;w[0]=Le>>>0&255,w[1]=Le>>>8&255,w[2]=Le>>>16&255,w[3]=Le>>>24&255,w[4]=Ae>>>0&255,w[5]=Ae>>>8&255,w[6]=Ae>>>16&255,w[7]=Ae>>>24&255,w[8]=ce>>>0&255,w[9]=ce>>>8&255,w[10]=ce>>>16&255,w[11]=ce>>>24&255,w[12]=lt>>>0&255,w[13]=lt>>>8&255,w[14]=lt>>>16&255,w[15]=lt>>>24&255,w[16]=te>>>0&255,w[17]=te>>>8&255,w[18]=te>>>16&255,w[19]=te>>>24&255,w[20]=ne>>>0&255,w[21]=ne>>>8&255,w[22]=ne>>>16&255,w[23]=ne>>>24&255,w[24]=ge>>>0&255,w[25]=ge>>>8&255,w[26]=ge>>>16&255,w[27]=ge>>>24&255,w[28]=de>>>0&255,w[29]=de>>>8&255,w[30]=de>>>16&255,w[31]=de>>>24&255}function j(w,A,R,v){N(w,A,R,v)}function Y(w,A,R,v){k(w,A,R,v)}var J=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function V(w,A,R,v,P,$,q){var ae=new Uint8Array(16),we=new Uint8Array(64),ze,Oe;for(Oe=0;Oe<16;Oe++)ae[Oe]=0;for(Oe=0;Oe<8;Oe++)ae[Oe]=$[Oe];for(;P>=64;){for(j(we,ae,q,J),Oe=0;Oe<64;Oe++)w[A+Oe]=R[v+Oe]^we[Oe];for(ze=1,Oe=8;Oe<16;Oe++)ze=ze+(ae[Oe]&255)|0,ae[Oe]=ze&255,ze>>>=8;P-=64,A+=64,v+=64}if(P>0)for(j(we,ae,q,J),Oe=0;Oe<P;Oe++)w[A+Oe]=R[v+Oe]^we[Oe];return 0}function G(w,A,R,v,P){var $=new Uint8Array(16),q=new Uint8Array(64),ae,we;for(we=0;we<16;we++)$[we]=0;for(we=0;we<8;we++)$[we]=v[we];for(;R>=64;){for(j(q,$,P,J),we=0;we<64;we++)w[A+we]=q[we];for(ae=1,we=8;we<16;we++)ae=ae+($[we]&255)|0,$[we]=ae&255,ae>>>=8;R-=64,A+=64}if(R>0)for(j(q,$,P,J),we=0;we<R;we++)w[A+we]=q[we];return 0}function me(w,A,R,v,P){var $=new Uint8Array(32);Y($,v,P,J);for(var q=new Uint8Array(8),ae=0;ae<8;ae++)q[ae]=v[ae+16];return G(w,A,R,q,$)}function xe(w,A,R,v,P,$,q){var ae=new Uint8Array(32);Y(ae,$,q,J);for(var we=new Uint8Array(8),ze=0;ze<8;ze++)we[ze]=$[ze+16];return V(w,A,R,v,P,we,ae)}var ve=function(w){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var A,R,v,P,$,q,ae,we;A=w[0]&255|(w[1]&255)<<8,this.r[0]=A&8191,R=w[2]&255|(w[3]&255)<<8,this.r[1]=(A>>>13|R<<3)&8191,v=w[4]&255|(w[5]&255)<<8,this.r[2]=(R>>>10|v<<6)&7939,P=w[6]&255|(w[7]&255)<<8,this.r[3]=(v>>>7|P<<9)&8191,$=w[8]&255|(w[9]&255)<<8,this.r[4]=(P>>>4|$<<12)&255,this.r[5]=$>>>1&8190,q=w[10]&255|(w[11]&255)<<8,this.r[6]=($>>>14|q<<2)&8191,ae=w[12]&255|(w[13]&255)<<8,this.r[7]=(q>>>11|ae<<5)&8065,we=w[14]&255|(w[15]&255)<<8,this.r[8]=(ae>>>8|we<<8)&8191,this.r[9]=we>>>5&127,this.pad[0]=w[16]&255|(w[17]&255)<<8,this.pad[1]=w[18]&255|(w[19]&255)<<8,this.pad[2]=w[20]&255|(w[21]&255)<<8,this.pad[3]=w[22]&255|(w[23]&255)<<8,this.pad[4]=w[24]&255|(w[25]&255)<<8,this.pad[5]=w[26]&255|(w[27]&255)<<8,this.pad[6]=w[28]&255|(w[29]&255)<<8,this.pad[7]=w[30]&255|(w[31]&255)<<8};ve.prototype.blocks=function(w,A,R){for(var v=this.fin?0:2048,P,$,q,ae,we,ze,Oe,Ot,Ne,Ze,nt,st,rt,We,et,Ie,Le,Ke,Re,Me=this.h[0],He=this.h[1],Ae=this.h[2],te=this.h[3],ne=this.h[4],ge=this.h[5],de=this.h[6],ce=this.h[7],ye=this.h[8],Xe=this.h[9],ut=this.r[0],ct=this.r[1],lt=this.r[2],L=this.r[3],yt=this.r[4],ot=this.r[5],wt=this.r[6],ht=this.r[7],_t=this.r[8],gt=this.r[9];R>=16;)P=w[A+0]&255|(w[A+1]&255)<<8,Me+=P&8191,$=w[A+2]&255|(w[A+3]&255)<<8,He+=(P>>>13|$<<3)&8191,q=w[A+4]&255|(w[A+5]&255)<<8,Ae+=($>>>10|q<<6)&8191,ae=w[A+6]&255|(w[A+7]&255)<<8,te+=(q>>>7|ae<<9)&8191,we=w[A+8]&255|(w[A+9]&255)<<8,ne+=(ae>>>4|we<<12)&8191,ge+=we>>>1&8191,ze=w[A+10]&255|(w[A+11]&255)<<8,de+=(we>>>14|ze<<2)&8191,Oe=w[A+12]&255|(w[A+13]&255)<<8,ce+=(ze>>>11|Oe<<5)&8191,Ot=w[A+14]&255|(w[A+15]&255)<<8,ye+=(Oe>>>8|Ot<<8)&8191,Xe+=Ot>>>5|v,Ne=0,Ze=Ne,Ze+=Me*ut,Ze+=He*(5*gt),Ze+=Ae*(5*_t),Ze+=te*(5*ht),Ze+=ne*(5*wt),Ne=Ze>>>13,Ze&=8191,Ze+=ge*(5*ot),Ze+=de*(5*yt),Ze+=ce*(5*L),Ze+=ye*(5*lt),Ze+=Xe*(5*ct),Ne+=Ze>>>13,Ze&=8191,nt=Ne,nt+=Me*ct,nt+=He*ut,nt+=Ae*(5*gt),nt+=te*(5*_t),nt+=ne*(5*ht),Ne=nt>>>13,nt&=8191,nt+=ge*(5*wt),nt+=de*(5*ot),nt+=ce*(5*yt),nt+=ye*(5*L),nt+=Xe*(5*lt),Ne+=nt>>>13,nt&=8191,st=Ne,st+=Me*lt,st+=He*ct,st+=Ae*ut,st+=te*(5*gt),st+=ne*(5*_t),Ne=st>>>13,st&=8191,st+=ge*(5*ht),st+=de*(5*wt),st+=ce*(5*ot),st+=ye*(5*yt),st+=Xe*(5*L),Ne+=st>>>13,st&=8191,rt=Ne,rt+=Me*L,rt+=He*lt,rt+=Ae*ct,rt+=te*ut,rt+=ne*(5*gt),Ne=rt>>>13,rt&=8191,rt+=ge*(5*_t),rt+=de*(5*ht),rt+=ce*(5*wt),rt+=ye*(5*ot),rt+=Xe*(5*yt),Ne+=rt>>>13,rt&=8191,We=Ne,We+=Me*yt,We+=He*L,We+=Ae*lt,We+=te*ct,We+=ne*ut,Ne=We>>>13,We&=8191,We+=ge*(5*gt),We+=de*(5*_t),We+=ce*(5*ht),We+=ye*(5*wt),We+=Xe*(5*ot),Ne+=We>>>13,We&=8191,et=Ne,et+=Me*ot,et+=He*yt,et+=Ae*L,et+=te*lt,et+=ne*ct,Ne=et>>>13,et&=8191,et+=ge*ut,et+=de*(5*gt),et+=ce*(5*_t),et+=ye*(5*ht),et+=Xe*(5*wt),Ne+=et>>>13,et&=8191,Ie=Ne,Ie+=Me*wt,Ie+=He*ot,Ie+=Ae*yt,Ie+=te*L,Ie+=ne*lt,Ne=Ie>>>13,Ie&=8191,Ie+=ge*ct,Ie+=de*ut,Ie+=ce*(5*gt),Ie+=ye*(5*_t),Ie+=Xe*(5*ht),Ne+=Ie>>>13,Ie&=8191,Le=Ne,Le+=Me*ht,Le+=He*wt,Le+=Ae*ot,Le+=te*yt,Le+=ne*L,Ne=Le>>>13,Le&=8191,Le+=ge*lt,Le+=de*ct,Le+=ce*ut,Le+=ye*(5*gt),Le+=Xe*(5*_t),Ne+=Le>>>13,Le&=8191,Ke=Ne,Ke+=Me*_t,Ke+=He*ht,Ke+=Ae*wt,Ke+=te*ot,Ke+=ne*yt,Ne=Ke>>>13,Ke&=8191,Ke+=ge*L,Ke+=de*lt,Ke+=ce*ct,Ke+=ye*ut,Ke+=Xe*(5*gt),Ne+=Ke>>>13,Ke&=8191,Re=Ne,Re+=Me*gt,Re+=He*_t,Re+=Ae*ht,Re+=te*wt,Re+=ne*ot,Ne=Re>>>13,Re&=8191,Re+=ge*yt,Re+=de*L,Re+=ce*lt,Re+=ye*ct,Re+=Xe*ut,Ne+=Re>>>13,Re&=8191,Ne=(Ne<<2)+Ne|0,Ne=Ne+Ze|0,Ze=Ne&8191,Ne=Ne>>>13,nt+=Ne,Me=Ze,He=nt,Ae=st,te=rt,ne=We,ge=et,de=Ie,ce=Le,ye=Ke,Xe=Re,A+=16,R-=16;this.h[0]=Me,this.h[1]=He,this.h[2]=Ae,this.h[3]=te,this.h[4]=ne,this.h[5]=ge,this.h[6]=de,this.h[7]=ce,this.h[8]=ye,this.h[9]=Xe},ve.prototype.finish=function(w,A){var R=new Uint16Array(10),v,P,$,q;if(this.leftover){for(q=this.leftover,this.buffer[q++]=1;q<16;q++)this.buffer[q]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(v=this.h[1]>>>13,this.h[1]&=8191,q=2;q<10;q++)this.h[q]+=v,v=this.h[q]>>>13,this.h[q]&=8191;for(this.h[0]+=v*5,v=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=v,v=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=v,R[0]=this.h[0]+5,v=R[0]>>>13,R[0]&=8191,q=1;q<10;q++)R[q]=this.h[q]+v,v=R[q]>>>13,R[q]&=8191;for(R[9]-=8192,P=(v^1)-1,q=0;q<10;q++)R[q]&=P;for(P=~P,q=0;q<10;q++)this.h[q]=this.h[q]&P|R[q];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,$=this.h[0]+this.pad[0],this.h[0]=$&65535,q=1;q<8;q++)$=(this.h[q]+this.pad[q]|0)+($>>>16)|0,this.h[q]=$&65535;w[A+0]=this.h[0]>>>0&255,w[A+1]=this.h[0]>>>8&255,w[A+2]=this.h[1]>>>0&255,w[A+3]=this.h[1]>>>8&255,w[A+4]=this.h[2]>>>0&255,w[A+5]=this.h[2]>>>8&255,w[A+6]=this.h[3]>>>0&255,w[A+7]=this.h[3]>>>8&255,w[A+8]=this.h[4]>>>0&255,w[A+9]=this.h[4]>>>8&255,w[A+10]=this.h[5]>>>0&255,w[A+11]=this.h[5]>>>8&255,w[A+12]=this.h[6]>>>0&255,w[A+13]=this.h[6]>>>8&255,w[A+14]=this.h[7]>>>0&255,w[A+15]=this.h[7]>>>8&255},ve.prototype.update=function(w,A,R){var v,P;if(this.leftover){for(P=16-this.leftover,P>R&&(P=R),v=0;v<P;v++)this.buffer[this.leftover+v]=w[A+v];if(R-=P,A+=P,this.leftover+=P,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(R>=16&&(P=R-R%16,this.blocks(w,A,P),A+=P,R-=P),R){for(v=0;v<R;v++)this.buffer[this.leftover+v]=w[A+v];this.leftover+=R}};function Ee(w,A,R,v,P,$){var q=new ve($);return q.update(R,v,P),q.finish(w,A),0}function Ye(w,A,R,v,P,$){var q=new Uint8Array(16);return Ee(q,0,R,v,P,$),M(w,A,q,0)}function _e(w,A,R,v,P){var $;if(R<32)return-1;for(xe(w,0,A,0,R,v,P),Ee(w,16,w,32,R-32,w),$=0;$<16;$++)w[$]=0;return 0}function Pe(w,A,R,v,P){var $,q=new Uint8Array(32);if(R<32||(me(q,0,32,v,P),Ye(A,16,A,32,R-32,q)!==0))return-1;for(xe(w,0,A,0,R,v,P),$=0;$<32;$++)w[$]=0;return 0}function H(w,A){var R;for(R=0;R<16;R++)w[R]=A[R]|0}function se(w){var A,R,v=1;for(A=0;A<16;A++)R=w[A]+v+65535,v=Math.floor(R/65536),w[A]=R-v*65536;w[0]+=v-1+37*(v-1)}function Z(w,A,R){for(var v,P=~(R-1),$=0;$<16;$++)v=P&(w[$]^A[$]),w[$]^=v,A[$]^=v}function ke(w,A){var R,v,P,$=n(),q=n();for(R=0;R<16;R++)q[R]=A[R];for(se(q),se(q),se(q),v=0;v<2;v++){for($[0]=q[0]-65517,R=1;R<15;R++)$[R]=q[R]-65535-($[R-1]>>16&1),$[R-1]&=65535;$[15]=q[15]-32767-($[14]>>16&1),P=$[15]>>16&1,$[14]&=65535,Z(q,$,1-P)}for(R=0;R<16;R++)w[2*R]=q[R]&255,w[2*R+1]=q[R]>>8}function Je(w,A){var R=new Uint8Array(32),v=new Uint8Array(32);return ke(R,w),ke(v,A),D(R,0,v,0)}function z(w){var A=new Uint8Array(32);return ke(A,w),A[0]&1}function ee(w,A){var R;for(R=0;R<16;R++)w[R]=A[2*R]+(A[2*R+1]<<8);w[15]&=32767}function le(w,A,R){for(var v=0;v<16;v++)w[v]=A[v]+R[v]}function pe(w,A,R){for(var v=0;v<16;v++)w[v]=A[v]-R[v]}function Se(w,A,R){var v,P,$=0,q=0,ae=0,we=0,ze=0,Oe=0,Ot=0,Ne=0,Ze=0,nt=0,st=0,rt=0,We=0,et=0,Ie=0,Le=0,Ke=0,Re=0,Me=0,He=0,Ae=0,te=0,ne=0,ge=0,de=0,ce=0,ye=0,Xe=0,ut=0,ct=0,lt=0,L=R[0],yt=R[1],ot=R[2],wt=R[3],ht=R[4],_t=R[5],gt=R[6],rn=R[7],kt=R[8],$t=R[9],sn=R[10],Wt=R[11],un=R[12],bn=R[13],Nn=R[14],Dn=R[15];v=A[0],$+=v*L,q+=v*yt,ae+=v*ot,we+=v*wt,ze+=v*ht,Oe+=v*_t,Ot+=v*gt,Ne+=v*rn,Ze+=v*kt,nt+=v*$t,st+=v*sn,rt+=v*Wt,We+=v*un,et+=v*bn,Ie+=v*Nn,Le+=v*Dn,v=A[1],q+=v*L,ae+=v*yt,we+=v*ot,ze+=v*wt,Oe+=v*ht,Ot+=v*_t,Ne+=v*gt,Ze+=v*rn,nt+=v*kt,st+=v*$t,rt+=v*sn,We+=v*Wt,et+=v*un,Ie+=v*bn,Le+=v*Nn,Ke+=v*Dn,v=A[2],ae+=v*L,we+=v*yt,ze+=v*ot,Oe+=v*wt,Ot+=v*ht,Ne+=v*_t,Ze+=v*gt,nt+=v*rn,st+=v*kt,rt+=v*$t,We+=v*sn,et+=v*Wt,Ie+=v*un,Le+=v*bn,Ke+=v*Nn,Re+=v*Dn,v=A[3],we+=v*L,ze+=v*yt,Oe+=v*ot,Ot+=v*wt,Ne+=v*ht,Ze+=v*_t,nt+=v*gt,st+=v*rn,rt+=v*kt,We+=v*$t,et+=v*sn,Ie+=v*Wt,Le+=v*un,Ke+=v*bn,Re+=v*Nn,Me+=v*Dn,v=A[4],ze+=v*L,Oe+=v*yt,Ot+=v*ot,Ne+=v*wt,Ze+=v*ht,nt+=v*_t,st+=v*gt,rt+=v*rn,We+=v*kt,et+=v*$t,Ie+=v*sn,Le+=v*Wt,Ke+=v*un,Re+=v*bn,Me+=v*Nn,He+=v*Dn,v=A[5],Oe+=v*L,Ot+=v*yt,Ne+=v*ot,Ze+=v*wt,nt+=v*ht,st+=v*_t,rt+=v*gt,We+=v*rn,et+=v*kt,Ie+=v*$t,Le+=v*sn,Ke+=v*Wt,Re+=v*un,Me+=v*bn,He+=v*Nn,Ae+=v*Dn,v=A[6],Ot+=v*L,Ne+=v*yt,Ze+=v*ot,nt+=v*wt,st+=v*ht,rt+=v*_t,We+=v*gt,et+=v*rn,Ie+=v*kt,Le+=v*$t,Ke+=v*sn,Re+=v*Wt,Me+=v*un,He+=v*bn,Ae+=v*Nn,te+=v*Dn,v=A[7],Ne+=v*L,Ze+=v*yt,nt+=v*ot,st+=v*wt,rt+=v*ht,We+=v*_t,et+=v*gt,Ie+=v*rn,Le+=v*kt,Ke+=v*$t,Re+=v*sn,Me+=v*Wt,He+=v*un,Ae+=v*bn,te+=v*Nn,ne+=v*Dn,v=A[8],Ze+=v*L,nt+=v*yt,st+=v*ot,rt+=v*wt,We+=v*ht,et+=v*_t,Ie+=v*gt,Le+=v*rn,Ke+=v*kt,Re+=v*$t,Me+=v*sn,He+=v*Wt,Ae+=v*un,te+=v*bn,ne+=v*Nn,ge+=v*Dn,v=A[9],nt+=v*L,st+=v*yt,rt+=v*ot,We+=v*wt,et+=v*ht,Ie+=v*_t,Le+=v*gt,Ke+=v*rn,Re+=v*kt,Me+=v*$t,He+=v*sn,Ae+=v*Wt,te+=v*un,ne+=v*bn,ge+=v*Nn,de+=v*Dn,v=A[10],st+=v*L,rt+=v*yt,We+=v*ot,et+=v*wt,Ie+=v*ht,Le+=v*_t,Ke+=v*gt,Re+=v*rn,Me+=v*kt,He+=v*$t,Ae+=v*sn,te+=v*Wt,ne+=v*un,ge+=v*bn,de+=v*Nn,ce+=v*Dn,v=A[11],rt+=v*L,We+=v*yt,et+=v*ot,Ie+=v*wt,Le+=v*ht,Ke+=v*_t,Re+=v*gt,Me+=v*rn,He+=v*kt,Ae+=v*$t,te+=v*sn,ne+=v*Wt,ge+=v*un,de+=v*bn,ce+=v*Nn,ye+=v*Dn,v=A[12],We+=v*L,et+=v*yt,Ie+=v*ot,Le+=v*wt,Ke+=v*ht,Re+=v*_t,Me+=v*gt,He+=v*rn,Ae+=v*kt,te+=v*$t,ne+=v*sn,ge+=v*Wt,de+=v*un,ce+=v*bn,ye+=v*Nn,Xe+=v*Dn,v=A[13],et+=v*L,Ie+=v*yt,Le+=v*ot,Ke+=v*wt,Re+=v*ht,Me+=v*_t,He+=v*gt,Ae+=v*rn,te+=v*kt,ne+=v*$t,ge+=v*sn,de+=v*Wt,ce+=v*un,ye+=v*bn,Xe+=v*Nn,ut+=v*Dn,v=A[14],Ie+=v*L,Le+=v*yt,Ke+=v*ot,Re+=v*wt,Me+=v*ht,He+=v*_t,Ae+=v*gt,te+=v*rn,ne+=v*kt,ge+=v*$t,de+=v*sn,ce+=v*Wt,ye+=v*un,Xe+=v*bn,ut+=v*Nn,ct+=v*Dn,v=A[15],Le+=v*L,Ke+=v*yt,Re+=v*ot,Me+=v*wt,He+=v*ht,Ae+=v*_t,te+=v*gt,ne+=v*rn,ge+=v*kt,de+=v*$t,ce+=v*sn,ye+=v*Wt,Xe+=v*un,ut+=v*bn,ct+=v*Nn,lt+=v*Dn,$+=38*Ke,q+=38*Re,ae+=38*Me,we+=38*He,ze+=38*Ae,Oe+=38*te,Ot+=38*ne,Ne+=38*ge,Ze+=38*de,nt+=38*ce,st+=38*ye,rt+=38*Xe,We+=38*ut,et+=38*ct,Ie+=38*lt,P=1,v=$+P+65535,P=Math.floor(v/65536),$=v-P*65536,v=q+P+65535,P=Math.floor(v/65536),q=v-P*65536,v=ae+P+65535,P=Math.floor(v/65536),ae=v-P*65536,v=we+P+65535,P=Math.floor(v/65536),we=v-P*65536,v=ze+P+65535,P=Math.floor(v/65536),ze=v-P*65536,v=Oe+P+65535,P=Math.floor(v/65536),Oe=v-P*65536,v=Ot+P+65535,P=Math.floor(v/65536),Ot=v-P*65536,v=Ne+P+65535,P=Math.floor(v/65536),Ne=v-P*65536,v=Ze+P+65535,P=Math.floor(v/65536),Ze=v-P*65536,v=nt+P+65535,P=Math.floor(v/65536),nt=v-P*65536,v=st+P+65535,P=Math.floor(v/65536),st=v-P*65536,v=rt+P+65535,P=Math.floor(v/65536),rt=v-P*65536,v=We+P+65535,P=Math.floor(v/65536),We=v-P*65536,v=et+P+65535,P=Math.floor(v/65536),et=v-P*65536,v=Ie+P+65535,P=Math.floor(v/65536),Ie=v-P*65536,v=Le+P+65535,P=Math.floor(v/65536),Le=v-P*65536,$+=P-1+37*(P-1),P=1,v=$+P+65535,P=Math.floor(v/65536),$=v-P*65536,v=q+P+65535,P=Math.floor(v/65536),q=v-P*65536,v=ae+P+65535,P=Math.floor(v/65536),ae=v-P*65536,v=we+P+65535,P=Math.floor(v/65536),we=v-P*65536,v=ze+P+65535,P=Math.floor(v/65536),ze=v-P*65536,v=Oe+P+65535,P=Math.floor(v/65536),Oe=v-P*65536,v=Ot+P+65535,P=Math.floor(v/65536),Ot=v-P*65536,v=Ne+P+65535,P=Math.floor(v/65536),Ne=v-P*65536,v=Ze+P+65535,P=Math.floor(v/65536),Ze=v-P*65536,v=nt+P+65535,P=Math.floor(v/65536),nt=v-P*65536,v=st+P+65535,P=Math.floor(v/65536),st=v-P*65536,v=rt+P+65535,P=Math.floor(v/65536),rt=v-P*65536,v=We+P+65535,P=Math.floor(v/65536),We=v-P*65536,v=et+P+65535,P=Math.floor(v/65536),et=v-P*65536,v=Ie+P+65535,P=Math.floor(v/65536),Ie=v-P*65536,v=Le+P+65535,P=Math.floor(v/65536),Le=v-P*65536,$+=P-1+37*(P-1),w[0]=$,w[1]=q,w[2]=ae,w[3]=we,w[4]=ze,w[5]=Oe,w[6]=Ot,w[7]=Ne,w[8]=Ze,w[9]=nt,w[10]=st,w[11]=rt,w[12]=We,w[13]=et,w[14]=Ie,w[15]=Le}function Te(w,A){Se(w,A,A)}function je(w,A){var R=n(),v;for(v=0;v<16;v++)R[v]=A[v];for(v=253;v>=0;v--)Te(R,R),v!==2&&v!==4&&Se(R,R,A);for(v=0;v<16;v++)w[v]=R[v]}function Nt(w,A){var R=n(),v;for(v=0;v<16;v++)R[v]=A[v];for(v=250;v>=0;v--)Te(R,R),v!==1&&Se(R,R,A);for(v=0;v<16;v++)w[v]=R[v]}function I(w,A,R){var v=new Uint8Array(32),P=new Float64Array(80),$,q,ae=n(),we=n(),ze=n(),Oe=n(),Ot=n(),Ne=n();for(q=0;q<31;q++)v[q]=A[q];for(v[31]=A[31]&127|64,v[0]&=248,ee(P,R),q=0;q<16;q++)we[q]=P[q],Oe[q]=ae[q]=ze[q]=0;for(ae[0]=Oe[0]=1,q=254;q>=0;--q)$=v[q>>>3]>>>(q&7)&1,Z(ae,we,$),Z(ze,Oe,$),le(Ot,ae,ze),pe(ae,ae,ze),le(ze,we,Oe),pe(we,we,Oe),Te(Oe,Ot),Te(Ne,ae),Se(ae,ze,ae),Se(ze,we,Ot),le(Ot,ae,ze),pe(ae,ae,ze),Te(we,ae),pe(ze,Oe,Ne),Se(ae,ze,d),le(ae,ae,Oe),Se(ze,ze,ae),Se(ae,Oe,Ne),Se(Oe,we,P),Te(we,Ot),Z(ae,we,$),Z(ze,Oe,$);for(q=0;q<16;q++)P[q+16]=ae[q],P[q+32]=ze[q],P[q+48]=we[q],P[q+64]=Oe[q];var Ze=P.subarray(32),nt=P.subarray(16);return je(Ze,Ze),Se(nt,nt,Ze),ke(w,nt),0}function K(w,A){return I(w,A,c)}function fe(w,A){return i(A,32),K(w,A)}function Ce(w,A,R){var v=new Uint8Array(32);return I(v,R,A),Y(w,a,v,J)}var Fe=_e,Ue=Pe;function Tt(w,A,R,v,P,$){var q=new Uint8Array(32);return Ce(q,P,$),Fe(w,A,R,v,q)}function xt(w,A,R,v,P,$){var q=new Uint8Array(32);return Ce(q,P,$),Ue(w,A,R,v,q)}var Jt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Dt(w,A,R,v){for(var P=new Int32Array(16),$=new Int32Array(16),q,ae,we,ze,Oe,Ot,Ne,Ze,nt,st,rt,We,et,Ie,Le,Ke,Re,Me,He,Ae,te,ne,ge,de,ce,ye,Xe=w[0],ut=w[1],ct=w[2],lt=w[3],L=w[4],yt=w[5],ot=w[6],wt=w[7],ht=A[0],_t=A[1],gt=A[2],rn=A[3],kt=A[4],$t=A[5],sn=A[6],Wt=A[7],un=0;v>=128;){for(He=0;He<16;He++)Ae=8*He+un,P[He]=R[Ae+0]<<24|R[Ae+1]<<16|R[Ae+2]<<8|R[Ae+3],$[He]=R[Ae+4]<<24|R[Ae+5]<<16|R[Ae+6]<<8|R[Ae+7];for(He=0;He<80;He++)if(q=Xe,ae=ut,we=ct,ze=lt,Oe=L,Ot=yt,Ne=ot,Ze=wt,nt=ht,st=_t,rt=gt,We=rn,et=kt,Ie=$t,Le=sn,Ke=Wt,te=wt,ne=Wt,ge=ne&65535,de=ne>>>16,ce=te&65535,ye=te>>>16,te=(L>>>14|kt<<18)^(L>>>18|kt<<14)^(kt>>>9|L<<23),ne=(kt>>>14|L<<18)^(kt>>>18|L<<14)^(L>>>9|kt<<23),ge+=ne&65535,de+=ne>>>16,ce+=te&65535,ye+=te>>>16,te=L&yt^~L&ot,ne=kt&$t^~kt&sn,ge+=ne&65535,de+=ne>>>16,ce+=te&65535,ye+=te>>>16,te=Jt[He*2],ne=Jt[He*2+1],ge+=ne&65535,de+=ne>>>16,ce+=te&65535,ye+=te>>>16,te=P[He%16],ne=$[He%16],ge+=ne&65535,de+=ne>>>16,ce+=te&65535,ye+=te>>>16,de+=ge>>>16,ce+=de>>>16,ye+=ce>>>16,Re=ce&65535|ye<<16,Me=ge&65535|de<<16,te=Re,ne=Me,ge=ne&65535,de=ne>>>16,ce=te&65535,ye=te>>>16,te=(Xe>>>28|ht<<4)^(ht>>>2|Xe<<30)^(ht>>>7|Xe<<25),ne=(ht>>>28|Xe<<4)^(Xe>>>2|ht<<30)^(Xe>>>7|ht<<25),ge+=ne&65535,de+=ne>>>16,ce+=te&65535,ye+=te>>>16,te=Xe&ut^Xe&ct^ut&ct,ne=ht&_t^ht&gt^_t&gt,ge+=ne&65535,de+=ne>>>16,ce+=te&65535,ye+=te>>>16,de+=ge>>>16,ce+=de>>>16,ye+=ce>>>16,Ze=ce&65535|ye<<16,Ke=ge&65535|de<<16,te=ze,ne=We,ge=ne&65535,de=ne>>>16,ce=te&65535,ye=te>>>16,te=Re,ne=Me,ge+=ne&65535,de+=ne>>>16,ce+=te&65535,ye+=te>>>16,de+=ge>>>16,ce+=de>>>16,ye+=ce>>>16,ze=ce&65535|ye<<16,We=ge&65535|de<<16,ut=q,ct=ae,lt=we,L=ze,yt=Oe,ot=Ot,wt=Ne,Xe=Ze,_t=nt,gt=st,rn=rt,kt=We,$t=et,sn=Ie,Wt=Le,ht=Ke,He%16===15)for(Ae=0;Ae<16;Ae++)te=P[Ae],ne=$[Ae],ge=ne&65535,de=ne>>>16,ce=te&65535,ye=te>>>16,te=P[(Ae+9)%16],ne=$[(Ae+9)%16],ge+=ne&65535,de+=ne>>>16,ce+=te&65535,ye+=te>>>16,Re=P[(Ae+1)%16],Me=$[(Ae+1)%16],te=(Re>>>1|Me<<31)^(Re>>>8|Me<<24)^Re>>>7,ne=(Me>>>1|Re<<31)^(Me>>>8|Re<<24)^(Me>>>7|Re<<25),ge+=ne&65535,de+=ne>>>16,ce+=te&65535,ye+=te>>>16,Re=P[(Ae+14)%16],Me=$[(Ae+14)%16],te=(Re>>>19|Me<<13)^(Me>>>29|Re<<3)^Re>>>6,ne=(Me>>>19|Re<<13)^(Re>>>29|Me<<3)^(Me>>>6|Re<<26),ge+=ne&65535,de+=ne>>>16,ce+=te&65535,ye+=te>>>16,de+=ge>>>16,ce+=de>>>16,ye+=ce>>>16,P[Ae]=ce&65535|ye<<16,$[Ae]=ge&65535|de<<16;te=Xe,ne=ht,ge=ne&65535,de=ne>>>16,ce=te&65535,ye=te>>>16,te=w[0],ne=A[0],ge+=ne&65535,de+=ne>>>16,ce+=te&65535,ye+=te>>>16,de+=ge>>>16,ce+=de>>>16,ye+=ce>>>16,w[0]=Xe=ce&65535|ye<<16,A[0]=ht=ge&65535|de<<16,te=ut,ne=_t,ge=ne&65535,de=ne>>>16,ce=te&65535,ye=te>>>16,te=w[1],ne=A[1],ge+=ne&65535,de+=ne>>>16,ce+=te&65535,ye+=te>>>16,de+=ge>>>16,ce+=de>>>16,ye+=ce>>>16,w[1]=ut=ce&65535|ye<<16,A[1]=_t=ge&65535|de<<16,te=ct,ne=gt,ge=ne&65535,de=ne>>>16,ce=te&65535,ye=te>>>16,te=w[2],ne=A[2],ge+=ne&65535,de+=ne>>>16,ce+=te&65535,ye+=te>>>16,de+=ge>>>16,ce+=de>>>16,ye+=ce>>>16,w[2]=ct=ce&65535|ye<<16,A[2]=gt=ge&65535|de<<16,te=lt,ne=rn,ge=ne&65535,de=ne>>>16,ce=te&65535,ye=te>>>16,te=w[3],ne=A[3],ge+=ne&65535,de+=ne>>>16,ce+=te&65535,ye+=te>>>16,de+=ge>>>16,ce+=de>>>16,ye+=ce>>>16,w[3]=lt=ce&65535|ye<<16,A[3]=rn=ge&65535|de<<16,te=L,ne=kt,ge=ne&65535,de=ne>>>16,ce=te&65535,ye=te>>>16,te=w[4],ne=A[4],ge+=ne&65535,de+=ne>>>16,ce+=te&65535,ye+=te>>>16,de+=ge>>>16,ce+=de>>>16,ye+=ce>>>16,w[4]=L=ce&65535|ye<<16,A[4]=kt=ge&65535|de<<16,te=yt,ne=$t,ge=ne&65535,de=ne>>>16,ce=te&65535,ye=te>>>16,te=w[5],ne=A[5],ge+=ne&65535,de+=ne>>>16,ce+=te&65535,ye+=te>>>16,de+=ge>>>16,ce+=de>>>16,ye+=ce>>>16,w[5]=yt=ce&65535|ye<<16,A[5]=$t=ge&65535|de<<16,te=ot,ne=sn,ge=ne&65535,de=ne>>>16,ce=te&65535,ye=te>>>16,te=w[6],ne=A[6],ge+=ne&65535,de+=ne>>>16,ce+=te&65535,ye+=te>>>16,de+=ge>>>16,ce+=de>>>16,ye+=ce>>>16,w[6]=ot=ce&65535|ye<<16,A[6]=sn=ge&65535|de<<16,te=wt,ne=Wt,ge=ne&65535,de=ne>>>16,ce=te&65535,ye=te>>>16,te=w[7],ne=A[7],ge+=ne&65535,de+=ne>>>16,ce+=te&65535,ye+=te>>>16,de+=ge>>>16,ce+=de>>>16,ye+=ce>>>16,w[7]=wt=ce&65535|ye<<16,A[7]=Wt=ge&65535|de<<16,un+=128,v-=128}return v}function St(w,A,R){var v=new Int32Array(8),P=new Int32Array(8),$=new Uint8Array(256),q,ae=R;for(v[0]=1779033703,v[1]=3144134277,v[2]=1013904242,v[3]=2773480762,v[4]=1359893119,v[5]=2600822924,v[6]=528734635,v[7]=1541459225,P[0]=4089235720,P[1]=2227873595,P[2]=4271175723,P[3]=1595750129,P[4]=2917565137,P[5]=725511199,P[6]=4215389547,P[7]=327033209,Dt(v,P,A,R),R%=128,q=0;q<R;q++)$[q]=A[ae-R+q];for($[R]=128,R=256-128*(R<112?1:0),$[R-9]=0,E($,R-8,ae/536870912|0,ae<<3),Dt(v,P,$,R),q=0;q<8;q++)E(w,8*q,v[q],P[q]);return 0}function zt(w,A){var R=n(),v=n(),P=n(),$=n(),q=n(),ae=n(),we=n(),ze=n(),Oe=n();pe(R,w[1],w[0]),pe(Oe,A[1],A[0]),Se(R,R,Oe),le(v,w[0],w[1]),le(Oe,A[0],A[1]),Se(v,v,Oe),Se(P,w[3],A[3]),Se(P,P,m),Se($,w[2],A[2]),le($,$,$),pe(q,v,R),pe(ae,$,P),le(we,$,P),le(ze,v,R),Se(w[0],q,ae),Se(w[1],ze,we),Se(w[2],we,ae),Se(w[3],q,ze)}function Zt(w,A,R){var v;for(v=0;v<4;v++)Z(w[v],A[v],R)}function xn(w,A){var R=n(),v=n(),P=n();je(P,A[2]),Se(R,A[0],P),Se(v,A[1],P),ke(w,v),w[31]^=z(R)<<7}function it(w,A,R){var v,P;for(H(w[0],u),H(w[1],f),H(w[2],f),H(w[3],u),P=255;P>=0;--P)v=R[P/8|0]>>(P&7)&1,Zt(w,A,v),zt(A,w),zt(w,w),Zt(w,A,v)}function dt(w,A){var R=[n(),n(),n(),n()];H(R[0],g),H(R[1],x),H(R[2],f),Se(R[3],g,x),it(w,R,A)}function cn(w,A,R){var v=new Uint8Array(64),P=[n(),n(),n(),n()],$;for(R||i(A,32),St(v,A,32),v[0]&=248,v[31]&=127,v[31]|=64,dt(P,v),xn(w,P),$=0;$<32;$++)A[$+32]=w[$];return 0}var Tn=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Er(w,A){var R,v,P,$;for(v=63;v>=32;--v){for(R=0,P=v-32,$=v-12;P<$;++P)A[P]+=R-16*A[v]*Tn[P-(v-32)],R=Math.floor((A[P]+128)/256),A[P]-=R*256;A[P]+=R,A[v]=0}for(R=0,P=0;P<32;P++)A[P]+=R-(A[31]>>4)*Tn[P],R=A[P]>>8,A[P]&=255;for(P=0;P<32;P++)A[P]-=R*Tn[P];for(v=0;v<32;v++)A[v+1]+=A[v]>>8,w[v]=A[v]&255}function hn(w){var A=new Float64Array(64),R;for(R=0;R<64;R++)A[R]=w[R];for(R=0;R<64;R++)w[R]=0;Er(w,A)}function yi(w,A,R,v){var P=new Uint8Array(64),$=new Uint8Array(64),q=new Uint8Array(64),ae,we,ze=new Float64Array(64),Oe=[n(),n(),n(),n()];St(P,v,32),P[0]&=248,P[31]&=127,P[31]|=64;var Ot=R+64;for(ae=0;ae<R;ae++)w[64+ae]=A[ae];for(ae=0;ae<32;ae++)w[32+ae]=P[32+ae];for(St(q,w.subarray(32),R+32),hn(q),dt(Oe,q),xn(w,Oe),ae=32;ae<64;ae++)w[ae]=v[ae];for(St($,w,R+64),hn($),ae=0;ae<64;ae++)ze[ae]=0;for(ae=0;ae<32;ae++)ze[ae]=q[ae];for(ae=0;ae<32;ae++)for(we=0;we<32;we++)ze[ae+we]+=$[ae]*P[we];return Er(w.subarray(32),ze),Ot}function Qr(w,A){var R=n(),v=n(),P=n(),$=n(),q=n(),ae=n(),we=n();return H(w[2],f),ee(w[1],A),Te(P,w[1]),Se($,P,h),pe(P,P,w[2]),le($,w[2],$),Te(q,$),Te(ae,q),Se(we,ae,q),Se(R,we,P),Se(R,R,$),Nt(R,R),Se(R,R,P),Se(R,R,$),Se(R,R,$),Se(w[0],R,$),Te(v,w[0]),Se(v,v,$),Je(v,P)&&Se(w[0],w[0],S),Te(v,w[0]),Se(v,v,$),Je(v,P)?-1:(z(w[0])===A[31]>>7&&pe(w[0],u,w[0]),Se(w[3],w[0],w[1]),0)}function Ps(w,A,R,v){var P,$=new Uint8Array(32),q=new Uint8Array(64),ae=[n(),n(),n(),n()],we=[n(),n(),n(),n()];if(R<64||Qr(we,v))return-1;for(P=0;P<R;P++)w[P]=A[P];for(P=0;P<32;P++)w[P+32]=v[P];if(St(q,w,R),hn(q),it(ae,we,q),dt(we,A.subarray(32)),zt(ae,we),xn($,ae),R-=64,D(A,0,$,0)){for(P=0;P<R;P++)w[P]=0;return-1}for(P=0;P<R;P++)w[P]=A[P+64];return R}var Ns=32,Cr=24,pn=32,Ln=16,ln=32,Xi=32,gi=32,vi=32,Zr=32,xi=Cr,Qi=pn,zr=Ln,Un=64,Vn=32,Ir=64,Zi=32,ie=64;e.lowlevel={crypto_core_hsalsa20:Y,crypto_stream_xor:xe,crypto_stream:me,crypto_stream_salsa20_xor:V,crypto_stream_salsa20:G,crypto_onetimeauth:Ee,crypto_onetimeauth_verify:Ye,crypto_verify_16:M,crypto_verify_32:D,crypto_secretbox:_e,crypto_secretbox_open:Pe,crypto_scalarmult:I,crypto_scalarmult_base:K,crypto_box_beforenm:Ce,crypto_box_afternm:Fe,crypto_box:Tt,crypto_box_open:xt,crypto_box_keypair:fe,crypto_hash:St,crypto_sign:yi,crypto_sign_keypair:cn,crypto_sign_open:Ps,crypto_secretbox_KEYBYTES:Ns,crypto_secretbox_NONCEBYTES:Cr,crypto_secretbox_ZEROBYTES:pn,crypto_secretbox_BOXZEROBYTES:Ln,crypto_scalarmult_BYTES:ln,crypto_scalarmult_SCALARBYTES:Xi,crypto_box_PUBLICKEYBYTES:gi,crypto_box_SECRETKEYBYTES:vi,crypto_box_BEFORENMBYTES:Zr,crypto_box_NONCEBYTES:xi,crypto_box_ZEROBYTES:Qi,crypto_box_BOXZEROBYTES:zr,crypto_sign_BYTES:Un,crypto_sign_PUBLICKEYBYTES:Vn,crypto_sign_SECRETKEYBYTES:Ir,crypto_sign_SEEDBYTES:Zi,crypto_hash_BYTES:ie,gf:n,D:h,L:Tn,pack25519:ke,unpack25519:ee,M:Se,A:le,S:Te,Z:pe,pow2523:Nt,add:zt,set25519:H,modL:Er,scalarmult:it,scalarbase:dt};function be(w,A){if(w.length!==Ns)throw new Error("bad key size");if(A.length!==Cr)throw new Error("bad nonce size")}function at(w,A){if(w.length!==gi)throw new Error("bad public key size");if(A.length!==vi)throw new Error("bad secret key size")}function pt(){for(var w=0;w<arguments.length;w++)if(!(arguments[w]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Yt(w){for(var A=0;A<w.length;A++)w[A]=0}e.randomBytes=function(w){var A=new Uint8Array(w);return i(A,w),A},e.secretbox=function(w,A,R){pt(w,A,R),be(R,A);for(var v=new Uint8Array(pn+w.length),P=new Uint8Array(v.length),$=0;$<w.length;$++)v[$+pn]=w[$];return _e(P,v,v.length,A,R),P.subarray(Ln)},e.secretbox.open=function(w,A,R){pt(w,A,R),be(R,A);for(var v=new Uint8Array(Ln+w.length),P=new Uint8Array(v.length),$=0;$<w.length;$++)v[$+Ln]=w[$];return v.length<32||Pe(P,v,v.length,A,R)!==0?null:P.subarray(pn)},e.secretbox.keyLength=Ns,e.secretbox.nonceLength=Cr,e.secretbox.overheadLength=Ln,e.scalarMult=function(w,A){if(pt(w,A),w.length!==Xi)throw new Error("bad n size");if(A.length!==ln)throw new Error("bad p size");var R=new Uint8Array(ln);return I(R,w,A),R},e.scalarMult.base=function(w){if(pt(w),w.length!==Xi)throw new Error("bad n size");var A=new Uint8Array(ln);return K(A,w),A},e.scalarMult.scalarLength=Xi,e.scalarMult.groupElementLength=ln,e.box=function(w,A,R,v){var P=e.box.before(R,v);return e.secretbox(w,A,P)},e.box.before=function(w,A){pt(w,A),at(w,A);var R=new Uint8Array(Zr);return Ce(R,w,A),R},e.box.after=e.secretbox,e.box.open=function(w,A,R,v){var P=e.box.before(R,v);return e.secretbox.open(w,A,P)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var w=new Uint8Array(gi),A=new Uint8Array(vi);return fe(w,A),{publicKey:w,secretKey:A}},e.box.keyPair.fromSecretKey=function(w){if(pt(w),w.length!==vi)throw new Error("bad secret key size");var A=new Uint8Array(gi);return K(A,w),{publicKey:A,secretKey:new Uint8Array(w)}},e.box.publicKeyLength=gi,e.box.secretKeyLength=vi,e.box.sharedKeyLength=Zr,e.box.nonceLength=xi,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(w,A){if(pt(w,A),A.length!==Ir)throw new Error("bad secret key size");var R=new Uint8Array(Un+w.length);return yi(R,w,w.length,A),R},e.sign.open=function(w,A){if(pt(w,A),A.length!==Vn)throw new Error("bad public key size");var R=new Uint8Array(w.length),v=Ps(R,w,w.length,A);if(v<0)return null;for(var P=new Uint8Array(v),$=0;$<P.length;$++)P[$]=R[$];return P},e.sign.detached=function(w,A){for(var R=e.sign(w,A),v=new Uint8Array(Un),P=0;P<v.length;P++)v[P]=R[P];return v},e.sign.detached.verify=function(w,A,R){if(pt(w,A,R),A.length!==Un)throw new Error("bad signature size");if(R.length!==Vn)throw new Error("bad public key size");var v=new Uint8Array(Un+w.length),P=new Uint8Array(Un+w.length),$;for($=0;$<Un;$++)v[$]=A[$];for($=0;$<w.length;$++)v[$+Un]=w[$];return Ps(P,v,v.length,R)>=0},e.sign.keyPair=function(){var w=new Uint8Array(Vn),A=new Uint8Array(Ir);return cn(w,A),{publicKey:w,secretKey:A}},e.sign.keyPair.fromSecretKey=function(w){if(pt(w),w.length!==Ir)throw new Error("bad secret key size");for(var A=new Uint8Array(Vn),R=0;R<A.length;R++)A[R]=w[32+R];return{publicKey:A,secretKey:new Uint8Array(w)}},e.sign.keyPair.fromSeed=function(w){if(pt(w),w.length!==Zi)throw new Error("bad seed size");for(var A=new Uint8Array(Vn),R=new Uint8Array(Ir),v=0;v<32;v++)R[v]=w[v];return cn(A,R,!0),{publicKey:A,secretKey:R}},e.sign.publicKeyLength=Vn,e.sign.secretKeyLength=Ir,e.sign.seedLength=Zi,e.sign.signatureLength=Un,e.hash=function(w){pt(w);var A=new Uint8Array(ie);return St(A,w,w.length),A},e.hash.hashLength=ie,e.verify=function(w,A){return pt(w,A),w.length===0||A.length===0||w.length!==A.length?!1:C(w,0,A,0,w.length)===0},e.setPRNG=function(w){i=w},(function(){var w=typeof self<"u"?self.crypto||self.msCrypto:null;if(w&&w.getRandomValues){var A=65536;e.setPRNG(function(R,v){var P,$=new Uint8Array(v);for(P=0;P<v;P+=A)w.getRandomValues($.subarray(P,P+Math.min(v-P,A)));for(P=0;P<v;P++)R[P]=$[P];Yt($)})}else typeof w8<"u"&&(w=T8,w&&w.randomBytes&&e.setPRNG(function(R,v){var P,$=w.randomBytes(v);for(P=0;P<v;P++)R[P]=$[P];Yt($)}))})()})(t.exports?t.exports:self.nacl=self.nacl||{})})(Kp)),Kp.exports}var Bu={exports:{}},R8=Bu.exports,Y1;function IC(){return Y1||(Y1=1,(function(t){(function(e,n){t.exports?t.exports=n():(e.nacl||(e.nacl={}),e.nacl.util=n())})(R8,function(){var e={};function n(i){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(i))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(i){if(typeof i!="string")throw new TypeError("expected string");var a,c=unescape(encodeURIComponent(i)),u=new Uint8Array(c.length);for(a=0;a<c.length;a++)u[a]=c.charCodeAt(a);return u},e.encodeUTF8=function(i){var a,c=[];for(a=0;a<i.length;a++)c.push(String.fromCharCode(i[a]));return decodeURIComponent(escape(c.join("")))},typeof atob>"u"?typeof Buffer.from<"u"?(e.encodeBase64=function(i){return Buffer.from(i).toString("base64")},e.decodeBase64=function(i){return n(i),new Uint8Array(Array.prototype.slice.call(Buffer.from(i,"base64"),0))}):(e.encodeBase64=function(i){return new Buffer(i).toString("base64")},e.decodeBase64=function(i){return n(i),new Uint8Array(Array.prototype.slice.call(new Buffer(i,"base64"),0))}):(e.encodeBase64=function(i){var a,c=[],u=i.length;for(a=0;a<u;a++)c.push(String.fromCharCode(i[a]));return btoa(c.join(""))},e.decodeBase64=function(i){n(i);var a,c=atob(i),u=new Uint8Array(c.length);for(a=0;a<c.length;a++)u[a]=c.charCodeAt(a);return u}),e})})(Bu)),Bu.exports}const A8=Object.freeze(Object.defineProperty({__proto__:null,Async:e4,CreateGameReducer:Bf,InitializeGame:$y,ProcessGameConfig:Fc,Sync:wE,Transport:Hf,createMatch:EE,getFilterPlayerView:TE},Symbol.toStringTag,{value:"Module"})),Jy=mf(A8);var Ws={};const O8=Object.freeze(Object.defineProperty({__proto__:null,Master:CE},Symbol.toStringTag,{value:"Module"})),M8=mf(O8);var gc={},G1;function P8(){if(G1)return gc;G1=1,Object.defineProperty(gc,"__esModule",{value:!0}),gc.P2PDB=void 0;const t=Jy;class e extends t.Sync{constructor(){super(...arguments),this.initialState=new Map,this.state=new Map,this.log=new Map,this.metadata=new Map}connect(){}createMatch(i,a){this.initialState.set(i,a.initialState),this.state.set(i,a.initialState),this.log.set(i,[]),this.metadata.set(i,a.metadata)}setState(i,a,c){this.state.set(i,a),c&&this.log.set(i,[...this.log.get(i)||[],...c])}setMetadata(i,a){this.metadata.set(i,a)}fetch(i){return{initialState:this.initialState.get(i),state:this.state.get(i),log:this.log.get(i),metadata:this.metadata.get(i)}}wipe(i){this.initialState.delete(i),this.state.delete(i),this.log.delete(i),this.metadata.delete(i)}listMatches(){return[...this.metadata.keys()]}}return gc.P2PDB=e,gc}var Ii={},K1;function Vm(){if(K1)return Ii;K1=1,Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.authenticate=Ii.signMessage=Ii.generateCredentials=void 0;const t=zC(),e=IC();function n(){return(0,e.encodeBase64)((0,t.randomBytes)(64))}Ii.generateCredentials=n;function i(u,f,d){try{const h=t.sign.open((0,e.decodeBase64)(u),(0,e.decodeBase64)(f));return h!==null&&(0,e.encodeUTF8)(h)===d}catch{return!1}}function a(u,f){return(0,e.encodeBase64)((0,t.sign)((0,e.decodeUTF8)(u),(0,e.decodeBase64)(f)))}Ii.signMessage=a;function c(u,f,d){const{playerID:h,credentials:m,message:g}=f,{metadata:x}=d.fetch(u);if(h==null||!(+h in x.players))return!0;const S=x.players[+h].credentials,E=m?!!g&&i(g,m,h):!1;return!S&&E?(d.setMetadata(u,Object.assign(Object.assign({},x),{players:Object.assign(Object.assign({},x.players),{[+h]:Object.assign(Object.assign({},x.players[+h]),{credentials:m})})})),!0):!!(!S&&!m||S&&S===m&&E)}return Ii.authenticate=c,Ii}var X1;function N8(){if(X1)return Ws;X1=1;var t=Ws&&Ws.__rest||function(u,f){var d={};for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&f.indexOf(h)<0&&(d[h]=u[h]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,h=Object.getOwnPropertySymbols(u);m<h.length;m++)f.indexOf(h[m])<0&&Object.prototype.propertyIsEnumerable.call(u,h[m])&&(d[h[m]]=u[h[m]]);return d};Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.P2PHost=void 0;const e=Jy,n=M8,i=P8(),a=Vm();class c{constructor({game:f,numPlayers:d=2,matchID:h}){this.clients=new Map,this.matchID=h,(!f.name||f.name==="default")&&console.error('Using "default" as your game name.\nPlease set the `name` property of your game definition to a unique string to help avoid peer ID conflicts.');const m=(0,e.createMatch)({game:f,numPlayers:d,unlisted:!1,setupData:void 0});if("setupDataError"in m)throw new Error("setupData Error: "+m.setupDataError);this.db=new i.P2PDB,this.db.createMatch(this.matchID,m);const g=(0,e.getFilterPlayerView)(f);this.master=new n.Master(f,this.db,{send:x=>{var{playerID:S}=x,E=t(x,["playerID"]);const C=g(S,E);for(const[M]of this.clients)M.metadata.playerID===S&&M.send(C)},sendAll:x=>{for(const[S]of this.clients){const E=g(S.metadata.playerID,x);S.send(E)}}})}registerClient(f){if(!this.authenticateClient(f))return;const{playerID:h,credentials:m}=f.metadata;this.clients.set(f,f),this.master.onConnectionChange(this.matchID,h,m,!0)}authenticateClient(f){return(0,a.authenticate)(this.matchID,f.metadata,this.db)}unregisterClient(f){const{credentials:d,playerID:h}=f.metadata;this.clients.delete(f),this.master.onConnectionChange(this.matchID,h,d,!1)}processAction(f){switch(f.type){case"update":this.master.onUpdate(...f.args);break;case"chat":this.master.onChatMessage(...f.args);break;case"sync":this.master.onSync(...f.args);break}}}return Ws.P2PHost=c,Ws}var Q1;function D8(){return Q1||(Q1=1,(function(t){var e=Js&&Js.__rest||function(S,E){var C={};for(var M in S)Object.prototype.hasOwnProperty.call(S,M)&&E.indexOf(M)<0&&(C[M]=S[M]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var D=0,M=Object.getOwnPropertySymbols(S);D<M.length;D++)E.indexOf(M[D])<0&&Object.prototype.propertyIsEnumerable.call(S,M[D])&&(C[M[D]]=S[M[D]]);return C},n=Js&&Js.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(t,"__esModule",{value:!0}),t.P2P=t.generateCredentials=void 0;const i=n(_8),a=zC(),c=IC(),u=Jy,f=N8(),d=Vm();var h=Vm();Object.defineProperty(t,"generateCredentials",{enumerable:!0,get:function(){return h.generateCredentials}});class m{constructor(){this.initialInterval=500,this.maxInterval=32e3,this.interval=this.initialInterval}cancelTask(){this.taskID&&(clearTimeout(this.taskID),delete this.taskID)}schedule(E){this.cancelTask(),this.taskID=setTimeout(()=>{this.interval<this.maxInterval&&(this.interval*=2),E()},this.interval)}clear(){this.cancelTask(),this.interval=this.initialInterval}}class g extends u.Transport{constructor(E){var{isHost:C,onError:M=()=>{},peerOptions:D={}}=E,N=e(E,["isHost","onError","peerOptions"]);super(N),this.peer=null,this.isHost=!!C,this.onError=M,this.peerOptions=D,this.game=N.game,this.retryHandler=new m,this.setCredentials(N.credentials)}get hostID(){if(!this.matchID)throw new Error("matchID must be provided");return`boardgameio-${this.gameName}-matchid-${this.matchID}`.replace(/([^A-Za-z0-9_-]|^[_-]+|[_-]+$)/g,"").replace(/([_-])[_-]+/g,"$1")}setCredentials(E){if(!E){this.privateKey=this.credentials=void 0;return}const C=(0,a.hash)((0,c.decodeUTF8)(E)).slice(0,32),{publicKey:M,secretKey:D}=a.sign.keyPair.fromSeed(C);this.credentials=(0,c.encodeBase64)(M),this.privateKey=(0,c.encodeBase64)(D)}get metadata(){return{playerID:this.playerID,credentials:this.credentials,message:this.playerID&&this.privateKey?(0,d.signMessage)(this.playerID,this.privateKey):void 0}}connect(){if(this.peer=new i.default(this.isHost?this.hostID:void 0,this.peerOptions),this.isHost){const E=new f.P2PHost({game:this.game,numPlayers:this.numPlayers,matchID:this.matchID});this.emit=C=>void E.processAction(C),E.registerClient({send:C=>void this.notifyClient(C),metadata:this.metadata}),this.peer.on("connection",C=>{E.registerClient(C),C.on("data",M=>{E.processAction(M)}),C.on("close",()=>void E.unregisterClient(C)),window&&window.addEventListener("beforeunload",()=>C.close())}),this.peer.on("error",C=>this.onError(C)),this.onConnect()}else this.peer.on("open",()=>void this.connectToHost()),this.peer.on("error",E=>{const C=E;C.type==="network"||C.type==="peer-unavailable"?this.retryHandler.schedule(()=>void this.connectToHost()):this.onError(C)})}connectToHost(){if(!this.peer)return;const E=this.peer.connect(this.hostID,{metadata:this.metadata});this.emit=C=>void E.send(C),E.on("open",()=>void this.onConnect()),E.on("data",C=>void this.notifyClient(C)),window&&window.addEventListener("beforeunload",()=>E.close())}onConnect(){this.retryHandler.clear(),this.setConnectionStatus(!0),this.requestSync()}disconnect(){this.peer&&this.peer.destroy(),this.peer=null,this.retryHandler.clear(),this.setConnectionStatus(!1)}requestSync(){this.emit&&this.emit({type:"sync",args:[this.matchID,this.playerID,this.credentials,this.numPlayers]})}sendAction(E,C){this.emit&&this.emit({type:"update",args:[C,E._stateID,this.matchID,this.playerID]})}sendChatMessage(E,C){this.emit&&this.emit({type:"chat",args:[E,C,this.credentials]})}reconnect(){this.disconnect(),this.connect()}updateMatchID(E){this.matchID=E,this.reconnect()}updatePlayerID(E){this.playerID=E,this.reconnect()}updateCredentials(E){this.setCredentials(E),this.reconnect()}}const x=(S={})=>E=>new g(Object.assign(Object.assign({},E),S));t.P2P=x})(Js)),Js}var Rs=D8();function k8({title:t="Connecting",description:e="Hang tight while we get everything ready.",roomCode:n,topRightSlot:i}){return b.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-gradient-to-br from-primary/10 via-background to-secondary/10",children:[i,b.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_top,_theme(colors.primary/15),transparent_60%)]"}),b.jsx("div",{className:"relative flex min-h-screen flex-col items-center justify-center px-6 py-16",children:b.jsxs("div",{className:"w-full max-w-md space-y-6 rounded-3xl border border-border/50 bg-background/90 p-10 text-center shadow-xl backdrop-blur",children:[b.jsx("div",{className:"flex items-center justify-center",children:b.jsx(oy,{className:"h-12 w-12 animate-spin text-primary"})}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h2",{className:"text-2xl font-heading",children:t}),e?b.jsx("p",{className:"text-sm text-muted-foreground",children:e}):null]}),n?b.jsx("div",{className:"flex justify-center",children:b.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-border/70 bg-muted/40 px-4 py-2 font-mono text-xs uppercase tracking-[0.3em] text-muted-foreground",children:["Room",b.jsx("span",{className:"text-foreground",children:n})]})}):null]})})]})}const BC="musicshowdown.identity",Vi="0",eo=1,qm=Math.max(eo,Nc-1),Wy=t=>`${BC}.${t}`,HC=t=>`${BC}.${t}.used`,Z1=(t,e)=>{if(t==="host")return e===Vi;const n=Number(e);return Number.isInteger(n)&&n>=eo&&n<=qm},hf=t=>{if(typeof window>"u")return new Set;const e=localStorage.getItem(HC(t));if(!e)return new Set;try{const n=JSON.parse(e);return new Set(n)}catch{return new Set}},pf=(t,e)=>{typeof window>"u"||localStorage.setItem(HC(t),JSON.stringify(Array.from(e)))},Fm=(t,e)=>{for(let i=eo;i<=qm;i++){const a=String(i);if(!e.has(a))return e.add(a),pf(t,e),a}const n=String(Math.min(qm,Math.max(eo,e.size+eo)));return e.add(n),pf(t,e),n},j8=(t,e,n)=>{if(e==="host")return{playerID:Vi,credentials:Rs.generateCredentials(),role:e,playerName:n};const i=hf(t);return{playerID:Fm(t,i),credentials:Rs.generateCredentials(),role:e,playerName:n}};function eg(t){if(typeof window>"u")return null;const e=localStorage.getItem(Wy(t));if(!e)return null;try{return JSON.parse(e)}catch{return null}}function $C(t,e,n){if(typeof window>"u")return{playerID:e==="host"?Vi:String(eo),credentials:Rs.generateCredentials(),role:e,playerName:n};const i=Wy(t),a=eg(t),c=hf(t);if(a){let f=a.playerID,d=a.credentials;Z1(a.role,a.playerID)||(c.delete(a.playerID),f=a.role==="host"?Vi:Fm(t,c),d=Rs.generateCredentials()),a.role==="host"&&e!=="host"&&(e="host");const h={...a,role:a.role==="host"?a.role:e,playerName:n||a.playerName,playerID:e==="host"?Vi:f,credentials:d};return Z1(h.role,h.playerID)||(c.delete(h.playerID),h.playerID=h.role==="host"?Vi:Fm(t,c),h.credentials=Rs.generateCredentials()),localStorage.setItem(i,JSON.stringify(h)),h}const u=j8(t,e,n);if(e==="peer"){const f=hf(t);f.add(u.playerID),pf(t,f)}return localStorage.setItem(i,JSON.stringify(u)),u}function L8(t,e){const n=e.trim().slice(0,24);if(typeof window>"u")return{playerID:Vi,credentials:Rs.generateCredentials(),role:"host",playerName:n||e||"Player"};const i=Wy(t),a=hf(t),c=eg(t);c&&c.playerID!==Vi&&(a.delete(c.playerID),pf(t,a));const u=n||c?.playerName||"Player",f={playerID:Vi,credentials:Rs.generateCredentials(),role:"host",playerName:u};localStorage.setItem(i,JSON.stringify(f));try{sessionStorage.setItem("musicshowdown.lastRole","host")}catch{}return f}const U8=()=>typeof window>"u"?"Player":localStorage.getItem("playerName")||"Player",z8=t=>{if(typeof window>"u")return t;const e=sessionStorage.getItem("musicshowdown.pendingRole");if(e==="host"||e==="peer")return sessionStorage.removeItem("musicshowdown.pendingRole"),e;const n=sessionStorage.getItem("musicshowdown.lastRole");return n==="host"||n==="peer"?n:t},I8=(t,e)=>{const n=eg(t);if(n)return typeof window<"u"&&sessionStorage.setItem("musicshowdown.lastRole",n.role),n;const i=z8(e),a=$C(t,i,U8());return typeof window<"u"&&sessionStorage.setItem("musicshowdown.lastRole",a.role),a};function B8({roomCode:t,defaultRole:e,board:n}){const[i,a]=T.useState(()=>I8(t,e));T.useEffect(()=>{typeof window<"u"&&sessionStorage.setItem("musicshowdown.lastRole",i.role)},[i.role]);const c=T.useCallback(h=>{const m=h.trim().slice(0,24);if(!m)return;typeof window<"u"&&localStorage.setItem("playerName",m);const g=$C(t,i.role,m);a(g)},[i.role,t]),u=T.useCallback(h=>{a(m=>{const g=h?.trim().slice(0,24)||m.playerName;return L8(t,g)})},[t]),f=T.useMemo(()=>{const h=n;return function(g){return b.jsx(h,{...g,identity:i,isHost:i.role==="host",updatePlayerName:c,promoteToHost:u})}},[n,i,u,c]),d=T.useMemo(()=>$E({game:LN,board:f,multiplayer:Rs.P2P({isHost:i.role==="host"}),numPlayers:Nc,debug:!1,loading:()=>b.jsx(k8,{title:"Connecting to your room",description:"Setting the stage and syncing players. Hang tightthis should only take a moment.",roomCode:t,topRightSlot:b.jsx("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:b.jsx(gy,{})})})}),[f,i.role]);return b.jsx(d,{matchID:t,playerID:i.playerID,credentials:i.credentials},`${t}:${i.playerID}:${i.credentials}:${i.role}`)}const Gf=MA({component:TP}),H8=Sf({getParentRoute:()=>Gf,path:"/music-showdown/",component:kP}),VC=Sf({getParentRoute:()=>Gf,path:"/music-showdown/game/$roomCode",component:()=>{const{roomCode:t}=VC.useParams();return typeof window<"u"&&(sessionStorage.getItem("musicshowdown.pendingRole")||sessionStorage.setItem("musicshowdown.pendingRole","peer")),b.jsx(B8,{roomCode:t,defaultRole:"peer",board:BN})}}),$8=Sf({getParentRoute:()=>Gf,path:"*",component:HN}),V8=Gf.addChildren([H8,VC,$8]),q8=IA({routeTree:V8});e2.createRoot(document.getElementById("root")).render(b.jsx($A,{router:q8}));
