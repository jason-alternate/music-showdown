function rS(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in t)){const c=Object.getOwnPropertyDescriptor(s,a);c&&Object.defineProperty(t,a,c.get?c:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var zx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $c(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vf(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function s(){var a=!1;try{a=this instanceof s}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var a=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return t[s]}})}),n}var ep={exports:{}},ac={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bx;function XR(){if(Bx)return ac;Bx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,c){var u=null;if(c!==void 0&&(u=""+c),a.key!==void 0&&(u=""+a.key),"key"in a){c={};for(var f in a)f!=="key"&&(c[f]=a[f])}else c=a;return a=c.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:c}}return ac.Fragment=e,ac.jsx=n,ac.jsxs=n,ac}var Hx;function QR(){return Hx||(Hx=1,ep.exports=XR()),ep.exports}var b=QR(),tp={exports:{}},oc={},np={exports:{}},rp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x;function ZR(){return $x||($x=1,(function(t){function e(H,ie){var X=H.length;H.push(ie);e:for(;0<X;){var je=X-1>>>1,Je=H[je];if(0<a(Je,ie))H[je]=ie,H[X]=Je,X=je;else break e}}function n(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var ie=H[0],X=H.pop();if(X!==ie){H[0]=X;e:for(var je=0,Je=H.length,I=Je>>>1;je<I;){var se=2*(je+1)-1,de=H[se],xe=se+1,_e=H[xe];if(0>a(de,X))xe<Je&&0>a(_e,de)?(H[je]=_e,H[xe]=X,je=xe):(H[je]=de,H[se]=X,je=se);else if(xe<Je&&0>a(_e,X))H[je]=_e,H[xe]=X,je=xe;else break e}}return ie}function a(H,ie){var X=H.sortIndex-ie.sortIndex;return X!==0?X:H.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var d=[],p=[],y=1,g=null,v=3,S=!1,w=!1,E=!1,M=!1,P=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function j(H){for(var ie=n(p);ie!==null;){if(ie.callback===null)s(p);else if(ie.startTime<=H)s(p),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=n(p)}}function F(H){if(E=!1,j(H),!w)if(n(d)!==null)w=!0,J||(J=!0,ge());else{var ie=n(p);ie!==null&&Te(F,ie.startTime-H)}}var J=!1,Y=-1,G=5,me=-1;function be(){return M?!0:!(t.unstable_now()-me<G)}function we(){if(M=!1,J){var H=t.unstable_now();me=H;var ie=!0;try{e:{w=!1,E&&(E=!1,D(Y),Y=-1),S=!0;var X=v;try{t:{for(j(H),g=n(d);g!==null&&!(g.expirationTime>H&&be());){var je=g.callback;if(typeof je=="function"){g.callback=null,v=g.priorityLevel;var Je=je(g.expirationTime<=H);if(H=t.unstable_now(),typeof Je=="function"){g.callback=Je,j(H),ie=!0;break t}g===n(d)&&s(d),j(H)}else s(d);g=n(d)}if(g!==null)ie=!0;else{var I=n(p);I!==null&&Te(F,I.startTime-H),ie=!1}}break e}finally{g=null,v=X,S=!1}ie=void 0}}finally{ie?ge():J=!1}}}var ge;if(typeof k=="function")ge=function(){k(we)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,pe=Ee.port2;Ee.port1.onmessage=we,ge=function(){pe.postMessage(null)}}else ge=function(){P(we,0)};function Te(H,ie){Y=P(function(){H(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(H){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var X=v;v=ie;try{return H()}finally{v=X}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(H,ie){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var X=v;v=H;try{return ie()}finally{v=X}},t.unstable_scheduleCallback=function(H,ie,X){var je=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?je+X:je):X=je,H){case 1:var Je=-1;break;case 2:Je=250;break;case 5:Je=1073741823;break;case 4:Je=1e4;break;default:Je=5e3}return Je=X+Je,H={id:y++,callback:ie,priorityLevel:H,startTime:X,expirationTime:Je,sortIndex:-1},X>je?(H.sortIndex=X,e(p,H),n(d)===null&&H===n(p)&&(E?(D(Y),Y=-1):E=!0,Te(F,X-je))):(H.sortIndex=Je,e(d,H),w||S||(w=!0,J||(J=!0,ge()))),H},t.unstable_shouldYield=be,t.unstable_wrapCallback=function(H){var ie=v;return function(){var X=v;v=ie;try{return H.apply(this,arguments)}finally{v=X}}}})(rp)),rp}var Vx;function JR(){return Vx||(Vx=1,np.exports=ZR()),np.exports}var sp={exports:{}},ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qx;function WR(){if(qx)return ft;qx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function S(I){return I===null||typeof I!="object"?null:(I=v&&I[v]||I["@@iterator"],typeof I=="function"?I:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,M={};function P(I,se,de){this.props=I,this.context=se,this.refs=M,this.updater=de||w}P.prototype.isReactComponent={},P.prototype.setState=function(I,se){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,se,"setState")},P.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function D(){}D.prototype=P.prototype;function k(I,se,de){this.props=I,this.context=se,this.refs=M,this.updater=de||w}var j=k.prototype=new D;j.constructor=k,E(j,P.prototype),j.isPureReactComponent=!0;var F=Array.isArray;function J(){}var Y={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function me(I,se,de){var xe=de.ref;return{$$typeof:t,type:I,key:se,ref:xe!==void 0?xe:null,props:de}}function be(I,se){return me(I.type,se,I.props)}function we(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function ge(I){var se={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(de){return se[de]})}var Ee=/\/+/g;function pe(I,se){return typeof I=="object"&&I!==null&&I.key!=null?ge(""+I.key):se.toString(36)}function Te(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(J,J):(I.status="pending",I.then(function(se){I.status==="pending"&&(I.status="fulfilled",I.value=se)},function(se){I.status==="pending"&&(I.status="rejected",I.reason=se)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function H(I,se,de,xe,_e){var Re=typeof I;(Re==="undefined"||Re==="boolean")&&(I=null);var ze=!1;if(I===null)ze=!0;else switch(Re){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(I.$$typeof){case t:case e:ze=!0;break;case y:return ze=I._init,H(ze(I._payload),se,de,xe,_e)}}if(ze)return _e=_e(I),ze=xe===""?"."+pe(I,0):xe,F(_e)?(de="",ze!=null&&(de=ze.replace(Ee,"$&/")+"/"),H(_e,se,de,"",function(Q){return Q})):_e!=null&&(we(_e)&&(_e=be(_e,de+(_e.key==null||I&&I.key===_e.key?"":(""+_e.key).replace(Ee,"$&/")+"/")+ze)),se.push(_e)),1;ze=0;var Nt=xe===""?".":xe+":";if(F(I))for(var z=0;z<I.length;z++)xe=I[z],Re=Nt+pe(xe,z),ze+=H(xe,se,de,Re,_e);else if(z=S(I),typeof z=="function")for(I=z.call(I),z=0;!(xe=I.next()).done;)xe=xe.value,Re=Nt+pe(xe,z++),ze+=H(xe,se,de,Re,_e);else if(Re==="object"){if(typeof I.then=="function")return H(Te(I),se,de,xe,_e);throw se=String(I),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return ze}function ie(I,se,de){if(I==null)return I;var xe=[],_e=0;return H(I,xe,"","",function(Re){return se.call(de,Re,_e++)}),xe}function X(I){if(I._status===-1){var se=I._result;se=se(),se.then(function(de){(I._status===0||I._status===-1)&&(I._status=1,I._result=de)},function(de){(I._status===0||I._status===-1)&&(I._status=2,I._result=de)}),I._status===-1&&(I._status=0,I._result=se)}if(I._status===1)return I._result.default;throw I._result}var je=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Je={map:ie,forEach:function(I,se,de){ie(I,function(){se.apply(this,arguments)},de)},count:function(I){var se=0;return ie(I,function(){se++}),se},toArray:function(I){return ie(I,function(se){return se})||[]},only:function(I){if(!we(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return ft.Activity=g,ft.Children=Je,ft.Component=P,ft.Fragment=n,ft.Profiler=a,ft.PureComponent=k,ft.StrictMode=s,ft.Suspense=d,ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,ft.__COMPILER_RUNTIME={__proto__:null,c:function(I){return Y.H.useMemoCache(I)}},ft.cache=function(I){return function(){return I.apply(null,arguments)}},ft.cacheSignal=function(){return null},ft.cloneElement=function(I,se,de){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var xe=E({},I.props),_e=I.key;if(se!=null)for(Re in se.key!==void 0&&(_e=""+se.key),se)!G.call(se,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&se.ref===void 0||(xe[Re]=se[Re]);var Re=arguments.length-2;if(Re===1)xe.children=de;else if(1<Re){for(var ze=Array(Re),Nt=0;Nt<Re;Nt++)ze[Nt]=arguments[Nt+2];xe.children=ze}return me(I.type,_e,xe)},ft.createContext=function(I){return I={$$typeof:u,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},ft.createElement=function(I,se,de){var xe,_e={},Re=null;if(se!=null)for(xe in se.key!==void 0&&(Re=""+se.key),se)G.call(se,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(_e[xe]=se[xe]);var ze=arguments.length-2;if(ze===1)_e.children=de;else if(1<ze){for(var Nt=Array(ze),z=0;z<ze;z++)Nt[z]=arguments[z+2];_e.children=Nt}if(I&&I.defaultProps)for(xe in ze=I.defaultProps,ze)_e[xe]===void 0&&(_e[xe]=ze[xe]);return me(I,Re,_e)},ft.createRef=function(){return{current:null}},ft.forwardRef=function(I){return{$$typeof:f,render:I}},ft.isValidElement=we,ft.lazy=function(I){return{$$typeof:y,_payload:{_status:-1,_result:I},_init:X}},ft.memo=function(I,se){return{$$typeof:p,type:I,compare:se===void 0?null:se}},ft.startTransition=function(I){var se=Y.T,de={};Y.T=de;try{var xe=I(),_e=Y.S;_e!==null&&_e(de,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(J,je)}catch(Re){je(Re)}finally{se!==null&&de.types!==null&&(se.types=de.types),Y.T=se}},ft.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},ft.use=function(I){return Y.H.use(I)},ft.useActionState=function(I,se,de){return Y.H.useActionState(I,se,de)},ft.useCallback=function(I,se){return Y.H.useCallback(I,se)},ft.useContext=function(I){return Y.H.useContext(I)},ft.useDebugValue=function(){},ft.useDeferredValue=function(I,se){return Y.H.useDeferredValue(I,se)},ft.useEffect=function(I,se){return Y.H.useEffect(I,se)},ft.useEffectEvent=function(I){return Y.H.useEffectEvent(I)},ft.useId=function(){return Y.H.useId()},ft.useImperativeHandle=function(I,se,de){return Y.H.useImperativeHandle(I,se,de)},ft.useInsertionEffect=function(I,se){return Y.H.useInsertionEffect(I,se)},ft.useLayoutEffect=function(I,se){return Y.H.useLayoutEffect(I,se)},ft.useMemo=function(I,se){return Y.H.useMemo(I,se)},ft.useOptimistic=function(I,se){return Y.H.useOptimistic(I,se)},ft.useReducer=function(I,se,de){return Y.H.useReducer(I,se,de)},ft.useRef=function(I){return Y.H.useRef(I)},ft.useState=function(I){return Y.H.useState(I)},ft.useSyncExternalStore=function(I,se,de){return Y.H.useSyncExternalStore(I,se,de)},ft.useTransition=function(){return Y.H.useTransition()},ft.version="19.2.0",ft}var Fx;function Vc(){return Fx||(Fx=1,sp.exports=WR()),sp.exports}var ip={exports:{}},Fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yx;function e2(){if(Yx)return Fn;Yx=1;var t=Vc();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function c(d,p,y){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:d,containerInfo:p,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fn.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(d,p,null,y)},Fn.flushSync=function(d){var p=u.T,y=s.p;try{if(u.T=null,s.p=2,d)return d()}finally{u.T=p,s.p=y,s.d.f()}},Fn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(d,p))},Fn.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Fn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,g=f(y,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?s.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:S}):y==="script"&&s.d.X(d,{crossOrigin:g,integrity:v,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Fn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);s.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(d)},Fn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,g=f(y,p.crossOrigin);s.d.L(d,y,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Fn.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=f(p.as,p.crossOrigin);s.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(d)},Fn.requestFormReset=function(d){s.d.r(d)},Fn.unstable_batchedUpdates=function(d,p){return d(p)},Fn.useFormState=function(d,p,y){return u.H.useFormState(d,p,y)},Fn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Fn.version="19.2.0",Fn}var Gx;function sS(){if(Gx)return ip.exports;Gx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ip.exports=e2(),ip.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx;function t2(){if(Kx)return oc;Kx=1;var t=JR(),e=Vc(),n=sS();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function c(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function u(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function f(r){if(r.tag===31){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(c(r)!==r)throw Error(s(188))}function p(r){var i=r.alternate;if(!i){if(i=c(r),i===null)throw Error(s(188));return i!==r?null:r}for(var o=r,l=i;;){var h=o.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){o=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===o)return d(h),r;if(m===l)return d(h),i;m=m.sibling}throw Error(s(188))}if(o.return!==l.return)o=h,l=m;else{for(var _=!1,O=h.child;O;){if(O===o){_=!0,o=h,l=m;break}if(O===l){_=!0,l=h,o=m;break}O=O.sibling}if(!_){for(O=m.child;O;){if(O===o){_=!0,o=m,l=h;break}if(O===l){_=!0,l=m,o=h;break}O=O.sibling}if(!_)throw Error(s(189))}}if(o.alternate!==l)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:i}function y(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=y(r),i!==null)return i;r=r.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),k=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),me=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),we=Symbol.iterator;function ge(r){return r===null||typeof r!="object"?null:(r=we&&r[we]||r["@@iterator"],typeof r=="function"?r:null)}var Ee=Symbol.for("react.client.reference");function pe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===Ee?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case P:return"Profiler";case M:return"StrictMode";case F:return"Suspense";case J:return"SuspenseList";case me:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case w:return"Portal";case k:return r.displayName||"Context";case D:return(r._context.displayName||"Context")+".Consumer";case j:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Y:return i=r.displayName||null,i!==null?i:pe(r.type)||"Memo";case G:i=r._payload,r=r._init;try{return pe(r(i))}catch{}}return null}var Te=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},je=[],Je=-1;function I(r){return{current:r}}function se(r){0>Je||(r.current=je[Je],je[Je]=null,Je--)}function de(r,i){Je++,je[Je]=r.current,r.current=i}var xe=I(null),_e=I(null),Re=I(null),ze=I(null);function Nt(r,i){switch(de(Re,i),de(_e,r),de(xe,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?cx(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=cx(i),r=lx(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}se(xe),de(xe,r)}function z(){se(xe),se(_e),se(Re)}function Q(r){r.memoizedState!==null&&de(ze,r);var i=xe.current,o=lx(i,r.type);i!==o&&(de(_e,r),de(xe,o))}function le(r){_e.current===r&&(se(xe),se(_e)),ze.current===r&&(se(ze),nc._currentValue=X)}var Pe,Le;function Ue(r){if(Pe===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Pe=i&&i[1]||"",Le=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pe+r+Le}var Dt=!1;function bt(r,i){if(!r||Dt)return"";Dt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ne){var W=ne}Reflect.construct(r,[],he)}else{try{he.call()}catch(ne){W=ne}r.call(he.prototype)}}else{try{throw Error()}catch(ne){W=ne}(he=r())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ne){if(ne&&W&&typeof ne.stack=="string")return[ne.stack,W.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),_=m[0],O=m[1];if(_&&O){var U=_.split(`
`),Z=O.split(`
`);for(h=l=0;l<U.length&&!U[l].includes("DetermineComponentFrameRoot");)l++;for(;h<Z.length&&!Z[h].includes("DetermineComponentFrameRoot");)h++;if(l===U.length||h===Z.length)for(l=U.length-1,h=Z.length-1;1<=l&&0<=h&&U[l]!==Z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(U[l]!==Z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||U[l]!==Z[h]){var oe=`
`+U[l].replace(" at new "," at ");return r.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",r.displayName)),oe}while(1<=l&&0<=h);break}}}finally{Dt=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Ue(o):""}function Zt(r,i){switch(r.tag){case 26:case 27:case 5:return Ue(r.type);case 16:return Ue("Lazy");case 13:return r.child!==i&&i!==null?Ue("Suspense Fallback"):Ue("Suspense");case 19:return Ue("SuspenseList");case 0:case 15:return bt(r.type,!1);case 11:return bt(r.type.render,!1);case 1:return bt(r.type,!0);case 31:return Ue("Activity");default:return""}}function Bt(r){try{var i="",o=null;do i+=Zt(r,o),o=r,r=r.return;while(r);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var xt=Object.prototype.hasOwnProperty,kt=t.unstable_scheduleCallback,Gt=t.unstable_cancelCallback,Rn=t.unstable_shouldYield,at=t.unstable_requestPaint,dt=t.unstable_now,Wt=t.unstable_getCurrentPriorityLevel,Dn=t.unstable_ImmediatePriority,fr=t.unstable_UserBlockingPriority,An=t.unstable_NormalPriority,zr=t.unstable_LowPriority,dr=t.unstable_IdlePriority,Wr=t.log,Ni=t.unstable_setDisableYieldValue,hr=null,un=null;function kn(r){if(typeof Wr=="function"&&Ni(r),un&&typeof un.setStrictMode=="function")try{un.setStrictMode(hr,r)}catch{}}var yn=Math.clz32?Math.clz32:Ss,Zs=Math.log,bs=Math.LN2;function Ss(r){return r>>>=0,r===0?32:31-(Zs(r)/bs|0)|0}var es=256,_s=262144,Js=4194304;function Br(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function In(r,i,o){var l=r.pendingLanes;if(l===0)return 0;var h=0,m=r.suspendedLanes,_=r.pingedLanes;r=r.warmLanes;var O=l&134217727;return O!==0?(l=O&~m,l!==0?h=Br(l):(_&=O,_!==0?h=Br(_):o||(o=O&~r,o!==0&&(h=Br(o))))):(O=l&~m,O!==0?h=Br(O):_!==0?h=Br(_):o||(o=l&~r,o!==0&&(h=Br(o)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,o=i&-i,m>=o||m===32&&(o&4194048)!==0)?i:h}function qn(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Hr(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ws(){var r=Js;return Js<<=1,(Js&62914560)===0&&(Js=4194304),r}function re(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function Se(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function it(r,i,o,l,h,m){var _=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var O=r.entanglements,U=r.expirationTimes,Z=r.hiddenUpdates;for(o=_&~o;0<o;){var oe=31-yn(o),he=1<<oe;O[oe]=0,U[oe]=-1;var W=Z[oe];if(W!==null)for(Z[oe]=null,oe=0;oe<W.length;oe++){var ne=W[oe];ne!==null&&(ne.lane&=-536870913)}o&=~he}l!==0&&mt(r,l,0),m!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=m&~(_&~i))}function mt(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var l=31-yn(i);r.entangledLanes|=i,r.entanglements[l]=r.entanglements[l]|1073741824|o&261930}function wt(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var l=31-yn(o),h=1<<l;h&i|r[l]&i&&(r[l]|=i),o&=~h}}function C(r,i){var o=i&-i;return o=(o&42)!==0?1:A(o),(o&(r.suspendedLanes|i))!==0?0:o}function A(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function R(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function x(){var r=ie.p;return r!==0?r:(r=window.event,r===void 0?32:Nx(r.type))}function N(r,i){var o=ie.p;try{return ie.p=r,i()}finally{ie.p=o}}var $=Math.random().toString(36).slice(2),V="__reactFiber$"+$,ae="__reactProps$"+$,Ce="__reactContainer$"+$,Be="__reactEvents$"+$,Me="__reactListeners$"+$,Ot="__reactHandles$"+$,De="__reactResources$"+$,Ze="__reactMarker$"+$;function nt(r){delete r[V],delete r[ae],delete r[Be],delete r[Me],delete r[Ot]}function st(r){var i=r[V];if(i)return i;for(var o=r.parentNode;o;){if(i=o[Ce]||o[V]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=yx(r);r!==null;){if(o=r[V])return o;r=yx(r)}return i}r=o,o=r.parentNode}return null}function rt(r){if(r=r[V]||r[Ce]){var i=r.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return r}return null}function We(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function et(r){var i=r[De];return i||(i=r[De]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function He(r){r[Ze]=!0}var Ie=new Set,Ke={};function Ae(r,i){Ne(r,i),Ne(r+"Capture",i)}function Ne(r,i){for(Ke[r]=i,r=0;r<i.length;r++)Ie.add(i[r])}var Ve=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oe={},ee={};function te(r){return xt.call(ee,r)?!0:xt.call(Oe,r)?!1:Ve.test(r)?ee[r]=!0:(Oe[r]=!0,!1)}function ve(r,i,o){if(te(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function fe(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function ce(r,i,o,l){if(l===null)r.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+l)}}function ye(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Xe(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ut(r,i,o){var l=Object.getOwnPropertyDescriptor(r.constructor.prototype,i);if(!r.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,m=l.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){o=""+_,m.call(this,_)}}),Object.defineProperty(r,i,{enumerable:l.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function ct(r){if(!r._valueTracker){var i=Xe(r)?"checked":"value";r._valueTracker=ut(r,i,""+r[i])}}function lt(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),l="";return r&&(l=Xe(r)?r.checked?"true":"false":r.value),r=l,r!==o?(i.setValue(r),!0):!1}function L(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var yt=/[\n"\\]/g;function ot(r){return r.replace(yt,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ct(r,i,o,l,h,m,_,O){r.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?r.type=_:r.removeAttribute("type"),i!=null?_==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+ye(i)):r.value!==""+ye(i)&&(r.value=""+ye(i)):_!=="submit"&&_!=="reset"||r.removeAttribute("value"),i!=null?_t(r,_,ye(i)):o!=null?_t(r,_,ye(o)):l!=null&&r.removeAttribute("value"),h==null&&m!=null&&(r.defaultChecked=!!m),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.name=""+ye(O):r.removeAttribute("name")}function ht(r,i,o,l,h,m,_,O){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),i!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){ct(r);return}o=o!=null?""+ye(o):"",i=i!=null?""+ye(i):o,O||i===r.value||(r.value=i),r.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,r.checked=O?r.checked:!!l,r.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.name=_),ct(r)}function _t(r,i,o){i==="number"&&L(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function gt(r,i,o,l){if(r=r.options,i){i={};for(var h=0;h<o.length;h++)i["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=i.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&l&&(r[o].defaultSelected=!0)}else{for(o=""+ye(o),i=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,l&&(r[h].defaultSelected=!0);return}i!==null||r[h].disabled||(i=r[h])}i!==null&&(i.selected=!0)}}function sn(r,i,o){if(i!=null&&(i=""+ye(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+ye(o):""}function jt(r,i,o,l){if(i==null){if(l!=null){if(o!=null)throw Error(s(92));if(Te(l)){if(1<l.length)throw Error(s(93));l=l[0]}o=l}o==null&&(o=""),i=o}o=ye(i),r.defaultValue=o,l=r.textContent,l===o&&l!==""&&l!==null&&(r.value=l),ct(r)}function Vt(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var an=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function en(r,i,o){var l=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?l?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":l?r.setProperty(i,o):typeof o!="number"||o===0||an.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function fn(r,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,o!=null){for(var l in o)!o.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&o[h]!==l&&en(r,h,l)}else for(var m in i)i.hasOwnProperty(m)&&en(r,m,i[m])}function bn(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ln=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jc(r){return Ln.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function ws(){}var Zf=null;function Jf(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ya=null,ga=null;function og(r){var i=rt(r);if(i&&(r=i.stateNode)){var o=r[ae]||null;e:switch(r=i.stateNode,i.type){case"input":if(Ct(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ot(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var l=o[i];if(l!==r&&l.form===r.form){var h=l[ae]||null;if(!h)throw Error(s(90));Ct(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<o.length;i++)l=o[i],l.form===r.form&&lt(l)}break e;case"textarea":sn(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&gt(r,!!o.multiple,i,!1)}}}var Wf=!1;function cg(r,i,o){if(Wf)return r(i,o);Wf=!0;try{var l=r(i);return l}finally{if(Wf=!1,(ya!==null||ga!==null)&&(zl(),ya&&(i=ya,r=ga,ga=ya=null,og(i),r)))for(i=0;i<r.length;i++)og(r[i])}}function xo(r,i){var o=r.stateNode;if(o===null)return null;var l=o[ae]||null;if(l===null)return null;o=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(r=r.type,l=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!l;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var Cs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ed=!1;if(Cs)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){ed=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{ed=!1}var ei=null,td=null,Wc=null;function lg(){if(Wc)return Wc;var r,i=td,o=i.length,l,h="value"in ei?ei.value:ei.textContent,m=h.length;for(r=0;r<o&&i[r]===h[r];r++);var _=o-r;for(l=1;l<=_&&i[o-l]===h[m-l];l++);return Wc=h.slice(r,1<l?1-l:void 0)}function el(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function tl(){return!0}function ug(){return!1}function nr(r){function i(o,l,h,m,_){this._reactName=o,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var O in r)r.hasOwnProperty(O)&&(o=r[O],this[O]=o?o(m):m[O]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?tl:ug,this.isPropagationStopped=ug,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=tl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=tl)},persist:function(){},isPersistent:tl}),i}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nl=nr(Di),So=g({},Di,{view:0,detail:0}),GE=nr(So),nd,rd,_o,rl=g({},So,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:id,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==_o&&(_o&&r.type==="mousemove"?(nd=r.screenX-_o.screenX,rd=r.screenY-_o.screenY):rd=nd=0,_o=r),nd)},movementY:function(r){return"movementY"in r?r.movementY:rd}}),fg=nr(rl),KE=g({},rl,{dataTransfer:0}),XE=nr(KE),QE=g({},So,{relatedTarget:0}),sd=nr(QE),ZE=g({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),JE=nr(ZE),WE=g({},Di,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),eT=nr(WE),tT=g({},Di,{data:0}),dg=nr(tT),nT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iT(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=sT[r])?!!i[r]:!1}function id(){return iT}var aT=g({},So,{key:function(r){if(r.key){var i=nT[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=el(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?rT[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:id,charCode:function(r){return r.type==="keypress"?el(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?el(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),oT=nr(aT),cT=g({},rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hg=nr(cT),lT=g({},So,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:id}),uT=nr(lT),fT=g({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),dT=nr(fT),hT=g({},rl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),pT=nr(hT),mT=g({},Di,{newState:0,oldState:0}),yT=nr(mT),gT=[9,13,27,32],ad=Cs&&"CompositionEvent"in window,wo=null;Cs&&"documentMode"in document&&(wo=document.documentMode);var vT=Cs&&"TextEvent"in window&&!wo,pg=Cs&&(!ad||wo&&8<wo&&11>=wo),mg=" ",yg=!1;function gg(r,i){switch(r){case"keyup":return gT.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var va=!1;function xT(r,i){switch(r){case"compositionend":return vg(i);case"keypress":return i.which!==32?null:(yg=!0,mg);case"textInput":return r=i.data,r===mg&&yg?null:r;default:return null}}function bT(r,i){if(va)return r==="compositionend"||!ad&&gg(r,i)?(r=lg(),Wc=td=ei=null,va=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return pg&&i.locale!=="ko"?null:i.data;default:return null}}var ST={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xg(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!ST[r.type]:i==="textarea"}function bg(r,i,o,l){ya?ga?ga.push(l):ga=[l]:ya=l,i=Yl(i,"onChange"),0<i.length&&(o=new nl("onChange","change",null,o,l),r.push({event:o,listeners:i}))}var Co=null,Eo=null;function _T(r){nx(r,0)}function sl(r){var i=We(r);if(lt(i))return r}function Sg(r,i){if(r==="change")return i}var _g=!1;if(Cs){var od;if(Cs){var cd="oninput"in document;if(!cd){var wg=document.createElement("div");wg.setAttribute("oninput","return;"),cd=typeof wg.oninput=="function"}od=cd}else od=!1;_g=od&&(!document.documentMode||9<document.documentMode)}function Cg(){Co&&(Co.detachEvent("onpropertychange",Eg),Eo=Co=null)}function Eg(r){if(r.propertyName==="value"&&sl(Eo)){var i=[];bg(i,Eo,r,Jf(r)),cg(_T,i)}}function wT(r,i,o){r==="focusin"?(Cg(),Co=i,Eo=o,Co.attachEvent("onpropertychange",Eg)):r==="focusout"&&Cg()}function CT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return sl(Eo)}function ET(r,i){if(r==="click")return sl(i)}function TT(r,i){if(r==="input"||r==="change")return sl(i)}function RT(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var pr=typeof Object.is=="function"?Object.is:RT;function To(r,i){if(pr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),l=Object.keys(i);if(o.length!==l.length)return!1;for(l=0;l<o.length;l++){var h=o[l];if(!xt.call(i,h)||!pr(r[h],i[h]))return!1}return!0}function Tg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Rg(r,i){var o=Tg(r);r=0;for(var l;o;){if(o.nodeType===3){if(l=r+o.textContent.length,r<=i&&l>=i)return{node:o,offset:i-r};r=l}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Tg(o)}}function Ag(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Ag(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Og(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=L(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=L(r.document)}return i}function ld(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var AT=Cs&&"documentMode"in document&&11>=document.documentMode,xa=null,ud=null,Ro=null,fd=!1;function Mg(r,i,o){var l=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;fd||xa==null||xa!==L(l)||(l=xa,"selectionStart"in l&&ld(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ro&&To(Ro,l)||(Ro=l,l=Yl(ud,"onSelect"),0<l.length&&(i=new nl("onSelect","select",null,i,o),r.push({event:i,listeners:l}),i.target=xa)))}function ki(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var ba={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionrun:ki("Transition","TransitionRun"),transitionstart:ki("Transition","TransitionStart"),transitioncancel:ki("Transition","TransitionCancel"),transitionend:ki("Transition","TransitionEnd")},dd={},Pg={};Cs&&(Pg=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function ji(r){if(dd[r])return dd[r];if(!ba[r])return r;var i=ba[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in Pg)return dd[r]=i[o];return r}var Ng=ji("animationend"),Dg=ji("animationiteration"),kg=ji("animationstart"),OT=ji("transitionrun"),MT=ji("transitionstart"),PT=ji("transitioncancel"),jg=ji("transitionend"),Lg=new Map,hd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hd.push("scrollEnd");function $r(r,i){Lg.set(r,i),Ae(i,[r])}var il=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Rr=[],Sa=0,pd=0;function al(){for(var r=Sa,i=pd=Sa=0;i<r;){var o=Rr[i];Rr[i++]=null;var l=Rr[i];Rr[i++]=null;var h=Rr[i];Rr[i++]=null;var m=Rr[i];if(Rr[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}m!==0&&Ug(o,h,m)}}function ol(r,i,o,l){Rr[Sa++]=r,Rr[Sa++]=i,Rr[Sa++]=o,Rr[Sa++]=l,pd|=l,r.lanes|=l,r=r.alternate,r!==null&&(r.lanes|=l)}function md(r,i,o,l){return ol(r,i,o,l),cl(r)}function Li(r,i){return ol(r,null,null,i),cl(r)}function Ug(r,i,o){r.lanes|=o;var l=r.alternate;l!==null&&(l.lanes|=o);for(var h=!1,m=r.return;m!==null;)m.childLanes|=o,l=m.alternate,l!==null&&(l.childLanes|=o),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(h=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,h&&i!==null&&(h=31-yn(o),r=m.hiddenUpdates,l=r[h],l===null?r[h]=[i]:l.push(i),i.lane=o|536870912),m):null}function cl(r){if(50<Xo)throw Xo=0,Ch=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var _a={};function NT(r,i,o,l){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(r,i,o,l){return new NT(r,i,o,l)}function yd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Es(r,i){var o=r.alternate;return o===null?(o=mr(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Ig(r,i){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function ll(r,i,o,l,h,m){var _=0;if(l=r,typeof r=="function")yd(r)&&(_=1);else if(typeof r=="string")_=UR(r,o,xe.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case me:return r=mr(31,o,i,h),r.elementType=me,r.lanes=m,r;case E:return Ui(o.children,h,m,i);case M:_=8,h|=24;break;case P:return r=mr(12,o,i,h|2),r.elementType=P,r.lanes=m,r;case F:return r=mr(13,o,i,h),r.elementType=F,r.lanes=m,r;case J:return r=mr(19,o,i,h),r.elementType=J,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:_=10;break e;case D:_=9;break e;case j:_=11;break e;case Y:_=14;break e;case G:_=16,l=null;break e}_=29,o=Error(s(130,r===null?"null":typeof r,"")),l=null}return i=mr(_,o,i,h),i.elementType=r,i.type=l,i.lanes=m,i}function Ui(r,i,o,l){return r=mr(7,r,l,i),r.lanes=o,r}function gd(r,i,o){return r=mr(6,r,null,i),r.lanes=o,r}function zg(r){var i=mr(18,null,null,0);return i.stateNode=r,i}function vd(r,i,o){return i=mr(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var Bg=new WeakMap;function Ar(r,i){if(typeof r=="object"&&r!==null){var o=Bg.get(r);return o!==void 0?o:(i={value:r,source:i,stack:Bt(i)},Bg.set(r,i),i)}return{value:r,source:i,stack:Bt(i)}}var wa=[],Ca=0,ul=null,Ao=0,Or=[],Mr=0,ti=null,ts=1,ns="";function Ts(r,i){wa[Ca++]=Ao,wa[Ca++]=ul,ul=r,Ao=i}function Hg(r,i,o){Or[Mr++]=ts,Or[Mr++]=ns,Or[Mr++]=ti,ti=r;var l=ts;r=ns;var h=32-yn(l)-1;l&=~(1<<h),o+=1;var m=32-yn(i)+h;if(30<m){var _=h-h%5;m=(l&(1<<_)-1).toString(32),l>>=_,h-=_,ts=1<<32-yn(i)+h|o<<h|l,ns=m+r}else ts=1<<m|o<<h|l,ns=r}function xd(r){r.return!==null&&(Ts(r,1),Hg(r,1,0))}function bd(r){for(;r===ul;)ul=wa[--Ca],wa[Ca]=null,Ao=wa[--Ca],wa[Ca]=null;for(;r===ti;)ti=Or[--Mr],Or[Mr]=null,ns=Or[--Mr],Or[Mr]=null,ts=Or[--Mr],Or[Mr]=null}function $g(r,i){Or[Mr++]=ts,Or[Mr++]=ns,Or[Mr++]=ti,ts=i.id,ns=i.overflow,ti=r}var zn=null,tn=null,Mt=!1,ni=null,Pr=!1,Sd=Error(s(519));function ri(r){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Oo(Ar(i,r)),Sd}function Vg(r){var i=r.stateNode,o=r.type,l=r.memoizedProps;switch(i[V]=r,i[ae]=l,o){case"dialog":Tt("cancel",i),Tt("close",i);break;case"iframe":case"object":case"embed":Tt("load",i);break;case"video":case"audio":for(o=0;o<Zo.length;o++)Tt(Zo[o],i);break;case"source":Tt("error",i);break;case"img":case"image":case"link":Tt("error",i),Tt("load",i);break;case"details":Tt("toggle",i);break;case"input":Tt("invalid",i),ht(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Tt("invalid",i);break;case"textarea":Tt("invalid",i),jt(i,l.value,l.defaultValue,l.children)}o=l.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||l.suppressHydrationWarning===!0||ax(i.textContent,o)?(l.popover!=null&&(Tt("beforetoggle",i),Tt("toggle",i)),l.onScroll!=null&&Tt("scroll",i),l.onScrollEnd!=null&&Tt("scrollend",i),l.onClick!=null&&(i.onclick=ws),i=!0):i=!1,i||ri(r,!0)}function qg(r){for(zn=r.return;zn;)switch(zn.tag){case 5:case 31:case 13:Pr=!1;return;case 27:case 3:Pr=!0;return;default:zn=zn.return}}function Ea(r){if(r!==zn)return!1;if(!Mt)return qg(r),Mt=!0,!1;var i=r.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||zh(r.type,r.memoizedProps)),o=!o),o&&tn&&ri(r),qg(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));tn=mx(r)}else if(i===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));tn=mx(r)}else i===27?(i=tn,gi(r.type)?(r=qh,qh=null,tn=r):tn=i):tn=zn?Dr(r.stateNode.nextSibling):null;return!0}function Ii(){tn=zn=null,Mt=!1}function _d(){var r=ni;return r!==null&&(ar===null?ar=r:ar.push.apply(ar,r),ni=null),r}function Oo(r){ni===null?ni=[r]:ni.push(r)}var wd=I(null),zi=null,Rs=null;function si(r,i,o){de(wd,i._currentValue),i._currentValue=o}function As(r){r._currentValue=wd.current,se(wd)}function Cd(r,i,o){for(;r!==null;){var l=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),r===o)break;r=r.return}}function Ed(r,i,o,l){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var m=h.dependencies;if(m!==null){var _=h.child;m=m.firstContext;e:for(;m!==null;){var O=m;m=h;for(var U=0;U<i.length;U++)if(O.context===i[U]){m.lanes|=o,O=m.alternate,O!==null&&(O.lanes|=o),Cd(m.return,o,r),l||(_=null);break e}m=O.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=o,m=_.alternate,m!==null&&(m.lanes|=o),Cd(_,o,r),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===r){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ta(r,i,o,l){r=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var O=h.type;pr(h.pendingProps.value,_.value)||(r!==null?r.push(O):r=[O])}}else if(h===ze.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(nc):r=[nc])}h=h.return}r!==null&&Ed(i,r,o,l),i.flags|=262144}function fl(r){for(r=r.firstContext;r!==null;){if(!pr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Bi(r){zi=r,Rs=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Bn(r){return Fg(zi,r)}function dl(r,i){return zi===null&&Bi(r),Fg(r,i)}function Fg(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Rs===null){if(r===null)throw Error(s(308));Rs=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Rs=Rs.next=i;return o}var DT=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,l){r.push(l)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},kT=t.unstable_scheduleCallback,jT=t.unstable_NormalPriority,Sn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Td(){return{controller:new DT,data:new Map,refCount:0}}function Mo(r){r.refCount--,r.refCount===0&&kT(jT,function(){r.controller.abort()})}var Po=null,Rd=0,Ra=0,Aa=null;function LT(r,i){if(Po===null){var o=Po=[];Rd=0,Ra=Mh(),Aa={status:"pending",value:void 0,then:function(l){o.push(l)}}}return Rd++,i.then(Yg,Yg),i}function Yg(){if(--Rd===0&&Po!==null){Aa!==null&&(Aa.status="fulfilled");var r=Po;Po=null,Ra=0,Aa=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function UT(r,i){var o=[],l={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<o.length;h++)(0,o[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),l}var Gg=H.S;H.S=function(r,i){Mv=dt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&LT(r,i),Gg!==null&&Gg(r,i)};var Hi=I(null);function Ad(){var r=Hi.current;return r!==null?r:Jt.pooledCache}function hl(r,i){i===null?de(Hi,Hi.current):de(Hi,i.pool)}function Kg(){var r=Ad();return r===null?null:{parent:Sn._currentValue,pool:r}}var Oa=Error(s(460)),Od=Error(s(474)),pl=Error(s(542)),ml={then:function(){}};function Xg(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Qg(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(ws,ws),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Jg(r),r;default:if(typeof i.status=="string")i.then(ws,ws);else{if(r=Jt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Jg(r),r}throw Vi=i,Oa}}function $i(r){try{var i=r._init;return i(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Vi=o,Oa):o}}var Vi=null;function Zg(){if(Vi===null)throw Error(s(459));var r=Vi;return Vi=null,r}function Jg(r){if(r===Oa||r===pl)throw Error(s(483))}var Ma=null,No=0;function yl(r){var i=No;return No+=1,Ma===null&&(Ma=[]),Qg(Ma,r,i)}function Do(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function gl(r,i){throw i.$$typeof===v?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function Wg(r){function i(q,B){if(r){var K=q.deletions;K===null?(q.deletions=[B],q.flags|=16):K.push(B)}}function o(q,B){if(!r)return null;for(;B!==null;)i(q,B),B=B.sibling;return null}function l(q){for(var B=new Map;q!==null;)q.key!==null?B.set(q.key,q):B.set(q.index,q),q=q.sibling;return B}function h(q,B){return q=Es(q,B),q.index=0,q.sibling=null,q}function m(q,B,K){return q.index=K,r?(K=q.alternate,K!==null?(K=K.index,K<B?(q.flags|=67108866,B):K):(q.flags|=67108866,B)):(q.flags|=1048576,B)}function _(q){return r&&q.alternate===null&&(q.flags|=67108866),q}function O(q,B,K,ue){return B===null||B.tag!==6?(B=gd(K,q.mode,ue),B.return=q,B):(B=h(B,K),B.return=q,B)}function U(q,B,K,ue){var Qe=K.type;return Qe===E?oe(q,B,K.props.children,ue,K.key):B!==null&&(B.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===G&&$i(Qe)===B.type)?(B=h(B,K.props),Do(B,K),B.return=q,B):(B=ll(K.type,K.key,K.props,null,q.mode,ue),Do(B,K),B.return=q,B)}function Z(q,B,K,ue){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=vd(K,q.mode,ue),B.return=q,B):(B=h(B,K.children||[]),B.return=q,B)}function oe(q,B,K,ue,Qe){return B===null||B.tag!==7?(B=Ui(K,q.mode,ue,Qe),B.return=q,B):(B=h(B,K),B.return=q,B)}function he(q,B,K){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=gd(""+B,q.mode,K),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return K=ll(B.type,B.key,B.props,null,q.mode,K),Do(K,B),K.return=q,K;case w:return B=vd(B,q.mode,K),B.return=q,B;case G:return B=$i(B),he(q,B,K)}if(Te(B)||ge(B))return B=Ui(B,q.mode,K,null),B.return=q,B;if(typeof B.then=="function")return he(q,yl(B),K);if(B.$$typeof===k)return he(q,dl(q,B),K);gl(q,B)}return null}function W(q,B,K,ue){var Qe=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Qe!==null?null:O(q,B,""+K,ue);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case S:return K.key===Qe?U(q,B,K,ue):null;case w:return K.key===Qe?Z(q,B,K,ue):null;case G:return K=$i(K),W(q,B,K,ue)}if(Te(K)||ge(K))return Qe!==null?null:oe(q,B,K,ue,null);if(typeof K.then=="function")return W(q,B,yl(K),ue);if(K.$$typeof===k)return W(q,B,dl(q,K),ue);gl(q,K)}return null}function ne(q,B,K,ue,Qe){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return q=q.get(K)||null,O(B,q,""+ue,Qe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case S:return q=q.get(ue.key===null?K:ue.key)||null,U(B,q,ue,Qe);case w:return q=q.get(ue.key===null?K:ue.key)||null,Z(B,q,ue,Qe);case G:return ue=$i(ue),ne(q,B,K,ue,Qe)}if(Te(ue)||ge(ue))return q=q.get(K)||null,oe(B,q,ue,Qe,null);if(typeof ue.then=="function")return ne(q,B,K,yl(ue),Qe);if(ue.$$typeof===k)return ne(q,B,K,dl(B,ue),Qe);gl(B,ue)}return null}function $e(q,B,K,ue){for(var Qe=null,Lt=null,Ge=B,vt=B=0,At=null;Ge!==null&&vt<K.length;vt++){Ge.index>vt?(At=Ge,Ge=null):At=Ge.sibling;var Ut=W(q,Ge,K[vt],ue);if(Ut===null){Ge===null&&(Ge=At);break}r&&Ge&&Ut.alternate===null&&i(q,Ge),B=m(Ut,B,vt),Lt===null?Qe=Ut:Lt.sibling=Ut,Lt=Ut,Ge=At}if(vt===K.length)return o(q,Ge),Mt&&Ts(q,vt),Qe;if(Ge===null){for(;vt<K.length;vt++)Ge=he(q,K[vt],ue),Ge!==null&&(B=m(Ge,B,vt),Lt===null?Qe=Ge:Lt.sibling=Ge,Lt=Ge);return Mt&&Ts(q,vt),Qe}for(Ge=l(Ge);vt<K.length;vt++)At=ne(Ge,q,vt,K[vt],ue),At!==null&&(r&&At.alternate!==null&&Ge.delete(At.key===null?vt:At.key),B=m(At,B,vt),Lt===null?Qe=At:Lt.sibling=At,Lt=At);return r&&Ge.forEach(function(_i){return i(q,_i)}),Mt&&Ts(q,vt),Qe}function tt(q,B,K,ue){if(K==null)throw Error(s(151));for(var Qe=null,Lt=null,Ge=B,vt=B=0,At=null,Ut=K.next();Ge!==null&&!Ut.done;vt++,Ut=K.next()){Ge.index>vt?(At=Ge,Ge=null):At=Ge.sibling;var _i=W(q,Ge,Ut.value,ue);if(_i===null){Ge===null&&(Ge=At);break}r&&Ge&&_i.alternate===null&&i(q,Ge),B=m(_i,B,vt),Lt===null?Qe=_i:Lt.sibling=_i,Lt=_i,Ge=At}if(Ut.done)return o(q,Ge),Mt&&Ts(q,vt),Qe;if(Ge===null){for(;!Ut.done;vt++,Ut=K.next())Ut=he(q,Ut.value,ue),Ut!==null&&(B=m(Ut,B,vt),Lt===null?Qe=Ut:Lt.sibling=Ut,Lt=Ut);return Mt&&Ts(q,vt),Qe}for(Ge=l(Ge);!Ut.done;vt++,Ut=K.next())Ut=ne(Ge,q,vt,Ut.value,ue),Ut!==null&&(r&&Ut.alternate!==null&&Ge.delete(Ut.key===null?vt:Ut.key),B=m(Ut,B,vt),Lt===null?Qe=Ut:Lt.sibling=Ut,Lt=Ut);return r&&Ge.forEach(function(KR){return i(q,KR)}),Mt&&Ts(q,vt),Qe}function Qt(q,B,K,ue){if(typeof K=="object"&&K!==null&&K.type===E&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case S:e:{for(var Qe=K.key;B!==null;){if(B.key===Qe){if(Qe=K.type,Qe===E){if(B.tag===7){o(q,B.sibling),ue=h(B,K.props.children),ue.return=q,q=ue;break e}}else if(B.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===G&&$i(Qe)===B.type){o(q,B.sibling),ue=h(B,K.props),Do(ue,K),ue.return=q,q=ue;break e}o(q,B);break}else i(q,B);B=B.sibling}K.type===E?(ue=Ui(K.props.children,q.mode,ue,K.key),ue.return=q,q=ue):(ue=ll(K.type,K.key,K.props,null,q.mode,ue),Do(ue,K),ue.return=q,q=ue)}return _(q);case w:e:{for(Qe=K.key;B!==null;){if(B.key===Qe)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){o(q,B.sibling),ue=h(B,K.children||[]),ue.return=q,q=ue;break e}else{o(q,B);break}else i(q,B);B=B.sibling}ue=vd(K,q.mode,ue),ue.return=q,q=ue}return _(q);case G:return K=$i(K),Qt(q,B,K,ue)}if(Te(K))return $e(q,B,K,ue);if(ge(K)){if(Qe=ge(K),typeof Qe!="function")throw Error(s(150));return K=Qe.call(K),tt(q,B,K,ue)}if(typeof K.then=="function")return Qt(q,B,yl(K),ue);if(K.$$typeof===k)return Qt(q,B,dl(q,K),ue);gl(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,B!==null&&B.tag===6?(o(q,B.sibling),ue=h(B,K),ue.return=q,q=ue):(o(q,B),ue=gd(K,q.mode,ue),ue.return=q,q=ue),_(q)):o(q,B)}return function(q,B,K,ue){try{No=0;var Qe=Qt(q,B,K,ue);return Ma=null,Qe}catch(Ge){if(Ge===Oa||Ge===pl)throw Ge;var Lt=mr(29,Ge,null,q.mode);return Lt.lanes=ue,Lt.return=q,Lt}finally{}}}var qi=Wg(!0),e0=Wg(!1),ii=!1;function Md(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pd(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ai(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function oi(r,i,o){var l=r.updateQueue;if(l===null)return null;if(l=l.shared,(zt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=cl(r),Ug(r,null,o),i}return ol(r,l,i,o),cl(r)}function ko(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var l=i.lanes;l&=r.pendingLanes,o|=l,i.lanes=o,wt(r,o)}}function Nd(r,i){var o=r.updateQueue,l=r.alternate;if(l!==null&&(l=l.updateQueue,o===l)){var h=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?h=m=_:m=m.next=_,o=o.next}while(o!==null);m===null?h=m=i:m=m.next=i}else h=m=i;o={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var Dd=!1;function jo(){if(Dd){var r=Aa;if(r!==null)throw r}}function Lo(r,i,o,l){Dd=!1;var h=r.updateQueue;ii=!1;var m=h.firstBaseUpdate,_=h.lastBaseUpdate,O=h.shared.pending;if(O!==null){h.shared.pending=null;var U=O,Z=U.next;U.next=null,_===null?m=Z:_.next=Z,_=U;var oe=r.alternate;oe!==null&&(oe=oe.updateQueue,O=oe.lastBaseUpdate,O!==_&&(O===null?oe.firstBaseUpdate=Z:O.next=Z,oe.lastBaseUpdate=U))}if(m!==null){var he=h.baseState;_=0,oe=Z=U=null,O=m;do{var W=O.lane&-536870913,ne=W!==O.lane;if(ne?(Rt&W)===W:(l&W)===W){W!==0&&W===Ra&&(Dd=!0),oe!==null&&(oe=oe.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var $e=r,tt=O;W=i;var Qt=o;switch(tt.tag){case 1:if($e=tt.payload,typeof $e=="function"){he=$e.call(Qt,he,W);break e}he=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=tt.payload,W=typeof $e=="function"?$e.call(Qt,he,W):$e,W==null)break e;he=g({},he,W);break e;case 2:ii=!0}}W=O.callback,W!==null&&(r.flags|=64,ne&&(r.flags|=8192),ne=h.callbacks,ne===null?h.callbacks=[W]:ne.push(W))}else ne={lane:W,tag:O.tag,payload:O.payload,callback:O.callback,next:null},oe===null?(Z=oe=ne,U=he):oe=oe.next=ne,_|=W;if(O=O.next,O===null){if(O=h.shared.pending,O===null)break;ne=O,O=ne.next,ne.next=null,h.lastBaseUpdate=ne,h.shared.pending=null}}while(!0);oe===null&&(U=he),h.baseState=U,h.firstBaseUpdate=Z,h.lastBaseUpdate=oe,m===null&&(h.shared.lanes=0),di|=_,r.lanes=_,r.memoizedState=he}}function t0(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function n0(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)t0(o[r],i)}var Pa=I(null),vl=I(0);function r0(r,i){r=Us,de(vl,r),de(Pa,i),Us=r|i.baseLanes}function kd(){de(vl,Us),de(Pa,Pa.current)}function jd(){Us=vl.current,se(Pa),se(vl)}var yr=I(null),Nr=null;function ci(r){var i=r.alternate;de(gn,gn.current&1),de(yr,r),Nr===null&&(i===null||Pa.current!==null||i.memoizedState!==null)&&(Nr=r)}function Ld(r){de(gn,gn.current),de(yr,r),Nr===null&&(Nr=r)}function s0(r){r.tag===22?(de(gn,gn.current),de(yr,r),Nr===null&&(Nr=r)):li()}function li(){de(gn,gn.current),de(yr,yr.current)}function gr(r){se(yr),Nr===r&&(Nr=null),se(gn)}var gn=I(0);function xl(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||$h(o)||Vh(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Os=0,pt=null,Kt=null,_n=null,bl=!1,Na=!1,Fi=!1,Sl=0,Uo=0,Da=null,IT=0;function dn(){throw Error(s(321))}function Ud(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!pr(r[o],i[o]))return!1;return!0}function Id(r,i,o,l,h,m){return Os=m,pt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=r===null||r.memoizedState===null?H0:Wd,Fi=!1,m=o(l,h),Fi=!1,Na&&(m=a0(i,o,l,h)),i0(r),m}function i0(r){H.H=Bo;var i=Kt!==null&&Kt.next!==null;if(Os=0,_n=Kt=pt=null,bl=!1,Uo=0,Da=null,i)throw Error(s(300));r===null||wn||(r=r.dependencies,r!==null&&fl(r)&&(wn=!0))}function a0(r,i,o,l){pt=r;var h=0;do{if(Na&&(Da=null),Uo=0,Na=!1,25<=h)throw Error(s(301));if(h+=1,_n=Kt=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}H.H=$0,m=i(o,l)}while(Na);return m}function zT(){var r=H.H,i=r.useState()[0];return i=typeof i.then=="function"?Io(i):i,r=r.useState()[0],(Kt!==null?Kt.memoizedState:null)!==r&&(pt.flags|=1024),i}function zd(){var r=Sl!==0;return Sl=0,r}function Bd(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function Hd(r){if(bl){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bl=!1}Os=0,_n=Kt=pt=null,Na=!1,Uo=Sl=0,Da=null}function Qn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?pt.memoizedState=_n=r:_n=_n.next=r,_n}function vn(){if(Kt===null){var r=pt.alternate;r=r!==null?r.memoizedState:null}else r=Kt.next;var i=_n===null?pt.memoizedState:_n.next;if(i!==null)_n=i,Kt=r;else{if(r===null)throw pt.alternate===null?Error(s(467)):Error(s(310));Kt=r,r={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},_n===null?pt.memoizedState=_n=r:_n=_n.next=r}return _n}function _l(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Io(r){var i=Uo;return Uo+=1,Da===null&&(Da=[]),r=Qg(Da,r,i),i=pt,(_n===null?i.memoizedState:_n.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?H0:Wd),r}function wl(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Io(r);if(r.$$typeof===k)return Bn(r)}throw Error(s(438,String(r)))}function $d(r){var i=null,o=pt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var l=pt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=_l(),pt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),l=0;l<r;l++)o[l]=be;return i.index++,o}function Ms(r,i){return typeof i=="function"?i(r):i}function Cl(r){var i=vn();return Vd(i,Kt,r)}function Vd(r,i,o){var l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=o;var h=r.baseQueue,m=l.pending;if(m!==null){if(h!==null){var _=h.next;h.next=m.next,m.next=_}i.baseQueue=h=m,l.pending=null}if(m=r.baseState,h===null)r.memoizedState=m;else{i=h.next;var O=_=null,U=null,Z=i,oe=!1;do{var he=Z.lane&-536870913;if(he!==Z.lane?(Rt&he)===he:(Os&he)===he){var W=Z.revertLane;if(W===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),he===Ra&&(oe=!0);else if((Os&W)===W){Z=Z.next,W===Ra&&(oe=!0);continue}else he={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(O=U=he,_=m):U=U.next=he,pt.lanes|=W,di|=W;he=Z.action,Fi&&o(m,he),m=Z.hasEagerState?Z.eagerState:o(m,he)}else W={lane:he,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(O=U=W,_=m):U=U.next=W,pt.lanes|=he,di|=he;Z=Z.next}while(Z!==null&&Z!==i);if(U===null?_=m:U.next=O,!pr(m,r.memoizedState)&&(wn=!0,oe&&(o=Aa,o!==null)))throw o;r.memoizedState=m,r.baseState=_,r.baseQueue=U,l.lastRenderedState=m}return h===null&&(l.lanes=0),[r.memoizedState,l.dispatch]}function qd(r){var i=vn(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var l=o.dispatch,h=o.pending,m=i.memoizedState;if(h!==null){o.pending=null;var _=h=h.next;do m=r(m,_.action),_=_.next;while(_!==h);pr(m,i.memoizedState)||(wn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),o.lastRenderedState=m}return[m,l]}function o0(r,i,o){var l=pt,h=vn(),m=Mt;if(m){if(o===void 0)throw Error(s(407));o=o()}else o=i();var _=!pr((Kt||h).memoizedState,o);if(_&&(h.memoizedState=o,wn=!0),h=h.queue,Gd(u0.bind(null,l,h,r),[r]),h.getSnapshot!==i||_||_n!==null&&_n.memoizedState.tag&1){if(l.flags|=2048,ka(9,{destroy:void 0},l0.bind(null,l,h,o,i),null),Jt===null)throw Error(s(349));m||(Os&127)!==0||c0(l,i,o)}return o}function c0(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=pt.updateQueue,i===null?(i=_l(),pt.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function l0(r,i,o,l){i.value=o,i.getSnapshot=l,f0(i)&&d0(r)}function u0(r,i,o){return o(function(){f0(i)&&d0(r)})}function f0(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!pr(r,o)}catch{return!0}}function d0(r){var i=Li(r,2);i!==null&&or(i,r,2)}function Fd(r){var i=Qn();if(typeof r=="function"){var o=r;if(r=o(),Fi){kn(!0);try{o()}finally{kn(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:r},i}function h0(r,i,o,l){return r.baseState=o,Vd(r,Kt,typeof l=="function"?l:Ms)}function BT(r,i,o,l,h){if(Rl(r))throw Error(s(485));if(r=i.action,r!==null){var m={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};H.T!==null?o(!0):m.isTransition=!1,l(m),o=i.pending,o===null?(m.next=i.pending=m,p0(i,m)):(m.next=o.next,i.pending=o.next=m)}}function p0(r,i){var o=i.action,l=i.payload,h=r.state;if(i.isTransition){var m=H.T,_={};H.T=_;try{var O=o(h,l),U=H.S;U!==null&&U(_,O),m0(r,i,O)}catch(Z){Yd(r,i,Z)}finally{m!==null&&_.types!==null&&(m.types=_.types),H.T=m}}else try{m=o(h,l),m0(r,i,m)}catch(Z){Yd(r,i,Z)}}function m0(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(l){y0(r,i,l)},function(l){return Yd(r,i,l)}):y0(r,i,o)}function y0(r,i,o){i.status="fulfilled",i.value=o,g0(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,p0(r,o)))}function Yd(r,i,o){var l=r.pending;if(r.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=o,g0(i),i=i.next;while(i!==l)}r.action=null}function g0(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function v0(r,i){return i}function x0(r,i){if(Mt){var o=Jt.formState;if(o!==null){e:{var l=pt;if(Mt){if(tn){t:{for(var h=tn,m=Pr;h.nodeType!==8;){if(!m){h=null;break t}if(h=Dr(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){tn=Dr(h.nextSibling),l=h.data==="F!";break e}}ri(l)}l=!1}l&&(i=o[0])}}return o=Qn(),o.memoizedState=o.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:v0,lastRenderedState:i},o.queue=l,o=I0.bind(null,pt,l),l.dispatch=o,l=Fd(!1),m=Jd.bind(null,pt,!1,l.queue),l=Qn(),h={state:i,dispatch:null,action:r,pending:null},l.queue=h,o=BT.bind(null,pt,h,m,o),h.dispatch=o,l.memoizedState=r,[i,o,!1]}function b0(r){var i=vn();return S0(i,Kt,r)}function S0(r,i,o){if(i=Vd(r,i,v0)[0],r=Cl(Ms)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Io(i)}catch(_){throw _===Oa?pl:_}else l=i;i=vn();var h=i.queue,m=h.dispatch;return o!==i.memoizedState&&(pt.flags|=2048,ka(9,{destroy:void 0},HT.bind(null,h,o),null)),[l,m,r]}function HT(r,i){r.action=i}function _0(r){var i=vn(),o=Kt;if(o!==null)return S0(i,o,r);vn(),i=i.memoizedState,o=vn();var l=o.queue.dispatch;return o.memoizedState=r,[i,l,!1]}function ka(r,i,o,l){return r={tag:r,create:o,deps:l,inst:i,next:null},i=pt.updateQueue,i===null&&(i=_l(),pt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(l=o.next,o.next=r,r.next=l,i.lastEffect=r),r}function w0(){return vn().memoizedState}function El(r,i,o,l){var h=Qn();pt.flags|=r,h.memoizedState=ka(1|i,{destroy:void 0},o,l===void 0?null:l)}function Tl(r,i,o,l){var h=vn();l=l===void 0?null:l;var m=h.memoizedState.inst;Kt!==null&&l!==null&&Ud(l,Kt.memoizedState.deps)?h.memoizedState=ka(i,m,o,l):(pt.flags|=r,h.memoizedState=ka(1|i,m,o,l))}function C0(r,i){El(8390656,8,r,i)}function Gd(r,i){Tl(2048,8,r,i)}function $T(r){pt.flags|=4;var i=pt.updateQueue;if(i===null)i=_l(),pt.updateQueue=i,i.events=[r];else{var o=i.events;o===null?i.events=[r]:o.push(r)}}function E0(r){var i=vn().memoizedState;return $T({ref:i,nextImpl:r}),function(){if((zt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function T0(r,i){return Tl(4,2,r,i)}function R0(r,i){return Tl(4,4,r,i)}function A0(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function O0(r,i,o){o=o!=null?o.concat([r]):null,Tl(4,4,A0.bind(null,i,r),o)}function Kd(){}function M0(r,i){var o=vn();i=i===void 0?null:i;var l=o.memoizedState;return i!==null&&Ud(i,l[1])?l[0]:(o.memoizedState=[r,i],r)}function P0(r,i){var o=vn();i=i===void 0?null:i;var l=o.memoizedState;if(i!==null&&Ud(i,l[1]))return l[0];if(l=r(),Fi){kn(!0);try{r()}finally{kn(!1)}}return o.memoizedState=[l,i],l}function Xd(r,i,o){return o===void 0||(Os&1073741824)!==0&&(Rt&261930)===0?r.memoizedState=i:(r.memoizedState=o,r=Nv(),pt.lanes|=r,di|=r,o)}function N0(r,i,o,l){return pr(o,i)?o:Pa.current!==null?(r=Xd(r,o,l),pr(r,i)||(wn=!0),r):(Os&42)===0||(Os&1073741824)!==0&&(Rt&261930)===0?(wn=!0,r.memoizedState=o):(r=Nv(),pt.lanes|=r,di|=r,i)}function D0(r,i,o,l,h){var m=ie.p;ie.p=m!==0&&8>m?m:8;var _=H.T,O={};H.T=O,Jd(r,!1,i,o);try{var U=h(),Z=H.S;if(Z!==null&&Z(O,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var oe=UT(U,l);zo(r,i,oe,br(r))}else zo(r,i,l,br(r))}catch(he){zo(r,i,{then:function(){},status:"rejected",reason:he},br())}finally{ie.p=m,_!==null&&O.types!==null&&(_.types=O.types),H.T=_}}function VT(){}function Qd(r,i,o,l){if(r.tag!==5)throw Error(s(476));var h=k0(r).queue;D0(r,h,i,X,o===null?VT:function(){return j0(r),o(l)})}function k0(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:X},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ms,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function j0(r){var i=k0(r);i.next===null&&(i=r.alternate.memoizedState),zo(r,i.next.queue,{},br())}function Zd(){return Bn(nc)}function L0(){return vn().memoizedState}function U0(){return vn().memoizedState}function qT(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=br();r=ai(o);var l=oi(i,r,o);l!==null&&(or(l,i,o),ko(l,i,o)),i={cache:Td()},r.payload=i;return}i=i.return}}function FT(r,i,o){var l=br();o={lane:l,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Rl(r)?z0(i,o):(o=md(r,i,o,l),o!==null&&(or(o,r,l),B0(o,i,l)))}function I0(r,i,o){var l=br();zo(r,i,o,l)}function zo(r,i,o,l){var h={lane:l,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Rl(r))z0(i,h);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,O=m(_,o);if(h.hasEagerState=!0,h.eagerState=O,pr(O,_))return ol(r,i,h,0),Jt===null&&al(),!1}catch{}finally{}if(o=md(r,i,h,l),o!==null)return or(o,r,l),B0(o,i,l),!0}return!1}function Jd(r,i,o,l){if(l={lane:2,revertLane:Mh(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Rl(r)){if(i)throw Error(s(479))}else i=md(r,o,l,2),i!==null&&or(i,r,2)}function Rl(r){var i=r.alternate;return r===pt||i!==null&&i===pt}function z0(r,i){Na=bl=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function B0(r,i,o){if((o&4194048)!==0){var l=i.lanes;l&=r.pendingLanes,o|=l,i.lanes=o,wt(r,o)}}var Bo={readContext:Bn,use:wl,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useLayoutEffect:dn,useInsertionEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useSyncExternalStore:dn,useId:dn,useHostTransitionStatus:dn,useFormState:dn,useActionState:dn,useOptimistic:dn,useMemoCache:dn,useCacheRefresh:dn};Bo.useEffectEvent=dn;var H0={readContext:Bn,use:wl,useCallback:function(r,i){return Qn().memoizedState=[r,i===void 0?null:i],r},useContext:Bn,useEffect:C0,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,El(4194308,4,A0.bind(null,i,r),o)},useLayoutEffect:function(r,i){return El(4194308,4,r,i)},useInsertionEffect:function(r,i){El(4,2,r,i)},useMemo:function(r,i){var o=Qn();i=i===void 0?null:i;var l=r();if(Fi){kn(!0);try{r()}finally{kn(!1)}}return o.memoizedState=[l,i],l},useReducer:function(r,i,o){var l=Qn();if(o!==void 0){var h=o(i);if(Fi){kn(!0);try{o(i)}finally{kn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},l.queue=r,r=r.dispatch=FT.bind(null,pt,r),[l.memoizedState,r]},useRef:function(r){var i=Qn();return r={current:r},i.memoizedState=r},useState:function(r){r=Fd(r);var i=r.queue,o=I0.bind(null,pt,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:Kd,useDeferredValue:function(r,i){var o=Qn();return Xd(o,r,i)},useTransition:function(){var r=Fd(!1);return r=D0.bind(null,pt,r.queue,!0,!1),Qn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var l=pt,h=Qn();if(Mt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),Jt===null)throw Error(s(349));(Rt&127)!==0||c0(l,i,o)}h.memoizedState=o;var m={value:o,getSnapshot:i};return h.queue=m,C0(u0.bind(null,l,m,r),[r]),l.flags|=2048,ka(9,{destroy:void 0},l0.bind(null,l,m,o,i),null),o},useId:function(){var r=Qn(),i=Jt.identifierPrefix;if(Mt){var o=ns,l=ts;o=(l&~(1<<32-yn(l)-1)).toString(32)+o,i="_"+i+"R_"+o,o=Sl++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=IT++,i="_"+i+"r_"+o.toString(32)+"_";return r.memoizedState=i},useHostTransitionStatus:Zd,useFormState:x0,useActionState:x0,useOptimistic:function(r){var i=Qn();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Jd.bind(null,pt,!0,o),o.dispatch=i,[r,i]},useMemoCache:$d,useCacheRefresh:function(){return Qn().memoizedState=qT.bind(null,pt)},useEffectEvent:function(r){var i=Qn(),o={impl:r};return i.memoizedState=o,function(){if((zt&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Wd={readContext:Bn,use:wl,useCallback:M0,useContext:Bn,useEffect:Gd,useImperativeHandle:O0,useInsertionEffect:T0,useLayoutEffect:R0,useMemo:P0,useReducer:Cl,useRef:w0,useState:function(){return Cl(Ms)},useDebugValue:Kd,useDeferredValue:function(r,i){var o=vn();return N0(o,Kt.memoizedState,r,i)},useTransition:function(){var r=Cl(Ms)[0],i=vn().memoizedState;return[typeof r=="boolean"?r:Io(r),i]},useSyncExternalStore:o0,useId:L0,useHostTransitionStatus:Zd,useFormState:b0,useActionState:b0,useOptimistic:function(r,i){var o=vn();return h0(o,Kt,r,i)},useMemoCache:$d,useCacheRefresh:U0};Wd.useEffectEvent=E0;var $0={readContext:Bn,use:wl,useCallback:M0,useContext:Bn,useEffect:Gd,useImperativeHandle:O0,useInsertionEffect:T0,useLayoutEffect:R0,useMemo:P0,useReducer:qd,useRef:w0,useState:function(){return qd(Ms)},useDebugValue:Kd,useDeferredValue:function(r,i){var o=vn();return Kt===null?Xd(o,r,i):N0(o,Kt.memoizedState,r,i)},useTransition:function(){var r=qd(Ms)[0],i=vn().memoizedState;return[typeof r=="boolean"?r:Io(r),i]},useSyncExternalStore:o0,useId:L0,useHostTransitionStatus:Zd,useFormState:_0,useActionState:_0,useOptimistic:function(r,i){var o=vn();return Kt!==null?h0(o,Kt,r,i):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:$d,useCacheRefresh:U0};$0.useEffectEvent=E0;function eh(r,i,o,l){i=r.memoizedState,o=o(l,i),o=o==null?i:g({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var th={enqueueSetState:function(r,i,o){r=r._reactInternals;var l=br(),h=ai(l);h.payload=i,o!=null&&(h.callback=o),i=oi(r,h,l),i!==null&&(or(i,r,l),ko(i,r,l))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var l=br(),h=ai(l);h.tag=1,h.payload=i,o!=null&&(h.callback=o),i=oi(r,h,l),i!==null&&(or(i,r,l),ko(i,r,l))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=br(),l=ai(o);l.tag=2,i!=null&&(l.callback=i),i=oi(r,l,o),i!==null&&(or(i,r,o),ko(i,r,o))}};function V0(r,i,o,l,h,m,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(l,m,_):i.prototype&&i.prototype.isPureReactComponent?!To(o,l)||!To(h,m):!0}function q0(r,i,o,l){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,l),i.state!==r&&th.enqueueReplaceState(i,i.state,null)}function Yi(r,i){var o=i;if("ref"in i){o={};for(var l in i)l!=="ref"&&(o[l]=i[l])}if(r=r.defaultProps){o===i&&(o=g({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}function F0(r){il(r)}function Y0(r){console.error(r)}function G0(r){il(r)}function Al(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function K0(r,i,o){try{var l=r.onCaughtError;l(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function nh(r,i,o){return o=ai(o),o.tag=3,o.payload={element:null},o.callback=function(){Al(r,i)},o}function X0(r){return r=ai(r),r.tag=3,r}function Q0(r,i,o,l){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;r.payload=function(){return h(m)},r.callback=function(){K0(i,o,l)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(r.callback=function(){K0(i,o,l),typeof h!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var O=l.stack;this.componentDidCatch(l.value,{componentStack:O!==null?O:""})})}function YT(r,i,o,l,h){if(o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=o.alternate,i!==null&&Ta(i,o,h,!0),o=yr.current,o!==null){switch(o.tag){case 31:case 13:return Nr===null?Bl():o.alternate===null&&hn===0&&(hn=3),o.flags&=-257,o.flags|=65536,o.lanes=h,l===ml?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([l]):i.add(l),Rh(r,l,h)),!1;case 22:return o.flags|=65536,l===ml?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([l]):o.add(l)),Rh(r,l,h)),!1}throw Error(s(435,o.tag))}return Rh(r,l,h),Bl(),!1}if(Mt)return i=yr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Sd&&(r=Error(s(422),{cause:l}),Oo(Ar(r,o)))):(l!==Sd&&(i=Error(s(423),{cause:l}),Oo(Ar(i,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,l=Ar(l,o),h=nh(r.stateNode,l,h),Nd(r,h),hn!==4&&(hn=2)),!1;var m=Error(s(520),{cause:l});if(m=Ar(m,o),Ko===null?Ko=[m]:Ko.push(m),hn!==4&&(hn=2),i===null)return!0;l=Ar(l,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=nh(o.stateNode,l,r),Nd(o,r),!1;case 1:if(i=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(hi===null||!hi.has(m))))return o.flags|=65536,h&=-h,o.lanes|=h,h=X0(h),Q0(h,r,o,l),Nd(o,h),!1}o=o.return}while(o!==null);return!1}var rh=Error(s(461)),wn=!1;function Hn(r,i,o,l){i.child=r===null?e0(i,null,o,l):qi(i,r.child,o,l)}function Z0(r,i,o,l,h){o=o.render;var m=i.ref;if("ref"in l){var _={};for(var O in l)O!=="ref"&&(_[O]=l[O])}else _=l;return Bi(i),l=Id(r,i,o,_,m,h),O=zd(),r!==null&&!wn?(Bd(r,i,h),Ps(r,i,h)):(Mt&&O&&xd(i),i.flags|=1,Hn(r,i,l,h),i.child)}function J0(r,i,o,l,h){if(r===null){var m=o.type;return typeof m=="function"&&!yd(m)&&m.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=m,W0(r,i,m,l,h)):(r=ll(o.type,null,l,i,i.mode,h),r.ref=i.ref,r.return=i,i.child=r)}if(m=r.child,!fh(r,h)){var _=m.memoizedProps;if(o=o.compare,o=o!==null?o:To,o(_,l)&&r.ref===i.ref)return Ps(r,i,h)}return i.flags|=1,r=Es(m,l),r.ref=i.ref,r.return=i,i.child=r}function W0(r,i,o,l,h){if(r!==null){var m=r.memoizedProps;if(To(m,l)&&r.ref===i.ref)if(wn=!1,i.pendingProps=l=m,fh(r,h))(r.flags&131072)!==0&&(wn=!0);else return i.lanes=r.lanes,Ps(r,i,h)}return sh(r,i,o,l,h)}function ev(r,i,o,l){var h=l.children,m=r!==null?r.memoizedState:null;if(r===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,r!==null){for(l=i.child=r.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~m}else l=0,i.child=null;return tv(r,i,m,o,l)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&hl(i,m!==null?m.cachePool:null),m!==null?r0(i,m):kd(),s0(i);else return l=i.lanes=536870912,tv(r,i,m!==null?m.baseLanes|o:o,o,l)}else m!==null?(hl(i,m.cachePool),r0(i,m),li(),i.memoizedState=null):(r!==null&&hl(i,null),kd(),li());return Hn(r,i,h,o),i.child}function Ho(r,i){return r!==null&&r.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function tv(r,i,o,l,h){var m=Ad();return m=m===null?null:{parent:Sn._currentValue,pool:m},i.memoizedState={baseLanes:o,cachePool:m},r!==null&&hl(i,null),kd(),s0(i),r!==null&&Ta(r,i,l,!0),i.childLanes=h,null}function Ol(r,i){return i=Pl({mode:i.mode,children:i.children},r.mode),i.ref=r.ref,r.child=i,i.return=r,i}function nv(r,i,o){return qi(i,r.child,null,o),r=Ol(i,i.pendingProps),r.flags|=2,gr(i),i.memoizedState=null,r}function GT(r,i,o){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,r===null){if(Mt){if(l.mode==="hidden")return r=Ol(i,l),i.lanes=536870912,Ho(null,r);if(Ld(i),(r=tn)?(r=px(r,Pr),r=r!==null&&r.data==="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:ti!==null?{id:ts,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},o=zg(r),o.return=i,i.child=o,zn=i,tn=null)):r=null,r===null)throw ri(i);return i.lanes=536870912,null}return Ol(i,l)}var m=r.memoizedState;if(m!==null){var _=m.dehydrated;if(Ld(i),h)if(i.flags&256)i.flags&=-257,i=nv(r,i,o);else if(i.memoizedState!==null)i.child=r.child,i.flags|=128,i=null;else throw Error(s(558));else if(wn||Ta(r,i,o,!1),h=(o&r.childLanes)!==0,wn||h){if(l=Jt,l!==null&&(_=C(l,o),_!==0&&_!==m.retryLane))throw m.retryLane=_,Li(r,_),or(l,r,_),rh;Bl(),i=nv(r,i,o)}else r=m.treeContext,tn=Dr(_.nextSibling),zn=i,Mt=!0,ni=null,Pr=!1,r!==null&&$g(i,r),i=Ol(i,l),i.flags|=4096;return i}return r=Es(r.child,{mode:l.mode,children:l.children}),r.ref=i.ref,i.child=r,r.return=i,r}function Ml(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(r===null||r.ref!==o)&&(i.flags|=4194816)}}function sh(r,i,o,l,h){return Bi(i),o=Id(r,i,o,l,void 0,h),l=zd(),r!==null&&!wn?(Bd(r,i,h),Ps(r,i,h)):(Mt&&l&&xd(i),i.flags|=1,Hn(r,i,o,h),i.child)}function rv(r,i,o,l,h,m){return Bi(i),i.updateQueue=null,o=a0(i,l,o,h),i0(r),l=zd(),r!==null&&!wn?(Bd(r,i,m),Ps(r,i,m)):(Mt&&l&&xd(i),i.flags|=1,Hn(r,i,o,m),i.child)}function sv(r,i,o,l,h){if(Bi(i),i.stateNode===null){var m=_a,_=o.contextType;typeof _=="object"&&_!==null&&(m=Bn(_)),m=new o(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=th,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},Md(i),_=o.contextType,m.context=typeof _=="object"&&_!==null?Bn(_):_a,m.state=i.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(eh(i,o,_,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&th.enqueueReplaceState(m,m.state,null),Lo(i,l,m,h),jo(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(r===null){m=i.stateNode;var O=i.memoizedProps,U=Yi(o,O);m.props=U;var Z=m.context,oe=o.contextType;_=_a,typeof oe=="object"&&oe!==null&&(_=Bn(oe));var he=o.getDerivedStateFromProps;oe=typeof he=="function"||typeof m.getSnapshotBeforeUpdate=="function",O=i.pendingProps!==O,oe||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(O||Z!==_)&&q0(i,m,l,_),ii=!1;var W=i.memoizedState;m.state=W,Lo(i,l,m,h),jo(),Z=i.memoizedState,O||W!==Z||ii?(typeof he=="function"&&(eh(i,o,he,l),Z=i.memoizedState),(U=ii||V0(i,o,U,l,W,Z,_))?(oe||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=Z),m.props=l,m.state=Z,m.context=_,l=U):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,Pd(r,i),_=i.memoizedProps,oe=Yi(o,_),m.props=oe,he=i.pendingProps,W=m.context,Z=o.contextType,U=_a,typeof Z=="object"&&Z!==null&&(U=Bn(Z)),O=o.getDerivedStateFromProps,(Z=typeof O=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==he||W!==U)&&q0(i,m,l,U),ii=!1,W=i.memoizedState,m.state=W,Lo(i,l,m,h),jo();var ne=i.memoizedState;_!==he||W!==ne||ii||r!==null&&r.dependencies!==null&&fl(r.dependencies)?(typeof O=="function"&&(eh(i,o,O,l),ne=i.memoizedState),(oe=ii||V0(i,o,oe,l,W,ne,U)||r!==null&&r.dependencies!==null&&fl(r.dependencies))?(Z||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,ne,U),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,ne,U)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===r.memoizedProps&&W===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&W===r.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=ne),m.props=l,m.state=ne,m.context=U,l=oe):(typeof m.componentDidUpdate!="function"||_===r.memoizedProps&&W===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&W===r.memoizedState||(i.flags|=1024),l=!1)}return m=l,Ml(r,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,o=l&&typeof o.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,r!==null&&l?(i.child=qi(i,r.child,null,h),i.child=qi(i,null,o,h)):Hn(r,i,o,h),i.memoizedState=m.state,r=i.child):r=Ps(r,i,h),r}function iv(r,i,o,l){return Ii(),i.flags|=256,Hn(r,i,o,l),i.child}var ih={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ah(r){return{baseLanes:r,cachePool:Kg()}}function oh(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=xr),r}function av(r,i,o){var l=i.pendingProps,h=!1,m=(i.flags&128)!==0,_;if((_=m)||(_=r!==null&&r.memoizedState===null?!1:(gn.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,r===null){if(Mt){if(h?ci(i):li(),(r=tn)?(r=px(r,Pr),r=r!==null&&r.data!=="&"?r:null,r!==null&&(i.memoizedState={dehydrated:r,treeContext:ti!==null?{id:ts,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},o=zg(r),o.return=i,i.child=o,zn=i,tn=null)):r=null,r===null)throw ri(i);return Vh(r)?i.lanes=32:i.lanes=536870912,null}var O=l.children;return l=l.fallback,h?(li(),h=i.mode,O=Pl({mode:"hidden",children:O},h),l=Ui(l,h,o,null),O.return=i,l.return=i,O.sibling=l,i.child=O,l=i.child,l.memoizedState=ah(o),l.childLanes=oh(r,_,o),i.memoizedState=ih,Ho(null,l)):(ci(i),ch(i,O))}var U=r.memoizedState;if(U!==null&&(O=U.dehydrated,O!==null)){if(m)i.flags&256?(ci(i),i.flags&=-257,i=lh(r,i,o)):i.memoizedState!==null?(li(),i.child=r.child,i.flags|=128,i=null):(li(),O=l.fallback,h=i.mode,l=Pl({mode:"visible",children:l.children},h),O=Ui(O,h,o,null),O.flags|=2,l.return=i,O.return=i,l.sibling=O,i.child=l,qi(i,r.child,null,o),l=i.child,l.memoizedState=ah(o),l.childLanes=oh(r,_,o),i.memoizedState=ih,i=Ho(null,l));else if(ci(i),Vh(O)){if(_=O.nextSibling&&O.nextSibling.dataset,_)var Z=_.dgst;_=Z,l=Error(s(419)),l.stack="",l.digest=_,Oo({value:l,source:null,stack:null}),i=lh(r,i,o)}else if(wn||Ta(r,i,o,!1),_=(o&r.childLanes)!==0,wn||_){if(_=Jt,_!==null&&(l=C(_,o),l!==0&&l!==U.retryLane))throw U.retryLane=l,Li(r,l),or(_,r,l),rh;$h(O)||Bl(),i=lh(r,i,o)}else $h(O)?(i.flags|=192,i.child=r.child,i=null):(r=U.treeContext,tn=Dr(O.nextSibling),zn=i,Mt=!0,ni=null,Pr=!1,r!==null&&$g(i,r),i=ch(i,l.children),i.flags|=4096);return i}return h?(li(),O=l.fallback,h=i.mode,U=r.child,Z=U.sibling,l=Es(U,{mode:"hidden",children:l.children}),l.subtreeFlags=U.subtreeFlags&65011712,Z!==null?O=Es(Z,O):(O=Ui(O,h,o,null),O.flags|=2),O.return=i,l.return=i,l.sibling=O,i.child=l,Ho(null,l),l=i.child,O=r.child.memoizedState,O===null?O=ah(o):(h=O.cachePool,h!==null?(U=Sn._currentValue,h=h.parent!==U?{parent:U,pool:U}:h):h=Kg(),O={baseLanes:O.baseLanes|o,cachePool:h}),l.memoizedState=O,l.childLanes=oh(r,_,o),i.memoizedState=ih,Ho(r.child,l)):(ci(i),o=r.child,r=o.sibling,o=Es(o,{mode:"visible",children:l.children}),o.return=i,o.sibling=null,r!==null&&(_=i.deletions,_===null?(i.deletions=[r],i.flags|=16):_.push(r)),i.child=o,i.memoizedState=null,o)}function ch(r,i){return i=Pl({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Pl(r,i){return r=mr(22,r,null,i),r.lanes=0,r}function lh(r,i,o){return qi(i,r.child,null,o),r=ch(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function ov(r,i,o){r.lanes|=i;var l=r.alternate;l!==null&&(l.lanes|=i),Cd(r.return,i,o)}function uh(r,i,o,l,h,m){var _=r.memoizedState;_===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:o,tailMode:h,treeForkCount:m}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=o,_.tailMode=h,_.treeForkCount=m)}function cv(r,i,o){var l=i.pendingProps,h=l.revealOrder,m=l.tail;l=l.children;var _=gn.current,O=(_&2)!==0;if(O?(_=_&1|2,i.flags|=128):_&=1,de(gn,_),Hn(r,i,l,o),l=Mt?Ao:0,!O&&r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ov(r,o,i);else if(r.tag===19)ov(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(h){case"forwards":for(o=i.child,h=null;o!==null;)r=o.alternate,r!==null&&xl(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=i.child,i.child=null):(h=o.sibling,o.sibling=null),uh(i,!1,h,o,m,l);break;case"backwards":case"unstable_legacy-backwards":for(o=null,h=i.child,i.child=null;h!==null;){if(r=h.alternate,r!==null&&xl(r)===null){i.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}uh(i,!0,o,null,m,l);break;case"together":uh(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ps(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),di|=i.lanes,(o&i.childLanes)===0)if(r!==null){if(Ta(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,o=Es(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=Es(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function fh(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&fl(r)))}function KT(r,i,o){switch(i.tag){case 3:Nt(i,i.stateNode.containerInfo),si(i,Sn,r.memoizedState.cache),Ii();break;case 27:case 5:Q(i);break;case 4:Nt(i,i.stateNode.containerInfo);break;case 10:si(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Ld(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ci(i),i.flags|=128,null):(o&i.child.childLanes)!==0?av(r,i,o):(ci(i),r=Ps(r,i,o),r!==null?r.sibling:null);ci(i);break;case 19:var h=(r.flags&128)!==0;if(l=(o&i.childLanes)!==0,l||(Ta(r,i,o,!1),l=(o&i.childLanes)!==0),h){if(l)return cv(r,i,o);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),de(gn,gn.current),l)break;return null;case 22:return i.lanes=0,ev(r,i,o,i.pendingProps);case 24:si(i,Sn,r.memoizedState.cache)}return Ps(r,i,o)}function lv(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)wn=!0;else{if(!fh(r,o)&&(i.flags&128)===0)return wn=!1,KT(r,i,o);wn=(r.flags&131072)!==0}else wn=!1,Mt&&(i.flags&1048576)!==0&&Hg(i,Ao,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(r=$i(i.elementType),i.type=r,typeof r=="function")yd(r)?(l=Yi(r,l),i.tag=1,i=sv(null,i,r,l,o)):(i.tag=0,i=sh(null,i,r,l,o));else{if(r!=null){var h=r.$$typeof;if(h===j){i.tag=11,i=Z0(null,i,r,l,o);break e}else if(h===Y){i.tag=14,i=J0(null,i,r,l,o);break e}}throw i=pe(r)||r,Error(s(306,i,""))}}return i;case 0:return sh(r,i,i.type,i.pendingProps,o);case 1:return l=i.type,h=Yi(l,i.pendingProps),sv(r,i,l,h,o);case 3:e:{if(Nt(i,i.stateNode.containerInfo),r===null)throw Error(s(387));l=i.pendingProps;var m=i.memoizedState;h=m.element,Pd(r,i),Lo(i,l,null,o);var _=i.memoizedState;if(l=_.cache,si(i,Sn,l),l!==m.cache&&Ed(i,[Sn],o,!0),jo(),l=_.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=iv(r,i,l,o);break e}else if(l!==h){h=Ar(Error(s(424)),i),Oo(h),i=iv(r,i,l,o);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(tn=Dr(r.firstChild),zn=i,Mt=!0,ni=null,Pr=!0,o=e0(i,null,l,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ii(),l===h){i=Ps(r,i,o);break e}Hn(r,i,l,o)}i=i.child}return i;case 26:return Ml(r,i),r===null?(o=bx(i.type,null,i.pendingProps,null))?i.memoizedState=o:Mt||(o=i.type,r=i.pendingProps,l=Gl(Re.current).createElement(o),l[V]=i,l[ae]=r,$n(l,o,r),He(l),i.stateNode=l):i.memoizedState=bx(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return Q(i),r===null&&Mt&&(l=i.stateNode=gx(i.type,i.pendingProps,Re.current),zn=i,Pr=!0,h=tn,gi(i.type)?(qh=h,tn=Dr(l.firstChild)):tn=h),Hn(r,i,i.pendingProps.children,o),Ml(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&Mt&&((h=l=tn)&&(l=CR(l,i.type,i.pendingProps,Pr),l!==null?(i.stateNode=l,zn=i,tn=Dr(l.firstChild),Pr=!1,h=!0):h=!1),h||ri(i)),Q(i),h=i.type,m=i.pendingProps,_=r!==null?r.memoizedProps:null,l=m.children,zh(h,m)?l=null:_!==null&&zh(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Id(r,i,zT,null,null,o),nc._currentValue=h),Ml(r,i),Hn(r,i,l,o),i.child;case 6:return r===null&&Mt&&((r=o=tn)&&(o=ER(o,i.pendingProps,Pr),o!==null?(i.stateNode=o,zn=i,tn=null,r=!0):r=!1),r||ri(i)),null;case 13:return av(r,i,o);case 4:return Nt(i,i.stateNode.containerInfo),l=i.pendingProps,r===null?i.child=qi(i,null,l,o):Hn(r,i,l,o),i.child;case 11:return Z0(r,i,i.type,i.pendingProps,o);case 7:return Hn(r,i,i.pendingProps,o),i.child;case 8:return Hn(r,i,i.pendingProps.children,o),i.child;case 12:return Hn(r,i,i.pendingProps.children,o),i.child;case 10:return l=i.pendingProps,si(i,i.type,l.value),Hn(r,i,l.children,o),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Bi(i),h=Bn(h),l=l(h),i.flags|=1,Hn(r,i,l,o),i.child;case 14:return J0(r,i,i.type,i.pendingProps,o);case 15:return W0(r,i,i.type,i.pendingProps,o);case 19:return cv(r,i,o);case 31:return GT(r,i,o);case 22:return ev(r,i,o,i.pendingProps);case 24:return Bi(i),l=Bn(Sn),r===null?(h=Ad(),h===null&&(h=Jt,m=Td(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=o),h=m),i.memoizedState={parent:l,cache:h},Md(i),si(i,Sn,h)):((r.lanes&o)!==0&&(Pd(r,i),Lo(i,null,null,o),jo()),h=r.memoizedState,m=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),si(i,Sn,l)):(l=m.cache,si(i,Sn,l),l!==h.cache&&Ed(i,[Sn],o,!0))),Hn(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ns(r){r.flags|=4}function dh(r,i,o,l,h){if((i=(r.mode&32)!==0)&&(i=!1),i){if(r.flags|=16777216,(h&335544128)===h)if(r.stateNode.complete)r.flags|=8192;else if(Lv())r.flags|=8192;else throw Vi=ml,Od}else r.flags&=-16777217}function uv(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Ex(i))if(Lv())r.flags|=8192;else throw Vi=ml,Od}function Nl(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?Ws():536870912,r.lanes|=i,Ia|=i)}function $o(r,i){if(!Mt)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:l.sibling=null}}function nn(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,l=0;if(i)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=l,r.childLanes=o,i}function XT(r,i,o){var l=i.pendingProps;switch(bd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nn(i),null;case 1:return nn(i),null;case 3:return o=i.stateNode,l=null,r!==null&&(l=r.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),As(Sn),z(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Ea(i)?Ns(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,_d())),nn(i),null;case 26:var h=i.type,m=i.memoizedState;return r===null?(Ns(i),m!==null?(nn(i),uv(i,m)):(nn(i),dh(i,h,null,l,o))):m?m!==r.memoizedState?(Ns(i),nn(i),uv(i,m)):(nn(i),i.flags&=-16777217):(r=r.memoizedProps,r!==l&&Ns(i),nn(i),dh(i,h,r,l,o)),null;case 27:if(le(i),o=Re.current,h=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==l&&Ns(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nn(i),null}r=xe.current,Ea(i)?Vg(i):(r=gx(h,l,o),i.stateNode=r,Ns(i))}return nn(i),null;case 5:if(le(i),h=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==l&&Ns(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nn(i),null}if(m=xe.current,Ea(i))Vg(i);else{var _=Gl(Re.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}m[V]=i,m[ae]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=m;e:switch($n(m,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ns(i)}}return nn(i),dh(i,i.type,r===null?null:r.memoizedProps,i.pendingProps,o),null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==l&&Ns(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(r=Re.current,Ea(i)){if(r=i.stateNode,o=i.memoizedProps,l=null,h=zn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}r[V]=i,r=!!(r.nodeValue===o||l!==null&&l.suppressHydrationWarning===!0||ax(r.nodeValue,o)),r||ri(i,!0)}else r=Gl(r).createTextNode(l),r[V]=i,i.stateNode=r}return nn(i),null;case 31:if(o=i.memoizedState,r===null||r.memoizedState!==null){if(l=Ea(i),o!==null){if(r===null){if(!l)throw Error(s(318));if(r=i.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(557));r[V]=i}else Ii(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nn(i),r=!1}else o=_d(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return i.flags&256?(gr(i),i):(gr(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nn(i),null;case 13:if(l=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=Ea(i),l!==null&&l.dehydrated!==null){if(r===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[V]=i}else Ii(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nn(i),h=!1}else h=_d(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(gr(i),i):(gr(i),null)}return gr(i),(i.flags&128)!==0?(i.lanes=o,i):(o=l!==null,r=r!==null&&r.memoizedState!==null,o&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)),o!==r&&o&&(i.child.flags|=8192),Nl(i,i.updateQueue),nn(i),null);case 4:return z(),r===null&&kh(i.stateNode.containerInfo),nn(i),null;case 10:return As(i.type),nn(i),null;case 19:if(se(gn),l=i.memoizedState,l===null)return nn(i),null;if(h=(i.flags&128)!==0,m=l.rendering,m===null)if(h)$o(l,!1);else{if(hn!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(m=xl(r),m!==null){for(i.flags|=128,$o(l,!1),r=m.updateQueue,i.updateQueue=r,Nl(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)Ig(o,r),o=o.sibling;return de(gn,gn.current&1|2),Mt&&Ts(i,l.treeForkCount),i.child}r=r.sibling}l.tail!==null&&dt()>Ul&&(i.flags|=128,h=!0,$o(l,!1),i.lanes=4194304)}else{if(!h)if(r=xl(m),r!==null){if(i.flags|=128,h=!0,r=r.updateQueue,i.updateQueue=r,Nl(i,r),$o(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Mt)return nn(i),null}else 2*dt()-l.renderingStartTime>Ul&&o!==536870912&&(i.flags|=128,h=!0,$o(l,!1),i.lanes=4194304);l.isBackwards?(m.sibling=i.child,i.child=m):(r=l.last,r!==null?r.sibling=m:i.child=m,l.last=m)}return l.tail!==null?(r=l.tail,l.rendering=r,l.tail=r.sibling,l.renderingStartTime=dt(),r.sibling=null,o=gn.current,de(gn,h?o&1|2:o&1),Mt&&Ts(i,l.treeForkCount),r):(nn(i),null);case 22:case 23:return gr(i),jd(),l=i.memoizedState!==null,r!==null?r.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(o&536870912)!==0&&(i.flags&128)===0&&(nn(i),i.subtreeFlags&6&&(i.flags|=8192)):nn(i),o=i.updateQueue,o!==null&&Nl(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==o&&(i.flags|=2048),r!==null&&se(Hi),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),As(Sn),nn(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function QT(r,i){switch(bd(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return As(Sn),z(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return le(i),null;case 31:if(i.memoizedState!==null){if(gr(i),i.alternate===null)throw Error(s(340));Ii()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 13:if(gr(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ii()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return se(gn),null;case 4:return z(),null;case 10:return As(i.type),null;case 22:case 23:return gr(i),jd(),r!==null&&se(Hi),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return As(Sn),null;case 25:return null;default:return null}}function fv(r,i){switch(bd(i),i.tag){case 3:As(Sn),z();break;case 26:case 27:case 5:le(i);break;case 4:z();break;case 31:i.memoizedState!==null&&gr(i);break;case 13:gr(i);break;case 19:se(gn);break;case 10:As(i.type);break;case 22:case 23:gr(i),jd(),r!==null&&se(Hi);break;case 24:As(Sn)}}function Vo(r,i){try{var o=i.updateQueue,l=o!==null?o.lastEffect:null;if(l!==null){var h=l.next;o=h;do{if((o.tag&r)===r){l=void 0;var m=o.create,_=o.inst;l=m(),_.destroy=l}o=o.next}while(o!==h)}}catch(O){Ft(i,i.return,O)}}function ui(r,i,o){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&r)===r){var _=l.inst,O=_.destroy;if(O!==void 0){_.destroy=void 0,h=i;var U=o,Z=O;try{Z()}catch(oe){Ft(h,U,oe)}}}l=l.next}while(l!==m)}}catch(oe){Ft(i,i.return,oe)}}function dv(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{n0(i,o)}catch(l){Ft(r,r.return,l)}}}function hv(r,i,o){o.props=Yi(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(l){Ft(r,i,l)}}function qo(r,i){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var l=r.stateNode;break;case 30:l=r.stateNode;break;default:l=r.stateNode}typeof o=="function"?r.refCleanup=o(l):o.current=l}}catch(h){Ft(r,i,h)}}function rs(r,i){var o=r.ref,l=r.refCleanup;if(o!==null)if(typeof l=="function")try{l()}catch(h){Ft(r,i,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){Ft(r,i,h)}else o.current=null}function pv(r){var i=r.type,o=r.memoizedProps,l=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&l.focus();break e;case"img":o.src?l.src=o.src:o.srcSet&&(l.srcset=o.srcSet)}}catch(h){Ft(r,r.return,h)}}function hh(r,i,o){try{var l=r.stateNode;vR(l,r.type,o,i),l[ae]=i}catch(h){Ft(r,r.return,h)}}function mv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&gi(r.type)||r.tag===4}function ph(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||mv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&gi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function mh(r,i,o){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(r),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=ws));else if(l!==4&&(l===27&&gi(r.type)&&(o=r.stateNode,i=null),r=r.child,r!==null))for(mh(r,i,o),r=r.sibling;r!==null;)mh(r,i,o),r=r.sibling}function Dl(r,i,o){var l=r.tag;if(l===5||l===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(l!==4&&(l===27&&gi(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Dl(r,i,o),r=r.sibling;r!==null;)Dl(r,i,o),r=r.sibling}function yv(r){var i=r.stateNode,o=r.memoizedProps;try{for(var l=r.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);$n(i,l,o),i[V]=r,i[ae]=o}catch(m){Ft(r,r.return,m)}}var Ds=!1,Cn=!1,yh=!1,gv=typeof WeakSet=="function"?WeakSet:Set,Un=null;function ZT(r,i){if(r=r.containerInfo,Uh=eu,r=Og(r),ld(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var l=o.getSelection&&o.getSelection();if(l&&l.rangeCount!==0){o=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var _=0,O=-1,U=-1,Z=0,oe=0,he=r,W=null;t:for(;;){for(var ne;he!==o||h!==0&&he.nodeType!==3||(O=_+h),he!==m||l!==0&&he.nodeType!==3||(U=_+l),he.nodeType===3&&(_+=he.nodeValue.length),(ne=he.firstChild)!==null;)W=he,he=ne;for(;;){if(he===r)break t;if(W===o&&++Z===h&&(O=_),W===m&&++oe===l&&(U=_),(ne=he.nextSibling)!==null)break;he=W,W=he.parentNode}he=ne}o=O===-1||U===-1?null:{start:O,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ih={focusedElem:r,selectionRange:o},eu=!1,Un=i;Un!==null;)if(i=Un,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,Un=r;else for(;Un!==null;){switch(i=Un,m=i.alternate,r=i.flags,i.tag){case 0:if((r&4)!==0&&(r=i.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)h=r[o],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,o=i,h=m.memoizedProps,m=m.memoizedState,l=o.stateNode;try{var $e=Yi(o.type,h);r=l.getSnapshotBeforeUpdate($e,m),l.__reactInternalSnapshotBeforeUpdate=r}catch(tt){Ft(o,o.return,tt)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)Hh(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Hh(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,Un=r;break}Un=i.return}}function vv(r,i,o){var l=o.flags;switch(o.tag){case 0:case 11:case 15:js(r,o),l&4&&Vo(5,o);break;case 1:if(js(r,o),l&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(_){Ft(o,o.return,_)}else{var h=Yi(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(h,i,r.__reactInternalSnapshotBeforeUpdate)}catch(_){Ft(o,o.return,_)}}l&64&&dv(o),l&512&&qo(o,o.return);break;case 3:if(js(r,o),l&64&&(r=o.updateQueue,r!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{n0(r,i)}catch(_){Ft(o,o.return,_)}}break;case 27:i===null&&l&4&&yv(o);case 26:case 5:js(r,o),i===null&&l&4&&pv(o),l&512&&qo(o,o.return);break;case 12:js(r,o);break;case 31:js(r,o),l&4&&Sv(r,o);break;case 13:js(r,o),l&4&&_v(r,o),l&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=aR.bind(null,o),TR(r,o))));break;case 22:if(l=o.memoizedState!==null||Ds,!l){i=i!==null&&i.memoizedState!==null||Cn,h=Ds;var m=Cn;Ds=l,(Cn=i)&&!m?Ls(r,o,(o.subtreeFlags&8772)!==0):js(r,o),Ds=h,Cn=m}break;case 30:break;default:js(r,o)}}function xv(r){var i=r.alternate;i!==null&&(r.alternate=null,xv(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&nt(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var on=null,rr=!1;function ks(r,i,o){for(o=o.child;o!==null;)bv(r,i,o),o=o.sibling}function bv(r,i,o){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(hr,o)}catch{}switch(o.tag){case 26:Cn||rs(o,i),ks(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Cn||rs(o,i);var l=on,h=rr;gi(o.type)&&(on=o.stateNode,rr=!1),ks(r,i,o),Wo(o.stateNode),on=l,rr=h;break;case 5:Cn||rs(o,i);case 6:if(l=on,h=rr,on=null,ks(r,i,o),on=l,rr=h,on!==null)if(rr)try{(on.nodeType===9?on.body:on.nodeName==="HTML"?on.ownerDocument.body:on).removeChild(o.stateNode)}catch(m){Ft(o,i,m)}else try{on.removeChild(o.stateNode)}catch(m){Ft(o,i,m)}break;case 18:on!==null&&(rr?(r=on,dx(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Ya(r)):dx(on,o.stateNode));break;case 4:l=on,h=rr,on=o.stateNode.containerInfo,rr=!0,ks(r,i,o),on=l,rr=h;break;case 0:case 11:case 14:case 15:ui(2,o,i),Cn||ui(4,o,i),ks(r,i,o);break;case 1:Cn||(rs(o,i),l=o.stateNode,typeof l.componentWillUnmount=="function"&&hv(o,i,l)),ks(r,i,o);break;case 21:ks(r,i,o);break;case 22:Cn=(l=Cn)||o.memoizedState!==null,ks(r,i,o),Cn=l;break;default:ks(r,i,o)}}function Sv(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Ya(r)}catch(o){Ft(i,i.return,o)}}}function _v(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Ya(r)}catch(o){Ft(i,i.return,o)}}function JT(r){switch(r.tag){case 31:case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new gv),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new gv),i;default:throw Error(s(435,r.tag))}}function kl(r,i){var o=JT(r);i.forEach(function(l){if(!o.has(l)){o.add(l);var h=oR.bind(null,r,l);l.then(h,h)}})}function sr(r,i){var o=i.deletions;if(o!==null)for(var l=0;l<o.length;l++){var h=o[l],m=r,_=i,O=_;e:for(;O!==null;){switch(O.tag){case 27:if(gi(O.type)){on=O.stateNode,rr=!1;break e}break;case 5:on=O.stateNode,rr=!1;break e;case 3:case 4:on=O.stateNode.containerInfo,rr=!0;break e}O=O.return}if(on===null)throw Error(s(160));bv(m,_,h),on=null,rr=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)wv(i,r),i=i.sibling}var Vr=null;function wv(r,i){var o=r.alternate,l=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:sr(i,r),ir(r),l&4&&(ui(3,r,r.return),Vo(3,r),ui(5,r,r.return));break;case 1:sr(i,r),ir(r),l&512&&(Cn||o===null||rs(o,o.return)),l&64&&Ds&&(r=r.updateQueue,r!==null&&(l=r.callbacks,l!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?l:o.concat(l))));break;case 26:var h=Vr;if(sr(i,r),ir(r),l&512&&(Cn||o===null||rs(o,o.return)),l&4){var m=o!==null?o.memoizedState:null;if(l=r.memoizedState,o===null)if(l===null)if(r.stateNode===null){e:{l=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Ze]||m[V]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),$n(m,l,o),m[V]=r,He(m),l=m;break e;case"link":var _=wx("link","href",h).get(l+(o.href||""));if(_){for(var O=0;O<_.length;O++)if(m=_[O],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(O,1);break t}}m=h.createElement(l),$n(m,l,o),h.head.appendChild(m);break;case"meta":if(_=wx("meta","content",h).get(l+(o.content||""))){for(O=0;O<_.length;O++)if(m=_[O],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(O,1);break t}}m=h.createElement(l),$n(m,l,o),h.head.appendChild(m);break;default:throw Error(s(468,l))}m[V]=r,He(m),l=m}r.stateNode=l}else Cx(h,r.type,r.stateNode);else r.stateNode=_x(h,l,r.memoizedProps);else m!==l?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,l===null?Cx(h,r.type,r.stateNode):_x(h,l,r.memoizedProps)):l===null&&r.stateNode!==null&&hh(r,r.memoizedProps,o.memoizedProps)}break;case 27:sr(i,r),ir(r),l&512&&(Cn||o===null||rs(o,o.return)),o!==null&&l&4&&hh(r,r.memoizedProps,o.memoizedProps);break;case 5:if(sr(i,r),ir(r),l&512&&(Cn||o===null||rs(o,o.return)),r.flags&32){h=r.stateNode;try{Vt(h,"")}catch($e){Ft(r,r.return,$e)}}l&4&&r.stateNode!=null&&(h=r.memoizedProps,hh(r,h,o!==null?o.memoizedProps:h)),l&1024&&(yh=!0);break;case 6:if(sr(i,r),ir(r),l&4){if(r.stateNode===null)throw Error(s(162));l=r.memoizedProps,o=r.stateNode;try{o.nodeValue=l}catch($e){Ft(r,r.return,$e)}}break;case 3:if(Ql=null,h=Vr,Vr=Kl(i.containerInfo),sr(i,r),Vr=h,ir(r),l&4&&o!==null&&o.memoizedState.isDehydrated)try{Ya(i.containerInfo)}catch($e){Ft(r,r.return,$e)}yh&&(yh=!1,Cv(r));break;case 4:l=Vr,Vr=Kl(r.stateNode.containerInfo),sr(i,r),ir(r),Vr=l;break;case 12:sr(i,r),ir(r);break;case 31:sr(i,r),ir(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,kl(r,l)));break;case 13:sr(i,r),ir(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ll=dt()),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,kl(r,l)));break;case 22:h=r.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,Z=Ds,oe=Cn;if(Ds=Z||h,Cn=oe||U,sr(i,r),Cn=oe,Ds=Z,ir(r),l&8192)e:for(i=r.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(o===null||U||Ds||Cn||Gi(r)),o=null,i=r;;){if(i.tag===5||i.tag===26){if(o===null){U=o=i;try{if(m=U.stateNode,h)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{O=U.stateNode;var he=U.memoizedProps.style,W=he!=null&&he.hasOwnProperty("display")?he.display:null;O.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch($e){Ft(U,U.return,$e)}}}else if(i.tag===6){if(o===null){U=i;try{U.stateNode.nodeValue=h?"":U.memoizedProps}catch($e){Ft(U,U.return,$e)}}}else if(i.tag===18){if(o===null){U=i;try{var ne=U.stateNode;h?hx(ne,!0):hx(U.stateNode,!1)}catch($e){Ft(U,U.return,$e)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=r.updateQueue,l!==null&&(o=l.retryQueue,o!==null&&(l.retryQueue=null,kl(r,o))));break;case 19:sr(i,r),ir(r),l&4&&(l=r.updateQueue,l!==null&&(r.updateQueue=null,kl(r,l)));break;case 30:break;case 21:break;default:sr(i,r),ir(r)}}function ir(r){var i=r.flags;if(i&2){try{for(var o,l=r.return;l!==null;){if(mv(l)){o=l;break}l=l.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var h=o.stateNode,m=ph(r);Dl(r,m,h);break;case 5:var _=o.stateNode;o.flags&32&&(Vt(_,""),o.flags&=-33);var O=ph(r);Dl(r,O,_);break;case 3:case 4:var U=o.stateNode.containerInfo,Z=ph(r);mh(r,Z,U);break;default:throw Error(s(161))}}catch(oe){Ft(r,r.return,oe)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Cv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;Cv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function js(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)vv(r,i.alternate,i),i=i.sibling}function Gi(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:ui(4,i,i.return),Gi(i);break;case 1:rs(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&hv(i,i.return,o),Gi(i);break;case 27:Wo(i.stateNode);case 26:case 5:rs(i,i.return),Gi(i);break;case 22:i.memoizedState===null&&Gi(i);break;case 30:Gi(i);break;default:Gi(i)}r=r.sibling}}function Ls(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=r,m=i,_=m.flags;switch(m.tag){case 0:case 11:case 15:Ls(h,m,o),Vo(4,m);break;case 1:if(Ls(h,m,o),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Z){Ft(l,l.return,Z)}if(l=m,h=l.updateQueue,h!==null){var O=l.stateNode;try{var U=h.shared.hiddenCallbacks;if(U!==null)for(h.shared.hiddenCallbacks=null,h=0;h<U.length;h++)t0(U[h],O)}catch(Z){Ft(l,l.return,Z)}}o&&_&64&&dv(m),qo(m,m.return);break;case 27:yv(m);case 26:case 5:Ls(h,m,o),o&&l===null&&_&4&&pv(m),qo(m,m.return);break;case 12:Ls(h,m,o);break;case 31:Ls(h,m,o),o&&_&4&&Sv(h,m);break;case 13:Ls(h,m,o),o&&_&4&&_v(h,m);break;case 22:m.memoizedState===null&&Ls(h,m,o),qo(m,m.return);break;case 30:break;default:Ls(h,m,o)}i=i.sibling}}function gh(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Mo(o))}function vh(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Mo(r))}function qr(r,i,o,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ev(r,i,o,l),i=i.sibling}function Ev(r,i,o,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:qr(r,i,o,l),h&2048&&Vo(9,i);break;case 1:qr(r,i,o,l);break;case 3:qr(r,i,o,l),h&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Mo(r)));break;case 12:if(h&2048){qr(r,i,o,l),r=i.stateNode;try{var m=i.memoizedProps,_=m.id,O=m.onPostCommit;typeof O=="function"&&O(_,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(U){Ft(i,i.return,U)}}else qr(r,i,o,l);break;case 31:qr(r,i,o,l);break;case 13:qr(r,i,o,l);break;case 23:break;case 22:m=i.stateNode,_=i.alternate,i.memoizedState!==null?m._visibility&2?qr(r,i,o,l):Fo(r,i):m._visibility&2?qr(r,i,o,l):(m._visibility|=2,ja(r,i,o,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&gh(_,i);break;case 24:qr(r,i,o,l),h&2048&&vh(i.alternate,i);break;default:qr(r,i,o,l)}}function ja(r,i,o,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=r,_=i,O=o,U=l,Z=_.flags;switch(_.tag){case 0:case 11:case 15:ja(m,_,O,U,h),Vo(8,_);break;case 23:break;case 22:var oe=_.stateNode;_.memoizedState!==null?oe._visibility&2?ja(m,_,O,U,h):Fo(m,_):(oe._visibility|=2,ja(m,_,O,U,h)),h&&Z&2048&&gh(_.alternate,_);break;case 24:ja(m,_,O,U,h),h&&Z&2048&&vh(_.alternate,_);break;default:ja(m,_,O,U,h)}i=i.sibling}}function Fo(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,l=i,h=l.flags;switch(l.tag){case 22:Fo(o,l),h&2048&&gh(l.alternate,l);break;case 24:Fo(o,l),h&2048&&vh(l.alternate,l);break;default:Fo(o,l)}i=i.sibling}}var Yo=8192;function La(r,i,o){if(r.subtreeFlags&Yo)for(r=r.child;r!==null;)Tv(r,i,o),r=r.sibling}function Tv(r,i,o){switch(r.tag){case 26:La(r,i,o),r.flags&Yo&&r.memoizedState!==null&&IR(o,Vr,r.memoizedState,r.memoizedProps);break;case 5:La(r,i,o);break;case 3:case 4:var l=Vr;Vr=Kl(r.stateNode.containerInfo),La(r,i,o),Vr=l;break;case 22:r.memoizedState===null&&(l=r.alternate,l!==null&&l.memoizedState!==null?(l=Yo,Yo=16777216,La(r,i,o),Yo=l):La(r,i,o));break;default:La(r,i,o)}}function Rv(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Go(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var l=i[o];Un=l,Ov(l,r)}Rv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Av(r),r=r.sibling}function Av(r){switch(r.tag){case 0:case 11:case 15:Go(r),r.flags&2048&&ui(9,r,r.return);break;case 3:Go(r);break;case 12:Go(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,jl(r)):Go(r);break;default:Go(r)}}function jl(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var l=i[o];Un=l,Ov(l,r)}Rv(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:ui(8,i,i.return),jl(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,jl(i));break;default:jl(i)}r=r.sibling}}function Ov(r,i){for(;Un!==null;){var o=Un;switch(o.tag){case 0:case 11:case 15:ui(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var l=o.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Mo(o.memoizedState.cache)}if(l=o.child,l!==null)l.return=o,Un=l;else e:for(o=r;Un!==null;){l=Un;var h=l.sibling,m=l.return;if(xv(l),l===o){Un=null;break e}if(h!==null){h.return=m,Un=h;break e}Un=m}}}var WT={getCacheForType:function(r){var i=Bn(Sn),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o},cacheSignal:function(){return Bn(Sn).controller.signal}},eR=typeof WeakMap=="function"?WeakMap:Map,zt=0,Jt=null,Et=null,Rt=0,qt=0,vr=null,fi=!1,Ua=!1,xh=!1,Us=0,hn=0,di=0,Ki=0,bh=0,xr=0,Ia=0,Ko=null,ar=null,Sh=!1,Ll=0,Mv=0,Ul=1/0,Il=null,hi=null,On=0,pi=null,za=null,Is=0,_h=0,wh=null,Pv=null,Xo=0,Ch=null;function br(){return(zt&2)!==0&&Rt!==0?Rt&-Rt:H.T!==null?Mh():x()}function Nv(){if(xr===0)if((Rt&536870912)===0||Mt){var r=_s;_s<<=1,(_s&3932160)===0&&(_s=262144),xr=r}else xr=536870912;return r=yr.current,r!==null&&(r.flags|=32),xr}function or(r,i,o){(r===Jt&&(qt===2||qt===9)||r.cancelPendingCommit!==null)&&(Ba(r,0),mi(r,Rt,xr,!1)),Se(r,o),((zt&2)===0||r!==Jt)&&(r===Jt&&((zt&2)===0&&(Ki|=o),hn===4&&mi(r,Rt,xr,!1)),ss(r))}function Dv(r,i,o){if((zt&6)!==0)throw Error(s(327));var l=!o&&(i&127)===0&&(i&r.expiredLanes)===0||qn(r,i),h=l?rR(r,i):Th(r,i,!0),m=l;do{if(h===0){Ua&&!l&&mi(r,i,0,!1);break}else{if(o=r.current.alternate,m&&!tR(o)){h=Th(r,i,!1),m=!1;continue}if(h===2){if(m=i,r.errorRecoveryDisabledLanes&m)var _=0;else _=r.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var O=r;h=Ko;var U=O.current.memoizedState.isDehydrated;if(U&&(Ba(O,_).flags|=256),_=Th(O,_,!1),_!==2){if(xh&&!U){O.errorRecoveryDisabledLanes|=m,Ki|=m,h=4;break e}m=ar,ar=h,m!==null&&(ar===null?ar=m:ar.push.apply(ar,m))}h=_}if(m=!1,h!==2)continue}}if(h===1){Ba(r,0),mi(r,i,0,!0);break}e:{switch(l=r,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:mi(l,i,xr,!fi);break e;case 2:ar=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ll+300-dt(),10<h)){if(mi(l,i,xr,!fi),In(l,0,!0)!==0)break e;Is=i,l.timeoutHandle=ux(kv.bind(null,l,o,ar,Il,Sh,i,xr,Ki,Ia,fi,m,"Throttled",-0,0),h);break e}kv(l,o,ar,Il,Sh,i,xr,Ki,Ia,fi,m,null,-0,0)}}break}while(!0);ss(r)}function kv(r,i,o,l,h,m,_,O,U,Z,oe,he,W,ne){if(r.timeoutHandle=-1,he=i.subtreeFlags,he&8192||(he&16785408)===16785408){he={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ws},Tv(i,m,he);var $e=(m&62914560)===m?Ll-dt():(m&4194048)===m?Mv-dt():0;if($e=zR(he,$e),$e!==null){Is=m,r.cancelPendingCommit=$e($v.bind(null,r,i,m,o,l,h,_,O,U,oe,he,null,W,ne)),mi(r,m,_,!Z);return}}$v(r,i,m,o,l,h,_,O,U)}function tR(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var l=0;l<o.length;l++){var h=o[l],m=h.getSnapshot;h=h.value;try{if(!pr(m(),h))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function mi(r,i,o,l){i&=~bh,i&=~Ki,r.suspendedLanes|=i,r.pingedLanes&=~i,l&&(r.warmLanes|=i),l=r.expirationTimes;for(var h=i;0<h;){var m=31-yn(h),_=1<<m;l[m]=-1,h&=~_}o!==0&&mt(r,o,i)}function zl(){return(zt&6)===0?(Qo(0),!1):!0}function Eh(){if(Et!==null){if(qt===0)var r=Et.return;else r=Et,Rs=zi=null,Hd(r),Ma=null,No=0,r=Et;for(;r!==null;)fv(r.alternate,r),r=r.return;Et=null}}function Ba(r,i){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,SR(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Is=0,Eh(),Jt=r,Et=o=Es(r.current,null),Rt=i,qt=0,vr=null,fi=!1,Ua=qn(r,i),xh=!1,Ia=xr=bh=Ki=di=hn=0,ar=Ko=null,Sh=!1,(i&8)!==0&&(i|=i&32);var l=r.entangledLanes;if(l!==0)for(r=r.entanglements,l&=i;0<l;){var h=31-yn(l),m=1<<h;i|=r[h],l&=~m}return Us=i,al(),o}function jv(r,i){pt=null,H.H=Bo,i===Oa||i===pl?(i=Zg(),qt=3):i===Od?(i=Zg(),qt=4):qt=i===rh?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vr=i,Et===null&&(hn=1,Al(r,Ar(i,r.current)))}function Lv(){var r=yr.current;return r===null?!0:(Rt&4194048)===Rt?Nr===null:(Rt&62914560)===Rt||(Rt&536870912)!==0?r===Nr:!1}function Uv(){var r=H.H;return H.H=Bo,r===null?Bo:r}function Iv(){var r=H.A;return H.A=WT,r}function Bl(){hn=4,fi||(Rt&4194048)!==Rt&&yr.current!==null||(Ua=!0),(di&134217727)===0&&(Ki&134217727)===0||Jt===null||mi(Jt,Rt,xr,!1)}function Th(r,i,o){var l=zt;zt|=2;var h=Uv(),m=Iv();(Jt!==r||Rt!==i)&&(Il=null,Ba(r,i)),i=!1;var _=hn;e:do try{if(qt!==0&&Et!==null){var O=Et,U=vr;switch(qt){case 8:Eh(),_=6;break e;case 3:case 2:case 9:case 6:yr.current===null&&(i=!0);var Z=qt;if(qt=0,vr=null,Ha(r,O,U,Z),o&&Ua){_=0;break e}break;default:Z=qt,qt=0,vr=null,Ha(r,O,U,Z)}}nR(),_=hn;break}catch(oe){jv(r,oe)}while(!0);return i&&r.shellSuspendCounter++,Rs=zi=null,zt=l,H.H=h,H.A=m,Et===null&&(Jt=null,Rt=0,al()),_}function nR(){for(;Et!==null;)zv(Et)}function rR(r,i){var o=zt;zt|=2;var l=Uv(),h=Iv();Jt!==r||Rt!==i?(Il=null,Ul=dt()+500,Ba(r,i)):Ua=qn(r,i);e:do try{if(qt!==0&&Et!==null){i=Et;var m=vr;t:switch(qt){case 1:qt=0,vr=null,Ha(r,i,m,1);break;case 2:case 9:if(Xg(m)){qt=0,vr=null,Bv(i);break}i=function(){qt!==2&&qt!==9||Jt!==r||(qt=7),ss(r)},m.then(i,i);break e;case 3:qt=7;break e;case 4:qt=5;break e;case 7:Xg(m)?(qt=0,vr=null,Bv(i)):(qt=0,vr=null,Ha(r,i,m,7));break;case 5:var _=null;switch(Et.tag){case 26:_=Et.memoizedState;case 5:case 27:var O=Et;if(_?Ex(_):O.stateNode.complete){qt=0,vr=null;var U=O.sibling;if(U!==null)Et=U;else{var Z=O.return;Z!==null?(Et=Z,Hl(Z)):Et=null}break t}}qt=0,vr=null,Ha(r,i,m,5);break;case 6:qt=0,vr=null,Ha(r,i,m,6);break;case 8:Eh(),hn=6;break e;default:throw Error(s(462))}}sR();break}catch(oe){jv(r,oe)}while(!0);return Rs=zi=null,H.H=l,H.A=h,zt=o,Et!==null?0:(Jt=null,Rt=0,al(),hn)}function sR(){for(;Et!==null&&!Rn();)zv(Et)}function zv(r){var i=lv(r.alternate,r,Us);r.memoizedProps=r.pendingProps,i===null?Hl(r):Et=i}function Bv(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=rv(o,i,i.pendingProps,i.type,void 0,Rt);break;case 11:i=rv(o,i,i.pendingProps,i.type.render,i.ref,Rt);break;case 5:Hd(i);default:fv(o,i),i=Et=Ig(i,Us),i=lv(o,i,Us)}r.memoizedProps=r.pendingProps,i===null?Hl(r):Et=i}function Ha(r,i,o,l){Rs=zi=null,Hd(i),Ma=null,No=0;var h=i.return;try{if(YT(r,h,i,o,Rt)){hn=1,Al(r,Ar(o,r.current)),Et=null;return}}catch(m){if(h!==null)throw Et=h,m;hn=1,Al(r,Ar(o,r.current)),Et=null;return}i.flags&32768?(Mt||l===1?r=!0:Ua||(Rt&536870912)!==0?r=!1:(fi=r=!0,(l===2||l===9||l===3||l===6)&&(l=yr.current,l!==null&&l.tag===13&&(l.flags|=16384))),Hv(i,r)):Hl(i)}function Hl(r){var i=r;do{if((i.flags&32768)!==0){Hv(i,fi);return}r=i.return;var o=XT(i.alternate,i,Us);if(o!==null){Et=o;return}if(i=i.sibling,i!==null){Et=i;return}Et=i=r}while(i!==null);hn===0&&(hn=5)}function Hv(r,i){do{var o=QT(r.alternate,r);if(o!==null){o.flags&=32767,Et=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){Et=r;return}Et=r=o}while(r!==null);hn=6,Et=null}function $v(r,i,o,l,h,m,_,O,U){r.cancelPendingCommit=null;do $l();while(On!==0);if((zt&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=pd,it(r,o,m,_,O,U),r===Jt&&(Et=Jt=null,Rt=0),za=i,pi=r,Is=o,_h=m,wh=h,Pv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,cR(An,function(){return Gv(),null})):(r.callbackNode=null,r.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=ie.p,ie.p=2,_=zt,zt|=4;try{ZT(r,i,o)}finally{zt=_,ie.p=h,H.T=l}}On=1,Vv(),qv(),Fv()}}function Vv(){if(On===1){On=0;var r=pi,i=za,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var l=ie.p;ie.p=2;var h=zt;zt|=4;try{wv(i,r);var m=Ih,_=Og(r.containerInfo),O=m.focusedElem,U=m.selectionRange;if(_!==O&&O&&O.ownerDocument&&Ag(O.ownerDocument.documentElement,O)){if(U!==null&&ld(O)){var Z=U.start,oe=U.end;if(oe===void 0&&(oe=Z),"selectionStart"in O)O.selectionStart=Z,O.selectionEnd=Math.min(oe,O.value.length);else{var he=O.ownerDocument||document,W=he&&he.defaultView||window;if(W.getSelection){var ne=W.getSelection(),$e=O.textContent.length,tt=Math.min(U.start,$e),Qt=U.end===void 0?tt:Math.min(U.end,$e);!ne.extend&&tt>Qt&&(_=Qt,Qt=tt,tt=_);var q=Rg(O,tt),B=Rg(O,Qt);if(q&&B&&(ne.rangeCount!==1||ne.anchorNode!==q.node||ne.anchorOffset!==q.offset||ne.focusNode!==B.node||ne.focusOffset!==B.offset)){var K=he.createRange();K.setStart(q.node,q.offset),ne.removeAllRanges(),tt>Qt?(ne.addRange(K),ne.extend(B.node,B.offset)):(K.setEnd(B.node,B.offset),ne.addRange(K))}}}}for(he=[],ne=O;ne=ne.parentNode;)ne.nodeType===1&&he.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<he.length;O++){var ue=he[O];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}eu=!!Uh,Ih=Uh=null}finally{zt=h,ie.p=l,H.T=o}}r.current=i,On=2}}function qv(){if(On===2){On=0;var r=pi,i=za,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var l=ie.p;ie.p=2;var h=zt;zt|=4;try{vv(r,i.alternate,i)}finally{zt=h,ie.p=l,H.T=o}}On=3}}function Fv(){if(On===4||On===3){On=0,at();var r=pi,i=za,o=Is,l=Pv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?On=5:(On=0,za=pi=null,Yv(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(hi=null),R(o),i=i.stateNode,un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(hr,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=H.T,h=ie.p,ie.p=2,H.T=null;try{for(var m=r.onRecoverableError,_=0;_<l.length;_++){var O=l[_];m(O.value,{componentStack:O.stack})}}finally{H.T=i,ie.p=h}}(Is&3)!==0&&$l(),ss(r),h=r.pendingLanes,(o&261930)!==0&&(h&42)!==0?r===Ch?Xo++:(Xo=0,Ch=r):Xo=0,Qo(0)}}function Yv(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Mo(i)))}function $l(){return Vv(),qv(),Fv(),Gv()}function Gv(){if(On!==5)return!1;var r=pi,i=_h;_h=0;var o=R(Is),l=H.T,h=ie.p;try{ie.p=32>o?32:o,H.T=null,o=wh,wh=null;var m=pi,_=Is;if(On=0,za=pi=null,Is=0,(zt&6)!==0)throw Error(s(331));var O=zt;if(zt|=4,Av(m.current),Ev(m,m.current,_,o),zt=O,Qo(0,!1),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(hr,m)}catch{}return!0}finally{ie.p=h,H.T=l,Yv(r,i)}}function Kv(r,i,o){i=Ar(o,i),i=nh(r.stateNode,i,2),r=oi(r,i,2),r!==null&&(Se(r,2),ss(r))}function Ft(r,i,o){if(r.tag===3)Kv(r,r,o);else for(;i!==null;){if(i.tag===3){Kv(i,r,o);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hi===null||!hi.has(l))){r=Ar(o,r),o=X0(2),l=oi(i,o,2),l!==null&&(Q0(o,l,i,r),Se(l,2),ss(l));break}}i=i.return}}function Rh(r,i,o){var l=r.pingCache;if(l===null){l=r.pingCache=new eR;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(o)||(xh=!0,h.add(o),r=iR.bind(null,r,i,o),i.then(r,r))}function iR(r,i,o){var l=r.pingCache;l!==null&&l.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Jt===r&&(Rt&o)===o&&(hn===4||hn===3&&(Rt&62914560)===Rt&&300>dt()-Ll?(zt&2)===0&&Ba(r,0):bh|=o,Ia===Rt&&(Ia=0)),ss(r)}function Xv(r,i){i===0&&(i=Ws()),r=Li(r,i),r!==null&&(Se(r,i),ss(r))}function aR(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),Xv(r,o)}function oR(r,i){var o=0;switch(r.tag){case 31:case 13:var l=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:l=r.stateNode;break;case 22:l=r.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Xv(r,o)}function cR(r,i){return kt(r,i)}var Vl=null,$a=null,Ah=!1,ql=!1,Oh=!1,yi=0;function ss(r){r!==$a&&r.next===null&&($a===null?Vl=$a=r:$a=$a.next=r),ql=!0,Ah||(Ah=!0,uR())}function Qo(r,i){if(!Oh&&ql){Oh=!0;do for(var o=!1,l=Vl;l!==null;){if(r!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var _=l.suspendedLanes,O=l.pingedLanes;m=(1<<31-yn(42|r)+1)-1,m&=h&~(_&~O),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,Wv(l,m))}else m=Rt,m=In(l,l===Jt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||qn(l,m)||(o=!0,Wv(l,m));l=l.next}while(o);Oh=!1}}function lR(){Qv()}function Qv(){ql=Ah=!1;var r=0;yi!==0&&bR()&&(r=yi);for(var i=dt(),o=null,l=Vl;l!==null;){var h=l.next,m=Zv(l,i);m===0?(l.next=null,o===null?Vl=h:o.next=h,h===null&&($a=o)):(o=l,(r!==0||(m&3)!==0)&&(ql=!0)),l=h}On!==0&&On!==5||Qo(r),yi!==0&&(yi=0)}function Zv(r,i){for(var o=r.suspendedLanes,l=r.pingedLanes,h=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var _=31-yn(m),O=1<<_,U=h[_];U===-1?((O&o)===0||(O&l)!==0)&&(h[_]=Hr(O,i)):U<=i&&(r.expiredLanes|=O),m&=~O}if(i=Jt,o=Rt,o=In(r,r===i?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l=r.callbackNode,o===0||r===i&&(qt===2||qt===9)||r.cancelPendingCommit!==null)return l!==null&&l!==null&&Gt(l),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||qn(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(l!==null&&Gt(l),R(o)){case 2:case 8:o=fr;break;case 32:o=An;break;case 268435456:o=dr;break;default:o=An}return l=Jv.bind(null,r),o=kt(o,l),r.callbackPriority=i,r.callbackNode=o,i}return l!==null&&l!==null&&Gt(l),r.callbackPriority=2,r.callbackNode=null,2}function Jv(r,i){if(On!==0&&On!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if($l()&&r.callbackNode!==o)return null;var l=Rt;return l=In(r,r===Jt?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),l===0?null:(Dv(r,l,i),Zv(r,dt()),r.callbackNode!=null&&r.callbackNode===o?Jv.bind(null,r):null)}function Wv(r,i){if($l())return null;Dv(r,i,!0)}function uR(){_R(function(){(zt&6)!==0?kt(Dn,lR):Qv()})}function Mh(){if(yi===0){var r=Ra;r===0&&(r=es,es<<=1,(es&261888)===0&&(es=256)),yi=r}return yi}function ex(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Jc(""+r)}function tx(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function fR(r,i,o,l,h){if(i==="submit"&&o&&o.stateNode===h){var m=ex((h[ae]||null).action),_=l.submitter;_&&(i=(i=_[ae]||null)?ex(i.formAction):_.getAttribute("formAction"),i!==null&&(m=i,_=null));var O=new nl("action","action",null,l,h);r.push({event:O,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(yi!==0){var U=_?tx(h,_):new FormData(h);Qd(o,{pending:!0,data:U,method:h.method,action:m},null,U)}}else typeof m=="function"&&(O.preventDefault(),U=_?tx(h,_):new FormData(h),Qd(o,{pending:!0,data:U,method:h.method,action:m},m,U))},currentTarget:h}]})}}for(var Ph=0;Ph<hd.length;Ph++){var Nh=hd[Ph],dR=Nh.toLowerCase(),hR=Nh[0].toUpperCase()+Nh.slice(1);$r(dR,"on"+hR)}$r(Ng,"onAnimationEnd"),$r(Dg,"onAnimationIteration"),$r(kg,"onAnimationStart"),$r("dblclick","onDoubleClick"),$r("focusin","onFocus"),$r("focusout","onBlur"),$r(OT,"onTransitionRun"),$r(MT,"onTransitionStart"),$r(PT,"onTransitionCancel"),$r(jg,"onTransitionEnd"),Ne("onMouseEnter",["mouseout","mouseover"]),Ne("onMouseLeave",["mouseout","mouseover"]),Ne("onPointerEnter",["pointerout","pointerover"]),Ne("onPointerLeave",["pointerout","pointerover"]),Ae("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ae("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ae("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ae("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ae("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ae("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zo));function nx(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var l=r[o],h=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var _=l.length-1;0<=_;_--){var O=l[_],U=O.instance,Z=O.currentTarget;if(O=O.listener,U!==m&&h.isPropagationStopped())break e;m=O,h.currentTarget=Z;try{m(h)}catch(oe){il(oe)}h.currentTarget=null,m=U}else for(_=0;_<l.length;_++){if(O=l[_],U=O.instance,Z=O.currentTarget,O=O.listener,U!==m&&h.isPropagationStopped())break e;m=O,h.currentTarget=Z;try{m(h)}catch(oe){il(oe)}h.currentTarget=null,m=U}}}}function Tt(r,i){var o=i[Be];o===void 0&&(o=i[Be]=new Set);var l=r+"__bubble";o.has(l)||(rx(i,r,2,!1),o.add(l))}function Dh(r,i,o){var l=0;i&&(l|=4),rx(o,r,l,i)}var Fl="_reactListening"+Math.random().toString(36).slice(2);function kh(r){if(!r[Fl]){r[Fl]=!0,Ie.forEach(function(o){o!=="selectionchange"&&(pR.has(o)||Dh(o,!1,r),Dh(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Fl]||(i[Fl]=!0,Dh("selectionchange",!1,i))}}function rx(r,i,o,l){switch(Nx(i)){case 2:var h=$R;break;case 8:h=VR;break;default:h=Xh}o=h.bind(null,i,o,r),h=void 0,!ed||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?r.addEventListener(i,o,{capture:!0,passive:h}):r.addEventListener(i,o,!0):h!==void 0?r.addEventListener(i,o,{passive:h}):r.addEventListener(i,o,!1)}function jh(r,i,o,l,h){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var O=l.stateNode.containerInfo;if(O===h)break;if(_===4)for(_=l.return;_!==null;){var U=_.tag;if((U===3||U===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;O!==null;){if(_=st(O),_===null)return;if(U=_.tag,U===5||U===6||U===26||U===27){l=m=_;continue e}O=O.parentNode}}l=l.return}cg(function(){var Z=m,oe=Jf(o),he=[];e:{var W=Lg.get(r);if(W!==void 0){var ne=nl,$e=r;switch(r){case"keypress":if(el(o)===0)break e;case"keydown":case"keyup":ne=oT;break;case"focusin":$e="focus",ne=sd;break;case"focusout":$e="blur",ne=sd;break;case"beforeblur":case"afterblur":ne=sd;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=fg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=XE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=uT;break;case Ng:case Dg:case kg:ne=JE;break;case jg:ne=dT;break;case"scroll":case"scrollend":ne=GE;break;case"wheel":ne=pT;break;case"copy":case"cut":case"paste":ne=eT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=hg;break;case"toggle":case"beforetoggle":ne=yT}var tt=(i&4)!==0,Qt=!tt&&(r==="scroll"||r==="scrollend"),q=tt?W!==null?W+"Capture":null:W;tt=[];for(var B=Z,K;B!==null;){var ue=B;if(K=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||K===null||q===null||(ue=xo(B,q),ue!=null&&tt.push(Jo(B,ue,K))),Qt)break;B=B.return}0<tt.length&&(W=new ne(W,$e,null,o,oe),he.push({event:W,listeners:tt}))}}if((i&7)===0){e:{if(W=r==="mouseover"||r==="pointerover",ne=r==="mouseout"||r==="pointerout",W&&o!==Zf&&($e=o.relatedTarget||o.fromElement)&&(st($e)||$e[Ce]))break e;if((ne||W)&&(W=oe.window===oe?oe:(W=oe.ownerDocument)?W.defaultView||W.parentWindow:window,ne?($e=o.relatedTarget||o.toElement,ne=Z,$e=$e?st($e):null,$e!==null&&(Qt=c($e),tt=$e.tag,$e!==Qt||tt!==5&&tt!==27&&tt!==6)&&($e=null)):(ne=null,$e=Z),ne!==$e)){if(tt=fg,ue="onMouseLeave",q="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(tt=hg,ue="onPointerLeave",q="onPointerEnter",B="pointer"),Qt=ne==null?W:We(ne),K=$e==null?W:We($e),W=new tt(ue,B+"leave",ne,o,oe),W.target=Qt,W.relatedTarget=K,ue=null,st(oe)===Z&&(tt=new tt(q,B+"enter",$e,o,oe),tt.target=K,tt.relatedTarget=Qt,ue=tt),Qt=ue,ne&&$e)t:{for(tt=mR,q=ne,B=$e,K=0,ue=q;ue;ue=tt(ue))K++;ue=0;for(var Qe=B;Qe;Qe=tt(Qe))ue++;for(;0<K-ue;)q=tt(q),K--;for(;0<ue-K;)B=tt(B),ue--;for(;K--;){if(q===B||B!==null&&q===B.alternate){tt=q;break t}q=tt(q),B=tt(B)}tt=null}else tt=null;ne!==null&&sx(he,W,ne,tt,!1),$e!==null&&Qt!==null&&sx(he,Qt,$e,tt,!0)}}e:{if(W=Z?We(Z):window,ne=W.nodeName&&W.nodeName.toLowerCase(),ne==="select"||ne==="input"&&W.type==="file")var Lt=Sg;else if(xg(W))if(_g)Lt=TT;else{Lt=CT;var Ge=wT}else ne=W.nodeName,!ne||ne.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?Z&&bn(Z.elementType)&&(Lt=Sg):Lt=ET;if(Lt&&(Lt=Lt(r,Z))){bg(he,Lt,o,oe);break e}Ge&&Ge(r,W,Z),r==="focusout"&&Z&&W.type==="number"&&Z.memoizedProps.value!=null&&_t(W,"number",W.value)}switch(Ge=Z?We(Z):window,r){case"focusin":(xg(Ge)||Ge.contentEditable==="true")&&(xa=Ge,ud=Z,Ro=null);break;case"focusout":Ro=ud=xa=null;break;case"mousedown":fd=!0;break;case"contextmenu":case"mouseup":case"dragend":fd=!1,Mg(he,o,oe);break;case"selectionchange":if(AT)break;case"keydown":case"keyup":Mg(he,o,oe)}var vt;if(ad)e:{switch(r){case"compositionstart":var At="onCompositionStart";break e;case"compositionend":At="onCompositionEnd";break e;case"compositionupdate":At="onCompositionUpdate";break e}At=void 0}else va?gg(r,o)&&(At="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(At="onCompositionStart");At&&(pg&&o.locale!=="ko"&&(va||At!=="onCompositionStart"?At==="onCompositionEnd"&&va&&(vt=lg()):(ei=oe,td="value"in ei?ei.value:ei.textContent,va=!0)),Ge=Yl(Z,At),0<Ge.length&&(At=new dg(At,r,null,o,oe),he.push({event:At,listeners:Ge}),vt?At.data=vt:(vt=vg(o),vt!==null&&(At.data=vt)))),(vt=vT?xT(r,o):bT(r,o))&&(At=Yl(Z,"onBeforeInput"),0<At.length&&(Ge=new dg("onBeforeInput","beforeinput",null,o,oe),he.push({event:Ge,listeners:At}),Ge.data=vt)),fR(he,r,Z,o,oe)}nx(he,i)})}function Jo(r,i,o){return{instance:r,listener:i,currentTarget:o}}function Yl(r,i){for(var o=i+"Capture",l=[];r!==null;){var h=r,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=xo(r,o),h!=null&&l.unshift(Jo(r,h,m)),h=xo(r,i),h!=null&&l.push(Jo(r,h,m))),r.tag===3)return l;r=r.return}return[]}function mR(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function sx(r,i,o,l,h){for(var m=i._reactName,_=[];o!==null&&o!==l;){var O=o,U=O.alternate,Z=O.stateNode;if(O=O.tag,U!==null&&U===l)break;O!==5&&O!==26&&O!==27||Z===null||(U=Z,h?(Z=xo(o,m),Z!=null&&_.unshift(Jo(o,Z,U))):h||(Z=xo(o,m),Z!=null&&_.push(Jo(o,Z,U)))),o=o.return}_.length!==0&&r.push({event:i,listeners:_})}var yR=/\r\n?/g,gR=/\u0000|\uFFFD/g;function ix(r){return(typeof r=="string"?r:""+r).replace(yR,`
`).replace(gR,"")}function ax(r,i){return i=ix(i),ix(r)===i}function Xt(r,i,o,l,h,m){switch(o){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Vt(r,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Vt(r,""+l);break;case"className":fe(r,"class",l);break;case"tabIndex":fe(r,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":fe(r,o,l);break;case"style":fn(r,l,m);break;case"data":if(i!=="object"){fe(r,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(o);break}l=Jc(""+l),r.setAttribute(o,l);break;case"action":case"formAction":if(typeof l=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(i!=="input"&&Xt(r,i,"name",h.name,h,null),Xt(r,i,"formEncType",h.formEncType,h,null),Xt(r,i,"formMethod",h.formMethod,h,null),Xt(r,i,"formTarget",h.formTarget,h,null)):(Xt(r,i,"encType",h.encType,h,null),Xt(r,i,"method",h.method,h,null),Xt(r,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){r.removeAttribute(o);break}l=Jc(""+l),r.setAttribute(o,l);break;case"onClick":l!=null&&(r.onclick=ws);break;case"onScroll":l!=null&&Tt("scroll",r);break;case"onScrollEnd":l!=null&&Tt("scrollend",r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(o=l.__html,o!=null){if(h.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"multiple":r.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":r.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){r.removeAttribute("xlink:href");break}o=Jc(""+l),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,""+l):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":l===!0?r.setAttribute(o,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?r.setAttribute(o,l):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?r.setAttribute(o,l):r.removeAttribute(o);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?r.removeAttribute(o):r.setAttribute(o,l);break;case"popover":Tt("beforetoggle",r),Tt("toggle",r),ve(r,"popover",l);break;case"xlinkActuate":ce(r,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ce(r,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ce(r,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ce(r,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ce(r,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ce(r,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ce(r,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ce(r,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ce(r,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ve(r,"is",l);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=jn.get(o)||o,ve(r,o,l))}}function Lh(r,i,o,l,h,m){switch(o){case"style":fn(r,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(o=l.__html,o!=null){if(h.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"children":typeof l=="string"?Vt(r,l):(typeof l=="number"||typeof l=="bigint")&&Vt(r,""+l);break;case"onScroll":l!=null&&Tt("scroll",r);break;case"onScrollEnd":l!=null&&Tt("scrollend",r);break;case"onClick":l!=null&&(r.onclick=ws);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ke.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),i=o.slice(2,h?o.length-7:void 0),m=r[ae]||null,m=m!=null?m[o]:null,typeof m=="function"&&r.removeEventListener(i,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,l,h);break e}o in r?r[o]=l:l===!0?r.setAttribute(o,""):ve(r,o,l)}}}function $n(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tt("error",r),Tt("load",r);var l=!1,h=!1,m;for(m in o)if(o.hasOwnProperty(m)){var _=o[m];if(_!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(r,i,m,_,o,null)}}h&&Xt(r,i,"srcSet",o.srcSet,o,null),l&&Xt(r,i,"src",o.src,o,null);return;case"input":Tt("invalid",r);var O=m=_=h=null,U=null,Z=null;for(l in o)if(o.hasOwnProperty(l)){var oe=o[l];if(oe!=null)switch(l){case"name":h=oe;break;case"type":_=oe;break;case"checked":U=oe;break;case"defaultChecked":Z=oe;break;case"value":m=oe;break;case"defaultValue":O=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(s(137,i));break;default:Xt(r,i,l,oe,o,null)}}ht(r,m,O,U,Z,_,h,!1);return;case"select":Tt("invalid",r),l=_=m=null;for(h in o)if(o.hasOwnProperty(h)&&(O=o[h],O!=null))switch(h){case"value":m=O;break;case"defaultValue":_=O;break;case"multiple":l=O;default:Xt(r,i,h,O,o,null)}i=m,o=_,r.multiple=!!l,i!=null?gt(r,!!l,i,!1):o!=null&&gt(r,!!l,o,!0);return;case"textarea":Tt("invalid",r),m=h=l=null;for(_ in o)if(o.hasOwnProperty(_)&&(O=o[_],O!=null))switch(_){case"value":l=O;break;case"defaultValue":h=O;break;case"children":m=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(91));break;default:Xt(r,i,_,O,o,null)}jt(r,l,h,m);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(l=o[U],l!=null))switch(U){case"selected":r.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(r,i,U,l,o,null)}return;case"dialog":Tt("beforetoggle",r),Tt("toggle",r),Tt("cancel",r),Tt("close",r);break;case"iframe":case"object":Tt("load",r);break;case"video":case"audio":for(l=0;l<Zo.length;l++)Tt(Zo[l],r);break;case"image":Tt("error",r),Tt("load",r);break;case"details":Tt("toggle",r);break;case"embed":case"source":case"link":Tt("error",r),Tt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in o)if(o.hasOwnProperty(Z)&&(l=o[Z],l!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xt(r,i,Z,l,o,null)}return;default:if(bn(i)){for(oe in o)o.hasOwnProperty(oe)&&(l=o[oe],l!==void 0&&Lh(r,i,oe,l,o,void 0));return}}for(O in o)o.hasOwnProperty(O)&&(l=o[O],l!=null&&Xt(r,i,O,l,o,null))}function vR(r,i,o,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,_=null,O=null,U=null,Z=null,oe=null;for(ne in o){var he=o[ne];if(o.hasOwnProperty(ne)&&he!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":U=he;default:l.hasOwnProperty(ne)||Xt(r,i,ne,null,l,he)}}for(var W in l){var ne=l[W];if(he=o[W],l.hasOwnProperty(W)&&(ne!=null||he!=null))switch(W){case"type":m=ne;break;case"name":h=ne;break;case"checked":Z=ne;break;case"defaultChecked":oe=ne;break;case"value":_=ne;break;case"defaultValue":O=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,i));break;default:ne!==he&&Xt(r,i,W,ne,l,he)}}Ct(r,_,O,U,Z,oe,m,h);return;case"select":ne=_=O=W=null;for(m in o)if(U=o[m],o.hasOwnProperty(m)&&U!=null)switch(m){case"value":break;case"multiple":ne=U;default:l.hasOwnProperty(m)||Xt(r,i,m,null,l,U)}for(h in l)if(m=l[h],U=o[h],l.hasOwnProperty(h)&&(m!=null||U!=null))switch(h){case"value":W=m;break;case"defaultValue":O=m;break;case"multiple":_=m;default:m!==U&&Xt(r,i,h,m,l,U)}i=O,o=_,l=ne,W!=null?gt(r,!!o,W,!1):!!l!=!!o&&(i!=null?gt(r,!!o,i,!0):gt(r,!!o,o?[]:"",!1));return;case"textarea":ne=W=null;for(O in o)if(h=o[O],o.hasOwnProperty(O)&&h!=null&&!l.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Xt(r,i,O,null,l,h)}for(_ in l)if(h=l[_],m=o[_],l.hasOwnProperty(_)&&(h!=null||m!=null))switch(_){case"value":W=h;break;case"defaultValue":ne=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&Xt(r,i,_,h,l,m)}sn(r,W,ne);return;case"option":for(var $e in o)if(W=o[$e],o.hasOwnProperty($e)&&W!=null&&!l.hasOwnProperty($e))switch($e){case"selected":r.selected=!1;break;default:Xt(r,i,$e,null,l,W)}for(U in l)if(W=l[U],ne=o[U],l.hasOwnProperty(U)&&W!==ne&&(W!=null||ne!=null))switch(U){case"selected":r.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:Xt(r,i,U,W,l,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in o)W=o[tt],o.hasOwnProperty(tt)&&W!=null&&!l.hasOwnProperty(tt)&&Xt(r,i,tt,null,l,W);for(Z in l)if(W=l[Z],ne=o[Z],l.hasOwnProperty(Z)&&W!==ne&&(W!=null||ne!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:Xt(r,i,Z,W,l,ne)}return;default:if(bn(i)){for(var Qt in o)W=o[Qt],o.hasOwnProperty(Qt)&&W!==void 0&&!l.hasOwnProperty(Qt)&&Lh(r,i,Qt,void 0,l,W);for(oe in l)W=l[oe],ne=o[oe],!l.hasOwnProperty(oe)||W===ne||W===void 0&&ne===void 0||Lh(r,i,oe,W,l,ne);return}}for(var q in o)W=o[q],o.hasOwnProperty(q)&&W!=null&&!l.hasOwnProperty(q)&&Xt(r,i,q,null,l,W);for(he in l)W=l[he],ne=o[he],!l.hasOwnProperty(he)||W===ne||W==null&&ne==null||Xt(r,i,he,W,l,ne)}function ox(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xR(){if(typeof performance.getEntriesByType=="function"){for(var r=0,i=0,o=performance.getEntriesByType("resource"),l=0;l<o.length;l++){var h=o[l],m=h.transferSize,_=h.initiatorType,O=h.duration;if(m&&O&&ox(_)){for(_=0,O=h.responseEnd,l+=1;l<o.length;l++){var U=o[l],Z=U.startTime;if(Z>O)break;var oe=U.transferSize,he=U.initiatorType;oe&&ox(he)&&(U=U.responseEnd,_+=oe*(U<O?1:(O-Z)/(U-Z)))}if(--l,i+=8*(m+_)/(h.duration/1e3),r++,10<r)break}}if(0<r)return i/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Uh=null,Ih=null;function Gl(r){return r.nodeType===9?r:r.ownerDocument}function cx(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lx(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function zh(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Bh=null;function bR(){var r=window.event;return r&&r.type==="popstate"?r===Bh?!1:(Bh=r,!0):(Bh=null,!1)}var ux=typeof setTimeout=="function"?setTimeout:void 0,SR=typeof clearTimeout=="function"?clearTimeout:void 0,fx=typeof Promise=="function"?Promise:void 0,_R=typeof queueMicrotask=="function"?queueMicrotask:typeof fx<"u"?function(r){return fx.resolve(null).then(r).catch(wR)}:ux;function wR(r){setTimeout(function(){throw r})}function gi(r){return r==="head"}function dx(r,i){var o=i,l=0;do{var h=o.nextSibling;if(r.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"||o==="/&"){if(l===0){r.removeChild(h),Ya(i);return}l--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")l++;else if(o==="html")Wo(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,Wo(o);for(var m=o.firstChild;m;){var _=m.nextSibling,O=m.nodeName;m[Ze]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=_}}else o==="body"&&Wo(r.ownerDocument.body);o=h}while(o);Ya(i)}function hx(r,i){var o=r;r=0;do{var l=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),l&&l.nodeType===8)if(o=l.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=l}while(o)}function Hh(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Hh(o),nt(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function CR(r,i,o,l){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(l){if(!r[Ze])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=Dr(r.nextSibling),r===null)break}return null}function ER(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Dr(r.nextSibling),r===null))return null;return r}function px(r,i){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!i||(r=Dr(r.nextSibling),r===null))return null;return r}function $h(r){return r.data==="$?"||r.data==="$~"}function Vh(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function TR(r,i){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=i;else if(r.data!=="$?"||o.readyState!=="loading")i();else{var l=function(){i(),o.removeEventListener("DOMContentLoaded",l)};o.addEventListener("DOMContentLoaded",l),r._reactRetry=l}}function Dr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return r}var qh=null;function mx(r){r=r.nextSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(i===0)return Dr(r.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}r=r.nextSibling}return null}function yx(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return r;i--}else o!=="/$"&&o!=="/&"||i++}r=r.previousSibling}return null}function gx(r,i,o){switch(i=Gl(o),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Wo(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);nt(r)}var kr=new Map,vx=new Set;function Kl(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var zs=ie.d;ie.d={f:RR,r:AR,D:OR,C:MR,L:PR,m:NR,X:kR,S:DR,M:jR};function RR(){var r=zs.f(),i=zl();return r||i}function AR(r){var i=rt(r);i!==null&&i.tag===5&&i.type==="form"?j0(i):zs.r(r)}var Va=typeof document>"u"?null:document;function xx(r,i,o){var l=Va;if(l&&typeof i=="string"&&i){var h=ot(i);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),vx.has(h)||(vx.add(h),r={rel:r,crossOrigin:o,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),$n(i,"link",r),He(i),l.head.appendChild(i)))}}function OR(r){zs.D(r),xx("dns-prefetch",r,null)}function MR(r,i){zs.C(r,i),xx("preconnect",r,i)}function PR(r,i,o){zs.L(r,i,o);var l=Va;if(l&&r&&i){var h='link[rel="preload"][as="'+ot(i)+'"]';i==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+ot(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+ot(o.imageSizes)+'"]')):h+='[href="'+ot(r)+'"]';var m=h;switch(i){case"style":m=qa(r);break;case"script":m=Fa(r)}kr.has(m)||(r=g({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),kr.set(m,r),l.querySelector(h)!==null||i==="style"&&l.querySelector(ec(m))||i==="script"&&l.querySelector(tc(m))||(i=l.createElement("link"),$n(i,"link",r),He(i),l.head.appendChild(i)))}}function NR(r,i){zs.m(r,i);var o=Va;if(o&&r){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ot(l)+'"][href="'+ot(r)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Fa(r)}if(!kr.has(m)&&(r=g({rel:"modulepreload",href:r},i),kr.set(m,r),o.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(tc(m)))return}l=o.createElement("link"),$n(l,"link",r),He(l),o.head.appendChild(l)}}}function DR(r,i,o){zs.S(r,i,o);var l=Va;if(l&&r){var h=et(l).hoistableStyles,m=qa(r);i=i||"default";var _=h.get(m);if(!_){var O={loading:0,preload:null};if(_=l.querySelector(ec(m)))O.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":i},o),(o=kr.get(m))&&Fh(r,o);var U=_=l.createElement("link");He(U),$n(U,"link",r),U._p=new Promise(function(Z,oe){U.onload=Z,U.onerror=oe}),U.addEventListener("load",function(){O.loading|=1}),U.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Xl(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:O},h.set(m,_)}}}function kR(r,i){zs.X(r,i);var o=Va;if(o&&r){var l=et(o).hoistableScripts,h=Fa(r),m=l.get(h);m||(m=o.querySelector(tc(h)),m||(r=g({src:r,async:!0},i),(i=kr.get(h))&&Yh(r,i),m=o.createElement("script"),He(m),$n(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function jR(r,i){zs.M(r,i);var o=Va;if(o&&r){var l=et(o).hoistableScripts,h=Fa(r),m=l.get(h);m||(m=o.querySelector(tc(h)),m||(r=g({src:r,async:!0,type:"module"},i),(i=kr.get(h))&&Yh(r,i),m=o.createElement("script"),He(m),$n(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function bx(r,i,o,l){var h=(h=Re.current)?Kl(h):null;if(!h)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=qa(o.href),o=et(h).hoistableStyles,l=o.get(i),l||(l={type:"style",instance:null,count:0,state:null},o.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=qa(o.href);var m=et(h).hoistableStyles,_=m.get(r);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,_),(m=h.querySelector(ec(r)))&&!m._p&&(_.instance=m,_.state.loading=5),kr.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},kr.set(r,o),m||LR(h,r,o,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Fa(o),o=et(h).hoistableScripts,l=o.get(i),l||(l={type:"script",instance:null,count:0,state:null},o.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function qa(r){return'href="'+ot(r)+'"'}function ec(r){return'link[rel="stylesheet"]['+r+"]"}function Sx(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function LR(r,i,o,l){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=r.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),$n(i,"link",o),He(i),r.head.appendChild(i))}function Fa(r){return'[src="'+ot(r)+'"]'}function tc(r){return"script[async]"+r}function _x(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var l=r.querySelector('style[data-href~="'+ot(o.href)+'"]');if(l)return i.instance=l,He(l),l;var h=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return l=(r.ownerDocument||r).createElement("style"),He(l),$n(l,"style",h),Xl(l,o.precedence,r),i.instance=l;case"stylesheet":h=qa(o.href);var m=r.querySelector(ec(h));if(m)return i.state.loading|=4,i.instance=m,He(m),m;l=Sx(o),(h=kr.get(h))&&Fh(l,h),m=(r.ownerDocument||r).createElement("link"),He(m);var _=m;return _._p=new Promise(function(O,U){_.onload=O,_.onerror=U}),$n(m,"link",l),i.state.loading|=4,Xl(m,o.precedence,r),i.instance=m;case"script":return m=Fa(o.src),(h=r.querySelector(tc(m)))?(i.instance=h,He(h),h):(l=o,(h=kr.get(m))&&(l=g({},o),Yh(l,h)),r=r.ownerDocument||r,h=r.createElement("script"),He(h),$n(h,"link",l),r.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Xl(l,o.precedence,r));return i.instance}function Xl(r,i,o){for(var l=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,_=0;_<l.length;_++){var O=l[_];if(O.dataset.precedence===i)m=O;else if(m!==h)break}m?m.parentNode.insertBefore(r,m.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function Fh(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Yh(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Ql=null;function wx(r,i,o){if(Ql===null){var l=new Map,h=Ql=new Map;h.set(o,l)}else h=Ql,l=h.get(o),l||(l=new Map,h.set(o,l));if(l.has(r))return l;for(l.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var m=o[h];if(!(m[Ze]||m[V]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(i)||"";_=r+_;var O=l.get(_);O?O.push(m):l.set(_,[m])}}return l}function Cx(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function UR(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ex(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function IR(r,i,o,l){if(o.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var h=qa(l.href),m=i.querySelector(ec(h));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(r.count++,r=Zl.bind(r),i.then(r,r)),o.state.loading|=4,o.instance=m,He(m);return}m=i.ownerDocument||i,l=Sx(l),(h=kr.get(h))&&Fh(l,h),m=m.createElement("link"),He(m);var _=m;_._p=new Promise(function(O,U){_.onload=O,_.onerror=U}),$n(m,"link",l),o.instance=m}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=Zl.bind(r),i.addEventListener("load",o),i.addEventListener("error",o))}}var Gh=0;function zR(r,i){return r.stylesheets&&r.count===0&&Wl(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var l=setTimeout(function(){if(r.stylesheets&&Wl(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4+i);0<r.imgBytes&&Gh===0&&(Gh=62500*xR());var h=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Wl(r,r.stylesheets),r.unsuspend)){var m=r.unsuspend;r.unsuspend=null,m()}},(r.imgBytes>Gh?50:800)+i);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Zl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wl(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Jl=null;function Wl(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Jl=new Map,i.forEach(BR,r),Jl=null,Zl.call(r))}function BR(r,i){if(!(i.state.loading&4)){var o=Jl.get(r);if(o)var l=o.get(null);else{o=new Map,Jl.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var _=h[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),l=_)}l&&o.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),m=o.get(_)||l,m===l&&o.set(null,h),o.set(_,h),this.count++,l=Zl.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),i.state.loading|=4}}var nc={$$typeof:k,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function HR(r,i,o,l,h,m,_,O,U){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=re(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=re(0),this.hiddenUpdates=re(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Tx(r,i,o,l,h,m,_,O,U,Z,oe,he){return r=new HR(r,i,o,_,U,Z,oe,he,O),i=1,m===!0&&(i|=24),m=mr(3,null,null,i),r.current=m,m.stateNode=r,i=Td(),i.refCount++,r.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:o,cache:i},Md(m),r}function Rx(r){return r?(r=_a,r):_a}function Ax(r,i,o,l,h,m){h=Rx(h),l.context===null?l.context=h:l.pendingContext=h,l=ai(i),l.payload={element:o},m=m===void 0?null:m,m!==null&&(l.callback=m),o=oi(r,l,i),o!==null&&(or(o,r,i),ko(o,r,i))}function Ox(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function Kh(r,i){Ox(r,i),(r=r.alternate)&&Ox(r,i)}function Mx(r){if(r.tag===13||r.tag===31){var i=Li(r,67108864);i!==null&&or(i,r,67108864),Kh(r,67108864)}}function Px(r){if(r.tag===13||r.tag===31){var i=br();i=A(i);var o=Li(r,i);o!==null&&or(o,r,i),Kh(r,i)}}var eu=!0;function $R(r,i,o,l){var h=H.T;H.T=null;var m=ie.p;try{ie.p=2,Xh(r,i,o,l)}finally{ie.p=m,H.T=h}}function VR(r,i,o,l){var h=H.T;H.T=null;var m=ie.p;try{ie.p=8,Xh(r,i,o,l)}finally{ie.p=m,H.T=h}}function Xh(r,i,o,l){if(eu){var h=Qh(l);if(h===null)jh(r,i,l,tu,o),Dx(r,l);else if(FR(h,r,i,o,l))l.stopPropagation();else if(Dx(r,l),i&4&&-1<qR.indexOf(r)){for(;h!==null;){var m=rt(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Br(m.pendingLanes);if(_!==0){var O=m;for(O.pendingLanes|=2,O.entangledLanes|=2;_;){var U=1<<31-yn(_);O.entanglements[1]|=U,_&=~U}ss(m),(zt&6)===0&&(Ul=dt()+500,Qo(0))}}break;case 31:case 13:O=Li(m,2),O!==null&&or(O,m,2),zl(),Kh(m,2)}if(m=Qh(l),m===null&&jh(r,i,l,tu,o),m===h)break;h=m}h!==null&&l.stopPropagation()}else jh(r,i,l,null,o)}}function Qh(r){return r=Jf(r),Zh(r)}var tu=null;function Zh(r){if(tu=null,r=st(r),r!==null){var i=c(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=u(i),r!==null)return r;r=null}else if(o===31){if(r=f(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return tu=r,null}function Nx(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wt()){case Dn:return 2;case fr:return 8;case An:case zr:return 32;case dr:return 268435456;default:return 32}default:return 32}}var Jh=!1,vi=null,xi=null,bi=null,rc=new Map,sc=new Map,Si=[],qR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dx(r,i){switch(r){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":bi=null;break;case"pointerover":case"pointerout":rc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":sc.delete(i.pointerId)}}function ic(r,i,o,l,h,m){return r===null||r.nativeEvent!==m?(r={blockedOn:i,domEventName:o,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},i!==null&&(i=rt(i),i!==null&&Mx(i)),r):(r.eventSystemFlags|=l,i=r.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),r)}function FR(r,i,o,l,h){switch(i){case"focusin":return vi=ic(vi,r,i,o,l,h),!0;case"dragenter":return xi=ic(xi,r,i,o,l,h),!0;case"mouseover":return bi=ic(bi,r,i,o,l,h),!0;case"pointerover":var m=h.pointerId;return rc.set(m,ic(rc.get(m)||null,r,i,o,l,h)),!0;case"gotpointercapture":return m=h.pointerId,sc.set(m,ic(sc.get(m)||null,r,i,o,l,h)),!0}return!1}function kx(r){var i=st(r.target);if(i!==null){var o=c(i);if(o!==null){if(i=o.tag,i===13){if(i=u(o),i!==null){r.blockedOn=i,N(r.priority,function(){Px(o)});return}}else if(i===31){if(i=f(o),i!==null){r.blockedOn=i,N(r.priority,function(){Px(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function nu(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=Qh(r.nativeEvent);if(o===null){o=r.nativeEvent;var l=new o.constructor(o.type,o);Zf=l,o.target.dispatchEvent(l),Zf=null}else return i=rt(o),i!==null&&Mx(i),r.blockedOn=o,!1;i.shift()}return!0}function jx(r,i,o){nu(r)&&o.delete(i)}function YR(){Jh=!1,vi!==null&&nu(vi)&&(vi=null),xi!==null&&nu(xi)&&(xi=null),bi!==null&&nu(bi)&&(bi=null),rc.forEach(jx),sc.forEach(jx)}function ru(r,i){r.blockedOn===i&&(r.blockedOn=null,Jh||(Jh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,YR)))}var su=null;function Lx(r){su!==r&&(su=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){su===r&&(su=null);for(var i=0;i<r.length;i+=3){var o=r[i],l=r[i+1],h=r[i+2];if(typeof l!="function"){if(Zh(l||o)===null)continue;break}var m=rt(o);m!==null&&(r.splice(i,3),i-=3,Qd(m,{pending:!0,data:h,method:o.method,action:l},l,h))}}))}function Ya(r){function i(U){return ru(U,r)}vi!==null&&ru(vi,r),xi!==null&&ru(xi,r),bi!==null&&ru(bi,r),rc.forEach(i),sc.forEach(i);for(var o=0;o<Si.length;o++){var l=Si[o];l.blockedOn===r&&(l.blockedOn=null)}for(;0<Si.length&&(o=Si[0],o.blockedOn===null);)kx(o),o.blockedOn===null&&Si.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(l=0;l<o.length;l+=3){var h=o[l],m=o[l+1],_=h[ae]||null;if(typeof m=="function")_||Lx(o);else if(_){var O=null;if(m&&m.hasAttribute("formAction")){if(h=m,_=m[ae]||null)O=_.formAction;else if(Zh(h)!==null)continue}else O=_.action;typeof O=="function"?o[l+1]=O:(o.splice(l,3),l-=3),Lx(o)}}}function Ux(){function r(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(o,20)}function o(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){l=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Wh(r){this._internalRoot=r}iu.prototype.render=Wh.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,l=br();Ax(o,l,r,i,null,null)},iu.prototype.unmount=Wh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Ax(r.current,2,null,r,null,null),zl(),i[Ce]=null}};function iu(r){this._internalRoot=r}iu.prototype.unstable_scheduleHydration=function(r){if(r){var i=x();r={blockedOn:null,target:r,priority:i};for(var o=0;o<Si.length&&i!==0&&i<Si[o].priority;o++);Si.splice(o,0,r),o===0&&kx(r)}};var Ix=e.version;if(Ix!=="19.2.0")throw Error(s(527,Ix,"19.2.0"));ie.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=p(i),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var GR={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{hr=au.inject(GR),un=au}catch{}}return oc.createRoot=function(r,i){if(!a(r))throw Error(s(299));var o=!1,l="",h=F0,m=Y0,_=G0;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Tx(r,1,!1,null,null,o,l,null,h,m,_,Ux),r[Ce]=i.current,kh(r),new Wh(i)},oc.hydrateRoot=function(r,i,o){if(!a(r))throw Error(s(299));var l=!1,h="",m=F0,_=Y0,O=G0,U=null;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.formState!==void 0&&(U=o.formState)),i=Tx(r,1,!0,i,o??null,l,h,U,m,_,O,Ux),i.context=Rx(null),o=i.current,l=br(),l=A(l),h=ai(l),h.callback=null,oi(o,h,l),o=l,i.current.lanes=o,Se(i,o),ss(i),r[Ce]=i.current,kh(r),new iu(i)},oc.version="19.2.0",oc}var Xx;function n2(){if(Xx)return tp.exports;Xx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tp.exports=t2(),tp.exports}var r2=n2();const Qa=new WeakMap,Ru=new WeakMap,qu={current:[]};let ap=!1,Cc=0;const bc=new Set,ou=new Map;function iS(t){const e=Array.from(t).sort((n,s)=>n instanceof Za&&n.options.deps.includes(s)?1:s instanceof Za&&s.options.deps.includes(n)?-1:0);for(const n of e){if(qu.current.includes(n))continue;qu.current.push(n),n.recompute();const s=Ru.get(n);if(s)for(const a of s){const c=Qa.get(a);c&&iS(c)}}}function s2(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function i2(t){const e={prevVal:t.prevState,currentVal:t.state};for(const n of t.listeners)n(e)}function aS(t){if(Cc>0&&!ou.has(t)&&ou.set(t,t.prevState),bc.add(t),!(Cc>0)&&!ap)try{for(ap=!0;bc.size>0;){const e=Array.from(bc);bc.clear();for(const n of e){const s=ou.get(n)??n.prevState;n.prevState=s,s2(n)}for(const n of e){const s=Qa.get(n);s&&(qu.current.push(n),iS(s))}for(const n of e){const s=Qa.get(n);if(s)for(const a of s)i2(a)}}}finally{ap=!1,qu.current=[],ou.clear()}}function Ec(t){Cc++;try{t()}finally{if(Cc--,Cc===0){const e=bc.values().next().value;e&&aS(e)}}}function a2(t){return typeof t=="function"}class Zp{constructor(e,n){this.listeners=new Set,this.subscribe=s=>{var a,c;this.listeners.add(s);const u=(c=(a=this.options)==null?void 0:a.onSubscribe)==null?void 0:c.call(a,s,this);return()=>{this.listeners.delete(s),u?.()}},this.prevState=e,this.state=e,this.options=n}setState(e){var n,s,a;this.prevState=this.state,(n=this.options)!=null&&n.updateFn?this.state=this.options.updateFn(this.prevState)(e):a2(e)?this.state=e(this.prevState):this.state=e,(a=(s=this.options)==null?void 0:s.onUpdate)==null||a.call(s),aS(this)}}class Za{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=this.options.deps.length,s=new Array(n),a=new Array(n);for(let c=0;c<n;c++){const u=this.options.deps[c];s[c]=u.prevState,a[c]=u.state}return this.lastSeenDepValues=a,{prevDepVals:s,currDepVals:a,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,s;this.prevState=this.state;const a=this.getDepVals();this.state=this.options.fn(a),(s=(n=this.options).onUpdate)==null||s.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const c of this.options.deps)c instanceof Za&&c.checkIfRecalculationNeededDeeply();let n=!1;const s=this.lastSeenDepValues,{currDepVals:a}=this.getDepVals();for(let c=0;c<a.length;c++)if(a[c]!==s[c]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var s,a;this.listeners.add(n);const c=(a=(s=this.options).onSubscribe)==null?void 0:a.call(s,n,this);return()=>{this.listeners.delete(n),c?.()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const n of e)if(n instanceof Za)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof Zp){let s=Qa.get(n);s||(s=new Set,Qa.set(n,s)),s.add(this);let a=Ru.get(this);a||(a=new Set,Ru.set(this,a)),a.add(n)}}unregisterFromGraph(e=this.options.deps){for(const n of e)if(n instanceof Za)this.unregisterFromGraph(n.options.deps);else if(n instanceof Zp){const s=Qa.get(n);s&&s.delete(this);const a=Ru.get(this);a&&a.delete(n)}}}const Ei="__TSR_index",Qx="popstate",Zx="beforeunload";function o2(t){let e=t.getLocation();const n=new Set,s=u=>{e=t.getLocation(),n.forEach(f=>f({location:e,action:u}))},a=u=>{t.notifyOnIndexChange??!0?s(u):e=t.getLocation()},c=async({task:u,navigateOpts:f,...d})=>{if(f?.ignoreBlocker??!1){u();return}const y=t.getBlockers?.()??[],g=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&y.length&&g)for(const v of y){const S=Fu(d.path,d.state);if(await v.blockerFn({currentLocation:e,nextLocation:S,action:d.type})){t.onBlocked?.();return}}u()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:u=>(n.add(u),()=>{n.delete(u)}),push:(u,f,d)=>{const p=e.state[Ei];f=Jx(p+1,f),c({task:()=>{t.pushState(u,f),s({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:u,state:f})},replace:(u,f,d)=>{const p=e.state[Ei];f=Jx(p,f),c({task:()=>{t.replaceState(u,f),s({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:u,state:f})},go:(u,f)=>{c({task:()=>{t.go(u),a({type:"GO",index:u})},navigateOpts:f,type:"GO"})},back:u=>{c({task:()=>{t.back(u?.ignoreBlocker??!1),a({type:"BACK"})},navigateOpts:u,type:"BACK"})},forward:u=>{c({task:()=>{t.forward(u?.ignoreBlocker??!1),a({type:"FORWARD"})},navigateOpts:u,type:"FORWARD"})},canGoBack:()=>e.state[Ei]!==0,createHref:u=>t.createHref(u),block:u=>{if(!t.setBlockers)return()=>{};const f=t.getBlockers?.()??[];return t.setBlockers([...f,u]),()=>{const d=t.getBlockers?.()??[];t.setBlockers?.(d.filter(p=>p!==u))}},flush:()=>t.flush?.(),destroy:()=>t.destroy?.(),notify:s}}function Jx(t,e){e||(e={});const n=Zm();return{...e,key:n,__TSR_key:n,[Ei]:t}}function c2(t){const e=typeof document<"u"?window:void 0,n=e.history.pushState,s=e.history.replaceState;let a=[];const c=()=>a,u=G=>a=G,f=(G=>G),d=(()=>Fu(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state));if(!e.history.state?.__TSR_key&&!e.history.state?.key){const G=Zm();e.history.replaceState({[Ei]:0,key:G,__TSR_key:G},"")}let p=d(),y,g=!1,v=!1,S=!1,w=!1;const E=()=>p;let M,P;const D=()=>{M&&(Y._ignoreSubscribers=!0,(M.isPush?e.history.pushState:e.history.replaceState)(M.state,"",M.href),Y._ignoreSubscribers=!1,M=void 0,P=void 0,y=void 0)},k=(G,me,be)=>{const we=f(me);P||(y=p),p=Fu(me,be),M={href:we,state:be,isPush:M?.isPush||G==="push"},P||(P=Promise.resolve().then(()=>D()))},j=G=>{p=d(),Y.notify({type:G})},F=async()=>{if(v){v=!1;return}const G=d(),me=G.state[Ei]-p.state[Ei],be=me===1,we=me===-1,ge=!be&&!we||g;g=!1;const Ee=ge?"GO":we?"BACK":"FORWARD",pe=ge?{type:"GO",index:me}:{type:we?"BACK":"FORWARD"};if(S)S=!1;else{const Te=c();if(typeof document<"u"&&Te.length){for(const H of Te)if(await H.blockerFn({currentLocation:p,nextLocation:G,action:Ee})){v=!0,e.history.go(1),Y.notify(pe);return}}}p=d(),Y.notify(pe)},J=G=>{if(w){w=!1;return}let me=!1;const be=c();if(typeof document<"u"&&be.length)for(const we of be){const ge=we.enableBeforeUnload??!0;if(ge===!0){me=!0;break}if(typeof ge=="function"&&ge()===!0){me=!0;break}}if(me)return G.preventDefault(),G.returnValue=""},Y=o2({getLocation:E,getLength:()=>e.history.length,pushState:(G,me)=>k("push",G,me),replaceState:(G,me)=>k("replace",G,me),back:G=>(G&&(S=!0),w=!0,e.history.back()),forward:G=>{G&&(S=!0),w=!0,e.history.forward()},go:G=>{g=!0,e.history.go(G)},createHref:G=>f(G),flush:D,destroy:()=>{e.history.pushState=n,e.history.replaceState=s,e.removeEventListener(Zx,J,{capture:!0}),e.removeEventListener(Qx,F)},onBlocked:()=>{y&&p!==y&&(p=y)},getBlockers:c,setBlockers:u,notifyOnIndexChange:!1});return e.addEventListener(Zx,J,{capture:!0}),e.addEventListener(Qx,F),e.history.pushState=function(...G){const me=n.apply(e.history,G);return Y._ignoreSubscribers||j("PUSH"),me},e.history.replaceState=function(...G){const me=s.apply(e.history,G);return Y._ignoreSubscribers||j("REPLACE"),me},Y}function Fu(t,e){const n=t.indexOf("#"),s=t.indexOf("?"),a=Zm();return{href:t,pathname:t.substring(0,n>0?s>0?Math.min(n,s):n:s>0?s:t.length),hash:n>-1?t.substring(n):"",search:s>-1?t.slice(s,n===-1?void 0:n):"",state:e||{[Ei]:0,key:a,__TSR_key:a}}}function Zm(){return(Math.random()+1).toString(36).substring(7)}function Jp(t){return t[t.length-1]}function l2(t){return typeof t=="function"}function ra(t,e){return l2(t)?t(e):t}const u2=Object.prototype.hasOwnProperty;function jr(t,e){if(t===e)return t;const n=e,s=tb(t)&&tb(n);if(!s&&!(Yu(t)&&Yu(n)))return n;const a=s?t:Wx(t);if(!a)return n;const c=s?n:Wx(n);if(!c)return n;const u=a.length,f=c.length,d=s?new Array(f):{};let p=0;for(let y=0;y<f;y++){const g=s?y:c[y],v=t[g],S=n[g];if(v===S){d[g]=v,(s?y<u:u2.call(t,g))&&p++;continue}if(v===null||S===null||typeof v!="object"||typeof S!="object"){d[g]=S;continue}const w=jr(v,S);d[g]=w,w===v&&p++}return u===f&&p===u?t:d}function Wx(t){const e=[],n=Object.getOwnPropertyNames(t);for(const a of n){if(!Object.prototype.propertyIsEnumerable.call(t,a))return!1;e.push(a)}const s=Object.getOwnPropertySymbols(t);for(const a of s){if(!Object.prototype.propertyIsEnumerable.call(t,a))return!1;e.push(a)}return e}function Yu(t){if(!eb(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!eb(n)||!n.hasOwnProperty("isPrototypeOf"))}function eb(t){return Object.prototype.toString.call(t)==="[object Object]"}function tb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function sa(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let s=0,a=t.length;s<a;s++)if(!sa(t[s],e[s],n))return!1;return!0}if(Yu(t)&&Yu(e)){const s=n?.ignoreUndefined??!0;if(n?.partial){for(const u in e)if((!s||e[u]!==void 0)&&!sa(t[u],e[u],n))return!1;return!0}let a=0;if(!s)a=Object.keys(t).length;else for(const u in t)t[u]!==void 0&&a++;let c=0;for(const u in e)if((!s||e[u]!==void 0)&&(c++,c>a||!sa(t[u],e[u],n)))return!1;return a===c}return!1}function no(t){let e,n;const s=new Promise((a,c)=>{e=a,n=c});return s.status="pending",s.resolve=a=>{s.status="resolved",s.value=a,e(a),t?.(a)},s.reject=a=>{s.status="rejected",n(a)},s}function Ti(t){return!!(t&&typeof t=="object"&&typeof t.then=="function")}var f2="Invariant failed";function Ks(t,e){if(!t)throw new Error(f2)}const lr="__root__",us=0,ca=1,ro=2,so=3;function Fs(t){return Jm(t.filter(e=>e!==void 0).join("/"))}function Jm(t){return t.replace(/\/{2,}/g,"/")}function Wm(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Ri(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function Au(t){return Ri(Wm(t))}function Gu(t,e){return t?.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function d2(t,e,n){return Gu(t,n)===Gu(e,n)}function h2(t){const{type:e,value:n}=t;if(e===us)return n;const{prefixSegment:s,suffixSegment:a}=t;if(e===ca){const c=n.substring(1);if(s&&a)return`${s}{$${c}}${a}`;if(s)return`${s}{$${c}}`;if(a)return`{$${c}}${a}`}if(e===so){const c=n.substring(1);return s&&a?`${s}{-$${c}}${a}`:s?`${s}{-$${c}}`:a?`{-$${c}}${a}`:`{-$${c}}`}if(e===ro){if(s&&a)return`${s}{$}${a}`;if(s)return`${s}{$}`;if(a)return`{$}${a}`}return n}function p2({base:t,to:e,trailingSlash:n="never",parseCache:s}){let a=oS(t,s).slice();const c=xf(e,s);a.length>1&&Jp(a)?.value==="/"&&a.pop();for(let d=0,p=c.length;d<p;d++){const y=c[d],g=y.value;g==="/"?d?d===p-1&&a.push(y):a=[y]:g===".."?a.pop():g==="."||a.push(y)}a.length>1&&(Jp(a).value==="/"?n==="never"&&a.pop():n==="always"&&a.push({type:us,value:"/"}));const u=a.map(h2);return Fs(u)}const oS=(t,e)=>cS(t,e,!0),xf=(t,e)=>cS(t,e,!1),cS=(t,e,n)=>{if(!t)return[];const s=e?.get(t);if(s)return s;const a=b2(t,n);return e?.set(t,a),a},m2=/^\$.{1,}$/,y2=/^(.*?)\{(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,g2=/^(.*?)\{-(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,v2=/^\$$/,x2=/^(.*?)\{\$\}(.*)$/;function b2(t,e){t=Jm(t);const n=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),n.push({type:us,value:"/"})),!t)return n;const s=t.split("/").filter(Boolean);return n.push(...s.map(a=>{const c=!e&&a!==lr&&a.slice(-1)==="_"?a.slice(0,-1):a,u=c.match(x2);if(u){const p=u[1],y=u[2];return{type:ro,value:"$",prefixSegment:p||void 0,suffixSegment:y||void 0}}const f=c.match(g2);if(f){const p=f[1],y=f[2],g=f[3];return{type:so,value:y,prefixSegment:p||void 0,suffixSegment:g||void 0}}const d=c.match(y2);if(d){const p=d[1],y=d[2],g=d[3];return{type:ca,value:""+y,prefixSegment:p||void 0,suffixSegment:g||void 0}}if(m2.test(c)){const p=c.substring(1);return{type:ca,value:"$"+p,prefixSegment:void 0,suffixSegment:void 0}}return v2.test(c)?{type:ro,value:"$",prefixSegment:void 0,suffixSegment:void 0}:{type:us,value:c.includes("%25")?c.split("%25").map(p=>decodeURI(p)).join("%25"):decodeURI(c)}})),t.slice(-1)==="/"&&(t=t.substring(1),n.push({type:us,value:"/"})),n}function cu({path:t,params:e,leaveWildcards:n,leaveParams:s,decodeCharMap:a,parseCache:c}){const u=xf(t,c);function f(g){const v=e[g],S=typeof v=="string";return g==="*"||g==="_splat"?S?encodeURI(v):v:S?S2(v,a):v}let d=!1;const p={},y=Fs(u.map(g=>{if(g.type===us)return g.value;if(g.type===ro){p._splat=e._splat,p["*"]=e._splat;const v=g.prefixSegment||"",S=g.suffixSegment||"";if(!e._splat)return d=!0,n?`${v}${g.value}${S}`:v||S?`${v}${S}`:void 0;const w=f("_splat");return n?`${v}${g.value}${w??""}${S}`:`${v}${w}${S}`}if(g.type===ca){const v=g.value.substring(1);!d&&!(v in e)&&(d=!0),p[v]=e[v];const S=g.prefixSegment||"",w=g.suffixSegment||"";if(s){const E=f(g.value);return`${S}${g.value}${E??""}${w}`}return`${S}${f(v)??"undefined"}${w}`}if(g.type===so){const v=g.value.substring(1),S=g.prefixSegment||"",w=g.suffixSegment||"";if(!(v in e)||e[v]==null)return n?`${S}${v}${w}`:S||w?`${S}${w}`:void 0;if(p[v]=e[v],s){const E=f(g.value);return`${S}${g.value}${E??""}${w}`}return n?`${S}${v}${f(v)??""}${w}`:`${S}${f(v)??""}${w}`}return g.value}));return{usedParams:p,interpolatedPath:y,isMissingParams:d}}function S2(t,e){let n=encodeURIComponent(t);if(e)for(const[s,a]of e)n=n.replaceAll(s,a);return n}function Wp(t,e,n){const s=_2(t,e,n);if(!(e.to&&!s))return s??{}}function _2(t,{to:e,fuzzy:n,caseSensitive:s},a){const c=e,u=oS(t.startsWith("/")?t:`/${t}`,a),f=xf(c.startsWith("/")?c:`/${c}`,a),d={};return w2(u,f,d,n,s)?d:void 0}function w2(t,e,n,s,a){let c=0,u=0;for(;c<t.length||u<e.length;){const f=t[c],d=e[u];if(d){if(d.type===ro){const p=t.slice(c);let y;if(d.prefixSegment||d.suffixSegment){if(!f)return!1;const g=d.prefixSegment||"",v=d.suffixSegment||"",S=f.value;if("prefixSegment"in d&&!S.startsWith(g)||"suffixSegment"in d&&!t[t.length-1]?.value.endsWith(v))return!1;let w=decodeURI(Fs(p.map(E=>E.value)));g&&w.startsWith(g)&&(w=w.slice(g.length)),v&&w.endsWith(v)&&(w=w.slice(0,w.length-v.length)),y=w}else y=decodeURI(Fs(p.map(g=>g.value)));return n["*"]=y,n._splat=y,!0}if(d.type===us){if(d.value==="/"&&!f?.value){u++;continue}if(f){if(a){if(d.value!==f.value)return!1}else if(d.value.toLowerCase()!==f.value.toLowerCase())return!1;c++,u++;continue}else return!1}if(d.type===ca){if(!f||f.value==="/")return!1;let p="",y=!1;if(d.prefixSegment||d.suffixSegment){const g=d.prefixSegment||"",v=d.suffixSegment||"",S=f.value;if(g&&!S.startsWith(g)||v&&!S.endsWith(v))return!1;let w=S;g&&w.startsWith(g)&&(w=w.slice(g.length)),v&&w.endsWith(v)&&(w=w.slice(0,w.length-v.length)),p=decodeURIComponent(w),y=!0}else p=decodeURIComponent(f.value),y=!0;y&&(n[d.value.substring(1)]=p,c++),u++;continue}if(d.type===so){if(!f){u++;continue}if(f.value==="/"){u++;continue}let p="",y=!1;if(d.prefixSegment||d.suffixSegment){const g=d.prefixSegment||"",v=d.suffixSegment||"",S=f.value;if((!g||S.startsWith(g))&&(!v||S.endsWith(v))){let w=S;g&&w.startsWith(g)&&(w=w.slice(g.length)),v&&w.endsWith(v)&&(w=w.slice(0,w.length-v.length)),p=decodeURIComponent(w),y=!0}}else{let g=!0;for(let v=u+1;v<e.length;v++){const S=e[v];if(S?.type===us&&S.value===f.value){g=!1;break}if(S?.type===ca||S?.type===ro){t.length<e.length&&(g=!1);break}}g&&(p=decodeURIComponent(f.value),y=!0)}y&&(n[d.value.substring(1)]=p,c++),u++;continue}}if(c<t.length&&u>=e.length)return n["**"]=Fs(t.slice(c).map(p=>p.value)),!!s&&e[e.length-1]?.value!=="/";if(u<e.length&&c>=t.length){for(let p=u;p<e.length;p++)if(e[p]?.type!==so)return!1;break}break}return!0}const C2=.75,E2=1,T2=.5,R2=.4,A2=.25,O2=.2,M2=.05,P2=.02,N2=.01,nb=2e-4,rb=1e-4;function sb(t,e){return t.prefixSegment&&t.suffixSegment?e+M2+nb*t.prefixSegment.length+rb*t.suffixSegment.length:t.prefixSegment?e+P2+nb*t.prefixSegment.length:t.suffixSegment?e+N2+rb*t.suffixSegment.length:e}function D2(t){const e=[];return t.forEach((s,a)=>{if(s.isRoot||!s.path)return;const c=Wm(s.fullPath);let u=xf(c),f=0;for(;u.length>f+1&&u[f]?.value==="/";)f++;f>0&&(u=u.slice(f));let d=0,p=!1;const y=u.map((g,v)=>{if(g.value==="/")return C2;if(g.type===us)return E2;let S;g.type===ca?S=T2:g.type===so?(S=R2,d++):S=A2;for(let w=v+1;w<u.length;w++){const E=u[w];if(E.type===us&&E.value!=="/")return p=!0,sb(g,S+O2)}return sb(g,S)});e.push({child:s,trimmed:c,parsed:u,index:a,scores:y,optionalParamCount:d,hasStaticAfter:p})}),e.sort((s,a)=>{const c=Math.min(s.scores.length,a.scores.length);for(let u=0;u<c;u++)if(s.scores[u]!==a.scores[u])return a.scores[u]-s.scores[u];if(s.scores.length!==a.scores.length){if(s.optionalParamCount!==a.optionalParamCount){if(s.hasStaticAfter===a.hasStaticAfter)return s.optionalParamCount-a.optionalParamCount;if(s.hasStaticAfter&&!a.hasStaticAfter)return-1;if(!s.hasStaticAfter&&a.hasStaticAfter)return 1}return a.scores.length-s.scores.length}for(let u=0;u<c;u++)if(s.parsed[u].value!==a.parsed[u].value)return s.parsed[u].value>a.parsed[u].value?1:-1;return s.index-a.index}).map((s,a)=>(s.child.rank=a,s.child))}function k2({routeTree:t,initRoute:e}){const n={},s={},a=u=>{u.forEach((f,d)=>{e?.(f,d);const p=n[f.id];if(Ks(!p,`Duplicate routes found with id: ${String(f.id)}`),n[f.id]=f,!f.isRoot&&f.path){const g=Ri(f.fullPath);(!s[g]||f.fullPath.endsWith("/"))&&(s[g]=f)}const y=f.children;y?.length&&a(y)})};a([t]);const c=D2(Object.values(n));return{routesById:n,routesByPath:s,flatRoutes:c}}function Qr(t){return!!t?.isNotFound}function j2(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{}}const Ku="tsr-scroll-restoration-v1_3",L2=(t,e)=>{let n;return(...s)=>{n||(n=setTimeout(()=>{t(...s),n=null},e))}};function U2(){const t=j2();if(!t)return null;const e=t.getItem(Ku);let n=e?JSON.parse(e):{};return{state:n,set:s=>(n=ra(s,n)||n,t.setItem(Ku,JSON.stringify(n)))}}const lu=U2(),em=t=>t.state.__TSR_key||t.href;function I2(t){const e=[];let n;for(;n=t.parentNode;)e.push(`${t.tagName}:nth-child(${Array.prototype.indexOf.call(n.children,t)+1})`),t=n;return`${e.reverse().join(" > ")}`.toLowerCase()}let Xu=!1;function lS({storageKey:t,key:e,behavior:n,shouldScrollRestoration:s,scrollToTopSelectors:a,location:c}){let u;try{u=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(p){console.error(p);return}const f=e||window.history.state?.__TSR_key,d=u[f];Xu=!0;e:{if(s&&d&&Object.keys(d).length>0){for(const g in d){const v=d[g];if(g==="window")window.scrollTo({top:v.scrollY,left:v.scrollX,behavior:n});else if(g){const S=document.querySelector(g);S&&(S.scrollLeft=v.scrollX,S.scrollTop=v.scrollY)}}break e}const p=(c??window.location).hash.split("#",2)[1];if(p){const g=window.history.state?.__hashScrollIntoViewOptions??!0;if(g){const v=document.getElementById(p);v&&v.scrollIntoView(g)}break e}const y={top:0,left:0,behavior:n};if(window.scrollTo(y),a)for(const g of a){if(g==="window")continue;const v=typeof g=="function"?g():document.querySelector(g);v&&v.scrollTo(y)}}Xu=!1}function z2(t,e){if(!lu&&!t.isServer||((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),t.isServer||t.isScrollRestorationSetup||!lu))return;t.isScrollRestorationSetup=!0,Xu=!1;const s=t.options.getScrollRestorationKey||em;window.history.scrollRestoration="manual";const a=c=>{if(Xu||!t.isScrollRestoring)return;let u="";if(c.target===document||c.target===window)u="window";else{const d=c.target.getAttribute("data-scroll-restoration-id");d?u=`[data-scroll-restoration-id="${d}"]`:u=I2(c.target)}const f=s(t.state.location);lu.set(d=>{const p=d[f]||={},y=p[u]||={};if(u==="window")y.scrollX=window.scrollX||0,y.scrollY=window.scrollY||0;else if(u){const g=document.querySelector(u);g&&(y.scrollX=g.scrollLeft||0,y.scrollY=g.scrollTop||0)}return d})};typeof document<"u"&&document.addEventListener("scroll",L2(a,100),!0),t.subscribe("onRendered",c=>{const u=s(c.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation})||(lS({storageKey:Ku,key:u,behavior:t.options.scrollRestorationBehavior,shouldScrollRestoration:t.isScrollRestoring,scrollToTopSelectors:t.options.scrollToTopSelectors,location:t.history.location}),t.isScrollRestoring&&lu.set(f=>(f[u]||={},f)))})}function B2(t){if(typeof document<"u"&&document.querySelector){const e=t.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&t.state.location.hash!==""){const n=document.getElementById(t.state.location.hash);n&&n.scrollIntoView(e)}}}function H2(t,e=String){const n=new URLSearchParams;for(const s in t){const a=t[s];a!==void 0&&n.set(s,e(a))}return n.toString()}function op(t){return t?t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t:""}function $2(t){const e=new URLSearchParams(t),n={};for(const[s,a]of e.entries()){const c=n[s];c==null?n[s]=op(a):Array.isArray(c)?c.push(op(a)):n[s]=[c,op(a)]}return n}const V2=F2(JSON.parse),q2=Y2(JSON.stringify,JSON.parse);function F2(t){return e=>{e[0]==="?"&&(e=e.substring(1));const n=$2(e);for(const s in n){const a=n[s];if(typeof a=="string")try{n[s]=t(a)}catch{}}return n}}function Y2(t,e){const n=typeof e=="function";function s(a){if(typeof a=="object"&&a!==null)try{return t(a)}catch{}else if(n&&typeof a=="string")try{return e(a),t(a)}catch{}return a}return a=>{const c=H2(a,s);return c?`?${c}`:""}}function G2(t){if(t.statusCode=t.statusCode||t.code||307,!t.reloadDocument&&typeof t.href=="string")try{new URL(t.href),t.reloadDocument=!0}catch{}const e=new Headers(t.headers);t.href&&e.get("Location")===null&&e.set("Location",t.href);const n=new Response(null,{status:t.statusCode,headers:e});if(n.options=t,t.throw)throw n;return n}function os(t){return t instanceof Response&&!!t.options}function K2(t){const e=new Map;let n,s;const a=c=>{c.next&&(c.prev?(c.prev.next=c.next,c.next.prev=c.prev,c.next=void 0,s&&(s.next=c,c.prev=s)):(c.next.prev=void 0,n=c.next,c.next=void 0,s&&(c.prev=s,s.next=c)),s=c)};return{get(c){const u=e.get(c);if(u)return a(u),u.value},set(c,u){if(e.size>=t&&n){const d=n;e.delete(d.key),d.next&&(n=d.next,d.next.prev=void 0),d===s&&(s=void 0)}const f=e.get(c);if(f)f.value=u,a(f);else{const d={key:c,value:u,prev:s};s&&(s.next=d),s=d,n||(n=d),e.set(c,d)}}}}const Ou=t=>{if(!t.rendered)return t.rendered=!0,t.onReady?.()},bf=(t,e)=>!!(t.preload&&!t.router.state.matches.some(n=>n.id===e)),uS=(t,e)=>{const n=t.router.routesById[e.routeId??""]??t.router.routeTree;!n.options.notFoundComponent&&t.router.options?.defaultNotFoundComponent&&(n.options.notFoundComponent=t.router.options.defaultNotFoundComponent),Ks(n.options.notFoundComponent);const s=t.matches.find(a=>a.routeId===n.id);Ks(s,"Could not find match for route: "+n.id),t.updateMatch(s.id,a=>({...a,status:"notFound",error:e,isFetching:!1})),e.routerCode==="BEFORE_LOAD"&&n.parentRoute&&(e.routeId=n.parentRoute.id,uS(t,e))},Ci=(t,e,n)=>{if(!(!os(n)&&!Qr(n))){if(os(n)&&n.redirectHandled&&!n.options.reloadDocument)throw n;if(e){e._nonReactive.beforeLoadPromise?.resolve(),e._nonReactive.loaderPromise?.resolve(),e._nonReactive.beforeLoadPromise=void 0,e._nonReactive.loaderPromise=void 0;const s=os(n)?"redirected":"notFound";t.updateMatch(e.id,a=>({...a,status:s,isFetching:!1,error:n})),Qr(n)&&!n.routeId&&(n.routeId=e.routeId),e._nonReactive.loadPromise?.resolve()}throw os(n)?(t.rendered=!0,n.options._fromLocation=t.location,n.redirectHandled=!0,n=t.router.resolveRedirect(n),n):(uS(t,n),n)}},fS=(t,e)=>{const n=t.router.getMatch(e);return!!(!t.router.isServer&&n._nonReactive.dehydrated||t.router.isServer&&n.ssr===!1)},cc=(t,e,n,s)=>{const{id:a,routeId:c}=t.matches[e],u=t.router.looseRoutesById[c];if(n instanceof Promise)throw n;n.routerCode=s,t.firstBadMatchIndex??=e,Ci(t,t.router.getMatch(a),n);try{u.options.onError?.(n)}catch(f){n=f,Ci(t,t.router.getMatch(a),n)}t.updateMatch(a,f=>(f._nonReactive.beforeLoadPromise?.resolve(),f._nonReactive.beforeLoadPromise=void 0,f._nonReactive.loadPromise?.resolve(),{...f,error:n,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},X2=(t,e,n,s)=>{const a=t.router.getMatch(e),c=t.matches[n-1]?.id,u=c?t.router.getMatch(c):void 0;if(t.router.isShell()){a.ssr=e===lr;return}if(u?.ssr===!1){a.ssr=!1;return}const f=S=>S===!0&&u?.ssr==="data-only"?"data-only":S,d=t.router.options.defaultSsr??!0;if(s.options.ssr===void 0){a.ssr=f(d);return}if(typeof s.options.ssr!="function"){a.ssr=f(s.options.ssr);return}const{search:p,params:y}=a,g={search:uu(p,a.searchError),params:uu(y,a.paramsError),location:t.location,matches:t.matches.map(S=>({index:S.index,pathname:S.pathname,fullPath:S.fullPath,staticData:S.staticData,id:S.id,routeId:S.routeId,search:uu(S.search,S.searchError),params:uu(S.params,S.paramsError),ssr:S.ssr}))},v=s.options.ssr(g);if(Ti(v))return v.then(S=>{a.ssr=f(S??d)});a.ssr=f(v??d)},dS=(t,e,n,s)=>{if(s._nonReactive.pendingTimeout!==void 0)return;const a=n.options.pendingMs??t.router.options.defaultPendingMs;if(!!(t.onReady&&!t.router.isServer&&!bf(t,e)&&(n.options.loader||n.options.beforeLoad||mS(n))&&typeof a=="number"&&a!==1/0&&(n.options.pendingComponent??t.router.options?.defaultPendingComponent))){const u=setTimeout(()=>{Ou(t)},a);s._nonReactive.pendingTimeout=u}},Q2=(t,e,n)=>{const s=t.router.getMatch(e);if(!s._nonReactive.beforeLoadPromise&&!s._nonReactive.loaderPromise)return;dS(t,e,n,s);const a=()=>{const c=t.router.getMatch(e);c.preload&&(c.status==="redirected"||c.status==="notFound")&&Ci(t,c,c.error)};return s._nonReactive.beforeLoadPromise?s._nonReactive.beforeLoadPromise.then(a):a()},Z2=(t,e,n,s)=>{const a=t.router.getMatch(e),c=a._nonReactive.loadPromise;a._nonReactive.loadPromise=no(()=>{c?.resolve()});const{paramsError:u,searchError:f}=a;u&&cc(t,n,u,"PARSE_PARAMS"),f&&cc(t,n,f,"VALIDATE_SEARCH"),dS(t,e,s,a);const d=new AbortController,p=t.matches[n-1]?.id,v={...(p?t.router.getMatch(p):void 0)?.context??t.router.options.context??void 0,...a.__routeContext};let S=!1;const w=()=>{S||(S=!0,t.updateMatch(e,Y=>({...Y,isFetching:"beforeLoad",fetchCount:Y.fetchCount+1,abortController:d,context:v})))},E=()=>{a._nonReactive.beforeLoadPromise?.resolve(),a._nonReactive.beforeLoadPromise=void 0,t.updateMatch(e,Y=>({...Y,isFetching:!1}))};if(!s.options.beforeLoad){Ec(()=>{w(),E()});return}a._nonReactive.beforeLoadPromise=no();const{search:M,params:P,cause:D}=a,k=bf(t,e),j={search:M,abortController:d,params:P,preload:k,context:v,location:t.location,navigate:Y=>t.router.navigate({...Y,_fromLocation:t.location}),buildLocation:t.router.buildLocation,cause:k?"preload":D,matches:t.matches,...t.router.options.additionalContext},F=Y=>{if(Y===void 0){Ec(()=>{w(),E()});return}(os(Y)||Qr(Y))&&(w(),cc(t,n,Y,"BEFORE_LOAD")),Ec(()=>{w(),t.updateMatch(e,G=>({...G,__beforeLoadContext:Y,context:{...G.context,...Y}})),E()})};let J;try{if(J=s.options.beforeLoad(j),Ti(J))return w(),J.catch(Y=>{cc(t,n,Y,"BEFORE_LOAD")}).then(F)}catch(Y){w(),cc(t,n,Y,"BEFORE_LOAD")}F(J)},J2=(t,e)=>{const{id:n,routeId:s}=t.matches[e],a=t.router.looseRoutesById[s],c=()=>{if(t.router.isServer){const d=X2(t,n,e,a);if(Ti(d))return d.then(f)}return f()},u=()=>Z2(t,n,e,a),f=()=>{if(fS(t,n))return;const d=Q2(t,n,a);return Ti(d)?d.then(u):u()};return c()},Tc=(t,e,n)=>{const s=t.router.getMatch(e);if(!s||!n.options.head&&!n.options.scripts&&!n.options.headers)return;const a={matches:t.matches,match:s,params:s.params,loaderData:s.loaderData};return Promise.all([n.options.head?.(a),n.options.scripts?.(a),n.options.headers?.(a)]).then(([c,u,f])=>{const d=c?.meta,p=c?.links,y=c?.scripts,g=c?.styles;return{meta:d,links:p,headScripts:y,headers:f,scripts:u,styles:g}})},hS=(t,e,n,s)=>{const a=t.matchPromises[n-1],{params:c,loaderDeps:u,abortController:f,context:d,cause:p}=t.router.getMatch(e),y=bf(t,e);return{params:c,deps:u,preload:!!y,parentMatchPromise:a,abortController:f,context:d,location:t.location,navigate:g=>t.router.navigate({...g,_fromLocation:t.location}),cause:y?"preload":p,route:s,...t.router.options.additionalContext}},ib=async(t,e,n,s)=>{try{const a=t.router.getMatch(e);try{(!t.router.isServer||a.ssr===!0)&&pS(s);const c=s.options.loader?.(hS(t,e,n,s)),u=s.options.loader&&Ti(c);if(!!(u||s._lazyPromise||s._componentsPromise||s.options.head||s.options.scripts||s.options.headers||a._nonReactive.minPendingPromise)&&t.updateMatch(e,g=>({...g,isFetching:"loader"})),s.options.loader){const g=u?await c:c;Ci(t,t.router.getMatch(e),g),g!==void 0&&t.updateMatch(e,v=>({...v,loaderData:g}))}s._lazyPromise&&await s._lazyPromise;const d=Tc(t,e,s),p=d?await d:void 0,y=a._nonReactive.minPendingPromise;y&&await y,s._componentsPromise&&await s._componentsPromise,t.updateMatch(e,g=>({...g,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),...p}))}catch(c){let u=c;const f=a._nonReactive.minPendingPromise;f&&await f,Qr(c)&&await s.options.notFoundComponent?.preload?.(),Ci(t,t.router.getMatch(e),c);try{s.options.onError?.(c)}catch(y){u=y,Ci(t,t.router.getMatch(e),y)}const d=Tc(t,e,s),p=d?await d:void 0;t.updateMatch(e,y=>({...y,error:u,status:"error",isFetching:!1,...p}))}}catch(a){const c=t.router.getMatch(e);if(c){const u=Tc(t,e,s);if(u){const f=await u;t.updateMatch(e,d=>({...d,...f}))}c._nonReactive.loaderPromise=void 0}Ci(t,c,a)}},W2=async(t,e)=>{const{id:n,routeId:s}=t.matches[e];let a=!1,c=!1;const u=t.router.looseRoutesById[s];if(fS(t,n)){if(t.router.isServer){const p=Tc(t,n,u);if(p){const y=await p;t.updateMatch(n,g=>({...g,...y}))}return t.router.getMatch(n)}}else{const p=t.router.getMatch(n);if(p._nonReactive.loaderPromise){if(p.status==="success"&&!t.sync&&!p.preload)return p;await p._nonReactive.loaderPromise;const y=t.router.getMatch(n);y.error&&Ci(t,y,y.error)}else{const y=Date.now()-p.updatedAt,g=bf(t,n),v=g?u.options.preloadStaleTime??t.router.options.defaultPreloadStaleTime??3e4:u.options.staleTime??t.router.options.defaultStaleTime??0,S=u.options.shouldReload,w=typeof S=="function"?S(hS(t,n,e,u)):S,E=!!g&&!t.router.state.matches.some(k=>k.id===n),M=t.router.getMatch(n);M._nonReactive.loaderPromise=no(),E!==M.preload&&t.updateMatch(n,k=>({...k,preload:E}));const{status:P,invalid:D}=M;if(a=P==="success"&&(D||(w??y>v)),!(g&&u.options.preload===!1))if(a&&!t.sync)c=!0,(async()=>{try{await ib(t,n,e,u);const k=t.router.getMatch(n);k._nonReactive.loaderPromise?.resolve(),k._nonReactive.loadPromise?.resolve(),k._nonReactive.loaderPromise=void 0}catch(k){os(k)&&await t.router.navigate(k.options)}})();else if(P!=="success"||a&&t.sync)await ib(t,n,e,u);else{const k=Tc(t,n,u);if(k){const j=await k;t.updateMatch(n,F=>({...F,...j}))}}}}const f=t.router.getMatch(n);c||(f._nonReactive.loaderPromise?.resolve(),f._nonReactive.loadPromise?.resolve()),clearTimeout(f._nonReactive.pendingTimeout),f._nonReactive.pendingTimeout=void 0,c||(f._nonReactive.loaderPromise=void 0),f._nonReactive.dehydrated=void 0;const d=c?f.isFetching:!1;return d!==f.isFetching||f.invalid!==!1?(t.updateMatch(n,p=>({...p,isFetching:d,invalid:!1})),t.router.getMatch(n)):f};async function ab(t){const e=Object.assign(t,{matchPromises:[]});!e.router.isServer&&e.router.state.matches.some(n=>n._forcePending)&&Ou(e);try{for(let a=0;a<e.matches.length;a++){const c=J2(e,a);Ti(c)&&await c}const n=e.firstBadMatchIndex??e.matches.length;for(let a=0;a<n;a++)e.matchPromises.push(W2(e,a));await Promise.all(e.matchPromises);const s=Ou(e);Ti(s)&&await s}catch(n){if(Qr(n)&&!e.preload){const s=Ou(e);throw Ti(s)&&await s,n}if(os(n))throw n}return e.matches}async function pS(t){if(!t._lazyLoaded&&t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(e=>{const{id:n,...s}=e.options;Object.assign(t.options,s),t._lazyLoaded=!0,t._lazyPromise=void 0}):t._lazyLoaded=!0),!t._componentsLoaded&&t._componentsPromise===void 0){const e=()=>{const n=[];for(const s of yS){const a=t.options[s]?.preload;a&&n.push(a())}if(n.length)return Promise.all(n).then(()=>{t._componentsLoaded=!0,t._componentsPromise=void 0});t._componentsLoaded=!0,t._componentsPromise=void 0};t._componentsPromise=t._lazyPromise?t._lazyPromise.then(e):e()}return t._componentsPromise}function uu(t,e){return e?{status:"error",error:e}:{status:"success",value:t}}function mS(t){for(const e of yS)if(t.options[e]?.preload)return!0;return!1}const yS=["component","errorComponent","pendingComponent","notFoundComponent"];function eA(t){return{input:({url:e})=>{for(const n of t)e=gS(n,e);return e},output:({url:e})=>{for(let n=t.length-1;n>=0;n--)e=vS(t[n],e);return e}}}function tA(t){const e=Au(t.basepath),n=`/${e}`,s=`${n}/`,a=t.caseSensitive?n:n.toLowerCase(),c=t.caseSensitive?s:s.toLowerCase();return{input:({url:u})=>{const f=t.caseSensitive?u.pathname:u.pathname.toLowerCase();return f===a?u.pathname="/":f.startsWith(c)&&(u.pathname=u.pathname.slice(n.length)),u},output:({url:u})=>(u.pathname=Fs(["/",e,u.pathname]),u)}}function gS(t,e){const n=t?.input?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function vS(t,e){const n=t?.output?.({url:e});if(n){if(typeof n=="string")return new URL(n);if(n instanceof URL)return n}return e}function ia(t){const e=t.resolvedLocation,n=t.location,s=e?.pathname!==n.pathname,a=e?.href!==n.href,c=e?.hash!==n.hash;return{fromLocation:e,toLocation:n,pathChanged:s,hrefChanged:a,hashChanged:c}}class nA{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const s=this.options,a=this.basepath??s?.basepath??"/",c=this.basepath===void 0,u=s?.rewrite;this.options={...s,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(v=>[encodeURIComponent(v),v])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=c2())),this.origin=this.options.origin,this.origin||(!this.isServer&&window?.origin&&window.origin!=="null"?this.origin=window.origin:this.origin="http://localhost"),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new Zp(sA(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(v=>!["redirected"].includes(v.status))}}}),z2(this));let f=!1;const d=this.options.basepath??"/",p=this.options.rewrite;if(c||a!==d||u!==p){this.basepath=d;const v=[];Au(d)!==""&&v.push(tA({basepath:d})),p&&v.push(p),this.rewrite=v.length===0?void 0:v.length===1?v[0]:eA(v),this.history&&this.updateLatestLocation(),f=!0}f&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),typeof window<"u"&&"CSS"in window&&typeof window.CSS?.supports=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:n,routesByPath:s,flatRoutes:a}=k2({routeTree:this.routeTree,initRoute:(u,f)=>{u.init({originalIndex:f})}});this.routesById=n,this.routesByPath=s,this.flatRoutes=a;const c=this.options.notFoundRoute;c&&(c.init({originalIndex:99999999999}),this.routesById[c.id]=c)},this.subscribe=(n,s)=>{const a={eventType:n,fn:s};return this.subscribers.add(a),()=>{this.subscribers.delete(a)}},this.emit=n=>{this.subscribers.forEach(s=>{s.eventType===n.type&&s.fn(n)})},this.parseLocation=(n,s)=>{const a=({href:d,state:p})=>{const y=new URL(d,this.origin),g=gS(this.rewrite,y),v=this.options.parseSearch(g.search),S=this.options.stringifySearch(v);g.search=S;const w=g.href.replace(g.origin,""),{pathname:E,hash:M}=g;return{href:w,publicHref:d,url:g.href,pathname:E,searchStr:S,search:jr(s?.search,v),hash:M.split("#").reverse()[0]??"",state:jr(s?.state,p)}},c=a(n),{__tempLocation:u,__tempKey:f}=c.state;if(u&&(!f||f===this.tempLocationKey)){const d=a(u);return d.state.key=c.state.key,d.state.__TSR_key=c.state.__TSR_key,delete d.state.__tempLocation,{...d,maskedLocation:c}}return c},this.resolvePathWithBase=(n,s)=>p2({base:n,to:Jm(s),trailingSlash:this.options.trailingSlash,parseCache:this.parsePathnameCache}),this.matchRoutes=(n,s,a)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:s},a):this.matchRoutesInternal(n,s),this.parsePathnameCache=K2(1e3),this.getMatchedRoutes=(n,s)=>iA({pathname:n,routePathname:s,caseSensitive:this.options.caseSensitive,routesByPath:this.routesByPath,routesById:this.routesById,flatRoutes:this.flatRoutes,parseCache:this.parsePathnameCache}),this.cancelMatch=n=>{const s=this.getMatch(n);s&&(s.abortController.abort(),clearTimeout(s._nonReactive.pendingTimeout),s._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{this.state.pendingMatches?.forEach(n=>{this.cancelMatch(n.id)})},this.buildLocation=n=>{const s=(c={})=>{const u=c._fromLocation||this.latestLocation,f=this.matchRoutes(u,{_buildLocation:!0}),d=Jp(f);c.from;const p=c.unsafeRelative==="path"?u.pathname:c.from??d.fullPath,y=this.resolvePathWithBase(p,"."),g=d.search,v={...d.params},S=c.to?this.resolvePathWithBase(y,`${c.to}`):this.resolvePathWithBase(y,"."),w=c.params===!1||c.params===null?{}:(c.params??!0)===!0?v:Object.assign(v,ra(c.params,v)),E=cu({path:S,params:w,parseCache:this.parsePathnameCache}).interpolatedPath,M=this.matchRoutes(E,void 0,{_buildLocation:!0}).map(be=>this.looseRoutesById[be.routeId]);if(Object.keys(w).length>0)for(const be of M){const we=be.options.params?.stringify??be.options.stringifyParams;we&&Object.assign(w,we(w))}const P=cu({path:S,params:w,leaveWildcards:!1,leaveParams:n.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath;let D=g;if(n._includeValidateSearch&&this.options.search?.strict){const be={};M.forEach(we=>{if(we.options.validateSearch)try{Object.assign(be,tm(we.options.validateSearch,{...be,...D}))}catch{}}),D=be}D=aA({search:D,dest:c,destRoutes:M,_includeValidateSearch:n._includeValidateSearch}),D=jr(g,D);const k=this.options.stringifySearch(D),j=c.hash===!0?u.hash:c.hash?ra(c.hash,u.hash):void 0,F=j?`#${j}`:"";let J=c.state===!0?u.state:c.state?ra(c.state,u.state):{};J=jr(u.state,J);const Y=`${P}${k}${F}`,G=new URL(Y,this.origin),me=vS(this.rewrite,G);return{publicHref:me.pathname+me.search+me.hash,href:Y,url:me.href,pathname:P,search:D,searchStr:k,state:J,hash:j??"",unmaskOnReload:c.unmaskOnReload}},a=(c={},u)=>{const f=s(c);let d=u?s(u):void 0;if(!d){let p={};const y=this.options.routeMasks?.find(g=>{const v=Wp(f.pathname,{to:g.from,caseSensitive:!1,fuzzy:!1},this.parsePathnameCache);return v?(p=v,!0):!1});if(y){const{from:g,...v}=y;u={from:n.from,...v,params:p},d=s(u)}}return d&&(f.maskedLocation=d),f};return n.mask?a(n,{from:n.from,...n.mask}):a(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:s,...a})=>{const c=()=>{const d=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];d.forEach(y=>{a.state[y]=this.latestLocation.state[y]});const p=sa(a.state,this.latestLocation.state);return d.forEach(y=>{delete a.state[y]}),p},u=Ri(this.latestLocation.href)===Ri(a.href),f=this.commitLocationPromise;if(this.commitLocationPromise=no(()=>{f?.resolve()}),u&&c())this.load();else{let{maskedLocation:d,hashScrollIntoView:p,...y}=a;d&&(y={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...y,search:y.searchStr,state:{...y.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(y.unmaskOnReload??this.options.unmaskOnReload??!1)&&(y.state.__tempKey=this.tempLocationKey)),y.state.__hashScrollIntoViewOptions=p??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[a.replace?"replace":"push"](y.publicHref,y.state,{ignoreBlocker:s})}return this.resetNextScroll=a.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:s,hashScrollIntoView:a,viewTransition:c,ignoreBlocker:u,href:f,...d}={})=>{if(f){const y=this.history.location.state.__TSR_index,g=Fu(f,{__TSR_index:n?y:y+1});d.to=g.pathname,d.search=this.options.parseSearch(g.search),d.hash=g.hash.slice(1)}const p=this.buildLocation({...d,_includeValidateSearch:!0});return this.commitLocation({...p,viewTransition:c,replace:n,resetScroll:s,hashScrollIntoView:a,ignoreBlocker:u})},this.navigate=({to:n,reloadDocument:s,href:a,...c})=>{if(!s&&a)try{new URL(`${a}`),s=!0}catch{}return s?(a||(a=this.buildLocation({to:n,...c}).url),c.replace?window.location.replace(a):window.location.href=a,Promise.resolve()):this.buildAndCommitLocation({...c,href:a,to:n,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.updateLatestLocation(),this.isServer){const s=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0}),a=c=>{try{return encodeURI(decodeURI(c))}catch{return c}};if(Au(a(this.latestLocation.href))!==Au(a(s.href))){let c=s.url;throw this.origin&&c.startsWith(this.origin)&&(c=c.replace(this.origin,"")||"/"),G2({href:c})}}const n=this.matchRoutes(this.latestLocation);this.__store.setState(s=>({...s,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:n,cachedMatches:s.cachedMatches.filter(a=>!n.some(c=>c.id===a.id))}))},this.load=async n=>{let s,a,c;for(c=new Promise(f=>{this.startTransition(async()=>{try{this.beforeLoad();const d=this.latestLocation,p=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...ia({resolvedLocation:p,location:d})}),this.emit({type:"onBeforeLoad",...ia({resolvedLocation:p,location:d})}),await ab({router:this,sync:n?.sync,matches:this.state.pendingMatches,location:d,updateMatch:this.updateMatch,onReady:async()=>{this.startViewTransition(async()=>{let y,g,v;Ec(()=>{this.__store.setState(S=>{const w=S.matches,E=S.pendingMatches||S.matches;return y=w.filter(M=>!E.some(P=>P.id===M.id)),g=E.filter(M=>!w.some(P=>P.id===M.id)),v=w.filter(M=>E.some(P=>P.id===M.id)),{...S,isLoading:!1,loadedAt:Date.now(),matches:E,pendingMatches:void 0,cachedMatches:[...S.cachedMatches,...y.filter(M=>M.status!=="error")]}}),this.clearExpiredCache()}),[[y,"onLeave"],[g,"onEnter"],[v,"onStay"]].forEach(([S,w])=>{S.forEach(E=>{this.looseRoutesById[E.routeId].options[w]?.(E)})})})}})}catch(d){os(d)?(s=d,this.isServer||this.navigate({...s.options,replace:!0,ignoreBlocker:!0})):Qr(d)&&(a=d),this.__store.setState(p=>({...p,statusCode:s?s.status:a?404:p.matches.some(y=>y.status==="error")?500:200,redirect:s}))}this.latestLoadPromise===c&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),f()})}),this.latestLoadPromise=c,await c;this.latestLoadPromise&&c!==this.latestLoadPromise;)await this.latestLoadPromise;let u;this.hasNotFoundMatch()?u=404:this.__store.state.matches.some(f=>f.status==="error")&&(u=500),u!==void 0&&this.__store.setState(f=>({...f,statusCode:u}))},this.startViewTransition=n=>{const s=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,s&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let a;if(typeof s=="object"&&this.isViewTransitionTypesSupported){const c=this.latestLocation,u=this.state.resolvedLocation,f=typeof s.types=="function"?s.types(ia({resolvedLocation:u,location:c})):s.types;if(f===!1){n();return}a={update:n,types:f}}else a=n;document.startViewTransition(a)}else n()},this.updateMatch=(n,s)=>{const a=this.state.pendingMatches?.some(c=>c.id===n)?"pendingMatches":this.state.matches.some(c=>c.id===n)?"matches":this.state.cachedMatches.some(c=>c.id===n)?"cachedMatches":"";a&&this.__store.setState(c=>({...c,[a]:c[a]?.map(u=>u.id===n?s(u):u)}))},this.getMatch=n=>{const s=a=>a.id===n;return this.state.cachedMatches.find(s)??this.state.pendingMatches?.find(s)??this.state.matches.find(s)},this.invalidate=n=>{const s=a=>n?.filter?.(a)??!0?{...a,invalid:!0,...n?.forcePending||a.status==="error"?{status:"pending",error:void 0}:void 0}:a;return this.__store.setState(a=>({...a,matches:a.matches.map(s),cachedMatches:a.cachedMatches.map(s),pendingMatches:a.pendingMatches?.map(s)})),this.shouldViewTransition=!1,this.load({sync:n?.sync})},this.resolveRedirect=n=>{if(!n.options.href){const s=this.buildLocation(n.options);let a=s.url;this.origin&&a.startsWith(this.origin)&&(a=a.replace(this.origin,"")||"/"),n.options.href=s.href,n.headers.set("Location",a)}return n.headers.get("Location")||n.headers.set("Location",n.options.href),n},this.clearCache=n=>{const s=n?.filter;s!==void 0?this.__store.setState(a=>({...a,cachedMatches:a.cachedMatches.filter(c=>!s(c))})):this.__store.setState(a=>({...a,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=s=>{const a=this.looseRoutesById[s.routeId];if(!a.options.loader)return!0;const c=(s.preload?a.options.preloadGcTime??this.options.defaultPreloadGcTime:a.options.gcTime??this.options.defaultGcTime)??300*1e3;return s.status==="error"?!0:Date.now()-s.updatedAt>=c};this.clearCache({filter:n})},this.loadRouteChunk=pS,this.preloadRoute=async n=>{const s=this.buildLocation(n);let a=this.matchRoutes(s,{throwOnError:!0,preload:!0,dest:n});const c=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(f=>f.id)),u=new Set([...c,...this.state.cachedMatches.map(f=>f.id)]);Ec(()=>{a.forEach(f=>{u.has(f.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,f]}))})});try{return a=await ab({router:this,matches:a,location:s,preload:!0,updateMatch:(f,d)=>{c.has(f)?a=a.map(p=>p.id===f?d(p):p):this.updateMatch(f,d)}}),a}catch(f){if(os(f))return f.options.reloadDocument?void 0:await this.preloadRoute({...f.options,_fromLocation:s});Qr(f)||console.error(f);return}},this.matchRoute=(n,s)=>{const a={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},c=this.buildLocation(a);if(s?.pending&&this.state.status!=="pending")return!1;const f=(s?.pending===void 0?!this.state.isLoading:s.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,d=Wp(f.pathname,{...s,to:c.pathname},this.parsePathnameCache);return!d||n.params&&!sa(d,n.params,{partial:!0})?!1:d&&(s?.includeSearch??!0)?sa(f.search,c.search,{partial:!0})?d:!1:d},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??q2,parseSearch:e.parseSearch??V2}),typeof document<"u"&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(e,n){const{foundRoute:s,matchedRoutes:a,routeParams:c}=this.getMatchedRoutes(e.pathname,n?.dest?.to);let u=!1;(s?s.path!=="/"&&c["**"]:Ri(e.pathname))&&(this.options.notFoundRoute?a.push(this.options.notFoundRoute):u=!0);const f=(()=>{if(u){if(this.options.notFoundMode!=="root")for(let y=a.length-1;y>=0;y--){const g=a[y];if(g.children)return g.id}return lr}})(),d=[],p=y=>y?.id?y.context??this.options.context??void 0:this.options.context??void 0;return a.forEach((y,g)=>{const v=d[g-1],[S,w,E]=(()=>{const ge=v?.search??e.search,Ee=v?._strictSearch??void 0;try{const pe=tm(y.options.validateSearch,{...ge})??void 0;return[{...ge,...pe},{...Ee,...pe},void 0]}catch(pe){let Te=pe;if(pe instanceof Qu||(Te=new Qu(pe.message,{cause:pe})),n?.throwOnError)throw Te;return[ge,{},Te]}})(),M=y.options.loaderDeps?.({search:S})??"",P=M?JSON.stringify(M):"",{interpolatedPath:D,usedParams:k}=cu({path:y.fullPath,params:c,decodeCharMap:this.pathParamsDecodeCharMap}),j=cu({path:y.id,params:c,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath+P,F=this.getMatch(j),J=this.state.matches.find(ge=>ge.routeId===y.id),Y=F?._strictParams??k;let G;if(!F){const ge=y.options.params?.parse??y.options.parseParams;if(ge)try{Object.assign(Y,ge(Y))}catch(Ee){if(G=new rA(Ee.message,{cause:Ee}),n?.throwOnError)throw G}}Object.assign(c,Y);const me=J?"stay":"enter";let be;if(F)be={...F,cause:me,params:J?jr(J.params,c):c,_strictParams:Y,search:jr(J?J.search:F.search,S),_strictSearch:w};else{const ge=y.options.loader||y.options.beforeLoad||y.lazyFn||mS(y)?"pending":"success";be={id:j,index:g,routeId:y.id,params:J?jr(J.params,c):c,_strictParams:Y,pathname:D,updatedAt:Date.now(),search:J?jr(J.search,S):S,_strictSearch:w,searchError:void 0,status:ge,isFetching:!1,error:void 0,paramsError:G,__routeContext:void 0,_nonReactive:{loadPromise:no()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:me,loaderDeps:J?jr(J.loaderDeps,M):M,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:y.options.staticData||{},fullPath:y.fullPath}}n?.preload||(be.globalNotFound=f===y.id),be.searchError=E;const we=p(v);be.context={...we,...be.__routeContext,...be.__beforeLoadContext},d.push(be)}),d.forEach((y,g)=>{const v=this.looseRoutesById[y.routeId];if(!this.getMatch(y.id)&&n?._buildLocation!==!0){const w=d[g-1],E=p(w);if(v.options.context){const M={deps:y.loaderDeps,params:y.params,context:E??{},location:e,navigate:P=>this.navigate({...P,_fromLocation:e}),buildLocation:this.buildLocation,cause:y.cause,abortController:y.abortController,preload:!!y.preload,matches:d};y.__routeContext=v.options.context(M)??void 0}y.context={...E,...y.__routeContext,...y.__beforeLoadContext}}}),d}}class Qu extends Error{}class rA extends Error{}function sA(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function tm(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new Qu("Async validation not supported");if(n.issues)throw new Qu(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function iA({pathname:t,routePathname:e,caseSensitive:n,routesByPath:s,routesById:a,flatRoutes:c,parseCache:u}){let f={};const d=Ri(t),p=S=>Wp(d,{to:S.fullPath,caseSensitive:S.options?.caseSensitive??n,fuzzy:!0},u);let y=e!==void 0?s[e]:void 0;if(y)f=p(y);else{let S;for(const w of c){const E=p(w);if(E)if(w.path!=="/"&&E["**"])S||(S={foundRoute:w,routeParams:E});else{y=w,f=E;break}}!y&&S&&(y=S.foundRoute,f=S.routeParams)}let g=y||a[lr];const v=[g];for(;g.parentRoute;)g=g.parentRoute,v.push(g);return v.reverse(),{matchedRoutes:v,routeParams:f,foundRoute:y}}function aA({search:t,dest:e,destRoutes:n,_includeValidateSearch:s}){const a=n.reduce((f,d)=>{const p=[];if("search"in d.options)d.options.search?.middlewares&&p.push(...d.options.search.middlewares);else if(d.options.preSearchFilters||d.options.postSearchFilters){const y=({search:g,next:v})=>{let S=g;"preSearchFilters"in d.options&&d.options.preSearchFilters&&(S=d.options.preSearchFilters.reduce((E,M)=>M(E),g));const w=v(S);return"postSearchFilters"in d.options&&d.options.postSearchFilters?d.options.postSearchFilters.reduce((E,M)=>M(E),w):w};p.push(y)}if(s&&d.options.validateSearch){const y=({search:g,next:v})=>{const S=v(g);try{return{...S,...tm(d.options.validateSearch,S)??void 0}}catch{return S}};p.push(y)}return f.concat(p)},[])??[],c=({search:f})=>e.search?e.search===!0?f:ra(e.search,f):{};a.push(c);const u=(f,d)=>{if(f>=a.length)return d;const p=a[f];return p({search:d,next:g=>u(f+1,g)})};return u(0,t)}const oA="Error preloading route! ";class xS{constructor(e){if(this.init=n=>{this.originalIndex=n.originalIndex;const s=this.options,a=!s?.path&&!s?.id;this.parentRoute=this.options.getParentRoute?.(),a?this._path=lr:this.parentRoute||Ks(!1);let c=a?lr:s?.path;c&&c!=="/"&&(c=Wm(c));const u=s?.id||c;let f=a?lr:Fs([this.parentRoute.id===lr?"":this.parentRoute.id,u]);c===lr&&(c="/"),f!==lr&&(f=Fs(["/",f]));const d=f===lr?"/":Fs([this.parentRoute.fullPath,c]);this._path=c,this._id=f,this._fullPath=d,this._to=d},this.clone=n=>{this._path=n._path,this._id=n._id,this._fullPath=n._fullPath,this._to=n._to,this.options.getParentRoute=n.options.getParentRoute,this.children=n.children},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.options=e||{},this.isRoot=!e?.getParentRoute,e?.id&&e?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class cA extends xS{constructor(e){super(e)}}var T=Vc();const ke=$c(T),lA=rS({__proto__:null,default:ke},[T]);function ey(t){const e=t.errorComponent??Sf;return b.jsx(uA,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:s})=>n?T.createElement(e,{error:n,reset:s}):t.children})}class uA extends T.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Sf({error:t}){const[e,n]=T.useState(!1);return b.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[b.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),b.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(s=>!s),children:e?"Hide Error":"Show Error"})]}),b.jsx("div",{style:{height:".25rem"}}),e?b.jsx("div",{children:b.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?b.jsx("code",{children:t.message}):null})}):null]})}function fA({children:t,fallback:e=null}){return dA()?b.jsx(ke.Fragment,{children:t}):b.jsx(ke.Fragment,{children:e})}function dA(){return ke.useSyncExternalStore(hA,()=>!0,()=>!1)}function hA(){return()=>{}}var cp={exports:{}},lp={},up={exports:{}},fp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob;function pA(){if(ob)return fp;ob=1;var t=Vc();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:e,s=t.useState,a=t.useEffect,c=t.useLayoutEffect,u=t.useDebugValue;function f(g,v){var S=v(),w=s({inst:{value:S,getSnapshot:v}}),E=w[0].inst,M=w[1];return c(function(){E.value=S,E.getSnapshot=v,d(E)&&M({inst:E})},[g,S,v]),a(function(){return d(E)&&M({inst:E}),g(function(){d(E)&&M({inst:E})})},[g]),u(S),S}function d(g){var v=g.getSnapshot;g=g.value;try{var S=v();return!n(g,S)}catch{return!0}}function p(g,v){return v()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:f;return fp.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:y,fp}var cb;function bS(){return cb||(cb=1,up.exports=pA()),up.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lb;function mA(){if(lb)return lp;lb=1;var t=Vc(),e=bS();function n(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var s=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,c=t.useRef,u=t.useEffect,f=t.useMemo,d=t.useDebugValue;return lp.useSyncExternalStoreWithSelector=function(p,y,g,v,S){var w=c(null);if(w.current===null){var E={hasValue:!1,value:null};w.current=E}else E=w.current;w=f(function(){function P(J){if(!D){if(D=!0,k=J,J=v(J),S!==void 0&&E.hasValue){var Y=E.value;if(S(Y,J))return j=Y}return j=J}if(Y=j,s(k,J))return Y;var G=v(J);return S!==void 0&&S(Y,G)?(k=J,Y):(k=J,j=G)}var D=!1,k,j,F=g===void 0?null:g;return[function(){return P(y())},F===null?void 0:function(){return P(F())}]},[y,g,v,S]);var M=a(p,w[0],w[1]);return u(function(){E.hasValue=!0,E.value=M},[M]),d(M),M},lp}var ub;function yA(){return ub||(ub=1,cp.exports=mA()),cp.exports}var gA=yA();function vA(t,e=n=>n){return gA.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,xA)}function xA(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[s,a]of t)if(!e.has(s)||!Object.is(a,e.get(s)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0}if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();const n=fb(t);if(n.length!==fb(e).length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(e,n[s])||!Object.is(t[n[s]],e[n[s]]))return!1;return!0}function fb(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}const dp=T.createContext(null);function SS(){return typeof document>"u"?dp:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=dp,dp)}function Tr(t){const e=T.useContext(SS());return t?.warn,e}function ur(t){const e=Tr({warn:t?.router===void 0}),n=t?.router||e,s=T.useRef(void 0);return vA(n.__store,a=>{if(t?.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const c=jr(s.current,t.select(a));return s.current=c,c}return t.select(a)}return a})}const _f=T.createContext(void 0),bA=T.createContext(void 0);function ms(t){const e=T.useContext(t.from?bA:_f);return ur({select:s=>{const a=s.matches.find(c=>t.from?t.from===c.routeId:c.id===e);if(Ks(!((t.shouldThrow??!0)&&!a),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),a!==void 0)return t.select?t.select(a):a},structuralSharing:t.structuralSharing})}function ty(t){return ms({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function ny(t){const{select:e,...n}=t;return ms({...n,select:s=>e?e(s.loaderDeps):s.loaderDeps})}function ry(t){return ms({from:t.from,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,strict:t.strict,select:e=>{const n=t.strict===!1?e.params:e._strictParams;return t.select?t.select(n):n}})}function sy(t){return ms({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function wf(t){const e=Tr();return T.useCallback(n=>e.navigate({...n,from:n.from??t?.from}),[t?.from,e])}var qc=sS();const SA=$c(qc),fu=typeof window<"u"?T.useLayoutEffect:T.useEffect;function hp(t){const e=T.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function _A(t,e,n={},s={}){T.useEffect(()=>{if(!t.current||s.disabled||typeof IntersectionObserver!="function")return;const a=new IntersectionObserver(([c])=>{e(c)},n);return a.observe(t.current),()=>{a.disconnect()}},[e,n,s.disabled,t])}function wA(t){const e=T.useRef(null);return T.useImperativeHandle(t,()=>e.current,[]),e}function CA(t,e){const n=Tr(),[s,a]=T.useState(!1),c=T.useRef(!1),u=wA(e),{activeProps:f,inactiveProps:d,activeOptions:p,to:y,preload:g,preloadDelay:v,hashScrollIntoView:S,replace:w,startTransition:E,resetScroll:M,viewTransition:P,children:D,target:k,disabled:j,style:F,className:J,onClick:Y,onFocus:G,onMouseEnter:me,onMouseLeave:be,onTouchStart:we,ignoreBlocker:ge,params:Ee,search:pe,hash:Te,state:H,mask:ie,reloadDocument:X,unsafeRelative:je,from:Je,_fromLocation:I,...se}=t,de=ur({select:at=>at.location.search,structuralSharing:!0}),xe=t.from,_e=T.useMemo(()=>({...t,from:xe}),[n,de,xe,t._fromLocation,t.hash,t.to,t.search,t.params,t.state,t.mask,t.unsafeRelative]),Re=T.useMemo(()=>n.buildLocation({..._e}),[n,_e]),ze=T.useMemo(()=>{if(j)return;let at=Re.maskedLocation?Re.maskedLocation.url:Re.url,dt=!1;return n.origin&&(at.startsWith(n.origin)?at=n.history.createHref(at.replace(n.origin,""))||"/":dt=!0),{href:at,external:dt}},[j,Re.maskedLocation,Re.url,n.origin,n.history]),Nt=T.useMemo(()=>{if(ze?.external)return ze.href;try{return new URL(y),y}catch{}},[y,ze]),z=t.reloadDocument||Nt?!1:g??n.options.defaultPreload,Q=v??n.options.defaultPreloadDelay??0,le=ur({select:at=>{if(Nt)return!1;if(p?.exact){if(!d2(at.location.pathname,Re.pathname,n.basepath))return!1}else{const dt=Gu(at.location.pathname,n.basepath),Wt=Gu(Re.pathname,n.basepath);if(!(dt.startsWith(Wt)&&(dt.length===Wt.length||dt[Wt.length]==="/")))return!1}return(p?.includeSearch??!0)&&!sa(at.location.search,Re.search,{partial:!p?.exact,ignoreUndefined:!p?.explicitUndefined})?!1:p?.includeHash?at.location.hash===Re.hash:!0}}),Pe=T.useCallback(()=>{n.preloadRoute({..._e}).catch(at=>{console.warn(at),console.warn(oA)})},[n,_e]),Le=T.useCallback(at=>{at?.isIntersecting&&Pe()},[Pe]);_A(u,Le,OA,{disabled:!!j||z!=="viewport"}),T.useEffect(()=>{c.current||!j&&z==="render"&&(Pe(),c.current=!0)},[j,Pe,z]);const Ue=at=>{const dt=at.currentTarget.target,Wt=k!==void 0?k:dt;if(!j&&!MA(at)&&!at.defaultPrevented&&(!Wt||Wt==="_self")&&at.button===0){at.preventDefault(),qc.flushSync(()=>{a(!0)});const Dn=n.subscribe("onResolved",()=>{Dn(),a(!1)});n.navigate({..._e,replace:w,resetScroll:M,hashScrollIntoView:S,startTransition:E,viewTransition:P,ignoreBlocker:ge})}};if(Nt)return{...se,ref:u,href:Nt,...D&&{children:D},...k&&{target:k},...j&&{disabled:j},...F&&{style:F},...J&&{className:J},...Y&&{onClick:Y},...G&&{onFocus:G},...me&&{onMouseEnter:me},...be&&{onMouseLeave:be},...we&&{onTouchStart:we}};const Dt=at=>{j||z&&Pe()},bt=Dt,Zt=at=>{if(!(j||!z))if(!Q)Pe();else{const dt=at.target;if(lc.has(dt))return;const Wt=setTimeout(()=>{lc.delete(dt),Pe()},Q);lc.set(dt,Wt)}},Bt=at=>{if(j||!z||!Q)return;const dt=at.target,Wt=lc.get(dt);Wt&&(clearTimeout(Wt),lc.delete(dt))},xt=le?ra(f,{})??EA:pp,kt=le?pp:ra(d,{})??pp,Gt=[J,xt.className,kt.className].filter(Boolean).join(" "),Rn=(F||xt.style||kt.style)&&{...F,...xt.style,...kt.style};return{...se,...xt,...kt,href:ze?.href,ref:u,onClick:uc([Y,Ue]),onFocus:uc([G,Dt]),onMouseEnter:uc([me,Zt]),onMouseLeave:uc([be,Bt]),onTouchStart:uc([we,bt]),disabled:!!j,target:k,...Rn&&{style:Rn},...Gt&&{className:Gt},...j&&TA,...le&&RA,...s&&AA}}const pp={},EA={className:"active"},TA={role:"link","aria-disabled":!0},RA={"data-status":"active","aria-current":"page"},AA={"data-transitioning":"transitioning"},lc=new WeakMap,OA={rootMargin:"100px"},uc=t=>e=>{for(const n of t)if(n){if(e.defaultPrevented)return;n(e)}},iy=T.forwardRef((t,e)=>{const{_asChild:n,...s}=t,{type:a,ref:c,...u}=CA(s,e),f=typeof s.children=="function"?s.children({isActive:u["data-status"]==="active"}):s.children;return n===void 0&&delete u.disabled,T.createElement(n||"a",{...u,ref:c},f)});function MA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}class PA extends xS{constructor(e){super(e),this.useMatch=n=>ms({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>ms({...n,from:this.id,select:s=>n?.select?n.select(s.context):s.context}),this.useSearch=n=>sy({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>ry({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>ny({...n,from:this.id}),this.useLoaderData=n=>ty({...n,from:this.id}),this.useNavigate=()=>wf({from:this.fullPath}),this.Link=ke.forwardRef((n,s)=>b.jsx(iy,{ref:s,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function Cf(t){return new PA(t)}class NA extends cA{constructor(e){super(e),this.useMatch=n=>ms({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>ms({...n,from:this.id,select:s=>n?.select?n.select(s.context):s.context}),this.useSearch=n=>sy({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>ry({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>ny({...n,from:this.id}),this.useLoaderData=n=>ty({...n,from:this.id}),this.useNavigate=()=>wf({from:this.fullPath}),this.Link=ke.forwardRef((n,s)=>b.jsx(iy,{ref:s,from:this.fullPath,...n})),this.$$typeof=Symbol.for("react.memo")}}function DA(t){return new NA(t)}function db(t){return typeof t=="object"?new hb(t,{silent:!0}).createRoute(t):new hb(t,{silent:!0}).createRoute}class hb{constructor(e,n){this.path=e,this.createRoute=s=>{this.silent;const a=Cf(s);return a.isRoot=!1,a},this.silent=n?.silent}}class pb{constructor(e){this.useMatch=n=>ms({select:n?.select,from:this.options.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>ms({from:this.options.id,select:s=>n?.select?n.select(s.context):s.context}),this.useSearch=n=>sy({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useParams=n=>ry({select:n?.select,structuralSharing:n?.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>ny({...n,from:this.options.id}),this.useLoaderData=n=>ty({...n,from:this.options.id}),this.useNavigate=()=>{const n=Tr();return wf({from:n.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function mb(t){return typeof t=="object"?new pb(t):e=>new pb({id:t,...e})}function kA(){const t=Tr(),e=T.useRef({router:t,mounted:!1}),[n,s]=T.useState(!1),{hasPendingMatches:a,isLoading:c}=ur({select:g=>({isLoading:g.isLoading,hasPendingMatches:g.matches.some(v=>v.status==="pending")}),structuralSharing:!0}),u=hp(c),f=c||n||a,d=hp(f),p=c||a,y=hp(p);return t.startTransition=g=>{s(!0),T.startTransition(()=>{g(),s(!1)})},T.useEffect(()=>{const g=t.history.subscribe(t.load),v=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Ri(t.latestLocation.href)!==Ri(v.href)&&t.commitLocation({...v,replace:!0}),()=>{g()}},[t,t.history]),fu(()=>{if(typeof window<"u"&&t.ssr||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(v){console.error(v)}})()},[t]),fu(()=>{u&&!c&&t.emit({type:"onLoad",...ia(t.state)})},[u,t,c]),fu(()=>{y&&!p&&t.emit({type:"onBeforeRouteMount",...ia(t.state)})},[p,y,t]),fu(()=>{d&&!f&&(t.emit({type:"onResolved",...ia(t.state)}),t.__store.setState(g=>({...g,status:"idle",resolvedLocation:g.location})),B2(t))},[f,d,t]),null}function jA(t){const e=ur({select:n=>`not-found-${n.location.pathname}-${n.status}`});return b.jsx(ey,{getResetKey:()=>e,onCatch:(n,s)=>{if(Qr(n))t.onCatch?.(n,s);else throw n},errorComponent:({error:n})=>{if(Qr(n))return t.fallback?.(n);throw n},children:t.children})}function LA(){return b.jsx("p",{children:"Not Found"})}function Ka(t){return b.jsx(b.Fragment,{children:t.children})}function _S(t,e,n){return e.options.notFoundComponent?b.jsx(e.options.notFoundComponent,{data:n}):t.options.defaultNotFoundComponent?b.jsx(t.options.defaultNotFoundComponent,{data:n}):b.jsx(LA,{})}function UA({children:t}){const e=Tr();return e.isServer?b.jsx("script",{nonce:e.options.ssr?.nonce,className:"$tsr",dangerouslySetInnerHTML:{__html:[t].filter(Boolean).join(`
`)+";$_TSR.c()"}}):null}function IA(){const t=Tr();if(!t.isScrollRestoring||!t.isServer||typeof t.options.scrollRestoration=="function"&&!t.options.scrollRestoration({location:t.latestLocation}))return null;const n=(t.options.getScrollRestorationKey||em)(t.latestLocation),s=n!==em(t.latestLocation)?n:void 0,a={storageKey:Ku,shouldScrollRestoration:!0};return s&&(a.key=s),b.jsx(UA,{children:`(${lS.toString()})(${JSON.stringify(a)})`})}const wS=T.memo(function({matchId:e}){const n=Tr(),s=ur({select:P=>{const D=P.matches.find(k=>k.id===e);return Ks(D),{routeId:D.routeId,ssr:D.ssr,_displayPending:D._displayPending}},structuralSharing:!0}),a=n.routesById[s.routeId],c=a.options.pendingComponent??n.options.defaultPendingComponent,u=c?b.jsx(c,{}):null,f=a.options.errorComponent??n.options.defaultErrorComponent,d=a.options.onCatch??n.options.defaultOnCatch,p=a.isRoot?a.options.notFoundComponent??n.options.notFoundRoute?.options.component:a.options.notFoundComponent,y=s.ssr===!1||s.ssr==="data-only",g=(!a.isRoot||a.options.wrapInSuspense||y)&&(a.options.wrapInSuspense??c??(a.options.errorComponent?.preload||y))?T.Suspense:Ka,v=f?ey:Ka,S=p?jA:Ka,w=ur({select:P=>P.loadedAt}),E=ur({select:P=>{const D=P.matches.findIndex(k=>k.id===e);return P.matches[D-1]?.routeId}}),M=a.isRoot?a.options.shellComponent??Ka:Ka;return b.jsxs(M,{children:[b.jsx(_f.Provider,{value:e,children:b.jsx(g,{fallback:u,children:b.jsx(v,{getResetKey:()=>w,errorComponent:f||Sf,onCatch:(P,D)=>{if(Qr(P))throw P;d?.(P,D)},children:b.jsx(S,{fallback:P=>{if(!p||P.routeId&&P.routeId!==s.routeId||!P.routeId&&!a.isRoot)throw P;return T.createElement(p,P)},children:y||s._displayPending?b.jsx(fA,{fallback:u,children:b.jsx(yb,{matchId:e})}):b.jsx(yb,{matchId:e})})})})}),E===lr&&n.options.scrollRestoration?b.jsxs(b.Fragment,{children:[b.jsx(zA,{}),b.jsx(IA,{})]}):null]})});function zA(){const t=Tr(),e=T.useRef(void 0);return b.jsx("script",{suppressHydrationWarning:!0,ref:n=>{n&&(e.current===void 0||e.current.href!==t.latestLocation.href)&&(t.emit({type:"onRendered",...ia(t.state)}),e.current=t.latestLocation)}},t.latestLocation.state.__TSR_key)}const yb=T.memo(function({matchId:e}){const n=Tr(),{match:s,key:a,routeId:c}=ur({select:d=>{const p=d.matches.find(w=>w.id===e),y=p.routeId,v=(n.routesById[y].options.remountDeps??n.options.defaultRemountDeps)?.({routeId:y,loaderDeps:p.loaderDeps,params:p._strictParams,search:p._strictSearch});return{key:v?JSON.stringify(v):void 0,routeId:y,match:{id:p.id,status:p.status,error:p.error,_forcePending:p._forcePending,_displayPending:p._displayPending}}},structuralSharing:!0}),u=n.routesById[c],f=T.useMemo(()=>{const d=u.options.component??n.options.defaultComponent;return d?b.jsx(d,{},a):b.jsx(CS,{})},[a,u.options.component,n.options.defaultComponent]);if(s._displayPending)throw n.getMatch(s.id)?._nonReactive.displayPendingPromise;if(s._forcePending)throw n.getMatch(s.id)?._nonReactive.minPendingPromise;if(s.status==="pending"){const d=u.options.pendingMinMs??n.options.defaultPendingMinMs;if(d){const p=n.getMatch(s.id);if(p&&!p._nonReactive.minPendingPromise&&!n.isServer){const y=no();p._nonReactive.minPendingPromise=y,setTimeout(()=>{y.resolve(),p._nonReactive.minPendingPromise=void 0},d)}}throw n.getMatch(s.id)?._nonReactive.loadPromise}if(s.status==="notFound")return Ks(Qr(s.error)),_S(n,u,s.error);if(s.status==="redirected")throw Ks(os(s.error)),n.getMatch(s.id)?._nonReactive.loadPromise;if(s.status==="error"){if(n.isServer){const d=(u.options.errorComponent??n.options.defaultErrorComponent)||Sf;return b.jsx(d,{error:s.error,reset:void 0,info:{componentStack:""}})}throw s.error}return f}),CS=T.memo(function(){const e=Tr(),n=T.useContext(_f),s=ur({select:p=>p.matches.find(y=>y.id===n)?.routeId}),a=e.routesById[s],c=ur({select:p=>{const g=p.matches.find(v=>v.id===n);return Ks(g),g.globalNotFound}}),u=ur({select:p=>{const y=p.matches,g=y.findIndex(v=>v.id===n);return y[g+1]?.id}}),f=e.options.defaultPendingComponent?b.jsx(e.options.defaultPendingComponent,{}):null;if(c)return _S(e,a,void 0);if(!u)return null;const d=b.jsx(wS,{matchId:u});return n===lr?b.jsx(T.Suspense,{fallback:f,children:d}):d});function BA(){const t=Tr(),n=t.routesById[lr].options.pendingComponent??t.options.defaultPendingComponent,s=n?b.jsx(n,{}):null,a=t.isServer||typeof document<"u"&&t.ssr?Ka:T.Suspense,c=b.jsxs(a,{fallback:s,children:[!t.isServer&&b.jsx(kA,{}),b.jsx(HA,{})]});return t.options.InnerWrap?b.jsx(t.options.InnerWrap,{children:c}):c}function HA(){const t=Tr(),e=ur({select:a=>a.matches[0]?.id}),n=ur({select:a=>a.loadedAt}),s=e?b.jsx(wS,{matchId:e}):null;return b.jsx(_f.Provider,{value:e,children:t.options.disableGlobalCatchBoundary?s:b.jsx(ey,{getResetKey:()=>n,errorComponent:Sf,onCatch:a=>{a.message||a.toString()},children:s})})}const $A=t=>new VA(t);class VA extends nA{constructor(e){super(e)}}typeof globalThis<"u"?(globalThis.createFileRoute=db,globalThis.createLazyFileRoute=mb):typeof window<"u"&&(window.createFileRoute=db,window.createLazyFileRoute=mb);function qA({router:t,children:e,...n}){Object.keys(n).length>0&&t.update({...t.options,...n,context:{...t.options.context,...n.context}});const s=SS(),a=b.jsx(s.Provider,{value:t,children:e});return t.options.Wrap?b.jsx(t.options.Wrap,{children:a}):a}function FA({router:t,...e}){return b.jsx(qA,{router:t,...e,children:b.jsx(BA,{})})}var Ef=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},YA={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},GA=class{#e=YA;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},nm=new GA;function KA(t){setTimeout(t,0)}var Tf=typeof window>"u"||"Deno"in globalThis;function Yr(){}function XA(t,e){return typeof t=="function"?t(e):t}function QA(t){return typeof t=="number"&&t>=0&&t!==1/0}function ZA(t,e){return Math.max(t+(e||0)-Date.now(),0)}function rm(t,e){return typeof t=="function"?t(e):t}function JA(t,e){return typeof t=="function"?t(e):t}function gb(t,e){const{type:n="all",exact:s,fetchStatus:a,predicate:c,queryKey:u,stale:f}=t;if(u){if(s){if(e.queryHash!==ay(u,e.options))return!1}else if(!Nc(e.queryKey,u))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||a&&a!==e.state.fetchStatus||c&&!c(e))}function vb(t,e){const{exact:n,status:s,predicate:a,mutationKey:c}=t;if(c){if(!e.options.mutationKey)return!1;if(n){if(Pc(e.options.mutationKey)!==Pc(c))return!1}else if(!Nc(e.options.mutationKey,c))return!1}return!(s&&e.state.status!==s||a&&!a(e))}function ay(t,e){return(e?.queryKeyHashFn||Pc)(t)}function Pc(t){return JSON.stringify(t,(e,n)=>sm(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function Nc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Nc(t[n],e[n])):!1}var WA=Object.prototype.hasOwnProperty;function ES(t,e){if(t===e)return t;const n=xb(t)&&xb(e);if(!n&&!(sm(t)&&sm(e)))return e;const a=(n?t:Object.keys(t)).length,c=n?e:Object.keys(e),u=c.length,f=n?new Array(u):{};let d=0;for(let p=0;p<u;p++){const y=n?p:c[p],g=t[y],v=e[y];if(g===v){f[y]=g,(n?p<a:WA.call(t,y))&&d++;continue}if(g===null||v===null||typeof g!="object"||typeof v!="object"){f[y]=v;continue}const S=ES(g,v);f[y]=S,S===g&&d++}return a===u&&d===a?t:f}function xb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function sm(t){if(!bb(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!bb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function bb(t){return Object.prototype.toString.call(t)==="[object Object]"}function e6(t){return new Promise(e=>{nm.setTimeout(e,t)})}function t6(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ES(t,e):e}function n6(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function r6(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var oy=Symbol();function TS(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===oy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var s6=class extends Ef{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Tf&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},RS=new s6;function i6(){let t,e;const n=new Promise((a,c)=>{t=a,e=c});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),t(a)},n.reject=a=>{s({status:"rejected",reason:a}),e(a)},n}var a6=KA;function o6(){let t=[],e=0,n=f=>{f()},s=f=>{f()},a=a6;const c=f=>{e?t.push(f):a(()=>{n(f)})},u=()=>{const f=t;t=[],f.length&&a(()=>{s(()=>{f.forEach(d=>{n(d)})})})};return{batch:f=>{let d;e++;try{d=f()}finally{e--,e||u()}return d},batchCalls:f=>(...d)=>{c(()=>{f(...d)})},schedule:c,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{s=f},setScheduler:f=>{a=f}}}var er=o6(),c6=class extends Ef{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Tf&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Zu=new c6;function l6(t){return Math.min(1e3*2**t,3e4)}function AS(t){return(t??"online")==="online"?Zu.isOnline():!0}var im=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function OS(t){let e=!1,n=0,s;const a=i6(),c=()=>a.status!=="pending",u=E=>{if(!c()){const M=new im(E);v(M),t.onCancel?.(M)}},f=()=>{e=!0},d=()=>{e=!1},p=()=>RS.isFocused()&&(t.networkMode==="always"||Zu.isOnline())&&t.canRun(),y=()=>AS(t.networkMode)&&t.canRun(),g=E=>{c()||(s?.(),a.resolve(E))},v=E=>{c()||(s?.(),a.reject(E))},S=()=>new Promise(E=>{s=M=>{(c()||p())&&E(M)},t.onPause?.()}).then(()=>{s=void 0,c()||t.onContinue?.()}),w=()=>{if(c())return;let E;const M=n===0?t.initialPromise:void 0;try{E=M??t.fn()}catch(P){E=Promise.reject(P)}Promise.resolve(E).then(g).catch(P=>{if(c())return;const D=t.retry??(Tf?0:3),k=t.retryDelay??l6,j=typeof k=="function"?k(n,P):k,F=D===!0||typeof D=="number"&&n<D||typeof D=="function"&&D(n,P);if(e||!F){v(P);return}n++,t.onFail?.(n,P),e6(j).then(()=>p()?void 0:S()).then(()=>{e?v(P):w()})})};return{promise:a,status:()=>a.status,cancel:u,continue:()=>(s?.(),a),cancelRetry:f,continueRetry:d,canStart:y,start:()=>(y()?w():S().then(w),a)}}var MS=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),QA(this.gcTime)&&(this.#e=nm.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Tf?1/0:300*1e3))}clearGcTimeout(){this.#e&&(nm.clearTimeout(this.#e),this.#e=void 0)}},u6=class extends MS{#e;#t;#n;#s;#r;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#s=t.client,this.#n=this.#s.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Sb(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=Sb(this.options);e.data!==void 0&&(this.setData(e.data,{updatedAt:e.dataUpdatedAt,manual:!0}),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=t6(this.state.data,t,this.options);return this.#i({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(Yr).catch(Yr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>JA(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===oy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>rm(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!ZA(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(d=>d.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},a=()=>{const f=TS(this.options,e),p=(()=>{const y={client:this.#s,queryKey:this.queryKey,meta:this.meta};return s(y),y})();return this.#o=!1,this.options.persister?this.options.persister(f,p,this):f(p)},u=(()=>{const f={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:a};return s(f),f})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#i({type:"fetch",meta:u.fetchOptions?.meta}),this.#r=OS({initialPromise:e?.initialPromise,fn:u.fetchFn,onCancel:f=>{f instanceof im&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(f,d)=>{this.#i({type:"failed",failureCount:f,error:d})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const f=await this.#r.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof im){if(f.silent)return this.#r.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#i({type:"error",error:f}),this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#i(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...f6(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?s:void 0,s;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),er.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function f6(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:AS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Sb(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function _b(t){return{onFetch:(e,n)=>{const s=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,c=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let f={pages:[],pageParams:[]},d=0;const p=async()=>{let y=!1;const g=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},v=TS(e.options,e.fetchOptions),S=async(w,E,M)=>{if(y)return Promise.reject();if(E==null&&w.pages.length)return Promise.resolve(w);const D=(()=>{const J={client:e.client,queryKey:e.queryKey,pageParam:E,direction:M?"backward":"forward",meta:e.options.meta};return g(J),J})(),k=await v(D),{maxPages:j}=e.options,F=M?r6:n6;return{pages:F(w.pages,k,j),pageParams:F(w.pageParams,E,j)}};if(a&&c.length){const w=a==="backward",E=w?d6:wb,M={pages:c,pageParams:u},P=E(s,M);f=await S(M,P,w)}else{const w=t??c.length;do{const E=d===0?u[0]??s.initialPageParam:wb(s,f);if(d>0&&E==null)break;f=await S(f,E),d++}while(d<w)}return f};e.options.persister?e.fetchFn=()=>e.options.persister?.(p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=p}}}function wb(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function d6(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var h6=class extends MS{#e;#t;#n;#s;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||p6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=OS({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(c,u)=>{this.#r({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const s=this.state.status==="pending",a=!this.#s.canStart();try{if(s)e();else{this.#r({type:"pending",variables:t,isPaused:a}),await this.#n.config.onMutate?.(t,this,n);const u=await this.options.onMutate?.(t,n);u!==this.state.context&&this.#r({type:"pending",context:u,variables:t,isPaused:a})}const c=await this.#s.start();return await this.#n.config.onSuccess?.(c,t,this.state.context,this,n),await this.options.onSuccess?.(c,t,this.state.context,n),await this.#n.config.onSettled?.(c,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(c,null,t,this.state.context,n),this.#r({type:"success",data:c}),c}catch(c){try{throw await this.#n.config.onError?.(c,t,this.state.context,this,n),await this.options.onError?.(c,t,this.state.context,n),await this.#n.config.onSettled?.(void 0,c,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,c,t,this.state.context,n),c}finally{this.#r({type:"error",error:c})}}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),er.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function p6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var m6=class extends Ef{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const s=new h6({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(s),s}add(t){this.#e.add(t);const e=du(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=du(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=du(t);if(typeof e=="string"){const s=this.#t.get(e)?.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){const e=du(t);return typeof e=="string"?this.#t.get(e)?.find(s=>s!==t&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){er.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>vb(e,n))}findAll(t={}){return this.getAll().filter(e=>vb(t,e))}notify(t){er.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return er.batch(()=>Promise.all(t.map(e=>e.continue().catch(Yr))))}};function du(t){return t.options.scope?.id}var y6=class extends Ef{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const s=e.queryKey,a=e.queryHash??ay(s,e);let c=this.get(a);return c||(c=new u6({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(c)),c}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){er.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>gb(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>gb(t,n)):e}notify(t){er.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){er.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){er.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},g6=class{#e;#t;#n;#s;#r;#a;#o;#i;constructor(t={}){this.#e=t.queryCache||new y6,this.#t=t.mutationCache||new m6,this.#n=t.defaultOptions||{},this.#s=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=RS.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Zu.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(rm(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),c=this.#e.get(s.queryHash)?.state.data,u=XA(e,c);if(u!==void 0)return this.#e.build(this,s).setData(u,{...n,manual:!0})}setQueriesData(t,e,n){return er.batch(()=>this.#e.findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;er.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return er.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=er.batch(()=>this.#e.findAll(t).map(a=>a.cancel(n)));return Promise.all(s).then(Yr).catch(Yr)}invalidateQueries(t,e={}){return er.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=er.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let c=a.fetch(void 0,n);return n.throwOnError||(c=c.catch(Yr)),a.state.fetchStatus==="paused"?Promise.resolve():c}));return Promise.all(s).then(Yr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(rm(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Yr).catch(Yr)}fetchInfiniteQuery(t){return t.behavior=_b(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Yr).catch(Yr)}ensureInfiniteQueryData(t){return t.behavior=_b(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Zu.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#s.set(Pc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(s=>{Nc(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Pc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(s=>{Nc(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ay(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===oy&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},v6=T.createContext(void 0),x6=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),b.jsx(v6.Provider,{value:t,children:e}));async function b6(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const S6=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return await b6(n),await n.json()},_6=new g6({defaultOptions:{queries:{queryFn:S6({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),w6=1,C6=1e3;let mp=0;function E6(){return mp=(mp+1)%Number.MAX_SAFE_INTEGER,mp.toString()}const yp=new Map,Cb=t=>{if(yp.has(t))return;const e=setTimeout(()=>{yp.delete(t),Rc({type:"REMOVE_TOAST",toastId:t})},C6);yp.set(t,e)},T6=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,w6)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Cb(n):t.toasts.forEach(s=>{Cb(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Mu=[];let Pu={toasts:[]};function Rc(t){Pu=T6(Pu,t),Mu.forEach(e=>{e(Pu)})}function R6({...t}){const e=E6(),n=a=>Rc({type:"UPDATE_TOAST",toast:{...a,id:e}}),s=()=>Rc({type:"DISMISS_TOAST",toastId:e});return Rc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:a=>{a||s()}}}),{id:e,dismiss:s,update:n}}function PS(){const[t,e]=T.useState(Pu);return T.useEffect(()=>(Mu.push(e),()=>{const n=Mu.indexOf(e);n>-1&&Mu.splice(n,1)}),[t]),{...t,toast:R6,dismiss:n=>Rc({type:"DISMISS_TOAST",toastId:n})}}function It(t,e,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t?.(a),n===!1||!a.defaultPrevented)return e?.(a)}}function Eb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function NS(...t){return e=>{let n=!1;const s=t.map(a=>{const c=Eb(a,e);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let a=0;a<s.length;a++){const c=s[a];typeof c=="function"?c():Eb(t[a],null)}}}}function ln(...t){return T.useCallback(NS(...t),t)}function Pi(t,e=[]){let n=[];function s(c,u){const f=T.createContext(u),d=n.length;n=[...n,u];const p=g=>{const{scope:v,children:S,...w}=g,E=v?.[t]?.[d]||f,M=T.useMemo(()=>w,Object.values(w));return b.jsx(E.Provider,{value:M,children:S})};p.displayName=c+"Provider";function y(g,v){const S=v?.[t]?.[d]||f,w=T.useContext(S);if(w)return w;if(u!==void 0)return u;throw new Error(`\`${g}\` must be used within \`${c}\``)}return[p,y]}const a=()=>{const c=n.map(u=>T.createContext(u));return function(f){const d=f?.[t]||c;return T.useMemo(()=>({[`__scope${t}`]:{...f,[t]:d}}),[f,d])}};return a.scopeName=t,[s,A6(a,...e)]}function A6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const u=s.reduce((f,{useScope:d,scopeName:p})=>{const g=d(c)[`__scope${p}`];return{...f,...g}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return n.scopeName=e.scopeName,n}function Ju(t){const e=M6(t),n=T.forwardRef((s,a)=>{const{children:c,...u}=s,f=T.Children.toArray(c),d=f.find(N6);if(d){const p=d.props.children,y=f.map(g=>g===d?T.Children.count(p)>1?T.Children.only(null):T.isValidElement(p)?p.props.children:null:g);return b.jsx(e,{...u,ref:a,children:T.isValidElement(p)?T.cloneElement(p,void 0,y):null})}return b.jsx(e,{...u,ref:a,children:c})});return n.displayName=`${t}.Slot`,n}var O6=Ju("Slot");function M6(t){const e=T.forwardRef((n,s)=>{const{children:a,...c}=n;if(T.isValidElement(a)){const u=k6(a),f=D6(c,a.props);return a.type!==T.Fragment&&(f.ref=s?NS(s,u):u),T.cloneElement(a,f)}return T.Children.count(a)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var DS=Symbol("radix.slottable");function P6(t){const e=({children:n})=>b.jsx(b.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=DS,e}function N6(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===DS}function D6(t,e){const n={...e};for(const s in e){const a=t[s],c=e[s];/^on[A-Z]/.test(s)?a&&c?n[s]=(...f)=>{const d=c(...f);return a(...f),d}:a&&(n[s]=a):s==="style"?n[s]={...a,...c}:s==="className"&&(n[s]=[a,c].filter(Boolean).join(" "))}return{...t,...n}}function k6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function kS(t){const e=t+"CollectionProvider",[n,s]=Pi(e),[a,c]=n(e,{collectionRef:{current:null},itemMap:new Map}),u=E=>{const{scope:M,children:P}=E,D=ke.useRef(null),k=ke.useRef(new Map).current;return b.jsx(a,{scope:M,itemMap:k,collectionRef:D,children:P})};u.displayName=e;const f=t+"CollectionSlot",d=Ju(f),p=ke.forwardRef((E,M)=>{const{scope:P,children:D}=E,k=c(f,P),j=ln(M,k.collectionRef);return b.jsx(d,{ref:j,children:D})});p.displayName=f;const y=t+"CollectionItemSlot",g="data-radix-collection-item",v=Ju(y),S=ke.forwardRef((E,M)=>{const{scope:P,children:D,...k}=E,j=ke.useRef(null),F=ln(M,j),J=c(y,P);return ke.useEffect(()=>(J.itemMap.set(j,{ref:j,...k}),()=>void J.itemMap.delete(j))),b.jsx(v,{[g]:"",ref:F,children:D})});S.displayName=y;function w(E){const M=c(t+"CollectionConsumer",E);return ke.useCallback(()=>{const D=M.collectionRef.current;if(!D)return[];const k=Array.from(D.querySelectorAll(`[${g}]`));return Array.from(M.itemMap.values()).sort((J,Y)=>k.indexOf(J.ref.current)-k.indexOf(Y.ref.current))},[M.collectionRef,M.itemMap])}return[{Provider:u,Slot:p,ItemSlot:S},w,s]}var j6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$t=j6.reduce((t,e)=>{const n=Ju(`Primitive.${e}`),s=T.forwardRef((a,c)=>{const{asChild:u,...f}=a,d=u?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),b.jsx(d,{...f,ref:c})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function jS(t,e){t&&qc.flushSync(()=>t.dispatchEvent(e))}function Kn(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>e.current?.(...n),[])}function L6(t,e=globalThis?.document){const n=Kn(t);T.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var U6="DismissableLayer",am="dismissableLayer.update",I6="dismissableLayer.pointerDownOutside",z6="dismissableLayer.focusOutside",Tb,LS=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cy=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...d}=t,p=T.useContext(LS),[y,g]=T.useState(null),v=y?.ownerDocument??globalThis?.document,[,S]=T.useState({}),w=ln(e,Y=>g(Y)),E=Array.from(p.layers),[M]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),P=E.indexOf(M),D=y?E.indexOf(y):-1,k=p.layersWithOutsidePointerEventsDisabled.size>0,j=D>=P,F=H6(Y=>{const G=Y.target,me=[...p.branches].some(be=>be.contains(G));!j||me||(a?.(Y),u?.(Y),Y.defaultPrevented||f?.())},v),J=$6(Y=>{const G=Y.target;[...p.branches].some(be=>be.contains(G))||(c?.(Y),u?.(Y),Y.defaultPrevented||f?.())},v);return L6(Y=>{D===p.layers.size-1&&(s?.(Y),!Y.defaultPrevented&&f&&(Y.preventDefault(),f()))},v),T.useEffect(()=>{if(y)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Tb=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),Rb(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Tb)}},[y,v,n,p]),T.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),Rb())},[y,p]),T.useEffect(()=>{const Y=()=>S({});return document.addEventListener(am,Y),()=>document.removeEventListener(am,Y)},[]),b.jsx($t.div,{...d,ref:w,style:{pointerEvents:k?j?"auto":"none":void 0,...t.style},onFocusCapture:It(t.onFocusCapture,J.onFocusCapture),onBlurCapture:It(t.onBlurCapture,J.onBlurCapture),onPointerDownCapture:It(t.onPointerDownCapture,F.onPointerDownCapture)})});cy.displayName=U6;var B6="DismissableLayerBranch",US=T.forwardRef((t,e)=>{const n=T.useContext(LS),s=T.useRef(null),a=ln(e,s);return T.useEffect(()=>{const c=s.current;if(c)return n.branches.add(c),()=>{n.branches.delete(c)}},[n.branches]),b.jsx($t.div,{...t,ref:a})});US.displayName=B6;function H6(t,e=globalThis?.document){const n=Kn(t),s=T.useRef(!1),a=T.useRef(()=>{});return T.useEffect(()=>{const c=f=>{if(f.target&&!s.current){let d=function(){IS(I6,n,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=d,e.addEventListener("click",a.current,{once:!0})):d()}else e.removeEventListener("click",a.current);s.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",c),e.removeEventListener("click",a.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function $6(t,e=globalThis?.document){const n=Kn(t),s=T.useRef(!1);return T.useEffect(()=>{const a=c=>{c.target&&!s.current&&IS(z6,n,{originalEvent:c},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Rb(){const t=new CustomEvent(am);document.dispatchEvent(t)}function IS(t,e,n,{discrete:s}){const a=n.originalEvent.target,c=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&a.addEventListener(t,e,{once:!0}),s?jS(a,c):a.dispatchEvent(c)}var V6=cy,q6=US,Ur=globalThis?.document?T.useLayoutEffect:()=>{},F6="Portal",zS=T.forwardRef((t,e)=>{const{container:n,...s}=t,[a,c]=T.useState(!1);Ur(()=>c(!0),[]);const u=n||a&&globalThis?.document?.body;return u?SA.createPortal(b.jsx($t.div,{...s,ref:e}),u):null});zS.displayName=F6;function Y6(t,e){return T.useReducer((n,s)=>e[n][s]??n,t)}var da=t=>{const{present:e,children:n}=t,s=G6(e),a=typeof n=="function"?n({present:s.isPresent}):T.Children.only(n),c=ln(s.ref,K6(a));return typeof n=="function"||s.isPresent?T.cloneElement(a,{ref:c}):null};da.displayName="Presence";function G6(t){const[e,n]=T.useState(),s=T.useRef(null),a=T.useRef(t),c=T.useRef("none"),u=t?"mounted":"unmounted",[f,d]=Y6(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const p=hu(s.current);c.current=f==="mounted"?p:"none"},[f]),Ur(()=>{const p=s.current,y=a.current;if(y!==t){const v=c.current,S=hu(p);t?d("MOUNT"):S==="none"||p?.display==="none"?d("UNMOUNT"):d(y&&v!==S?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,d]),Ur(()=>{if(e){let p;const y=e.ownerDocument.defaultView??window,g=S=>{const E=hu(s.current).includes(CSS.escape(S.animationName));if(S.target===e&&E&&(d("ANIMATION_END"),!a.current)){const M=e.style.animationFillMode;e.style.animationFillMode="forwards",p=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=M)})}},v=S=>{S.target===e&&(c.current=hu(s.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{y.clearTimeout(p),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:T.useCallback(p=>{s.current=p?getComputedStyle(p):null,n(p)},[])}}function hu(t){return t?.animationName||"none"}function K6(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var X6=lA[" useInsertionEffect ".trim().toString()]||Ur;function BS({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[a,c,u]=Q6({defaultProp:e,onChange:n}),f=t!==void 0,d=f?t:a;{const y=T.useRef(t!==void 0);T.useEffect(()=>{const g=y.current;g!==f&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=f},[f,s])}const p=T.useCallback(y=>{if(f){const g=Z6(y)?y(t):y;g!==t&&u.current?.(g)}else c(y)},[f,t,c,u]);return[d,p]}function Q6({defaultProp:t,onChange:e}){const[n,s]=T.useState(t),a=T.useRef(n),c=T.useRef(e);return X6(()=>{c.current=e},[e]),T.useEffect(()=>{a.current!==n&&(c.current?.(n),a.current=n)},[n,a]),[n,s,c]}function Z6(t){return typeof t=="function"}var J6=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),W6="VisuallyHidden",Rf=T.forwardRef((t,e)=>b.jsx($t.span,{...t,ref:e,style:{...J6,...t.style}}));Rf.displayName=W6;var eO=Rf,ly="ToastProvider",[uy,tO,nO]=kS("Toast"),[HS]=Pi("Toast",[nO]),[rO,Af]=HS(ly),$S=t=>{const{__scopeToast:e,label:n="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:c=50,children:u}=t,[f,d]=T.useState(null),[p,y]=T.useState(0),g=T.useRef(!1),v=T.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${ly}\`. Expected non-empty \`string\`.`),b.jsx(uy.Provider,{scope:e,children:b.jsx(rO,{scope:e,label:n,duration:s,swipeDirection:a,swipeThreshold:c,toastCount:p,viewport:f,onViewportChange:d,onToastAdd:T.useCallback(()=>y(S=>S+1),[]),onToastRemove:T.useCallback(()=>y(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:v,children:u})})};$S.displayName=ly;var VS="ToastViewport",sO=["F8"],om="toast.viewportPause",cm="toast.viewportResume",qS=T.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:s=sO,label:a="Notifications ({hotkey})",...c}=t,u=Af(VS,n),f=tO(n),d=T.useRef(null),p=T.useRef(null),y=T.useRef(null),g=T.useRef(null),v=ln(e,g,u.onViewportChange),S=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=u.toastCount>0;T.useEffect(()=>{const M=P=>{s.length!==0&&s.every(k=>P[k]||P.code===k)&&g.current?.focus()};return document.addEventListener("keydown",M),()=>document.removeEventListener("keydown",M)},[s]),T.useEffect(()=>{const M=d.current,P=g.current;if(w&&M&&P){const D=()=>{if(!u.isClosePausedRef.current){const J=new CustomEvent(om);P.dispatchEvent(J),u.isClosePausedRef.current=!0}},k=()=>{if(u.isClosePausedRef.current){const J=new CustomEvent(cm);P.dispatchEvent(J),u.isClosePausedRef.current=!1}},j=J=>{!M.contains(J.relatedTarget)&&k()},F=()=>{M.contains(document.activeElement)||k()};return M.addEventListener("focusin",D),M.addEventListener("focusout",j),M.addEventListener("pointermove",D),M.addEventListener("pointerleave",F),window.addEventListener("blur",D),window.addEventListener("focus",k),()=>{M.removeEventListener("focusin",D),M.removeEventListener("focusout",j),M.removeEventListener("pointermove",D),M.removeEventListener("pointerleave",F),window.removeEventListener("blur",D),window.removeEventListener("focus",k)}}},[w,u.isClosePausedRef]);const E=T.useCallback(({tabbingDirection:M})=>{const D=f().map(k=>{const j=k.ref.current,F=[j,...gO(j)];return M==="forwards"?F:F.reverse()});return(M==="forwards"?D.reverse():D).flat()},[f]);return T.useEffect(()=>{const M=g.current;if(M){const P=D=>{const k=D.altKey||D.ctrlKey||D.metaKey;if(D.key==="Tab"&&!k){const F=document.activeElement,J=D.shiftKey;if(D.target===M&&J){p.current?.focus();return}const me=E({tabbingDirection:J?"backwards":"forwards"}),be=me.findIndex(we=>we===F);gp(me.slice(be+1))?D.preventDefault():J?p.current?.focus():y.current?.focus()}};return M.addEventListener("keydown",P),()=>M.removeEventListener("keydown",P)}},[f,E]),b.jsxs(q6,{ref:d,role:"region","aria-label":a.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&b.jsx(lm,{ref:p,onFocusFromOutsideViewport:()=>{const M=E({tabbingDirection:"forwards"});gp(M)}}),b.jsx(uy.Slot,{scope:n,children:b.jsx($t.ol,{tabIndex:-1,...c,ref:v})}),w&&b.jsx(lm,{ref:y,onFocusFromOutsideViewport:()=>{const M=E({tabbingDirection:"backwards"});gp(M)}})]})});qS.displayName=VS;var FS="ToastFocusProxy",lm=T.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...a}=t,c=Af(FS,n);return b.jsx(Rf,{tabIndex:0,...a,ref:e,style:{position:"fixed"},onFocus:u=>{const f=u.relatedTarget;!c.viewport?.contains(f)&&s()}})});lm.displayName=FS;var Fc="Toast",iO="toast.swipeStart",aO="toast.swipeMove",oO="toast.swipeCancel",cO="toast.swipeEnd",YS=T.forwardRef((t,e)=>{const{forceMount:n,open:s,defaultOpen:a,onOpenChange:c,...u}=t,[f,d]=BS({prop:s,defaultProp:a??!0,onChange:c,caller:Fc});return b.jsx(da,{present:n||f,children:b.jsx(fO,{open:f,...u,ref:e,onClose:()=>d(!1),onPause:Kn(t.onPause),onResume:Kn(t.onResume),onSwipeStart:It(t.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:It(t.onSwipeMove,p=>{const{x:y,y:g}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:It(t.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:It(t.onSwipeEnd,p=>{const{x:y,y:g}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),d(!1)})})})});YS.displayName=Fc;var[lO,uO]=HS(Fc,{onClose(){}}),fO=T.forwardRef((t,e)=>{const{__scopeToast:n,type:s="foreground",duration:a,open:c,onClose:u,onEscapeKeyDown:f,onPause:d,onResume:p,onSwipeStart:y,onSwipeMove:g,onSwipeCancel:v,onSwipeEnd:S,...w}=t,E=Af(Fc,n),[M,P]=T.useState(null),D=ln(e,pe=>P(pe)),k=T.useRef(null),j=T.useRef(null),F=a||E.duration,J=T.useRef(0),Y=T.useRef(F),G=T.useRef(0),{onToastAdd:me,onToastRemove:be}=E,we=Kn(()=>{M?.contains(document.activeElement)&&E.viewport?.focus(),u()}),ge=T.useCallback(pe=>{!pe||pe===1/0||(window.clearTimeout(G.current),J.current=new Date().getTime(),G.current=window.setTimeout(we,pe))},[we]);T.useEffect(()=>{const pe=E.viewport;if(pe){const Te=()=>{ge(Y.current),p?.()},H=()=>{const ie=new Date().getTime()-J.current;Y.current=Y.current-ie,window.clearTimeout(G.current),d?.()};return pe.addEventListener(om,H),pe.addEventListener(cm,Te),()=>{pe.removeEventListener(om,H),pe.removeEventListener(cm,Te)}}},[E.viewport,F,d,p,ge]),T.useEffect(()=>{c&&!E.isClosePausedRef.current&&ge(F)},[c,F,E.isClosePausedRef,ge]),T.useEffect(()=>(me(),()=>be()),[me,be]);const Ee=T.useMemo(()=>M?WS(M):null,[M]);return E.viewport?b.jsxs(b.Fragment,{children:[Ee&&b.jsx(dO,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite",children:Ee}),b.jsx(lO,{scope:n,onClose:we,children:qc.createPortal(b.jsx(uy.ItemSlot,{scope:n,children:b.jsx(V6,{asChild:!0,onEscapeKeyDown:It(f,()=>{E.isFocusedToastEscapeKeyDownRef.current||we(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:b.jsx($t.li,{tabIndex:0,"data-state":c?"open":"closed","data-swipe-direction":E.swipeDirection,...w,ref:D,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:It(t.onKeyDown,pe=>{pe.key==="Escape"&&(f?.(pe.nativeEvent),pe.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,we()))}),onPointerDown:It(t.onPointerDown,pe=>{pe.button===0&&(k.current={x:pe.clientX,y:pe.clientY})}),onPointerMove:It(t.onPointerMove,pe=>{if(!k.current)return;const Te=pe.clientX-k.current.x,H=pe.clientY-k.current.y,ie=!!j.current,X=["left","right"].includes(E.swipeDirection),je=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,Je=X?je(0,Te):0,I=X?0:je(0,H),se=pe.pointerType==="touch"?10:2,de={x:Je,y:I},xe={originalEvent:pe,delta:de};ie?(j.current=de,pu(aO,g,xe,{discrete:!1})):Ab(de,E.swipeDirection,se)?(j.current=de,pu(iO,y,xe,{discrete:!1}),pe.target.setPointerCapture(pe.pointerId)):(Math.abs(Te)>se||Math.abs(H)>se)&&(k.current=null)}),onPointerUp:It(t.onPointerUp,pe=>{const Te=j.current,H=pe.target;if(H.hasPointerCapture(pe.pointerId)&&H.releasePointerCapture(pe.pointerId),j.current=null,k.current=null,Te){const ie=pe.currentTarget,X={originalEvent:pe,delta:Te};Ab(Te,E.swipeDirection,E.swipeThreshold)?pu(cO,S,X,{discrete:!0}):pu(oO,v,X,{discrete:!0}),ie.addEventListener("click",je=>je.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),dO=t=>{const{__scopeToast:e,children:n,...s}=t,a=Af(Fc,e),[c,u]=T.useState(!1),[f,d]=T.useState(!1);return mO(()=>u(!0)),T.useEffect(()=>{const p=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(p)},[]),f?null:b.jsx(zS,{asChild:!0,children:b.jsx(Rf,{...s,children:c&&b.jsxs(b.Fragment,{children:[a.label," ",n]})})})},hO="ToastTitle",GS=T.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return b.jsx($t.div,{...s,ref:e})});GS.displayName=hO;var pO="ToastDescription",KS=T.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return b.jsx($t.div,{...s,ref:e})});KS.displayName=pO;var XS="ToastAction",QS=T.forwardRef((t,e)=>{const{altText:n,...s}=t;return n.trim()?b.jsx(JS,{altText:n,asChild:!0,children:b.jsx(fy,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${XS}\`. Expected non-empty \`string\`.`),null)});QS.displayName=XS;var ZS="ToastClose",fy=T.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t,a=uO(ZS,n);return b.jsx(JS,{asChild:!0,children:b.jsx($t.button,{type:"button",...s,ref:e,onClick:It(t.onClick,a.onClose)})})});fy.displayName=ZS;var JS=T.forwardRef((t,e)=>{const{__scopeToast:n,altText:s,...a}=t;return b.jsx($t.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:e})});function WS(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),yO(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",c=s.dataset.radixToastAnnounceExclude==="";if(!a)if(c){const u=s.dataset.radixToastAnnounceAlt;u&&e.push(u)}else e.push(...WS(s))}}),e}function pu(t,e,n,{discrete:s}){const a=n.originalEvent.currentTarget,c=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&a.addEventListener(t,e,{once:!0}),s?jS(a,c):a.dispatchEvent(c)}var Ab=(t,e,n=0)=>{const s=Math.abs(t.x),a=Math.abs(t.y),c=s>a;return e==="left"||e==="right"?c&&s>n:!c&&a>n};function mO(t=()=>{}){const e=Kn(t);Ur(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[e])}function yO(t){return t.nodeType===t.ELEMENT_NODE}function gO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function gp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var vO=$S,e_=qS,t_=YS,n_=GS,r_=KS,s_=QS,i_=fy;function a_(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=a_(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function o_(){for(var t,e,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=a_(t))&&(s&&(s+=" "),s+=e);return s}const Ob=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Mb=o_,Of=(t,e)=>n=>{var s;if(e?.variants==null)return Mb(t,n?.class,n?.className);const{variants:a,defaultVariants:c}=e,u=Object.keys(a).map(p=>{const y=n?.[p],g=c?.[p];if(y===null)return null;const v=Ob(y)||Ob(g);return a[p][v]}),f=n&&Object.entries(n).reduce((p,y)=>{let[g,v]=y;return v===void 0||(p[g]=v),p},{}),d=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((p,y)=>{let{class:g,className:v,...S}=y;return Object.entries(S).every(w=>{let[E,M]=w;return Array.isArray(M)?M.includes({...c,...f}[E]):{...c,...f}[E]===M})?[...p,g,v]:p},[]);return Mb(t,u,d,n?.class,n?.className)};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bO=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Pb=t=>{const e=bO(t);return e.charAt(0).toUpperCase()+e.slice(1)},c_=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),SO=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _O={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:c,iconNode:u,...f},d)=>T.createElement("svg",{ref:d,..._O,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:c_("lucide",a),...!c&&!SO(f)&&{"aria-hidden":"true"},...f},[...u.map(([p,y])=>T.createElement(p,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=(t,e)=>{const n=T.forwardRef(({className:s,...a},c)=>T.createElement(wO,{ref:c,iconNode:e,className:c_(`lucide-${xO(Pb(t))}`,`lucide-${t}`,s),...a}));return n.displayName=Pb(t),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],EO=Nn("check",CO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],RO=Nn("circle-alert",TO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],OO=Nn("circle-check-big",AO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],PO=Nn("circle-check",MO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],DO=Nn("circle",NO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],l_=Nn("clock",kO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],LO=Nn("copy",jO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],IO=Nn("crown",UO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],dy=Nn("loader-circle",zO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Nb=Nn("message-square",BO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],$O=Nn("moon",HO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],u_=Nn("music",VO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],FO=Nn("pause",qO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],GO=Nn("play",YO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],f_=Nn("search",KO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],QO=Nn("sun",XO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],um=Nn("trophy",ZO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],WO=Nn("users",JO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tM=Nn("x",eM),hy="-",nM=t=>{const e=sM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:u=>{const f=u.split(hy);return f[0]===""&&f.length!==1&&f.shift(),d_(f,e)||rM(u)},getConflictingClassGroupIds:(u,f)=>{const d=n[u]||[];return f&&s[u]?[...d,...s[u]]:d}}},d_=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),a=s?d_(t.slice(1),s):void 0;if(a)return a;if(e.validators.length===0)return;const c=t.join(hy);return e.validators.find(({validator:u})=>u(c))?.classGroupId},Db=/^\[(.+)\]$/,rM=t=>{if(Db.test(t)){const e=Db.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},sM=t=>{const{theme:e,classGroups:n}=t,s={nextPart:new Map,validators:[]};for(const a in n)fm(n[a],s,a,e);return s},fm=(t,e,n,s)=>{t.forEach(a=>{if(typeof a=="string"){const c=a===""?e:kb(e,a);c.classGroupId=n;return}if(typeof a=="function"){if(iM(a)){fm(a(s),e,n,s);return}e.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([c,u])=>{fm(u,kb(e,c),n,s)})})},kb=(t,e)=>{let n=t;return e.split(hy).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},iM=t=>t.isThemeGetter,aM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const a=(c,u)=>{n.set(c,u),e++,e>t&&(e=0,s=n,n=new Map)};return{get(c){let u=n.get(c);if(u!==void 0)return u;if((u=s.get(c))!==void 0)return a(c,u),u},set(c,u){n.has(c)?n.set(c,u):a(c,u)}}},dm="!",hm=":",oM=hm.length,cM=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=a=>{const c=[];let u=0,f=0,d=0,p;for(let w=0;w<a.length;w++){let E=a[w];if(u===0&&f===0){if(E===hm){c.push(a.slice(d,w)),d=w+oM;continue}if(E==="/"){p=w;continue}}E==="["?u++:E==="]"?u--:E==="("?f++:E===")"&&f--}const y=c.length===0?a:a.substring(d),g=lM(y),v=g!==y,S=p&&p>d?p-d:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:S}};if(e){const a=e+hm,c=s;s=u=>u.startsWith(a)?c(u.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(n){const a=s;s=c=>n({className:c,parseClassName:a})}return s},lM=t=>t.endsWith(dm)?t.substring(0,t.length-1):t.startsWith(dm)?t.substring(1):t,uM=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let c=[];return s.forEach(u=>{u[0]==="["||e[u]?(a.push(...c.sort(),u),c=[]):c.push(u)}),a.push(...c.sort()),a}},fM=t=>({cache:aM(t.cacheSize),parseClassName:cM(t),sortModifiers:uM(t),...nM(t)}),dM=/\s+/,hM=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:c}=e,u=[],f=t.trim().split(dM);let d="";for(let p=f.length-1;p>=0;p-=1){const y=f[p],{isExternal:g,modifiers:v,hasImportantModifier:S,baseClassName:w,maybePostfixModifierPosition:E}=n(y);if(g){d=y+(d.length>0?" "+d:d);continue}let M=!!E,P=s(M?w.substring(0,E):w);if(!P){if(!M){d=y+(d.length>0?" "+d:d);continue}if(P=s(w),!P){d=y+(d.length>0?" "+d:d);continue}M=!1}const D=c(v).join(":"),k=S?D+dm:D,j=k+P;if(u.includes(j))continue;u.push(j);const F=a(P,M);for(let J=0;J<F.length;++J){const Y=F[J];u.push(k+Y)}d=y+(d.length>0?" "+d:d)}return d};function pM(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=h_(e))&&(s&&(s+=" "),s+=n);return s}const h_=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=h_(t[s]))&&(n&&(n+=" "),n+=e);return n};function mM(t,...e){let n,s,a,c=u;function u(d){const p=e.reduce((y,g)=>g(y),t());return n=fM(p),s=n.cache.get,a=n.cache.set,c=f,f(d)}function f(d){const p=s(d);if(p)return p;const y=hM(d,n);return a(d,y),y}return function(){return c(pM.apply(null,arguments))}}const Mn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},p_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,m_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,yM=/^\d+\/\d+$/,gM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,bM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,SM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ga=t=>yM.test(t),St=t=>!!t&&!Number.isNaN(Number(t)),wi=t=>!!t&&Number.isInteger(Number(t)),vp=t=>t.endsWith("%")&&St(t.slice(0,-1)),Bs=t=>gM.test(t),_M=()=>!0,wM=t=>vM.test(t)&&!xM.test(t),y_=()=>!1,CM=t=>bM.test(t),EM=t=>SM.test(t),TM=t=>!qe(t)&&!Fe(t),RM=t=>fo(t,x_,y_),qe=t=>p_.test(t),Xi=t=>fo(t,b_,wM),xp=t=>fo(t,NM,St),jb=t=>fo(t,g_,y_),AM=t=>fo(t,v_,EM),mu=t=>fo(t,S_,CM),Fe=t=>m_.test(t),fc=t=>ho(t,b_),OM=t=>ho(t,DM),Lb=t=>ho(t,g_),MM=t=>ho(t,x_),PM=t=>ho(t,v_),yu=t=>ho(t,S_,!0),fo=(t,e,n)=>{const s=p_.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},ho=(t,e,n=!1)=>{const s=m_.exec(t);return s?s[1]?e(s[1]):n:!1},g_=t=>t==="position"||t==="percentage",v_=t=>t==="image"||t==="url",x_=t=>t==="length"||t==="size"||t==="bg-size",b_=t=>t==="length",NM=t=>t==="number",DM=t=>t==="family-name",S_=t=>t==="shadow",kM=()=>{const t=Mn("color"),e=Mn("font"),n=Mn("text"),s=Mn("font-weight"),a=Mn("tracking"),c=Mn("leading"),u=Mn("breakpoint"),f=Mn("container"),d=Mn("spacing"),p=Mn("radius"),y=Mn("shadow"),g=Mn("inset-shadow"),v=Mn("text-shadow"),S=Mn("drop-shadow"),w=Mn("blur"),E=Mn("perspective"),M=Mn("aspect"),P=Mn("ease"),D=Mn("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[...j(),Fe,qe],J=()=>["auto","hidden","clip","visible","scroll"],Y=()=>["auto","contain","none"],G=()=>[Fe,qe,d],me=()=>[Ga,"full","auto",...G()],be=()=>[wi,"none","subgrid",Fe,qe],we=()=>["auto",{span:["full",wi,Fe,qe]},wi,Fe,qe],ge=()=>[wi,"auto",Fe,qe],Ee=()=>["auto","min","max","fr",Fe,qe],pe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Te=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...G()],ie=()=>[Ga,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...G()],X=()=>[t,Fe,qe],je=()=>[...j(),Lb,jb,{position:[Fe,qe]}],Je=()=>["no-repeat",{repeat:["","x","y","space","round"]}],I=()=>["auto","cover","contain",MM,RM,{size:[Fe,qe]}],se=()=>[vp,fc,Xi],de=()=>["","none","full",p,Fe,qe],xe=()=>["",St,fc,Xi],_e=()=>["solid","dashed","dotted","double"],Re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ze=()=>[St,vp,Lb,jb],Nt=()=>["","none",w,Fe,qe],z=()=>["none",St,Fe,qe],Q=()=>["none",St,Fe,qe],le=()=>[St,Fe,qe],Pe=()=>[Ga,"full",...G()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Bs],breakpoint:[Bs],color:[_M],container:[Bs],"drop-shadow":[Bs],ease:["in","out","in-out"],font:[TM],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Bs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Bs],shadow:[Bs],spacing:["px",St],text:[Bs],"text-shadow":[Bs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ga,qe,Fe,M]}],container:["container"],columns:[{columns:[St,qe,Fe,f]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:J()}],"overflow-x":[{"overflow-x":J()}],"overflow-y":[{"overflow-y":J()}],overscroll:[{overscroll:Y()}],"overscroll-x":[{"overscroll-x":Y()}],"overscroll-y":[{"overscroll-y":Y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:me()}],"inset-x":[{"inset-x":me()}],"inset-y":[{"inset-y":me()}],start:[{start:me()}],end:[{end:me()}],top:[{top:me()}],right:[{right:me()}],bottom:[{bottom:me()}],left:[{left:me()}],visibility:["visible","invisible","collapse"],z:[{z:[wi,"auto",Fe,qe]}],basis:[{basis:[Ga,"full","auto",f,...G()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[St,Ga,"auto","initial","none",qe]}],grow:[{grow:["",St,Fe,qe]}],shrink:[{shrink:["",St,Fe,qe]}],order:[{order:[wi,"first","last","none",Fe,qe]}],"grid-cols":[{"grid-cols":be()}],"col-start-end":[{col:we()}],"col-start":[{"col-start":ge()}],"col-end":[{"col-end":ge()}],"grid-rows":[{"grid-rows":be()}],"row-start-end":[{row:we()}],"row-start":[{"row-start":ge()}],"row-end":[{"row-end":ge()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Ee()}],"auto-rows":[{"auto-rows":Ee()}],gap:[{gap:G()}],"gap-x":[{"gap-x":G()}],"gap-y":[{"gap-y":G()}],"justify-content":[{justify:[...pe(),"normal"]}],"justify-items":[{"justify-items":[...Te(),"normal"]}],"justify-self":[{"justify-self":["auto",...Te()]}],"align-content":[{content:["normal",...pe()]}],"align-items":[{items:[...Te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Te(),{baseline:["","last"]}]}],"place-content":[{"place-content":pe()}],"place-items":[{"place-items":[...Te(),"baseline"]}],"place-self":[{"place-self":["auto",...Te()]}],p:[{p:G()}],px:[{px:G()}],py:[{py:G()}],ps:[{ps:G()}],pe:[{pe:G()}],pt:[{pt:G()}],pr:[{pr:G()}],pb:[{pb:G()}],pl:[{pl:G()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":G()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":G()}],"space-y-reverse":["space-y-reverse"],size:[{size:ie()}],w:[{w:[f,"screen",...ie()]}],"min-w":[{"min-w":[f,"screen","none",...ie()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...ie()]}],h:[{h:["screen","lh",...ie()]}],"min-h":[{"min-h":["screen","lh","none",...ie()]}],"max-h":[{"max-h":["screen","lh",...ie()]}],"font-size":[{text:["base",n,fc,Xi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Fe,xp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",vp,qe]}],"font-family":[{font:[OM,qe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Fe,qe]}],"line-clamp":[{"line-clamp":[St,"none",Fe,xp]}],leading:[{leading:[c,...G()]}],"list-image":[{"list-image":["none",Fe,qe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Fe,qe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:X()}],"text-color":[{text:X()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[..._e(),"wavy"]}],"text-decoration-thickness":[{decoration:[St,"from-font","auto",Fe,Xi]}],"text-decoration-color":[{decoration:X()}],"underline-offset":[{"underline-offset":[St,"auto",Fe,qe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe,qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe,qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:je()}],"bg-repeat":[{bg:Je()}],"bg-size":[{bg:I()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},wi,Fe,qe],radial:["",Fe,qe],conic:[wi,Fe,qe]},PM,AM]}],"bg-color":[{bg:X()}],"gradient-from-pos":[{from:se()}],"gradient-via-pos":[{via:se()}],"gradient-to-pos":[{to:se()}],"gradient-from":[{from:X()}],"gradient-via":[{via:X()}],"gradient-to":[{to:X()}],rounded:[{rounded:de()}],"rounded-s":[{"rounded-s":de()}],"rounded-e":[{"rounded-e":de()}],"rounded-t":[{"rounded-t":de()}],"rounded-r":[{"rounded-r":de()}],"rounded-b":[{"rounded-b":de()}],"rounded-l":[{"rounded-l":de()}],"rounded-ss":[{"rounded-ss":de()}],"rounded-se":[{"rounded-se":de()}],"rounded-ee":[{"rounded-ee":de()}],"rounded-es":[{"rounded-es":de()}],"rounded-tl":[{"rounded-tl":de()}],"rounded-tr":[{"rounded-tr":de()}],"rounded-br":[{"rounded-br":de()}],"rounded-bl":[{"rounded-bl":de()}],"border-w":[{border:xe()}],"border-w-x":[{"border-x":xe()}],"border-w-y":[{"border-y":xe()}],"border-w-s":[{"border-s":xe()}],"border-w-e":[{"border-e":xe()}],"border-w-t":[{"border-t":xe()}],"border-w-r":[{"border-r":xe()}],"border-w-b":[{"border-b":xe()}],"border-w-l":[{"border-l":xe()}],"divide-x":[{"divide-x":xe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":xe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[..._e(),"hidden","none"]}],"divide-style":[{divide:[..._e(),"hidden","none"]}],"border-color":[{border:X()}],"border-color-x":[{"border-x":X()}],"border-color-y":[{"border-y":X()}],"border-color-s":[{"border-s":X()}],"border-color-e":[{"border-e":X()}],"border-color-t":[{"border-t":X()}],"border-color-r":[{"border-r":X()}],"border-color-b":[{"border-b":X()}],"border-color-l":[{"border-l":X()}],"divide-color":[{divide:X()}],"outline-style":[{outline:[..._e(),"none","hidden"]}],"outline-offset":[{"outline-offset":[St,Fe,qe]}],"outline-w":[{outline:["",St,fc,Xi]}],"outline-color":[{outline:X()}],shadow:[{shadow:["","none",y,yu,mu]}],"shadow-color":[{shadow:X()}],"inset-shadow":[{"inset-shadow":["none",g,yu,mu]}],"inset-shadow-color":[{"inset-shadow":X()}],"ring-w":[{ring:xe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:X()}],"ring-offset-w":[{"ring-offset":[St,Xi]}],"ring-offset-color":[{"ring-offset":X()}],"inset-ring-w":[{"inset-ring":xe()}],"inset-ring-color":[{"inset-ring":X()}],"text-shadow":[{"text-shadow":["none",v,yu,mu]}],"text-shadow-color":[{"text-shadow":X()}],opacity:[{opacity:[St,Fe,qe]}],"mix-blend":[{"mix-blend":[...Re(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Re()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[St]}],"mask-image-linear-from-pos":[{"mask-linear-from":ze()}],"mask-image-linear-to-pos":[{"mask-linear-to":ze()}],"mask-image-linear-from-color":[{"mask-linear-from":X()}],"mask-image-linear-to-color":[{"mask-linear-to":X()}],"mask-image-t-from-pos":[{"mask-t-from":ze()}],"mask-image-t-to-pos":[{"mask-t-to":ze()}],"mask-image-t-from-color":[{"mask-t-from":X()}],"mask-image-t-to-color":[{"mask-t-to":X()}],"mask-image-r-from-pos":[{"mask-r-from":ze()}],"mask-image-r-to-pos":[{"mask-r-to":ze()}],"mask-image-r-from-color":[{"mask-r-from":X()}],"mask-image-r-to-color":[{"mask-r-to":X()}],"mask-image-b-from-pos":[{"mask-b-from":ze()}],"mask-image-b-to-pos":[{"mask-b-to":ze()}],"mask-image-b-from-color":[{"mask-b-from":X()}],"mask-image-b-to-color":[{"mask-b-to":X()}],"mask-image-l-from-pos":[{"mask-l-from":ze()}],"mask-image-l-to-pos":[{"mask-l-to":ze()}],"mask-image-l-from-color":[{"mask-l-from":X()}],"mask-image-l-to-color":[{"mask-l-to":X()}],"mask-image-x-from-pos":[{"mask-x-from":ze()}],"mask-image-x-to-pos":[{"mask-x-to":ze()}],"mask-image-x-from-color":[{"mask-x-from":X()}],"mask-image-x-to-color":[{"mask-x-to":X()}],"mask-image-y-from-pos":[{"mask-y-from":ze()}],"mask-image-y-to-pos":[{"mask-y-to":ze()}],"mask-image-y-from-color":[{"mask-y-from":X()}],"mask-image-y-to-color":[{"mask-y-to":X()}],"mask-image-radial":[{"mask-radial":[Fe,qe]}],"mask-image-radial-from-pos":[{"mask-radial-from":ze()}],"mask-image-radial-to-pos":[{"mask-radial-to":ze()}],"mask-image-radial-from-color":[{"mask-radial-from":X()}],"mask-image-radial-to-color":[{"mask-radial-to":X()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[St]}],"mask-image-conic-from-pos":[{"mask-conic-from":ze()}],"mask-image-conic-to-pos":[{"mask-conic-to":ze()}],"mask-image-conic-from-color":[{"mask-conic-from":X()}],"mask-image-conic-to-color":[{"mask-conic-to":X()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:je()}],"mask-repeat":[{mask:Je()}],"mask-size":[{mask:I()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Fe,qe]}],filter:[{filter:["","none",Fe,qe]}],blur:[{blur:Nt()}],brightness:[{brightness:[St,Fe,qe]}],contrast:[{contrast:[St,Fe,qe]}],"drop-shadow":[{"drop-shadow":["","none",S,yu,mu]}],"drop-shadow-color":[{"drop-shadow":X()}],grayscale:[{grayscale:["",St,Fe,qe]}],"hue-rotate":[{"hue-rotate":[St,Fe,qe]}],invert:[{invert:["",St,Fe,qe]}],saturate:[{saturate:[St,Fe,qe]}],sepia:[{sepia:["",St,Fe,qe]}],"backdrop-filter":[{"backdrop-filter":["","none",Fe,qe]}],"backdrop-blur":[{"backdrop-blur":Nt()}],"backdrop-brightness":[{"backdrop-brightness":[St,Fe,qe]}],"backdrop-contrast":[{"backdrop-contrast":[St,Fe,qe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",St,Fe,qe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[St,Fe,qe]}],"backdrop-invert":[{"backdrop-invert":["",St,Fe,qe]}],"backdrop-opacity":[{"backdrop-opacity":[St,Fe,qe]}],"backdrop-saturate":[{"backdrop-saturate":[St,Fe,qe]}],"backdrop-sepia":[{"backdrop-sepia":["",St,Fe,qe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":G()}],"border-spacing-x":[{"border-spacing-x":G()}],"border-spacing-y":[{"border-spacing-y":G()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Fe,qe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[St,"initial",Fe,qe]}],ease:[{ease:["linear","initial",P,Fe,qe]}],delay:[{delay:[St,Fe,qe]}],animate:[{animate:["none",D,Fe,qe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,Fe,qe]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:z()}],"rotate-x":[{"rotate-x":z()}],"rotate-y":[{"rotate-y":z()}],"rotate-z":[{"rotate-z":z()}],scale:[{scale:Q()}],"scale-x":[{"scale-x":Q()}],"scale-y":[{"scale-y":Q()}],"scale-z":[{"scale-z":Q()}],"scale-3d":["scale-3d"],skew:[{skew:le()}],"skew-x":[{"skew-x":le()}],"skew-y":[{"skew-y":le()}],transform:[{transform:[Fe,qe,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Pe()}],"translate-x":[{"translate-x":Pe()}],"translate-y":[{"translate-y":Pe()}],"translate-z":[{"translate-z":Pe()}],"translate-none":["translate-none"],accent:[{accent:X()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:X()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe,qe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe,qe]}],fill:[{fill:["none",...X()]}],"stroke-w":[{stroke:[St,fc,Xi,xp]}],stroke:[{stroke:["none",...X()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},jM=mM(kM);function Yt(...t){return jM(o_(t))}const LM=vO,__=T.forwardRef(({className:t,...e},n)=>b.jsx(e_,{ref:n,className:Yt("fixed top-0 z-100 flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));__.displayName=e_.displayName;const UM=Of("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-(--radix-toast-swipe-end-x) data-[swipe=move]:translate-x-(--radix-toast-swipe-move-x) data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),w_=T.forwardRef(({className:t,variant:e,...n},s)=>b.jsx(t_,{ref:s,className:Yt(UM({variant:e}),t),...n}));w_.displayName=t_.displayName;const IM=T.forwardRef(({className:t,...e},n)=>b.jsx(s_,{ref:n,className:Yt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));IM.displayName=s_.displayName;const C_=T.forwardRef(({className:t,...e},n)=>b.jsx(i_,{ref:n,className:Yt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:b.jsx(tM,{className:"h-4 w-4"})}));C_.displayName=i_.displayName;const E_=T.forwardRef(({className:t,...e},n)=>b.jsx(n_,{ref:n,className:Yt("text-sm font-semibold",t),...e}));E_.displayName=n_.displayName;const T_=T.forwardRef(({className:t,...e},n)=>b.jsx(r_,{ref:n,className:Yt("text-sm opacity-90",t),...e}));T_.displayName=r_.displayName;function zM(){const{toasts:t}=PS();return b.jsxs(LM,{children:[t.map(({id:e,title:n,description:s,action:a,...c})=>b.jsxs(w_,{...c,children:[b.jsxs("div",{className:"grid gap-1",children:[n&&b.jsx(E_,{children:n}),s&&b.jsx(T_,{children:s})]}),a,b.jsx(C_,{})]},e)),b.jsx(__,{})]})}const BM=["top","right","bottom","left"],Oi=Math.min,_r=Math.max,Wu=Math.round,gu=Math.floor,fs=t=>({x:t,y:t}),HM={left:"right",right:"left",bottom:"top",top:"bottom"},$M={start:"end",end:"start"};function pm(t,e,n){return _r(t,Oi(e,n))}function Xs(t,e){return typeof t=="function"?t(e):t}function Qs(t){return t.split("-")[0]}function po(t){return t.split("-")[1]}function py(t){return t==="x"?"y":"x"}function my(t){return t==="y"?"height":"width"}const VM=new Set(["top","bottom"]);function cs(t){return VM.has(Qs(t))?"y":"x"}function yy(t){return py(cs(t))}function qM(t,e,n){n===void 0&&(n=!1);const s=po(t),a=yy(t),c=my(a);let u=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[c]>e.floating[c]&&(u=ef(u)),[u,ef(u)]}function FM(t){const e=ef(t);return[mm(t),e,mm(e)]}function mm(t){return t.replace(/start|end/g,e=>$M[e])}const Ub=["left","right"],Ib=["right","left"],YM=["top","bottom"],GM=["bottom","top"];function KM(t,e,n){switch(t){case"top":case"bottom":return n?e?Ib:Ub:e?Ub:Ib;case"left":case"right":return e?YM:GM;default:return[]}}function XM(t,e,n,s){const a=po(t);let c=KM(Qs(t),n==="start",s);return a&&(c=c.map(u=>u+"-"+a),e&&(c=c.concat(c.map(mm)))),c}function ef(t){return t.replace(/left|right|bottom|top/g,e=>HM[e])}function QM(t){return{top:0,right:0,bottom:0,left:0,...t}}function R_(t){return typeof t!="number"?QM(t):{top:t,right:t,bottom:t,left:t}}function tf(t){const{x:e,y:n,width:s,height:a}=t;return{width:s,height:a,top:n,left:e,right:e+s,bottom:n+a,x:e,y:n}}function zb(t,e,n){let{reference:s,floating:a}=t;const c=cs(e),u=yy(e),f=my(u),d=Qs(e),p=c==="y",y=s.x+s.width/2-a.width/2,g=s.y+s.height/2-a.height/2,v=s[f]/2-a[f]/2;let S;switch(d){case"top":S={x:y,y:s.y-a.height};break;case"bottom":S={x:y,y:s.y+s.height};break;case"right":S={x:s.x+s.width,y:g};break;case"left":S={x:s.x-a.width,y:g};break;default:S={x:s.x,y:s.y}}switch(po(e)){case"start":S[u]-=v*(n&&p?-1:1);break;case"end":S[u]+=v*(n&&p?-1:1);break}return S}const ZM=async(t,e,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:c=[],platform:u}=n,f=c.filter(Boolean),d=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:t,floating:e,strategy:a}),{x:y,y:g}=zb(p,s,d),v=s,S={},w=0;for(let E=0;E<f.length;E++){const{name:M,fn:P}=f[E],{x:D,y:k,data:j,reset:F}=await P({x:y,y:g,initialPlacement:s,placement:v,strategy:a,middlewareData:S,rects:p,platform:u,elements:{reference:t,floating:e}});y=D??y,g=k??g,S={...S,[M]:{...S[M],...j}},F&&w<=50&&(w++,typeof F=="object"&&(F.placement&&(v=F.placement),F.rects&&(p=F.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:a}):F.rects),{x:y,y:g}=zb(p,v,d)),E=-1)}return{x:y,y:g,placement:v,strategy:a,middlewareData:S}};async function Dc(t,e){var n;e===void 0&&(e={});const{x:s,y:a,platform:c,rects:u,elements:f,strategy:d}=t,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:g="floating",altBoundary:v=!1,padding:S=0}=Xs(e,t),w=R_(S),M=f[v?g==="floating"?"reference":"floating":g],P=tf(await c.getClippingRect({element:(n=await(c.isElement==null?void 0:c.isElement(M)))==null||n?M:M.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:p,rootBoundary:y,strategy:d})),D=g==="floating"?{x:s,y:a,width:u.floating.width,height:u.floating.height}:u.reference,k=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),j=await(c.isElement==null?void 0:c.isElement(k))?await(c.getScale==null?void 0:c.getScale(k))||{x:1,y:1}:{x:1,y:1},F=tf(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:D,offsetParent:k,strategy:d}):D);return{top:(P.top-F.top+w.top)/j.y,bottom:(F.bottom-P.bottom+w.bottom)/j.y,left:(P.left-F.left+w.left)/j.x,right:(F.right-P.right+w.right)/j.x}}const JM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:a,rects:c,platform:u,elements:f,middlewareData:d}=e,{element:p,padding:y=0}=Xs(t,e)||{};if(p==null)return{};const g=R_(y),v={x:n,y:s},S=yy(a),w=my(S),E=await u.getDimensions(p),M=S==="y",P=M?"top":"left",D=M?"bottom":"right",k=M?"clientHeight":"clientWidth",j=c.reference[w]+c.reference[S]-v[S]-c.floating[w],F=v[S]-c.reference[S],J=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let Y=J?J[k]:0;(!Y||!await(u.isElement==null?void 0:u.isElement(J)))&&(Y=f.floating[k]||c.floating[w]);const G=j/2-F/2,me=Y/2-E[w]/2-1,be=Oi(g[P],me),we=Oi(g[D],me),ge=be,Ee=Y-E[w]-we,pe=Y/2-E[w]/2+G,Te=pm(ge,pe,Ee),H=!d.arrow&&po(a)!=null&&pe!==Te&&c.reference[w]/2-(pe<ge?be:we)-E[w]/2<0,ie=H?pe<ge?pe-ge:pe-Ee:0;return{[S]:v[S]+ie,data:{[S]:Te,centerOffset:pe-Te-ie,...H&&{alignmentOffset:ie}},reset:H}}}),WM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:a,middlewareData:c,rects:u,initialPlacement:f,platform:d,elements:p}=e,{mainAxis:y=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:S="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:E=!0,...M}=Xs(t,e);if((n=c.arrow)!=null&&n.alignmentOffset)return{};const P=Qs(a),D=cs(f),k=Qs(f)===f,j=await(d.isRTL==null?void 0:d.isRTL(p.floating)),F=v||(k||!E?[ef(f)]:FM(f)),J=w!=="none";!v&&J&&F.push(...XM(f,E,w,j));const Y=[f,...F],G=await Dc(e,M),me=[];let be=((s=c.flip)==null?void 0:s.overflows)||[];if(y&&me.push(G[P]),g){const pe=qM(a,u,j);me.push(G[pe[0]],G[pe[1]])}if(be=[...be,{placement:a,overflows:me}],!me.every(pe=>pe<=0)){var we,ge;const pe=(((we=c.flip)==null?void 0:we.index)||0)+1,Te=Y[pe];if(Te&&(!(g==="alignment"?D!==cs(Te):!1)||be.every(X=>cs(X.placement)===D?X.overflows[0]>0:!0)))return{data:{index:pe,overflows:be},reset:{placement:Te}};let H=(ge=be.filter(ie=>ie.overflows[0]<=0).sort((ie,X)=>ie.overflows[1]-X.overflows[1])[0])==null?void 0:ge.placement;if(!H)switch(S){case"bestFit":{var Ee;const ie=(Ee=be.filter(X=>{if(J){const je=cs(X.placement);return je===D||je==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(je=>je>0).reduce((je,Je)=>je+Je,0)]).sort((X,je)=>X[1]-je[1])[0])==null?void 0:Ee[0];ie&&(H=ie);break}case"initialPlacement":H=f;break}if(a!==H)return{reset:{placement:H}}}return{}}}};function Bb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Hb(t){return BM.some(e=>t[e]>=0)}const e3=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...a}=Xs(t,e);switch(s){case"referenceHidden":{const c=await Dc(e,{...a,elementContext:"reference"}),u=Bb(c,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Hb(u)}}}case"escaped":{const c=await Dc(e,{...a,altBoundary:!0}),u=Bb(c,n.floating);return{data:{escapedOffsets:u,escaped:Hb(u)}}}default:return{}}}}},A_=new Set(["left","top"]);async function t3(t,e){const{placement:n,platform:s,elements:a}=t,c=await(s.isRTL==null?void 0:s.isRTL(a.floating)),u=Qs(n),f=po(n),d=cs(n)==="y",p=A_.has(u)?-1:1,y=c&&d?-1:1,g=Xs(e,t);let{mainAxis:v,crossAxis:S,alignmentAxis:w}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return f&&typeof w=="number"&&(S=f==="end"?w*-1:w),d?{x:S*y,y:v*p}:{x:v*p,y:S*y}}const n3=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:a,y:c,placement:u,middlewareData:f}=e,d=await t3(e,t);return u===((n=f.offset)==null?void 0:n.placement)&&(s=f.arrow)!=null&&s.alignmentOffset?{}:{x:a+d.x,y:c+d.y,data:{...d,placement:u}}}}},r3=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:a}=e,{mainAxis:c=!0,crossAxis:u=!1,limiter:f={fn:M=>{let{x:P,y:D}=M;return{x:P,y:D}}},...d}=Xs(t,e),p={x:n,y:s},y=await Dc(e,d),g=cs(Qs(a)),v=py(g);let S=p[v],w=p[g];if(c){const M=v==="y"?"top":"left",P=v==="y"?"bottom":"right",D=S+y[M],k=S-y[P];S=pm(D,S,k)}if(u){const M=g==="y"?"top":"left",P=g==="y"?"bottom":"right",D=w+y[M],k=w-y[P];w=pm(D,w,k)}const E=f.fn({...e,[v]:S,[g]:w});return{...E,data:{x:E.x-n,y:E.y-s,enabled:{[v]:c,[g]:u}}}}}},s3=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:a,rects:c,middlewareData:u}=e,{offset:f=0,mainAxis:d=!0,crossAxis:p=!0}=Xs(t,e),y={x:n,y:s},g=cs(a),v=py(g);let S=y[v],w=y[g];const E=Xs(f,e),M=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(d){const k=v==="y"?"height":"width",j=c.reference[v]-c.floating[k]+M.mainAxis,F=c.reference[v]+c.reference[k]-M.mainAxis;S<j?S=j:S>F&&(S=F)}if(p){var P,D;const k=v==="y"?"width":"height",j=A_.has(Qs(a)),F=c.reference[g]-c.floating[k]+(j&&((P=u.offset)==null?void 0:P[g])||0)+(j?0:M.crossAxis),J=c.reference[g]+c.reference[k]+(j?0:((D=u.offset)==null?void 0:D[g])||0)-(j?M.crossAxis:0);w<F?w=F:w>J&&(w=J)}return{[v]:S,[g]:w}}}},i3=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:a,rects:c,platform:u,elements:f}=e,{apply:d=()=>{},...p}=Xs(t,e),y=await Dc(e,p),g=Qs(a),v=po(a),S=cs(a)==="y",{width:w,height:E}=c.floating;let M,P;g==="top"||g==="bottom"?(M=g,P=v===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(P=g,M=v==="end"?"top":"bottom");const D=E-y.top-y.bottom,k=w-y.left-y.right,j=Oi(E-y[M],D),F=Oi(w-y[P],k),J=!e.middlewareData.shift;let Y=j,G=F;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(G=k),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(Y=D),J&&!v){const be=_r(y.left,0),we=_r(y.right,0),ge=_r(y.top,0),Ee=_r(y.bottom,0);S?G=w-2*(be!==0||we!==0?be+we:_r(y.left,y.right)):Y=E-2*(ge!==0||Ee!==0?ge+Ee:_r(y.top,y.bottom))}await d({...e,availableWidth:G,availableHeight:Y});const me=await u.getDimensions(f.floating);return w!==me.width||E!==me.height?{reset:{rects:!0}}:{}}}};function Mf(){return typeof window<"u"}function mo(t){return O_(t)?(t.nodeName||"").toLowerCase():"#document"}function wr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function vs(t){var e;return(e=(O_(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function O_(t){return Mf()?t instanceof Node||t instanceof wr(t).Node:!1}function Zr(t){return Mf()?t instanceof Element||t instanceof wr(t).Element:!1}function ys(t){return Mf()?t instanceof HTMLElement||t instanceof wr(t).HTMLElement:!1}function $b(t){return!Mf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof wr(t).ShadowRoot}const a3=new Set(["inline","contents"]);function Yc(t){const{overflow:e,overflowX:n,overflowY:s,display:a}=Jr(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!a3.has(a)}const o3=new Set(["table","td","th"]);function c3(t){return o3.has(mo(t))}const l3=[":popover-open",":modal"];function Pf(t){return l3.some(e=>{try{return t.matches(e)}catch{return!1}})}const u3=["transform","translate","scale","rotate","perspective"],f3=["transform","translate","scale","rotate","perspective","filter"],d3=["paint","layout","strict","content"];function gy(t){const e=vy(),n=Zr(t)?Jr(t):t;return u3.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||f3.some(s=>(n.willChange||"").includes(s))||d3.some(s=>(n.contain||"").includes(s))}function h3(t){let e=Mi(t);for(;ys(e)&&!io(e);){if(gy(e))return e;if(Pf(e))return null;e=Mi(e)}return null}function vy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const p3=new Set(["html","body","#document"]);function io(t){return p3.has(mo(t))}function Jr(t){return wr(t).getComputedStyle(t)}function Nf(t){return Zr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Mi(t){if(mo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||$b(t)&&t.host||vs(t);return $b(e)?e.host:e}function M_(t){const e=Mi(t);return io(e)?t.ownerDocument?t.ownerDocument.body:t.body:ys(e)&&Yc(e)?e:M_(e)}function kc(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const a=M_(t),c=a===((s=t.ownerDocument)==null?void 0:s.body),u=wr(a);if(c){const f=ym(u);return e.concat(u,u.visualViewport||[],Yc(a)?a:[],f&&n?kc(f):[])}return e.concat(a,kc(a,[],n))}function ym(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function P_(t){const e=Jr(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const a=ys(t),c=a?t.offsetWidth:n,u=a?t.offsetHeight:s,f=Wu(n)!==c||Wu(s)!==u;return f&&(n=c,s=u),{width:n,height:s,$:f}}function xy(t){return Zr(t)?t:t.contextElement}function Ja(t){const e=xy(t);if(!ys(e))return fs(1);const n=e.getBoundingClientRect(),{width:s,height:a,$:c}=P_(e);let u=(c?Wu(n.width):n.width)/s,f=(c?Wu(n.height):n.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const m3=fs(0);function N_(t){const e=wr(t);return!vy()||!e.visualViewport?m3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function y3(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==wr(t)?!1:e}function la(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),c=xy(t);let u=fs(1);e&&(s?Zr(s)&&(u=Ja(s)):u=Ja(t));const f=y3(c,n,s)?N_(c):fs(0);let d=(a.left+f.x)/u.x,p=(a.top+f.y)/u.y,y=a.width/u.x,g=a.height/u.y;if(c){const v=wr(c),S=s&&Zr(s)?wr(s):s;let w=v,E=ym(w);for(;E&&s&&S!==w;){const M=Ja(E),P=E.getBoundingClientRect(),D=Jr(E),k=P.left+(E.clientLeft+parseFloat(D.paddingLeft))*M.x,j=P.top+(E.clientTop+parseFloat(D.paddingTop))*M.y;d*=M.x,p*=M.y,y*=M.x,g*=M.y,d+=k,p+=j,w=wr(E),E=ym(w)}}return tf({width:y,height:g,x:d,y:p})}function Df(t,e){const n=Nf(t).scrollLeft;return e?e.left+n:la(vs(t)).left+n}function D_(t,e){const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-Df(t,n),a=n.top+e.scrollTop;return{x:s,y:a}}function g3(t){let{elements:e,rect:n,offsetParent:s,strategy:a}=t;const c=a==="fixed",u=vs(s),f=e?Pf(e.floating):!1;if(s===u||f&&c)return n;let d={scrollLeft:0,scrollTop:0},p=fs(1);const y=fs(0),g=ys(s);if((g||!g&&!c)&&((mo(s)!=="body"||Yc(u))&&(d=Nf(s)),ys(s))){const S=la(s);p=Ja(s),y.x=S.x+s.clientLeft,y.y=S.y+s.clientTop}const v=u&&!g&&!c?D_(u,d):fs(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-d.scrollLeft*p.x+y.x+v.x,y:n.y*p.y-d.scrollTop*p.y+y.y+v.y}}function v3(t){return Array.from(t.getClientRects())}function x3(t){const e=vs(t),n=Nf(t),s=t.ownerDocument.body,a=_r(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),c=_r(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let u=-n.scrollLeft+Df(t);const f=-n.scrollTop;return Jr(s).direction==="rtl"&&(u+=_r(e.clientWidth,s.clientWidth)-a),{width:a,height:c,x:u,y:f}}const Vb=25;function b3(t,e){const n=wr(t),s=vs(t),a=n.visualViewport;let c=s.clientWidth,u=s.clientHeight,f=0,d=0;if(a){c=a.width,u=a.height;const y=vy();(!y||y&&e==="fixed")&&(f=a.offsetLeft,d=a.offsetTop)}const p=Df(s);if(p<=0){const y=s.ownerDocument,g=y.body,v=getComputedStyle(g),S=y.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,w=Math.abs(s.clientWidth-g.clientWidth-S);w<=Vb&&(c-=w)}else p<=Vb&&(c+=p);return{width:c,height:u,x:f,y:d}}const S3=new Set(["absolute","fixed"]);function _3(t,e){const n=la(t,!0,e==="fixed"),s=n.top+t.clientTop,a=n.left+t.clientLeft,c=ys(t)?Ja(t):fs(1),u=t.clientWidth*c.x,f=t.clientHeight*c.y,d=a*c.x,p=s*c.y;return{width:u,height:f,x:d,y:p}}function qb(t,e,n){let s;if(e==="viewport")s=b3(t,n);else if(e==="document")s=x3(vs(t));else if(Zr(e))s=_3(e,n);else{const a=N_(t);s={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return tf(s)}function k_(t,e){const n=Mi(t);return n===e||!Zr(n)||io(n)?!1:Jr(n).position==="fixed"||k_(n,e)}function w3(t,e){const n=e.get(t);if(n)return n;let s=kc(t,[],!1).filter(f=>Zr(f)&&mo(f)!=="body"),a=null;const c=Jr(t).position==="fixed";let u=c?Mi(t):t;for(;Zr(u)&&!io(u);){const f=Jr(u),d=gy(u);!d&&f.position==="fixed"&&(a=null),(c?!d&&!a:!d&&f.position==="static"&&!!a&&S3.has(a.position)||Yc(u)&&!d&&k_(t,u))?s=s.filter(y=>y!==u):a=f,u=Mi(u)}return e.set(t,s),s}function C3(t){let{element:e,boundary:n,rootBoundary:s,strategy:a}=t;const u=[...n==="clippingAncestors"?Pf(e)?[]:w3(e,this._c):[].concat(n),s],f=u[0],d=u.reduce((p,y)=>{const g=qb(e,y,a);return p.top=_r(g.top,p.top),p.right=Oi(g.right,p.right),p.bottom=Oi(g.bottom,p.bottom),p.left=_r(g.left,p.left),p},qb(e,f,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function E3(t){const{width:e,height:n}=P_(t);return{width:e,height:n}}function T3(t,e,n){const s=ys(e),a=vs(e),c=n==="fixed",u=la(t,!0,c,e);let f={scrollLeft:0,scrollTop:0};const d=fs(0);function p(){d.x=Df(a)}if(s||!s&&!c)if((mo(e)!=="body"||Yc(a))&&(f=Nf(e)),s){const S=la(e,!0,c,e);d.x=S.x+e.clientLeft,d.y=S.y+e.clientTop}else a&&p();c&&!s&&a&&p();const y=a&&!s&&!c?D_(a,f):fs(0),g=u.left+f.scrollLeft-d.x-y.x,v=u.top+f.scrollTop-d.y-y.y;return{x:g,y:v,width:u.width,height:u.height}}function bp(t){return Jr(t).position==="static"}function Fb(t,e){if(!ys(t)||Jr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return vs(t)===n&&(n=n.ownerDocument.body),n}function j_(t,e){const n=wr(t);if(Pf(t))return n;if(!ys(t)){let a=Mi(t);for(;a&&!io(a);){if(Zr(a)&&!bp(a))return a;a=Mi(a)}return n}let s=Fb(t,e);for(;s&&c3(s)&&bp(s);)s=Fb(s,e);return s&&io(s)&&bp(s)&&!gy(s)?n:s||h3(t)||n}const R3=async function(t){const e=this.getOffsetParent||j_,n=this.getDimensions,s=await n(t.floating);return{reference:T3(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function A3(t){return Jr(t).direction==="rtl"}const O3={convertOffsetParentRelativeRectToViewportRelativeRect:g3,getDocumentElement:vs,getClippingRect:C3,getOffsetParent:j_,getElementRects:R3,getClientRects:v3,getDimensions:E3,getScale:Ja,isElement:Zr,isRTL:A3};function L_(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function M3(t,e){let n=null,s;const a=vs(t);function c(){var f;clearTimeout(s),(f=n)==null||f.disconnect(),n=null}function u(f,d){f===void 0&&(f=!1),d===void 0&&(d=1),c();const p=t.getBoundingClientRect(),{left:y,top:g,width:v,height:S}=p;if(f||e(),!v||!S)return;const w=gu(g),E=gu(a.clientWidth-(y+v)),M=gu(a.clientHeight-(g+S)),P=gu(y),k={rootMargin:-w+"px "+-E+"px "+-M+"px "+-P+"px",threshold:_r(0,Oi(1,d))||1};let j=!0;function F(J){const Y=J[0].intersectionRatio;if(Y!==d){if(!j)return u();Y?u(!1,Y):s=setTimeout(()=>{u(!1,1e-7)},1e3)}Y===1&&!L_(p,t.getBoundingClientRect())&&u(),j=!1}try{n=new IntersectionObserver(F,{...k,root:a.ownerDocument})}catch{n=new IntersectionObserver(F,k)}n.observe(t)}return u(!0),c}function P3(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,p=xy(t),y=a||c?[...p?kc(p):[],...kc(e)]:[];y.forEach(P=>{a&&P.addEventListener("scroll",n,{passive:!0}),c&&P.addEventListener("resize",n)});const g=p&&f?M3(p,n):null;let v=-1,S=null;u&&(S=new ResizeObserver(P=>{let[D]=P;D&&D.target===p&&S&&(S.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var k;(k=S)==null||k.observe(e)})),n()}),p&&!d&&S.observe(p),S.observe(e));let w,E=d?la(t):null;d&&M();function M(){const P=la(t);E&&!L_(E,P)&&n(),E=P,w=requestAnimationFrame(M)}return n(),()=>{var P;y.forEach(D=>{a&&D.removeEventListener("scroll",n),c&&D.removeEventListener("resize",n)}),g?.(),(P=S)==null||P.disconnect(),S=null,d&&cancelAnimationFrame(w)}}const N3=n3,D3=r3,k3=WM,j3=i3,L3=e3,Yb=JM,U3=s3,I3=(t,e,n)=>{const s=new Map,a={platform:O3,...n},c={...a.platform,_c:s};return ZM(t,e,{...a,platform:c})};var z3=typeof document<"u",B3=function(){},Nu=z3?T.useLayoutEffect:B3;function nf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!nf(t[s],e[s]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,a[s]))return!1;for(s=n;s--!==0;){const c=a[s];if(!(c==="_owner"&&t.$$typeof)&&!nf(t[c],e[c]))return!1}return!0}return t!==t&&e!==e}function U_(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Gb(t,e){const n=U_(t);return Math.round(e*n)/n}function Sp(t){const e=T.useRef(t);return Nu(()=>{e.current=t}),e}function H3(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:c,floating:u}={},transform:f=!0,whileElementsMounted:d,open:p}=t,[y,g]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,S]=T.useState(s);nf(v,s)||S(s);const[w,E]=T.useState(null),[M,P]=T.useState(null),D=T.useCallback(X=>{X!==J.current&&(J.current=X,E(X))},[]),k=T.useCallback(X=>{X!==Y.current&&(Y.current=X,P(X))},[]),j=c||w,F=u||M,J=T.useRef(null),Y=T.useRef(null),G=T.useRef(y),me=d!=null,be=Sp(d),we=Sp(a),ge=Sp(p),Ee=T.useCallback(()=>{if(!J.current||!Y.current)return;const X={placement:e,strategy:n,middleware:v};we.current&&(X.platform=we.current),I3(J.current,Y.current,X).then(je=>{const Je={...je,isPositioned:ge.current!==!1};pe.current&&!nf(G.current,Je)&&(G.current=Je,qc.flushSync(()=>{g(Je)}))})},[v,e,n,we,ge]);Nu(()=>{p===!1&&G.current.isPositioned&&(G.current.isPositioned=!1,g(X=>({...X,isPositioned:!1})))},[p]);const pe=T.useRef(!1);Nu(()=>(pe.current=!0,()=>{pe.current=!1}),[]),Nu(()=>{if(j&&(J.current=j),F&&(Y.current=F),j&&F){if(be.current)return be.current(j,F,Ee);Ee()}},[j,F,Ee,be,me]);const Te=T.useMemo(()=>({reference:J,floating:Y,setReference:D,setFloating:k}),[D,k]),H=T.useMemo(()=>({reference:j,floating:F}),[j,F]),ie=T.useMemo(()=>{const X={position:n,left:0,top:0};if(!H.floating)return X;const je=Gb(H.floating,y.x),Je=Gb(H.floating,y.y);return f?{...X,transform:"translate("+je+"px, "+Je+"px)",...U_(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:je,top:Je}},[n,f,H.floating,y.x,y.y]);return T.useMemo(()=>({...y,update:Ee,refs:Te,elements:H,floatingStyles:ie}),[y,Ee,Te,H,ie])}const $3=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:a}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?Yb({element:s.current,padding:a}).fn(n):{}:s?Yb({element:s,padding:a}).fn(n):{}}}},V3=(t,e)=>({...N3(t),options:[t,e]}),q3=(t,e)=>({...D3(t),options:[t,e]}),F3=(t,e)=>({...U3(t),options:[t,e]}),Y3=(t,e)=>({...k3(t),options:[t,e]}),G3=(t,e)=>({...j3(t),options:[t,e]}),K3=(t,e)=>({...L3(t),options:[t,e]}),X3=(t,e)=>({...$3(t),options:[t,e]});var Q3="Arrow",I_=T.forwardRef((t,e)=>{const{children:n,width:s=10,height:a=5,...c}=t;return b.jsx($t.svg,{...c,ref:e,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:b.jsx("polygon",{points:"0,0 30,0 15,10"})})});I_.displayName=Q3;var Z3=I_;function z_(t){const[e,n]=T.useState(void 0);return Ur(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const c=a[0];let u,f;if("borderBoxSize"in c){const d=c.borderBoxSize,p=Array.isArray(d)?d[0]:d;u=p.inlineSize,f=p.blockSize}else u=t.offsetWidth,f=t.offsetHeight;n({width:u,height:f})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var B_="Popper",[H_,$_]=Pi(B_),[Kk,V_]=H_(B_),q_="PopperAnchor",F_=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...a}=t,c=V_(q_,n),u=T.useRef(null),f=ln(e,u),d=T.useRef(null);return T.useEffect(()=>{const p=d.current;d.current=s?.current||u.current,p!==d.current&&c.onAnchorChange(d.current)}),s?null:b.jsx($t.div,{...a,ref:f})});F_.displayName=q_;var by="PopperContent",[J3,W3]=H_(by),Y_=T.forwardRef((t,e)=>{const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:c="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:d=!0,collisionBoundary:p=[],collisionPadding:y=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:S="optimized",onPlaced:w,...E}=t,M=V_(by,n),[P,D]=T.useState(null),k=ln(e,ze=>D(ze)),[j,F]=T.useState(null),J=z_(j),Y=J?.width??0,G=J?.height??0,me=s+(c!=="center"?"-"+c:""),be=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},we=Array.isArray(p)?p:[p],ge=we.length>0,Ee={padding:be,boundary:we.filter(tP),altBoundary:ge},{refs:pe,floatingStyles:Te,placement:H,isPositioned:ie,middlewareData:X}=H3({strategy:"fixed",placement:me,whileElementsMounted:(...ze)=>P3(...ze,{animationFrame:S==="always"}),elements:{reference:M.anchor},middleware:[V3({mainAxis:a+G,alignmentAxis:u}),d&&q3({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?F3():void 0,...Ee}),d&&Y3({...Ee}),G3({...Ee,apply:({elements:ze,rects:Nt,availableWidth:z,availableHeight:Q})=>{const{width:le,height:Pe}=Nt.reference,Le=ze.floating.style;Le.setProperty("--radix-popper-available-width",`${z}px`),Le.setProperty("--radix-popper-available-height",`${Q}px`),Le.setProperty("--radix-popper-anchor-width",`${le}px`),Le.setProperty("--radix-popper-anchor-height",`${Pe}px`)}}),j&&X3({element:j,padding:f}),nP({arrowWidth:Y,arrowHeight:G}),v&&K3({strategy:"referenceHidden",...Ee})]}),[je,Je]=X_(H),I=Kn(w);Ur(()=>{ie&&I?.()},[ie,I]);const se=X.arrow?.x,de=X.arrow?.y,xe=X.arrow?.centerOffset!==0,[_e,Re]=T.useState();return Ur(()=>{P&&Re(window.getComputedStyle(P).zIndex)},[P]),b.jsx("div",{ref:pe.setFloating,"data-radix-popper-content-wrapper":"",style:{...Te,transform:ie?Te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_e,"--radix-popper-transform-origin":[X.transformOrigin?.x,X.transformOrigin?.y].join(" "),...X.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:b.jsx(J3,{scope:n,placedSide:je,onArrowChange:F,arrowX:se,arrowY:de,shouldHideArrow:xe,children:b.jsx($t.div,{"data-side":je,"data-align":Je,...E,ref:k,style:{...E.style,animation:ie?void 0:"none"}})})})});Y_.displayName=by;var G_="PopperArrow",eP={top:"bottom",right:"left",bottom:"top",left:"right"},K_=T.forwardRef(function(e,n){const{__scopePopper:s,...a}=e,c=W3(G_,s),u=eP[c.placedSide];return b.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:b.jsx(Z3,{...a,ref:n,style:{...a.style,display:"block"}})})});K_.displayName=G_;function tP(t){return t!==null}var nP=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:s,middlewareData:a}=e,u=a.arrow?.centerOffset!==0,f=u?0:t.arrowWidth,d=u?0:t.arrowHeight,[p,y]=X_(n),g={start:"0%",center:"50%",end:"100%"}[y],v=(a.arrow?.x??0)+f/2,S=(a.arrow?.y??0)+d/2;let w="",E="";return p==="bottom"?(w=u?g:`${v}px`,E=`${-d}px`):p==="top"?(w=u?g:`${v}px`,E=`${s.floating.height+d}px`):p==="right"?(w=`${-d}px`,E=u?g:`${S}px`):p==="left"&&(w=`${s.floating.width+d}px`,E=u?g:`${S}px`),{data:{x:w,y:E}}}});function X_(t){const[e,n="center"]=t.split("-");return[e,n]}var rP=F_,sP=Y_,iP=K_,[kf]=Pi("Tooltip",[$_]),Sy=$_(),Q_="TooltipProvider",aP=700,Kb="tooltip.open",[oP,Z_]=kf(Q_),J_=t=>{const{__scopeTooltip:e,delayDuration:n=aP,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:c}=t,u=T.useRef(!0),f=T.useRef(!1),d=T.useRef(0);return T.useEffect(()=>{const p=d.current;return()=>window.clearTimeout(p)},[]),b.jsx(oP,{scope:e,isOpenDelayedRef:u,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(d.current),u.current=!1},[]),onClose:T.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>u.current=!0,s)},[s]),isPointerInTransitRef:f,onPointerInTransitChange:T.useCallback(p=>{f.current=p},[]),disableHoverableContent:a,children:c})};J_.displayName=Q_;var W_="Tooltip",[Xk,jf]=kf(W_),gm="TooltipTrigger",cP=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,a=jf(gm,n),c=Z_(gm,n),u=Sy(n),f=T.useRef(null),d=ln(e,f,a.onTriggerChange),p=T.useRef(!1),y=T.useRef(!1),g=T.useCallback(()=>p.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),b.jsx(rP,{asChild:!0,...u,children:b.jsx($t.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:d,onPointerMove:It(t.onPointerMove,v=>{v.pointerType!=="touch"&&!y.current&&!c.isPointerInTransitRef.current&&(a.onTriggerEnter(),y.current=!0)}),onPointerLeave:It(t.onPointerLeave,()=>{a.onTriggerLeave(),y.current=!1}),onPointerDown:It(t.onPointerDown,()=>{a.open&&a.onClose(),p.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:It(t.onFocus,()=>{p.current||a.onOpen()}),onBlur:It(t.onBlur,a.onClose),onClick:It(t.onClick,a.onClose)})})});cP.displayName=gm;var lP="TooltipPortal",[Qk,uP]=kf(lP,{forceMount:void 0}),ao="TooltipContent",ew=T.forwardRef((t,e)=>{const n=uP(ao,t.__scopeTooltip),{forceMount:s=n.forceMount,side:a="top",...c}=t,u=jf(ao,t.__scopeTooltip);return b.jsx(da,{present:s||u.open,children:u.disableHoverableContent?b.jsx(tw,{side:a,...c,ref:e}):b.jsx(fP,{side:a,...c,ref:e})})}),fP=T.forwardRef((t,e)=>{const n=jf(ao,t.__scopeTooltip),s=Z_(ao,t.__scopeTooltip),a=T.useRef(null),c=ln(e,a),[u,f]=T.useState(null),{trigger:d,onClose:p}=n,y=a.current,{onPointerInTransitChange:g}=s,v=T.useCallback(()=>{f(null),g(!1)},[g]),S=T.useCallback((w,E)=>{const M=w.currentTarget,P={x:w.clientX,y:w.clientY},D=yP(P,M.getBoundingClientRect()),k=gP(P,D),j=vP(E.getBoundingClientRect()),F=bP([...k,...j]);f(F),g(!0)},[g]);return T.useEffect(()=>()=>v(),[v]),T.useEffect(()=>{if(d&&y){const w=M=>S(M,y),E=M=>S(M,d);return d.addEventListener("pointerleave",w),y.addEventListener("pointerleave",E),()=>{d.removeEventListener("pointerleave",w),y.removeEventListener("pointerleave",E)}}},[d,y,S,v]),T.useEffect(()=>{if(u){const w=E=>{const M=E.target,P={x:E.clientX,y:E.clientY},D=d?.contains(M)||y?.contains(M),k=!xP(P,u);D?v():k&&(v(),p())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[d,y,u,p,v]),b.jsx(tw,{...t,ref:c})}),[dP,hP]=kf(W_,{isInside:!1}),pP=P6("TooltipContent"),tw=T.forwardRef((t,e)=>{const{__scopeTooltip:n,children:s,"aria-label":a,onEscapeKeyDown:c,onPointerDownOutside:u,...f}=t,d=jf(ao,n),p=Sy(n),{onClose:y}=d;return T.useEffect(()=>(document.addEventListener(Kb,y),()=>document.removeEventListener(Kb,y)),[y]),T.useEffect(()=>{if(d.trigger){const g=v=>{v.target?.contains(d.trigger)&&y()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[d.trigger,y]),b.jsx(cy,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:g=>g.preventDefault(),onDismiss:y,children:b.jsxs(sP,{"data-state":d.stateAttribute,...p,...f,ref:e,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[b.jsx(pP,{children:s}),b.jsx(dP,{scope:n,isInside:!0,children:b.jsx(eO,{id:d.contentId,role:"tooltip",children:a||s})})]})})});ew.displayName=ao;var nw="TooltipArrow",mP=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,a=Sy(n);return hP(nw,n).isInside?null:b.jsx(iP,{...a,...s,ref:e})});mP.displayName=nw;function yP(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),a=Math.abs(e.right-t.x),c=Math.abs(e.left-t.x);switch(Math.min(n,s,a,c)){case c:return"left";case a:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function gP(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function vP(t){const{top:e,right:n,bottom:s,left:a}=t;return[{x:a,y:e},{x:n,y:e},{x:n,y:s},{x:a,y:s}]}function xP(t,e){const{x:n,y:s}=t;let a=!1;for(let c=0,u=e.length-1;c<e.length;u=c++){const f=e[c],d=e[u],p=f.x,y=f.y,g=d.x,v=d.y;y>s!=v>s&&n<(g-p)*(s-y)/(v-y)+p&&(a=!a)}return a}function bP(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),SP(e)}function SP(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const a=t[s];for(;e.length>=2;){const c=e[e.length-1],u=e[e.length-2];if((c.x-u.x)*(a.y-u.y)>=(c.y-u.y)*(a.x-u.x))e.pop();else break}e.push(a)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const a=t[s];for(;n.length>=2;){const c=n[n.length-1],u=n[n.length-2];if((c.x-u.x)*(a.y-u.y)>=(c.y-u.y)*(a.x-u.x))n.pop();else break}n.push(a)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var _P=J_,rw=ew;const wP=_P,CP=T.forwardRef(({className:t,sideOffset:e=4,...n},s)=>b.jsx(rw,{ref:s,sideOffset:e,className:Yt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-(--radix-tooltip-content-transform-origin)",t),...n}));CP.displayName=rw.displayName;const EP={theme:"dark",setTheme:()=>null},sw=T.createContext(EP);function TP({children:t,defaultTheme:e="dark",...n}){const[s,a]=T.useState(()=>localStorage.getItem("theme")||e);T.useEffect(()=>{const u=window.document.documentElement;u.classList.remove("light","dark"),u.classList.add(s)},[s]);const c={theme:s,setTheme:u=>{localStorage.setItem("theme",u),a(u)}};return b.jsx(sw.Provider,{...n,value:c,children:t})}const RP=()=>{const t=T.useContext(sw);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function AP(){return b.jsxs(x6,{client:_6,children:[b.jsx(TP,{defaultTheme:"dark",children:b.jsxs(wP,{children:[b.jsx(zM,{}),b.jsx(CS,{})]})}),null]})}const OP=Of("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Pn=T.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...a},c)=>{const u=s?O6:"button";return b.jsx(u,{className:Yt(OP({variant:e,size:n,className:t})),ref:c,...a})});Pn.displayName="Button";const Ys=T.forwardRef(({className:t,type:e,...n},s)=>b.jsx("input",{type:e,className:Yt("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n}));Ys.displayName="Input";const cn=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:Yt("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));cn.displayName="Card";const pn=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:Yt("flex flex-col space-y-1.5 p-6",t),...e}));pn.displayName="CardHeader";const mn=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:Yt("text-2xl font-semibold leading-none tracking-tight",t),...e}));mn.displayName="CardTitle";const Kr=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:Yt("text-sm text-muted-foreground",t),...e}));Kr.displayName="CardDescription";const En=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:Yt("p-6 pt-0",t),...e}));En.displayName="CardContent";const MP=T.forwardRef(({className:t,...e},n)=>b.jsx("div",{ref:n,className:Yt("flex items-center p-6 pt-0",t),...e}));MP.displayName="CardFooter";function _y(){const{theme:t,setTheme:e}=RP();return b.jsxs(Pn,{variant:"ghost",size:"icon",onClick:()=>e(t==="light"?"dark":"light"),"data-testid":"button-theme-toggle",children:[b.jsx(QO,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),b.jsx($O,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),b.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}function PP(t,e,n,s){const c=s?50:0,u=1-e/n,f=Math.floor(u*50);return 100+c+f}function NP(t,e){const n=t.toLowerCase().trim(),s=e.toLowerCase().trim();if(n===s)return!0;const a=n.replace(/[^\w\s]/g,"").replace(/\s+/g," "),c=s.replace(/[^\w\s]/g,"").replace(/\s+/g," ");return a===c}function DP(){const t="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let n=0;n<6;n++)e+=t[Math.floor(Math.random()*t.length)];return e}function kP(t){const e=["from-purple-500 to-pink-500","from-blue-500 to-cyan-500","from-green-500 to-emerald-500","from-orange-500 to-red-500","from-yellow-500 to-amber-500","from-indigo-500 to-purple-500","from-pink-500 to-rose-500","from-teal-500 to-green-500"];let n=0;for(let s=0;s<t.length;s++)n=t.charCodeAt(s)+((n<<5)-n);return e[Math.abs(n)%e.length]}function jP(t){const e=t.trim().split(" ");return e.length>=2?(e[0][0]+e[e.length-1][0]).toUpperCase():t.slice(0,2).toUpperCase()}function LP(){const t=wf(),[e,n]=T.useState(""),[s,a]=T.useState(""),c=d=>{const p=d.trim();return p.length<2?(alert("Name must be at least 2 characters long"),null):p.length>24?(alert("Name must be 24 characters or fewer"),null):/^[\w\s'-]+$/.test(p)?p:(alert("Name can only contain letters, numbers, spaces, apostrophes, and hyphens"),null)},u=()=>{const d=c(s);if(!d)return;const p=DP();localStorage.setItem("playerName",d),typeof window<"u"&&(sessionStorage.setItem("musicshowdown.pendingRole","host"),sessionStorage.setItem("musicshowdown.lastRole","host")),t({to:"/music-showdown/game/$roomCode",params:{roomCode:p}})},f=()=>{const d=c(s);if(d){if(!e.trim()){alert("Please enter a room code");return}if(e.length!==6){alert("Room code must be 6 characters");return}localStorage.setItem("playerName",d),typeof window<"u"&&(sessionStorage.setItem("musicshowdown.pendingRole","peer"),sessionStorage.setItem("musicshowdown.lastRole","peer")),t({to:"/music-showdown/game/$roomCode",params:{roomCode:e.toUpperCase()}})}};return b.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-gradient-to-br from-emerald-50 via-emerald-100 to-emerald-200 text-foreground transition-colors dark:from-emerald-950 dark:via-emerald-900 dark:to-emerald-950",children:[b.jsx("div",{className:"absolute top-4 right-4 z-10",children:b.jsx(_y,{})}),b.jsx("div",{className:"relative z-10",children:b.jsxs("div",{className:"container mx-auto px-4 py-16",children:[b.jsxs("header",{className:"mx-auto max-w-3xl text-center",children:[b.jsx("h1",{className:"mb-4 text-5xl font-heading font-bold tracking-tight md:text-6xl",children:"Music Showdown"}),b.jsx("p",{className:"text-lg text-muted-foreground md:text-xl",children:"Pick a name, create or join a room, and start guessing songs with friends."})]}),b.jsx("section",{className:"mx-auto mt-12 max-w-4xl",children:b.jsxs(cn,{className:"w-full border border-emerald-200/60 bg-background/90 shadow-sm backdrop-blur-sm dark:border-emerald-800/60 dark:bg-card/90",children:[b.jsxs(pn,{children:[b.jsx(mn,{className:"text-2xl font-heading",children:"1. Choose your display name"}),b.jsx(Kr,{children:"Everyone in the room will see you by this name."})]}),b.jsx(En,{children:b.jsx(Ys,{placeholder:"Your name",value:s,onChange:d=>a(d.target.value),onKeyDown:d=>d.key==="Enter"&&u(),className:"text-lg","data-testid":"input-player-name"})})]})}),b.jsx("section",{className:"mx-auto mt-10 max-w-4xl",children:b.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[b.jsxs(cn,{className:"border border-emerald-200/60 bg-background/90 shadow-sm backdrop-blur-sm dark:border-emerald-800/60 dark:bg-card/90",children:[b.jsxs(pn,{children:[b.jsx(mn,{className:"text-xl font-heading",children:"2A. Host a new room"}),b.jsx(Kr,{children:"Create a room and share the code with your friends."})]}),b.jsx(En,{children:b.jsx(Pn,{onClick:u,size:"lg",className:"w-full text-lg font-semibold",disabled:!s.trim(),"data-testid":"button-create-room",children:"Create Room"})})]}),b.jsxs(cn,{className:"border border-emerald-200/60 bg-background/90 shadow-sm backdrop-blur-sm dark:border-emerald-800/60 dark:bg-card/90",children:[b.jsxs(pn,{children:[b.jsx(mn,{className:"text-xl font-heading",children:"2B. Join an existing room"}),b.jsx(Kr,{children:"Enter the room code shared by the host."})]}),b.jsxs(En,{className:"space-y-4",children:[b.jsx(Ys,{placeholder:"Room code",value:e,onChange:d=>n(d.target.value.toUpperCase()),onKeyDown:d=>d.key==="Enter"&&f(),className:"font-mono uppercase text-lg",maxLength:6,"data-testid":"input-room-code"}),b.jsx(Pn,{onClick:f,variant:"secondary",disabled:!s.trim()||!e.trim(),"data-testid":"button-join-room",children:"Join Room"})]})]})]})}),b.jsxs("section",{className:"mx-auto mt-16 max-w-5xl",children:[b.jsx("h2",{className:"mb-8 text-center text-3xl font-heading font-bold",children:"How to Play"}),b.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[{icon:WO,title:"1. Create Room",description:"Host creates a room and shares the code with friends"},{icon:u_,title:"2. Pick Songs",description:"Host sets a theme, players search YouTube for matching songs"},{icon:f_,title:"3. Guess Away",description:"Listen to each song and try to guess the title quickly"},{icon:um,title:"4. Win Points",description:"First and fastest correct guesses earn the most points"}].map((d,p)=>b.jsx(cn,{className:"border border-emerald-200/60 bg-background/90 text-center shadow-sm backdrop-blur-sm dark:border-emerald-800/60 dark:bg-card/90",children:b.jsxs(pn,{className:"text-center",children:[b.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-emerald-200/60 dark:bg-emerald-900/40",children:b.jsx(d.icon,{className:"h-8 w-8 text-emerald-700 dark:text-emerald-300"})}),b.jsx(mn,{className:"text-lg font-heading",children:d.title}),b.jsx(Kr,{className:"text-sm",children:d.description})]})},p))})]})]})}),b.jsx("a",{className:"block px-4 pb-6 text-center text-xs text-muted-foreground/80",href:"https://www.flaticon.com/free-icons/music-note",title:"music note icons",children:"Music note icons created by Freepik - Flaticon"})]})}const UP=Of("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border border-(--badge-outline) shadow-xs"}},defaultVariants:{variant:"default"}});function _p({className:t,variant:e,...n}){return b.jsx("div",{className:Yt(UP({variant:e}),t),...n})}function wy(t,[e,n]){return Math.min(n,Math.max(e,t))}var IP=T.createContext(void 0);function iw(t){const e=T.useContext(IP);return t||e||"ltr"}function zP(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var aw=["PageUp","PageDown"],ow=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],cw={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},yo="Slider",[vm,BP,HP]=kS(yo),[lw]=Pi(yo,[HP]),[$P,Lf]=lw(yo),uw=T.forwardRef((t,e)=>{const{name:n,min:s=0,max:a=100,step:c=1,orientation:u="horizontal",disabled:f=!1,minStepsBetweenThumbs:d=0,defaultValue:p=[s],value:y,onValueChange:g=()=>{},onValueCommit:v=()=>{},inverted:S=!1,form:w,...E}=t,M=T.useRef(new Set),P=T.useRef(0),k=u==="horizontal"?VP:qP,[j=[],F]=BS({prop:y,defaultProp:p,onChange:we=>{[...M.current][P.current]?.focus(),g(we)}}),J=T.useRef(j);function Y(we){const ge=XP(j,we);be(we,ge)}function G(we){be(we,P.current)}function me(){const we=J.current[P.current];j[P.current]!==we&&v(j)}function be(we,ge,{commit:Ee}={commit:!1}){const pe=WP(c),Te=eN(Math.round((we-s)/c)*c+s,pe),H=wy(Te,[s,a]);F((ie=[])=>{const X=GP(ie,H,ge);if(JP(X,d*c)){P.current=X.indexOf(H);const je=String(X)!==String(ie);return je&&Ee&&v(X),je?X:ie}else return ie})}return b.jsx($P,{scope:t.__scopeSlider,name:n,disabled:f,min:s,max:a,valueIndexToChangeRef:P,thumbs:M.current,values:j,orientation:u,form:w,children:b.jsx(vm.Provider,{scope:t.__scopeSlider,children:b.jsx(vm.Slot,{scope:t.__scopeSlider,children:b.jsx(k,{"aria-disabled":f,"data-disabled":f?"":void 0,...E,ref:e,onPointerDown:It(E.onPointerDown,()=>{f||(J.current=j)}),min:s,max:a,inverted:S,onSlideStart:f?void 0:Y,onSlideMove:f?void 0:G,onSlideEnd:f?void 0:me,onHomeKeyDown:()=>!f&&be(s,0,{commit:!0}),onEndKeyDown:()=>!f&&be(a,j.length-1,{commit:!0}),onStepKeyDown:({event:we,direction:ge})=>{if(!f){const Te=aw.includes(we.key)||we.shiftKey&&ow.includes(we.key)?10:1,H=P.current,ie=j[H],X=c*Te*ge;be(ie+X,H,{commit:!0})}}})})})})});uw.displayName=yo;var[fw,dw]=lw(yo,{startEdge:"left",endEdge:"right",size:"width",direction:1}),VP=T.forwardRef((t,e)=>{const{min:n,max:s,dir:a,inverted:c,onSlideStart:u,onSlideMove:f,onSlideEnd:d,onStepKeyDown:p,...y}=t,[g,v]=T.useState(null),S=ln(e,k=>v(k)),w=T.useRef(void 0),E=iw(a),M=E==="ltr",P=M&&!c||!M&&c;function D(k){const j=w.current||g.getBoundingClientRect(),F=[0,j.width],Y=Cy(F,P?[n,s]:[s,n]);return w.current=j,Y(k-j.left)}return b.jsx(fw,{scope:t.__scopeSlider,startEdge:P?"left":"right",endEdge:P?"right":"left",direction:P?1:-1,size:"width",children:b.jsx(hw,{dir:E,"data-orientation":"horizontal",...y,ref:S,style:{...y.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:k=>{const j=D(k.clientX);u?.(j)},onSlideMove:k=>{const j=D(k.clientX);f?.(j)},onSlideEnd:()=>{w.current=void 0,d?.()},onStepKeyDown:k=>{const F=cw[P?"from-left":"from-right"].includes(k.key);p?.({event:k,direction:F?-1:1})}})})}),qP=T.forwardRef((t,e)=>{const{min:n,max:s,inverted:a,onSlideStart:c,onSlideMove:u,onSlideEnd:f,onStepKeyDown:d,...p}=t,y=T.useRef(null),g=ln(e,y),v=T.useRef(void 0),S=!a;function w(E){const M=v.current||y.current.getBoundingClientRect(),P=[0,M.height],k=Cy(P,S?[s,n]:[n,s]);return v.current=M,k(E-M.top)}return b.jsx(fw,{scope:t.__scopeSlider,startEdge:S?"bottom":"top",endEdge:S?"top":"bottom",size:"height",direction:S?1:-1,children:b.jsx(hw,{"data-orientation":"vertical",...p,ref:g,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:E=>{const M=w(E.clientY);c?.(M)},onSlideMove:E=>{const M=w(E.clientY);u?.(M)},onSlideEnd:()=>{v.current=void 0,f?.()},onStepKeyDown:E=>{const P=cw[S?"from-bottom":"from-top"].includes(E.key);d?.({event:E,direction:P?-1:1})}})})}),hw=T.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:a,onSlideEnd:c,onHomeKeyDown:u,onEndKeyDown:f,onStepKeyDown:d,...p}=t,y=Lf(yo,n);return b.jsx($t.span,{...p,ref:e,onKeyDown:It(t.onKeyDown,g=>{g.key==="Home"?(u(g),g.preventDefault()):g.key==="End"?(f(g),g.preventDefault()):aw.concat(ow).includes(g.key)&&(d(g),g.preventDefault())}),onPointerDown:It(t.onPointerDown,g=>{const v=g.target;v.setPointerCapture(g.pointerId),g.preventDefault(),y.thumbs.has(v)?v.focus():s(g)}),onPointerMove:It(t.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&a(g)}),onPointerUp:It(t.onPointerUp,g=>{const v=g.target;v.hasPointerCapture(g.pointerId)&&(v.releasePointerCapture(g.pointerId),c(g))})})}),pw="SliderTrack",mw=T.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,a=Lf(pw,n);return b.jsx($t.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...s,ref:e})});mw.displayName=pw;var xm="SliderRange",yw=T.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,a=Lf(xm,n),c=dw(xm,n),u=T.useRef(null),f=ln(e,u),d=a.values.length,p=a.values.map(v=>xw(v,a.min,a.max)),y=d>1?Math.min(...p):0,g=100-Math.max(...p);return b.jsx($t.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...s,ref:f,style:{...t.style,[c.startEdge]:y+"%",[c.endEdge]:g+"%"}})});yw.displayName=xm;var bm="SliderThumb",gw=T.forwardRef((t,e)=>{const n=BP(t.__scopeSlider),[s,a]=T.useState(null),c=ln(e,f=>a(f)),u=T.useMemo(()=>s?n().findIndex(f=>f.ref.current===s):-1,[n,s]);return b.jsx(FP,{...t,ref:c,index:u})}),FP=T.forwardRef((t,e)=>{const{__scopeSlider:n,index:s,name:a,...c}=t,u=Lf(bm,n),f=dw(bm,n),[d,p]=T.useState(null),y=ln(e,D=>p(D)),g=d?u.form||!!d.closest("form"):!0,v=z_(d),S=u.values[s],w=S===void 0?0:xw(S,u.min,u.max),E=KP(s,u.values.length),M=v?.[f.size],P=M?QP(M,w,f.direction):0;return T.useEffect(()=>{if(d)return u.thumbs.add(d),()=>{u.thumbs.delete(d)}},[d,u.thumbs]),b.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[f.startEdge]:`calc(${w}% + ${P}px)`},children:[b.jsx(vm.ItemSlot,{scope:t.__scopeSlider,children:b.jsx($t.span,{role:"slider","aria-label":t["aria-label"]||E,"aria-valuemin":u.min,"aria-valuenow":S,"aria-valuemax":u.max,"aria-orientation":u.orientation,"data-orientation":u.orientation,"data-disabled":u.disabled?"":void 0,tabIndex:u.disabled?void 0:0,...c,ref:y,style:S===void 0?{display:"none"}:t.style,onFocus:It(t.onFocus,()=>{u.valueIndexToChangeRef.current=s})})}),g&&b.jsx(vw,{name:a??(u.name?u.name+(u.values.length>1?"[]":""):void 0),form:u.form,value:S},s)]})});gw.displayName=bm;var YP="RadioBubbleInput",vw=T.forwardRef(({__scopeSlider:t,value:e,...n},s)=>{const a=T.useRef(null),c=ln(a,s),u=zP(e);return T.useEffect(()=>{const f=a.current;if(!f)return;const d=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(d,"value").set;if(u!==e&&y){const g=new Event("input",{bubbles:!0});y.call(f,e),f.dispatchEvent(g)}},[u,e]),b.jsx($t.input,{style:{display:"none"},...n,ref:c,defaultValue:e})});vw.displayName=YP;function GP(t=[],e,n){const s=[...t];return s[n]=e,s.sort((a,c)=>a-c)}function xw(t,e,n){const c=100/(n-e)*(t-e);return wy(c,[0,100])}function KP(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function XP(t,e){if(t.length===1)return 0;const n=t.map(a=>Math.abs(a-e)),s=Math.min(...n);return n.indexOf(s)}function QP(t,e,n){const s=t/2,c=Cy([0,50],[0,s]);return(s-c(e)*n)*n}function ZP(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function JP(t,e){if(e>0){const n=ZP(t);return Math.min(...n)>=e}return!0}function Cy(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function WP(t){return(String(t).split(".")[1]||"").length}function eN(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var bw=uw,tN=mw,nN=yw,rN=gw;const rf=T.forwardRef(({className:t,...e},n)=>b.jsxs(bw,{ref:n,className:Yt("relative flex w-full touch-none select-none items-center",t),...e,children:[b.jsx(tN,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:b.jsx(nN,{className:"absolute h-full bg-primary"})}),b.jsx(rN,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));rf.displayName=bw.displayName;var sN="Label",Sw=T.forwardRef((t,e)=>b.jsx($t.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Sw.displayName=sN;var _w=Sw;const iN=Of("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),na=T.forwardRef(({className:t,...e},n)=>b.jsx(_w,{ref:n,className:Yt(iN(),t),...e}));na.displayName=_w.displayName;var aN=bS();function oN(){return aN.useSyncExternalStore(cN,()=>!0,()=>!1)}function cN(){return()=>{}}var Ey="Avatar",[lN]=Pi(Ey),[uN,ww]=lN(Ey),Cw=T.forwardRef((t,e)=>{const{__scopeAvatar:n,...s}=t,[a,c]=T.useState("idle");return b.jsx(uN,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:c,children:b.jsx($t.span,{...s,ref:e})})});Cw.displayName=Ey;var Ew="AvatarImage",Tw=T.forwardRef((t,e)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:a=()=>{},...c}=t,u=ww(Ew,n),f=fN(s,c),d=Kn(p=>{a(p),u.onImageLoadingStatusChange(p)});return Ur(()=>{f!=="idle"&&d(f)},[f,d]),f==="loaded"?b.jsx($t.img,{...c,ref:e,src:s}):null});Tw.displayName=Ew;var Rw="AvatarFallback",Aw=T.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:s,...a}=t,c=ww(Rw,n),[u,f]=T.useState(s===void 0);return T.useEffect(()=>{if(s!==void 0){const d=window.setTimeout(()=>f(!0),s);return()=>window.clearTimeout(d)}},[s]),u&&c.imageLoadingStatus!=="loaded"?b.jsx($t.span,{...a,ref:e}):null});Aw.displayName=Rw;function Xb(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function fN(t,{referrerPolicy:e,crossOrigin:n}){const s=oN(),a=T.useRef(null),c=s?(a.current||(a.current=new window.Image),a.current):null,[u,f]=T.useState(()=>Xb(c,t));return Ur(()=>{f(Xb(c,t))},[c,t]),Ur(()=>{const d=g=>()=>{f(g)};if(!c)return;const p=d("loaded"),y=d("error");return c.addEventListener("load",p),c.addEventListener("error",y),e&&(c.referrerPolicy=e),typeof n=="string"&&(c.crossOrigin=n),()=>{c.removeEventListener("load",p),c.removeEventListener("error",y)}},[c,n,e]),u}var Ow=Cw,Mw=Tw,Pw=Aw;const Nw=T.forwardRef(({className:t,...e},n)=>b.jsx(Ow,{ref:n,className:Yt(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));Nw.displayName=Ow.displayName;const dN=T.forwardRef(({className:t,...e},n)=>b.jsx(Mw,{ref:n,className:Yt("aspect-square h-full w-full",t),...e}));dN.displayName=Mw.displayName;const Dw=T.forwardRef(({className:t,...e},n)=>b.jsx(Pw,{ref:n,className:Yt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Dw.displayName=Pw.displayName;function dc({playerId:t,playerName:e,size:n="md"}){const s={sm:"h-8 w-8 text-xs",md:"h-12 w-12 text-sm",lg:"h-16 w-16 text-base"};return b.jsx(Nw,{className:s[n],children:b.jsx(Dw,{className:`bg-linear-to-br ${kP(t)} text-white font-semibold`,children:jP(e)})})}var Ty="Progress",Ry=100,[hN]=Pi(Ty),[pN,mN]=hN(Ty),kw=T.forwardRef((t,e)=>{const{__scopeProgress:n,value:s=null,max:a,getValueLabel:c=yN,...u}=t;(a||a===0)&&!Qb(a)&&console.error(gN(`${a}`,"Progress"));const f=Qb(a)?a:Ry;s!==null&&!Zb(s,f)&&console.error(vN(`${s}`,"Progress"));const d=Zb(s,f)?s:null,p=sf(d)?c(d,f):void 0;return b.jsx(pN,{scope:n,value:d,max:f,children:b.jsx($t.div,{"aria-valuemax":f,"aria-valuemin":0,"aria-valuenow":sf(d)?d:void 0,"aria-valuetext":p,role:"progressbar","data-state":Uw(d,f),"data-value":d??void 0,"data-max":f,...u,ref:e})})});kw.displayName=Ty;var jw="ProgressIndicator",Lw=T.forwardRef((t,e)=>{const{__scopeProgress:n,...s}=t,a=mN(jw,n);return b.jsx($t.div,{"data-state":Uw(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:e})});Lw.displayName=jw;function yN(t,e){return`${Math.round(t/e*100)}%`}function Uw(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function sf(t){return typeof t=="number"}function Qb(t){return sf(t)&&!isNaN(t)&&t>0}function Zb(t,e){return sf(t)&&!isNaN(t)&&t<=e&&t>=0}function gN(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ry}\`.`}function vN(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ry} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Iw=kw,xN=Lw;const zw=T.forwardRef(({className:t,value:e,...n},s)=>b.jsx(Iw,{ref:s,className:Yt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:b.jsx(xN,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));zw.displayName=Iw.displayName;function bN({timeRemaining:t,totalTime:e,variant:n="default"}){const s=t/e*100,a=s<25;return b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[b.jsx(l_,{className:`w-4 h-4 ${a?"text-accent animate-pulse":"text-muted-foreground"}`}),b.jsxs("span",{className:a?"text-accent font-bold":"",children:[Math.max(0,Math.ceil(t)),"s"]})]}),b.jsxs("span",{className:"text-xs text-muted-foreground",children:["/ ",e,"s"]})]}),b.jsx(zw,{value:s,className:`h-2 ${a?"animate-pulse":""}`,"data-testid":"progress-timer"})]})}const SN={BASE_URL:"/music-showdown/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};async function _N(){const t="AIzaSyBo_-vy2fUDR_isXL4llWGOJJImxvsmYbU";return console.log("@@@ import.meta.env",SN),t}let vu=null;async function wN(t){if(vu===null&&(vu=await _N()),!vu)throw console.error("YouTube API key not configured"),new Error("YouTube API key not configured. Please add VITE_YOUTUBE_API_KEY to your environment.");const e=new URLSearchParams({part:"snippet",q:t,type:"video",maxResults:"12",videoEmbeddable:"true",videoCategoryId:"10",key:vu}),n=await fetch(`https://www.googleapis.com/youtube/v3/search?${e.toString()}`);if(!n.ok)throw new Error("Failed to search YouTube");return(await n.json()).items?.map(a=>({id:a.id?.videoId||"",title:a.snippet?.title||"",thumbnail:a.snippet?.thumbnails?.medium?.url||"",channelTitle:a.snippet?.channelTitle||""}))||[]}function CN(t,e){return T.useReducer((n,s)=>e[n][s]??n,t)}var Ay="ScrollArea",[Bw]=Pi(Ay),[EN,Ir]=Bw(Ay),Hw=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:s="hover",dir:a,scrollHideDelay:c=600,...u}=t,[f,d]=T.useState(null),[p,y]=T.useState(null),[g,v]=T.useState(null),[S,w]=T.useState(null),[E,M]=T.useState(null),[P,D]=T.useState(0),[k,j]=T.useState(0),[F,J]=T.useState(!1),[Y,G]=T.useState(!1),me=ln(e,we=>d(we)),be=iw(a);return b.jsx(EN,{scope:n,type:s,dir:be,scrollHideDelay:c,scrollArea:f,viewport:p,onViewportChange:y,content:g,onContentChange:v,scrollbarX:S,onScrollbarXChange:w,scrollbarXEnabled:F,onScrollbarXEnabledChange:J,scrollbarY:E,onScrollbarYChange:M,scrollbarYEnabled:Y,onScrollbarYEnabledChange:G,onCornerWidthChange:D,onCornerHeightChange:j,children:b.jsx($t.div,{dir:be,...u,ref:me,style:{position:"relative","--radix-scroll-area-corner-width":P+"px","--radix-scroll-area-corner-height":k+"px",...t.style}})})});Hw.displayName=Ay;var $w="ScrollAreaViewport",Vw=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:s,nonce:a,...c}=t,u=Ir($w,n),f=T.useRef(null),d=ln(e,f,u.onViewportChange);return b.jsxs(b.Fragment,{children:[b.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),b.jsx($t.div,{"data-radix-scroll-area-viewport":"",...c,ref:d,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...t.style},children:b.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});Vw.displayName=$w;var xs="ScrollAreaScrollbar",Oy=T.forwardRef((t,e)=>{const{forceMount:n,...s}=t,a=Ir(xs,t.__scopeScrollArea),{onScrollbarXEnabledChange:c,onScrollbarYEnabledChange:u}=a,f=t.orientation==="horizontal";return T.useEffect(()=>(f?c(!0):u(!0),()=>{f?c(!1):u(!1)}),[f,c,u]),a.type==="hover"?b.jsx(TN,{...s,ref:e,forceMount:n}):a.type==="scroll"?b.jsx(RN,{...s,ref:e,forceMount:n}):a.type==="auto"?b.jsx(qw,{...s,ref:e,forceMount:n}):a.type==="always"?b.jsx(My,{...s,ref:e}):null});Oy.displayName=xs;var TN=T.forwardRef((t,e)=>{const{forceMount:n,...s}=t,a=Ir(xs,t.__scopeScrollArea),[c,u]=T.useState(!1);return T.useEffect(()=>{const f=a.scrollArea;let d=0;if(f){const p=()=>{window.clearTimeout(d),u(!0)},y=()=>{d=window.setTimeout(()=>u(!1),a.scrollHideDelay)};return f.addEventListener("pointerenter",p),f.addEventListener("pointerleave",y),()=>{window.clearTimeout(d),f.removeEventListener("pointerenter",p),f.removeEventListener("pointerleave",y)}}},[a.scrollArea,a.scrollHideDelay]),b.jsx(da,{present:n||c,children:b.jsx(qw,{"data-state":c?"visible":"hidden",...s,ref:e})})}),RN=T.forwardRef((t,e)=>{const{forceMount:n,...s}=t,a=Ir(xs,t.__scopeScrollArea),c=t.orientation==="horizontal",u=If(()=>d("SCROLL_END"),100),[f,d]=CN("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return T.useEffect(()=>{if(f==="idle"){const p=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(p)}},[f,a.scrollHideDelay,d]),T.useEffect(()=>{const p=a.viewport,y=c?"scrollLeft":"scrollTop";if(p){let g=p[y];const v=()=>{const S=p[y];g!==S&&(d("SCROLL"),u()),g=S};return p.addEventListener("scroll",v),()=>p.removeEventListener("scroll",v)}},[a.viewport,c,d,u]),b.jsx(da,{present:n||f!=="hidden",children:b.jsx(My,{"data-state":f==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:It(t.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:It(t.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),qw=T.forwardRef((t,e)=>{const n=Ir(xs,t.__scopeScrollArea),{forceMount:s,...a}=t,[c,u]=T.useState(!1),f=t.orientation==="horizontal",d=If(()=>{if(n.viewport){const p=n.viewport.offsetWidth<n.viewport.scrollWidth,y=n.viewport.offsetHeight<n.viewport.scrollHeight;u(f?p:y)}},10);return oo(n.viewport,d),oo(n.content,d),b.jsx(da,{present:s||c,children:b.jsx(My,{"data-state":c?"visible":"hidden",...a,ref:e})})}),My=T.forwardRef((t,e)=>{const{orientation:n="vertical",...s}=t,a=Ir(xs,t.__scopeScrollArea),c=T.useRef(null),u=T.useRef(0),[f,d]=T.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),p=Xw(f.viewport,f.content),y={...s,sizes:f,onSizesChange:d,hasThumb:p>0&&p<1,onThumbChange:v=>c.current=v,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:v=>u.current=v};function g(v,S){return DN(v,u.current,f,S)}return n==="horizontal"?b.jsx(AN,{...y,ref:e,onThumbPositionChange:()=>{if(a.viewport&&c.current){const v=a.viewport.scrollLeft,S=Jb(v,f,a.dir);c.current.style.transform=`translate3d(${S}px, 0, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollLeft=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollLeft=g(v,a.dir))}}):n==="vertical"?b.jsx(ON,{...y,ref:e,onThumbPositionChange:()=>{if(a.viewport&&c.current){const v=a.viewport.scrollTop,S=Jb(v,f);c.current.style.transform=`translate3d(0, ${S}px, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollTop=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollTop=g(v))}}):null}),AN=T.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...a}=t,c=Ir(xs,t.__scopeScrollArea),[u,f]=T.useState(),d=T.useRef(null),p=ln(e,d,c.onScrollbarXChange);return T.useEffect(()=>{d.current&&f(getComputedStyle(d.current))},[d]),b.jsx(Yw,{"data-orientation":"horizontal",...a,ref:p,sizes:n,style:{bottom:0,left:c.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:c.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Uf(n)+"px",...t.style},onThumbPointerDown:y=>t.onThumbPointerDown(y.x),onDragScroll:y=>t.onDragScroll(y.x),onWheelScroll:(y,g)=>{if(c.viewport){const v=c.viewport.scrollLeft+y.deltaX;t.onWheelScroll(v),Zw(v,g)&&y.preventDefault()}},onResize:()=>{d.current&&c.viewport&&u&&s({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:of(u.paddingLeft),paddingEnd:of(u.paddingRight)}})}})}),ON=T.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...a}=t,c=Ir(xs,t.__scopeScrollArea),[u,f]=T.useState(),d=T.useRef(null),p=ln(e,d,c.onScrollbarYChange);return T.useEffect(()=>{d.current&&f(getComputedStyle(d.current))},[d]),b.jsx(Yw,{"data-orientation":"vertical",...a,ref:p,sizes:n,style:{top:0,right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Uf(n)+"px",...t.style},onThumbPointerDown:y=>t.onThumbPointerDown(y.y),onDragScroll:y=>t.onDragScroll(y.y),onWheelScroll:(y,g)=>{if(c.viewport){const v=c.viewport.scrollTop+y.deltaY;t.onWheelScroll(v),Zw(v,g)&&y.preventDefault()}},onResize:()=>{d.current&&c.viewport&&u&&s({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:of(u.paddingTop),paddingEnd:of(u.paddingBottom)}})}})}),[MN,Fw]=Bw(xs),Yw=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:a,onThumbChange:c,onThumbPointerUp:u,onThumbPointerDown:f,onThumbPositionChange:d,onDragScroll:p,onWheelScroll:y,onResize:g,...v}=t,S=Ir(xs,n),[w,E]=T.useState(null),M=ln(e,me=>E(me)),P=T.useRef(null),D=T.useRef(""),k=S.viewport,j=s.content-s.viewport,F=Kn(y),J=Kn(d),Y=If(g,10);function G(me){if(P.current){const be=me.clientX-P.current.left,we=me.clientY-P.current.top;p({x:be,y:we})}}return T.useEffect(()=>{const me=be=>{const we=be.target;w?.contains(we)&&F(be,j)};return document.addEventListener("wheel",me,{passive:!1}),()=>document.removeEventListener("wheel",me,{passive:!1})},[k,w,j,F]),T.useEffect(J,[s,J]),oo(w,Y),oo(S.content,Y),b.jsx(MN,{scope:n,scrollbar:w,hasThumb:a,onThumbChange:Kn(c),onThumbPointerUp:Kn(u),onThumbPositionChange:J,onThumbPointerDown:Kn(f),children:b.jsx($t.div,{...v,ref:M,style:{position:"absolute",...v.style},onPointerDown:It(t.onPointerDown,me=>{me.button===0&&(me.target.setPointerCapture(me.pointerId),P.current=w.getBoundingClientRect(),D.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",S.viewport&&(S.viewport.style.scrollBehavior="auto"),G(me))}),onPointerMove:It(t.onPointerMove,G),onPointerUp:It(t.onPointerUp,me=>{const be=me.target;be.hasPointerCapture(me.pointerId)&&be.releasePointerCapture(me.pointerId),document.body.style.webkitUserSelect=D.current,S.viewport&&(S.viewport.style.scrollBehavior=""),P.current=null})})})}),af="ScrollAreaThumb",Gw=T.forwardRef((t,e)=>{const{forceMount:n,...s}=t,a=Fw(af,t.__scopeScrollArea);return b.jsx(da,{present:n||a.hasThumb,children:b.jsx(PN,{ref:e,...s})})}),PN=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:s,...a}=t,c=Ir(af,n),u=Fw(af,n),{onThumbPositionChange:f}=u,d=ln(e,g=>u.onThumbChange(g)),p=T.useRef(void 0),y=If(()=>{p.current&&(p.current(),p.current=void 0)},100);return T.useEffect(()=>{const g=c.viewport;if(g){const v=()=>{if(y(),!p.current){const S=kN(g,f);p.current=S,f()}};return f(),g.addEventListener("scroll",v),()=>g.removeEventListener("scroll",v)}},[c.viewport,y,f]),b.jsx($t.div,{"data-state":u.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:It(t.onPointerDownCapture,g=>{const S=g.target.getBoundingClientRect(),w=g.clientX-S.left,E=g.clientY-S.top;u.onThumbPointerDown({x:w,y:E})}),onPointerUp:It(t.onPointerUp,u.onThumbPointerUp)})});Gw.displayName=af;var Py="ScrollAreaCorner",Kw=T.forwardRef((t,e)=>{const n=Ir(Py,t.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?b.jsx(NN,{...t,ref:e}):null});Kw.displayName=Py;var NN=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,...s}=t,a=Ir(Py,n),[c,u]=T.useState(0),[f,d]=T.useState(0),p=!!(c&&f);return oo(a.scrollbarX,()=>{const y=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(y),d(y)}),oo(a.scrollbarY,()=>{const y=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(y),u(y)}),p?b.jsx($t.div,{...s,ref:e,style:{width:c,height:f,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function of(t){return t?parseInt(t,10):0}function Xw(t,e){const n=t/e;return isNaN(n)?0:n}function Uf(t){const e=Xw(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-n)*e;return Math.max(s,18)}function DN(t,e,n,s="ltr"){const a=Uf(n),c=a/2,u=e||c,f=a-u,d=n.scrollbar.paddingStart+u,p=n.scrollbar.size-n.scrollbar.paddingEnd-f,y=n.content-n.viewport,g=s==="ltr"?[0,y]:[y*-1,0];return Qw([d,p],g)(t)}function Jb(t,e,n="ltr"){const s=Uf(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,c=e.scrollbar.size-a,u=e.content-e.viewport,f=c-s,d=n==="ltr"?[0,u]:[u*-1,0],p=wy(t,d);return Qw([0,u],[0,f])(p)}function Qw(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function Zw(t,e){return t>0&&t<e}var kN=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},s=0;return(function a(){const c={left:t.scrollLeft,top:t.scrollTop},u=n.left!==c.left,f=n.top!==c.top;(u||f)&&e(),n=c,s=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(s)};function If(t,e){const n=Kn(t),s=T.useRef(0);return T.useEffect(()=>()=>window.clearTimeout(s.current),[]),T.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,e)},[n,e])}function oo(t,e){const n=Kn(e);Ur(()=>{let s=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return a.observe(t),()=>{window.cancelAnimationFrame(s),a.unobserve(t)}}},[t,n])}var Jw=Hw,jN=Vw,LN=Kw;const Ny=T.forwardRef(({className:t,children:e,...n},s)=>b.jsxs(Jw,{ref:s,className:Yt("relative overflow-hidden",t),...n,children:[b.jsx(jN,{className:"h-full w-full rounded-[inherit]",children:e}),b.jsx(Ww,{}),b.jsx(LN,{})]}));Ny.displayName=Jw.displayName;const Ww=T.forwardRef(({className:t,orientation:e="vertical",...n},s)=>b.jsx(Oy,{ref:s,orientation:e,className:Yt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-px",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-px",t),...n,children:b.jsx(Gw,{className:"relative flex-1 rounded-full bg-border"})}));Ww.displayName=Oy.displayName;function UN({onSelect:t,selectedVideoId:e}){const[n,s]=T.useState(""),[a,c]=T.useState([]),[u,f]=T.useState(!1),d=async()=>{if(n.trim()){f(!0);try{const p=await wN(n);c(p)}catch(p){console.error("Search failed:",p)}finally{f(!1)}}};return b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("div",{className:"relative flex-1",children:[b.jsx(f_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),b.jsx(Ys,{placeholder:"Search for a song...",value:n,onChange:p=>s(p.target.value),onKeyDown:p=>p.key==="Enter"&&d(),className:"pl-10","data-testid":"input-youtube-search"})]}),b.jsx(Pn,{onClick:d,disabled:u||!n.trim(),"data-testid":"button-search",children:u?b.jsx(dy,{className:"w-4 h-4 animate-spin"}):"Search"})]}),a.length>0&&b.jsx(Ny,{className:"h-[420px] rounded-lg border p-5",children:b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:a.map(p=>b.jsx(cn,{className:Yt("group cursor-pointer border transition-all hover:border-primary/40 hover:shadow-md",e===p.id?"border-primary bg-primary/10 shadow-sm ring-2 ring-primary":"border-border"),onClick:()=>t(p),"data-testid":`card-video-${p.id}`,children:b.jsxs(En,{className:"relative space-y-3 p-3",children:[b.jsx("img",{src:p.thumbnail,alt:p.title,className:"w-full aspect-video object-cover rounded-md mb-2"}),b.jsx("h3",{className:"font-semibold text-sm line-clamp-2 mb-1",children:p.title}),b.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1",children:p.channelTitle}),e===p.id&&b.jsxs("div",{className:"absolute right-3 top-3 flex items-center gap-1 rounded-full bg-primary/90 px-2 py-1 text-xs font-semibold text-primary-foreground",children:[b.jsx(PO,{className:"h-4 w-4"}),"Selected"]})]})},p.id))})})]})}function Sm({videoId:t,onReady:e,onEnd:n,autoplay:s=!0,startSeconds:a=0,endSeconds:c,preventPause:u=!1,timerProgress:f,interactive:d=!1}){const p=T.useRef(null),y=T.useRef(null);return T.useEffect(()=>{if(!window.YT){const v=document.createElement("script");v.src="https://www.youtube.com/iframe_api";const S=document.getElementsByTagName("script")[0];S.parentNode?.insertBefore(v,S)}const g=()=>{p.current&&window.YT&&window.YT.Player&&(y.current=new window.YT.Player(p.current,{videoId:t,playerVars:{autoplay:s?1:0,start:a,end:c,controls:d?1:0,disablekb:d?0:1,fs:0,modestbranding:1,rel:0,iv_load_policy:3},events:{onReady:v=>{s&&v.target.playVideo(),e?.(v.target)},onStateChange:v=>{if(u&&v.data===window.YT.PlayerState.PAUSED){v.target.playVideo();return}v.data===window.YT.PlayerState.ENDED&&n?.()}}}))};return window.YT&&window.YT.Player?g():window.onYouTubeIframeAPIReady=g,()=>{y.current&&y.current.destroy()}},[t,s,a,c,e,n,u,d]),b.jsxs("div",{className:"relative aspect-video w-full bg-black rounded-lg overflow-hidden",children:[b.jsx("div",{ref:p,className:d?"w-full h-full":"pointer-events-none w-full h-full","data-testid":"youtube-player"}),f!==void 0&&b.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-lg",style:{backgroundColor:`rgba(0,0,0,${1-.75*f})`}})]})}var Qi={};class IN{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const n of this._parts)e.push(n);return zN(e).buffer}}function zN(t){let e=0;for(const a of t)e+=a.byteLength;const n=new Uint8Array(e);let s=0;for(const a of t){const c=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);n.set(c,s),s+=a.byteLength}return n}function eC(t){return new BN(t).unpack()}function tC(t){const e=new HN,n=e.pack(t);return n instanceof Promise?n.then(()=>e.getBuffer()):e.getBuffer()}class BN{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let n;if((n=e^160)<=15)return this.unpack_raw(n);if((n=e^176)<=15)return this.unpack_string(n);if((n=e^144)<=15)return this.unpack_array(n);if((n=e^128)<=15)return this.unpack_map(n);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),n=(e[0]&255)*256+(e[1]&255);return this.index+=2,n}unpack_uint32(){const e=this.read(4),n=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,n}unpack_uint64(){const e=this.read(8),n=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,n}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,n}unpack_string(e){const n=this.read(e);let s=0,a="",c,u;for(;s<e;)c=n[s],c<160?(u=c,s++):(c^192)<32?(u=(c&31)<<6|n[s+1]&63,s+=2):(c^224)<16?(u=(c&15)<<12|(n[s+1]&63)<<6|n[s+2]&63,s+=3):(u=(c&7)<<18|(n[s+1]&63)<<12|(n[s+2]&63)<<6|n[s+3]&63,s+=4),a+=String.fromCodePoint(u);return this.index+=e,a}unpack_array(e){const n=new Array(e);for(let s=0;s<e;s++)n[s]=this.unpack();return n}unpack_map(e){const n={};for(let s=0;s<e;s++){const a=this.unpack();n[a]=this.unpack()}return n}unpack_float(){const e=this.unpack_uint32(),n=e>>31,s=(e>>23&255)-127,a=e&8388607|8388608;return(n===0?1:-1)*a*2**(s-23)}unpack_double(){const e=this.unpack_uint32(),n=this.unpack_uint32(),s=e>>31,a=(e>>20&2047)-1023,u=(e&1048575|1048576)*2**(a-20)+n*2**(a-52);return(s===0?1:-1)*u}read(e){const n=this.index;if(n+e<=this.length)return this.dataView.subarray(n,n+e);throw new Error("BinaryPackFailure: read index out of range")}}class HN{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const n=e.constructor;if(e instanceof Array){const s=this.pack_array(e);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const s=e;this.pack_bin(new Uint8Array(s.buffer,s.byteOffset,s.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(s=>{this.pack_bin(new Uint8Array(s)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const s=this.pack_object(e);if(s instanceof Promise)return s.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const n=e.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const n=this._textEncoder.encode(e),s=n.length;if(s<=15)this.pack_uint8(176+s);else if(s<=65535)this._bufferBuilder.append(216),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(s);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(e){const n=e.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const s=a=>{if(a<n){const c=this.pack(e[a]);return c instanceof Promise?c.then(()=>s(a+1)):s(a+1)}};return s(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let n=0;e<0&&(n=1,e=-e);const s=Math.floor(Math.log(e)/Math.LN2),a=e/2**s-1,c=Math.floor(a*2**52),u=2**32,f=n<<31|s+1023<<20|c/u&1048575,d=c%u;this._bufferBuilder.append(203),this.pack_int32(f),this.pack_int32(d)}pack_object(e){const n=Object.keys(e),s=n.length;if(s<=15)this.pack_uint8(128+s);else if(s<=65535)this._bufferBuilder.append(222),this.pack_uint16(s);else if(s<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(s);else throw new Error("Invalid length");const a=c=>{if(c<n.length){const u=n[c];if(e.hasOwnProperty(u)){this.pack(u);const f=this.pack(e[u]);if(f instanceof Promise)return f.then(()=>a(c+1))}return a(c+1)}};return a(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const n=e&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(e){const n=e/4294967296,s=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const n=Math.floor(e/4294967296),s=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((s&4278190080)>>>24),this._bufferBuilder.append((s&16711680)>>>16),this._bufferBuilder.append((s&65280)>>>8),this._bufferBuilder.append(s&255)}constructor(){this._bufferBuilder=new IN,this._textEncoder=new TextEncoder}}let nC=!0,rC=!0;function Sc(t,e,n){const s=t.match(e);return s&&s.length>=n&&parseFloat(s[n],10)}function ha(t,e,n){if(!t.RTCPeerConnection)return;const s=t.RTCPeerConnection.prototype,a=s.addEventListener;s.addEventListener=function(u,f){if(u!==e)return a.apply(this,arguments);const d=p=>{const y=n(p);y&&(f.handleEvent?f.handleEvent(y):f(y))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(f,d),a.apply(this,[u,d])};const c=s.removeEventListener;s.removeEventListener=function(u,f){if(u!==e||!this._eventMap||!this._eventMap[e])return c.apply(this,arguments);if(!this._eventMap[e].has(f))return c.apply(this,arguments);const d=this._eventMap[e].get(f);return this._eventMap[e].delete(f),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,c.apply(this,[u,d])},Object.defineProperty(s,"on"+e,{get(){return this["_on"+e]},set(u){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),u&&this.addEventListener(e,this["_on"+e]=u)},enumerable:!0,configurable:!0})}function $N(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(nC=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function VN(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(rC=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function sC(){if(typeof window=="object"){if(nC)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Dy(t,e){rC&&console.warn(t+" is deprecated, please use "+e+" instead.")}function qN(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.userAgentData&&n.userAgentData.brands){const s=n.userAgentData.brands.find(a=>a.brand==="Chromium");if(s)return{browser:"chrome",version:parseInt(s.version,10)}}if(n.mozGetUserMedia)e.browser="firefox",e.version=parseInt(Sc(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(Sc(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(Sc(n.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype,e._safariVersion=Sc(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function Wb(t){return Object.prototype.toString.call(t)==="[object Object]"}function iC(t){return Wb(t)?Object.keys(t).reduce(function(e,n){const s=Wb(t[n]),a=s?iC(t[n]):t[n],c=s&&!Object.keys(a).length;return a===void 0||c?e:Object.assign(e,{[n]:a})},{}):t}function _m(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(s=>{s.endsWith("Id")?_m(t,t.get(e[s]),n):s.endsWith("Ids")&&e[s].forEach(a=>{_m(t,t.get(a),n)})}))}function e1(t,e,n){const s=n?"outbound-rtp":"inbound-rtp",a=new Map;if(e===null)return a;const c=[];return t.forEach(u=>{u.type==="track"&&u.trackIdentifier===e.id&&c.push(u)}),c.forEach(u=>{t.forEach(f=>{f.type===s&&f.trackId===u.id&&_m(t,f,a)})}),a}const t1=sC;function aC(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const s=function(f){if(typeof f!="object"||f.mandatory||f.optional)return f;const d={};return Object.keys(f).forEach(p=>{if(p==="require"||p==="advanced"||p==="mediaSource")return;const y=typeof f[p]=="object"?f[p]:{ideal:f[p]};y.exact!==void 0&&typeof y.exact=="number"&&(y.min=y.max=y.exact);const g=function(v,S){return v?v+S.charAt(0).toUpperCase()+S.slice(1):S==="deviceId"?"sourceId":S};if(y.ideal!==void 0){d.optional=d.optional||[];let v={};typeof y.ideal=="number"?(v[g("min",p)]=y.ideal,d.optional.push(v),v={},v[g("max",p)]=y.ideal,d.optional.push(v)):(v[g("",p)]=y.ideal,d.optional.push(v))}y.exact!==void 0&&typeof y.exact!="number"?(d.mandatory=d.mandatory||{},d.mandatory[g("",p)]=y.exact):["min","max"].forEach(v=>{y[v]!==void 0&&(d.mandatory=d.mandatory||{},d.mandatory[g(v,p)]=y[v])})}),f.advanced&&(d.optional=(d.optional||[]).concat(f.advanced)),d},a=function(f,d){if(e.version>=61)return d(f);if(f=JSON.parse(JSON.stringify(f)),f&&typeof f.audio=="object"){const p=function(y,g,v){g in y&&!(v in y)&&(y[v]=y[g],delete y[g])};f=JSON.parse(JSON.stringify(f)),p(f.audio,"autoGainControl","googAutoGainControl"),p(f.audio,"noiseSuppression","googNoiseSuppression"),f.audio=s(f.audio)}if(f&&typeof f.video=="object"){let p=f.video.facingMode;p=p&&(typeof p=="object"?p:{ideal:p});const y=e.version<66;if(p&&(p.exact==="user"||p.exact==="environment"||p.ideal==="user"||p.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!y)){delete f.video.facingMode;let g;if(p.exact==="environment"||p.ideal==="environment"?g=["back","rear"]:(p.exact==="user"||p.ideal==="user")&&(g=["front"]),g)return n.mediaDevices.enumerateDevices().then(v=>{v=v.filter(w=>w.kind==="videoinput");let S=v.find(w=>g.some(E=>w.label.toLowerCase().includes(E)));return!S&&v.length&&g.includes("back")&&(S=v[v.length-1]),S&&(f.video.deviceId=p.exact?{exact:S.deviceId}:{ideal:S.deviceId}),f.video=s(f.video),t1("chrome: "+JSON.stringify(f)),d(f)})}f.video=s(f.video)}return t1("chrome: "+JSON.stringify(f)),d(f)},c=function(f){return e.version>=64?f:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[f.name]||f.name,message:f.message,constraint:f.constraint||f.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},u=function(f,d,p){a(f,y=>{n.webkitGetUserMedia(y,d,g=>{p&&p(c(g))})})};if(n.getUserMedia=u.bind(n),n.mediaDevices.getUserMedia){const f=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(d){return a(d,p=>f(p).then(y=>{if(p.audio&&!y.getAudioTracks().length||p.video&&!y.getVideoTracks().length)throw y.getTracks().forEach(g=>{g.stop()}),new DOMException("","NotFoundError");return y},y=>Promise.reject(c(y))))}}}function oC(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function cC(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=s=>{s.stream.addEventListener("addtrack",a=>{let c;t.RTCPeerConnection.prototype.getReceivers?c=this.getReceivers().find(f=>f.track&&f.track.id===a.track.id):c={track:a.track};const u=new Event("track");u.track=a.track,u.receiver=c,u.transceiver={receiver:c},u.streams=[s.stream],this.dispatchEvent(u)}),s.stream.getTracks().forEach(a=>{let c;t.RTCPeerConnection.prototype.getReceivers?c=this.getReceivers().find(f=>f.track&&f.track.id===a.id):c={track:a};const u=new Event("track");u.track=a,u.receiver=c,u.transceiver={receiver:c},u.streams=[s.stream],this.dispatchEvent(u)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else ha(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function lC(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(a,c){return{track:c,get dtmf(){return this._dtmf===void 0&&(c.kind==="audio"?this._dtmf=a.createDTMFSender(c):this._dtmf=null),this._dtmf},_pc:a}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const a=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(f,d){let p=a.apply(this,arguments);return p||(p=e(this,f),this._senders.push(p)),p};const c=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(f){c.apply(this,arguments);const d=this._senders.indexOf(f);d!==-1&&this._senders.splice(d,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(c){this._senders=this._senders||[],n.apply(this,[c]),c.getTracks().forEach(u=>{this._senders.push(e(this,u))})};const s=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(c){this._senders=this._senders||[],s.apply(this,[c]),c.getTracks().forEach(u=>{const f=this._senders.find(d=>d.track===u);f&&this._senders.splice(this._senders.indexOf(f),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const s=e.apply(this,[]);return s.forEach(a=>a._pc=this),s},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function uC(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const c=n.apply(this,[]);return c.forEach(u=>u._pc=this),c});const s=t.RTCPeerConnection.prototype.addTrack;s&&(t.RTCPeerConnection.prototype.addTrack=function(){const c=s.apply(this,arguments);return c._pc=this,c}),t.RTCRtpSender.prototype.getStats=function(){const c=this;return this._pc.getStats().then(u=>e1(u,c.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const a=n.apply(this,[]);return a.forEach(c=>c._pc=this),a}),ha(t,"track",s=>(s.receiver._pc=s.srcElement,s)),t.RTCRtpReceiver.prototype.getStats=function(){const a=this;return this._pc.getStats().then(c=>e1(c,a.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const s=arguments[0];let a,c,u;return this.getSenders().forEach(f=>{f.track===s&&(a?u=!0:a=f)}),this.getReceivers().forEach(f=>(f.track===s&&(c?u=!0:c=f),f.track===s)),u||a&&c?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):a?a.getStats():c?c.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function fC(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(u=>this._shimmedLocalStreams[u][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(u,f){if(!f)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const d=e.apply(this,arguments);return this._shimmedLocalStreams[f.id]?this._shimmedLocalStreams[f.id].indexOf(d)===-1&&this._shimmedLocalStreams[f.id].push(d):this._shimmedLocalStreams[f.id]=[f,d],d};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(u){this._shimmedLocalStreams=this._shimmedLocalStreams||{},u.getTracks().forEach(p=>{if(this.getSenders().find(g=>g.track===p))throw new DOMException("Track already exists.","InvalidAccessError")});const f=this.getSenders();n.apply(this,arguments);const d=this.getSenders().filter(p=>f.indexOf(p)===-1);this._shimmedLocalStreams[u.id]=[u].concat(d)};const s=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(u){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[u.id],s.apply(this,arguments)};const a=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(u){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},u&&Object.keys(this._shimmedLocalStreams).forEach(f=>{const d=this._shimmedLocalStreams[f].indexOf(u);d!==-1&&this._shimmedLocalStreams[f].splice(d,1),this._shimmedLocalStreams[f].length===1&&delete this._shimmedLocalStreams[f]}),a.apply(this,arguments)}}function dC(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return fC(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const y=n.apply(this);return this._reverseStreams=this._reverseStreams||{},y.map(g=>this._reverseStreams[g.id])};const s=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(y){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},y.getTracks().forEach(g=>{if(this.getSenders().find(S=>S.track===g))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[y.id]){const g=new t.MediaStream(y.getTracks());this._streams[y.id]=g,this._reverseStreams[g.id]=y,y=g}s.apply(this,[y])};const a=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(y){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},a.apply(this,[this._streams[y.id]||y]),delete this._reverseStreams[this._streams[y.id]?this._streams[y.id].id:y.id],delete this._streams[y.id]},t.RTCPeerConnection.prototype.addTrack=function(y,g){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const v=[].slice.call(arguments,1);if(v.length!==1||!v[0].getTracks().find(E=>E===y))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(E=>E.track===y))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const w=this._streams[g.id];if(w)w.addTrack(y),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const E=new t.MediaStream([y]);this._streams[g.id]=E,this._reverseStreams[E.id]=g,this.addStream(E)}return this.getSenders().find(E=>E.track===y)};function c(p,y){let g=y.sdp;return Object.keys(p._reverseStreams||[]).forEach(v=>{const S=p._reverseStreams[v],w=p._streams[S.id];g=g.replace(new RegExp(w.id,"g"),S.id)}),new RTCSessionDescription({type:y.type,sdp:g})}function u(p,y){let g=y.sdp;return Object.keys(p._reverseStreams||[]).forEach(v=>{const S=p._reverseStreams[v],w=p._streams[S.id];g=g.replace(new RegExp(S.id,"g"),w.id)}),new RTCSessionDescription({type:y.type,sdp:g})}["createOffer","createAnswer"].forEach(function(p){const y=t.RTCPeerConnection.prototype[p],g={[p](){const v=arguments;return arguments.length&&typeof arguments[0]=="function"?y.apply(this,[w=>{const E=c(this,w);v[0].apply(null,[E])},w=>{v[1]&&v[1].apply(null,w)},arguments[2]]):y.apply(this,arguments).then(w=>c(this,w))}};t.RTCPeerConnection.prototype[p]=g[p]});const f=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?f.apply(this,arguments):(arguments[0]=u(this,arguments[0]),f.apply(this,arguments))};const d=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const p=d.get.apply(this);return p.type===""?p:c(this,p)}}),t.RTCPeerConnection.prototype.removeTrack=function(y){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!y._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(y._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let v;Object.keys(this._streams).forEach(S=>{this._streams[S].getTracks().find(E=>y.track===E)&&(v=this._streams[S])}),v&&(v.getTracks().length===1?this.removeStream(this._reverseStreams[v.id]):v.removeTrack(y.track),this.dispatchEvent(new Event("negotiationneeded")))}}function wm(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const s=t.RTCPeerConnection.prototype[n],a={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=a[n]})}function hC(t,e){ha(t,"negotiationneeded",n=>{const s=n.target;if(!((e.version<72||s.getConfiguration&&s.getConfiguration().sdpSemantics==="plan-b")&&s.signalingState!=="stable"))return n})}const n1=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:hC,shimAddTrackRemoveTrack:dC,shimAddTrackRemoveTrackWithNative:fC,shimGetSendersWithDtmf:lC,shimGetUserMedia:aC,shimMediaStream:oC,shimOnTrack:cC,shimPeerConnection:wm,shimSenderReceiverGetStats:uC},Symbol.toStringTag,{value:"Module"}));function pC(t,e){const n=t&&t.navigator,s=t&&t.MediaStreamTrack;if(n.getUserMedia=function(a,c,u){Dy("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(a).then(c,u)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const a=function(u,f,d){f in u&&!(d in u)&&(u[d]=u[f],delete u[f])},c=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(u){return typeof u=="object"&&typeof u.audio=="object"&&(u=JSON.parse(JSON.stringify(u)),a(u.audio,"autoGainControl","mozAutoGainControl"),a(u.audio,"noiseSuppression","mozNoiseSuppression")),c(u)},s&&s.prototype.getSettings){const u=s.prototype.getSettings;s.prototype.getSettings=function(){const f=u.apply(this,arguments);return a(f,"mozAutoGainControl","autoGainControl"),a(f,"mozNoiseSuppression","noiseSuppression"),f}}if(s&&s.prototype.applyConstraints){const u=s.prototype.applyConstraints;s.prototype.applyConstraints=function(f){return this.kind==="audio"&&typeof f=="object"&&(f=JSON.parse(JSON.stringify(f)),a(f,"autoGainControl","mozAutoGainControl"),a(f,"noiseSuppression","mozNoiseSuppression")),u.apply(this,[f])}}}}function FN(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(s){if(!(s&&s.video)){const a=new DOMException("getDisplayMedia without video constraints is undefined");return a.name="NotFoundError",a.code=8,Promise.reject(a)}return s.video===!0?s.video={mediaSource:e}:s.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(s)})}function mC(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Cm(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(a){const c=t.RTCPeerConnection.prototype[a],u={[a](){return arguments[0]=new(a==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),c.apply(this,arguments)}};t.RTCPeerConnection.prototype[a]=u[a]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},s=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[c,u,f]=arguments;return s.apply(this,[c||null]).then(d=>{if(e.version<53&&!u)try{d.forEach(p=>{p.type=n[p.type]||p.type})}catch(p){if(p.name!=="TypeError")throw p;d.forEach((y,g)=>{d.set(g,Object.assign({},y,{type:n[y.type]||y.type}))})}return d}).then(u,f)}}function yC(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const a=e.apply(this,[]);return a.forEach(c=>c._pc=this),a});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const a=n.apply(this,arguments);return a._pc=this,a}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function gC(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const s=e.apply(this,[]);return s.forEach(a=>a._pc=this),s}),ha(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function vC(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){Dy("removeStream","removeTrack"),this.getSenders().forEach(s=>{s.track&&n.getTracks().includes(s.track)&&this.removeTrack(s)})})}function xC(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function bC(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let s=arguments[1]&&arguments[1].sendEncodings;s===void 0&&(s=[]),s=[...s];const a=s.length>0;a&&s.forEach(u=>{if("rid"in u&&!/^[a-z0-9]{0,16}$/i.test(u.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in u&&!(parseFloat(u.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in u&&!(parseFloat(u.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const c=e.apply(this,arguments);if(a){const{sender:u}=c,f=u.getParameters();(!("encodings"in f)||f.encodings.length===1&&Object.keys(f.encodings[0]).length===0)&&(f.encodings=s,u.sendEncodings=s,this.setParametersPromises.push(u.setParameters(f).then(()=>{delete u.sendEncodings}).catch(()=>{delete u.sendEncodings})))}return c})}function SC(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const s=e.apply(this,arguments);return"encodings"in s||(s.encodings=[].concat(this.sendEncodings||[{}])),s})}function _C(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function wC(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const r1=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:bC,shimCreateAnswer:wC,shimCreateOffer:_C,shimGetDisplayMedia:FN,shimGetParameters:SC,shimGetUserMedia:pC,shimOnTrack:mC,shimPeerConnection:Cm,shimRTCDataChannel:xC,shimReceiverGetStats:gC,shimRemoveStream:vC,shimSenderGetStats:yC},Symbol.toStringTag,{value:"Module"}));function CC(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(s){this._localStreams||(this._localStreams=[]),this._localStreams.includes(s)||this._localStreams.push(s),s.getAudioTracks().forEach(a=>e.call(this,a,s)),s.getVideoTracks().forEach(a=>e.call(this,a,s))},t.RTCPeerConnection.prototype.addTrack=function(s,...a){return a&&a.forEach(c=>{this._localStreams?this._localStreams.includes(c)||this._localStreams.push(c):this._localStreams=[c]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const s=this._localStreams.indexOf(n);if(s===-1)return;this._localStreams.splice(s,1);const a=n.getTracks();this.getSenders().forEach(c=>{a.includes(c.track)&&this.removeTrack(c)})})}}function EC(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=s=>{s.streams.forEach(a=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(a))return;this._remoteStreams.push(a);const c=new Event("addstream");c.stream=a,this.dispatchEvent(c)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const s=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(a){a.streams.forEach(c=>{if(s._remoteStreams||(s._remoteStreams=[]),s._remoteStreams.indexOf(c)>=0)return;s._remoteStreams.push(c);const u=new Event("addstream");u.stream=c,s.dispatchEvent(u)})}),e.apply(s,arguments)}}}function TC(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,s=e.createAnswer,a=e.setLocalDescription,c=e.setRemoteDescription,u=e.addIceCandidate;e.createOffer=function(p,y){const g=arguments.length>=2?arguments[2]:arguments[0],v=n.apply(this,[g]);return y?(v.then(p,y),Promise.resolve()):v},e.createAnswer=function(p,y){const g=arguments.length>=2?arguments[2]:arguments[0],v=s.apply(this,[g]);return y?(v.then(p,y),Promise.resolve()):v};let f=function(d,p,y){const g=a.apply(this,[d]);return y?(g.then(p,y),Promise.resolve()):g};e.setLocalDescription=f,f=function(d,p,y){const g=c.apply(this,[d]);return y?(g.then(p,y),Promise.resolve()):g},e.setRemoteDescription=f,f=function(d,p,y){const g=u.apply(this,[d]);return y?(g.then(p,y),Promise.resolve()):g},e.addIceCandidate=f}function RC(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,s=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=a=>s(AC(a))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(s,a,c){e.mediaDevices.getUserMedia(s).then(a,c)}).bind(e))}function AC(t){return t&&t.video!==void 0?Object.assign({},t,{video:iC(t.video)}):t}function OC(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(s,a){if(s&&s.iceServers){const c=[];for(let u=0;u<s.iceServers.length;u++){let f=s.iceServers[u];f.urls===void 0&&f.url?(Dy("RTCIceServer.url","RTCIceServer.urls"),f=JSON.parse(JSON.stringify(f)),f.urls=f.url,delete f.url,c.push(f)):c.push(s.iceServers[u])}s.iceServers=c}return new e(s,a)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function MC(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function PC(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(s){if(s){typeof s.offerToReceiveAudio<"u"&&(s.offerToReceiveAudio=!!s.offerToReceiveAudio);const a=this.getTransceivers().find(u=>u.receiver.track.kind==="audio");s.offerToReceiveAudio===!1&&a?a.direction==="sendrecv"?a.setDirection?a.setDirection("sendonly"):a.direction="sendonly":a.direction==="recvonly"&&(a.setDirection?a.setDirection("inactive"):a.direction="inactive"):s.offerToReceiveAudio===!0&&!a&&this.addTransceiver("audio",{direction:"recvonly"}),typeof s.offerToReceiveVideo<"u"&&(s.offerToReceiveVideo=!!s.offerToReceiveVideo);const c=this.getTransceivers().find(u=>u.receiver.track.kind==="video");s.offerToReceiveVideo===!1&&c?c.direction==="sendrecv"?c.setDirection?c.setDirection("sendonly"):c.direction="sendonly":c.direction==="recvonly"&&(c.setDirection?c.setDirection("inactive"):c.direction="inactive"):s.offerToReceiveVideo===!0&&!c&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function NC(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const s1=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:NC,shimCallbacksAPI:TC,shimConstraints:AC,shimCreateOfferLegacy:PC,shimGetUserMedia:RC,shimLocalStreamsAPI:CC,shimRTCIceServerUrls:OC,shimRemoteStreamsAPI:EC,shimTrackEventTransceiver:MC},Symbol.toStringTag,{value:"Module"}));var wp={exports:{}},i1;function YN(){return i1||(i1=1,(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(s=>s.trim())},e.splitSections=function(n){return n.split(`
m=`).map((a,c)=>(c>0?"m="+a:a).trim()+`\r
`)},e.getDescription=function(n){const s=e.splitSections(n);return s&&s[0]},e.getMediaSections=function(n){const s=e.splitSections(n);return s.shift(),s},e.matchPrefix=function(n,s){return e.splitLines(n).filter(a=>a.indexOf(s)===0)},e.parseCandidate=function(n){let s;n.indexOf("a=candidate:")===0?s=n.substring(12).split(" "):s=n.substring(10).split(" ");const a={foundation:s[0],component:{1:"rtp",2:"rtcp"}[s[1]]||s[1],protocol:s[2].toLowerCase(),priority:parseInt(s[3],10),ip:s[4],address:s[4],port:parseInt(s[5],10),type:s[7]};for(let c=8;c<s.length;c+=2)switch(s[c]){case"raddr":a.relatedAddress=s[c+1];break;case"rport":a.relatedPort=parseInt(s[c+1],10);break;case"tcptype":a.tcpType=s[c+1];break;case"ufrag":a.ufrag=s[c+1],a.usernameFragment=s[c+1];break;default:a[s[c]]===void 0&&(a[s[c]]=s[c+1]);break}return a},e.writeCandidate=function(n){const s=[];s.push(n.foundation);const a=n.component;a==="rtp"?s.push(1):a==="rtcp"?s.push(2):s.push(a),s.push(n.protocol.toUpperCase()),s.push(n.priority),s.push(n.address||n.ip),s.push(n.port);const c=n.type;return s.push("typ"),s.push(c),c!=="host"&&n.relatedAddress&&n.relatedPort&&(s.push("raddr"),s.push(n.relatedAddress),s.push("rport"),s.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(s.push("tcptype"),s.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(s.push("ufrag"),s.push(n.usernameFragment||n.ufrag)),"candidate:"+s.join(" ")},e.parseIceOptions=function(n){return n.substring(14).split(" ")},e.parseRtpMap=function(n){let s=n.substring(9).split(" ");const a={payloadType:parseInt(s.shift(),10)};return s=s[0].split("/"),a.name=s[0],a.clockRate=parseInt(s[1],10),a.channels=s.length===3?parseInt(s[2],10):1,a.numChannels=a.channels,a},e.writeRtpMap=function(n){let s=n.payloadType;n.preferredPayloadType!==void 0&&(s=n.preferredPayloadType);const a=n.channels||n.numChannels||1;return"a=rtpmap:"+s+" "+n.name+"/"+n.clockRate+(a!==1?"/"+a:"")+`\r
`},e.parseExtmap=function(n){const s=n.substring(9).split(" ");return{id:parseInt(s[0],10),direction:s[0].indexOf("/")>0?s[0].split("/")[1]:"sendrecv",uri:s[1],attributes:s.slice(2).join(" ")}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},e.parseFmtp=function(n){const s={};let a;const c=n.substring(n.indexOf(" ")+1).split(";");for(let u=0;u<c.length;u++)a=c[u].trim().split("="),s[a[0].trim()]=a[1];return s},e.writeFmtp=function(n){let s="",a=n.payloadType;if(n.preferredPayloadType!==void 0&&(a=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const c=[];Object.keys(n.parameters).forEach(u=>{n.parameters[u]!==void 0?c.push(u+"="+n.parameters[u]):c.push(u)}),s+="a=fmtp:"+a+" "+c.join(";")+`\r
`}return s},e.parseRtcpFb=function(n){const s=n.substring(n.indexOf(" ")+1).split(" ");return{type:s.shift(),parameter:s.join(" ")}},e.writeRtcpFb=function(n){let s="",a=n.payloadType;return n.preferredPayloadType!==void 0&&(a=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(c=>{s+="a=rtcp-fb:"+a+" "+c.type+(c.parameter&&c.parameter.length?" "+c.parameter:"")+`\r
`}),s},e.parseSsrcMedia=function(n){const s=n.indexOf(" "),a={ssrc:parseInt(n.substring(7,s),10)},c=n.indexOf(":",s);return c>-1?(a.attribute=n.substring(s+1,c),a.value=n.substring(c+1)):a.attribute=n.substring(s+1),a},e.parseSsrcGroup=function(n){const s=n.substring(13).split(" ");return{semantics:s.shift(),ssrcs:s.map(a=>parseInt(a,10))}},e.getMid=function(n){const s=e.matchPrefix(n,"a=mid:")[0];if(s)return s.substring(6)},e.parseFingerprint=function(n){const s=n.substring(14).split(" ");return{algorithm:s[0].toLowerCase(),value:s[1].toUpperCase()}},e.getDtlsParameters=function(n,s){return{role:"auto",fingerprints:e.matchPrefix(n+s,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,s){let a="a=setup:"+s+`\r
`;return n.fingerprints.forEach(c=>{a+="a=fingerprint:"+c.algorithm+" "+c.value+`\r
`}),a},e.parseCryptoLine=function(n){const s=n.substring(9).split(" ");return{tag:parseInt(s[0],10),cryptoSuite:s[1],keyParams:s[2],sessionParams:s.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const s=n.substring(7).split("|");return{keyMethod:"inline",keySalt:s[0],lifeTime:s[1],mkiValue:s[2]?s[2].split(":")[0]:void 0,mkiLength:s[2]?s[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,s){return e.matchPrefix(n+s,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,s){const a=e.matchPrefix(n+s,"a=ice-ufrag:")[0],c=e.matchPrefix(n+s,"a=ice-pwd:")[0];return a&&c?{usernameFragment:a.substring(12),password:c.substring(10)}:null},e.writeIceParameters=function(n){let s="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(s+=`a=ice-lite\r
`),s},e.parseRtpParameters=function(n){const s={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},c=e.splitLines(n)[0].split(" ");s.profile=c[2];for(let f=3;f<c.length;f++){const d=c[f],p=e.matchPrefix(n,"a=rtpmap:"+d+" ")[0];if(p){const y=e.parseRtpMap(p),g=e.matchPrefix(n,"a=fmtp:"+d+" ");switch(y.parameters=g.length?e.parseFmtp(g[0]):{},y.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+d+" ").map(e.parseRtcpFb),s.codecs.push(y),y.name.toUpperCase()){case"RED":case"ULPFEC":s.fecMechanisms.push(y.name.toUpperCase());break}}}e.matchPrefix(n,"a=extmap:").forEach(f=>{s.headerExtensions.push(e.parseExtmap(f))});const u=e.matchPrefix(n,"a=rtcp-fb:* ").map(e.parseRtcpFb);return s.codecs.forEach(f=>{u.forEach(d=>{f.rtcpFeedback.find(y=>y.type===d.type&&y.parameter===d.parameter)||f.rtcpFeedback.push(d)})}),s},e.writeRtpDescription=function(n,s){let a="";a+="m="+n+" ",a+=s.codecs.length>0?"9":"0",a+=" "+(s.profile||"UDP/TLS/RTP/SAVPF")+" ",a+=s.codecs.map(u=>u.preferredPayloadType!==void 0?u.preferredPayloadType:u.payloadType).join(" ")+`\r
`,a+=`c=IN IP4 0.0.0.0\r
`,a+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,s.codecs.forEach(u=>{a+=e.writeRtpMap(u),a+=e.writeFmtp(u),a+=e.writeRtcpFb(u)});let c=0;return s.codecs.forEach(u=>{u.maxptime>c&&(c=u.maxptime)}),c>0&&(a+="a=maxptime:"+c+`\r
`),s.headerExtensions&&s.headerExtensions.forEach(u=>{a+=e.writeExtmap(u)}),a},e.parseRtpEncodingParameters=function(n){const s=[],a=e.parseRtpParameters(n),c=a.fecMechanisms.indexOf("RED")!==-1,u=a.fecMechanisms.indexOf("ULPFEC")!==-1,f=e.matchPrefix(n,"a=ssrc:").map(v=>e.parseSsrcMedia(v)).filter(v=>v.attribute==="cname"),d=f.length>0&&f[0].ssrc;let p;const y=e.matchPrefix(n,"a=ssrc-group:FID").map(v=>v.substring(17).split(" ").map(w=>parseInt(w,10)));y.length>0&&y[0].length>1&&y[0][0]===d&&(p=y[0][1]),a.codecs.forEach(v=>{if(v.name.toUpperCase()==="RTX"&&v.parameters.apt){let S={ssrc:d,codecPayloadType:parseInt(v.parameters.apt,10)};d&&p&&(S.rtx={ssrc:p}),s.push(S),c&&(S=JSON.parse(JSON.stringify(S)),S.fec={ssrc:d,mechanism:u?"red+ulpfec":"red"},s.push(S))}}),s.length===0&&d&&s.push({ssrc:d});let g=e.matchPrefix(n,"b=");return g.length&&(g[0].indexOf("b=TIAS:")===0?g=parseInt(g[0].substring(7),10):g[0].indexOf("b=AS:")===0?g=parseInt(g[0].substring(5),10)*1e3*.95-2e3*8:g=void 0,s.forEach(v=>{v.maxBitrate=g})),s},e.parseRtcpParameters=function(n){const s={},a=e.matchPrefix(n,"a=ssrc:").map(f=>e.parseSsrcMedia(f)).filter(f=>f.attribute==="cname")[0];a&&(s.cname=a.value,s.ssrc=a.ssrc);const c=e.matchPrefix(n,"a=rtcp-rsize");s.reducedSize=c.length>0,s.compound=c.length===0;const u=e.matchPrefix(n,"a=rtcp-mux");return s.mux=u.length>0,s},e.writeRtcpParameters=function(n){let s="";return n.reducedSize&&(s+=`a=rtcp-rsize\r
`),n.mux&&(s+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(s+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),s},e.parseMsid=function(n){let s;const a=e.matchPrefix(n,"a=msid:");if(a.length===1)return s=a[0].substring(7).split(" "),{stream:s[0],track:s[1]};const c=e.matchPrefix(n,"a=ssrc:").map(u=>e.parseSsrcMedia(u)).filter(u=>u.attribute==="msid");if(c.length>0)return s=c[0].value.split(" "),{stream:s[0],track:s[1]}},e.parseSctpDescription=function(n){const s=e.parseMLine(n),a=e.matchPrefix(n,"a=max-message-size:");let c;a.length>0&&(c=parseInt(a[0].substring(19),10)),isNaN(c)&&(c=65536);const u=e.matchPrefix(n,"a=sctp-port:");if(u.length>0)return{port:parseInt(u[0].substring(12),10),protocol:s.fmt,maxMessageSize:c};const f=e.matchPrefix(n,"a=sctpmap:");if(f.length>0){const d=f[0].substring(10).split(" ");return{port:parseInt(d[0],10),protocol:d[1],maxMessageSize:c}}},e.writeSctpDescription=function(n,s){let a=[];return n.protocol!=="DTLS/SCTP"?a=["m="+n.kind+" 9 "+n.protocol+" "+s.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+s.port+`\r
`]:a=["m="+n.kind+" 9 "+n.protocol+" "+s.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+s.port+" "+s.protocol+` 65535\r
`],s.maxMessageSize!==void 0&&a.push("a=max-message-size:"+s.maxMessageSize+`\r
`),a.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,s,a){let c;const u=s!==void 0?s:2;return n?c=n:c=e.generateSessionId(),`v=0\r
o=`+(a||"thisisadapterortc")+" "+c+" "+u+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,s){const a=e.splitLines(n);for(let c=0;c<a.length;c++)switch(a[c]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return a[c].substring(2)}return s?e.getDirection(s):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substring(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const a=e.splitLines(n)[0].substring(2).split(" ");return{kind:a[0],port:parseInt(a[1],10),protocol:a[2],fmt:a.slice(3).join(" ")}},e.parseOLine=function(n){const a=e.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:a[0],sessionId:a[1],sessionVersion:parseInt(a[2],10),netType:a[3],addressType:a[4],address:a[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const s=e.splitLines(n);for(let a=0;a<s.length;a++)if(s[a].length<2||s[a].charAt(1)!=="=")return!1;return!0},t.exports=e})(wp)),wp.exports}var DC=YN();const Wa=$c(DC),GN=rS({__proto__:null,default:Wa},[DC]);function Du(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(s){if(typeof s=="object"&&s.candidate&&s.candidate.indexOf("a=")===0&&(s=JSON.parse(JSON.stringify(s)),s.candidate=s.candidate.substring(2)),s.candidate&&s.candidate.length){const a=new e(s),c=Wa.parseCandidate(s.candidate);for(const u in c)u in a||Object.defineProperty(a,u,{value:c[u]});return a.toJSON=function(){return{candidate:a.candidate,sdpMid:a.sdpMid,sdpMLineIndex:a.sdpMLineIndex,usernameFragment:a.usernameFragment}},a}return new e(s)},t.RTCIceCandidate.prototype=e.prototype,ha(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Em(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||ha(t,"icecandidate",e=>{if(e.candidate){const n=Wa.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function ku(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(f){if(!f||!f.sdp)return!1;const d=Wa.splitSections(f.sdp);return d.shift(),d.some(p=>{const y=Wa.parseMLine(p);return y&&y.kind==="application"&&y.protocol.indexOf("SCTP")!==-1})},s=function(f){const d=f.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(d===null||d.length<2)return-1;const p=parseInt(d[1],10);return p!==p?-1:p},a=function(f){let d=65536;return e.browser==="firefox"&&(e.version<57?f===-1?d=16384:d=2147483637:e.version<60?d=e.version===57?65535:65536:d=2147483637),d},c=function(f,d){let p=65536;e.browser==="firefox"&&e.version===57&&(p=65535);const y=Wa.matchPrefix(f.sdp,"a=max-message-size:");return y.length>0?p=parseInt(y[0].substring(19),10):e.browser==="firefox"&&d!==-1&&(p=2147483637),p},u=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:d}=this.getConfiguration();d==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const d=s(arguments[0]),p=a(d),y=c(arguments[0],d);let g;p===0&&y===0?g=Number.POSITIVE_INFINITY:p===0||y===0?g=Math.max(p,y):g=Math.min(p,y);const v={};Object.defineProperty(v,"maxMessageSize",{get(){return g}}),this._sctp=v}return u.apply(this,arguments)}}function ju(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(s,a){const c=s.send;s.send=function(){const f=arguments[0],d=f.length||f.size||f.byteLength;if(s.readyState==="open"&&a.sctp&&d>a.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+a.sctp.maxMessageSize+" bytes)");return c.apply(s,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const a=n.apply(this,arguments);return e(a,this),a},ha(t,"datachannel",s=>(e(s.channel,s.target),s))}function Tm(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const s=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=a=>{const c=a.target;if(c._lastConnectionState!==c.connectionState){c._lastConnectionState=c.connectionState;const u=new Event("connectionstatechange",a);c.dispatchEvent(u)}return a},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),s.apply(this,arguments)}})}function Rm(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(a){if(a&&a.sdp&&a.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const c=a.sdp.split(`
`).filter(u=>u.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&a instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:a.type,sdp:c}):a.sdp=c}return n.apply(this,arguments)}}function Lu(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Uu(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let a=arguments[0]||{};if(typeof a!="object"||a.type&&a.sdp)return n.apply(this,arguments);if(a={type:a.type,sdp:a.sdp},!a.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":a.type="offer";break;default:a.type="answer";break}return a.sdp||a.type!=="offer"&&a.type!=="answer"?n.apply(this,[a]):(a.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(u=>n.apply(this,[u]))})}const KN=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Rm,shimAddIceCandidateNullOrEmpty:Lu,shimConnectionState:Tm,shimMaxMessageSize:ku,shimParameterlessSetLocalDescription:Uu,shimRTCIceCandidate:Du,shimRTCIceCandidateRelayProtocol:Em,shimSendThrowTypeError:ju},Symbol.toStringTag,{value:"Module"}));function XN({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=sC,s=qN(t),a={browserDetails:s,commonShim:KN,extractVersion:Sc,disableLog:$N,disableWarnings:VN,sdp:GN};switch(s.browser){case"chrome":if(!n1||!wm||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),a;if(s.version===null)return n("Chrome shim can not determine version, not shimming."),a;n("adapter.js shimming chrome."),a.browserShim=n1,Lu(t,s),Uu(t),aC(t,s),oC(t),wm(t,s),cC(t),dC(t,s),lC(t),uC(t),hC(t,s),Du(t),Em(t),Tm(t),ku(t,s),ju(t),Rm(t,s);break;case"firefox":if(!r1||!Cm||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),a;n("adapter.js shimming firefox."),a.browserShim=r1,Lu(t,s),Uu(t),pC(t,s),Cm(t,s),mC(t),vC(t),yC(t),gC(t),xC(t),bC(t),SC(t),_C(t),wC(t),Du(t),Tm(t),ku(t,s),ju(t);break;case"safari":if(!s1||!e.shimSafari)return n("Safari shim is not included in this adapter release."),a;n("adapter.js shimming safari."),a.browserShim=s1,Lu(t,s),Uu(t),OC(t),PC(t),TC(t),CC(t),EC(t),MC(t),RC(t),NC(t),Du(t),Em(t),ku(t,s),ju(t),Rm(t,s);break;default:n("Unsupported browser!");break}return a}const a1=XN({window:typeof window>"u"?void 0:window});var ta=4294967295;function QN(t,e,n){var s=n/4294967296,a=n;t.setUint32(e,s),t.setUint32(e+4,a)}function kC(t,e,n){var s=Math.floor(n/4294967296),a=n;t.setUint32(e,s),t.setUint32(e+4,a)}function jC(t,e){var n=t.getInt32(e),s=t.getUint32(e+4);return n*4294967296+s}function ZN(t,e){var n=t.getUint32(e),s=t.getUint32(e+4);return n*4294967296+s}var ky={},Cp,Ep,Tp,zf=(typeof process>"u"||((Cp=process==null?void 0:ky)===null||Cp===void 0?void 0:Cp.TEXT_ENCODING)!=="never")&&typeof TextEncoder<"u"&&typeof TextDecoder<"u";function o1(t){for(var e=t.length,n=0,s=0;s<e;){var a=t.charCodeAt(s++);if((a&4294967168)===0){n++;continue}else if((a&4294965248)===0)n+=2;else{if(a>=55296&&a<=56319&&s<e){var c=t.charCodeAt(s);(c&64512)===56320&&(++s,a=((a&1023)<<10)+(c&1023)+65536)}(a&4294901760)===0?n+=3:n+=4}}return n}function JN(t,e,n){for(var s=t.length,a=n,c=0;c<s;){var u=t.charCodeAt(c++);if((u&4294967168)===0){e[a++]=u;continue}else if((u&4294965248)===0)e[a++]=u>>6&31|192;else{if(u>=55296&&u<=56319&&c<s){var f=t.charCodeAt(c);(f&64512)===56320&&(++c,u=((u&1023)<<10)+(f&1023)+65536)}(u&4294901760)===0?(e[a++]=u>>12&15|224,e[a++]=u>>6&63|128):(e[a++]=u>>18&7|240,e[a++]=u>>12&63|128,e[a++]=u>>6&63|128)}e[a++]=u&63|128}}var Ac=zf?new TextEncoder:void 0,WN=zf?typeof process<"u"&&((Ep=process==null?void 0:ky)===null||Ep===void 0?void 0:Ep.TEXT_ENCODING)!=="force"?200:0:ta;function eD(t,e,n){e.set(Ac.encode(t),n)}function tD(t,e,n){Ac.encodeInto(t,e.subarray(n))}var nD=Ac?.encodeInto?tD:eD,rD=4096;function LC(t,e,n){for(var s=e,a=s+n,c=[],u="";s<a;){var f=t[s++];if((f&128)===0)c.push(f);else if((f&224)===192){var d=t[s++]&63;c.push((f&31)<<6|d)}else if((f&240)===224){var d=t[s++]&63,p=t[s++]&63;c.push((f&31)<<12|d<<6|p)}else if((f&248)===240){var d=t[s++]&63,p=t[s++]&63,y=t[s++]&63,g=(f&7)<<18|d<<12|p<<6|y;g>65535&&(g-=65536,c.push(g>>>10&1023|55296),g=56320|g&1023),c.push(g)}else c.push(f);c.length>=rD&&(u+=String.fromCharCode.apply(String,c),c.length=0)}return c.length>0&&(u+=String.fromCharCode.apply(String,c)),u}var sD=zf?new TextDecoder:null,iD=zf?typeof process<"u"&&((Tp=process==null?void 0:ky)===null||Tp===void 0?void 0:Tp.TEXT_DECODER)!=="force"?200:0:ta;function aD(t,e,n){var s=t.subarray(e,e+n);return sD.decode(s)}var xu=(function(){function t(e,n){this.type=e,this.data=n}return t})(),oD=(function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=a[c])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function s(){this.constructor=e}e.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}})(),is=(function(t){oD(e,t);function e(n){var s=t.call(this,n)||this,a=Object.create(e.prototype);return Object.setPrototypeOf(s,a),Object.defineProperty(s,"name",{configurable:!0,enumerable:!1,value:e.name}),s}return e})(Error),cD=-1,lD=4294967296-1,uD=17179869184-1;function fD(t){var e=t.sec,n=t.nsec;if(e>=0&&n>=0&&e<=uD)if(n===0&&e<=lD){var s=new Uint8Array(4),a=new DataView(s.buffer);return a.setUint32(0,e),s}else{var c=e/4294967296,u=e&4294967295,s=new Uint8Array(8),a=new DataView(s.buffer);return a.setUint32(0,n<<2|c&3),a.setUint32(4,u),s}else{var s=new Uint8Array(12),a=new DataView(s.buffer);return a.setUint32(0,n),kC(a,4,e),s}}function dD(t){var e=t.getTime(),n=Math.floor(e/1e3),s=(e-n*1e3)*1e6,a=Math.floor(s/1e9);return{sec:n+a,nsec:s-a*1e9}}function hD(t){if(t instanceof Date){var e=dD(t);return fD(e)}else return null}function pD(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:{var n=e.getUint32(0),s=0;return{sec:n,nsec:s}}case 8:{var a=e.getUint32(0),c=e.getUint32(4),n=(a&3)*4294967296+c,s=a>>>2;return{sec:n,nsec:s}}case 12:{var n=jC(e,4),s=e.getUint32(0);return{sec:n,nsec:s}}default:throw new is("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(t.length))}}function mD(t){var e=pD(t);return new Date(e.sec*1e3+e.nsec/1e6)}var yD={type:cD,encode:hD,decode:mD},UC=(function(){function t(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(yD)}return t.prototype.register=function(e){var n=e.type,s=e.encode,a=e.decode;if(n>=0)this.encoders[n]=s,this.decoders[n]=a;else{var c=1+n;this.builtInEncoders[c]=s,this.builtInDecoders[c]=a}},t.prototype.tryToEncode=function(e,n){for(var s=0;s<this.builtInEncoders.length;s++){var a=this.builtInEncoders[s];if(a!=null){var c=a(e,n);if(c!=null){var u=-1-s;return new xu(u,c)}}}for(var s=0;s<this.encoders.length;s++){var a=this.encoders[s];if(a!=null){var c=a(e,n);if(c!=null){var u=s;return new xu(u,c)}}}return e instanceof xu?e:null},t.prototype.decode=function(e,n,s){var a=n<0?this.builtInDecoders[-1-n]:this.decoders[n];return a?a(e,n,s):new xu(n,e)},t.defaultCodec=new t,t})();function cf(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer?new Uint8Array(t):Uint8Array.from(t)}function gD(t){if(t instanceof ArrayBuffer)return new DataView(t);var e=cf(t);return new DataView(e.buffer,e.byteOffset,e.byteLength)}var vD=100,xD=2048,bD=(function(){function t(e,n,s,a,c,u,f,d){e===void 0&&(e=UC.defaultCodec),n===void 0&&(n=void 0),s===void 0&&(s=vD),a===void 0&&(a=xD),c===void 0&&(c=!1),u===void 0&&(u=!1),f===void 0&&(f=!1),d===void 0&&(d=!1),this.extensionCodec=e,this.context=n,this.maxDepth=s,this.initialBufferSize=a,this.sortKeys=c,this.forceFloat32=u,this.ignoreUndefined=f,this.forceIntegerToFloat=d,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return t.prototype.reinitializeState=function(){this.pos=0},t.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},t.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},t.prototype.doEncode=function(e,n){if(n>this.maxDepth)throw new Error("Too deep objects in depth ".concat(n));e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.encodeObject(e,n)},t.prototype.ensureBufferSizeToWrite=function(e){var n=this.pos+e;this.view.byteLength<n&&this.resizeBuffer(n*2)},t.prototype.resizeBuffer=function(e){var n=new ArrayBuffer(e),s=new Uint8Array(n),a=new DataView(n);s.set(this.bytes),this.view=a,this.bytes=s},t.prototype.encodeNil=function(){this.writeU8(192)},t.prototype.encodeBoolean=function(e){e===!1?this.writeU8(194):this.writeU8(195)},t.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},t.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error("Too long string: ".concat(e," bytes in UTF-8"))},t.prototype.encodeString=function(e){var n=5,s=e.length;if(s>WN){var a=o1(e);this.ensureBufferSizeToWrite(n+a),this.writeStringHeader(a),nD(e,this.bytes,this.pos),this.pos+=a}else{var a=o1(e);this.ensureBufferSizeToWrite(n+a),this.writeStringHeader(a),JN(e,this.bytes,this.pos),this.pos+=a}},t.prototype.encodeObject=function(e,n){var s=this.extensionCodec.tryToEncode(e,this.context);if(s!=null)this.encodeExtension(s);else if(Array.isArray(e))this.encodeArray(e,n);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,n);else throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)))},t.prototype.encodeBinary=function(e){var n=e.byteLength;if(n<256)this.writeU8(196),this.writeU8(n);else if(n<65536)this.writeU8(197),this.writeU16(n);else if(n<4294967296)this.writeU8(198),this.writeU32(n);else throw new Error("Too large binary: ".concat(n));var s=cf(e);this.writeU8a(s)},t.prototype.encodeArray=function(e,n){var s=e.length;if(s<16)this.writeU8(144+s);else if(s<65536)this.writeU8(220),this.writeU16(s);else if(s<4294967296)this.writeU8(221),this.writeU32(s);else throw new Error("Too large array: ".concat(s));for(var a=0,c=e;a<c.length;a++){var u=c[a];this.doEncode(u,n+1)}},t.prototype.countWithoutUndefined=function(e,n){for(var s=0,a=0,c=n;a<c.length;a++){var u=c[a];e[u]!==void 0&&s++}return s},t.prototype.encodeMap=function(e,n){var s=Object.keys(e);this.sortKeys&&s.sort();var a=this.ignoreUndefined?this.countWithoutUndefined(e,s):s.length;if(a<16)this.writeU8(128+a);else if(a<65536)this.writeU8(222),this.writeU16(a);else if(a<4294967296)this.writeU8(223),this.writeU32(a);else throw new Error("Too large map object: ".concat(a));for(var c=0,u=s;c<u.length;c++){var f=u[c],d=e[f];this.ignoreUndefined&&d===void 0||(this.encodeString(f),this.doEncode(d,n+1))}},t.prototype.encodeExtension=function(e){var n=e.data.length;if(n===1)this.writeU8(212);else if(n===2)this.writeU8(213);else if(n===4)this.writeU8(214);else if(n===8)this.writeU8(215);else if(n===16)this.writeU8(216);else if(n<256)this.writeU8(199),this.writeU8(n);else if(n<65536)this.writeU8(200),this.writeU16(n);else if(n<4294967296)this.writeU8(201),this.writeU32(n);else throw new Error("Too large extension object: ".concat(n));this.writeI8(e.type),this.writeU8a(e.data)},t.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},t.prototype.writeU8a=function(e){var n=e.length;this.ensureBufferSizeToWrite(n),this.bytes.set(e,this.pos),this.pos+=n},t.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},t.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},t.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},t.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},t.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},t.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},t.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},t.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),QN(this.view,this.pos,e),this.pos+=8},t.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),kC(this.view,this.pos,e),this.pos+=8},t})();function Rp(t){return"".concat(t<0?"-":"","0x").concat(Math.abs(t).toString(16).padStart(2,"0"))}var SD=16,_D=16,wD=(function(){function t(e,n){e===void 0&&(e=SD),n===void 0&&(n=_D),this.maxKeyLength=e,this.maxLengthPerKey=n,this.hit=0,this.miss=0,this.caches=[];for(var s=0;s<this.maxKeyLength;s++)this.caches.push([])}return t.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},t.prototype.find=function(e,n,s){var a=this.caches[s-1];e:for(var c=0,u=a;c<u.length;c++){for(var f=u[c],d=f.bytes,p=0;p<s;p++)if(d[p]!==e[n+p])continue e;return f.str}return null},t.prototype.store=function(e,n){var s=this.caches[e.length-1],a={bytes:e,str:n};s.length>=this.maxLengthPerKey?s[Math.random()*s.length|0]=a:s.push(a)},t.prototype.decode=function(e,n,s){var a=this.find(e,n,s);if(a!=null)return this.hit++,a;this.miss++;var c=LC(e,n,s),u=Uint8Array.prototype.slice.call(e,n,n+s);return this.store(u,c),c},t})(),CD=function(t,e,n,s){function a(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function f(y){try{p(s.next(y))}catch(g){u(g)}}function d(y){try{p(s.throw(y))}catch(g){u(g)}}function p(y){y.done?c(y.value):a(y.value).then(f,d)}p((s=s.apply(t,e||[])).next())})},Ap=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,a,c,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(p){return function(y){return d([p,y])}}function d(p){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,a&&(c=p[0]&2?a.return:p[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,p[1])).done)return c;switch(a=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,a=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){n.label=p[1];break}if(p[0]===6&&n.label<c[1]){n.label=c[1],c=p;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(p);break}c[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(y){p=[6,y],a=0}finally{s=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},c1=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(c){n[c]=t[c]&&function(u){return new Promise(function(f,d){u=t[c](u),a(f,d,u.done,u.value)})}}function a(c,u,f,d){Promise.resolve(d).then(function(p){c({value:p,done:f})},u)}},eo=function(t){return this instanceof eo?(this.v=t,this):new eo(t)},ED=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),a,c=[];return a={},u("next"),u("throw"),u("return"),a[Symbol.asyncIterator]=function(){return this},a;function u(v){s[v]&&(a[v]=function(S){return new Promise(function(w,E){c.push([v,S,w,E])>1||f(v,S)})})}function f(v,S){try{d(s[v](S))}catch(w){g(c[0][3],w)}}function d(v){v.value instanceof eo?Promise.resolve(v.value.v).then(p,y):g(c[0][2],v)}function p(v){f("next",v)}function y(v){f("throw",v)}function g(v,S){v(S),c.shift(),c.length&&f(c[0][0],c[0][1])}},TD=function(t){var e=typeof t;return e==="string"||e==="number"},hc=-1,jy=new DataView(new ArrayBuffer(0)),RD=new Uint8Array(jy.buffer),Am=(function(){try{jy.getInt8(0)}catch(t){return t.constructor}throw new Error("never reached")})(),l1=new Am("Insufficient data"),AD=new wD,OD=(function(){function t(e,n,s,a,c,u,f,d){e===void 0&&(e=UC.defaultCodec),n===void 0&&(n=void 0),s===void 0&&(s=ta),a===void 0&&(a=ta),c===void 0&&(c=ta),u===void 0&&(u=ta),f===void 0&&(f=ta),d===void 0&&(d=AD),this.extensionCodec=e,this.context=n,this.maxStrLength=s,this.maxBinLength=a,this.maxArrayLength=c,this.maxMapLength=u,this.maxExtLength=f,this.keyDecoder=d,this.totalPos=0,this.pos=0,this.view=jy,this.bytes=RD,this.headByte=hc,this.stack=[]}return t.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=hc,this.stack.length=0},t.prototype.setBuffer=function(e){this.bytes=cf(e),this.view=gD(this.bytes),this.pos=0},t.prototype.appendBuffer=function(e){if(this.headByte===hc&&!this.hasRemaining(1))this.setBuffer(e);else{var n=this.bytes.subarray(this.pos),s=cf(e),a=new Uint8Array(n.length+s.length);a.set(n),a.set(s,n.length),this.setBuffer(a)}},t.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},t.prototype.createExtraByteError=function(e){var n=this,s=n.view,a=n.pos;return new RangeError("Extra ".concat(s.byteLength-a," of ").concat(s.byteLength," byte(s) found at buffer[").concat(e,"]"))},t.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var n=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return n},t.prototype.decodeMulti=function(e){return Ap(this,function(n){switch(n.label){case 0:this.reinitializeState(),this.setBuffer(e),n.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return n.sent(),[3,1];case 3:return[2]}})},t.prototype.decodeAsync=function(e){var n,s,a,c;return CD(this,void 0,void 0,function(){var u,f,d,p,y,g,v,S;return Ap(this,function(w){switch(w.label){case 0:u=!1,w.label=1;case 1:w.trys.push([1,6,7,12]),n=c1(e),w.label=2;case 2:return[4,n.next()];case 3:if(s=w.sent(),!!s.done)return[3,5];if(d=s.value,u)throw this.createExtraByteError(this.totalPos);this.appendBuffer(d);try{f=this.doDecodeSync(),u=!0}catch(E){if(!(E instanceof Am))throw E}this.totalPos+=this.pos,w.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return p=w.sent(),a={error:p},[3,12];case 7:return w.trys.push([7,,10,11]),s&&!s.done&&(c=n.return)?[4,c.call(n)]:[3,9];case 8:w.sent(),w.label=9;case 9:return[3,11];case 10:if(a)throw a.error;return[7];case 11:return[7];case 12:if(u){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,f]}throw y=this,g=y.headByte,v=y.pos,S=y.totalPos,new RangeError("Insufficient data in parsing ".concat(Rp(g)," at ").concat(S," (").concat(v," in the current buffer)"))}})})},t.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},t.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},t.prototype.decodeMultiAsync=function(e,n){return ED(this,arguments,function(){var a,c,u,f,d,p,y,g,v;return Ap(this,function(S){switch(S.label){case 0:a=n,c=-1,S.label=1;case 1:S.trys.push([1,13,14,19]),u=c1(e),S.label=2;case 2:return[4,eo(u.next())];case 3:if(f=S.sent(),!!f.done)return[3,12];if(d=f.value,n&&c===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(d),a&&(c=this.readArraySize(),a=!1,this.complete()),S.label=4;case 4:S.trys.push([4,9,,10]),S.label=5;case 5:return[4,eo(this.doDecodeSync())];case 6:return[4,S.sent()];case 7:return S.sent(),--c===0?[3,8]:[3,5];case 8:return[3,10];case 9:if(p=S.sent(),!(p instanceof Am))throw p;return[3,10];case 10:this.totalPos+=this.pos,S.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return y=S.sent(),g={error:y},[3,19];case 14:return S.trys.push([14,,17,18]),f&&!f.done&&(v=u.return)?[4,eo(v.call(u))]:[3,16];case 15:S.sent(),S.label=16;case 16:return[3,18];case 17:if(g)throw g.error;return[7];case 18:return[7];case 19:return[2]}})})},t.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),n=void 0;if(e>=224)n=e-256;else if(e<192)if(e<128)n=e;else if(e<144){var s=e-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e<160){var s=e-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else{var a=e-160;n=this.decodeUtf8String(a,0)}else if(e===192)n=null;else if(e===194)n=!1;else if(e===195)n=!0;else if(e===202)n=this.readF32();else if(e===203)n=this.readF64();else if(e===204)n=this.readU8();else if(e===205)n=this.readU16();else if(e===206)n=this.readU32();else if(e===207)n=this.readU64();else if(e===208)n=this.readI8();else if(e===209)n=this.readI16();else if(e===210)n=this.readI32();else if(e===211)n=this.readI64();else if(e===217){var a=this.lookU8();n=this.decodeUtf8String(a,1)}else if(e===218){var a=this.lookU16();n=this.decodeUtf8String(a,2)}else if(e===219){var a=this.lookU32();n=this.decodeUtf8String(a,4)}else if(e===220){var s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===221){var s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else n=[]}else if(e===222){var s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===223){var s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else n={}}else if(e===196){var s=this.lookU8();n=this.decodeBinary(s,1)}else if(e===197){var s=this.lookU16();n=this.decodeBinary(s,2)}else if(e===198){var s=this.lookU32();n=this.decodeBinary(s,4)}else if(e===212)n=this.decodeExtension(1,0);else if(e===213)n=this.decodeExtension(2,0);else if(e===214)n=this.decodeExtension(4,0);else if(e===215)n=this.decodeExtension(8,0);else if(e===216)n=this.decodeExtension(16,0);else if(e===199){var s=this.lookU8();n=this.decodeExtension(s,1)}else if(e===200){var s=this.lookU16();n=this.decodeExtension(s,2)}else if(e===201){var s=this.lookU32();n=this.decodeExtension(s,4)}else throw new is("Unrecognized type byte: ".concat(Rp(e)));this.complete();for(var c=this.stack;c.length>0;){var u=c[c.length-1];if(u.type===0)if(u.array[u.position]=n,u.position++,u.position===u.size)c.pop(),n=u.array;else continue e;else if(u.type===1){if(!TD(n))throw new is("The type of key must be string or number but "+typeof n);if(n==="__proto__")throw new is("The key __proto__ is not allowed");u.key=n,u.type=2;continue e}else if(u.map[u.key]=n,u.readCount++,u.readCount===u.size)c.pop(),n=u.map;else{u.key=null,u.type=1;continue e}}return n}},t.prototype.readHeadByte=function(){return this.headByte===hc&&(this.headByte=this.readU8()),this.headByte},t.prototype.complete=function(){this.headByte=hc},t.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new is("Unrecognized array type byte: ".concat(Rp(e)))}}},t.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new is("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},t.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new is("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:new Array(e),position:0})},t.prototype.decodeUtf8String=function(e,n){var s;if(e>this.maxStrLength)throw new is("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+n+e)throw l1;var a=this.pos+n,c;return this.stateIsMapKey()&&(!((s=this.keyDecoder)===null||s===void 0)&&s.canBeCached(e))?c=this.keyDecoder.decode(this.bytes,a,e):e>iD?c=aD(this.bytes,a,e):c=LC(this.bytes,a,e),this.pos+=n+e,c},t.prototype.stateIsMapKey=function(){if(this.stack.length>0){var e=this.stack[this.stack.length-1];return e.type===1}return!1},t.prototype.decodeBinary=function(e,n){if(e>this.maxBinLength)throw new is("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+n))throw l1;var s=this.pos+n,a=this.bytes.subarray(s,s+e);return this.pos+=n+e,a},t.prototype.decodeExtension=function(e,n){if(e>this.maxExtLength)throw new is("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var s=this.view.getInt8(this.pos+n),a=this.decodeBinary(e,n+1);return this.extensionCodec.decode(a,s,this.context)},t.prototype.lookU8=function(){return this.view.getUint8(this.pos)},t.prototype.lookU16=function(){return this.view.getUint16(this.pos)},t.prototype.lookU32=function(){return this.view.getUint32(this.pos)},t.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},t.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},t.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},t.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},t.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},t.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},t.prototype.readU64=function(){var e=ZN(this.view,this.pos);return this.pos+=8,e},t.prototype.readI64=function(){var e=jC(this.view,this.pos);return this.pos+=8,e},t.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},t.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},t})(),MD={},PD=function(t,e){var n={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,a,c,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(p){return function(y){return d([p,y])}}function d(p){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,a&&(c=p[0]&2?a.return:p[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,p[1])).done)return c;switch(a=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,a=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(c=n.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){n.label=p[1];break}if(p[0]===6&&n.label<c[1]){n.label=c[1],c=p;break}if(c&&n.label<c[2]){n.label=c[2],n.ops.push(p);break}c[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(y){p=[6,y],a=0}finally{s=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},to=function(t){return this instanceof to?(this.v=t,this):new to(t)},ND=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),a,c=[];return a={},u("next"),u("throw"),u("return"),a[Symbol.asyncIterator]=function(){return this},a;function u(v){s[v]&&(a[v]=function(S){return new Promise(function(w,E){c.push([v,S,w,E])>1||f(v,S)})})}function f(v,S){try{d(s[v](S))}catch(w){g(c[0][3],w)}}function d(v){v.value instanceof to?Promise.resolve(v.value.v).then(p,y):g(c[0][2],v)}function p(v){f("next",v)}function y(v){f("throw",v)}function g(v,S){v(S),c.shift(),c.length&&f(c[0][0],c[0][1])}};function DD(t){return t[Symbol.asyncIterator]!=null}function kD(t){if(t==null)throw new Error("Assertion Failure: value must not be null nor undefined")}function jD(t){return ND(this,arguments,function(){var n,s,a,c;return PD(this,function(u){switch(u.label){case 0:n=t.getReader(),u.label=1;case 1:u.trys.push([1,,9,10]),u.label=2;case 2:return[4,to(n.read())];case 3:return s=u.sent(),a=s.done,c=s.value,a?[4,to(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return kD(c),[4,to(c)];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function LD(t){return DD(t)?t:jD(t)}function UD(t,e){e===void 0&&(e=MD);var n=LD(t),s=new OD(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength);return s.decodeStream(n)}function pa(t,e,n,s){Object.defineProperty(t,e,{get:n,set:s,enumerable:!0,configurable:!0})}class IC{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const n=[],s=e.byteLength,a=Math.ceil(s/this.chunkedMTU);let c=0,u=0;for(;u<s;){const f=Math.min(s,u+this.chunkedMTU),d=e.slice(u,f),p={__peerData:this._dataCount,n:c,data:d,total:a};n.push(p),u=f,c++}return this._dataCount++,n}}}function ID(t){let e=0;for(const a of t)e+=a.byteLength;const n=new Uint8Array(e);let s=0;for(const a of t)n.set(a,s),s+=a.byteLength;return n}const Op=a1.default||a1,pc=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const t=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(t)?t==="chrome"?e>=this.minChromeVersion:t==="firefox"?e>=this.minFirefoxVersion:t==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return Op.browserDetails.browser}getVersion(){return Op.browserDetails.version||0}isUnifiedPlanSupported(){const t=this.getBrowser(),e=Op.browserDetails.version||0;if(t==="chrome"&&e<this.minChromeVersion)return!1;if(t==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,s=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),s=!0}catch{}finally{n&&n.close()}return s}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},zD=t=>!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t),zC=()=>Math.random().toString(36).slice(2),u1={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class BD extends IC{noop(){}blobToArrayBuffer(e,n){const s=new FileReader;return s.onload=function(a){a.target&&n(a.target.result)},s.readAsArrayBuffer(e),s}binaryStringToArrayBuffer(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=u1,this.browser=pc.getBrowser(),this.browserVersion=pc.getVersion(),this.pack=tC,this.unpack=eC,this.supports=(function(){const n={browser:pc.isBrowserSupported(),webRTC:pc.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let s;try{s=new RTCPeerConnection(u1),n.audioVideo=!0;let a;try{a=s.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!a.ordered;try{a.binaryType="blob",n.binaryBlob=!pc.isIOS}catch{}}catch{}finally{a&&a.close()}}catch{}finally{s&&s.close()}return n})(),this.validateId=zD,this.randomToken=zC}}const Wn=new BD,HD="PeerJS: ";class $D{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...n){const s=[HD,...n];for(const a in s)s[a]instanceof Error&&(s[a]="("+s[a].name+") "+s[a].message);e>=3?console.log(...s):e>=2?console.warn("WARNING",...s):e>=1&&console.error("ERROR",...s)}constructor(){this._logLevel=0}}var Ye=new $D,Ly={},VD=Object.prototype.hasOwnProperty,tr="~";function jc(){}Object.create&&(jc.prototype=Object.create(null),new jc().__proto__||(tr=!1));function qD(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function BC(t,e,n,s,a){if(typeof n!="function")throw new TypeError("The listener must be a function");var c=new qD(n,s||t,a),u=tr?tr+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],c]:t._events[u].push(c):(t._events[u]=c,t._eventsCount++),t}function Iu(t,e){--t._eventsCount===0?t._events=new jc:delete t._events[e]}function Xn(){this._events=new jc,this._eventsCount=0}Xn.prototype.eventNames=function(){var e=[],n,s;if(this._eventsCount===0)return e;for(s in n=this._events)VD.call(n,s)&&e.push(tr?s.slice(1):s);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(n)):e};Xn.prototype.listeners=function(e){var n=tr?tr+e:e,s=this._events[n];if(!s)return[];if(s.fn)return[s.fn];for(var a=0,c=s.length,u=new Array(c);a<c;a++)u[a]=s[a].fn;return u};Xn.prototype.listenerCount=function(e){var n=tr?tr+e:e,s=this._events[n];return s?s.fn?1:s.length:0};Xn.prototype.emit=function(e,n,s,a,c,u){var f=tr?tr+e:e;if(!this._events[f])return!1;var d=this._events[f],p=arguments.length,y,g;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),p){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,n),!0;case 3:return d.fn.call(d.context,n,s),!0;case 4:return d.fn.call(d.context,n,s,a),!0;case 5:return d.fn.call(d.context,n,s,a,c),!0;case 6:return d.fn.call(d.context,n,s,a,c,u),!0}for(g=1,y=new Array(p-1);g<p;g++)y[g-1]=arguments[g];d.fn.apply(d.context,y)}else{var v=d.length,S;for(g=0;g<v;g++)switch(d[g].once&&this.removeListener(e,d[g].fn,void 0,!0),p){case 1:d[g].fn.call(d[g].context);break;case 2:d[g].fn.call(d[g].context,n);break;case 3:d[g].fn.call(d[g].context,n,s);break;case 4:d[g].fn.call(d[g].context,n,s,a);break;default:if(!y)for(S=1,y=new Array(p-1);S<p;S++)y[S-1]=arguments[S];d[g].fn.apply(d[g].context,y)}}return!0};Xn.prototype.on=function(e,n,s){return BC(this,e,n,s,!1)};Xn.prototype.once=function(e,n,s){return BC(this,e,n,s,!0)};Xn.prototype.removeListener=function(e,n,s,a){var c=tr?tr+e:e;if(!this._events[c])return this;if(!n)return Iu(this,c),this;var u=this._events[c];if(u.fn)u.fn===n&&(!a||u.once)&&(!s||u.context===s)&&Iu(this,c);else{for(var f=0,d=[],p=u.length;f<p;f++)(u[f].fn!==n||a&&!u[f].once||s&&u[f].context!==s)&&d.push(u[f]);d.length?this._events[c]=d.length===1?d[0]:d:Iu(this,c)}return this};Xn.prototype.removeAllListeners=function(e){var n;return e?(n=tr?tr+e:e,this._events[n]&&Iu(this,n)):(this._events=new jc,this._eventsCount=0),this};Xn.prototype.off=Xn.prototype.removeListener;Xn.prototype.addListener=Xn.prototype.on;Xn.prefixed=tr;Xn.EventEmitter=Xn;Ly=Xn;var ma={};pa(ma,"ConnectionType",()=>Gs);pa(ma,"PeerErrorType",()=>xn);pa(ma,"BaseConnectionErrorType",()=>lf);pa(ma,"DataConnectionErrorType",()=>Bf);pa(ma,"SerializationType",()=>Gc);pa(ma,"SocketEventType",()=>qs);pa(ma,"ServerMessageType",()=>Vn);var Gs=(function(t){return t.Data="data",t.Media="media",t})({}),xn=(function(t){return t.BrowserIncompatible="browser-incompatible",t.Disconnected="disconnected",t.InvalidID="invalid-id",t.InvalidKey="invalid-key",t.Network="network",t.PeerUnavailable="peer-unavailable",t.SslUnavailable="ssl-unavailable",t.ServerError="server-error",t.SocketError="socket-error",t.SocketClosed="socket-closed",t.UnavailableID="unavailable-id",t.WebRTC="webrtc",t})({}),lf=(function(t){return t.NegotiationFailed="negotiation-failed",t.ConnectionClosed="connection-closed",t})({}),Bf=(function(t){return t.NotOpenYet="not-open-yet",t.MessageToBig="message-too-big",t})({}),Gc=(function(t){return t.Binary="binary",t.BinaryUTF8="binary-utf8",t.JSON="json",t.None="raw",t})({}),qs=(function(t){return t.Message="message",t.Disconnected="disconnected",t.Error="error",t.Close="close",t})({}),Vn=(function(t){return t.Heartbeat="HEARTBEAT",t.Candidate="CANDIDATE",t.Offer="OFFER",t.Answer="ANSWER",t.Open="OPEN",t.Error="ERROR",t.IdTaken="ID-TAKEN",t.InvalidKey="INVALID-KEY",t.Leave="LEAVE",t.Expire="EXPIRE",t})({});const HC="1.5.5";class FD extends Ly.EventEmitter{constructor(e,n,s,a,c,u=5e3){super(),this.pingInterval=u,this._disconnected=!0,this._messagesQueue=[];const f=e?"wss://":"ws://";this._baseUrl=f+n+":"+s+a+"peerjs?key="+c}start(e,n){this._id=e;const s=`${this._baseUrl}&id=${e}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(s+"&version="+HC),this._disconnected=!1,this._socket.onmessage=a=>{let c;try{c=JSON.parse(a.data),Ye.log("Server message received:",c)}catch{Ye.log("Invalid server message",a.data);return}this.emit(qs.Message,c)},this._socket.onclose=a=>{this._disconnected||(Ye.log("Socket closed.",a),this._cleanup(),this._disconnected=!0,this.emit(qs.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),Ye.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){Ye.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:Vn.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const n of e)this.send(n)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(qs.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(e);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class $C{constructor(e){this.connection=e}startConnection(e){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===Gs.Media&&e._stream&&this._addTracksToConnection(e._stream,n),e.originator){const s=this.connection,a={ordered:!!e.reliable},c=n.createDataChannel(s.label,a);s._initializeDataChannel(c),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){Ye.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const n=this.connection.peer,s=this.connection.connectionId,a=this.connection.type,c=this.connection.provider;Ye.log("Listening for ICE candidates."),e.onicecandidate=u=>{!u.candidate||!u.candidate.candidate||(Ye.log(`Received ICE candidates for ${n}:`,u.candidate),c.socket.send({type:Vn.Candidate,payload:{candidate:u.candidate,type:a,connectionId:s},dst:n}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":Ye.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(lf.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":Ye.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(lf.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":Ye.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},Ye.log("Listening for data channel"),e.ondatachannel=u=>{Ye.log("Received data channel");const f=u.channel;c.getConnection(n,s)._initializeDataChannel(f)},Ye.log("Listening for remote stream"),e.ontrack=u=>{Ye.log("Received remote stream");const f=u.streams[0],d=c.getConnection(n,s);if(d.type===Gs.Media){const p=d;this._addStreamToMediaConnection(f,p)}}}cleanup(){Ye.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const n=e.signalingState!=="closed";let s=!1;const a=this.connection.dataChannel;a&&(s=!!a.readyState&&a.readyState!=="closed"),(n||s)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const s=await e.createOffer(this.connection.options.constraints);Ye.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await e.setLocalDescription(s),Ye.log("Set localDescription:",s,`for:${this.connection.peer}`);let a={sdp:s,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===Gs.Data){const c=this.connection;a={...a,label:c.label,reliable:c.reliable,serialization:c.serialization}}n.socket.send({type:Vn.Offer,payload:a,dst:this.connection.peer})}catch(a){a!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(xn.WebRTC,a),Ye.log("Failed to setLocalDescription, ",a))}}catch(s){n.emitError(xn.WebRTC,s),Ye.log("Failed to createOffer, ",s)}}async _makeAnswer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const s=await e.createAnswer();Ye.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(s.sdp=this.connection.options.sdpTransform(s.sdp)||s.sdp);try{await e.setLocalDescription(s),Ye.log("Set localDescription:",s,`for:${this.connection.peer}`),n.socket.send({type:Vn.Answer,payload:{sdp:s,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(a){n.emitError(xn.WebRTC,a),Ye.log("Failed to setLocalDescription, ",a)}}catch(s){n.emitError(xn.WebRTC,s),Ye.log("Failed to create answer, ",s)}}async handleSDP(e,n){n=new RTCSessionDescription(n);const s=this.connection.peerConnection,a=this.connection.provider;Ye.log("Setting remote description",n);const c=this;try{await s.setRemoteDescription(n),Ye.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await c._makeAnswer()}catch(u){a.emitError(xn.WebRTC,u),Ye.log("Failed to setRemoteDescription, ",u)}}async handleCandidate(e){Ye.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),Ye.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(xn.WebRTC,n),Ye.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(e,n){if(Ye.log(`add tracks from stream ${e.id} to peer connection`),!n.addTrack)return Ye.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(s=>{n.addTrack(s,e)})}_addStreamToMediaConnection(e,n){Ye.log(`add stream ${e.id} to media connection ${n.connectionId}`),n.addStream(e)}}class VC extends Ly.EventEmitter{emitError(e,n){Ye.error("Error:",n),this.emit("error",new qC(`${e}`,n))}}class qC extends Error{constructor(e,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=e}}class FC extends VC{get open(){return this._open}constructor(e,n,s){super(),this.peer=e,this.provider=n,this.options=s,this._open=!1,this.metadata=s.metadata}}class uf extends FC{static#e=this.ID_PREFIX="mc_";get type(){return Gs.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,n,s){super(e,n,s),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||uf.ID_PREFIX+Wn.randomToken(),this._negotiator=new $C(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{Ye.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{Ye.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){Ye.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const n=e.type,s=e.payload;switch(e.type){case Vn.Answer:this._negotiator.handleSDP(n,s.sdp),this._open=!0;break;case Vn.Candidate:this._negotiator.handleCandidate(s.candidate);break;default:Ye.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(e,n={}){if(this._localStream){Ye.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const s=this.provider._getMessages(this.connectionId);for(const a of s)this.handleMessage(a);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}}class YD{constructor(e){this._options=e}_buildRequest(e){const n=this._options.secure?"https":"http",{host:s,port:a,path:c,key:u}=this._options,f=new URL(`${n}://${s}:${a}${c}${u}/${e}`);return f.searchParams.set("ts",`${Date.now()}${Math.random()}`),f.searchParams.set("version",HC),fetch(f.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){Ye.error("Error retrieving ID",e);let n="";throw this._options.path==="/"&&this._options.host!==Wn.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let n="";throw this._options.host===Wn.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw Ye.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}class aa extends FC{static#e=this.ID_PREFIX="dc_";static#t=this.MAX_BUFFERED_AMOUNT=8388608;get type(){return Gs.Data}constructor(e,n,s){super(e,n,s),this.connectionId=this.options.connectionId||aa.ID_PREFIX+zC(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new $C(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{Ye.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{Ye.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{Ye.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e?.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,n=!1){if(!this.open){this.emitError(Bf.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,n)}async handleMessage(e){const n=e.payload;switch(e.type){case Vn.Answer:await this._negotiator.handleSDP(e.type,n.sdp);break;case Vn.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:Ye.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}}class Hf extends aa{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>aa.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(n){return Ye.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e?.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class Mp extends Hf{close(e){super.close(e),this._chunkedData={}}constructor(e,n,s){super(e,n,s),this.chunker=new IC,this.serialization=Gc.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const n=eC(e),s=n.__peerData;if(s){if(s.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(e){const n=e.__peerData,s=this._chunkedData[n]||{data:[],count:0,total:e.total};if(s.data[e.n]=new Uint8Array(e.data),s.count++,this._chunkedData[n]=s,s.total===s.count){delete this._chunkedData[n];const a=ID(s.data);this._handleDataMessage({data:a})}}_send(e,n){const s=tC(e);if(s instanceof Promise)return this._send_blob(s);if(!n&&s.byteLength>this.chunker.chunkedMTU){this._sendChunks(s);return}this._bufferedSend(s)}async _send_blob(e){const n=await e;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(e){const n=this.chunker.chunk(e);Ye.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const s of n)this.send(s,!0)}}class GD extends Hf{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,n){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=Gc.None}}class KD extends Hf{_handleDataMessage({data:e}){const n=this.parse(this.decoder.decode(e)),s=n.__peerData;if(s&&s.type==="close"){this.close();return}this.emit("data",n)}_send(e,n){const s=this.encoder.encode(this.stringify(e));if(s.byteLength>=Wn.chunkedMTU){this.emitError(Bf.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(s)}constructor(...e){super(...e),this.serialization=Gc.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}class Kc extends VC{static#e=this.DEFAULT_KEY="peerjs";get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[n,s]of this._connections)e[n]=s;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,n){super(),this._serializers={raw:GD,json:KD,binary:Mp,"binary-utf8":Mp,default:Mp},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let s;if(e&&e.constructor==Object?n=e:e&&(s=e.toString()),n={debug:0,host:Wn.CLOUD_HOST,port:Wn.CLOUD_PORT,path:"/",key:Kc.DEFAULT_KEY,token:Wn.randomToken(),config:Wn.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Wn.CLOUD_HOST?this._options.secure=Wn.isSecure():this._options.host==Wn.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&Ye.setLogFunction(this._options.logFunction),Ye.logLevel=this._options.debug||0,this._api=new YD(n),this._socket=this._createServerConnection(),!Wn.supports.audioVideo&&!Wn.supports.data){this._delayedAbort(xn.BrowserIncompatible,"The current browser does not support WebRTC");return}if(s&&!Wn.validateId(s)){this._delayedAbort(xn.InvalidID,`ID "${s}" is invalid`);return}s?this._initialize(s):this._api.retrieveId().then(a=>this._initialize(a)).catch(a=>this._abort(xn.ServerError,a))}_createServerConnection(){const e=new FD(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(qs.Message,n=>{this._handleMessage(n)}),e.on(qs.Error,n=>{this._abort(xn.SocketError,n)}),e.on(qs.Disconnected,()=>{this.disconnected||(this.emitError(xn.Network,"Lost connection to server."),this.disconnect())}),e.on(qs.Close,()=>{this.disconnected||this._abort(xn.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const n=e.type,s=e.payload,a=e.src;switch(n){case Vn.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case Vn.Error:this._abort(xn.ServerError,s.msg);break;case Vn.IdTaken:this._abort(xn.UnavailableID,`ID "${this.id}" is taken`);break;case Vn.InvalidKey:this._abort(xn.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case Vn.Leave:Ye.log(`Received leave message from ${a}`),this._cleanupPeer(a),this._connections.delete(a);break;case Vn.Expire:this.emitError(xn.PeerUnavailable,`Could not connect to peer ${a}`);break;case Vn.Offer:{const c=s.connectionId;let u=this.getConnection(a,c);if(u&&(u.close(),Ye.warn(`Offer received for existing Connection ID:${c}`)),s.type===Gs.Media){const d=new uf(a,this,{connectionId:c,_payload:s,metadata:s.metadata});u=d,this._addConnection(a,u),this.emit("call",d)}else if(s.type===Gs.Data){const d=new this._serializers[s.serialization](a,this,{connectionId:c,_payload:s,metadata:s.metadata,label:s.label,serialization:s.serialization,reliable:s.reliable});u=d,this._addConnection(a,u),this.emit("connection",d)}else{Ye.warn(`Received malformed connection type:${s.type}`);return}const f=this._getMessages(c);for(const d of f)u.handleMessage(d);break}default:{if(!s){Ye.warn(`You received a malformed message from ${a} of type ${n}`);return}const c=s.connectionId,u=this.getConnection(a,c);u&&u.peerConnection?u.handleMessage(e):c?this._storeMessage(c,e):Ye.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,n){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(n)}_getMessages(e){const n=this._lostMessages.get(e);return n?(this._lostMessages.delete(e),n):[]}connect(e,n={}){if(n={serialization:"default",...n},this.disconnected){Ye.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(xn.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const s=new this._serializers[n.serialization](e,this,n);return this._addConnection(e,s),s}call(e,n,s={}){if(this.disconnected){Ye.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(xn.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){Ye.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const a=new uf(e,this,{...s,_stream:n});return this._addConnection(e,a),a}_addConnection(e,n){Ye.log(`add connection ${n.type}:${n.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(n)}_removeConnection(e){const n=this._connections.get(e.peer);if(n){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,n){const s=this._connections.get(e);if(!s)return null;for(const a of s)if(a.connectionId===n)return a;return null}_delayedAbort(e,n){setTimeout(()=>{this._abort(e,n)},0)}_abort(e,n){Ye.error("Aborting!"),this.emitError(e,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(Ye.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const n=this._connections.get(e);if(n)for(const s of n)s.close()}disconnect(){if(this.disconnected)return;const e=this.id;Ye.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)Ye.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)Ye.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=n=>{}){this._api.listAllPeers().then(n=>e(n)).catch(n=>this._abort(xn.ServerError,n))}}class YC extends aa{constructor(e,n,s){super(e,n,{...s,reliable:!0}),this._CHUNK_SIZE=32768,this._splitStream=new TransformStream({transform:(a,c)=>{for(let u=0;u<a.length;u+=this._CHUNK_SIZE)c.enqueue(a.subarray(u,u+this._CHUNK_SIZE))}}),this._rawSendStream=new WritableStream({write:async(a,c)=>{const u=new Promise(f=>this.dataChannel.addEventListener("bufferedamountlow",f,{once:!0}));await(this.dataChannel.bufferedAmount<=aa.MAX_BUFFERED_AMOUNT-a.byteLength||u);try{this.dataChannel.send(a)}catch(f){Ye.error(`DC#:${this.connectionId} Error when sending:`,f),c.error(f),this.close()}}}),this.writer=this._splitStream.writable.getWriter(),this._rawReadStream=new ReadableStream({start:a=>{this.once("open",()=>{this.dataChannel.addEventListener("message",c=>{a.enqueue(c.data)})})}}),this._splitStream.readable.pipeTo(this._rawSendStream)}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.bufferedAmountLowThreshold=aa.MAX_BUFFERED_AMOUNT/2}}class Om extends YC{constructor(e,n,s){super(e,n,s),this.serialization="MsgPack",this._encoder=new bD,(async()=>{for await(const a of UD(this._rawReadStream)){if(a.__peerData?.type==="close"){this.close();return}this.emit("data",a)}})()}_send(e){return this.writer.write(this._encoder.encode(e))}}class XD extends Kc{constructor(...e){super(...e),this._serializers={MsgPack:Om,default:Om}}}var QD=Kc;const ZD=Object.freeze(Object.defineProperty({__proto__:null,BaseConnectionErrorType:lf,BufferedConnection:Hf,ConnectionType:Gs,DataConnectionErrorType:Bf,MsgPack:Om,MsgPackPeer:XD,Peer:Kc,PeerError:qC,PeerErrorType:xn,SerializationType:Gc,ServerMessageType:Vn,SocketEventType:qs,StreamConnection:YC,default:QD,util:Wn},Symbol.toStringTag,{value:"Module"})),JD=vf(ZD);function WD(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Pp={exports:{}};const e4={},t4=Object.freeze(Object.defineProperty({__proto__:null,default:e4},Symbol.toStringTag,{value:"Module"})),n4=vf(t4);var f1;function GC(){return f1||(f1=1,(function(t){(function(e){var n=function(C){var A,R=new Float64Array(16);if(C)for(A=0;A<C.length;A++)R[A]=C[A];return R},s=function(){throw new Error("no PRNG")},a=new Uint8Array(16),c=new Uint8Array(32);c[0]=9;var u=n(),f=n([1]),d=n([56129,1]),p=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),y=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),g=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),v=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),S=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function w(C,A,R,x){C[A]=R>>24&255,C[A+1]=R>>16&255,C[A+2]=R>>8&255,C[A+3]=R&255,C[A+4]=x>>24&255,C[A+5]=x>>16&255,C[A+6]=x>>8&255,C[A+7]=x&255}function E(C,A,R,x,N){var $,V=0;for($=0;$<N;$++)V|=C[A+$]^R[x+$];return(1&V-1>>>8)-1}function M(C,A,R,x){return E(C,A,R,x,16)}function P(C,A,R,x){return E(C,A,R,x,32)}function D(C,A,R,x){for(var N=x[0]&255|(x[1]&255)<<8|(x[2]&255)<<16|(x[3]&255)<<24,$=R[0]&255|(R[1]&255)<<8|(R[2]&255)<<16|(R[3]&255)<<24,V=R[4]&255|(R[5]&255)<<8|(R[6]&255)<<16|(R[7]&255)<<24,ae=R[8]&255|(R[9]&255)<<8|(R[10]&255)<<16|(R[11]&255)<<24,Ce=R[12]&255|(R[13]&255)<<8|(R[14]&255)<<16|(R[15]&255)<<24,Be=x[4]&255|(x[5]&255)<<8|(x[6]&255)<<16|(x[7]&255)<<24,Me=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,Ot=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,De=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,Ze=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,nt=x[8]&255|(x[9]&255)<<8|(x[10]&255)<<16|(x[11]&255)<<24,st=R[16]&255|(R[17]&255)<<8|(R[18]&255)<<16|(R[19]&255)<<24,rt=R[20]&255|(R[21]&255)<<8|(R[22]&255)<<16|(R[23]&255)<<24,We=R[24]&255|(R[25]&255)<<8|(R[26]&255)<<16|(R[27]&255)<<24,et=R[28]&255|(R[29]&255)<<8|(R[30]&255)<<16|(R[31]&255)<<24,He=x[12]&255|(x[13]&255)<<8|(x[14]&255)<<16|(x[15]&255)<<24,Ie=N,Ke=$,Ae=V,Ne=ae,Ve=Ce,Oe=Be,ee=Me,te=Ot,ve=De,fe=Ze,ce=nt,ye=st,Xe=rt,ut=We,ct=et,lt=He,L,yt=0;yt<20;yt+=2)L=Ie+Xe|0,Ve^=L<<7|L>>>25,L=Ve+Ie|0,ve^=L<<9|L>>>23,L=ve+Ve|0,Xe^=L<<13|L>>>19,L=Xe+ve|0,Ie^=L<<18|L>>>14,L=Oe+Ke|0,fe^=L<<7|L>>>25,L=fe+Oe|0,ut^=L<<9|L>>>23,L=ut+fe|0,Ke^=L<<13|L>>>19,L=Ke+ut|0,Oe^=L<<18|L>>>14,L=ce+ee|0,ct^=L<<7|L>>>25,L=ct+ce|0,Ae^=L<<9|L>>>23,L=Ae+ct|0,ee^=L<<13|L>>>19,L=ee+Ae|0,ce^=L<<18|L>>>14,L=lt+ye|0,Ne^=L<<7|L>>>25,L=Ne+lt|0,te^=L<<9|L>>>23,L=te+Ne|0,ye^=L<<13|L>>>19,L=ye+te|0,lt^=L<<18|L>>>14,L=Ie+Ne|0,Ke^=L<<7|L>>>25,L=Ke+Ie|0,Ae^=L<<9|L>>>23,L=Ae+Ke|0,Ne^=L<<13|L>>>19,L=Ne+Ae|0,Ie^=L<<18|L>>>14,L=Oe+Ve|0,ee^=L<<7|L>>>25,L=ee+Oe|0,te^=L<<9|L>>>23,L=te+ee|0,Ve^=L<<13|L>>>19,L=Ve+te|0,Oe^=L<<18|L>>>14,L=ce+fe|0,ye^=L<<7|L>>>25,L=ye+ce|0,ve^=L<<9|L>>>23,L=ve+ye|0,fe^=L<<13|L>>>19,L=fe+ve|0,ce^=L<<18|L>>>14,L=lt+ct|0,Xe^=L<<7|L>>>25,L=Xe+lt|0,ut^=L<<9|L>>>23,L=ut+Xe|0,ct^=L<<13|L>>>19,L=ct+ut|0,lt^=L<<18|L>>>14;Ie=Ie+N|0,Ke=Ke+$|0,Ae=Ae+V|0,Ne=Ne+ae|0,Ve=Ve+Ce|0,Oe=Oe+Be|0,ee=ee+Me|0,te=te+Ot|0,ve=ve+De|0,fe=fe+Ze|0,ce=ce+nt|0,ye=ye+st|0,Xe=Xe+rt|0,ut=ut+We|0,ct=ct+et|0,lt=lt+He|0,C[0]=Ie>>>0&255,C[1]=Ie>>>8&255,C[2]=Ie>>>16&255,C[3]=Ie>>>24&255,C[4]=Ke>>>0&255,C[5]=Ke>>>8&255,C[6]=Ke>>>16&255,C[7]=Ke>>>24&255,C[8]=Ae>>>0&255,C[9]=Ae>>>8&255,C[10]=Ae>>>16&255,C[11]=Ae>>>24&255,C[12]=Ne>>>0&255,C[13]=Ne>>>8&255,C[14]=Ne>>>16&255,C[15]=Ne>>>24&255,C[16]=Ve>>>0&255,C[17]=Ve>>>8&255,C[18]=Ve>>>16&255,C[19]=Ve>>>24&255,C[20]=Oe>>>0&255,C[21]=Oe>>>8&255,C[22]=Oe>>>16&255,C[23]=Oe>>>24&255,C[24]=ee>>>0&255,C[25]=ee>>>8&255,C[26]=ee>>>16&255,C[27]=ee>>>24&255,C[28]=te>>>0&255,C[29]=te>>>8&255,C[30]=te>>>16&255,C[31]=te>>>24&255,C[32]=ve>>>0&255,C[33]=ve>>>8&255,C[34]=ve>>>16&255,C[35]=ve>>>24&255,C[36]=fe>>>0&255,C[37]=fe>>>8&255,C[38]=fe>>>16&255,C[39]=fe>>>24&255,C[40]=ce>>>0&255,C[41]=ce>>>8&255,C[42]=ce>>>16&255,C[43]=ce>>>24&255,C[44]=ye>>>0&255,C[45]=ye>>>8&255,C[46]=ye>>>16&255,C[47]=ye>>>24&255,C[48]=Xe>>>0&255,C[49]=Xe>>>8&255,C[50]=Xe>>>16&255,C[51]=Xe>>>24&255,C[52]=ut>>>0&255,C[53]=ut>>>8&255,C[54]=ut>>>16&255,C[55]=ut>>>24&255,C[56]=ct>>>0&255,C[57]=ct>>>8&255,C[58]=ct>>>16&255,C[59]=ct>>>24&255,C[60]=lt>>>0&255,C[61]=lt>>>8&255,C[62]=lt>>>16&255,C[63]=lt>>>24&255}function k(C,A,R,x){for(var N=x[0]&255|(x[1]&255)<<8|(x[2]&255)<<16|(x[3]&255)<<24,$=R[0]&255|(R[1]&255)<<8|(R[2]&255)<<16|(R[3]&255)<<24,V=R[4]&255|(R[5]&255)<<8|(R[6]&255)<<16|(R[7]&255)<<24,ae=R[8]&255|(R[9]&255)<<8|(R[10]&255)<<16|(R[11]&255)<<24,Ce=R[12]&255|(R[13]&255)<<8|(R[14]&255)<<16|(R[15]&255)<<24,Be=x[4]&255|(x[5]&255)<<8|(x[6]&255)<<16|(x[7]&255)<<24,Me=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,Ot=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,De=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,Ze=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,nt=x[8]&255|(x[9]&255)<<8|(x[10]&255)<<16|(x[11]&255)<<24,st=R[16]&255|(R[17]&255)<<8|(R[18]&255)<<16|(R[19]&255)<<24,rt=R[20]&255|(R[21]&255)<<8|(R[22]&255)<<16|(R[23]&255)<<24,We=R[24]&255|(R[25]&255)<<8|(R[26]&255)<<16|(R[27]&255)<<24,et=R[28]&255|(R[29]&255)<<8|(R[30]&255)<<16|(R[31]&255)<<24,He=x[12]&255|(x[13]&255)<<8|(x[14]&255)<<16|(x[15]&255)<<24,Ie=N,Ke=$,Ae=V,Ne=ae,Ve=Ce,Oe=Be,ee=Me,te=Ot,ve=De,fe=Ze,ce=nt,ye=st,Xe=rt,ut=We,ct=et,lt=He,L,yt=0;yt<20;yt+=2)L=Ie+Xe|0,Ve^=L<<7|L>>>25,L=Ve+Ie|0,ve^=L<<9|L>>>23,L=ve+Ve|0,Xe^=L<<13|L>>>19,L=Xe+ve|0,Ie^=L<<18|L>>>14,L=Oe+Ke|0,fe^=L<<7|L>>>25,L=fe+Oe|0,ut^=L<<9|L>>>23,L=ut+fe|0,Ke^=L<<13|L>>>19,L=Ke+ut|0,Oe^=L<<18|L>>>14,L=ce+ee|0,ct^=L<<7|L>>>25,L=ct+ce|0,Ae^=L<<9|L>>>23,L=Ae+ct|0,ee^=L<<13|L>>>19,L=ee+Ae|0,ce^=L<<18|L>>>14,L=lt+ye|0,Ne^=L<<7|L>>>25,L=Ne+lt|0,te^=L<<9|L>>>23,L=te+Ne|0,ye^=L<<13|L>>>19,L=ye+te|0,lt^=L<<18|L>>>14,L=Ie+Ne|0,Ke^=L<<7|L>>>25,L=Ke+Ie|0,Ae^=L<<9|L>>>23,L=Ae+Ke|0,Ne^=L<<13|L>>>19,L=Ne+Ae|0,Ie^=L<<18|L>>>14,L=Oe+Ve|0,ee^=L<<7|L>>>25,L=ee+Oe|0,te^=L<<9|L>>>23,L=te+ee|0,Ve^=L<<13|L>>>19,L=Ve+te|0,Oe^=L<<18|L>>>14,L=ce+fe|0,ye^=L<<7|L>>>25,L=ye+ce|0,ve^=L<<9|L>>>23,L=ve+ye|0,fe^=L<<13|L>>>19,L=fe+ve|0,ce^=L<<18|L>>>14,L=lt+ct|0,Xe^=L<<7|L>>>25,L=Xe+lt|0,ut^=L<<9|L>>>23,L=ut+Xe|0,ct^=L<<13|L>>>19,L=ct+ut|0,lt^=L<<18|L>>>14;C[0]=Ie>>>0&255,C[1]=Ie>>>8&255,C[2]=Ie>>>16&255,C[3]=Ie>>>24&255,C[4]=Oe>>>0&255,C[5]=Oe>>>8&255,C[6]=Oe>>>16&255,C[7]=Oe>>>24&255,C[8]=ce>>>0&255,C[9]=ce>>>8&255,C[10]=ce>>>16&255,C[11]=ce>>>24&255,C[12]=lt>>>0&255,C[13]=lt>>>8&255,C[14]=lt>>>16&255,C[15]=lt>>>24&255,C[16]=ee>>>0&255,C[17]=ee>>>8&255,C[18]=ee>>>16&255,C[19]=ee>>>24&255,C[20]=te>>>0&255,C[21]=te>>>8&255,C[22]=te>>>16&255,C[23]=te>>>24&255,C[24]=ve>>>0&255,C[25]=ve>>>8&255,C[26]=ve>>>16&255,C[27]=ve>>>24&255,C[28]=fe>>>0&255,C[29]=fe>>>8&255,C[30]=fe>>>16&255,C[31]=fe>>>24&255}function j(C,A,R,x){D(C,A,R,x)}function F(C,A,R,x){k(C,A,R,x)}var J=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Y(C,A,R,x,N,$,V){var ae=new Uint8Array(16),Ce=new Uint8Array(64),Be,Me;for(Me=0;Me<16;Me++)ae[Me]=0;for(Me=0;Me<8;Me++)ae[Me]=$[Me];for(;N>=64;){for(j(Ce,ae,V,J),Me=0;Me<64;Me++)C[A+Me]=R[x+Me]^Ce[Me];for(Be=1,Me=8;Me<16;Me++)Be=Be+(ae[Me]&255)|0,ae[Me]=Be&255,Be>>>=8;N-=64,A+=64,x+=64}if(N>0)for(j(Ce,ae,V,J),Me=0;Me<N;Me++)C[A+Me]=R[x+Me]^Ce[Me];return 0}function G(C,A,R,x,N){var $=new Uint8Array(16),V=new Uint8Array(64),ae,Ce;for(Ce=0;Ce<16;Ce++)$[Ce]=0;for(Ce=0;Ce<8;Ce++)$[Ce]=x[Ce];for(;R>=64;){for(j(V,$,N,J),Ce=0;Ce<64;Ce++)C[A+Ce]=V[Ce];for(ae=1,Ce=8;Ce<16;Ce++)ae=ae+($[Ce]&255)|0,$[Ce]=ae&255,ae>>>=8;R-=64,A+=64}if(R>0)for(j(V,$,N,J),Ce=0;Ce<R;Ce++)C[A+Ce]=V[Ce];return 0}function me(C,A,R,x,N){var $=new Uint8Array(32);F($,x,N,J);for(var V=new Uint8Array(8),ae=0;ae<8;ae++)V[ae]=x[ae+16];return G(C,A,R,V,$)}function be(C,A,R,x,N,$,V){var ae=new Uint8Array(32);F(ae,$,V,J);for(var Ce=new Uint8Array(8),Be=0;Be<8;Be++)Ce[Be]=$[Be+16];return Y(C,A,R,x,N,Ce,ae)}var we=function(C){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var A,R,x,N,$,V,ae,Ce;A=C[0]&255|(C[1]&255)<<8,this.r[0]=A&8191,R=C[2]&255|(C[3]&255)<<8,this.r[1]=(A>>>13|R<<3)&8191,x=C[4]&255|(C[5]&255)<<8,this.r[2]=(R>>>10|x<<6)&7939,N=C[6]&255|(C[7]&255)<<8,this.r[3]=(x>>>7|N<<9)&8191,$=C[8]&255|(C[9]&255)<<8,this.r[4]=(N>>>4|$<<12)&255,this.r[5]=$>>>1&8190,V=C[10]&255|(C[11]&255)<<8,this.r[6]=($>>>14|V<<2)&8191,ae=C[12]&255|(C[13]&255)<<8,this.r[7]=(V>>>11|ae<<5)&8065,Ce=C[14]&255|(C[15]&255)<<8,this.r[8]=(ae>>>8|Ce<<8)&8191,this.r[9]=Ce>>>5&127,this.pad[0]=C[16]&255|(C[17]&255)<<8,this.pad[1]=C[18]&255|(C[19]&255)<<8,this.pad[2]=C[20]&255|(C[21]&255)<<8,this.pad[3]=C[22]&255|(C[23]&255)<<8,this.pad[4]=C[24]&255|(C[25]&255)<<8,this.pad[5]=C[26]&255|(C[27]&255)<<8,this.pad[6]=C[28]&255|(C[29]&255)<<8,this.pad[7]=C[30]&255|(C[31]&255)<<8};we.prototype.blocks=function(C,A,R){for(var x=this.fin?0:2048,N,$,V,ae,Ce,Be,Me,Ot,De,Ze,nt,st,rt,We,et,He,Ie,Ke,Ae,Ne=this.h[0],Ve=this.h[1],Oe=this.h[2],ee=this.h[3],te=this.h[4],ve=this.h[5],fe=this.h[6],ce=this.h[7],ye=this.h[8],Xe=this.h[9],ut=this.r[0],ct=this.r[1],lt=this.r[2],L=this.r[3],yt=this.r[4],ot=this.r[5],Ct=this.r[6],ht=this.r[7],_t=this.r[8],gt=this.r[9];R>=16;)N=C[A+0]&255|(C[A+1]&255)<<8,Ne+=N&8191,$=C[A+2]&255|(C[A+3]&255)<<8,Ve+=(N>>>13|$<<3)&8191,V=C[A+4]&255|(C[A+5]&255)<<8,Oe+=($>>>10|V<<6)&8191,ae=C[A+6]&255|(C[A+7]&255)<<8,ee+=(V>>>7|ae<<9)&8191,Ce=C[A+8]&255|(C[A+9]&255)<<8,te+=(ae>>>4|Ce<<12)&8191,ve+=Ce>>>1&8191,Be=C[A+10]&255|(C[A+11]&255)<<8,fe+=(Ce>>>14|Be<<2)&8191,Me=C[A+12]&255|(C[A+13]&255)<<8,ce+=(Be>>>11|Me<<5)&8191,Ot=C[A+14]&255|(C[A+15]&255)<<8,ye+=(Me>>>8|Ot<<8)&8191,Xe+=Ot>>>5|x,De=0,Ze=De,Ze+=Ne*ut,Ze+=Ve*(5*gt),Ze+=Oe*(5*_t),Ze+=ee*(5*ht),Ze+=te*(5*Ct),De=Ze>>>13,Ze&=8191,Ze+=ve*(5*ot),Ze+=fe*(5*yt),Ze+=ce*(5*L),Ze+=ye*(5*lt),Ze+=Xe*(5*ct),De+=Ze>>>13,Ze&=8191,nt=De,nt+=Ne*ct,nt+=Ve*ut,nt+=Oe*(5*gt),nt+=ee*(5*_t),nt+=te*(5*ht),De=nt>>>13,nt&=8191,nt+=ve*(5*Ct),nt+=fe*(5*ot),nt+=ce*(5*yt),nt+=ye*(5*L),nt+=Xe*(5*lt),De+=nt>>>13,nt&=8191,st=De,st+=Ne*lt,st+=Ve*ct,st+=Oe*ut,st+=ee*(5*gt),st+=te*(5*_t),De=st>>>13,st&=8191,st+=ve*(5*ht),st+=fe*(5*Ct),st+=ce*(5*ot),st+=ye*(5*yt),st+=Xe*(5*L),De+=st>>>13,st&=8191,rt=De,rt+=Ne*L,rt+=Ve*lt,rt+=Oe*ct,rt+=ee*ut,rt+=te*(5*gt),De=rt>>>13,rt&=8191,rt+=ve*(5*_t),rt+=fe*(5*ht),rt+=ce*(5*Ct),rt+=ye*(5*ot),rt+=Xe*(5*yt),De+=rt>>>13,rt&=8191,We=De,We+=Ne*yt,We+=Ve*L,We+=Oe*lt,We+=ee*ct,We+=te*ut,De=We>>>13,We&=8191,We+=ve*(5*gt),We+=fe*(5*_t),We+=ce*(5*ht),We+=ye*(5*Ct),We+=Xe*(5*ot),De+=We>>>13,We&=8191,et=De,et+=Ne*ot,et+=Ve*yt,et+=Oe*L,et+=ee*lt,et+=te*ct,De=et>>>13,et&=8191,et+=ve*ut,et+=fe*(5*gt),et+=ce*(5*_t),et+=ye*(5*ht),et+=Xe*(5*Ct),De+=et>>>13,et&=8191,He=De,He+=Ne*Ct,He+=Ve*ot,He+=Oe*yt,He+=ee*L,He+=te*lt,De=He>>>13,He&=8191,He+=ve*ct,He+=fe*ut,He+=ce*(5*gt),He+=ye*(5*_t),He+=Xe*(5*ht),De+=He>>>13,He&=8191,Ie=De,Ie+=Ne*ht,Ie+=Ve*Ct,Ie+=Oe*ot,Ie+=ee*yt,Ie+=te*L,De=Ie>>>13,Ie&=8191,Ie+=ve*lt,Ie+=fe*ct,Ie+=ce*ut,Ie+=ye*(5*gt),Ie+=Xe*(5*_t),De+=Ie>>>13,Ie&=8191,Ke=De,Ke+=Ne*_t,Ke+=Ve*ht,Ke+=Oe*Ct,Ke+=ee*ot,Ke+=te*yt,De=Ke>>>13,Ke&=8191,Ke+=ve*L,Ke+=fe*lt,Ke+=ce*ct,Ke+=ye*ut,Ke+=Xe*(5*gt),De+=Ke>>>13,Ke&=8191,Ae=De,Ae+=Ne*gt,Ae+=Ve*_t,Ae+=Oe*ht,Ae+=ee*Ct,Ae+=te*ot,De=Ae>>>13,Ae&=8191,Ae+=ve*yt,Ae+=fe*L,Ae+=ce*lt,Ae+=ye*ct,Ae+=Xe*ut,De+=Ae>>>13,Ae&=8191,De=(De<<2)+De|0,De=De+Ze|0,Ze=De&8191,De=De>>>13,nt+=De,Ne=Ze,Ve=nt,Oe=st,ee=rt,te=We,ve=et,fe=He,ce=Ie,ye=Ke,Xe=Ae,A+=16,R-=16;this.h[0]=Ne,this.h[1]=Ve,this.h[2]=Oe,this.h[3]=ee,this.h[4]=te,this.h[5]=ve,this.h[6]=fe,this.h[7]=ce,this.h[8]=ye,this.h[9]=Xe},we.prototype.finish=function(C,A){var R=new Uint16Array(10),x,N,$,V;if(this.leftover){for(V=this.leftover,this.buffer[V++]=1;V<16;V++)this.buffer[V]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(x=this.h[1]>>>13,this.h[1]&=8191,V=2;V<10;V++)this.h[V]+=x,x=this.h[V]>>>13,this.h[V]&=8191;for(this.h[0]+=x*5,x=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=x,x=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=x,R[0]=this.h[0]+5,x=R[0]>>>13,R[0]&=8191,V=1;V<10;V++)R[V]=this.h[V]+x,x=R[V]>>>13,R[V]&=8191;for(R[9]-=8192,N=(x^1)-1,V=0;V<10;V++)R[V]&=N;for(N=~N,V=0;V<10;V++)this.h[V]=this.h[V]&N|R[V];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,$=this.h[0]+this.pad[0],this.h[0]=$&65535,V=1;V<8;V++)$=(this.h[V]+this.pad[V]|0)+($>>>16)|0,this.h[V]=$&65535;C[A+0]=this.h[0]>>>0&255,C[A+1]=this.h[0]>>>8&255,C[A+2]=this.h[1]>>>0&255,C[A+3]=this.h[1]>>>8&255,C[A+4]=this.h[2]>>>0&255,C[A+5]=this.h[2]>>>8&255,C[A+6]=this.h[3]>>>0&255,C[A+7]=this.h[3]>>>8&255,C[A+8]=this.h[4]>>>0&255,C[A+9]=this.h[4]>>>8&255,C[A+10]=this.h[5]>>>0&255,C[A+11]=this.h[5]>>>8&255,C[A+12]=this.h[6]>>>0&255,C[A+13]=this.h[6]>>>8&255,C[A+14]=this.h[7]>>>0&255,C[A+15]=this.h[7]>>>8&255},we.prototype.update=function(C,A,R){var x,N;if(this.leftover){for(N=16-this.leftover,N>R&&(N=R),x=0;x<N;x++)this.buffer[this.leftover+x]=C[A+x];if(R-=N,A+=N,this.leftover+=N,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(R>=16&&(N=R-R%16,this.blocks(C,A,N),A+=N,R-=N),R){for(x=0;x<R;x++)this.buffer[this.leftover+x]=C[A+x];this.leftover+=R}};function ge(C,A,R,x,N,$){var V=new we($);return V.update(R,x,N),V.finish(C,A),0}function Ee(C,A,R,x,N,$){var V=new Uint8Array(16);return ge(V,0,R,x,N,$),M(C,A,V,0)}function pe(C,A,R,x,N){var $;if(R<32)return-1;for(be(C,0,A,0,R,x,N),ge(C,16,C,32,R-32,C),$=0;$<16;$++)C[$]=0;return 0}function Te(C,A,R,x,N){var $,V=new Uint8Array(32);if(R<32||(me(V,0,32,x,N),Ee(A,16,A,32,R-32,V)!==0))return-1;for(be(C,0,A,0,R,x,N),$=0;$<32;$++)C[$]=0;return 0}function H(C,A){var R;for(R=0;R<16;R++)C[R]=A[R]|0}function ie(C){var A,R,x=1;for(A=0;A<16;A++)R=C[A]+x+65535,x=Math.floor(R/65536),C[A]=R-x*65536;C[0]+=x-1+37*(x-1)}function X(C,A,R){for(var x,N=~(R-1),$=0;$<16;$++)x=N&(C[$]^A[$]),C[$]^=x,A[$]^=x}function je(C,A){var R,x,N,$=n(),V=n();for(R=0;R<16;R++)V[R]=A[R];for(ie(V),ie(V),ie(V),x=0;x<2;x++){for($[0]=V[0]-65517,R=1;R<15;R++)$[R]=V[R]-65535-($[R-1]>>16&1),$[R-1]&=65535;$[15]=V[15]-32767-($[14]>>16&1),N=$[15]>>16&1,$[14]&=65535,X(V,$,1-N)}for(R=0;R<16;R++)C[2*R]=V[R]&255,C[2*R+1]=V[R]>>8}function Je(C,A){var R=new Uint8Array(32),x=new Uint8Array(32);return je(R,C),je(x,A),P(R,0,x,0)}function I(C){var A=new Uint8Array(32);return je(A,C),A[0]&1}function se(C,A){var R;for(R=0;R<16;R++)C[R]=A[2*R]+(A[2*R+1]<<8);C[15]&=32767}function de(C,A,R){for(var x=0;x<16;x++)C[x]=A[x]+R[x]}function xe(C,A,R){for(var x=0;x<16;x++)C[x]=A[x]-R[x]}function _e(C,A,R){var x,N,$=0,V=0,ae=0,Ce=0,Be=0,Me=0,Ot=0,De=0,Ze=0,nt=0,st=0,rt=0,We=0,et=0,He=0,Ie=0,Ke=0,Ae=0,Ne=0,Ve=0,Oe=0,ee=0,te=0,ve=0,fe=0,ce=0,ye=0,Xe=0,ut=0,ct=0,lt=0,L=R[0],yt=R[1],ot=R[2],Ct=R[3],ht=R[4],_t=R[5],gt=R[6],sn=R[7],jt=R[8],Vt=R[9],an=R[10],en=R[11],fn=R[12],bn=R[13],jn=R[14],Ln=R[15];x=A[0],$+=x*L,V+=x*yt,ae+=x*ot,Ce+=x*Ct,Be+=x*ht,Me+=x*_t,Ot+=x*gt,De+=x*sn,Ze+=x*jt,nt+=x*Vt,st+=x*an,rt+=x*en,We+=x*fn,et+=x*bn,He+=x*jn,Ie+=x*Ln,x=A[1],V+=x*L,ae+=x*yt,Ce+=x*ot,Be+=x*Ct,Me+=x*ht,Ot+=x*_t,De+=x*gt,Ze+=x*sn,nt+=x*jt,st+=x*Vt,rt+=x*an,We+=x*en,et+=x*fn,He+=x*bn,Ie+=x*jn,Ke+=x*Ln,x=A[2],ae+=x*L,Ce+=x*yt,Be+=x*ot,Me+=x*Ct,Ot+=x*ht,De+=x*_t,Ze+=x*gt,nt+=x*sn,st+=x*jt,rt+=x*Vt,We+=x*an,et+=x*en,He+=x*fn,Ie+=x*bn,Ke+=x*jn,Ae+=x*Ln,x=A[3],Ce+=x*L,Be+=x*yt,Me+=x*ot,Ot+=x*Ct,De+=x*ht,Ze+=x*_t,nt+=x*gt,st+=x*sn,rt+=x*jt,We+=x*Vt,et+=x*an,He+=x*en,Ie+=x*fn,Ke+=x*bn,Ae+=x*jn,Ne+=x*Ln,x=A[4],Be+=x*L,Me+=x*yt,Ot+=x*ot,De+=x*Ct,Ze+=x*ht,nt+=x*_t,st+=x*gt,rt+=x*sn,We+=x*jt,et+=x*Vt,He+=x*an,Ie+=x*en,Ke+=x*fn,Ae+=x*bn,Ne+=x*jn,Ve+=x*Ln,x=A[5],Me+=x*L,Ot+=x*yt,De+=x*ot,Ze+=x*Ct,nt+=x*ht,st+=x*_t,rt+=x*gt,We+=x*sn,et+=x*jt,He+=x*Vt,Ie+=x*an,Ke+=x*en,Ae+=x*fn,Ne+=x*bn,Ve+=x*jn,Oe+=x*Ln,x=A[6],Ot+=x*L,De+=x*yt,Ze+=x*ot,nt+=x*Ct,st+=x*ht,rt+=x*_t,We+=x*gt,et+=x*sn,He+=x*jt,Ie+=x*Vt,Ke+=x*an,Ae+=x*en,Ne+=x*fn,Ve+=x*bn,Oe+=x*jn,ee+=x*Ln,x=A[7],De+=x*L,Ze+=x*yt,nt+=x*ot,st+=x*Ct,rt+=x*ht,We+=x*_t,et+=x*gt,He+=x*sn,Ie+=x*jt,Ke+=x*Vt,Ae+=x*an,Ne+=x*en,Ve+=x*fn,Oe+=x*bn,ee+=x*jn,te+=x*Ln,x=A[8],Ze+=x*L,nt+=x*yt,st+=x*ot,rt+=x*Ct,We+=x*ht,et+=x*_t,He+=x*gt,Ie+=x*sn,Ke+=x*jt,Ae+=x*Vt,Ne+=x*an,Ve+=x*en,Oe+=x*fn,ee+=x*bn,te+=x*jn,ve+=x*Ln,x=A[9],nt+=x*L,st+=x*yt,rt+=x*ot,We+=x*Ct,et+=x*ht,He+=x*_t,Ie+=x*gt,Ke+=x*sn,Ae+=x*jt,Ne+=x*Vt,Ve+=x*an,Oe+=x*en,ee+=x*fn,te+=x*bn,ve+=x*jn,fe+=x*Ln,x=A[10],st+=x*L,rt+=x*yt,We+=x*ot,et+=x*Ct,He+=x*ht,Ie+=x*_t,Ke+=x*gt,Ae+=x*sn,Ne+=x*jt,Ve+=x*Vt,Oe+=x*an,ee+=x*en,te+=x*fn,ve+=x*bn,fe+=x*jn,ce+=x*Ln,x=A[11],rt+=x*L,We+=x*yt,et+=x*ot,He+=x*Ct,Ie+=x*ht,Ke+=x*_t,Ae+=x*gt,Ne+=x*sn,Ve+=x*jt,Oe+=x*Vt,ee+=x*an,te+=x*en,ve+=x*fn,fe+=x*bn,ce+=x*jn,ye+=x*Ln,x=A[12],We+=x*L,et+=x*yt,He+=x*ot,Ie+=x*Ct,Ke+=x*ht,Ae+=x*_t,Ne+=x*gt,Ve+=x*sn,Oe+=x*jt,ee+=x*Vt,te+=x*an,ve+=x*en,fe+=x*fn,ce+=x*bn,ye+=x*jn,Xe+=x*Ln,x=A[13],et+=x*L,He+=x*yt,Ie+=x*ot,Ke+=x*Ct,Ae+=x*ht,Ne+=x*_t,Ve+=x*gt,Oe+=x*sn,ee+=x*jt,te+=x*Vt,ve+=x*an,fe+=x*en,ce+=x*fn,ye+=x*bn,Xe+=x*jn,ut+=x*Ln,x=A[14],He+=x*L,Ie+=x*yt,Ke+=x*ot,Ae+=x*Ct,Ne+=x*ht,Ve+=x*_t,Oe+=x*gt,ee+=x*sn,te+=x*jt,ve+=x*Vt,fe+=x*an,ce+=x*en,ye+=x*fn,Xe+=x*bn,ut+=x*jn,ct+=x*Ln,x=A[15],Ie+=x*L,Ke+=x*yt,Ae+=x*ot,Ne+=x*Ct,Ve+=x*ht,Oe+=x*_t,ee+=x*gt,te+=x*sn,ve+=x*jt,fe+=x*Vt,ce+=x*an,ye+=x*en,Xe+=x*fn,ut+=x*bn,ct+=x*jn,lt+=x*Ln,$+=38*Ke,V+=38*Ae,ae+=38*Ne,Ce+=38*Ve,Be+=38*Oe,Me+=38*ee,Ot+=38*te,De+=38*ve,Ze+=38*fe,nt+=38*ce,st+=38*ye,rt+=38*Xe,We+=38*ut,et+=38*ct,He+=38*lt,N=1,x=$+N+65535,N=Math.floor(x/65536),$=x-N*65536,x=V+N+65535,N=Math.floor(x/65536),V=x-N*65536,x=ae+N+65535,N=Math.floor(x/65536),ae=x-N*65536,x=Ce+N+65535,N=Math.floor(x/65536),Ce=x-N*65536,x=Be+N+65535,N=Math.floor(x/65536),Be=x-N*65536,x=Me+N+65535,N=Math.floor(x/65536),Me=x-N*65536,x=Ot+N+65535,N=Math.floor(x/65536),Ot=x-N*65536,x=De+N+65535,N=Math.floor(x/65536),De=x-N*65536,x=Ze+N+65535,N=Math.floor(x/65536),Ze=x-N*65536,x=nt+N+65535,N=Math.floor(x/65536),nt=x-N*65536,x=st+N+65535,N=Math.floor(x/65536),st=x-N*65536,x=rt+N+65535,N=Math.floor(x/65536),rt=x-N*65536,x=We+N+65535,N=Math.floor(x/65536),We=x-N*65536,x=et+N+65535,N=Math.floor(x/65536),et=x-N*65536,x=He+N+65535,N=Math.floor(x/65536),He=x-N*65536,x=Ie+N+65535,N=Math.floor(x/65536),Ie=x-N*65536,$+=N-1+37*(N-1),N=1,x=$+N+65535,N=Math.floor(x/65536),$=x-N*65536,x=V+N+65535,N=Math.floor(x/65536),V=x-N*65536,x=ae+N+65535,N=Math.floor(x/65536),ae=x-N*65536,x=Ce+N+65535,N=Math.floor(x/65536),Ce=x-N*65536,x=Be+N+65535,N=Math.floor(x/65536),Be=x-N*65536,x=Me+N+65535,N=Math.floor(x/65536),Me=x-N*65536,x=Ot+N+65535,N=Math.floor(x/65536),Ot=x-N*65536,x=De+N+65535,N=Math.floor(x/65536),De=x-N*65536,x=Ze+N+65535,N=Math.floor(x/65536),Ze=x-N*65536,x=nt+N+65535,N=Math.floor(x/65536),nt=x-N*65536,x=st+N+65535,N=Math.floor(x/65536),st=x-N*65536,x=rt+N+65535,N=Math.floor(x/65536),rt=x-N*65536,x=We+N+65535,N=Math.floor(x/65536),We=x-N*65536,x=et+N+65535,N=Math.floor(x/65536),et=x-N*65536,x=He+N+65535,N=Math.floor(x/65536),He=x-N*65536,x=Ie+N+65535,N=Math.floor(x/65536),Ie=x-N*65536,$+=N-1+37*(N-1),C[0]=$,C[1]=V,C[2]=ae,C[3]=Ce,C[4]=Be,C[5]=Me,C[6]=Ot,C[7]=De,C[8]=Ze,C[9]=nt,C[10]=st,C[11]=rt,C[12]=We,C[13]=et,C[14]=He,C[15]=Ie}function Re(C,A){_e(C,A,A)}function ze(C,A){var R=n(),x;for(x=0;x<16;x++)R[x]=A[x];for(x=253;x>=0;x--)Re(R,R),x!==2&&x!==4&&_e(R,R,A);for(x=0;x<16;x++)C[x]=R[x]}function Nt(C,A){var R=n(),x;for(x=0;x<16;x++)R[x]=A[x];for(x=250;x>=0;x--)Re(R,R),x!==1&&_e(R,R,A);for(x=0;x<16;x++)C[x]=R[x]}function z(C,A,R){var x=new Uint8Array(32),N=new Float64Array(80),$,V,ae=n(),Ce=n(),Be=n(),Me=n(),Ot=n(),De=n();for(V=0;V<31;V++)x[V]=A[V];for(x[31]=A[31]&127|64,x[0]&=248,se(N,R),V=0;V<16;V++)Ce[V]=N[V],Me[V]=ae[V]=Be[V]=0;for(ae[0]=Me[0]=1,V=254;V>=0;--V)$=x[V>>>3]>>>(V&7)&1,X(ae,Ce,$),X(Be,Me,$),de(Ot,ae,Be),xe(ae,ae,Be),de(Be,Ce,Me),xe(Ce,Ce,Me),Re(Me,Ot),Re(De,ae),_e(ae,Be,ae),_e(Be,Ce,Ot),de(Ot,ae,Be),xe(ae,ae,Be),Re(Ce,ae),xe(Be,Me,De),_e(ae,Be,d),de(ae,ae,Me),_e(Be,Be,ae),_e(ae,Me,De),_e(Me,Ce,N),Re(Ce,Ot),X(ae,Ce,$),X(Be,Me,$);for(V=0;V<16;V++)N[V+16]=ae[V],N[V+32]=Be[V],N[V+48]=Ce[V],N[V+64]=Me[V];var Ze=N.subarray(32),nt=N.subarray(16);return ze(Ze,Ze),_e(nt,nt,Ze),je(C,nt),0}function Q(C,A){return z(C,A,c)}function le(C,A){return s(A,32),Q(C,A)}function Pe(C,A,R){var x=new Uint8Array(32);return z(x,R,A),F(C,a,x,J)}var Le=pe,Ue=Te;function Dt(C,A,R,x,N,$){var V=new Uint8Array(32);return Pe(V,N,$),Le(C,A,R,x,V)}function bt(C,A,R,x,N,$){var V=new Uint8Array(32);return Pe(V,N,$),Ue(C,A,R,x,V)}var Zt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Bt(C,A,R,x){for(var N=new Int32Array(16),$=new Int32Array(16),V,ae,Ce,Be,Me,Ot,De,Ze,nt,st,rt,We,et,He,Ie,Ke,Ae,Ne,Ve,Oe,ee,te,ve,fe,ce,ye,Xe=C[0],ut=C[1],ct=C[2],lt=C[3],L=C[4],yt=C[5],ot=C[6],Ct=C[7],ht=A[0],_t=A[1],gt=A[2],sn=A[3],jt=A[4],Vt=A[5],an=A[6],en=A[7],fn=0;x>=128;){for(Ve=0;Ve<16;Ve++)Oe=8*Ve+fn,N[Ve]=R[Oe+0]<<24|R[Oe+1]<<16|R[Oe+2]<<8|R[Oe+3],$[Ve]=R[Oe+4]<<24|R[Oe+5]<<16|R[Oe+6]<<8|R[Oe+7];for(Ve=0;Ve<80;Ve++)if(V=Xe,ae=ut,Ce=ct,Be=lt,Me=L,Ot=yt,De=ot,Ze=Ct,nt=ht,st=_t,rt=gt,We=sn,et=jt,He=Vt,Ie=an,Ke=en,ee=Ct,te=en,ve=te&65535,fe=te>>>16,ce=ee&65535,ye=ee>>>16,ee=(L>>>14|jt<<18)^(L>>>18|jt<<14)^(jt>>>9|L<<23),te=(jt>>>14|L<<18)^(jt>>>18|L<<14)^(L>>>9|jt<<23),ve+=te&65535,fe+=te>>>16,ce+=ee&65535,ye+=ee>>>16,ee=L&yt^~L&ot,te=jt&Vt^~jt&an,ve+=te&65535,fe+=te>>>16,ce+=ee&65535,ye+=ee>>>16,ee=Zt[Ve*2],te=Zt[Ve*2+1],ve+=te&65535,fe+=te>>>16,ce+=ee&65535,ye+=ee>>>16,ee=N[Ve%16],te=$[Ve%16],ve+=te&65535,fe+=te>>>16,ce+=ee&65535,ye+=ee>>>16,fe+=ve>>>16,ce+=fe>>>16,ye+=ce>>>16,Ae=ce&65535|ye<<16,Ne=ve&65535|fe<<16,ee=Ae,te=Ne,ve=te&65535,fe=te>>>16,ce=ee&65535,ye=ee>>>16,ee=(Xe>>>28|ht<<4)^(ht>>>2|Xe<<30)^(ht>>>7|Xe<<25),te=(ht>>>28|Xe<<4)^(Xe>>>2|ht<<30)^(Xe>>>7|ht<<25),ve+=te&65535,fe+=te>>>16,ce+=ee&65535,ye+=ee>>>16,ee=Xe&ut^Xe&ct^ut&ct,te=ht&_t^ht&gt^_t&gt,ve+=te&65535,fe+=te>>>16,ce+=ee&65535,ye+=ee>>>16,fe+=ve>>>16,ce+=fe>>>16,ye+=ce>>>16,Ze=ce&65535|ye<<16,Ke=ve&65535|fe<<16,ee=Be,te=We,ve=te&65535,fe=te>>>16,ce=ee&65535,ye=ee>>>16,ee=Ae,te=Ne,ve+=te&65535,fe+=te>>>16,ce+=ee&65535,ye+=ee>>>16,fe+=ve>>>16,ce+=fe>>>16,ye+=ce>>>16,Be=ce&65535|ye<<16,We=ve&65535|fe<<16,ut=V,ct=ae,lt=Ce,L=Be,yt=Me,ot=Ot,Ct=De,Xe=Ze,_t=nt,gt=st,sn=rt,jt=We,Vt=et,an=He,en=Ie,ht=Ke,Ve%16===15)for(Oe=0;Oe<16;Oe++)ee=N[Oe],te=$[Oe],ve=te&65535,fe=te>>>16,ce=ee&65535,ye=ee>>>16,ee=N[(Oe+9)%16],te=$[(Oe+9)%16],ve+=te&65535,fe+=te>>>16,ce+=ee&65535,ye+=ee>>>16,Ae=N[(Oe+1)%16],Ne=$[(Oe+1)%16],ee=(Ae>>>1|Ne<<31)^(Ae>>>8|Ne<<24)^Ae>>>7,te=(Ne>>>1|Ae<<31)^(Ne>>>8|Ae<<24)^(Ne>>>7|Ae<<25),ve+=te&65535,fe+=te>>>16,ce+=ee&65535,ye+=ee>>>16,Ae=N[(Oe+14)%16],Ne=$[(Oe+14)%16],ee=(Ae>>>19|Ne<<13)^(Ne>>>29|Ae<<3)^Ae>>>6,te=(Ne>>>19|Ae<<13)^(Ae>>>29|Ne<<3)^(Ne>>>6|Ae<<26),ve+=te&65535,fe+=te>>>16,ce+=ee&65535,ye+=ee>>>16,fe+=ve>>>16,ce+=fe>>>16,ye+=ce>>>16,N[Oe]=ce&65535|ye<<16,$[Oe]=ve&65535|fe<<16;ee=Xe,te=ht,ve=te&65535,fe=te>>>16,ce=ee&65535,ye=ee>>>16,ee=C[0],te=A[0],ve+=te&65535,fe+=te>>>16,ce+=ee&65535,ye+=ee>>>16,fe+=ve>>>16,ce+=fe>>>16,ye+=ce>>>16,C[0]=Xe=ce&65535|ye<<16,A[0]=ht=ve&65535|fe<<16,ee=ut,te=_t,ve=te&65535,fe=te>>>16,ce=ee&65535,ye=ee>>>16,ee=C[1],te=A[1],ve+=te&65535,fe+=te>>>16,ce+=ee&65535,ye+=ee>>>16,fe+=ve>>>16,ce+=fe>>>16,ye+=ce>>>16,C[1]=ut=ce&65535|ye<<16,A[1]=_t=ve&65535|fe<<16,ee=ct,te=gt,ve=te&65535,fe=te>>>16,ce=ee&65535,ye=ee>>>16,ee=C[2],te=A[2],ve+=te&65535,fe+=te>>>16,ce+=ee&65535,ye+=ee>>>16,fe+=ve>>>16,ce+=fe>>>16,ye+=ce>>>16,C[2]=ct=ce&65535|ye<<16,A[2]=gt=ve&65535|fe<<16,ee=lt,te=sn,ve=te&65535,fe=te>>>16,ce=ee&65535,ye=ee>>>16,ee=C[3],te=A[3],ve+=te&65535,fe+=te>>>16,ce+=ee&65535,ye+=ee>>>16,fe+=ve>>>16,ce+=fe>>>16,ye+=ce>>>16,C[3]=lt=ce&65535|ye<<16,A[3]=sn=ve&65535|fe<<16,ee=L,te=jt,ve=te&65535,fe=te>>>16,ce=ee&65535,ye=ee>>>16,ee=C[4],te=A[4],ve+=te&65535,fe+=te>>>16,ce+=ee&65535,ye+=ee>>>16,fe+=ve>>>16,ce+=fe>>>16,ye+=ce>>>16,C[4]=L=ce&65535|ye<<16,A[4]=jt=ve&65535|fe<<16,ee=yt,te=Vt,ve=te&65535,fe=te>>>16,ce=ee&65535,ye=ee>>>16,ee=C[5],te=A[5],ve+=te&65535,fe+=te>>>16,ce+=ee&65535,ye+=ee>>>16,fe+=ve>>>16,ce+=fe>>>16,ye+=ce>>>16,C[5]=yt=ce&65535|ye<<16,A[5]=Vt=ve&65535|fe<<16,ee=ot,te=an,ve=te&65535,fe=te>>>16,ce=ee&65535,ye=ee>>>16,ee=C[6],te=A[6],ve+=te&65535,fe+=te>>>16,ce+=ee&65535,ye+=ee>>>16,fe+=ve>>>16,ce+=fe>>>16,ye+=ce>>>16,C[6]=ot=ce&65535|ye<<16,A[6]=an=ve&65535|fe<<16,ee=Ct,te=en,ve=te&65535,fe=te>>>16,ce=ee&65535,ye=ee>>>16,ee=C[7],te=A[7],ve+=te&65535,fe+=te>>>16,ce+=ee&65535,ye+=ee>>>16,fe+=ve>>>16,ce+=fe>>>16,ye+=ce>>>16,C[7]=Ct=ce&65535|ye<<16,A[7]=en=ve&65535|fe<<16,fn+=128,x-=128}return x}function xt(C,A,R){var x=new Int32Array(8),N=new Int32Array(8),$=new Uint8Array(256),V,ae=R;for(x[0]=1779033703,x[1]=3144134277,x[2]=1013904242,x[3]=2773480762,x[4]=1359893119,x[5]=2600822924,x[6]=528734635,x[7]=1541459225,N[0]=4089235720,N[1]=2227873595,N[2]=4271175723,N[3]=1595750129,N[4]=2917565137,N[5]=725511199,N[6]=4215389547,N[7]=327033209,Bt(x,N,A,R),R%=128,V=0;V<R;V++)$[V]=A[ae-R+V];for($[R]=128,R=256-128*(R<112?1:0),$[R-9]=0,w($,R-8,ae/536870912|0,ae<<3),Bt(x,N,$,R),V=0;V<8;V++)w(C,8*V,x[V],N[V]);return 0}function kt(C,A){var R=n(),x=n(),N=n(),$=n(),V=n(),ae=n(),Ce=n(),Be=n(),Me=n();xe(R,C[1],C[0]),xe(Me,A[1],A[0]),_e(R,R,Me),de(x,C[0],C[1]),de(Me,A[0],A[1]),_e(x,x,Me),_e(N,C[3],A[3]),_e(N,N,y),_e($,C[2],A[2]),de($,$,$),xe(V,x,R),xe(ae,$,N),de(Ce,$,N),de(Be,x,R),_e(C[0],V,ae),_e(C[1],Be,Ce),_e(C[2],Ce,ae),_e(C[3],V,Be)}function Gt(C,A,R){var x;for(x=0;x<4;x++)X(C[x],A[x],R)}function Rn(C,A){var R=n(),x=n(),N=n();ze(N,A[2]),_e(R,A[0],N),_e(x,A[1],N),je(C,x),C[31]^=I(R)<<7}function at(C,A,R){var x,N;for(H(C[0],u),H(C[1],f),H(C[2],f),H(C[3],u),N=255;N>=0;--N)x=R[N/8|0]>>(N&7)&1,Gt(C,A,x),kt(A,C),kt(C,C),Gt(C,A,x)}function dt(C,A){var R=[n(),n(),n(),n()];H(R[0],g),H(R[1],v),H(R[2],f),_e(R[3],g,v),at(C,R,A)}function Wt(C,A,R){var x=new Uint8Array(64),N=[n(),n(),n(),n()],$;for(R||s(A,32),xt(x,A,32),x[0]&=248,x[31]&=127,x[31]|=64,dt(N,x),Rn(C,N),$=0;$<32;$++)A[$+32]=C[$];return 0}var Dn=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function fr(C,A){var R,x,N,$;for(x=63;x>=32;--x){for(R=0,N=x-32,$=x-12;N<$;++N)A[N]+=R-16*A[x]*Dn[N-(x-32)],R=Math.floor((A[N]+128)/256),A[N]-=R*256;A[N]+=R,A[x]=0}for(R=0,N=0;N<32;N++)A[N]+=R-(A[31]>>4)*Dn[N],R=A[N]>>8,A[N]&=255;for(N=0;N<32;N++)A[N]-=R*Dn[N];for(x=0;x<32;x++)A[x+1]+=A[x]>>8,C[x]=A[x]&255}function An(C){var A=new Float64Array(64),R;for(R=0;R<64;R++)A[R]=C[R];for(R=0;R<64;R++)C[R]=0;fr(C,A)}function zr(C,A,R,x){var N=new Uint8Array(64),$=new Uint8Array(64),V=new Uint8Array(64),ae,Ce,Be=new Float64Array(64),Me=[n(),n(),n(),n()];xt(N,x,32),N[0]&=248,N[31]&=127,N[31]|=64;var Ot=R+64;for(ae=0;ae<R;ae++)C[64+ae]=A[ae];for(ae=0;ae<32;ae++)C[32+ae]=N[32+ae];for(xt(V,C.subarray(32),R+32),An(V),dt(Me,V),Rn(C,Me),ae=32;ae<64;ae++)C[ae]=x[ae];for(xt($,C,R+64),An($),ae=0;ae<64;ae++)Be[ae]=0;for(ae=0;ae<32;ae++)Be[ae]=V[ae];for(ae=0;ae<32;ae++)for(Ce=0;Ce<32;Ce++)Be[ae+Ce]+=$[ae]*N[Ce];return fr(C.subarray(32),Be),Ot}function dr(C,A){var R=n(),x=n(),N=n(),$=n(),V=n(),ae=n(),Ce=n();return H(C[2],f),se(C[1],A),Re(N,C[1]),_e($,N,p),xe(N,N,C[2]),de($,C[2],$),Re(V,$),Re(ae,V),_e(Ce,ae,V),_e(R,Ce,N),_e(R,R,$),Nt(R,R),_e(R,R,N),_e(R,R,$),_e(R,R,$),_e(C[0],R,$),Re(x,C[0]),_e(x,x,$),Je(x,N)&&_e(C[0],C[0],S),Re(x,C[0]),_e(x,x,$),Je(x,N)?-1:(I(C[0])===A[31]>>7&&xe(C[0],u,C[0]),_e(C[3],C[0],C[1]),0)}function Wr(C,A,R,x){var N,$=new Uint8Array(32),V=new Uint8Array(64),ae=[n(),n(),n(),n()],Ce=[n(),n(),n(),n()];if(R<64||dr(Ce,x))return-1;for(N=0;N<R;N++)C[N]=A[N];for(N=0;N<32;N++)C[N+32]=x[N];if(xt(V,C,R),An(V),at(ae,Ce,V),dt(Ce,A.subarray(32)),kt(ae,Ce),Rn($,ae),R-=64,P(A,0,$,0)){for(N=0;N<R;N++)C[N]=0;return-1}for(N=0;N<R;N++)C[N]=A[N+64];return R}var Ni=32,hr=24,un=32,kn=16,yn=32,Zs=32,bs=32,Ss=32,es=32,_s=hr,Js=un,Br=kn,In=64,qn=32,Hr=64,Ws=32,re=64;e.lowlevel={crypto_core_hsalsa20:F,crypto_stream_xor:be,crypto_stream:me,crypto_stream_salsa20_xor:Y,crypto_stream_salsa20:G,crypto_onetimeauth:ge,crypto_onetimeauth_verify:Ee,crypto_verify_16:M,crypto_verify_32:P,crypto_secretbox:pe,crypto_secretbox_open:Te,crypto_scalarmult:z,crypto_scalarmult_base:Q,crypto_box_beforenm:Pe,crypto_box_afternm:Le,crypto_box:Dt,crypto_box_open:bt,crypto_box_keypair:le,crypto_hash:xt,crypto_sign:zr,crypto_sign_keypair:Wt,crypto_sign_open:Wr,crypto_secretbox_KEYBYTES:Ni,crypto_secretbox_NONCEBYTES:hr,crypto_secretbox_ZEROBYTES:un,crypto_secretbox_BOXZEROBYTES:kn,crypto_scalarmult_BYTES:yn,crypto_scalarmult_SCALARBYTES:Zs,crypto_box_PUBLICKEYBYTES:bs,crypto_box_SECRETKEYBYTES:Ss,crypto_box_BEFORENMBYTES:es,crypto_box_NONCEBYTES:_s,crypto_box_ZEROBYTES:Js,crypto_box_BOXZEROBYTES:Br,crypto_sign_BYTES:In,crypto_sign_PUBLICKEYBYTES:qn,crypto_sign_SECRETKEYBYTES:Hr,crypto_sign_SEEDBYTES:Ws,crypto_hash_BYTES:re,gf:n,D:p,L:Dn,pack25519:je,unpack25519:se,M:_e,A:de,S:Re,Z:xe,pow2523:Nt,add:kt,set25519:H,modL:fr,scalarmult:at,scalarbase:dt};function Se(C,A){if(C.length!==Ni)throw new Error("bad key size");if(A.length!==hr)throw new Error("bad nonce size")}function it(C,A){if(C.length!==bs)throw new Error("bad public key size");if(A.length!==Ss)throw new Error("bad secret key size")}function mt(){for(var C=0;C<arguments.length;C++)if(!(arguments[C]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function wt(C){for(var A=0;A<C.length;A++)C[A]=0}e.randomBytes=function(C){var A=new Uint8Array(C);return s(A,C),A},e.secretbox=function(C,A,R){mt(C,A,R),Se(R,A);for(var x=new Uint8Array(un+C.length),N=new Uint8Array(x.length),$=0;$<C.length;$++)x[$+un]=C[$];return pe(N,x,x.length,A,R),N.subarray(kn)},e.secretbox.open=function(C,A,R){mt(C,A,R),Se(R,A);for(var x=new Uint8Array(kn+C.length),N=new Uint8Array(x.length),$=0;$<C.length;$++)x[$+kn]=C[$];return x.length<32||Te(N,x,x.length,A,R)!==0?null:N.subarray(un)},e.secretbox.keyLength=Ni,e.secretbox.nonceLength=hr,e.secretbox.overheadLength=kn,e.scalarMult=function(C,A){if(mt(C,A),C.length!==Zs)throw new Error("bad n size");if(A.length!==yn)throw new Error("bad p size");var R=new Uint8Array(yn);return z(R,C,A),R},e.scalarMult.base=function(C){if(mt(C),C.length!==Zs)throw new Error("bad n size");var A=new Uint8Array(yn);return Q(A,C),A},e.scalarMult.scalarLength=Zs,e.scalarMult.groupElementLength=yn,e.box=function(C,A,R,x){var N=e.box.before(R,x);return e.secretbox(C,A,N)},e.box.before=function(C,A){mt(C,A),it(C,A);var R=new Uint8Array(es);return Pe(R,C,A),R},e.box.after=e.secretbox,e.box.open=function(C,A,R,x){var N=e.box.before(R,x);return e.secretbox.open(C,A,N)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var C=new Uint8Array(bs),A=new Uint8Array(Ss);return le(C,A),{publicKey:C,secretKey:A}},e.box.keyPair.fromSecretKey=function(C){if(mt(C),C.length!==Ss)throw new Error("bad secret key size");var A=new Uint8Array(bs);return Q(A,C),{publicKey:A,secretKey:new Uint8Array(C)}},e.box.publicKeyLength=bs,e.box.secretKeyLength=Ss,e.box.sharedKeyLength=es,e.box.nonceLength=_s,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(C,A){if(mt(C,A),A.length!==Hr)throw new Error("bad secret key size");var R=new Uint8Array(In+C.length);return zr(R,C,C.length,A),R},e.sign.open=function(C,A){if(mt(C,A),A.length!==qn)throw new Error("bad public key size");var R=new Uint8Array(C.length),x=Wr(R,C,C.length,A);if(x<0)return null;for(var N=new Uint8Array(x),$=0;$<N.length;$++)N[$]=R[$];return N},e.sign.detached=function(C,A){for(var R=e.sign(C,A),x=new Uint8Array(In),N=0;N<x.length;N++)x[N]=R[N];return x},e.sign.detached.verify=function(C,A,R){if(mt(C,A,R),A.length!==In)throw new Error("bad signature size");if(R.length!==qn)throw new Error("bad public key size");var x=new Uint8Array(In+C.length),N=new Uint8Array(In+C.length),$;for($=0;$<In;$++)x[$]=A[$];for($=0;$<C.length;$++)x[$+In]=C[$];return Wr(N,x,x.length,R)>=0},e.sign.keyPair=function(){var C=new Uint8Array(qn),A=new Uint8Array(Hr);return Wt(C,A),{publicKey:C,secretKey:A}},e.sign.keyPair.fromSecretKey=function(C){if(mt(C),C.length!==Hr)throw new Error("bad secret key size");for(var A=new Uint8Array(qn),R=0;R<A.length;R++)A[R]=C[32+R];return{publicKey:A,secretKey:new Uint8Array(C)}},e.sign.keyPair.fromSeed=function(C){if(mt(C),C.length!==Ws)throw new Error("bad seed size");for(var A=new Uint8Array(qn),R=new Uint8Array(Hr),x=0;x<32;x++)R[x]=C[x];return Wt(A,R,!0),{publicKey:A,secretKey:R}},e.sign.publicKeyLength=qn,e.sign.secretKeyLength=Hr,e.sign.seedLength=Ws,e.sign.signatureLength=In,e.hash=function(C){mt(C);var A=new Uint8Array(re);return xt(A,C,C.length),A},e.hash.hashLength=re,e.verify=function(C,A){return mt(C,A),C.length===0||A.length===0||C.length!==A.length?!1:E(C,0,A,0,C.length)===0},e.setPRNG=function(C){s=C},(function(){var C=typeof self<"u"?self.crypto||self.msCrypto:null;if(C&&C.getRandomValues){var A=65536;e.setPRNG(function(R,x){var N,$=new Uint8Array(x);for(N=0;N<x;N+=A)C.getRandomValues($.subarray(N,N+Math.min(x-N,A)));for(N=0;N<x;N++)R[N]=$[N];wt($)})}else typeof WD<"u"&&(C=n4,C&&C.randomBytes&&e.setPRNG(function(R,x){var N,$=C.randomBytes(x);for(N=0;N<x;N++)R[N]=$[N];wt($)}))})()})(t.exports?t.exports:self.nacl=self.nacl||{})})(Pp)),Pp.exports}var zu={exports:{}},r4=zu.exports,d1;function KC(){return d1||(d1=1,(function(t){(function(e,n){t.exports?t.exports=n():(e.nacl||(e.nacl={}),e.nacl.util=n())})(r4,function(){var e={};function n(s){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(s))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(s){if(typeof s!="string")throw new TypeError("expected string");var a,c=unescape(encodeURIComponent(s)),u=new Uint8Array(c.length);for(a=0;a<c.length;a++)u[a]=c.charCodeAt(a);return u},e.encodeUTF8=function(s){var a,c=[];for(a=0;a<s.length;a++)c.push(String.fromCharCode(s[a]));return decodeURIComponent(escape(c.join("")))},typeof atob>"u"?typeof Buffer.from<"u"?(e.encodeBase64=function(s){return Buffer.from(s).toString("base64")},e.decodeBase64=function(s){return n(s),new Uint8Array(Array.prototype.slice.call(Buffer.from(s,"base64"),0))}):(e.encodeBase64=function(s){return new Buffer(s).toString("base64")},e.decodeBase64=function(s){return n(s),new Uint8Array(Array.prototype.slice.call(new Buffer(s,"base64"),0))}):(e.encodeBase64=function(s){var a,c=[],u=s.length;for(a=0;a<u;a++)c.push(String.fromCharCode(s[a]));return btoa(c.join(""))},e.decodeBase64=function(s){n(s);var a,c=atob(s),u=new Uint8Array(c.length);for(a=0;a<c.length;a++)u[a]=c.charCodeAt(a);return u}),e})})(zu)),zu.exports}function Xr(t){for(var e=arguments.length,n=Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(a){return"'"+a+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function co(t){return!!t&&!!t[Cr]}function ua(t){var e;return!!t&&((function(n){if(!n||typeof n!="object")return!1;var s=Object.getPrototypeOf(n);if(s===null)return!0;var a=Object.hasOwnProperty.call(s,"constructor")&&s.constructor;return a===Object||typeof a=="function"&&Function.toString.call(a)===f4})(t)||Array.isArray(t)||!!t[b1]||!!(!((e=t.constructor)===null||e===void 0)&&e[b1])||Uy(t)||Iy(t))}function Lc(t,e,n){n===void 0&&(n=!1),go(t)===0?(n?Object.keys:Vy)(t).forEach((function(s){n&&typeof s=="symbol"||e(s,t[s],t)})):t.forEach((function(s,a){return e(a,s,t)}))}function go(t){var e=t[Cr];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Uy(t)?2:Iy(t)?3:0}function Mm(t,e){return go(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function s4(t,e){return go(t)===2?t.get(e):t[e]}function XC(t,e,n){var s=go(t);s===2?t.set(e,n):s===3?t.add(n):t[e]=n}function i4(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Uy(t){return l4&&t instanceof Map}function Iy(t){return u4&&t instanceof Set}function ea(t){return t.o||t.t}function zy(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=d4(t);delete e[Cr];for(var n=Vy(e),s=0;s<n.length;s++){var a=n[s],c=e[a];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(e[a]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[a]})}return Object.create(Object.getPrototypeOf(t),e)}function By(t,e){return e===void 0&&(e=!1),Hy(t)||co(t)||!ua(t)||(go(t)>1&&(t.set=t.add=t.clear=t.delete=a4),Object.freeze(t),e&&Lc(t,(function(n,s){return By(s,!0)}),!0)),t}function a4(){Xr(2)}function Hy(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function ds(t){var e=h4[t];return e||Xr(18,t),e}function h1(){return Uc}function Np(t,e){e&&(ds("Patches"),t.u=[],t.s=[],t.v=e)}function ff(t){Pm(t),t.p.forEach(o4),t.p=null}function Pm(t){t===Uc&&(Uc=t.l)}function p1(t){return Uc={p:[],l:Uc,h:t,m:!0,_:0}}function o4(t){var e=t[Cr];e.i===0||e.i===1?e.j():e.g=!0}function Dp(t,e){e._=e.p.length;var n=e.p[0],s=t!==void 0&&t!==n;return e.h.O||ds("ES5").S(e,t,s),s?(n[Cr].P&&(ff(e),Xr(4)),ua(t)&&(t=df(e,t),e.l||hf(e,t)),e.u&&ds("Patches").M(n[Cr].t,t,e.u,e.s)):t=df(e,n,[]),ff(e),e.u&&e.v(e.u,e.s),t!==QC?t:void 0}function df(t,e,n){if(Hy(e))return e;var s=e[Cr];if(!s)return Lc(e,(function(f,d){return m1(t,s,e,f,d,n)}),!0),e;if(s.A!==t)return e;if(!s.P)return hf(t,s.t,!0),s.t;if(!s.I){s.I=!0,s.A._--;var a=s.i===4||s.i===5?s.o=zy(s.k):s.o,c=a,u=!1;s.i===3&&(c=new Set(a),a.clear(),u=!0),Lc(c,(function(f,d){return m1(t,s,a,f,d,n,u)})),hf(t,a,!1),n&&t.u&&ds("Patches").N(s,n,t.u,t.s)}return s.o}function m1(t,e,n,s,a,c,u){if(co(a)){var f=df(t,a,c&&e&&e.i!==3&&!Mm(e.R,s)?c.concat(s):void 0);if(XC(n,s,f),!co(f))return;t.m=!1}else u&&n.add(a);if(ua(a)&&!Hy(a)){if(!t.h.D&&t._<1)return;df(t,a),e&&e.A.l||hf(t,a)}}function hf(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&By(e,n)}function kp(t,e){var n=t[Cr];return(n?ea(n):t)[e]}function y1(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var s=Object.getOwnPropertyDescriptor(n,e);if(s)return s;n=Object.getPrototypeOf(n)}}function Nm(t){t.P||(t.P=!0,t.l&&Nm(t.l))}function jp(t){t.o||(t.o=zy(t.t))}function Dm(t,e,n){var s=Uy(e)?ds("MapSet").F(e,n):Iy(e)?ds("MapSet").T(e,n):t.O?(function(a,c){var u=Array.isArray(a),f={i:u?1:0,A:c?c.A:h1(),P:!1,I:!1,R:{},l:c,t:a,k:null,o:null,j:null,C:!1},d=f,p=km;u&&(d=[f],p=_c);var y=Proxy.revocable(d,p),g=y.revoke,v=y.proxy;return f.k=v,f.j=g,v})(e,n):ds("ES5").J(e,n);return(n?n.A:h1()).p.push(s),s}function c4(t){return co(t)||Xr(22,t),(function e(n){if(!ua(n))return n;var s,a=n[Cr],c=go(n);if(a){if(!a.P&&(a.i<4||!ds("ES5").K(a)))return a.t;a.I=!0,s=g1(n,c),a.I=!1}else s=g1(n,c);return Lc(s,(function(u,f){a&&s4(a.t,u)===f||XC(s,u,e(f))})),c===3?new Set(s):s})(t)}function g1(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return zy(t)}var v1,Uc,$y=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",l4=typeof Map<"u",u4=typeof Set<"u",x1=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",QC=$y?Symbol.for("immer-nothing"):((v1={})["immer-nothing"]=!0,v1),b1=$y?Symbol.for("immer-draftable"):"__$immer_draftable",Cr=$y?Symbol.for("immer-state"):"__$immer_state",f4=""+Object.prototype.constructor,Vy=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,d4=Object.getOwnPropertyDescriptors||function(t){var e={};return Vy(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},h4={},km={get:function(t,e){if(e===Cr)return t;var n=ea(t);if(!Mm(n,e))return(function(a,c,u){var f,d=y1(c,u);return d?"value"in d?d.value:(f=d.get)===null||f===void 0?void 0:f.call(a.k):void 0})(t,n,e);var s=n[e];return t.I||!ua(s)?s:s===kp(t.t,e)?(jp(t),t.o[e]=Dm(t.A.h,s,t)):s},has:function(t,e){return e in ea(t)},ownKeys:function(t){return Reflect.ownKeys(ea(t))},set:function(t,e,n){var s=y1(ea(t),e);if(s?.set)return s.set.call(t.k,n),!0;if(!t.P){var a=kp(ea(t),e),c=a?.[Cr];if(c&&c.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(i4(n,a)&&(n!==void 0||Mm(t.t,e)))return!0;jp(t),Nm(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return kp(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,jp(t),Nm(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=ea(t),s=Reflect.getOwnPropertyDescriptor(n,e);return s&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:s.enumerable,value:n[e]}},defineProperty:function(){Xr(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Xr(12)}},_c={};Lc(km,(function(t,e){_c[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),_c.deleteProperty=function(t,e){return _c.set.call(this,t,e,void 0)},_c.set=function(t,e,n){return km.set.call(this,t[0],e,n,t[0])};var p4=(function(){function t(n){var s=this;this.O=x1,this.D=!0,this.produce=function(a,c,u){if(typeof a=="function"&&typeof c!="function"){var f=c;c=a;var d=s;return function(E){var M=this;E===void 0&&(E=f);for(var P=arguments.length,D=Array(P>1?P-1:0),k=1;k<P;k++)D[k-1]=arguments[k];return d.produce(E,(function(j){var F;return(F=c).call.apply(F,[M,j].concat(D))}))}}var p;if(typeof c!="function"&&Xr(6),u!==void 0&&typeof u!="function"&&Xr(7),ua(a)){var y=p1(s),g=Dm(s,a,void 0),v=!0;try{p=c(g),v=!1}finally{v?ff(y):Pm(y)}return typeof Promise<"u"&&p instanceof Promise?p.then((function(E){return Np(y,u),Dp(E,y)}),(function(E){throw ff(y),E})):(Np(y,u),Dp(p,y))}if(!a||typeof a!="object"){if((p=c(a))===void 0&&(p=a),p===QC&&(p=void 0),s.D&&By(p,!0),u){var S=[],w=[];ds("Patches").M(a,p,S,w),u(S,w)}return p}Xr(21,a)},this.produceWithPatches=function(a,c){if(typeof a=="function")return function(p){for(var y=arguments.length,g=Array(y>1?y-1:0),v=1;v<y;v++)g[v-1]=arguments[v];return s.produceWithPatches(p,(function(S){return a.apply(void 0,[S].concat(g))}))};var u,f,d=s.produce(a,c,(function(p,y){u=p,f=y}));return typeof Promise<"u"&&d instanceof Promise?d.then((function(p){return[p,u,f]})):[d,u,f]},typeof n?.useProxies=="boolean"&&this.setUseProxies(n.useProxies),typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){ua(n)||Xr(8),co(n)&&(n=c4(n));var s=p1(this),a=Dm(this,n,void 0);return a[Cr].C=!0,Pm(s),a},e.finishDraft=function(n,s){var a=n&&n[Cr],c=a.A;return Np(c,s),Dp(void 0,c)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!x1&&Xr(20),this.O=n},e.applyPatches=function(n,s){var a;for(a=s.length-1;a>=0;a--){var c=s[a];if(c.path.length===0&&c.op==="replace"){n=c.value;break}}a>-1&&(s=s.slice(a+1));var u=ds("Patches").$;return co(n)?u(n,s):this.produce(n,(function(f){return u(f,s)}))},t})(),Er=new p4,m4=Er.produce;Er.produceWithPatches.bind(Er);Er.setAutoFreeze.bind(Er);Er.setUseProxies.bind(Er);Er.applyPatches.bind(Er);Er.createDraft.bind(Er);Er.finishDraft.bind(Er);class y4{constructor(e){const n=g4();this.c=1,this.s0=n(" "),this.s1=n(" "),this.s2=n(" "),this.s0-=n(e),this.s0<0&&(this.s0+=1),this.s1-=n(e),this.s1<0&&(this.s1+=1),this.s2-=n(e),this.s2<0&&(this.s2+=1)}next(){const e=2091639*this.s0+this.c*23283064365386963e-26;return this.s0=this.s1,this.s1=this.s2,this.s2=e-(this.c=Math.trunc(e))}}function g4(){let t=4022871197;return function(n){const s=n.toString();for(let a=0;a<s.length;a++){t+=s.charCodeAt(a);let c=.02519603282416938*t;t=c>>>0,c-=t,c*=t,t=c>>>0,c-=t,t+=c*4294967296}return(t>>>0)*23283064365386963e-26}}function S1(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function ZC(t,e){const n=new y4(t),s=n.next.bind(n);return e&&S1(e,n),s.state=()=>S1(n,{}),s}class _1{constructor(e){this.state=e||{seed:"0"},this.used=!1}static seed(){return Date.now().toString(36).slice(-10)}isUsed(){return this.used}getState(){return this.state}_random(){this.used=!0;const e=this.state,n=e.prngstate?"":e.seed,s=ZC(n,e.prngstate),a=s();return this.state={...e,prngstate:s.state()},a}api(){const e=this._random.bind(this),n={D4:4,D6:6,D8:8,D10:10,D12:12,D20:20},s={};for(const c in n){const u=n[c];s[c]=f=>f===void 0?Math.floor(e()*u)+1:Array.from({length:f}).map(()=>Math.floor(e()*u)+1)}function a(c=6,u){return u===void 0?Math.floor(e()*c)+1:Array.from({length:u}).map(()=>Math.floor(e()*c)+1)}return{...s,Die:a,Number:()=>e(),Shuffle:c=>{const u=[...c];let f=c.length,d=0;const p=Array.from({length:f});for(;f;){const y=Math.trunc(f*e());p[d++]=u[y],u[y]=u[--f]}return p},_private:this}}}const v4={name:"random",noClient:({api:t})=>t._private.isUsed(),flush:({api:t})=>t._private.getState(),api:({data:t})=>new _1(t).api(),setup:({game:t})=>{let{seed:e}=t;return e===void 0&&(e=_1.seed()),{seed:e}},playerView:()=>{}};var Lp,w1;function x4(){if(w1)return Lp;w1=1;var t="[object Object]";function e(v){var S=!1;if(v!=null&&typeof v.toString!="function")try{S=!!(v+"")}catch{}return S}function n(v,S){return function(w){return v(S(w))}}var s=Function.prototype,a=Object.prototype,c=s.toString,u=a.hasOwnProperty,f=c.call(Object),d=a.toString,p=n(Object.getPrototypeOf,Object);function y(v){return!!v&&typeof v=="object"}function g(v){if(!y(v)||d.call(v)!=t||e(v))return!1;var S=p(v);if(S===null)return!0;var w=u.call(S,"constructor")&&S.constructor;return typeof w=="function"&&w instanceof w&&c.call(w)==f}return Lp=g,Lp}x4();const Ic="MAKE_MOVE",$f="GAME_EVENT",Vf="REDO",qy="RESET",Fy="SYNC",qf="UNDO",Yy="UPDATE",Gy="PATCH",JC="PLUGIN",Ff="STRIP_TRANSIENTS",WC=(t,e,n,s)=>({type:Ic,payload:{type:t,args:e,playerID:n,credentials:s}}),Oc=(t,e,n,s)=>({type:$f,payload:{type:t,args:e,playerID:n,credentials:s}}),eE=(t,e,n,s)=>({type:$f,payload:{type:t,args:e,playerID:n,credentials:s},automatic:!0}),tE=t=>({type:Fy,state:t.state,log:t.log,initialState:t.initialState,clientOnly:!0}),nE=(t,e,n,s)=>({type:Gy,prevStateID:t,stateID:e,patch:n,deltalog:s,clientOnly:!0}),rE=(t,e)=>({type:Yy,state:t,deltalog:e,clientOnly:!0}),sE=t=>({type:qy,state:t,clientOnly:!0}),iE=(t,e)=>({type:qf,payload:{type:null,args:null,playerID:t,credentials:e}}),aE=(t,e)=>({type:Vf,payload:{type:null,args:null,playerID:t,credentials:e}}),b4=(t,e,n,s)=>({type:JC,payload:{type:t,args:e,playerID:n,credentials:s}}),oE=()=>({type:Ff});var S4=Object.freeze({__proto__:null,makeMove:WC,gameEvent:Oc,automaticGameEvent:eE,sync:tE,patch:nE,update:rE,reset:sE,undo:iE,redo:aE,plugin:b4,stripTransients:oE});const jm="INVALID_MOVE",_4={name:"plugin-immer",fnWrap:t=>(e,...n)=>{let s=!1;const a=m4(e.G,c=>{const u=t({...e,G:c},...n);if(u===jm){s=!0;return}return u});return s?jm:a}};var Gn;(function(t){t.MOVE="MOVE",t.GAME_ON_END="GAME_ON_END",t.PHASE_ON_BEGIN="PHASE_ON_BEGIN",t.PHASE_ON_END="PHASE_ON_END",t.TURN_ON_BEGIN="TURN_ON_BEGIN",t.TURN_ON_MOVE="TURN_ON_MOVE",t.TURN_ON_END="TURN_ON_END"})(Gn||(Gn={}));var Vs;(function(t){t.CalledOutsideHook="Events must be called from moves or the `onBegin`, `onEnd`, and `onMove` hooks.\nThis error probably means you called an event from other game code, like an `endIf` trigger or one of the `turn.order` methods.",t.EndTurnInOnEnd="`endTurn` is disallowed in `onEnd` hooks  the turn is already ending.",t.MaxTurnEndings=`Maximum number of turn endings exceeded for this update.
This likely means game code is triggering an infinite loop.`,t.PhaseEventInOnEnd="`setPhase` & `endPhase` are disallowed in a phases `onEnd` hook  the phase is already ending.\nIf youre trying to dynamically choose the next phase when a phase ends, use the phases `next` trigger.",t.StageEventInOnEnd="`setStage`, `endStage` & `setActivePlayers` are disallowed in `onEnd` hooks.",t.StageEventInPhaseBegin="`setStage`, `endStage` & `setActivePlayers` are disallowed in a phases `onBegin` hook.\nUse `setActivePlayers` in a `turn.onBegin` hook or declare stages with `turn.activePlayers` instead.",t.StageEventInTurnBegin="`setStage` & `endStage` are disallowed in `turn.onBegin`.\nUse `setActivePlayers` or declare stages with `turn.activePlayers` instead."})(Vs||(Vs={}));class w4{constructor(e,n,s){this.flow=e,this.playerID=s,this.dispatch=[],this.initialTurn=n.turn,this.updateTurnContext(n,void 0),this.maxEndedTurnsPerAction=n.numPlayers*100}api(){const e={_private:this};for(const n of this.flow.eventNames)e[n]=(...s)=>{this.dispatch.push({type:n,args:s,phase:this.currentPhase,turn:this.currentTurn,calledFrom:this.currentMethod,error:new Error("Events Plugin Error")})};return e}isUsed(){return this.dispatch.length>0}updateTurnContext(e,n){this.currentPhase=e.phase,this.currentTurn=e.turn,this.currentMethod=n}unsetCurrentMethod(){this.currentMethod=void 0}update(e){const n=e,s=({stack:a},c)=>({...n,plugins:{...n.plugins,events:{...n.plugins.events,data:{error:c+`
`+a}}}});e:for(let a=0;a<this.dispatch.length;a++){const c=this.dispatch[a],u=c.turn!==e.ctx.turn;if(this.currentTurn-this.initialTurn>=this.maxEndedTurnsPerAction)return s(c.error,Vs.MaxTurnEndings);if(c.calledFrom===void 0)return s(c.error,Vs.CalledOutsideHook);if(e.ctx.gameover)break e;switch(c.type){case"endStage":case"setStage":case"setActivePlayers":{switch(c.calledFrom){case Gn.TURN_ON_END:case Gn.PHASE_ON_END:return s(c.error,Vs.StageEventInOnEnd);case Gn.PHASE_ON_BEGIN:return s(c.error,Vs.StageEventInPhaseBegin);case Gn.TURN_ON_BEGIN:if(c.type==="setActivePlayers")break;return s(c.error,Vs.StageEventInTurnBegin)}if(u)continue e;break}case"endTurn":{if(c.calledFrom===Gn.TURN_ON_END||c.calledFrom===Gn.PHASE_ON_END)return s(c.error,Vs.EndTurnInOnEnd);if(u)continue e;break}case"endPhase":case"setPhase":{if(c.calledFrom===Gn.PHASE_ON_END)return s(c.error,Vs.PhaseEventInOnEnd);if(c.phase!==e.ctx.phase)continue e;break}}const d=eE(c.type,c.args,this.playerID);e=this.flow.processEvent(e,d)}return e}}const Ky={name:"events",noClient:({api:t})=>t._private.isUsed(),isInvalid:({data:t})=>t.error||!1,fnWrap:(t,e)=>(n,...s)=>{const a=n.events;a&&a._private.updateTurnContext(n.ctx,e);const c=t(n,...s);return a&&a._private.unsetCurrentMethod(),c},dangerouslyFlushRawState:({state:t,api:e})=>e._private.update(t),api:({game:t,ctx:e,playerID:n})=>new w4(t.flow,e,n).api()},C4={name:"log",flush:()=>({}),api:({data:t})=>({setMetadata:e=>{t.metadata=e}}),setup:()=>({})},E4={name:"plugin-serializable",fnWrap:t=>(e,...n)=>t(e,...n)},T4=(...t)=>console.error(...t);function Ht(t){T4("ERROR:",t)}const Xy=[_4,v4,C4,E4],Xc=[...Xy,Ky],R4=(t,e,n)=>(n.game.plugins.filter(s=>s.action!==void 0).filter(s=>s.name===e.payload.type).forEach(s=>{const a=s.name,c=t.plugins[a]||{data:{}},u=s.action(c.data,e.payload);t={...t,plugins:{...t.plugins,[a]:{...c,data:u}}}}),t),lo=({plugins:t})=>Object.entries(t||{}).reduce((e,[n,{api:s}])=>(e[n]=s,e),{}),cE=(t,e,n)=>[...Xy,...n,Ky].filter(s=>s.fnWrap!==void 0).reduce((s,{fnWrap:a})=>a(s,e),t),A4=(t,e)=>([...Xc,...e.game.plugins].filter(n=>n.setup!==void 0).forEach(n=>{const s=n.name,a=n.setup({G:t.G,ctx:t.ctx,game:e.game});t={...t,plugins:{...t.plugins,[s]:{data:a}}}}),t),Lm=(t,e)=>([...Xc,...e.game.plugins].filter(n=>n.api!==void 0).forEach(n=>{const s=n.name,a=t.plugins[s]||{data:{}},c=n.api({G:t.G,ctx:t.ctx,data:a.data,game:e.game,playerID:e.playerID});t={...t,plugins:{...t.plugins,[s]:{...a,api:c}}}}),t),O4=(t,e)=>([...Xy,...e.game.plugins,Ky].reverse().forEach(n=>{const s=n.name,a=t.plugins[s]||{data:{}};if(n.flush){const c=n.flush({G:t.G,ctx:t.ctx,game:e.game,api:a.api,data:a.data});t={...t,plugins:{...t.plugins,[n.name]:{data:c}}}}else if(n.dangerouslyFlushRawState){t=n.dangerouslyFlushRawState({state:t,game:e.game,api:a.api,data:a.data});const c=t.plugins[s].data;t={...t,plugins:{...t.plugins,[n.name]:{data:c}}}}}),t),M4=(t,e)=>[...Xc,...e.game.plugins].filter(n=>n.noClient!==void 0).map(n=>{const s=n.name,a=t.plugins[s];return a?n.noClient({G:t.G,ctx:t.ctx,game:e.game,api:a.api,data:a.data}):!1}).includes(!0),P4=(t,e)=>[...Xc,...e.game.plugins].filter(s=>s.isInvalid!==void 0).map(s=>{const{name:a}=s,c=t.plugins[a],u=s.isInvalid({G:t.G,ctx:t.ctx,game:e.game,data:c&&c.data});return u?{plugin:a,message:u}:!1}).find(s=>s)||!1,lE=(t,e)=>{const n=O4(t,e),s=P4(n,e);if(!s)return[n];const{plugin:a,message:c}=s;return Ht(`${a} plugin declared action invalid:
${c}`),[t,s]},uE=({G:t,ctx:e,plugins:n={}},{game:s,playerID:a})=>([...Xc,...s.plugins].forEach(({name:c,playerView:u})=>{if(!u)return;const{data:f}=n[c]||{data:{}},d=u({G:t,ctx:e,game:s,data:f,playerID:a});n={...n,[c]:{data:d}}}),n);function pf(t,e=!1){t.moveLimit&&(e&&(t.minMoves=t.moveLimit),t.maxMoves=t.moveLimit,delete t.moveLimit)}function mf(t,e){let n={},s=[],a=null,c={},u={};if(Array.isArray(e)){const d={};e.forEach(p=>d[p]=yf.NULL),n=d}else{if(pf(e),e.next&&(a=e.next),e.revert&&(s=[...t._prevActivePlayers,{activePlayers:t.activePlayers,_activePlayersMinMoves:t._activePlayersMinMoves,_activePlayersMaxMoves:t._activePlayersMaxMoves,_activePlayersNumMoves:t._activePlayersNumMoves}]),e.currentPlayer!==void 0&&bu(n,c,u,t.currentPlayer,e.currentPlayer),e.others!==void 0)for(let d=0;d<t.playOrder.length;d++){const p=t.playOrder[d];p!==t.currentPlayer&&bu(n,c,u,p,e.others)}if(e.all!==void 0)for(let d=0;d<t.playOrder.length;d++){const p=t.playOrder[d];bu(n,c,u,p,e.all)}if(e.value)for(const d in e.value)bu(n,c,u,d,e.value[d]);if(e.minMoves)for(const d in n)c[d]===void 0&&(c[d]=e.minMoves);if(e.maxMoves)for(const d in n)u[d]===void 0&&(u[d]=e.maxMoves)}Object.keys(n).length===0&&(n=null),Object.keys(c).length===0&&(c=null),Object.keys(u).length===0&&(u=null);const f={};for(const d in n)f[d]=0;return{...t,activePlayers:n,_activePlayersMinMoves:c,_activePlayersMaxMoves:u,_activePlayersNumMoves:f,_prevActivePlayers:s,_nextActivePlayers:a}}function N4(t){let{activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:s,_activePlayersNumMoves:a,_prevActivePlayers:c,_nextActivePlayers:u}=t;if(e&&Object.keys(e).length===0)if(u)t=mf(t,u),{activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:s,_activePlayersNumMoves:a,_prevActivePlayers:c}=t;else if(c.length>0){const f=c.length-1;({activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:s,_activePlayersNumMoves:a}=c[f]),c=c.slice(0,f)}else e=null,n=null,s=null;return{...t,activePlayers:e,_activePlayersMinMoves:n,_activePlayersMaxMoves:s,_activePlayersNumMoves:a,_prevActivePlayers:c}}function bu(t,e,n,s,a){(typeof a!="object"||a===yf.NULL)&&(a={stage:a}),a.stage!==void 0&&(pf(a),t[s]=a.stage,a.minMoves&&(e[s]=a.minMoves),a.maxMoves&&(n[s]=a.maxMoves))}function Um(t,e){return t[e]+""}function D4(t,e){let{G:n,ctx:s}=t;const{numPlayers:a}=s,u={...lo(t),G:n,ctx:s},f=e.order;let d=[...Array.from({length:a})].map((v,S)=>S+"");f.playOrder!==void 0&&(d=f.playOrder(u));const p=f.first(u),y=typeof p;y!=="number"&&Ht(`invalid value returned by turn.order.first  expected number got ${y} ${p}.`);const g=Um(d,p);return s={...s,currentPlayer:g,playOrderPos:p,playOrder:d},s=mf(s,e.activePlayers||{}),s}function k4(t,e,n,s){const a=n.order;let{G:c,ctx:u}=t,f=u.playOrderPos,d=!1;if(s&&s!==!0)typeof s!="object"&&Ht(`invalid argument to endTurn: ${s}`),Object.keys(s).forEach(p=>{switch(p){case"remove":e=Um(u.playOrder,f);break;case"next":f=u.playOrder.indexOf(s.next),e=s.next;break;default:Ht(`invalid argument to endTurn: ${p}`)}});else{const y={...lo(t),G:c,ctx:u},g=a.next(y),v=typeof g;g!==void 0&&v!=="number"&&Ht(`invalid value returned by turn.order.next  expected number or undefined got ${v} ${g}.`),g===void 0?d=!0:(f=g,e=Um(u.playOrder,f))}return u={...u,playOrderPos:f,currentPlayer:e},{endPhase:d,ctx:u}}const j4={DEFAULT:{first:({ctx:t})=>t.turn===0?t.playOrderPos:(t.playOrderPos+1)%t.playOrder.length,next:({ctx:t})=>(t.playOrderPos+1)%t.playOrder.length}},yf={NULL:null};var Up={},Hs={},C1;function fE(){if(C1)return Hs;C1=1,Object.defineProperty(Hs,"__esModule",{value:!0}),Hs.Pointer=Hs.escapeToken=Hs.unescapeToken=void 0;function t(s){return s.replace(/~1/g,"/").replace(/~0/g,"~")}Hs.unescapeToken=t;function e(s){return s.replace(/~/g,"~0").replace(/\//g,"~1")}Hs.escapeToken=e;var n=(function(){function s(a){a===void 0&&(a=[""]),this.tokens=a}return s.fromJSON=function(a){var c=a.split("/").map(t);if(c[0]!=="")throw new Error("Invalid JSON Pointer: ".concat(a));return new s(c)},s.prototype.toString=function(){return this.tokens.map(e).join("/")},s.prototype.evaluate=function(a){for(var c=null,u="",f=a,d=1,p=this.tokens.length;d<p;d++)c=f,u=this.tokens[d],!(u=="__proto__"||u=="constructor"||u=="prototype")&&(f=(c||{})[u]);return{parent:c,key:u,value:f}},s.prototype.get=function(a){return this.evaluate(a).value},s.prototype.set=function(a,c){var u=this.evaluate(a);u.parent&&(u.parent[u.key]=c)},s.prototype.push=function(a){this.tokens.push(a)},s.prototype.add=function(a){var c=this.tokens.concat(String(a));return new s(c)},s})();return Hs.Pointer=n,Hs}var rn={},Ip={},E1;function dE(){return E1||(E1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.clone=t.objectType=t.hasOwnProperty=void 0,t.hasOwnProperty=Object.prototype.hasOwnProperty;function e(a){return a===void 0?"undefined":a===null?"null":Array.isArray(a)?"array":typeof a}t.objectType=e;function n(a){return a!=null&&typeof a=="object"}function s(a){if(!n(a))return a;if(a.constructor==Array){for(var c=a.length,u=new Array(c),f=0;f<c;f++)u[f]=s(a[f]);return u}if(a.constructor==Date){var d=new Date(+a);return d}var p={};for(var y in a)t.hasOwnProperty.call(a,y)&&(p[y]=s(a[y]));return p}t.clone=s})(Ip)),Ip}var Zn={},T1;function hE(){if(T1)return Zn;T1=1,Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.diffAny=Zn.diffObjects=Zn.diffArrays=Zn.intersection=Zn.subtract=Zn.isDestructive=void 0;var t=dE();function e(y){var g=y.op;return g==="remove"||g==="replace"||g==="copy"||g==="move"}Zn.isDestructive=e;function n(y,g){var v={};for(var S in y)t.hasOwnProperty.call(y,S)&&y[S]!==void 0&&(v[S]=1);for(var w in g)t.hasOwnProperty.call(g,w)&&g[w]!==void 0&&delete v[w];return Object.keys(v)}Zn.subtract=n;function s(y){for(var g=y.length,v={},S=0;S<g;S++){var w=y[S];for(var E in w)t.hasOwnProperty.call(w,E)&&w[E]!==void 0&&(v[E]=(v[E]||0)+1)}for(var E in v)v[E]<g&&delete v[E];return Object.keys(v)}Zn.intersection=s;function a(y){return y.op==="add"}function c(y){return y.op==="remove"}function u(y,g){return{operations:y.operations.concat(g),cost:y.cost+1}}function f(y,g,v,S){S===void 0&&(S=p);var w={"0,0":{operations:[],cost:0}};function E(j,F){var J="".concat(j,",").concat(F),Y=w[J];if(Y===void 0){if(j>0&&F>0&&!S(y[j-1],g[F-1],v.add(String(j-1))).length)Y=E(j-1,F-1);else{var G=[];if(j>0){var me=E(j-1,F),be={op:"remove",index:j-1};G.push(u(me,be))}if(F>0){var we=E(j,F-1),ge={op:"add",index:j-1,value:g[F-1]};G.push(u(we,ge))}if(j>0&&F>0){var Ee=E(j-1,F-1),pe={op:"replace",index:j-1,original:y[j-1],value:g[F-1]};G.push(u(Ee,pe))}var Te=G.sort(function(H,ie){return H.cost-ie.cost})[0];Y=Te}w[J]=Y}return Y}var M=isNaN(y.length)||y.length<=0?0:y.length,P=isNaN(g.length)||g.length<=0?0:g.length,D=E(M,P).operations,k=D.reduce(function(j,F){var J=j[0],Y=j[1];if(a(F)){var G=F.index+1+Y,me=G<M+Y?String(G):"-",be={op:F.op,path:v.add(me).toString(),value:F.value};return[J.concat(be),Y+1]}else if(c(F)){var be={op:F.op,path:v.add(String(F.index+Y)).toString()};return[J.concat(be),Y-1]}else{var we=v.add(String(F.index+Y)),ge=S(F.original,F.value,we);return[J.concat.apply(J,ge),Y]}},[[],0])[0];return k}Zn.diffArrays=f;function d(y,g,v,S){S===void 0&&(S=p);var w=[];return n(y,g).forEach(function(E){w.push({op:"remove",path:v.add(E).toString()})}),n(g,y).forEach(function(E){w.push({op:"add",path:v.add(E).toString(),value:g[E]})}),s([y,g]).forEach(function(E){w.push.apply(w,S(y[E],g[E],v.add(E)))}),w}Zn.diffObjects=d;function p(y,g,v,S){if(S===void 0&&(S=p),y===g)return[];var w=(0,t.objectType)(y),E=(0,t.objectType)(g);return w=="array"&&E=="array"?f(y,g,v,S):w=="object"&&E=="object"?d(y,g,v,S):[{op:"replace",path:v.toString(),value:g}]}return Zn.diffAny=p,Zn}var R1;function L4(){if(R1)return rn;R1=1;var t=rn&&rn.__extends||(function(){var M=function(P,D){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,j){k.__proto__=j}||function(k,j){for(var F in j)Object.prototype.hasOwnProperty.call(j,F)&&(k[F]=j[F])},M(P,D)};return function(P,D){if(typeof D!="function"&&D!==null)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");M(P,D);function k(){this.constructor=P}P.prototype=D===null?Object.create(D):(k.prototype=D.prototype,new k)}})();Object.defineProperty(rn,"__esModule",{value:!0}),rn.apply=rn.InvalidOperationError=rn.test=rn.copy=rn.move=rn.replace=rn.remove=rn.add=rn.TestError=rn.MissingError=void 0;var e=fE(),n=dE(),s=hE(),a=(function(M){t(P,M);function P(D){var k=M.call(this,"Value required at path: ".concat(D))||this;return k.path=D,k.name="MissingError",k}return P})(Error);rn.MissingError=a;var c=(function(M){t(P,M);function P(D,k){var j=M.call(this,"Test failed: ".concat(D," != ").concat(k))||this;return j.actual=D,j.expected=k,j.name="TestError",j}return P})(Error);rn.TestError=c;function u(M,P,D){if(Array.isArray(M))if(P=="-")M.push(D);else{var k=parseInt(P,10);M.splice(k,0,D)}else M[P]=D}function f(M,P){if(Array.isArray(M)){var D=parseInt(P,10);M.splice(D,1)}else delete M[P]}function d(M,P){var D=e.Pointer.fromJSON(P.path).evaluate(M);return D.parent===void 0?new a(P.path):(u(D.parent,D.key,(0,n.clone)(P.value)),null)}rn.add=d;function p(M,P){var D=e.Pointer.fromJSON(P.path).evaluate(M);return D.value===void 0?new a(P.path):(f(D.parent,D.key),null)}rn.remove=p;function y(M,P){var D=e.Pointer.fromJSON(P.path).evaluate(M);if(D.parent===null)return new a(P.path);if(Array.isArray(D.parent)){if(parseInt(D.key,10)>=D.parent.length)return new a(P.path)}else if(D.value===void 0)return new a(P.path);return D.parent[D.key]=(0,n.clone)(P.value),null}rn.replace=y;function g(M,P){var D=e.Pointer.fromJSON(P.from).evaluate(M);if(D.value===void 0)return new a(P.from);var k=e.Pointer.fromJSON(P.path).evaluate(M);return k.parent===void 0?new a(P.path):(f(D.parent,D.key),u(k.parent,k.key,D.value),null)}rn.move=g;function v(M,P){var D=e.Pointer.fromJSON(P.from).evaluate(M);if(D.value===void 0)return new a(P.from);var k=e.Pointer.fromJSON(P.path).evaluate(M);return k.parent===void 0?new a(P.path):(u(k.parent,k.key,(0,n.clone)(D.value)),null)}rn.copy=v;function S(M,P){var D=e.Pointer.fromJSON(P.path).evaluate(M);return(0,s.diffAny)(D.value,P.value,new e.Pointer).length?new c(D.value,P.value):null}rn.test=S;var w=(function(M){t(P,M);function P(D){var k=M.call(this,"Invalid operation: ".concat(D.op))||this;return k.operation=D,k.name="InvalidOperationError",k}return P})(Error);rn.InvalidOperationError=w;function E(M,P){switch(P.op){case"add":return d(M,P);case"remove":return p(M,P);case"replace":return y(M,P);case"move":return g(M,P);case"copy":return v(M,P);case"test":return S(M,P)}return new w(P)}return rn.apply=E,rn}var A1;function U4(){return A1||(A1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createTests=t.createPatch=t.applyPatch=t.Pointer=void 0;var e=fE();Object.defineProperty(t,"Pointer",{enumerable:!0,get:function(){return e.Pointer}});var n=L4(),s=hE();function a(p,y){return y.map(function(g){return(0,n.apply)(p,g)})}t.applyPatch=a;function c(p){function y(g,v,S){var w=p(g,v,S);return Array.isArray(w)?w:(0,s.diffAny)(g,v,S,y)}return y}function u(p,y,g){var v=new e.Pointer;return(g?c(g):s.diffAny)(p,y,v)}t.createPatch=u;function f(p,y){var g=e.Pointer.fromJSON(y).evaluate(p);if(g!==void 0)return{op:"test",path:y,value:g.value}}function d(p,y){var g=new Array;return y.filter(s.isDestructive).forEach(function(v){var S=f(p,v.path);if(S&&g.push(S),"from"in v){var w=f(p,v.from);w&&g.push(w)}}),g}t.createTests=d})(Up)),Up}var pE=U4();function I4({moves:t,phases:e,endIf:n,onEnd:s,turn:a,events:c,plugins:u}){t===void 0&&(t={}),c===void 0&&(c={}),u===void 0&&(u=[]),e===void 0&&(e={}),n||(n=()=>{}),s||(s=({G:z})=>z),a||(a={});const f={...e};""in f&&Ht("cannot specify phase with empty name"),f[""]={};const d={},p=new Set;let y=null;Object.keys(t).forEach(z=>p.add(z));const g=(z,Q)=>{const le=cE(z,Q,u);return Pe=>{const Le=lo(Pe);return le({...Le,G:Pe.G,ctx:Pe.ctx,playerID:Pe.playerID})}},v=z=>Q=>{const le=lo(Q);return z({...le,G:Q.G,ctx:Q.ctx})},S={onEnd:g(s,Gn.GAME_ON_END),endIf:v(n)};for(const z in f){const Q=f[z];if(Q.start===!0&&(y=z),Q.moves!==void 0)for(const le of Object.keys(Q.moves))d[z+"."+le]=Q.moves[le],p.add(le);Q.endIf===void 0&&(Q.endIf=()=>{}),Q.onBegin===void 0&&(Q.onBegin=({G:le})=>le),Q.onEnd===void 0&&(Q.onEnd=({G:le})=>le),Q.turn===void 0&&(Q.turn=a),Q.turn.order===void 0&&(Q.turn.order=j4.DEFAULT),Q.turn.onBegin===void 0&&(Q.turn.onBegin=({G:le})=>le),Q.turn.onEnd===void 0&&(Q.turn.onEnd=({G:le})=>le),Q.turn.endIf===void 0&&(Q.turn.endIf=()=>!1),Q.turn.onMove===void 0&&(Q.turn.onMove=({G:le})=>le),Q.turn.stages===void 0&&(Q.turn.stages={}),pf(Q.turn,!0);for(const le in Q.turn.stages){const Le=Q.turn.stages[le].moves||{};for(const Ue of Object.keys(Le)){const Dt=z+"."+le+"."+Ue;d[Dt]=Le[Ue],p.add(Ue)}}if(Q.wrapped={onBegin:g(Q.onBegin,Gn.PHASE_ON_BEGIN),onEnd:g(Q.onEnd,Gn.PHASE_ON_END),endIf:v(Q.endIf)},Q.turn.wrapped={onMove:g(Q.turn.onMove,Gn.TURN_ON_MOVE),onBegin:g(Q.turn.onBegin,Gn.TURN_ON_BEGIN),onEnd:g(Q.turn.onEnd,Gn.TURN_ON_END),endIf:v(Q.turn.endIf)},typeof Q.next!="function"){const{next:le}=Q;Q.next=()=>le||null}Q.wrapped.next=v(Q.next)}function w(z){return z.phase?f[z.phase]:f[""]}function E(z){return z}function M(z,Q){const le=new Set,Pe=new Set;for(let Le=0;Le<Q.length;Le++){const{fn:Ue,arg:Dt,...bt}=Q[Le];if(Ue===ge){Pe.clear();const kt=z.ctx.phase;if(le.has(kt)){const Gt={...z.ctx,phase:null};return{...z,ctx:Gt}}le.add(kt)}const Zt=[];if(z=Ue(z,{...bt,arg:Dt,next:Zt}),Ue===we)break;const Bt=G(z);if(Bt){Q.push({fn:we,arg:Bt,turn:z.ctx.turn,phase:z.ctx.phase,automatic:!0});continue}const xt=me(z);if(xt){Q.push({fn:ge,arg:xt,turn:z.ctx.turn,phase:z.ctx.phase,automatic:!0});continue}if([E,J,Y].includes(Ue)){const kt=be(z);if(kt){Q.push({fn:Ee,arg:kt,turn:z.ctx.turn,phase:z.ctx.phase,automatic:!0});continue}}Q.push(...Zt)}return z}function P(z,{next:Q}){return Q.push({fn:D}),z}function D(z,{next:Q}){let{G:le,ctx:Pe}=z;return le=w(Pe).wrapped.onBegin(z),Q.push({fn:k}),{...z,G:le,ctx:Pe}}function k(z,{currentPlayer:Q}){let{ctx:le}=z;const Pe=w(le);Q?(le={...le,currentPlayer:Q},Pe.turn.activePlayers&&(le=mf(le,Pe.turn.activePlayers))):le=D4(z,Pe.turn);const Le=le.turn+1;le={...le,turn:Le,numMoves:0,_prevActivePlayers:[]};const Ue=Pe.turn.wrapped.onBegin({...z,ctx:le});return{...z,G:Ue,ctx:le,_undo:[],_redo:[]}}function j(z,{arg:Q,next:le,phase:Pe}){const Le=w({phase:Pe});let{ctx:Ue}=z;if(Q&&Q.next)if(Q.next in f)Ue={...Ue,phase:Q.next};else return Ht("invalid phase: "+Q.next),z;else Ue={...Ue,phase:Le.wrapped.next(z)||null};return z={...z,ctx:Ue},le.push({fn:D}),z}function F(z,{arg:Q,currentPlayer:le,next:Pe}){let{G:Le,ctx:Ue}=z;const Dt=w(Ue),{endPhase:bt,ctx:Zt}=k4(z,le,Dt.turn,Q);return Ue=Zt,z={...z,G:Le,ctx:Ue},bt?Pe.push({fn:ge,turn:Ue.turn,phase:Ue.phase}):Pe.push({fn:k,currentPlayer:Ue.currentPlayer}),z}function J(z,{arg:Q,playerID:le}){if((typeof Q=="string"||Q===yf.NULL)&&(Q={stage:Q}),typeof Q!="object")return z;pf(Q);let{ctx:Pe}=z,{activePlayers:Le,_activePlayersMinMoves:Ue,_activePlayersMaxMoves:Dt,_activePlayersNumMoves:bt}=Pe;return Q.stage!==void 0&&(Le===null&&(Le={}),Le[le]=Q.stage,bt[le]=0,Q.minMoves&&(Ue===null&&(Ue={}),Ue[le]=Q.minMoves),Q.maxMoves&&(Dt===null&&(Dt={}),Dt[le]=Q.maxMoves)),Pe={...Pe,activePlayers:Le,_activePlayersMinMoves:Ue,_activePlayersMaxMoves:Dt,_activePlayersNumMoves:bt},{...z,ctx:Pe}}function Y(z,{arg:Q}){return{...z,ctx:mf(z.ctx,Q)}}function G(z){return S.endIf(z)}function me(z){return w(z.ctx).wrapped.endIf(z)}function be(z){const Q=w(z.ctx),le=z.ctx.numMoves||0;return Q.turn.maxMoves&&le>=Q.turn.maxMoves?!0:Q.turn.wrapped.endIf(z)}function we(z,{arg:Q,phase:le}){z=ge(z,{}),Q===void 0&&(Q=!0),z={...z,ctx:{...z.ctx,gameover:Q}};const Pe=S.onEnd(z);return{...z,G:Pe}}function ge(z,{arg:Q,next:le,turn:Pe,automatic:Le}){z=Ee(z,{turn:Pe,force:!0,automatic:!0});const{phase:Ue,turn:Dt}=z.ctx;if(le&&le.push({fn:j,arg:Q,phase:Ue}),Ue===null)return z;const Zt=w(z.ctx).wrapped.onEnd(z),Bt={...z.ctx,phase:null},xt=Oc("endPhase",Q),{_stateID:kt}=z,Gt={action:xt,_stateID:kt,turn:Dt,phase:Ue};Le&&(Gt.automatic=!0);const Rn=[...z.deltalog||[],Gt];return{...z,G:Zt,ctx:Bt,deltalog:Rn}}function Ee(z,{arg:Q,next:le,turn:Pe,force:Le,automatic:Ue,playerID:Dt}){if(Pe!==z.ctx.turn)return z;const{currentPlayer:bt,numMoves:Zt,phase:Bt,turn:xt}=z.ctx,kt=w(z.ctx),Gt=Zt||0;if(!Le&&kt.turn.minMoves&&Gt<kt.turn.minMoves)return`${kt.turn.minMoves}`,z;const Rn=kt.turn.wrapped.onEnd(z);le&&le.push({fn:F,arg:Q,currentPlayer:bt});let at={...z.ctx,activePlayers:null};if(Q&&Q.remove){Dt=Dt||bt;const An=at.playOrder.filter(dr=>dr!=Dt),zr=at.playOrderPos>An.length-1?0:at.playOrderPos;if(at={...at,playOrder:An,playOrderPos:zr},An.length===0)return le.push({fn:ge,turn:xt,phase:Bt}),z}const dt=Oc("endTurn",Q),{_stateID:Wt}=z,Dn={action:dt,_stateID:Wt,turn:xt,phase:Bt};Ue&&(Dn.automatic=!0);const fr=[...z.deltalog||[],Dn];return{...z,G:Rn,ctx:at,deltalog:fr,_undo:[],_redo:[]}}function pe(z,{arg:Q,next:le,automatic:Pe,playerID:Le}){Le=Le||z.ctx.currentPlayer;let{ctx:Ue,_stateID:Dt}=z,{activePlayers:bt,_activePlayersNumMoves:Zt,_activePlayersMinMoves:Bt,_activePlayersMaxMoves:xt,phase:kt,turn:Gt}=Ue;const Rn=bt!==null&&Le in bt,at=w(Ue);if(!Q&&Rn){const An=at.turn.stages[bt[Le]];An&&An.next&&(Q=An.next)}if(le&&le.push({fn:J,arg:Q,playerID:Le}),!Rn)return z;const dt=Zt[Le]||0;if(Bt&&Bt[Le]&&dt<Bt[Le])return`${Bt[Le]}`,z;bt={...bt},delete bt[Le],Bt&&(Bt={...Bt},delete Bt[Le]),xt&&(xt={...xt},delete xt[Le]),Ue=N4({...Ue,activePlayers:bt,_activePlayersMinMoves:Bt,_activePlayersMaxMoves:xt});const Dn={action:Oc("endStage",Q),_stateID:Dt,turn:Gt,phase:kt};Pe&&(Dn.automatic=!0);const fr=[...z.deltalog||[],Dn];return{...z,ctx:Ue,deltalog:fr}}function Te(z,Q,le){const Pe=w(z),Le=Pe.turn.stages,{activePlayers:Ue}=z;if(Ue&&Ue[le]!==void 0&&Ue[le]!==yf.NULL&&Le[Ue[le]]!==void 0&&Le[Ue[le]].moves!==void 0){const bt=Le[Ue[le]].moves;if(Q in bt)return bt[Q]}else if(Pe.moves){if(Q in Pe.moves)return Pe.moves[Q]}else if(Q in t)return t[Q];return null}function H(z,Q){const{playerID:le,type:Pe}=Q,{currentPlayer:Le,activePlayers:Ue,_activePlayersMaxMoves:Dt}=z.ctx,bt=Te(z.ctx,Pe,le),Zt=!bt||typeof bt=="function"||bt.noLimit!==!0;let{numMoves:Bt,_activePlayersNumMoves:xt}=z.ctx;Zt&&(le===Le&&Bt++,Ue&&xt[le]++),z={...z,ctx:{...z.ctx,numMoves:Bt,_activePlayersNumMoves:xt}},Dt&&xt[le]>=Dt[le]&&(z=pe(z,{playerID:le,automatic:!0}));const Gt=w(z.ctx).turn.wrapped.onMove({...z,playerID:le});return z={...z,G:Gt},M(z,[{fn:E}])}function ie(z,Q,le){return M(z,[{fn:pe,arg:le,playerID:Q}])}function X(z,Q){return M(z,[{fn:pe,playerID:Q}])}function je(z,Q,le){return M(z,[{fn:Y,arg:le}])}function Je(z,Q,le){return M(z,[{fn:ge,phase:z.ctx.phase,turn:z.ctx.turn,arg:{next:le}}])}function I(z){return M(z,[{fn:ge,phase:z.ctx.phase,turn:z.ctx.turn}])}function se(z,Q,le){return M(z,[{fn:Ee,turn:z.ctx.turn,phase:z.ctx.phase,arg:le}])}function de(z,Q,le){return M(z,[{fn:Ee,turn:z.ctx.turn,phase:z.ctx.phase,force:!0,arg:le}])}function xe(z,Q,le){return M(z,[{fn:we,turn:z.ctx.turn,phase:z.ctx.phase,arg:le}])}const _e={endStage:X,setStage:ie,endTurn:se,pass:de,endPhase:I,setPhase:Je,endGame:xe,setActivePlayers:je},Re=[];c.endTurn!==!1&&Re.push("endTurn"),c.pass!==!1&&Re.push("pass"),c.endPhase!==!1&&Re.push("endPhase"),c.setPhase!==!1&&Re.push("setPhase"),c.endGame!==!1&&Re.push("endGame"),c.setActivePlayers!==!1&&Re.push("setActivePlayers"),c.endStage!==!1&&Re.push("endStage"),c.setStage!==!1&&Re.push("setStage");function ze(z,Q){const{type:le,playerID:Pe,args:Le}=Q.payload;return typeof _e[le]!="function"?z:_e[le](z,Pe,...Array.isArray(Le)?Le:[Le])}function Nt(z,Q,le){return Q.activePlayers?le in Q.activePlayers:Q.currentPlayer===le}return{ctx:z=>({numPlayers:z,turn:0,currentPlayer:"0",playOrder:[...Array.from({length:z})].map((Q,le)=>le+""),playOrderPos:0,phase:y,activePlayers:null}),init:z=>M(z,[{fn:P}]),isPlayerActive:Nt,eventHandlers:_e,eventNames:Object.keys(_e),enabledEventNames:Re,moveMap:d,moveNames:[...p.values()],processMove:H,processEvent:ze,getMove:Te}}function z4(t){return t.processMove!==void 0}function Qc(t){if(z4(t))return t;if(t.name===void 0&&(t.name="default"),t.deltaState===void 0&&(t.deltaState=!1),t.disableUndo===void 0&&(t.disableUndo=!1),t.setup===void 0&&(t.setup=()=>({})),t.moves===void 0&&(t.moves={}),t.playerView===void 0&&(t.playerView=({G:n})=>n),t.plugins===void 0&&(t.plugins=[]),t.plugins.forEach(n=>{if(n.name===void 0)throw new Error("Plugin missing name attribute");if(n.name.includes(" "))throw new Error(n.name+": Plugin name must not include spaces")}),t.name.includes(" "))throw new Error(t.name+": Game name must not include spaces");const e=I4(t);return{...t,flow:e,moveNames:e.moveNames,pluginNames:t.plugins.map(n=>n.name),processMove:(n,s)=>{let a=e.getMove(n.ctx,s.type,s.playerID);if(mE(a)&&(a=a.move),a instanceof Function){const c=cE(a,Gn.MOVE,t.plugins);let u=[];s.args!==void 0&&(u=Array.isArray(s.args)?s.args:[s.args]);const f={...lo(n),G:n.G,ctx:n.ctx,playerID:s.playerID};return c(f,...u)}return Ht(`invalid move object: ${s.type}`),n.G}}}function mE(t){return t instanceof Object&&t.move!==void 0}var Im;(function(t){t.UnauthorizedAction="update/unauthorized_action",t.MatchNotFound="update/match_not_found",t.PatchFailed="update/patch_failed"})(Im||(Im={}));var Yn;(function(t){t.StaleStateId="action/stale_state_id",t.UnavailableMove="action/unavailable_move",t.InvalidMove="action/invalid_move",t.InactivePlayer="action/inactive_player",t.GameOver="action/gameover",t.ActionDisabled="action/action_disabled",t.ActionInvalid="action/action_invalid",t.PluginActionInvalid="action/plugin_invalid"})(Yn||(Yn={}));const Su=t=>t.payload.playerID!==null&&t.payload.playerID!==void 0,B4=(t,e,n)=>{function s(c){return c.undoable!==void 0}function a(c){return c instanceof Function}return s(n)?a(n.undoable)?n.undoable({G:t,ctx:e}):n.undoable:!0};function O1(t,e){if(e.game.disableUndo)return t;const n={G:t.G,ctx:t.ctx,plugins:t.plugins,playerID:e.action.payload.playerID||t.ctx.currentPlayer};return e.action.type==="MAKE_MOVE"&&(n.moveType=e.action.payload.type),{...t,_undo:[...t._undo,n],_redo:[]}}function zp(t,e,n){const s={action:e,_stateID:t._stateID,turn:t.ctx.turn,phase:t.ctx.phase},a=t.plugins.log.data.metadata;return a!==void 0&&(s.metadata=a),typeof n=="object"&&n.redact===!0?s.redact=!0:typeof n=="object"&&n.redact instanceof Function&&(s.redact=n.redact({G:t.G,ctx:t.ctx})),{...t,deltalog:[s]}}function Bp(t,e,n){const[s,a]=lE(t,n);return a?[s,Jn(e,Yn.PluginActionInvalid,a)]:[s]}function yE(t){if(!t)return[null,void 0];const{transients:e,...n}=t;return[n,e]}function Jn(t,e,n){return{...t,transients:{error:{type:e,payload:n}}}}const gE=t=>e=>n=>{const s=e(n);switch(n.type){case Ff:return s;default:{const[,a]=yE(t.getState());return typeof a<"u"?(t.dispatch(oE()),{...s,transients:a}):s}}};function Yf({game:t,isClient:e}){return t=Qc(t),(n=null,s)=>{let[a]=yE(n);switch(s.type){case Ff:return a;case $f:{if(a={...a,deltalog:[]},e)return a;if(a.ctx.gameover!==void 0)return Ht("cannot call event after game end"),Jn(a,Yn.GameOver);if(Su(s)&&!t.flow.isPlayerActive(a.G,a.ctx,s.payload.playerID))return Ht(`disallowed event: ${s.payload.type}`),Jn(a,Yn.InactivePlayer);a=Lm(a,{game:t,playerID:s.payload.playerID});let c=t.flow.processEvent(a,s),u;return[c,u]=Bp(c,a,{game:t}),u||(c=O1(c,{game:t,action:s}),{...c,_stateID:a._stateID+1})}case Ic:{const c=a={...a,deltalog:[]},u=t.flow.getMove(a.ctx,s.payload.type,s.payload.playerID||a.ctx.currentPlayer);if(u===null)return Ht(`disallowed move: ${s.payload.type}`),Jn(a,Yn.UnavailableMove);if(e&&u.client===!1)return a;if(a.ctx.gameover!==void 0)return Ht("cannot make move after game end"),Jn(a,Yn.GameOver);if(Su(s)&&!t.flow.isPlayerActive(a.G,a.ctx,s.payload.playerID))return Ht(`disallowed move: ${s.payload.type}`),Jn(a,Yn.InactivePlayer);a=Lm(a,{game:t,playerID:s.payload.playerID});const f=t.processMove(a,s.payload);if(f===jm)return Ht(`invalid move: ${s.payload.type} args: ${s.payload.args}`),Jn(a,Yn.InvalidMove);const d={...a,G:f};if(e&&M4(d,{game:t}))return a;if(a=d,e){let y;return[a,y]=Bp(a,c,{game:t}),y||{...a,_stateID:a._stateID+1}}a=zp(a,s,u),a=t.flow.processMove(a,s.payload);let p;return[a,p]=Bp(a,c,{game:t}),p||(a=O1(a,{game:t,action:s}),{...a,_stateID:a._stateID+1})}case qy:case Yy:case Fy:return s.state;case qf:{if(a={...a,deltalog:[]},t.disableUndo)return Ht("Undo is not enabled"),Jn(a,Yn.ActionDisabled);const{G:c,ctx:u,_undo:f,_redo:d,_stateID:p}=a;if(f.length<2)return Ht("No moves to undo"),Jn(a,Yn.ActionInvalid);const y=f[f.length-1],g=f[f.length-2];if(Su(s)&&s.payload.playerID!==y.playerID)return Ht("Cannot undo other players' moves"),Jn(a,Yn.ActionInvalid);if(y.moveType){const v=t.flow.getMove(g.ctx,y.moveType,y.playerID);if(!B4(c,u,v))return Ht("Move cannot be undone"),Jn(a,Yn.ActionInvalid)}return a=zp(a,s),{...a,G:g.G,ctx:g.ctx,plugins:g.plugins,_stateID:p+1,_undo:f.slice(0,-1),_redo:[y,...d]}}case Vf:{if(a={...a,deltalog:[]},t.disableUndo)return Ht("Redo is not enabled"),Jn(a,Yn.ActionDisabled);const{_undo:c,_redo:u,_stateID:f}=a;if(u.length===0)return Ht("No moves to redo"),Jn(a,Yn.ActionInvalid);const d=u[0];return Su(s)&&s.payload.playerID!==d.playerID?(Ht("Cannot redo other players' moves"),Jn(a,Yn.ActionInvalid)):(a=zp(a,s),{...a,G:d.G,ctx:d.ctx,plugins:d.plugins,_stateID:f+1,_undo:[...c,d],_redo:u.slice(1)})}case JC:return R4(a,s,{game:t});case Gy:{const c=a,u=JSON.parse(JSON.stringify(c)),f=pE.applyPatch(u,s.patch);return f.some(p=>p!==null)?(Ht(`Patch ${JSON.stringify(s.patch)} apply failed`),Jn(c,Im.PatchFailed,f)):u}default:return a}}}function Qy({game:t,numPlayers:e,setupData:n}){t=Qc(t),e||(e=2);const s=t.flow.ctx(e);let a={G:{},ctx:s,plugins:{}};a=A4(a,{game:t}),a=Lm(a,{game:t,playerID:void 0});const c=lo(a);a.G=t.setup({...c,ctx:a.ctx},n);let u={...a,_undo:[],_redo:[],_stateID:0};return u=t.flow.init(u),[u]=lE(u,{game:t}),t.disableUndo||(u._undo=[{G:u.G,ctx:u.ctx,plugins:u.plugins}]),u}let Gf=class{constructor({transportDataCallback:e,gameName:n,playerID:s,matchID:a,credentials:c,numPlayers:u}){this.connectionStatusCallback=()=>{},this.isConnected=!1,this.transportDataCallback=e,this.gameName=n||"default",this.playerID=s||null,this.matchID=a||"default",this.credentials=c,this.numPlayers=u||2}subscribeToConnectionStatus(e){this.connectionStatusCallback=e}setConnectionStatus(e){this.isConnected=e,this.connectionStatusCallback()}notifyClient(e){this.transportDataCallback(e)}};var zc;(function(t){t[t.SYNC=0]="SYNC",t[t.ASYNC=1]="ASYNC"})(zc||(zc={}));function Zi(t){return t.type()===zc.SYNC}class H4{type(){return zc.ASYNC}async createMatch(e,n){if(this.createGame)return console.warn("The database connector does not implement a createMatch method.",`
Using the deprecated createGame method instead.`),this.createGame(e,n);console.error("The database connector does not implement a createMatch method.")}async listMatches(e){if(this.listGames)return console.warn("The database connector does not implement a listMatches method.",`
Using the deprecated listGames method instead.`),this.listGames(e);console.error("The database connector does not implement a listMatches method.")}}class vE{type(){return zc.SYNC}connect(){}createMatch(e,n){if(this.createGame)return console.warn("The database connector does not implement a createMatch method.",`
Using the deprecated createGame method instead.`),this.createGame(e,n);console.error("The database connector does not implement a createMatch method.")}listMatches(e){if(this.listGames)return console.warn("The database connector does not implement a listMatches method.",`
Using the deprecated listGames method instead.`),this.listGames(e);console.error("The database connector does not implement a listMatches method.")}}const $4=({game:t,unlisted:e,setupData:n,numPlayers:s})=>{const a={gameName:t.name,unlisted:!!e,players:{},createdAt:Date.now(),updatedAt:Date.now()};n!==void 0&&(a.setupData=n);for(let c=0;c<s;c++)a.players[c]={id:c};return a},xE=({game:t,numPlayers:e,setupData:n,unlisted:s})=>{(!e||typeof e!="number")&&(e=2);const a=t.validateSetupData&&t.validateSetupData(n,e);if(a!==void 0)return{setupDataError:a};const c=$4({game:t,numPlayers:e,setupData:n,unlisted:s}),u=Qy({game:t,numPlayers:e,setupData:n});return{metadata:c,initialState:u}},_u=(t,e,n)=>({...n,G:t.playerView({G:n.G,ctx:n.ctx,playerID:e}),plugins:uE(n,{playerID:e,game:t}),deltalog:void 0,_undo:[],_redo:[]}),bE=t=>(e,n)=>{switch(n.type){case"patch":{const[s,a,c,u]=n.args,f=Hp(u.deltalog,e),d=_u(t,e,u),p=u._stateID,y=_u(t,e,c),g=pE.createPatch(y,d);return{type:"patch",args:[s,a,p,g,f]}}case"update":{const[s,a]=n.args,c=Hp(a.deltalog,e),u=_u(t,e,a);return{type:"update",args:[s,u,c]}}case"sync":{const[s,a]=n.args,c=_u(t,e,a.state),u=Hp(a.log,e),f={...a,state:c,log:u};return{type:"sync",args:[s,f]}}default:return n}};function Hp(t,e){return t===void 0?t:t.map(n=>{if(e!==null&&+e==+n.action.payload.playerID||n.redact!==!0)return n;const s={...n.action.payload,args:null},a={...n,action:{...n.action,payload:s}},{redact:c,...u}=a;return u})}const V4=Object.freeze(Object.defineProperty({__proto__:null,Async:H4,CreateGameReducer:Yf,InitializeGame:Qy,ProcessGameConfig:Qc,Sync:vE,Transport:Gf,createMatch:xE,getFilterPlayerView:bE},Symbol.toStringTag,{value:"Module"})),Zy=vf(V4);var Ji={};function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function q4(t,e){if(Bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(Bc(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F4(t){var e=q4(t,"string");return Bc(e)=="symbol"?e:e+""}function Y4(t,e,n){return(e=F4(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function P1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M1(Object(n),!0).forEach(function(s){Y4(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M1(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Sr(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var N1=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),D1=function(){return Math.random().toString(36).substring(7).split("").join(".")},k1={INIT:"@@redux/INIT"+D1(),REPLACE:"@@redux/REPLACE"+D1()};function G4(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Jy(t,e,n){var s;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Sr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Sr(1));return n(Jy)(t,e)}if(typeof t!="function")throw new Error(Sr(2));var a=t,c=e,u=[],f=u,d=!1;function p(){f===u&&(f=u.slice())}function y(){if(d)throw new Error(Sr(3));return c}function g(E){if(typeof E!="function")throw new Error(Sr(4));if(d)throw new Error(Sr(5));var M=!0;return p(),f.push(E),function(){if(M){if(d)throw new Error(Sr(6));M=!1,p();var D=f.indexOf(E);f.splice(D,1),u=null}}}function v(E){if(!G4(E))throw new Error(Sr(7));if(typeof E.type>"u")throw new Error(Sr(8));if(d)throw new Error(Sr(9));try{d=!0,c=a(c,E)}finally{d=!1}for(var M=u=f,P=0;P<M.length;P++){var D=M[P];D()}return E}function S(E){if(typeof E!="function")throw new Error(Sr(10));a=E,v({type:k1.REPLACE})}function w(){var E,M=g;return E={subscribe:function(D){if(typeof D!="object"||D===null)throw new Error(Sr(11));function k(){D.next&&D.next(y())}k();var j=M(k);return{unsubscribe:j}}},E[N1]=function(){return this},E}return v({type:k1.INIT}),s={dispatch:v,subscribe:g,getState:y,replaceReducer:S},s[N1]=w,s}function SE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(s){return s}:e.length===1?e[0]:e.reduce(function(s,a){return function(){return s(a.apply(void 0,arguments))}})}function _E(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(s){return function(){var a=s.apply(void 0,arguments),c=function(){throw new Error(Sr(15))},u={getState:a.getState,dispatch:function(){return c.apply(void 0,arguments)}},f=e.map(function(d){return d(u)});return c=SE.apply(void 0,f)(a.dispatch),P1(P1({},a),{},{dispatch:c})}}}const j1=t=>Object.values(t.players).map(e=>{const{credentials:n,...s}=e;return s}),K4=t=>{const{credentials:e,...n}=t.payload;return{...t,payload:n}};class wE{constructor(e,n,s,a){this.game=Qc(e),this.storageAPI=n,this.transportAPI=s,this.subscribeCallback=()=>{},this.auth=a}subscribe(e){this.subscribeCallback=e}async onUpdate(e,n,s,a){if(!e||!e.payload)return{error:"missing action or action payload"};let c;if(Zi(this.storageAPI)?{metadata:c}=this.storageAPI.fetch(s,{metadata:!0}):{metadata:c}=await this.storageAPI.fetch(s,{metadata:!0}),this.auth&&!await this.auth.authenticateCredentials({playerID:a,credentials:e.payload.credentials,metadata:c}))return{error:"unauthorized action"};const u=K4(e),f=s;let d;if(Zi(this.storageAPI)?{state:d}=this.storageAPI.fetch(f,{state:!0}):{state:d}=await this.storageAPI.fetch(f,{state:!0}),d===void 0)return Ht(`game not found, matchID=[${f}]`),{error:"game not found"};if(d.ctx.gameover!==void 0){Ht(`game over - matchID=[${f}] - playerID=[${a}] - action[${u.payload.type}]`);return}const p=Yf({game:this.game}),y=_E(gE),g=Jy(p,d,y);if(u.type==qf||u.type==Vf){const P=d.ctx.activePlayers!==null,D=d.ctx.currentPlayer===a;if(!P&&!D||P&&(d.ctx.activePlayers[a]===void 0||Object.keys(d.ctx.activePlayers).length>1)){Ht(`playerID=[${a}] cannot undo / redo right now`);return}}if(!this.game.flow.isPlayerActive(d.G,d.ctx,a)){Ht(`player not active - playerID=[${a}] - action[${u.payload.type}]`);return}const v=u.type==Ic?this.game.flow.getMove(d.ctx,u.payload.type,a):null;if(u.type==Ic&&!v){Ht(`move not processed - canPlayerMakeMove=false - playerID=[${a}] - action[${u.payload.type}]`);return}if(d._stateID!==n&&!(v&&mE(v)&&v.ignoreStaleStateID)){Ht(`invalid stateID, was=[${n}], expected=[${d._stateID}] - playerID=[${a}] - action[${u.payload.type}]`);return}const S=g.getState();g.dispatch(u),d=g.getState(),this.subscribeCallback({state:d,action:u,matchID:s}),this.game.deltaState?this.transportAPI.sendAll({type:"patch",args:[s,n,S,d]}):this.transportAPI.sendAll({type:"update",args:[s,d]});const{deltalog:w,...E}=d;let M;if(c&&(c.gameover===void 0||c.gameover===null)&&(M={...c,updatedAt:Date.now()},d.ctx.gameover!==void 0&&(M.gameover=d.ctx.gameover)),Zi(this.storageAPI))this.storageAPI.setState(f,E,w),M&&this.storageAPI.setMetadata(f,M);else{const P=[this.storageAPI.setState(f,E,w)];M&&P.push(this.storageAPI.setMetadata(f,M)),await Promise.all(P)}}async onSync(e,n,s,a=2){const c=e,u={state:!0,metadata:!0,log:!0,initialState:!0},f=Zi(this.storageAPI)?this.storageAPI.fetch(c,u):await this.storageAPI.fetch(c,u);let{state:d,initialState:p,log:y,metadata:g}=f;if(this.auth&&n!==void 0&&n!==null&&!await this.auth.authenticateCredentials({playerID:n,credentials:s,metadata:g}))return{error:"unauthorized"};if(d===void 0){const w=xE({game:this.game,unlisted:!0,numPlayers:a,setupData:void 0});if("setupDataError"in w)return{error:"game requires setupData"};p=d=w.initialState,g=w.metadata,this.subscribeCallback({state:d,matchID:e}),Zi(this.storageAPI)?this.storageAPI.createMatch(c,{initialState:p,metadata:g}):await this.storageAPI.createMatch(c,{initialState:p,metadata:g})}const v=g?j1(g):void 0,S={state:d,log:y,filteredMetadata:v,initialState:p};this.transportAPI.send({playerID:n,type:"sync",args:[e,S]})}async onConnectionChange(e,n,s,a){const c=e;if(n==null)return;let u;if(Zi(this.storageAPI)?{metadata:u}=this.storageAPI.fetch(c,{metadata:!0}):{metadata:u}=await this.storageAPI.fetch(c,{metadata:!0}),u===void 0)return Ht(`metadata not found for matchID=[${c}]`),{error:"metadata not found"};if(u.players[n]===void 0)return Ht(`Player not in the match, matchID=[${c}] playerID=[${n}]`),{error:"player not in the match"};if(this.auth&&!await this.auth.authenticateCredentials({playerID:n,credentials:s,metadata:u}))return{error:"unauthorized"};u.players[n].isConnected=a;const f=j1(u);this.transportAPI.sendAll({type:"matchData",args:[e,f]}),Zi(this.storageAPI)?this.storageAPI.setMetadata(c,u):await this.storageAPI.setMetadata(c,u)}async onChatMessage(e,n,s){const a=e;if(this.auth){const{metadata:c}=await this.storageAPI.fetch(a,{metadata:!0});if(!(n&&typeof n.sender=="string"))return{error:"unauthorized"};if(!await this.auth.authenticateCredentials({playerID:n.sender,credentials:s,metadata:c}))return{error:"unauthorized"}}this.transportAPI.sendAll({type:"chat",args:[e,n]})}}const X4=Object.freeze(Object.defineProperty({__proto__:null,Master:wE},Symbol.toStringTag,{value:"Module"})),Q4=vf(X4);var mc={},L1;function Z4(){if(L1)return mc;L1=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.P2PDB=void 0;const t=Zy;class e extends t.Sync{constructor(){super(...arguments),this.initialState=new Map,this.state=new Map,this.log=new Map,this.metadata=new Map}connect(){}createMatch(s,a){this.initialState.set(s,a.initialState),this.state.set(s,a.initialState),this.log.set(s,[]),this.metadata.set(s,a.metadata)}setState(s,a,c){this.state.set(s,a),c&&this.log.set(s,[...this.log.get(s)||[],...c])}setMetadata(s,a){this.metadata.set(s,a)}fetch(s){return{initialState:this.initialState.get(s),state:this.state.get(s),log:this.log.get(s),metadata:this.metadata.get(s)}}wipe(s){this.initialState.delete(s),this.state.delete(s),this.log.delete(s),this.metadata.delete(s)}listMatches(){return[...this.metadata.keys()]}}return mc.P2PDB=e,mc}var $s={},U1;function zm(){if(U1)return $s;U1=1,Object.defineProperty($s,"__esModule",{value:!0}),$s.authenticate=$s.signMessage=$s.generateCredentials=void 0;const t=GC(),e=KC();function n(){return(0,e.encodeBase64)((0,t.randomBytes)(64))}$s.generateCredentials=n;function s(u,f,d){try{const p=t.sign.open((0,e.decodeBase64)(u),(0,e.decodeBase64)(f));return p!==null&&(0,e.encodeUTF8)(p)===d}catch{return!1}}function a(u,f){return(0,e.encodeBase64)((0,t.sign)((0,e.decodeUTF8)(u),(0,e.decodeBase64)(f)))}$s.signMessage=a;function c(u,f,d){const{playerID:p,credentials:y,message:g}=f,{metadata:v}=d.fetch(u);if(p==null||!(+p in v.players))return!0;const S=v.players[+p].credentials,w=y?!!g&&s(g,y,p):!1;return!S&&w?(d.setMetadata(u,Object.assign(Object.assign({},v),{players:Object.assign(Object.assign({},v.players),{[+p]:Object.assign(Object.assign({},v.players[+p]),{credentials:y})})})),!0):!!(!S&&!y||S&&S===y&&w)}return $s.authenticate=c,$s}var I1;function J4(){if(I1)return Ji;I1=1;var t=Ji&&Ji.__rest||function(u,f){var d={};for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&f.indexOf(p)<0&&(d[p]=u[p]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,p=Object.getOwnPropertySymbols(u);y<p.length;y++)f.indexOf(p[y])<0&&Object.prototype.propertyIsEnumerable.call(u,p[y])&&(d[p[y]]=u[p[y]]);return d};Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.P2PHost=void 0;const e=Zy,n=Q4,s=Z4(),a=zm();class c{constructor({game:f,numPlayers:d=2,matchID:p}){this.clients=new Map,this.matchID=p,(!f.name||f.name==="default")&&console.error('Using "default" as your game name.\nPlease set the `name` property of your game definition to a unique string to help avoid peer ID conflicts.');const y=(0,e.createMatch)({game:f,numPlayers:d,unlisted:!1,setupData:void 0});if("setupDataError"in y)throw new Error("setupData Error: "+y.setupDataError);this.db=new s.P2PDB,this.db.createMatch(this.matchID,y);const g=(0,e.getFilterPlayerView)(f);this.master=new n.Master(f,this.db,{send:v=>{var{playerID:S}=v,w=t(v,["playerID"]);const E=g(S,w);for(const[M]of this.clients)M.metadata.playerID===S&&M.send(E)},sendAll:v=>{for(const[S]of this.clients){const w=g(S.metadata.playerID,v);S.send(w)}}})}registerClient(f){if(!this.authenticateClient(f))return;const{playerID:p,credentials:y}=f.metadata;this.clients.set(f,f),this.master.onConnectionChange(this.matchID,p,y,!0)}authenticateClient(f){return(0,a.authenticate)(this.matchID,f.metadata,this.db)}unregisterClient(f){const{credentials:d,playerID:p}=f.metadata;this.clients.delete(f),this.master.onConnectionChange(this.matchID,p,d,!1)}processAction(f){switch(f.type){case"update":this.master.onUpdate(...f.args);break;case"chat":this.master.onChatMessage(...f.args);break;case"sync":this.master.onSync(...f.args);break}}}return Ji.P2PHost=c,Ji}var z1;function W4(){return z1||(z1=1,(function(t){var e=Qi&&Qi.__rest||function(S,w){var E={};for(var M in S)Object.prototype.hasOwnProperty.call(S,M)&&w.indexOf(M)<0&&(E[M]=S[M]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function")for(var P=0,M=Object.getOwnPropertySymbols(S);P<M.length;P++)w.indexOf(M[P])<0&&Object.prototype.propertyIsEnumerable.call(S,M[P])&&(E[M[P]]=S[M[P]]);return E},n=Qi&&Qi.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(t,"__esModule",{value:!0}),t.P2P=t.generateCredentials=void 0;const s=n(JD),a=GC(),c=KC(),u=Zy,f=J4(),d=zm();var p=zm();Object.defineProperty(t,"generateCredentials",{enumerable:!0,get:function(){return p.generateCredentials}});class y{constructor(){this.initialInterval=500,this.maxInterval=32e3,this.interval=this.initialInterval}cancelTask(){this.taskID&&(clearTimeout(this.taskID),delete this.taskID)}schedule(w){this.cancelTask(),this.taskID=setTimeout(()=>{this.interval<this.maxInterval&&(this.interval*=2),w()},this.interval)}clear(){this.cancelTask(),this.interval=this.initialInterval}}class g extends u.Transport{constructor(w){var{isHost:E,onError:M=()=>{},peerOptions:P={}}=w,D=e(w,["isHost","onError","peerOptions"]);super(D),this.peer=null,this.isHost=!!E,this.onError=M,this.peerOptions=P,this.game=D.game,this.retryHandler=new y,this.setCredentials(D.credentials)}get hostID(){if(!this.matchID)throw new Error("matchID must be provided");return`boardgameio-${this.gameName}-matchid-${this.matchID}`.replace(/([^A-Za-z0-9_-]|^[_-]+|[_-]+$)/g,"").replace(/([_-])[_-]+/g,"$1")}setCredentials(w){if(!w){this.privateKey=this.credentials=void 0;return}const E=(0,a.hash)((0,c.decodeUTF8)(w)).slice(0,32),{publicKey:M,secretKey:P}=a.sign.keyPair.fromSeed(E);this.credentials=(0,c.encodeBase64)(M),this.privateKey=(0,c.encodeBase64)(P)}get metadata(){return{playerID:this.playerID,credentials:this.credentials,message:this.playerID&&this.privateKey?(0,d.signMessage)(this.playerID,this.privateKey):void 0}}connect(){if(this.peer=new s.default(this.isHost?this.hostID:void 0,this.peerOptions),this.isHost){const w=new f.P2PHost({game:this.game,numPlayers:this.numPlayers,matchID:this.matchID});this.emit=E=>void w.processAction(E),w.registerClient({send:E=>void this.notifyClient(E),metadata:this.metadata}),this.peer.on("connection",E=>{w.registerClient(E),E.on("data",M=>{w.processAction(M)}),E.on("close",()=>void w.unregisterClient(E)),window&&window.addEventListener("beforeunload",()=>E.close())}),this.peer.on("error",E=>this.onError(E)),this.onConnect()}else this.peer.on("open",()=>void this.connectToHost()),this.peer.on("error",w=>{const E=w;E.type==="network"||E.type==="peer-unavailable"?this.retryHandler.schedule(()=>void this.connectToHost()):this.onError(E)})}connectToHost(){if(!this.peer)return;const w=this.peer.connect(this.hostID,{metadata:this.metadata});this.emit=E=>void w.send(E),w.on("open",()=>void this.onConnect()),w.on("data",E=>void this.notifyClient(E)),window&&window.addEventListener("beforeunload",()=>w.close())}onConnect(){this.retryHandler.clear(),this.setConnectionStatus(!0),this.requestSync()}disconnect(){this.peer&&this.peer.destroy(),this.peer=null,this.retryHandler.clear(),this.setConnectionStatus(!1)}requestSync(){this.emit&&this.emit({type:"sync",args:[this.matchID,this.playerID,this.credentials,this.numPlayers]})}sendAction(w,E){this.emit&&this.emit({type:"update",args:[E,w._stateID,this.matchID,this.playerID]})}sendChatMessage(w,E){this.emit&&this.emit({type:"chat",args:[w,E,this.credentials]})}reconnect(){this.disconnect(),this.connect()}updateMatchID(w){this.matchID=w,this.reconnect()}updatePlayerID(w){this.playerID=w,this.reconnect()}updateCredentials(w){this.setCredentials(w),this.reconnect()}}const v=(S={})=>w=>new g(Object.assign(Object.assign({},w),S));t.P2P=v})(Qi)),Qi}var hs=W4();const $p=(t,e)=>{const n=t.currentRound;!n||n.currentPlayerId===null||t.phase==="guessing"&&(n.revealSongOwnerId=n.currentPlayerId,n.revealSongIndex=n.currentSongIndex,t.timer=null,t.phase="song_reveal",e?.setPhase?.("song_reveal"))},e5=(t,e)=>{const n=t.currentRound;if(!n)return;const s=n.playOrder.length,c=(n.revealSongIndex??n.currentSongIndex??0)+1;if(n.guesses={},n.correctGuessers={},n.revealSongOwnerId=null,n.revealSongIndex=null,n.currentSongIndex=c,c<s){const u=n.playOrder[c]??null;if(n.currentPlayerId=u??null,n.currentPlayerId){t.timer=t.settings.playbackDuration,t.phase="guessing",e?.setPhase?.("guessing");return}}n.currentPlayerId=null,t.timer=null,t.phase="round_results",e?.setPhase?.("round_results")},Hc=8,t5={name:"music-showdown",minPlayers:2,maxPlayers:Hc,setup:()=>({phase:"lobby",players:{},settings:{playbackDuration:30,totalRounds:3},currentRound:null,totalRounds:3,completedRounds:0,timer:null,maxPlayers:Hc,lobbyOrder:[]}),phases:{lobby:{start:!0,moves:{updateSettings:({G:t,playerID:e},n)=>{t.players[e]?.isHost&&(t.settings={...t.settings,...n},t.totalRounds=n.totalRounds||t.totalRounds)},startGame:({G:t,playerID:e,events:n})=>{t.players[e]?.isHost&&(t.phase="theme_selection",n?.setPhase?.("theme_selection"))},setPlayerName:({G:t,playerID:e},n)=>{if(!e)return;const s=n.trim().slice(0,24);if(!s)return;const a=t.players[e];if(!(!a&&Object.keys(t.players).length>=t.maxPlayers)){if(a){a.name=s,a.connected=!0,t.lobbyOrder=t.lobbyOrder.filter(c=>c!==e),t.lobbyOrder.includes(e)||t.lobbyOrder.push(e);return}t.players[e]={id:e,name:s,score:0,isHost:e==="0",connected:!0},t.lobbyOrder=t.lobbyOrder.filter(c=>c!==e),t.lobbyOrder.includes(e)||t.lobbyOrder.push(e)}}},next:"theme_selection"},theme_selection:{moves:{setTheme:({G:t,playerID:e},n)=>{t.players[e]?.isHost&&(t.currentRound?t.currentRound.theme=n:t.currentRound={roundNumber:t.completedRounds+1,theme:n,songSelections:{},currentSongIndex:0,currentPlayerId:null,guesses:{},roundScores:{},playOrder:[],correctGuessers:{},guessLog:[],revealSongOwnerId:null,revealSongIndex:null})},confirmTheme:({G:t,playerID:e,events:n})=>{!t.players[e]?.isHost||!t.currentRound?.theme||(t.timer=null,t.phase="song_picking",n?.setPhase?.("song_picking"))}},next:"song_picking"},song_picking:{moves:{selectSong:({G:t,playerID:e},n)=>{const s=t.currentRound;!s||Object.entries(s.songSelections).find(([c,u])=>c!==e&&u.videoId===n.videoId)||(s.songSelections[e]=n)}},endIf:({G:t})=>{if(!t.currentRound)return!1;const n=Object.values(t.players).filter(s=>s.connected).length;return n===0?!1:Object.keys(t.currentRound.songSelections).length>=n},next:"guessing",onEnd:({G:t,ctx:e,events:n})=>{if(!t.currentRound)return;const s=Object.keys(t.currentRound.songSelections),a=e.random,c=a?.Shuffle?a.Shuffle(s):[...s].sort(()=>Math.random()-.5);if(t.currentRound.playOrder=c,t.currentRound.currentSongIndex=0,t.currentRound.guesses={},t.currentRound.correctGuessers={},t.currentRound.revealSongOwnerId=null,t.currentRound.revealSongIndex=null,c.length===0){t.currentRound.currentPlayerId=null,t.timer=null,t.phase="round_results",n?.setPhase?.("round_results");return}t.currentRound.currentPlayerId=c[0],t.timer=t.settings.playbackDuration,t.phase="guessing"}},guessing:{moves:{submitGuess:({G:t,ctx:e,playerID:n,events:s},a)=>{if(!t.currentRound||!t.currentRound.currentPlayerId||n===t.currentRound.currentPlayerId)return;const c=t.currentRound.guesses[n]??[];if(c.some(P=>P.isCorrect))return;const f=t.settings.playbackDuration-(t.timer||0),d=t.currentRound.songSelections[t.currentRound.currentPlayerId],p=!!(d&&NP(a,d.customTitle)),y={guess:a,time:f,isCorrect:p};t.currentRound.guesses[n]=[...c,y];const g=e.random,v={id:g?.UUID?g.UUID():`${t.currentRound.roundNumber}-${n}-${Date.now()}`,playerId:n,playerName:t.players[n]?.name??`Player ${n}`,guess:a,time:f,isCorrect:p,songOwnerId:t.currentRound.currentPlayerId,songOwnerName:t.currentRound.currentPlayerId&&t.players[t.currentRound.currentPlayerId]?t.players[t.currentRound.currentPlayerId].name:null,songIndex:t.currentRound.currentSongIndex};if(t.currentRound.guessLog=[...t.currentRound.guessLog,v],p){t.currentRound.correctGuessers[n]=!0;let P=!0;for(const[j,F]of Object.entries(t.currentRound.guesses))if(j!==n){for(const J of F)if(J.isCorrect){J.time<f&&(P=!1);break}if(!P)break}const D=PP(!0,f,t.settings.playbackDuration,P),k=t.players[n];k&&(k.score+=D,t.currentRound.roundScores[n]=(t.currentRound.roundScores[n]||0)+D)}const S=Object.values(t.players).filter(P=>P.connected),w=t.currentRound.currentPlayerId,E=S.filter(P=>P.id!==w).length,M=Object.values(t.currentRound.correctGuessers).filter(Boolean).length;if(E===0||E>0&&M>=E){$p(t,s);return}},tickTimer:({G:t,playerID:e,events:n})=>{if(t.players[e]?.isHost&&t.timer!==null){if(t.timer<=0){t.timer=0,$p(t,n);return}t.timer-=1,t.timer<=0&&(t.timer=0,$p(t,n))}}}},song_reveal:{moves:{continueReveal:({G:t,playerID:e,events:n})=>{t.players[e]?.isHost&&e5(t,n)}},next:"guessing"},round_results:{moves:{nextRound:({G:t,playerID:e,events:n})=>{t.players[e]?.isHost&&(t.completedRounds++,t.completedRounds<t.totalRounds?(t.currentRound=null,t.timer=null,t.phase="theme_selection",n?.setPhase?.("theme_selection")):(t.timer=null,t.phase="game_over",n?.setPhase?.("game_over")))}},next:"theme_selection"},game_over:{moves:{restartLobby:({G:t,playerID:e,events:n})=>{if(t.players[e]?.isHost){for(const a of Object.values(t.players))a.score=0;t.currentRound=null,t.completedRounds=0,t.timer=null,t.totalRounds=t.settings.totalRounds,t.phase="lobby",n?.setPhase?.("lobby")}},endGame:({G:t,events:e})=>{t.phase="lobby",e?.endGame?.()}}}},turn:{activePlayers:{all:"default"}}},CE="musicshowdown.identity",ls="0",oa=1,Bm=Math.max(oa,Hc-1),Mc="spectator",Zc=t=>`${CE}.${t}`,Wy=t=>`${CE}.${t}.used`,B1=(t,e)=>{if(t==="host")return e===ls;const n=Number(e);return Number.isInteger(n)&&n>=oa&&n<=Bm},uo=t=>{if(typeof window>"u")return new Set;const e=localStorage.getItem(Wy(t));if(!e)return new Set;try{const n=JSON.parse(e);return new Set(n)}catch{return new Set}},fa=(t,e)=>{typeof window>"u"||localStorage.setItem(Wy(t),JSON.stringify(Array.from(e)))},gf=(t,e)=>{for(let s=oa;s<=Bm;s++){const a=String(s);if(!e.has(a))return e.add(a),fa(t,e),a}const n=String(Math.min(Bm,Math.max(oa,e.size+oa)));return e.add(n),fa(t,e),n},n5=(t,e,n)=>{if(e==="host")return{playerID:ls,credentials:hs.generateCredentials(),role:e,playerName:n};const s=uo(t);return{playerID:gf(t,s),credentials:hs.generateCredentials(),role:e,playerName:n}};function eg(t){if(typeof window>"u")return null;const e=localStorage.getItem(Zc(t));if(!e)return null;try{return JSON.parse(e)}catch{return null}}function EE(t){return{playerID:Mc,credentials:"",role:"spectator",playerName:t}}function r5(t,e,n){if(typeof window>"u")return{playerID:n??String(oa),credentials:hs.generateCredentials(),role:"peer",playerName:e};const s=uo(t);let a=n;a&&(s.has(a)?a=void 0:(s.add(a),fa(t,s)));const c={playerID:a??gf(t,s),credentials:hs.generateCredentials(),role:"peer",playerName:e};return s.add(c.playerID),fa(t,s),localStorage.setItem(Zc(t),JSON.stringify(c)),c}function s5(t,e){if(typeof window>"u"||!e||e===ls)return;const n=uo(t);n.delete(e)&&fa(t,n)}function TE(t,e,n){const s=e==="spectator"?"peer":e;if(typeof window>"u")return{playerID:s==="host"?ls:String(oa),credentials:hs.generateCredentials(),role:s,playerName:n};const a=Zc(t),c=eg(t),u=uo(t);if(c){let d=c.playerID,p=c.credentials;B1(c.role,c.playerID)||(u.delete(c.playerID),d=c.role==="host"?ls:gf(t,u),p=hs.generateCredentials());const y=c.role==="host"?"host":s,g=y==="host"?ls:d,v={...c,role:y,playerName:n||c.playerName,playerID:g,credentials:p};return B1(v.role,v.playerID)||(u.delete(v.playerID),v.playerID=v.role==="host"?ls:gf(t,u),v.credentials=hs.generateCredentials()),localStorage.setItem(a,JSON.stringify(v)),v}const f=n5(t,s,n);if(s==="peer"){const d=uo(t);d.add(f.playerID),fa(t,d)}return localStorage.setItem(a,JSON.stringify(f)),f}function i5(t,e){const n=e.trim().slice(0,24);if(typeof window>"u")return{playerID:ls,credentials:hs.generateCredentials(),role:"host",playerName:n||e||"Player"};const s=Zc(t),a=uo(t),c=eg(t);c&&c.playerID!==ls&&(a.delete(c.playerID),fa(t,a));const u=n||c?.playerName||"Player",f={playerID:ls,credentials:hs.generateCredentials(),role:"host",playerName:u};localStorage.setItem(s,JSON.stringify(f));try{sessionStorage.setItem("musicshowdown.lastRole","host")}catch{}return f}function a5(t){typeof window>"u"||(localStorage.removeItem(Zc(t)),localStorage.removeItem(Wy(t)))}function Hm(t){return[t]}function yc(t,e){const n=t&&Number.isFinite(t)&&t>0?Math.floor(t):RE;return Math.max(0,n-e)}function wu(t,e=RE){return Number.isNaN(t)||t<0?0:Math.min(Math.floor(t),e)}function $m(t){const e=Math.max(0,Math.floor(t)),n=Math.floor(e/60),s=e%60;return n===0?`${e}s`:`${n}:${s.toString().padStart(2,"0")}`}const Xa=["1960s","1970s","1980s","1990s","2000s","2010s","2020s","Game Soundtracks","Movie Soundtracks","Alternative Rock","FIFA Soundtracks","R&B Grooves","Classic Hip-Hop","Indie Favorites","Top 40 Hits","Chill Electronic","Country Classics","Classic Rock","Modern Country","Reggae Classics","Funk Essentials"],RE=600;function o5({headerControls:t,currentRound:e,settings:n,themeValue:s,isHost:a,handleThemeChange:c,handleRandomTheme:u,mySelection:f,moves:d,effectivePlayerId:p,playerLookup:y,toast:g}){const[v,S]=T.useState(null),[w,E]=T.useState(""),[M,P]=T.useState(0),[D,k]=T.useState(!1),j=T.useRef(null),[F,J]=T.useState(()=>yc(null,n.playbackDuration)),Y=T.useCallback(()=>{const Ee=j.current?.getDuration?.(),pe=yc(Ee,n.playbackDuration);J(Te=>Te===pe?Te:pe),P(Te=>{const H=wu(Te,pe);return H!==Te?(j.current?.seekTo?.(H,!0),H):Te})},[n.playbackDuration]);T.useEffect(()=>{Y()},[Y]);const G=T.useCallback(Ee=>{S(Ee),E(Ee.title),P(0),k(!1),j.current=null,J(yc(null,n.playbackDuration))},[n.playbackDuration]),me=T.useCallback(()=>{const Ee=w.trim();if(!v||!Ee||!e)return;const pe=Object.entries(e.songSelections??{}).find(([Te,H])=>Te!==p&&H.videoId===v.id);if(pe){const[Te]=pe,ie=y.get(Te)?.name??"Another player";g({title:"Song already taken",description:`${ie} has already locked this song. Pick a different one.`,variant:"destructive"});return}j.current?.stopVideo?.(),d.selectSong?.({videoId:v.id,originalTitle:v.title,customTitle:Ee,thumbnail:v.thumbnail,startSeconds:M}),g({title:"Song selected",description:"Waiting for other players..."}),S(null),E(""),P(0),k(!1),j.current=null,J(yc(null,n.playbackDuration))},[w,e,p,d,y,v,n.playbackDuration,M,g]),be=T.useCallback(()=>{const Ee=j.current;if(!Ee)return;Ee.getPlayerState?.()===window.YT?.PlayerState?.PLAYING?(Ee.pauseVideo?.(),k(!1)):(Ee.seekTo?.(M,!0),Ee.playVideo?.(),k(!0))},[M,D]),we=T.useCallback(Ee=>{j.current=Ee;const pe=Ee.getDuration?.(),Te=yc(pe,n.playbackDuration);J(Te),P(H=>{const ie=wu(H,Te);return ie!==H?(Ee.seekTo?.(ie,!0),ie):H}),Ee.seekTo?.(M,!0),D?Ee.playVideo?.():Ee.pauseVideo?.()},[D,n.playbackDuration,M]),ge=T.useCallback(()=>{k(!1)},[]);return b.jsxs("div",{className:"min-h-screen bg-background",children:[t,b.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:b.jsxs("div",{className:"space-y-6",children:[b.jsx(cn,{className:"bg-primary/10 border-primary",children:b.jsxs(pn,{children:[b.jsx(mn,{className:"font-heading text-2xl mb-1",children:"Pick Your Song"}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Theme:"," ",b.jsx("span",{className:"font-semibold text-foreground",children:e?.theme??"Pending"})]})]})}),!f&&b.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,1.5fr)_minmax(0,1fr)]",children:[b.jsxs(cn,{className:"lg:col-span-1",children:[b.jsx(pn,{children:b.jsx(mn,{className:"font-heading",children:"Search YouTube"})}),b.jsx(En,{children:b.jsx(UN,{onSelect:G,selectedVideoId:v?.id})})]}),b.jsxs(cn,{className:"self-start",children:[b.jsxs(pn,{children:[b.jsx(mn,{className:"font-heading",children:"Selected Song"}),b.jsx(Kr,{children:"Fine-tune the title before locking it in."})]}),b.jsx(En,{children:v?b.jsxs("div",{className:"space-y-4",children:[b.jsx("div",{className:"overflow-hidden rounded-lg border",children:b.jsx(Sm,{videoId:v.id,autoplay:!1,startSeconds:M,interactive:!0,onReady:we,onEnd:ge})}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{children:[b.jsx(na,{htmlFor:"song-title",children:"Song title to guess"}),b.jsx(Ys,{id:"song-title",value:w,onChange:Ee=>E(Ee.target.value),className:"mt-2",placeholder:"Edit the title if needed...","data-testid":"input-song-title"}),b.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"This is what other players will try to guess."})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx(na,{htmlFor:"start-seconds",children:"Start playback at"}),b.jsx("span",{className:"text-xs text-muted-foreground",children:$m(M)})]}),b.jsx(rf,{id:"start-seconds",min:0,max:F,step:1,value:Hm(M),onValueChange:Ee=>{const pe=wu(Ee[0]??0,F);P(pe),j.current?.seekTo?.(pe,!0)},"data-testid":"slider-start-seconds"}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Ys,{type:"number",min:0,max:F,value:M,onChange:Ee=>{const pe=wu(Number(Ee.target.value),F);P(pe),j.current?.seekTo?.(pe,!0)},className:"w-24","data-testid":"input-start-seconds"}),b.jsx(Pn,{type:"button",variant:"secondary",onClick:be,disabled:!j.current,"data-testid":"button-preview",children:D?b.jsxs(b.Fragment,{children:[b.jsx(FO,{className:"mr-2 h-4 w-4"})," Pause Preview"]}):b.jsxs(b.Fragment,{children:[b.jsx(GO,{className:"mr-2 h-4 w-4"})," Play Preview"]})})]})]}),b.jsx(Pn,{onClick:me,className:"w-full",disabled:!w.trim(),"data-testid":"button-confirm-song",children:"Confirm Selection"})]})]}):b.jsx("div",{className:"flex min-h-[220px] items-center justify-center text-center text-sm text-muted-foreground",children:"Choose a song from the search results to review its details here."})})]})]}),f&&b.jsxs(cn,{children:[b.jsx(pn,{children:b.jsx(mn,{className:"font-heading",children:"You are all set!"})}),b.jsxs(En,{className:"space-y-4",children:[b.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start",children:[f.thumbnail?b.jsx("div",{className:"relative w-full max-w-[200px] overflow-hidden rounded-lg border bg-muted sm:w-48",children:b.jsx("img",{src:f.thumbnail,alt:f.customTitle||f.originalTitle,className:"h-full w-full object-cover"})}):null,b.jsxs("div",{className:"space-y-1",children:[b.jsx("span",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Selected song"}),b.jsx("div",{className:"text-lg font-semibold leading-snug",children:f.customTitle||f.originalTitle}),(f.startSeconds??0)>0&&b.jsxs("div",{className:"text-sm text-muted-foreground",children:["Starts at ",$m(f.startSeconds??0)]}),f.customTitle&&f.originalTitle&&f.customTitle.trim()!==f.originalTitle.trim()&&b.jsxs("div",{className:"text-sm text-muted-foreground",children:["Original title: ",f.originalTitle]})]})]}),b.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-waiting-selection",children:"Waiting for other players to finish picking."})]})]}),b.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[b.jsx("p",{className:"text-sm text-muted-foreground",children:"Need inspiration? Pick a suggestion."}),b.jsx(Pn,{variant:"secondary",size:"sm",onClick:u,disabled:!a,"data-testid":"button-random-theme",children:"Surprise Me"})]}),b.jsx("div",{className:"flex flex-wrap gap-2",children:Xa.map(Ee=>b.jsx(Pn,{type:"button",variant:"outline",size:"sm",onClick:()=>c(Ee),disabled:!a,className:"whitespace-nowrap",children:Ee},Ee))})]})})]})}function c5({G:t,ctx:e,moves:n,playerID:s,matchID:a,identity:c,isHost:u,isActive:f,isConnected:d,updatePlayerName:p,promoteToHost:y,claimSeat:g,releaseSeat:v}){const{toast:S}=PS(),w=e.phase??t.phase,E=t.currentRound??null,M=t.settings,P=t.timer,D=P??0,[k,j]=T.useState(null),[F,J]=T.useState({}),[Y,G]=T.useState(M),[me,be]=T.useState(!1),we=T.useCallback(()=>{G(M)},[M]);T.useEffect(()=>{we()},[we]);const ge=T.useMemo(()=>{const re=s??c.playerID;return!re||c.role==="spectator"||re===Mc?null:re},[s,c.playerID,c.role]),Ee=b.jsx("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:b.jsx(_y,{})}),pe=T.useCallback(()=>{if(w!=="lobby")return;const re=ge;if(!re)return;const Se=c.playerName.trim();if(!Se)return;const it=t.players?.[re];(!it||it.name!==Se||!it.connected)&&n.setPlayerName?.(Se)},[t.players,c.playerName,n,w,ge]);T.useEffect(()=>{pe()},[pe]);const Te=Object.values(t.players??{}).map(re=>re).sort((re,Se)=>re.id.localeCompare(Se.id)),H=E?.theme??"",ie=E?.roundScores??{},X=E?.guesses??{},je=E?.correctGuessers??{},Je=E?.guessLog??[],I=E?.currentPlayerId??null,se=E?.revealSongOwnerId??null,de=E?.revealSongIndex??null,xe=w==="song_reveal"&&de!==null&&de!==void 0?de:E?.currentSongIndex??null,_e=I?E?.songSelections?.[I]??null:null,Re=se?E?.songSelections?.[se]??null:null,ze=ge?E?.songSelections?.[ge]??null:null,Nt=ge?X[ge]??[]:[],z=Nt[Nt.length-1]??null,Q=!!(ge&&je[ge]),le=!!(w==="guessing"&&I&&ge&&I!==ge&&!Q&&(P===null||P>0)),Pe=t.lobbyOrder??[],Le=t.maxPlayers??Hc,Ue=T.useMemo(()=>{const re=new Map;return Te.forEach(Se=>re.set(Se.id,Se)),re},[Te]),Dt=T.useMemo(()=>{const re=Te.filter(Se=>Se.connected);return re.sort((Se,it)=>{const mt=Pe.indexOf(Se.id),wt=Pe.indexOf(it.id);return mt===-1&&wt===-1?Se.id.localeCompare(it.id):mt===-1?1:wt===-1?-1:mt-wt}),re},[Pe,Te]),bt=T.useRef(new Set),Zt=T.useRef(new Map);T.useEffect(()=>{if(c.role==="host"){bt.current.clear(),Zt.current.clear();return}if(c.role==="spectator"){const re=bt.current,Se=new Set(Te.filter(wt=>wt.connected).map(wt=>wt.id)),it=()=>{for(let wt=1;wt<Le;wt+=1){const C=String(wt);if(!Se.has(C)&&!re.has(C))return C}return null};let mt=it();!mt&&re.size>0&&(re.clear(),mt=it()),mt&&(re.add(mt),g(mt));return}c.role==="peer"&&(bt.current.clear(),Zt.current.clear())},[c.role,Te,Le,g]),T.useEffect(()=>{if(c.role!=="peer")return;const re=c.playerID;if(!re||re===Mc)return;if(Ue.get(re)?.connected){Zt.current.delete(re);return}const it=Zt.current.get(re)??0;if(it>=Le)return;const mt=window.setTimeout(()=>{if(Ue.get(re)?.connected){Zt.current.delete(re);return}Zt.current.set(re,it+1),bt.current.delete(re),v()},4e3);return()=>window.clearTimeout(mt)},[c.role,c.playerID,Ue,v,Le]),T.useEffect(()=>{if(c.role!=="peer"||d)return;const re=c.playerID;if(!re||re===Mc)return;const Se=window.setTimeout(()=>{bt.current.delete(re),Zt.current.delete(re),v()},3e3);return()=>window.clearTimeout(Se)},[c.role,c.playerID,d,v]),T.useEffect(()=>{if(w!=="lobby"||c.role!=="peer"||!ge)return;const re=c.playerName.trim();if(!re)return;const Se=()=>{try{n.setPlayerName?.(re)}catch(wt){console.warn("Failed to register player name",wt)}},it=Ue.get(ge);if(it?.connected){(!it.name||it.name.trim()!==re)&&Se();return}Se();const mt=window.setInterval(()=>{const wt=Ue.get(ge);if(wt?.connected){(!wt.name||wt.name.trim()!==re)&&Se(),window.clearInterval(mt);return}Se()},1e3);return()=>window.clearInterval(mt)},[w,c.role,c.playerName,ge,Ue,n]);const Bt=T.useMemo(()=>{const re=Pe.map(wt=>t.players[wt]).filter(wt=>!!wt),Se=new Set(re.map(wt=>wt.id)),it=Te.filter(wt=>!Se.has(wt.id)),mt=[...re,...it];return Array.from({length:Le},(wt,C)=>mt[C]??null)},[t.players,Pe,Le,Te]),xt=T.useMemo(()=>Te.map(re=>({player:re,roundScore:ie[re.id]??0})).sort((re,Se)=>Se.roundScore-re.roundScore),[Te,ie]),kt=T.useMemo(()=>[...Te].sort((re,Se)=>Se.score-re.score),[Te]),Gt=Dt.length,Rn=Math.max(Le-Gt,0),at=T.useCallback(re=>{u&&n.setTheme?.(re)},[u,n]),dt=T.useCallback(()=>{if(!u)return;const re=(E?.theme??"").trim(),Se=Xa.length>1?Xa.filter(mt=>mt!==re):Xa,it=Se[Math.floor(Math.random()*Se.length)]??Xa[0];it&&at(it)},[E?.theme,at,u]),Wt=T.useMemo(()=>E?xe==null?[]:Je.filter(re=>re.songIndex===xe).sort((re,Se)=>re.time-Se.time):[],[xe,E,Je]),Dn=re=>Number.isNaN(re)||!Number.isFinite(re)?"0s":`${Math.max(0,Math.round(re))}s`,fr=re=>re.length===0?b.jsx("div",{className:"flex h-full items-center justify-center px-6 py-12",children:b.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"No guesses yet for this song."})}):b.jsx(Ny,{className:"h-[360px] px-6 pb-6",children:b.jsx("div",{className:"space-y-4",children:re.map(Se=>{const it=ge&&Se.playerId===ge;return b.jsxs("div",{className:Yt("flex flex-col gap-2",it?"items-end":"items-start"),children:[b.jsxs("div",{className:Yt("flex items-start gap-3",it?"flex-row-reverse":"flex-row"),children:[b.jsx(dc,{playerId:Se.playerId,playerName:Se.playerName,size:"sm"}),b.jsxs("div",{className:Yt("space-y-1",it?"text-right":"text-left"),children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[b.jsx("span",{children:it?"You":Se.playerName}),Se.isCorrect&&b.jsx(_p,{children:"Correct"})]}),b.jsxs("div",{className:Yt("max-w-xs rounded-md px-3 py-2 text-sm",it?"bg-primary text-primary-foreground":"bg-muted/40 text-muted-foreground"),children:['"',Se.guess,'"']})]})]}),b.jsx("span",{className:"text-xs text-muted-foreground",children:Dn(Se.time)})]},Se.id)})})}),An=T.useCallback(()=>{if(!u||w!=="song_picking"&&w!=="guessing"||P===null||P<=0)return;const re=window.setInterval(()=>{n.tickTimer?.()},1e3);return()=>window.clearInterval(re)},[u,n,w,P]);T.useEffect(()=>An(),[An]);const zr=u?Y:M,dr=T.useMemo(()=>{if(w!=="guessing"||!E)return"inactive";const re=E.currentSongIndex??E.revealSongIndex??0;return`${E.roundNumber}:${re}`},[E,w]),Wr=F[dr]??"",Ni=T.useCallback(re=>{J(Se=>({...Se,[dr]:re}))},[dr]),hr=T.useCallback(()=>{J(re=>{if(re[dr]===void 0)return re;const Se={...re};return delete Se[dr],Se})},[dr]),un=T.useCallback(()=>{const Se=(k??c.playerName).trim().slice(0,24);Se&&(p(Se),w==="lobby"&&n.setPlayerName?.(Se),j(null))},[c.playerName,n,w,k,p]),kn=T.useCallback(()=>{const re=Wr.trim();!le||!re||(n.submitGuess?.(re),hr())},[le,Wr,n,hr]),yn=T.useCallback(()=>{u&&n.continueReveal?.()},[u,n]),Zs=T.useCallback(()=>{n.nextRound?.(),J({})},[n]),bs=T.useCallback(()=>{n.restartLobby?.(),J({})},[n]),Ss=T.useCallback(()=>{n.endGame?.()},[n]),es=T.useCallback(re=>{u&&G(Se=>({...Se,...re}))},[u]),_s=T.useCallback(re=>{if(!u)return;G(it=>({...it,...re}));const Se=Object.entries(re).filter(([it,mt])=>mt!==void 0&&M[it]!==mt);Se.length&&n.updateSettings?.(Object.fromEntries(Se))},[u,n,M]),Js=async()=>{try{await navigator.clipboard.writeText(a),be(!0),S({title:"Room code copied!",description:"Share it with your friends to join the game"}),setTimeout(()=>be(!1),2e3)}catch{S({title:"Unable to copy room code",variant:"destructive"})}},Br=()=>{if(!u){S({title:"Waiting for host",description:"Only the host can start the game"});return}if(Gt<2){S({title:"Need more players",description:"At least 2 players required to start",variant:"destructive"});return}n.startGame?.()},In=re=>Se=>es({[re]:Se[0]}),qn=re=>Se=>_s({[re]:Se[0]});if(w==="lobby")return b.jsxs("div",{className:"min-h-screen bg-background",children:[Ee,b.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-5xl space-y-8",children:[b.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("h1",{className:"text-3xl font-heading font-bold",children:b.jsx(iy,{to:"/music-showdown",className:"inline-flex items-center text-left text-inherit transition-colors hover:text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 focus-visible:ring-offset-background",children:"Music Showdown"})}),b.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground",children:[b.jsx(_p,{variant:"secondary",className:"uppercase",children:c.role}),b.jsxs("span",{children:["Signed in as ",c.playerName]})]})]}),b.jsxs("div",{className:"flex items-center gap-3 rounded-lg border bg-muted/40 px-4 py-3",children:[b.jsx("div",{className:"text-xs font-semibold uppercase text-muted-foreground tracking-wide",children:"Room"}),b.jsx("code",{className:"text-2xl font-mono font-semibold tracking-wider text-primary","data-testid":"text-room-code",children:a}),b.jsx(Pn,{variant:"ghost",size:"icon",onClick:Js,"data-testid":"button-copy-code",children:me?b.jsx(EO,{className:"h-5 w-5 text-secondary"}):b.jsx(LO,{className:"h-5 w-5"})})]})]}),b.jsxs("div",{className:"grid gap-6 lg:grid-cols-[2fr_1.1fr]",children:[b.jsxs(cn,{className:"h-full",children:[b.jsxs(pn,{children:[b.jsxs(mn,{className:"font-heading",children:["Players (",Gt,"/",Le,")"]}),b.jsx(Kr,{children:Gt===0?"Waiting for players to join...":`${Gt} connected, ${Rn} open slot${Rn===1?"":"s"}`})]}),b.jsx(En,{children:b.jsx("div",{className:"space-y-2",children:Bt.map((re,Se)=>b.jsx("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50","data-testid":re?`player-card-${re.id}`:`player-card-empty-${Se}`,children:re?b.jsxs(b.Fragment,{children:[b.jsx(dc,{playerId:re.id,playerName:re.name}),b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"font-semibold",children:re.name}),!re.connected&&b.jsx("div",{className:"text-xs text-muted-foreground",children:"Not connected"})]}),b.jsx("div",{className:"flex items-center gap-2",children:re.isHost&&b.jsxs(_p,{variant:"default",className:"gap-1","data-testid":"badge-host",children:[b.jsx(IO,{className:"w-3 h-3"}),"Host"]})})]}):b.jsx("div",{className:"flex items-center gap-3 w-full justify-between",children:b.jsxs("div",{className:"flex gap-3 items-center",children:[b.jsx("div",{className:"w-8 h-8 rounded-full bg-muted"}),b.jsxs("span",{className:"text-sm text-muted-foreground",children:["Waiting for player ",Se+1]})]})})},re?re.id:`empty-${Se}`))})})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs(cn,{children:[b.jsxs(pn,{children:[b.jsx(mn,{className:"font-heading text-lg",children:"Your Lobby Controls"}),b.jsx(Kr,{children:u?"Update your name and start the game once everyone is ready.":"Update your name while the host prepares the game."})]}),b.jsxs(En,{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx(na,{htmlFor:"player-name",children:"Display name"}),b.jsx(Ys,{id:"player-name",placeholder:"Your name",value:k??c.playerName,onChange:re=>j(re.target.value),onBlur:un,onKeyDown:re=>re.key==="Enter"&&un(),"data-testid":"input-player-name"}),b.jsx("p",{className:"text-xs text-muted-foreground",children:"Shared with other players in the lobby."})]}),b.jsx(Pn,{onClick:Br,className:"w-full",size:"lg","data-testid":"button-start-game",disabled:!u||Gt<2,children:"Start Game"}),c.role==="spectator"&&b.jsx("p",{className:"text-center text-xs text-muted-foreground",children:"Lobby is full. We'll seat you automatically when a spot opens."}),(!u||Gt<2)&&b.jsx("p",{className:"text-center text-xs text-muted-foreground",children:u?"Need at least 2 players to start.":"Only the host can start the game."})]})]}),b.jsxs(cn,{children:[b.jsxs(pn,{className:"pb-3",children:[b.jsx(mn,{className:"font-heading text-lg",children:"Game Settings"}),b.jsx(Kr,{children:"Hosts can tweak settings before the game begins."})]}),b.jsxs(En,{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx(na,{children:"Number of rounds"}),b.jsx("span",{className:"text-xs text-muted-foreground",children:zr.totalRounds})]}),b.jsx(rf,{min:1,max:10,step:1,value:Hm(zr.totalRounds),onValueChange:In("totalRounds"),onValueCommit:qn("totalRounds"),disabled:!u})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsx(na,{htmlFor:"playback-duration",children:"Playback duration"}),b.jsxs("span",{className:"text-xs text-muted-foreground",children:[zr.playbackDuration,"s"]})]}),b.jsx(rf,{id:"playback-duration",min:30,max:300,step:5,value:Hm(zr.playbackDuration),onValueChange:In("playbackDuration"),onValueCommit:qn("playbackDuration"),disabled:!u})]})]})]})]})]})]})]});if(w==="theme_selection")return b.jsxs("div",{className:"min-h-screen bg-background",children:[Ee,b.jsx("div",{className:"container mx-auto px-4 py-8 max-w-3xl",children:b.jsxs(cn,{className:"mb-6",children:[b.jsxs(pn,{children:[b.jsx(mn,{className:"font-heading text-2xl",children:"Set the Theme"}),b.jsx(Kr,{children:"Waiting on the host to set the theme for this round."})]}),b.jsxs(En,{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx(na,{htmlFor:"theme",children:"Theme for this round"}),b.jsx(Ys,{id:"theme",placeholder:"e.g., 80s Rock, Movie Soundtracks, Summer Vibes...",value:H,onChange:re=>u&&n.setTheme?.(re.target.value),className:"text-lg mt-2","data-testid":"input-theme",disabled:!u})]}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[b.jsx("p",{className:"text-sm text-muted-foreground",children:"Need inspiration? Pick a suggestion."}),b.jsx(Pn,{variant:"secondary",size:"sm",onClick:dt,disabled:!u,"data-testid":"button-random-theme",children:"Surprise Me"})]}),b.jsx("div",{className:"flex flex-wrap gap-2",children:Xa.map(re=>b.jsx(Pn,{type:"button",variant:"outline",size:"sm",onClick:()=>at(re),disabled:!u,className:"whitespace-nowrap",children:re},re))})]}),u?b.jsx(Pn,{onClick:()=>n.confirmTheme?.(),disabled:!H.trim(),className:"w-full","data-testid":"button-confirm-theme",children:"Confirm Theme"}):b.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-waiting-theme",children:"Waiting for the host to confirm the theme..."})]})]})})]});if(w==="song_picking")return b.jsx(o5,{headerControls:Ee,currentRound:E,settings:M,themeValue:H,isHost:u,handleThemeChange:at,handleRandomTheme:dt,mySelection:ze,moves:n,effectivePlayerId:ge,playerLookup:Ue,toast:S});const Hr=!!(ge&&I===ge),Ws=Hr?"You selected this song.":Q?"Correct! Waiting for next song...":"Type your guess...";if(w==="guessing"&&_e){const re=M.playbackDuration>0?1-D/M.playbackDuration:0;return b.jsxs("div",{className:"min-h-screen bg-background",children:[Ee,b.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-5xl space-y-6",children:[b.jsx(cn,{className:"bg-accent/10 border-accent",children:b.jsx(pn,{children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx(mn,{className:"font-heading text-2xl",children:"Guess the Song!"}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:[Te.find(Se=>Se.id===I)?.name??"Mystery player","'s selection"]})]}),b.jsx(bN,{timeRemaining:D,totalTime:M.playbackDuration,variant:"accent"})]})})}),b.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,0.6fr)_minmax(0,1fr)]",children:[b.jsxs("div",{className:"space-y-6",children:[b.jsxs(cn,{children:[b.jsx(pn,{className:"pb-0",children:b.jsx(mn,{className:"font-heading text-lg",children:"Now Playing"})}),b.jsx(En,{className:"pt-4",children:b.jsx("div",{className:"rounded-lg border bg-muted/30 p-2",children:b.jsx(Sm,{videoId:_e.videoId,autoplay:!0,preventPause:!0,startSeconds:_e.startSeconds??0,timerProgress:re})})})]}),b.jsxs(cn,{children:[b.jsx(pn,{children:b.jsx(mn,{className:"font-heading text-lg",children:"Player Status"})}),b.jsx(En,{children:b.jsx("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-3 xl:grid-cols-4",children:Te.map(Se=>{const it=X[Se.id]??[],mt=it.length>0,wt=Se.id===I,C=!!je[Se.id],A=it[it.length-1];return b.jsxs("div",{className:"flex flex-col items-center gap-2 rounded-lg bg-muted/50 p-3","data-testid":`player-status-${Se.id}`,children:[b.jsx(dc,{playerId:Se.id,playerName:Se.name,size:"sm"}),b.jsx("div",{className:"text-xs font-medium text-center",children:Se.name}),wt?b.jsx(u_,{className:"h-4 w-4 text-primary"}):C?b.jsx(OO,{className:"h-4 w-4 text-secondary"}):mt?b.jsx(l_,{className:"h-4 w-4 text-muted-foreground"}):b.jsx(DO,{className:"h-4 w-4 text-muted-foreground"}),!wt&&b.jsxs("div",{className:"text-center text-[10px] text-muted-foreground",children:[C?"Correct":mt?"Guessing":"Waiting",A&&!C?` (${A.guess})`:""]})]},Se.id)})})})]})]}),b.jsxs(cn,{className:"flex min-h-[520px] flex-col",children:[b.jsx(pn,{children:b.jsxs(mn,{className:"flex items-center gap-2 font-heading text-lg",children:[b.jsx(Nb,{className:"h-4 w-4"})," Guess Log"]})}),b.jsx(En,{className:"flex-1 overflow-hidden px-0 pb-0",children:fr(Wt)}),b.jsx("div",{className:"border-t bg-muted/20 p-6",children:b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[b.jsx(Ys,{placeholder:Ws,value:Wr,onChange:Se=>Ni(Se.target.value),onKeyDown:Se=>Se.key==="Enter"&&kn(),className:"text-lg","data-testid":"input-guess",disabled:!le}),b.jsx(Pn,{onClick:kn,disabled:!le||!Wr.trim(),"data-testid":"button-submit-guess",className:"sm:w-auto",children:"Submit"})]}),!le&&Hr&&b.jsx("p",{className:"text-sm text-muted-foreground",children:"You can't guess your own song."}),!le&&Q&&b.jsx("p",{className:"text-sm text-muted-foreground",children:"Great job! You'll rejoin next round."}),z&&!Q&&b.jsxs("p",{className:"text-xs text-muted-foreground",children:['Last guess: "',z.guess,'" (',Math.max(0,Math.ceil(z.time)),"s)"]})]})})]})]})]})]})}if(w==="song_reveal"&&Re&&se!==null){const re=Te.find(it=>it.id===se),Se=xe!=null&&Re?1:void 0;return b.jsxs("div",{className:"min-h-screen bg-background",children:[Ee,b.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl space-y-6",children:[b.jsx(cn,{className:"bg-secondary/10 border-secondary",children:b.jsx(pn,{children:b.jsxs("div",{className:"flex flex-col gap-2 text-center",children:[b.jsx(mn,{className:"font-heading text-3xl",children:"Song Revealed!"}),b.jsxs("p",{className:"text-sm text-muted-foreground",children:[re?.name??"Mystery player","'s selection has been uncovered."]})]})})}),b.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,0.9fr)_minmax(0,1.1fr)]",children:[b.jsxs(cn,{className:"overflow-hidden",children:[b.jsx(pn,{className:"pb-0",children:b.jsx(mn,{className:"font-heading text-lg",children:"Now Revealed"})}),b.jsxs(En,{className:"pt-4 space-y-4",children:[b.jsx("div",{className:"rounded-lg border bg-muted/30 p-2",children:b.jsx(Sm,{videoId:Re.videoId,autoplay:!1,startSeconds:Re.startSeconds??0,timerProgress:Se,interactive:!0})}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground",children:"Song Title"}),b.jsx("h2",{className:"text-xl font-bold leading-tight",children:Re.customTitle||Re.originalTitle})]}),Re.thumbnail&&b.jsx("div",{className:"relative w-full overflow-hidden rounded-lg border bg-muted",children:b.jsx("img",{src:Re.thumbnail,alt:Re.customTitle||Re.originalTitle,className:"w-full object-cover"})}),(Re.startSeconds??0)>0&&b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Playback started at ",$m(Re.startSeconds??0),"."]}),Re.customTitle&&Re.originalTitle&&Re.customTitle.trim()!==Re.originalTitle.trim()&&b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Original title: ",Re.originalTitle]})]})]})]}),b.jsxs(cn,{className:"flex min-h-[520px] flex-col",children:[b.jsxs(pn,{children:[b.jsxs(mn,{className:"flex items-center gap-2 font-heading text-lg",children:[b.jsx(Nb,{className:"h-4 w-4"})," Guess Log"]}),b.jsx(Kr,{children:"How everyone fared on this song."})]}),b.jsx(En,{className:"flex-1 overflow-hidden px-0 pb-0",children:fr(Wt)}),b.jsx("div",{className:"border-t bg-muted/20 p-6",children:b.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[re?b.jsxs("p",{children:["This song was selected by ",b.jsx("span",{className:"font-semibold",children:re.name}),"."]}):b.jsx("p",{children:"The song owner's identity could not be determined."}),b.jsxs("p",{children:[Wt.filter(it=>it.isCorrect).length," player",Wt.filter(it=>it.isCorrect).length===1?"":"s"," ","guessed correctly."]})]})}),u&&b.jsx("div",{className:"border-t bg-muted/30 p-6",children:b.jsx(Pn,{onClick:yn,className:"w-full",size:"lg","data-testid":"button-continue-reveal",children:"Continue"})})]})]})]})]})}return w==="round_results"&&E?b.jsxs("div",{className:"min-h-screen bg-background",children:[Ee,b.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl space-y-6",children:b.jsxs(cn,{children:[b.jsx(pn,{children:b.jsx(mn,{className:"font-heading text-2xl text-center",children:"Round Complete!"})}),b.jsxs(En,{className:"space-y-6",children:[b.jsxs("div",{className:"text-center space-y-4",children:[b.jsx(um,{className:"w-16 h-16 text-primary mx-auto"}),b.jsx("h2",{className:"text-xl font-semibold",children:xt[0]?.player?`${xt[0]?.player.name} won this round!`:"Round complete"}),xt[0]&&b.jsxs("p",{className:"text-sm text-muted-foreground",children:["Earned ",xt[0].roundScore," points this round"]})]}),b.jsx("div",{className:"space-y-3",children:xt.map(({player:re,roundScore:Se},it)=>b.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-muted/50","data-testid":`result-player-${re.id}`,children:[b.jsxs("div",{className:"text-2xl font-bold text-muted-foreground w-8",children:["#",it+1]}),b.jsx(dc,{playerId:re.id,playerName:re.name}),b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"font-semibold",children:re.name}),b.jsxs("div",{className:"text-sm text-muted-foreground",children:[Se," points this round"]})]}),b.jsx("div",{className:"text-2xl font-bold text-primary",children:re.score})]},re.id))}),b.jsx(Pn,{onClick:Zs,className:"w-full",size:"lg","data-testid":"button-next-round",disabled:!u,children:t.completedRounds+1<M.totalRounds?"Next Round":"View Final Scores"})]})]})})]}):w==="game_over"?b.jsxs("div",{className:"min-h-screen bg-background",children:[Ee,b.jsx("div",{className:"container mx-auto px-4 py-8 max-w-4xl space-y-6",children:b.jsxs(cn,{children:[b.jsx(pn,{children:b.jsx(mn,{className:"font-heading text-3xl text-center",children:"Game Over!"})}),b.jsxs(En,{className:"space-y-8",children:[b.jsxs("div",{className:"text-center space-y-4",children:[b.jsx(um,{className:"w-24 h-24 text-primary mx-auto"}),b.jsx("h2",{className:"text-2xl font-bold",children:kt[0]?`${kt[0].name} Wins!`:"Thanks for playing!"}),b.jsx("p",{className:"text-muted-foreground",children:"Final standings"})]}),b.jsx("div",{className:"space-y-3",children:kt.map((re,Se)=>b.jsxs("div",{className:`flex items-center gap-4 p-6 rounded-lg ${Se===0?"bg-primary/20 border-2 border-primary":Se===1?"bg-secondary/20 border-2 border-secondary":"bg-muted/50"}`,"data-testid":`final-player-${re.id}`,children:[b.jsx("div",{className:"text-3xl font-bold w-12",children:Se===0?"":Se===1?"":Se===2?"":`#${Se+1}`}),b.jsx(dc,{playerId:re.id,playerName:re.name,size:"lg"}),b.jsx("div",{className:"flex-1",children:b.jsx("div",{className:"text-xl font-bold",children:re.name})}),b.jsx("div",{className:"text-3xl font-bold text-primary",children:re.score})]},re.id))}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx(Pn,{variant:"outline",className:"flex-1","data-testid":"button-new-game",onClick:bs,disabled:!u,children:"Restart Lobby"}),b.jsx(Pn,{className:"flex-1","data-testid":"button-back-home",onClick:Ss,disabled:!u,children:"End Session"})]})]})]})})]}):b.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-gradient-to-br from-primary/10 via-background to-secondary/10",children:[Ee,b.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_top,_theme(colors.primary/15),transparent_60%)]"}),b.jsx("div",{className:"relative flex min-h-screen flex-col items-center justify-center px-6 py-16",children:b.jsxs("div",{className:"w-full max-w-md space-y-6 rounded-3xl border border-border/50 bg-background/90 p-10 text-center shadow-xl backdrop-blur",children:[b.jsx("div",{className:"flex items-center justify-center",children:b.jsx(dy,{className:"h-12 w-12 animate-spin text-primary"})}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h2",{className:"text-2xl font-heading",children:"Connecting to your room"}),b.jsx("p",{className:"text-sm text-muted-foreground",children:"Setting the stage and syncing players. Hang tightthis should only take a moment."})]}),a?b.jsx("div",{className:"flex justify-center",children:b.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-border/70 bg-muted/40 px-4 py-2 font-mono text-xs uppercase tracking-[0.3em] text-muted-foreground",children:["Room",b.jsx("span",{className:"text-foreground",children:a})]})}):null]})})]})}function l5(){return b.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:b.jsx(cn,{className:"w-full max-w-md mx-4",children:b.jsxs(En,{className:"pt-6",children:[b.jsxs("div",{className:"flex mb-4 gap-2",children:[b.jsx(RO,{className:"h-8 w-8 text-red-500"}),b.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),b.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}let u5="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",f5=(t=21)=>{let e="",n=t|0;for(;n--;)e+=u5[Math.random()*64|0];return e};var Vp={},H1;function d5(){return H1||(H1=1,(function(t,e){if(t.setImmediate)return;var n=1,s={},a=!1,c=t.document,u;function f(D){typeof D!="function"&&(D=new Function(""+D));for(var k=new Array(arguments.length-1),j=0;j<k.length;j++)k[j]=arguments[j+1];var F={callback:D,args:k};return s[n]=F,u(n),n++}function d(D){delete s[D]}function p(D){var k=D.callback,j=D.args;switch(j.length){case 0:k();break;case 1:k(j[0]);break;case 2:k(j[0],j[1]);break;case 3:k(j[0],j[1],j[2]);break;default:k.apply(e,j);break}}function y(D){if(a)setTimeout(y,0,D);else{var k=s[D];if(k){a=!0;try{p(k)}finally{d(D),a=!1}}}}function g(){u=function(D){process.nextTick(function(){y(D)})}}function v(){if(t.postMessage&&!t.importScripts){var D=!0,k=t.onmessage;return t.onmessage=function(){D=!1},t.postMessage("","*"),t.onmessage=k,D}}function S(){var D="setImmediate$"+Math.random()+"$",k=function(j){j.source===t&&typeof j.data=="string"&&j.data.indexOf(D)===0&&y(+j.data.slice(D.length))};t.addEventListener?t.addEventListener("message",k,!1):t.attachEvent("onmessage",k),u=function(j){t.postMessage(D+j,"*")}}function w(){var D=new MessageChannel;D.port1.onmessage=function(k){var j=k.data;y(j)},u=function(k){D.port2.postMessage(k)}}function E(){var D=c.documentElement;u=function(k){var j=c.createElement("script");j.onreadystatechange=function(){y(k),j.onreadystatechange=null,D.removeChild(j),j=null},D.appendChild(j)}}function M(){u=function(D){setTimeout(y,0,D)}}var P=Object.getPrototypeOf&&Object.getPrototypeOf(t);P=P&&P.setTimeout?P:t,{}.toString.call(t.process)==="[object process]"?g():v()?S():t.MessageChannel?w():c&&"onreadystatechange"in c.createElement("script")?E():M(),P.setImmediate=f,P.clearImmediate=d})(typeof self>"u"?typeof zx>"u"?Vp:zx:self)),Vp}d5();class h5{constructor({enumerate:e,seed:n}){this.enumerateFn=e,this.seed=n,this.iterationCounter=0,this._opts={}}addOpt({key:e,range:n,initial:s}){this._opts[e]={range:n,value:s}}getOpt(e){return this._opts[e].value}setOpt(e,n){e in this._opts&&(this._opts[e].value=n)}opts(){return this._opts}enumerate(e,n,s){return this.enumerateFn(e,n,s).map(c=>{if("payload"in c)return c;if("move"in c)return WC(c.move,c.args,s);if("event"in c)return Oc(c.event,c.args,s)})}random(e){let n;if(this.seed!==void 0){const s=this.prngstate?"":this.seed,a=ZC(s,this.prngstate);n=a(),this.prngstate=a.state()}else n=Math.random();if(e)if(Array.isArray(e)){const s=Math.floor(n*e.length);return e[s]}else return Math.floor(n*e);return n}}const p5=25;class m5 extends h5{constructor({enumerate:e,seed:n,objectives:s,game:a,iterations:c,playoutDepth:u,iterationCallback:f}){super({enumerate:e,seed:n}),s===void 0&&(s=()=>({})),this.objectives=s,this.iterationCallback=f||(()=>{}),this.reducer=Yf({game:a}),this.iterations=c,this.playoutDepth=u,this.addOpt({key:"async",initial:!1}),this.addOpt({key:"iterations",initial:typeof c=="number"?c:1e3,range:{min:1,max:2e3}}),this.addOpt({key:"playoutDepth",initial:typeof u=="number"?u:50,range:{min:1,max:100}})}createNode({state:e,parentAction:n,parent:s,playerID:a}){const{G:c,ctx:u}=e;let f=[],d=[];if(a!==void 0)f=this.enumerate(c,u,a),d=this.objectives(c,u,a);else if(u.activePlayers)for(const p in u.activePlayers)f.push(...this.enumerate(c,u,p)),d.push(this.objectives(c,u,p));else f=this.enumerate(c,u,u.currentPlayer),d=this.objectives(c,u,u.currentPlayer);return{state:e,parent:s,parentAction:n,actions:f,objectives:d,children:[],visits:0,value:0}}select(e){if(e.actions.length>0||e.children.length===0)return e;let n=null,s=0;for(const a of e.children){const c=a.visits+Number.EPSILON,u=a.value/c+Math.sqrt(2*Math.log(e.visits)/c);(n==null||u>s)&&(s=u,n=a)}return this.select(n)}expand(e){const n=e.actions;if(n.length===0||e.state.ctx.gameover!==void 0)return e;const s=this.random(n.length),a=n[s];e.actions.splice(s,1);const c=this.reducer(e.state,a),u=this.createNode({state:c,parentAction:a,parent:e});return e.children.push(u),u}playout({state:e}){let n=this.getOpt("playoutDepth");typeof this.playoutDepth=="function"&&(n=this.playoutDepth(e.G,e.ctx));for(let s=0;s<n&&e.ctx.gameover===void 0;s++){const{G:a,ctx:c}=e;let u=c.currentPlayer;c.activePlayers&&(u=Object.keys(c.activePlayers)[0]);const f=this.enumerate(a,c,u),d=this.objectives(a,c,u),p=Object.keys(d).reduce((v,S)=>{const w=d[S];return w.checker(a,c)?v+w.weight:v},0);if(p>0)return{score:p};if(!f||f.length===0)return;const y=this.random(f.length);e=this.reducer(e,f[y])}return e.ctx.gameover}backpropagate(e,n={}){e.visits++,n.score!==void 0&&(e.value+=n.score),n.draw===!0&&(e.value+=.5),e.parentAction&&n.winner===e.parentAction.payload.playerID&&e.value++,e.parent&&this.backpropagate(e.parent,n)}play(e,n){const s=this.createNode({state:e,playerID:n});let a=this.getOpt("iterations");typeof this.iterations=="function"&&(a=this.iterations(e.G,e.ctx));const c=()=>{let u=null;for(const p of s.children)(u==null||p.visits>u.visits)&&(u=p);return{action:u&&u.parentAction,metadata:s}};return new Promise(u=>{const f=()=>{for(let d=0;d<p5&&this.iterationCounter<a;d++){const p=this.select(s),y=this.expand(p),g=this.playout(y);this.backpropagate(y,g),this.iterationCounter++}this.iterationCallback({iterationCounter:this.iterationCounter,numIterations:a,metadata:s})};if(this.iterationCounter=0,this.getOpt("async")){const d=()=>{this.iterationCounter<a?(f(),setImmediate(d)):u(c())};d()}else{for(;this.iterationCounter<a;)f();u(c())}})}}class y5 extends Gf{connect(){}disconnect(){}sendAction(){}sendChatMessage(){}requestSync(){}updateCredentials(){}updateMatchID(){}updatePlayerID(){}}const g5=t=>new y5(t);class v5{constructor(){this.debugPanel=null,this.currentClient=null,this.clients=new Map,this.subscribers=new Map}register(e){this.clients.set(e,e),this.mountDebug(e),this.notifySubscribers()}unregister(e){if(this.clients.delete(e),this.currentClient===e){this.unmountDebug();for(const[n]of this.clients){if(this.debugPanel)break;this.mountDebug(n)}}this.notifySubscribers()}subscribe(e){const n=Symbol();return this.subscribers.set(n,e),e(this.getState()),()=>{this.subscribers.delete(n)}}switchPlayerID(e){if(this.currentClient.multiplayer){for(const[n]of this.clients)if(n.playerID===e&&n.debugOpt!==!1&&n.multiplayer===this.currentClient.multiplayer){this.switchToClient(n);return}}this.currentClient.updatePlayerID(e),this.notifySubscribers()}switchToClient(e){e!==this.currentClient&&(this.unmountDebug(),this.mountDebug(e),this.notifySubscribers())}notifySubscribers(){const e=this.getState();this.subscribers.forEach(n=>{n(e)})}getState(){return{client:this.currentClient,debuggableClients:this.getDebuggableClients()}}getDebuggableClients(){return[...this.clients.values()].filter(e=>e.debugOpt!==!1)}mountDebug(e){if(e.debugOpt===!1||this.debugPanel!==null||typeof document>"u")return;let n,s=document.body;e.debugOpt&&e.debugOpt!==!0&&(n=e.debugOpt.impl||n,s=e.debugOpt.target||s),n&&(this.currentClient=e,this.debugPanel=new n({target:s,props:{clientManager:this}}))}unmountDebug(){this.debugPanel.$destroy(),this.debugPanel=null,this.currentClient=null}}const x5=new v5;function Vm(t,e,n){return!n&&t==null&&(t=e.getState().ctx.currentPlayer),t}function tg(t,e,n,s,a,c){const u={};for(const f of e)u[f]=(...d)=>{const p=S4[t](f,d,Vm(s,n,c),a);n.dispatch(p)};return u}const b5=tg.bind(null,"makeMove"),S5=tg.bind(null,"gameEvent"),_5=tg.bind(null,"plugin");class w5{constructor({game:e,debug:n,numPlayers:s,multiplayer:a,matchID:c,playerID:u,credentials:f,enhancer:d}){this.game=Qc(e),this.playerID=u,this.matchID=c||"default",this.credentials=f,this.multiplayer=a,this.debugOpt=n,this.manager=x5,this.gameStateOverride=null,this.subscribers={},this._running=!1,this.reducer=Yf({game:this.game,isClient:a!==void 0}),this.initialState=null,a||(this.initialState=Qy({game:this.game,numPlayers:s})),this.reset=()=>{this.store.dispatch(sE(this.initialState))},this.undo=()=>{const S=iE(Vm(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(S)},this.redo=()=>{const S=aE(Vm(this.playerID,this.store,this.multiplayer),this.credentials);this.store.dispatch(S)},this.log=[];const v=_E(gE,()=>S=>w=>{const E=S(w);return this.notifySubscribers(),E},S=>w=>E=>{const M=S.getState(),P=w(E);return!("clientOnly"in E)&&E.type!==Ff&&this.transport.sendAction(M,E),P},S=>w=>E=>{const M=w(E),P=S.getState();switch(E.type){case Ic:case $f:case qf:case Vf:{const D=P.deltalog;this.log=[...this.log,...D];break}case qy:{this.log=[];break}case Gy:case Yy:{let D=-1;this.log.length>0&&(D=this.log[this.log.length-1]._stateID);let k=E.deltalog||[];k=k.filter(j=>j._stateID>D),this.log=[...this.log,...k];break}case Fy:{this.initialState=E.initialState,this.log=E.log||[];break}}return M});d=d!==void 0?SE(v,d):v,this.store=Jy(this.reducer,this.initialState,d),a||(a=g5),this.transport=a({transportDataCallback:S=>this.receiveTransportData(S),gameKey:e,game:this.game,matchID:c,playerID:u,credentials:f,gameName:this.game.name,numPlayers:s}),this.createDispatchers(),this.chatMessages=[],this.sendChatMessage=S=>{this.transport.sendChatMessage(this.matchID,{id:f5(7),sender:this.playerID,payload:S})}}receiveMatchData(e){this.matchData=e,this.notifySubscribers()}receiveChatMessage(e){this.chatMessages=[...this.chatMessages,e],this.notifySubscribers()}receiveTransportData(e){const[n]=e.args;if(n===this.matchID)switch(e.type){case"sync":{const[,s]=e.args,a=tE(s);this.receiveMatchData(s.filteredMetadata),this.store.dispatch(a);break}case"update":{const[,s,a]=e.args,c=this.store.getState();if(s._stateID>=c._stateID){const u=rE(s,a);this.store.dispatch(u)}break}case"patch":{const[,s,a,c,u]=e.args,f=this.store.getState()._stateID;if(s!==f)break;const d=nE(s,a,c,u);this.store.dispatch(d),this.store.getState()._stateID===f&&this.transport.requestSync();break}case"matchData":{const[,s]=e.args;this.receiveMatchData(s);break}case"chat":{const[,s]=e.args;this.receiveChatMessage(s);break}}}notifySubscribers(){Object.values(this.subscribers).forEach(e=>e(this.getState()))}overrideGameState(e){this.gameStateOverride=e,this.notifySubscribers()}start(){this.transport.connect(),this._running=!0,this.manager.register(this)}stop(){this.transport.disconnect(),this._running=!1,this.manager.unregister(this)}subscribe(e){const n=Object.keys(this.subscribers).length;return this.subscribers[n]=e,this.transport.subscribeToConnectionStatus(()=>this.notifySubscribers()),(this._running||!this.multiplayer)&&e(this.getState()),()=>{delete this.subscribers[n]}}getInitialState(){return this.initialState}getState(){let e=this.store.getState();if(this.gameStateOverride!==null&&(e=this.gameStateOverride),e===null)return e;let n=!0;const s=this.game.flow.isPlayerActive(e.G,e.ctx,this.playerID);return this.multiplayer&&!s&&(n=!1),!this.multiplayer&&this.playerID!==null&&this.playerID!==void 0&&!s&&(n=!1),e.ctx.gameover!==void 0&&(n=!1),this.multiplayer||(e={...e,G:this.game.playerView({G:e.G,ctx:e.ctx,playerID:this.playerID}),plugins:uE(e,this)}),{...e,log:this.log,isActive:n,isConnected:this.transport.isConnected}}createDispatchers(){this.moves=b5(this.game.moveNames,this.store,this.playerID,this.credentials,this.multiplayer),this.events=S5(this.game.flow.enabledEventNames,this.store,this.playerID,this.credentials,this.multiplayer),this.plugins=_5(this.game.pluginNames,this.store,this.playerID,this.credentials,this.multiplayer)}updatePlayerID(e){this.playerID=e,this.createDispatchers(),this.transport.updatePlayerID(e),this.notifySubscribers()}updateMatchID(e){this.matchID=e,this.createDispatchers(),this.transport.updateMatchID(e),this.notifySubscribers()}updateCredentials(e){this.credentials=e,this.createDispatchers(),this.transport.updateCredentials(e),this.notifySubscribers()}}function C5(t){return new w5(t)}const AE=(t,e)=>{if(!t||typeof t!="string")throw new Error(`Expected ${e} string, got "${t}".`)},Wi=t=>AE(t,"game name"),gc=t=>AE(t,"match ID"),vc=(t,e)=>{if(!t)throw new Error(`Expected body, got ${t}.`);for(const n in e){const s=e[n],a=Array.isArray(s)?s:[s],c=t[n];if(!a.includes(typeof c)){const u=a.join("|");throw new TypeError(`Expected body.${n} to be of type ${u}, got ${c}.`)}}};class E5 extends Error{constructor(e,n){super(e),this.details=n}}class T5{constructor({server:e=""}={}){this.server=e.replace(/\/$/,"")}async request(e,n){const s=await fetch(this.server+e,n);if(!s.ok){let a;try{a=await s.clone().json()}catch{try{a=await s.text()}catch(c){a=c.message}}throw new E5(`HTTP status ${s.status}`,a)}return s.json()}async post(e,n){let s={method:"post",body:JSON.stringify(n.body),headers:{"Content-Type":"application/json"}};return n.init&&(s={...s,...n.init,headers:{...s.headers,...n.init.headers}}),this.request(e,s)}async listGames(e){return this.request("/games",e)}async listMatches(e,n,s){Wi(e);let a="";if(n){const c=[],{isGameover:u,updatedBefore:f,updatedAfter:d}=n;u!==void 0&&c.push(`isGameover=${u}`),f&&c.push(`updatedBefore=${f}`),d&&c.push(`updatedAfter=${d}`),c.length>0&&(a="?"+c.join("&"))}return this.request(`/games/${e}${a}`,s)}async getMatch(e,n,s){return Wi(e),gc(n),this.request(`/games/${e}/${n}`,s)}async createMatch(e,n,s){return Wi(e),vc(n,{numPlayers:"number"}),this.post(`/games/${e}/create`,{body:n,init:s})}async joinMatch(e,n,s,a){return Wi(e),gc(n),vc(s,{playerID:["string","undefined"],playerName:"string"}),this.post(`/games/${e}/${n}/join`,{body:s,init:a})}async leaveMatch(e,n,s,a){Wi(e),gc(n),vc(s,{playerID:"string",credentials:"string"}),await this.post(`/games/${e}/${n}/leave`,{body:s,init:a})}async updatePlayer(e,n,s,a){Wi(e),gc(n),vc(s,{playerID:"string",credentials:"string"}),await this.post(`/games/${e}/${n}/update`,{body:s,init:a})}async playAgain(e,n,s,a){return Wi(e),gc(n),vc(s,{playerID:"string",credentials:"string"}),this.post(`/games/${e}/${n}/playAgain`,{body:s,init:a})}}var qp={exports:{}},Fp,$1;function R5(){if($1)return Fp;$1=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Fp=t,Fp}var Yp,V1;function A5(){if(V1)return Yp;V1=1;var t=R5();function e(){}function n(){}return n.resetWarningCache=e,Yp=function(){function s(u,f,d,p,y,g){if(g!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}s.isRequired=s;function a(){return s}var c={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return c.PropTypes=c,c},Yp}var q1;function O5(){return q1||(q1=1,qp.exports=A5()()),qp.exports}var M5=O5();const as=$c(M5);var Fr={},Cu={};/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var F1;function P5(){if(F1)return Cu;F1=1,Cu.parse=a,Cu.serialize=c;var t=decodeURIComponent,e=encodeURIComponent,n=/; */,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function a(f,d){if(typeof f!="string")throw new TypeError("argument str must be a string");for(var p={},y=d||{},g=f.split(n),v=y.decode||t,S=0;S<g.length;S++){var w=g[S],E=w.indexOf("=");if(!(E<0)){var M=w.substr(0,E).trim(),P=w.substr(++E,w.length).trim();P[0]=='"'&&(P=P.slice(1,-1)),p[M]==null&&(p[M]=u(P,v))}}return p}function c(f,d,p){var y=p||{},g=y.encode||e;if(typeof g!="function")throw new TypeError("option encode is invalid");if(!s.test(f))throw new TypeError("argument name is invalid");var v=g(d);if(v&&!s.test(v))throw new TypeError("argument val is invalid");var S=f+"="+v;if(y.maxAge!=null){var w=y.maxAge-0;if(isNaN(w))throw new Error("maxAge should be a Number");S+="; Max-Age="+Math.floor(w)}if(y.domain){if(!s.test(y.domain))throw new TypeError("option domain is invalid");S+="; Domain="+y.domain}if(y.path){if(!s.test(y.path))throw new TypeError("option path is invalid");S+="; Path="+y.path}if(y.expires){if(typeof y.expires.toUTCString!="function")throw new TypeError("option expires is invalid");S+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(S+="; HttpOnly"),y.secure&&(S+="; Secure"),y.sameSite){var E=typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite;switch(E){case!0:S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"strict":S+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return S}function u(f,d){try{return d(f)}catch{return f}}return Cu}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Gp,Y1;function N5(){if(Y1)return Gp;Y1=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function s(c){if(c==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(c)}function a(){try{if(!Object.assign)return!1;var c=new String("abc");if(c[5]="de",Object.getOwnPropertyNames(c)[0]==="5")return!1;for(var u={},f=0;f<10;f++)u["_"+String.fromCharCode(f)]=f;var d=Object.getOwnPropertyNames(u).map(function(y){return u[y]});if(d.join("")!=="0123456789")return!1;var p={};return"abcdefghijklmnopqrst".split("").forEach(function(y){p[y]=y}),Object.keys(Object.assign({},p)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Gp=a()?Object.assign:function(c,u){for(var f,d=s(c),p,y=1;y<arguments.length;y++){f=Object(arguments[y]);for(var g in f)e.call(f,g)&&(d[g]=f[g]);if(t){p=t(f);for(var v=0;v<p.length;v++)n.call(f,p[v])&&(d[p[v]]=f[p[v]])}}return d},Gp}var G1;function D5(){if(G1)return Fr;G1=1;var t={};Object.defineProperty(Fr,"__esModule",{value:!0});var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D};Fr.load=g,Fr.loadAll=v,Fr.select=S,Fr.save=w,Fr.remove=E,Fr.setRawCookie=M,Fr.plugToRequest=P;var n=P5(),s=u(n),a=N5(),c=u(a);function u(D){return D&&D.__esModule?D:{default:D}}var f=typeof document>"u"||typeof process<"u"&&t&&!1,d={},p=void 0;function y(){return p&&!p.headersSent}function g(D,k){var j=f?d:s.default.parse(document.cookie),F=j&&j[D];if(typeof k>"u"&&(k=!F||F[0]!=="{"&&F[0]!=="["),!k)try{F=JSON.parse(F)}catch{}return F}function v(D){var k=f?d:s.default.parse(document.cookie),j=k;if(typeof D>"u"&&(D=!j||j[0]!=="{"&&j[0]!=="["),!D)try{j=JSON.parse(j)}catch{}return j}function S(D){var k=f?d:s.default.parse(document.cookie);return k?D?Object.keys(k).reduce(function(j,F){if(!D.test(F))return j;var J={};return J[F]=k[F],(0,c.default)({},j,J)},{}):k:{}}function w(D,k,j){d[D]=k,(typeof k>"u"?"undefined":e(k))==="object"&&(d[D]=JSON.stringify(k)),f||(document.cookie=s.default.serialize(D,d[D],j)),y()&&p.cookie&&p.cookie(D,k,j)}function E(D,k){delete d[D],typeof k>"u"?k={}:typeof k=="string"?k={path:k}:k=(0,c.default)({},k),typeof document<"u"&&(k.expires=new Date(1970,1,1,0,0,1),k.maxAge=0,document.cookie=s.default.serialize(D,"",k)),y()&&p.clearCookie&&p.clearCookie(D,k)}function M(D){D?d=s.default.parse(D):d={}}function P(D,k){return D.cookie?d=D.cookie:D.cookies?d=D.cookies:D.headers&&D.headers.cookie?M(D.headers.cookie):d={},p=k,function(){p=null,d={}}}return Fr.default={setRawCookie:M,load:g,loadAll:v,select:S,save:w,remove:E,plugToRequest:P},Fr}var k5=D5();const K1=$c(k5),gs=Object.create(null);gs.open="0";gs.close="1";gs.ping="2";gs.pong="3";gs.message="4";gs.upgrade="5";gs.noop="6";const Bu=Object.create(null);Object.keys(gs).forEach(t=>{Bu[gs[t]]=t});const qm={type:"error",data:"parser error"},OE=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",ME=typeof ArrayBuffer=="function",PE=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,ng=({type:t,data:e},n,s)=>OE&&e instanceof Blob?n?s(e):X1(e,s):ME&&(e instanceof ArrayBuffer||PE(e))?n?s(e):X1(new Blob([e]),s):s(gs[t]+(e||"")),X1=(t,e)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];e("b"+(s||""))},n.readAsDataURL(t)};function Q1(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Kp;function j5(t,e){if(OE&&t.data instanceof Blob)return t.data.arrayBuffer().then(Q1).then(e);if(ME&&(t.data instanceof ArrayBuffer||PE(t.data)))return e(Q1(t.data));ng(t,!1,n=>{Kp||(Kp=new TextEncoder),e(Kp.encode(n))})}const Z1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<Z1.length;t++)wc[Z1.charCodeAt(t)]=t;const L5=t=>{let e=t.length*.75,n=t.length,s,a=0,c,u,f,d;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const p=new ArrayBuffer(e),y=new Uint8Array(p);for(s=0;s<n;s+=4)c=wc[t.charCodeAt(s)],u=wc[t.charCodeAt(s+1)],f=wc[t.charCodeAt(s+2)],d=wc[t.charCodeAt(s+3)],y[a++]=c<<2|u>>4,y[a++]=(u&15)<<4|f>>2,y[a++]=(f&3)<<6|d&63;return p},U5=typeof ArrayBuffer=="function",rg=(t,e)=>{if(typeof t!="string")return{type:"message",data:NE(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:I5(t.substring(1),e)}:Bu[n]?t.length>1?{type:Bu[n],data:t.substring(1)}:{type:Bu[n]}:qm},I5=(t,e)=>{if(U5){const n=L5(t);return NE(n,e)}else return{base64:!0,data:t}},NE=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},DE="",z5=(t,e)=>{const n=t.length,s=new Array(n);let a=0;t.forEach((c,u)=>{ng(c,!1,f=>{s[u]=f,++a===n&&e(s.join(DE))})})},B5=(t,e)=>{const n=t.split(DE),s=[];for(let a=0;a<n.length;a++){const c=rg(n[a],e);if(s.push(c),c.type==="error")break}return s};function H5(){return new TransformStream({transform(t,e){j5(t,n=>{const s=n.length;let a;if(s<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,s);else if(s<65536){a=new Uint8Array(3);const c=new DataView(a.buffer);c.setUint8(0,126),c.setUint16(1,s)}else{a=new Uint8Array(9);const c=new DataView(a.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(s))}t.data&&typeof t.data!="string"&&(a[0]|=128),e.enqueue(a),e.enqueue(n)})}})}let Xp;function Eu(t){return t.reduce((e,n)=>e+n.length,0)}function Tu(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let s=0;for(let a=0;a<e;a++)n[a]=t[0][s++],s===t[0].length&&(t.shift(),s=0);return t.length&&s<t[0].length&&(t[0]=t[0].slice(s)),n}function $5(t,e){Xp||(Xp=new TextDecoder);const n=[];let s=0,a=-1,c=!1;return new TransformStream({transform(u,f){for(n.push(u);;){if(s===0){if(Eu(n)<1)break;const d=Tu(n,1);c=(d[0]&128)===128,a=d[0]&127,a<126?s=3:a===126?s=1:s=2}else if(s===1){if(Eu(n)<2)break;const d=Tu(n,2);a=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),s=3}else if(s===2){if(Eu(n)<8)break;const d=Tu(n,8),p=new DataView(d.buffer,d.byteOffset,d.length),y=p.getUint32(0);if(y>Math.pow(2,21)-1){f.enqueue(qm);break}a=y*Math.pow(2,32)+p.getUint32(4),s=3}else{if(Eu(n)<a)break;const d=Tu(n,a);f.enqueue(rg(c?d:Xp.decode(d),e)),s=0}if(a===0||a>t){f.enqueue(qm);break}}}})}const kE=4;function Tn(t){if(t)return V5(t)}function V5(t){for(var e in Tn.prototype)t[e]=Tn.prototype[e];return t}Tn.prototype.on=Tn.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Tn.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Tn.prototype.off=Tn.prototype.removeListener=Tn.prototype.removeAllListeners=Tn.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var s,a=0;a<n.length;a++)if(s=n[a],s===e||s.fn===e){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Tn.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,a=n.length;s<a;++s)n[s].apply(this,e)}return this};Tn.prototype.emitReserved=Tn.prototype.emit;Tn.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Tn.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Kf=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Lr=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),q5="arraybuffer";function jE(t,...e){return e.reduce((n,s)=>(t.hasOwnProperty(s)&&(n[s]=t[s]),n),{})}const F5=Lr.setTimeout,Y5=Lr.clearTimeout;function Xf(t,e){e.useNativeTimers?(t.setTimeoutFn=F5.bind(Lr),t.clearTimeoutFn=Y5.bind(Lr)):(t.setTimeoutFn=Lr.setTimeout.bind(Lr),t.clearTimeoutFn=Lr.clearTimeout.bind(Lr))}const G5=1.33;function K5(t){return typeof t=="string"?X5(t):Math.ceil((t.byteLength||t.size)*G5)}function X5(t){let e=0,n=0;for(let s=0,a=t.length;s<a;s++)e=t.charCodeAt(s),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(s++,n+=4);return n}function LE(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Q5(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function Z5(t){let e={},n=t.split("&");for(let s=0,a=n.length;s<a;s++){let c=n[s].split("=");e[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return e}class J5 extends Error{constructor(e,n,s){super(e),this.description=n,this.context=s,this.type="TransportError"}}class sg extends Tn{constructor(e){super(),this.writable=!1,Xf(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,s){return super.emitReserved("error",new J5(e,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=rg(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=Q5(e);return n.length?"?"+n:""}}class W5 extends sg{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};B5(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,z5(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=LE()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let UE=!1;try{UE=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ek=UE;function tk(){}class nk extends W5{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}}doWrite(e,n){const s=this.request({method:"POST",data:e});s.on("success",n),s.on("error",(a,c)=>{this.onError("xhr post error",a,c)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=e}}class ps extends Tn{constructor(e,n,s){super(),this.createRequest=e,Xf(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var e;const n=jE(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&s.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var a;s.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=ps.requestsCount++,ps.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=tk,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ps.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ps.requestsCount=0;ps.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",J1);else if(typeof addEventListener=="function"){const t="onpagehide"in Lr?"pagehide":"unload";addEventListener(t,J1,!1)}}function J1(){for(let t in ps.requests)ps.requests.hasOwnProperty(t)&&ps.requests[t].abort()}const rk=(function(){const t=IE({xdomain:!1});return t&&t.responseType!==null})();class sk extends nk{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=rk&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new ps(IE,this.uri(),e)}}function IE(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||ek))return new XMLHttpRequest}catch{}if(!e)try{return new Lr[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const zE=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ik extends sg{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,s=zE?{}:jE(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,s)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],a=n===e.length-1;ng(s,this.supportsBinary,c=>{try{this.doWrite(s,c)}catch{}a&&Kf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=LE()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Qp=Lr.WebSocket||Lr.MozWebSocket;class ak extends ik{createSocket(e,n,s){return zE?new Qp(e,n,s):n?new Qp(e,n):new Qp(e)}doWrite(e,n){this.ws.send(n)}}class ok extends sg{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=$5(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=e.readable.pipeThrough(n).getReader(),a=H5();a.readable.pipeTo(e.writable),this._writer=a.writable.getWriter();const c=()=>{s.read().then(({done:f,value:d})=>{f||(this.onPacket(d),c())}).catch(f=>{})};c();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this._writer.write(u).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const s=e[n],a=n===e.length-1;this._writer.write(s).then(()=>{a&&Kf(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const ck={websocket:ak,webtransport:ok,polling:sk},lk=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,uk=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Fm(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),s=t.indexOf("]");n!=-1&&s!=-1&&(t=t.substring(0,n)+t.substring(n,s).replace(/:/g,";")+t.substring(s,t.length));let a=lk.exec(t||""),c={},u=14;for(;u--;)c[uk[u]]=a[u]||"";return n!=-1&&s!=-1&&(c.source=e,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=fk(c,c.path),c.queryKey=dk(c,c.query),c}function fk(t,e){const n=/\/{2,9}/g,s=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&s.splice(0,1),e.slice(-1)=="/"&&s.splice(s.length-1,1),s}function dk(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,a,c){a&&(n[a]=c)}),n}const Ym=typeof addEventListener=="function"&&typeof removeEventListener=="function",Hu=[];Ym&&addEventListener("offline",()=>{Hu.forEach(t=>t())},!1);class Ai extends Tn{constructor(e,n){if(super(),this.binaryType=q5,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const s=Fm(e);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=Fm(n.host).host);Xf(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const a=s.prototype.name;this.transports.push(a),this._transportsByName[a]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Z5(this.opts.query)),Ym&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Hu.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=kE,n.transport=e,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Ai.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Ai.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const a=this.writeBuffer[s].data;if(a&&(n+=K5(a)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Kf(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,s){return this._sendPacket("message",e,n,s),this}send(e,n,s){return this._sendPacket("message",e,n,s),this}_sendPacket(e,n,s,a){if(typeof n=="function"&&(a=n,n=void 0),typeof s=="function"&&(a=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const c={type:e,data:n,options:s};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():e()}):this.upgrading?s():e()),this}_onError(e){if(Ai.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ym&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=Hu.indexOf(this._offlineEventListener);s!==-1&&Hu.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Ai.protocol=kE;class hk extends Ai{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),s=!1;Ai.priorWebsocketSuccess=!1;const a=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!s)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Ai.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(y(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const v=new Error("probe error");v.transport=n.name,this.emitReserved("upgradeError",v)}}))};function c(){s||(s=!0,y(),n.close(),n=null)}const u=g=>{const v=new Error("probe error: "+g);v.transport=n.name,c(),this.emitReserved("upgradeError",v)};function f(){u("transport closed")}function d(){u("socket closed")}function p(g){n&&g.name!==n.name&&c()}const y=()=>{n.removeListener("open",a),n.removeListener("error",u),n.removeListener("close",f),this.off("close",d),this.off("upgrading",p)};n.once("open",a),n.once("error",u),n.once("close",f),this.once("close",d),this.once("upgrading",p),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let s=0;s<e.length;s++)~this.transports.indexOf(e[s])&&n.push(e[s]);return n}}let pk=class extends hk{constructor(e,n={}){const s=typeof e=="object"?e:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(a=>ck[a]).filter(a=>!!a)),super(e,s)}};function mk(t,e="",n){let s=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),s=Fm(t)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const c=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+c+":"+s.port+e,s.href=s.protocol+"://"+c+(n&&n.port===s.port?"":":"+s.port),s}const yk=typeof ArrayBuffer=="function",gk=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,BE=Object.prototype.toString,vk=typeof Blob=="function"||typeof Blob<"u"&&BE.call(Blob)==="[object BlobConstructor]",xk=typeof File=="function"||typeof File<"u"&&BE.call(File)==="[object FileConstructor]";function ig(t){return yk&&(t instanceof ArrayBuffer||gk(t))||vk&&t instanceof Blob||xk&&t instanceof File}function $u(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,s=t.length;n<s;n++)if($u(t[n]))return!0;return!1}if(ig(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return $u(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&$u(t[n]))return!0;return!1}function bk(t){const e=[],n=t.data,s=t;return s.data=Gm(n,e),s.attachments=e.length,{packet:s,buffers:e}}function Gm(t,e){if(!t)return t;if(ig(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let s=0;s<t.length;s++)n[s]=Gm(t[s],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=Gm(t[s],e));return n}return t}function Sk(t,e){return t.data=Km(t.data,e),delete t.attachments,t}function Km(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Km(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Km(t[n],e));return t}const _k=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],wk=5;var Pt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Pt||(Pt={}));class Ck{constructor(e){this.replacer=e}encode(e){return(e.type===Pt.EVENT||e.type===Pt.ACK)&&$u(e)?this.encodeAsBinary({type:e.type===Pt.EVENT?Pt.BINARY_EVENT:Pt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Pt.BINARY_EVENT||e.type===Pt.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=bk(e),s=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(s),a}}function W1(t){return Object.prototype.toString.call(t)==="[object Object]"}class ag extends Tn{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const s=n.type===Pt.BINARY_EVENT;s||n.type===Pt.BINARY_ACK?(n.type=s?Pt.EVENT:Pt.ACK,this.reconstructor=new Ek(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(ig(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const s={type:Number(e.charAt(0))};if(Pt[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Pt.BINARY_EVENT||s.type===Pt.BINARY_ACK){const c=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const u=e.substring(c,n);if(u!=Number(u)||e.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(u)}if(e.charAt(n+1)==="/"){const c=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););s.nsp=e.substring(c,n)}else s.nsp="/";const a=e.charAt(n+1);if(a!==""&&Number(a)==a){const c=n+1;for(;++n;){const u=e.charAt(n);if(u==null||Number(u)!=u){--n;break}if(n===e.length)break}s.id=Number(e.substring(c,n+1))}if(e.charAt(++n)){const c=this.tryParse(e.substr(n));if(ag.isPayloadValid(s.type,c))s.data=c;else throw new Error("invalid payload")}return s}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Pt.CONNECT:return W1(n);case Pt.DISCONNECT:return n===void 0;case Pt.CONNECT_ERROR:return typeof n=="string"||W1(n);case Pt.EVENT:case Pt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&_k.indexOf(n[0])===-1);case Pt.ACK:case Pt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ek{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=Sk(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Tk=Object.freeze(Object.defineProperty({__proto__:null,Decoder:ag,Encoder:Ck,get PacketType(){return Pt},protocol:wk},Symbol.toStringTag,{value:"Module"}));function Gr(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const Rk=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class HE extends Tn{constructor(e,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Gr(e,"open",this.onopen.bind(this)),Gr(e,"packet",this.onpacket.bind(this)),Gr(e,"error",this.onerror.bind(this)),Gr(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var s,a,c;if(Rk.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const u={type:Pt.EVENT,data:n};if(u.options={},u.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const y=this.ids++,g=n.pop();this._registerAckCallback(y,g),u.id=y}const f=(a=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||a===void 0?void 0:a.writable,d=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!f||(d?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u)),this.flags={},this}_registerAckCallback(e,n){var s;const a=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(a===void 0){this.acks[e]=n;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let f=0;f<this.sendBuffer.length;f++)this.sendBuffer[f].id===e&&this.sendBuffer.splice(f,1);n.call(this,new Error("operation has timed out"))},a),u=(...f)=>{this.io.clearTimeoutFn(c),n.apply(this,f)};u.withError=!0,this.acks[e]=u}emitWithAck(e,...n){return new Promise((s,a)=>{const c=(u,f)=>u?a(u):s(f);c.withError=!0,n.push(c),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((a,...c)=>s!==this._queue[0]?void 0:(a!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...c)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Pt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(s=>String(s.id)===e)){const s=this.acks[e];delete this.acks[e],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Pt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Pt.EVENT:case Pt.BINARY_EVENT:this.onevent(e);break;case Pt.ACK:case Pt.BINARY_ACK:this.onack(e);break;case Pt.DISCONNECT:this.ondisconnect();break;case Pt.CONNECT_ERROR:this.destroy();const s=new Error(e.data.message);s.data=e.data.data,this.emitReserved("connect_error",s);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let s=!1;return function(...a){s||(s=!0,n.packet({type:Pt.ACK,id:e,data:a}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Pt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(e===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,e.data)}}}function vo(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}vo.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};vo.prototype.reset=function(){this.attempts=0};vo.prototype.setMin=function(t){this.ms=t};vo.prototype.setMax=function(t){this.max=t};vo.prototype.setJitter=function(t){this.jitter=t};class Xm extends Tn{constructor(e,n){var s;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Xf(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new vo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const a=n.parser||Tk;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new pk(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const a=Gr(n,"open",function(){s.onopen(),e&&e()}),c=f=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",f),e?e(f):this.maybeReconnectOnOpen()},u=Gr(n,"error",c);if(this._timeout!==!1){const f=this._timeout,d=this.setTimeoutFn(()=>{a(),c(new Error("timeout")),n.close()},f);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(a),this.subs.push(u),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Gr(e,"ping",this.onping.bind(this)),Gr(e,"data",this.ondata.bind(this)),Gr(e,"error",this.onerror.bind(this)),Gr(e,"close",this.onclose.bind(this)),Gr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Kf(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let s=this.nsps[e];return s?this._autoConnect&&!s.active&&s.connect():(s=new HE(this,e,n),this.nsps[e]=s),s}_destroy(e){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let s=0;s<n.length;s++)this.engine.write(n[s],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(a=>{a?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",a)):e.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const xc={};function Vu(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=mk(t,e.path||"/socket.io"),s=n.source,a=n.id,c=n.path,u=xc[a]&&c in xc[a].nsps,f=e.forceNew||e["force new connection"]||e.multiplex===!1||u;let d;return f?d=new Xm(s,e):(xc[a]||(xc[a]=new Xm(s,e)),d=xc[a]),n.query&&!e.query&&(e.query=n.queryKey),d.socket(n.path,e)}Object.assign(Vu,{Manager:Xm,Socket:HE,io:Vu,connect:Vu});class $E extends vE{constructor(){super(),this.state=new Map,this.initial=new Map,this.metadata=new Map,this.log=new Map}createMatch(e,n){this.initial.set(e,n.initialState),this.setState(e,n.initialState),this.setMetadata(e,n.metadata)}setMetadata(e,n){this.metadata.set(e,n)}setState(e,n,s){if(s&&s.length>0){const a=this.log.get(e)||[];this.log.set(e,[...a,...s])}this.state.set(e,n)}fetch(e,n){const s={};return n.state&&(s.state=this.state.get(e)),n.metadata&&(s.metadata=this.metadata.get(e)),n.log&&(s.log=this.log.get(e)||[]),n.initialState&&(s.initialState=this.initial.get(e)),s}wipe(e){this.state.delete(e),this.metadata.delete(e)}listMatches(e){return[...this.metadata.entries()].filter(([,n])=>e?!(e.gameName!==void 0&&n.gameName!==e.gameName||e.where!==void 0&&(e.where.isGameover!==void 0&&n.gameover!==void 0!==e.where.isGameover||e.where.updatedBefore!==void 0&&n.updatedAt>=e.where.updatedBefore||e.where.updatedAfter!==void 0&&n.updatedAt<=e.where.updatedAfter)):!0).map(([n])=>n)}}class Ak extends Map{constructor(e){super(),this.key=e,(JSON.parse(localStorage.getItem(this.key))||[]).forEach(s=>this.set(...s))}sync(){const e=[...this.entries()];localStorage.setItem(this.key,JSON.stringify(e))}set(e,n){return super.set(e,n),this.sync(),this}delete(e){const n=super.delete(e);return this.sync(),n}}class Ok extends $E{constructor(e="bgio"){super();const n=s=>new Ak(`${e}_${s}`);this.state=n("state"),this.initial=n("initial"),this.metadata=n("metadata"),this.log=n("log")}}function Mk(t,e){if(t.ctx.gameover!==void 0)return null;if(t.ctx.activePlayers){for(const n of Object.keys(e))if(n in t.ctx.activePlayers)return n}else if(t.ctx.currentPlayer in e)return t.ctx.currentPlayer;return null}class Pk extends wE{constructor({game:e,bots:n,storageKey:s,persist:a}){const c={},u={};if(e&&e.ai&&n)for(const g in n){const v=n[g];u[g]=new v({game:e,enumerate:e.ai.enumerate,seed:e.seed})}const f=({playerID:g,...v})=>{const S=c[g];S!==void 0&&S(d(g,v))},d=bE(e),p={send:f,sendAll:g=>{for(const v in c)f({playerID:v,...g})}},y=a?new Ok(s):new $E;super(e,y,p),this.connect=(g,v)=>{c[g]=v},this.subscribe(({state:g,matchID:v})=>{if(!n)return;const S=Mk(g,u);S!==null&&setTimeout(async()=>{const w=await u[S].play(g,S);await this.onUpdate(w.action,g._stateID,v,w.action.payload.playerID)},100)})}}class Nk extends Gf{constructor({master:e,...n}){super(n),this.master=e}sendChatMessage(e,n){const s=[e,n,this.credentials];this.master.onChatMessage(...s)}sendAction(e,n){this.master.onUpdate(n,e._stateID,this.matchID,this.playerID)}requestSync(){this.master.onSync(this.matchID,this.playerID,this.credentials,this.numPlayers)}connect(){this.setConnectionStatus(!0),this.master.connect(this.playerID,e=>this.notifyClient(e)),this.requestSync()}disconnect(){this.setConnectionStatus(!1)}updateMatchID(e){this.matchID=e,this.connect()}updatePlayerID(e){this.playerID=e,this.connect()}updateCredentials(e){this.credentials=e,this.connect()}}const eS=new Map;function Dk({bots:t,persist:e,storageKey:n}={}){return s=>{const{gameKey:a,game:c}=s;let u;const f=eS.get(a);return f&&f.bots===t&&f.storageKey===n&&f.persist===e&&(u=f.master),u||(u=new Pk({game:c,bots:t,persist:e,storageKey:n}),eS.set(a,{master:u,bots:t,persist:e,storageKey:n})),new Nk({master:u,...s})}}const tS=Vu;class kk extends Gf{constructor({socket:e,socketOpts:n,server:s,...a}){super(a),this.server=s,this.socket=e,this.socketOpts=n}sendAction(e,n){const s=[n,e._stateID,this.matchID,this.playerID];this.socket.emit("update",...s)}sendChatMessage(e,n){const s=[e,n,this.credentials];this.socket.emit("chat",...s)}connect(){if(!this.socket)if(this.server){let e=this.server;e.search(/^https?:\/\//)==-1&&(e="http://"+this.server),e.slice(-1)!="/"&&(e=e+"/"),this.socket=tS(e+this.gameName,this.socketOpts)}else this.socket=tS("/"+this.gameName,this.socketOpts);this.socket.on("patch",(e,n,s,a,c)=>{this.notifyClient({type:"patch",args:[e,n,s,a,c]})}),this.socket.on("update",(e,n,s)=>{this.notifyClient({type:"update",args:[e,n,s]})}),this.socket.on("sync",(e,n)=>{this.notifyClient({type:"sync",args:[e,n]})}),this.socket.on("matchData",(e,n)=>{this.notifyClient({type:"matchData",args:[e,n]})}),this.socket.on("chat",(e,n)=>{this.notifyClient({type:"chat",args:[e,n]})}),this.socket.on("connect",()=>{this.requestSync(),this.setConnectionStatus(!0)}),this.socket.on("disconnect",()=>{this.setConnectionStatus(!1)})}disconnect(){this.socket.close(),this.socket=null,this.setConnectionStatus(!1)}requestSync(){if(this.socket){const e=[this.matchID,this.playerID,this.credentials,this.numPlayers];this.socket.emit("sync",...e)}}updateMatchID(e){this.matchID=e,this.requestSync()}updatePlayerID(e){this.playerID=e,this.requestSync()}updateCredentials(e){this.credentials=e,this.requestSync()}}function nS({server:t,socketOpts:e}={}){return n=>new kk({server:t,socketOpts:e,...n})}function VE(t){var e;const{game:n,numPlayers:s,board:a,multiplayer:c,enhancer:u}=t;let{loading:f,debug:d}=t;return f===void 0&&(f=()=>ke.createElement("div",{className:"bgio-loading"},"connecting...")),e=class extends ke.Component{constructor(y){super(y),d===void 0&&(d=y.debug),this.client=C5({game:n,debug:d,numPlayers:s,multiplayer:c,matchID:y.matchID,playerID:y.playerID,credentials:y.credentials,enhancer:u})}componentDidMount(){this.unsubscribe=this.client.subscribe(()=>this.forceUpdate()),this.client.start()}componentWillUnmount(){this.client.stop(),this.unsubscribe()}componentDidUpdate(y){this.props.matchID!=y.matchID&&this.client.updateMatchID(this.props.matchID),this.props.playerID!=y.playerID&&this.client.updatePlayerID(this.props.playerID),this.props.credentials!=y.credentials&&this.client.updateCredentials(this.props.credentials)}render(){const y=this.client.getState();if(y===null)return ke.createElement(f);let g=null;return a&&(g=ke.createElement(a,{...y,...this.props,isMultiplayer:!!c,moves:this.client.moves,events:this.client.events,matchID:this.client.matchID,playerID:this.client.playerID,reset:this.client.reset,undo:this.client.undo,redo:this.client.redo,log:this.client.log,matchData:this.client.matchData,sendChatMessage:this.client.sendChatMessage,chatMessages:this.client.chatMessages})),ke.createElement("div",{className:"bgio-client"},g)}},e.propTypes={matchID:as.string,playerID:as.string,credentials:as.string,debug:as.any},e.defaultProps={matchID:"default",playerID:null,credentials:null,debug:!0},e}class jk{constructor({server:e,gameComponents:n,playerName:s,playerCredentials:a}){this.client=new T5({server:e}),this.gameComponents=n,this.playerName=s||"Visitor",this.playerCredentials=a,this.matches=[]}async refresh(){try{this.matches=[];const e=await this.client.listGames();for(const n of e){if(!this._getGameComponents(n))continue;const{matches:s}=await this.client.listMatches(n);this.matches.push(...s)}}catch(e){throw new Error("failed to retrieve list of matches ("+e+")")}}_getMatchInstance(e){for(const n of this.matches)if(n.matchID===e)return n}_getGameComponents(e){for(const n of this.gameComponents)if(n.game.name===e)return n}_findPlayer(e){for(const n of this.matches)if(n.players.some(s=>s.name===e))return n}async join(e,n,s){try{let a=this._findPlayer(this.playerName);if(a)throw new Error("player has already joined "+a.matchID);if(a=this._getMatchInstance(n),!a)throw new Error("game instance "+n+" not found");const c=await this.client.joinMatch(e,n,{playerID:s,playerName:this.playerName});a.players[Number.parseInt(s)].name=this.playerName,this.playerCredentials=c.playerCredentials}catch(a){throw new Error("failed to join match "+n+" ("+a+")")}}async leave(e,n){try{const s=this._getMatchInstance(n);if(!s)throw new Error("match instance not found");for(const a of s.players)if(a.name===this.playerName){await this.client.leaveMatch(e,n,{playerID:a.id.toString(),credentials:this.playerCredentials}),delete a.name,delete this.playerCredentials;return}throw new Error("player not found in match")}catch(s){throw new Error("failed to leave match "+n+" ("+s+")")}}async disconnect(){const e=this._findPlayer(this.playerName);e&&await this.leave(e.gameName,e.matchID),this.matches=[],this.playerName="Visitor"}async create(e,n){try{const s=this._getGameComponents(e);if(!s)throw new Error("game not found");if(n<s.game.minPlayers||n>s.game.maxPlayers)throw new Error("invalid number of players "+n);await this.client.createMatch(e,{numPlayers:n})}catch(s){throw new Error("failed to create match for "+e+" ("+s+")")}}}function Lk(t){return new jk(t)}class qE extends ke.Component{constructor(){super(...arguments),this.state={playerName:this.props.playerName,nameErrorMsg:""},this.onClickEnter=()=>{this.state.playerName!==""&&this.props.onEnter(this.state.playerName)},this.onKeyPress=e=>{e.key==="Enter"&&this.onClickEnter()},this.onChangePlayerName=e=>{const n=e.target.value.trim();this.setState({playerName:n,nameErrorMsg:n.length>0?"":"empty player name"})}}render(){return ke.createElement("div",null,ke.createElement("p",{className:"phase-title"},"Choose a player name:"),ke.createElement("input",{type:"text",value:this.state.playerName,onChange:this.onChangePlayerName,onKeyPress:this.onKeyPress}),ke.createElement("span",{className:"buttons"},ke.createElement("button",{className:"buttons",onClick:this.onClickEnter},"Enter")),ke.createElement("br",null),ke.createElement("span",{className:"error-msg"},this.state.nameErrorMsg,ke.createElement("br",null)))}}qE.defaultProps={playerName:""};class Uk extends ke.Component{constructor(){super(...arguments),this._createSeat=e=>e.name||"[free]",this._createButtonJoin=(e,n)=>ke.createElement("button",{key:"button-join-"+e.matchID,onClick:()=>this.props.onClickJoin(e.gameName,e.matchID,""+n)},"Join"),this._createButtonLeave=e=>ke.createElement("button",{key:"button-leave-"+e.matchID,onClick:()=>this.props.onClickLeave(e.gameName,e.matchID)},"Leave"),this._createButtonPlay=(e,n)=>ke.createElement("button",{key:"button-play-"+e.matchID,onClick:()=>this.props.onClickPlay(e.gameName,{matchID:e.matchID,playerID:""+n,numPlayers:e.players.length})},"Play"),this._createButtonSpectate=e=>ke.createElement("button",{key:"button-spectate-"+e.matchID,onClick:()=>this.props.onClickPlay(e.gameName,{matchID:e.matchID,numPlayers:e.players.length})},"Spectate"),this._createInstanceButtons=e=>{const n=e.players.find(a=>a.name===this.props.playerName),s=e.players.find(a=>!a.name);return n&&s?this._createButtonLeave(e):s?this._createButtonJoin(e,s.id):n?ke.createElement("div",null,[this._createButtonPlay(e,n.id),this._createButtonLeave(e)]):this._createButtonSpectate(e)}}render(){const e=this.props.match;let n="OPEN";return e.players.some(s=>!s.name)||(n="RUNNING"),ke.createElement("tr",{key:"line-"+e.matchID},ke.createElement("td",{key:"cell-name-"+e.matchID},e.gameName),ke.createElement("td",{key:"cell-status-"+e.matchID},n),ke.createElement("td",{key:"cell-seats-"+e.matchID},e.players.map(s=>this._createSeat(s)).join(", ")),ke.createElement("td",{key:"cell-buttons-"+e.matchID},this._createInstanceButtons(e)))}}class Ik extends ke.Component{constructor(e){super(e),this.state={selectedGame:0,numPlayers:2},this._createGameNameOption=(n,s)=>ke.createElement("option",{key:"name-option-"+s,value:s},n.game.name),this._createNumPlayersOption=n=>ke.createElement("option",{key:"num-option-"+n,value:n},n),this._createNumPlayersRange=n=>Array.from({length:n.maxPlayers+1}).map((s,a)=>a).slice(n.minPlayers),this.onChangeNumPlayers=n=>{this.setState({numPlayers:Number.parseInt(n.target.value)})},this.onChangeSelectedGame=n=>{const s=Number.parseInt(n.target.value);this.setState({selectedGame:s,numPlayers:this.props.games[s].game.minPlayers})},this.onClickCreate=()=>{this.props.createMatch(this.props.games[this.state.selectedGame].game.name,this.state.numPlayers)};for(const n of e.games){const s=n.game;s.minPlayers||(s.minPlayers=1),s.maxPlayers||(s.maxPlayers=4),console.assert(s.maxPlayers>=s.minPlayers)}this.state={selectedGame:0,numPlayers:e.games[0].game.minPlayers}}render(){return ke.createElement("div",null,ke.createElement("select",{value:this.state.selectedGame,onChange:e=>this.onChangeSelectedGame(e)},this.props.games.map((e,n)=>this._createGameNameOption(e,n))),ke.createElement("span",null,"Players:"),ke.createElement("select",{value:this.state.numPlayers,onChange:this.onChangeNumPlayers},this._createNumPlayersRange(this.props.games[this.state.selectedGame].game).map(e=>this._createNumPlayersOption(e))),ke.createElement("span",{className:"buttons"},ke.createElement("button",{onClick:this.onClickCreate},"Create")))}}var cr;(function(t){t.ENTER="enter",t.PLAY="play",t.LIST="list"})(cr||(cr={}));class FE extends ke.Component{constructor(e){super(e),this.state={phase:cr.ENTER,playerName:"Visitor",runningMatch:null,errorMsg:"",credentialStore:{}},this._createConnection=n=>{const s=this.state.playerName;this.connection=Lk({server:n.lobbyServer,gameComponents:n.gameComponents,playerName:s,playerCredentials:this.state.credentialStore[s]})},this._updateCredentials=(n,s)=>{this.setState(a=>{const c=Object.assign({},a.credentialStore);return c[n]=s,{credentialStore:c}})},this._updateConnection=async()=>{await this.connection.refresh(),this.forceUpdate()},this._enterLobby=n=>{this._startRefreshInterval(),this.setState({playerName:n,phase:cr.LIST})},this._exitLobby=async()=>{this._clearRefreshInterval(),await this.connection.disconnect(),this.setState({phase:cr.ENTER,errorMsg:""})},this._createMatch=async(n,s)=>{try{await this.connection.create(n,s),await this.connection.refresh(),this.setState({})}catch(a){this.setState({errorMsg:a.message})}},this._joinMatch=async(n,s,a)=>{try{await this.connection.join(n,s,a),await this.connection.refresh(),this._updateCredentials(this.connection.playerName,this.connection.playerCredentials)}catch(c){this.setState({errorMsg:c.message})}},this._leaveMatch=async(n,s)=>{try{await this.connection.leave(n,s),await this.connection.refresh(),this._updateCredentials(this.connection.playerName,this.connection.playerCredentials)}catch(a){this.setState({errorMsg:a.message})}},this._startMatch=(n,s)=>{const a=this.connection._getGameComponents(n);if(!a){this.setState({errorMsg:"game "+n+" not supported"});return}let c;if(s.numPlayers>1&&(c=this.props.gameServer?nS({server:this.props.gameServer}):nS()),s.numPlayers==1){const d=a.game.maxPlayers,p={};for(let y=1;y<d;y++)p[y+""]=m5;c=Dk({bots:p})}const f={app:this.props.clientFactory({game:a.game,board:a.board,debug:this.props.debug,multiplayer:c}),matchID:s.matchID,playerID:s.numPlayers>1?s.playerID:"0",credentials:this.connection.playerCredentials};this._clearRefreshInterval(),this.setState({phase:cr.PLAY,runningMatch:f})},this._exitMatch=()=>{this._startRefreshInterval(),this.setState({phase:cr.LIST,runningMatch:null})},this._getPhaseVisibility=n=>this.state.phase!==n?"hidden":"phase",this.renderMatches=(n,s)=>n.map(a=>{const{matchID:c,gameName:u,players:f}=a;return ke.createElement(Uk,{key:"instance-"+c,match:{matchID:c,gameName:u,players:Object.values(f)},playerName:s,onClickJoin:this._joinMatch,onClickLeave:this._leaveMatch,onClickPlay:this._startMatch})}),this._createConnection(this.props)}componentDidMount(){const e=K1.load("lobbyState")||{};e.phase&&e.phase===cr.PLAY&&(e.phase=cr.LIST),e.phase&&e.phase!==cr.ENTER&&this._startRefreshInterval(),this.setState({phase:e.phase||cr.ENTER,playerName:e.playerName||"Visitor",credentialStore:e.credentialStore||{}})}componentDidUpdate(e,n){const s=this.state.playerName,a=this.state.credentialStore[s];if(n.phase!==this.state.phase||n.credentialStore[s]!==a||n.playerName!==s){this._createConnection(this.props),this._updateConnection();const c={phase:this.state.phase,playerName:s,credentialStore:this.state.credentialStore};K1.save("lobbyState",c,{path:"/"})}e.refreshInterval!==this.props.refreshInterval&&this._startRefreshInterval()}componentWillUnmount(){this._clearRefreshInterval()}_startRefreshInterval(){this._clearRefreshInterval(),this._currentInterval=setInterval(this._updateConnection,this.props.refreshInterval)}_clearRefreshInterval(){clearInterval(this._currentInterval)}render(){const{gameComponents:e,renderer:n}=this.props,{errorMsg:s,playerName:a,phase:c,runningMatch:u}=this.state;return n?n({errorMsg:s,gameComponents:e,matches:this.connection.matches,phase:c,playerName:a,runningMatch:u,handleEnterLobby:this._enterLobby,handleExitLobby:this._exitLobby,handleCreateMatch:this._createMatch,handleJoinMatch:this._joinMatch,handleLeaveMatch:this._leaveMatch,handleExitMatch:this._exitMatch,handleRefreshMatches:this._updateConnection,handleStartMatch:this._startMatch}):ke.createElement("div",{id:"lobby-view",style:{padding:50}},ke.createElement("div",{className:this._getPhaseVisibility(cr.ENTER)},ke.createElement(qE,{key:a,playerName:a,onEnter:this._enterLobby})),ke.createElement("div",{className:this._getPhaseVisibility(cr.LIST)},ke.createElement("p",null,"Welcome, ",a),ke.createElement("div",{className:"phase-title",id:"match-creation"},ke.createElement("span",null,"Create a match:"),ke.createElement(Ik,{games:e,createMatch:this._createMatch})),ke.createElement("p",{className:"phase-title"},"Join a match:"),ke.createElement("div",{id:"instances"},ke.createElement("table",null,ke.createElement("tbody",null,this.renderMatches(this.connection.matches,a))),ke.createElement("span",{className:"error-msg"},s,ke.createElement("br",null))),ke.createElement("p",{className:"phase-title"},"Matches that become empty are automatically deleted.")),ke.createElement("div",{className:this._getPhaseVisibility(cr.PLAY)},u&&ke.createElement(u.app,{matchID:u.matchID,playerID:u.playerID,credentials:u.credentials}),ke.createElement("div",{className:"buttons",id:"match-exit"},ke.createElement("button",{onClick:this._exitMatch},"Exit match"))),ke.createElement("div",{className:"buttons",id:"lobby-exit"},ke.createElement("button",{onClick:this._exitLobby},"Exit lobby")))}}FE.propTypes={gameComponents:as.array.isRequired,lobbyServer:as.string,gameServer:as.string,debug:as.bool,clientFactory:as.func,refreshInterval:as.number};FE.defaultProps={debug:!1,clientFactory:VE,refreshInterval:2e3};function zk({title:t="Connecting",description:e="Hang tight while we get everything ready.",roomCode:n,topRightSlot:s}){return b.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-gradient-to-br from-primary/10 via-background to-secondary/10",children:[s,b.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_top,_theme(colors.primary/15),transparent_60%)]"}),b.jsx("div",{className:"relative flex min-h-screen flex-col items-center justify-center px-6 py-16",children:b.jsxs("div",{className:"w-full max-w-md space-y-6 rounded-3xl border border-border/50 bg-background/90 p-10 text-center shadow-xl backdrop-blur",children:[b.jsx("div",{className:"flex items-center justify-center",children:b.jsx(dy,{className:"h-12 w-12 animate-spin text-primary"})}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h2",{className:"text-2xl font-heading",children:t}),e?b.jsx("p",{className:"text-sm text-muted-foreground",children:e}):null]}),n?b.jsx("div",{className:"flex justify-center",children:b.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border border-border/70 bg-muted/40 px-4 py-2 font-mono text-xs uppercase tracking-[0.3em] text-muted-foreground",children:["Room",b.jsx("span",{className:"text-foreground",children:n})]})}):null]})})]})}const Qm=()=>typeof window>"u"?"Player":localStorage.getItem("playerName")||"Player",Bk=t=>{if(typeof window>"u")return t;const e=sessionStorage.getItem("musicshowdown.pendingRole");if(e==="host"||e==="peer")return sessionStorage.removeItem("musicshowdown.pendingRole"),e;const n=sessionStorage.getItem("musicshowdown.lastRole");return n==="host"||n==="peer"?n:t},Hk=t=>{typeof window<"u"&&sessionStorage.setItem("musicshowdown.lastRole",t)},$k=(t,e)=>{const n=typeof window<"u"?sessionStorage.getItem("musicshowdown.pendingRole"):null,s=eg(t);if(s&&!n)return typeof window<"u"&&sessionStorage.setItem("musicshowdown.lastRole",s.role),s;s&&n&&a5(t);const a=Bk(e);if(a==="peer")return EE(Qm());const c=TE(t,a,Qm());return typeof window<"u"&&sessionStorage.setItem("musicshowdown.lastRole",c.role),c};function Vk({roomCode:t,defaultRole:e,board:n}){const[s,a]=T.useState(()=>$k(t,e)),c=T.useCallback(v=>{a(S=>{const w=typeof v=="function"?v(S):v;return Hk(w.role),w})},[]),u=T.useCallback(v=>{const S=v.trim().slice(0,24);S&&(typeof window<"u"&&localStorage.setItem("playerName",S),c(w=>w.role==="spectator"?{...w,playerName:S}:TE(t,w.role,S)))},[t,c]),f=T.useCallback(v=>{c(S=>{const w=v?.trim().slice(0,24)||S.playerName;return i5(t,w)})},[t,c]),d=T.useCallback(v=>{c(S=>{if(S.role==="host")return S;const w=S.playerName.trim()||Qm();return{...r5(t,w,v),role:"peer"}})},[t,c]),p=T.useCallback(()=>{c(v=>v.role!=="peer"||v.playerID===Mc?v:(s5(t,v.playerID),EE(v.playerName)))},[t,c]),y=T.useMemo(()=>{const v=n;return function(w){return b.jsx(v,{...w,identity:s,isHost:s.role==="host",updatePlayerName:u,promoteToHost:f,claimSeat:d,releaseSeat:p})}},[n,s,f,u,d,p]),g=T.useMemo(()=>VE({game:t5,board:y,multiplayer:hs.P2P({isHost:s.role==="host"}),numPlayers:Hc,debug:!1,loading:()=>b.jsx(zk,{title:"Connecting to your room",description:"Setting the stage and syncing players. Hang tightthis should only take a moment.",roomCode:t,topRightSlot:b.jsx("div",{className:"absolute top-4 right-4 flex items-center gap-2",children:b.jsx(_y,{})})})}),[y,s.role]);return b.jsx(g,{matchID:t,playerID:s.role==="spectator"?void 0:s.playerID,credentials:s.role==="spectator"?void 0:s.credentials},`${t}:${s.playerID}:${s.credentials}:${s.role}`)}const Qf=DA({component:AP}),qk=Cf({getParentRoute:()=>Qf,path:"/music-showdown/",component:LP}),YE=Cf({getParentRoute:()=>Qf,path:"/music-showdown/game/$roomCode",component:()=>{const{roomCode:t}=YE.useParams();return typeof window<"u"&&(sessionStorage.getItem("musicshowdown.pendingRole")||sessionStorage.setItem("musicshowdown.pendingRole","peer")),b.jsx(Vk,{roomCode:t,defaultRole:"peer",board:c5})}}),Fk=Cf({getParentRoute:()=>Qf,path:"*",component:l5}),Yk=Qf.addChildren([qk,YE,Fk]),Gk=$A({routeTree:Yk});r2.createRoot(document.getElementById("root")).render(b.jsx(FA,{router:Gk}));
